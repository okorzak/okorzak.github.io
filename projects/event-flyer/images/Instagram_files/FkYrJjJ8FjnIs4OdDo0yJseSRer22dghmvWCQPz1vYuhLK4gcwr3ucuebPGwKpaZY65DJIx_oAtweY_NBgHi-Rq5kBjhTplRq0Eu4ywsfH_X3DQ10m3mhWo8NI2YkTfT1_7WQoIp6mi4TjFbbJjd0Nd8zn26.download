;/*FB_PKG_DELIM*/

__d("EBEnableUnifiedAttachment",[],(function(a,b,c,d,e,f){"use strict";var g=!1;function a(a){g=a}function b(){return g}f.setEbEnableUnifiedAttachment=a;f.getEbEnableUnifiedAttachment=b}),66);
__d("EBReenrollmentTriggerHandler",["EBLogger","LSIntEnum","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("EBLogger").EBLogger().tags(["DefaultEBReenrollmentTriggerHandler"]);a=function(){function a(){}var b=a.prototype;b.handle=function(a){i.debug("Running default reenrollment trigger handler for reason: "+(h||(h=d("LSIntEnum"))).toNumber(a.deviceReenrollmentReason));for(a of c("MWEncryptedBackupsLocalStorageEntryEnum").members())i.debug("Clearing local storage key: "+a),a!==c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_OPTED_OUT_OF_AUTO_RESTORE&&d("MWEBUseLocalStorage").mwEBDeleteLocalStorageEntry(a)};return a}();g.DefaultEBReenrollmentTriggerHandler=a}),98);
__d("EBReenrollmentTriggerListener",["EBReenrollmentTriggerHandler","LSIntEnum","MWEBODSCategory","MWEBODSEntityName.enum","ODS","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(){function a(a){this.$1=new Map(),this.$4=new(d("EBReenrollmentTriggerHandler").DefaultEBReenrollmentTriggerHandler)(),this.$2=a,this.$5()}var b=a.prototype;b.$5=function(){var a=this;this.$3==null&&(this.$3=d("ReQL").fromTableAscending(this.$2.tables.encrypted_backups_reenrollment_trigger).take(1).subscribe(function(b,e){if(e.operation==="add"||e.operation==="put"){(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_COUNTERS,"reenrollment_trigger");b=a.getDefaultHandler();if(e.value.deviceReenrollmentReason!=null){var g;b=(g=a.$1.get((i||(i=d("LSIntEnum"))).unwrapIntEnum(e.value.deviceReenrollmentReason)))!=null?g:b}b.handle(e.value);c("promiseDone")(a.$2.runInTransaction(function(a){return a.encrypted_backups_reenrollment_trigger["delete"](e.value.pk)},"readwrite",void 0,void 0,f.id+":77"))}}));return this.$3};b.attachHandler=function(a,b){this.$1.set(a,b)};b.getDefaultHandler=function(){return this.$4};return a}(),k;function l(a){if(k!=null)return k;k=new j(a);return k}function a(a){k==null&&l(a);return k}g.initEBReenrollmentTriggerListener=l;g.getEBReenrollmentTriggerListener_TESTING_ONLY=a}),98);
__d("EBUnifyLegacyMediaUpload",[],(function(a,b,c,d,e,f){"use strict";var g=!1;function a(a){g=a}function b(){return g}f.setEnableUnifyLegacyMediaUpload=a;f.getEnableUnifyLegacyMediaUpload=b}),66);
__d("EncryptedBackupTaskIssuedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5726");b=d("FalcoLoggerInternal").create("encrypted_backup_task_issued",a);e=b;g["default"]=e}),98);
__d("EncryptedBackupsDYITypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NotStarted:0,InProgress:1,Completed:2,Failed:3});c=b("$InternalEnum")({Armadillo:0,Instamadillo:1});f.EncryptedBackupsDYIState=a;f.EncryptedBackupsDYIConfig=c}),66);
__d("EncryptedBackupsUtils",["FBLogger","WAJids","WAStanzaUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";f=function(a){return Date.now()-a>d("WATimeUtils").DAY_MILLISECONDS*30};var h=function(a){return Date.now()-a>d("WATimeUtils").DAY_MILLISECONDS*30};function a(a,b,c,d,e){d={frankingTag:d==null?void 0:d.frankingTag,reportingTag:d==null?void 0:d.reportingTag};d={frankingMetadata:d,messageId:b,senderId:a,timestampMs:c};return{encryptedTransportMessage:e,metadata:d}}function b(a){return JSON.stringify([a.author,a.chat,a.externalId])}function e(a){a=JSON.parse(a);if(!Array.isArray(a))throw c("FBLogger")("wmi_eb").mustfixThrow("Unable to parse msg id string as proper json");if(a.length!==3)throw c("FBLogger")("wmi_eb").mustfixThrow("Parsed array should have 3 components");var b=d("WAJids").unsafeCoerceToUserJid(a[0]),e=d("WAJids").unsafeCoerceToChatJid(a[1]);a=d("WAStanzaUtils").toStanzaId(a[2]);return{author:b,chat:e,externalId:a}}g.entryOlderThan30Days=f;g.timestampOlderThan30Days=h;g.asBackupMessage=a;g.convertWAMsgIdToStringId=b;g.convertStringIdToWAMsgId=e}),98);
__d("MAWExtractMsFromExternalId",["I64","MAWExternalId","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=2199023255551;function a(a){try{a=(i||(i=d("I64"))).of_string_opt(a);if(a!=null){return(a=k(a))!=null?a:0}}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to convert externalId to number: ",""])),a)}return 0}function k(a){a=Number((i||(i=d("I64"))).to_string(i.and_(i.lsr_(a,22),i.of_float(j))));return d("MAWExternalId").getThreeMostSignificantDigitsForSortOrderTimestamp(a)}g.extractMsFromStanzaId=a;g.extractMsFromExternalId=k}),98);
__d("IGDWEBUploadMessageUtils",["I64","MAWExtractMsFromExternalId","WALogger","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){var c=d("MAWExtractMsFromExternalId").extractMsFromExternalId((i||(i=d("I64"))).of_string(a));c==null&&d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[sortOrder] Could not extract ms from externalId: ",""])),a);return d("WATimeUtils").castToMillisTime(Number(b)*1e3+(c!=null?c:0))}g.generateProtobufServerTs=a}),98);
__d("WAArmadilloBackupCommon.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.name="Subprotocol";a.internalSpec={payload:[1,d("WAProtoConst").TYPES.BYTES],version:[2,d("WAProtoConst").TYPES.INT32]};g.SubprotocolSpec=a}),98);
__d("WAArmadilloBackupMessage.pb",["WAArmadilloBackupCommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};a.name="BackupMessage";a.internalSpec={metadata:[1,(e=d("WAProtoConst")).TYPES.MESSAGE,b],encryptedTransportMessage:[2,e.TYPES.BYTES],encryptedTransportEvent:[5,e.TYPES.MESSAGE,d("WAArmadilloBackupCommon.pb").SubprotocolSpec],encryptedTransportLocallyTransformedMessage:[6,e.TYPES.MESSAGE,d("WAArmadilloBackupCommon.pb").SubprotocolSpec],miTransportAdminMessage:[7,e.TYPES.MESSAGE,d("WAArmadilloBackupCommon.pb").SubprotocolSpec],__oneofs__:{payload:["encryptedTransportMessage","encryptedTransportEvent","encryptedTransportLocallyTransformedMessage","miTransportAdminMessage"]}};b.name="BackupMessage$Metadata";b.internalSpec={senderId:[1,e.TYPES.STRING],messageId:[2,e.TYPES.STRING],timestampMs:[3,e.TYPES.INT64],frankingMetadata:[4,e.TYPES.MESSAGE,c],payloadVersion:[5,e.TYPES.INT32],futureProofBehavior:[6,e.TYPES.INT32],threadTypeTag:[7,e.TYPES.INT32],clientTimestampMs:[8,e.TYPES.INT64]};c.name="BackupMessage$Metadata$FrankingMetadata";c.internalSpec={frankingTag:[3,e.TYPES.BYTES],reportingTag:[4,e.TYPES.BYTES]};g.BackupMessageSpec=a;g.BackupMessage$MetadataSpec=b;g.BackupMessage$Metadata$FrankingMetadataSpec=c}),98);
__d("WAByteArray",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b;var c=new Uint8Array(a);for(a=a-1;a>=0;a--)c[a]=b&255,b>>>=8;return c}function b(a){return a.buffer.slice(a.byteOffset,a.byteLength+a.byteOffset)}function c(a,b){if(!a||!b)return!1;a=new Uint8Array(a);b=new Uint8Array(b);var c=a.length,d=b.length;if(c!==d)return!1;for(d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}f.intToBytes=a;f.uint8ArrayToBuffer=b;f.compareArrayBuffer=c}),66);
__d("EncryptedBackupsUploadEntity",["$InternalEnum","EncryptedBackupsUtils","IGDWEBUploadMessageUtils","WAArmadilloBackupMessage.pb","WAByteArray","WAGlobals","WAJids","WATimeUtils","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a instanceof ArrayBuffer?new Uint8Array(a):a}var h=b("$InternalEnum").Mirrored(["NEEDS_BACKUP","COMPLETED","NEEDS_BACKUP_RETRY","PERMANENT_FAILURE","EXPIRED","THREAD_DELETED","DELETION_PURGED","MESSAGE_DELETED","UPLOADING"]);b=b("$InternalEnum")({INVALID:"-1",IMAGE:"0",PTT:"1",DOCUMENT:"3",VIDEO:"4",GIF:"5",STICKER:"6",XMA:"22",MESSENGER_PREVIEW:"25"});function c(a){return a}function i(a){var b=a.messageApplication,c=a.msgId,e=a.reportingMeta;a=a.sortOrderMs;var f=d("WAJids").authorToUserId(c.author,d("WAJids").extractUserId(d("WAGlobals").getMyUserJid()));return d("encodeProtobuf").encodeProtobuf(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,d("EncryptedBackupsUtils").asBackupMessage(f,c.externalId,a,e!=null?e:{frankingKey:null,frankingTag:null,frankingVersion:null,reportingContent:null,reportingTag:null},b)).readByteArrayView()}function e(a){return d("WAByteArray").uint8ArrayToBuffer(a)}function f(a){var b=a.attachmentContext,c=a.backupDirective,e=a.dbMsgType,f=a.instanceKey,g=a.isOpenEB,j=a.isRetroactiveUpload,k=a.legacyAttachmentContext,l=a.messageApplication,m=a.msgId,n=a.originalMsgProtocolId,o=a.reportingMeta,p=a.retryCount,q=a.senderId,r=a.serverTs,s=a.sortOrderMs,t=a.tags;a=a.triggerSource;l=i({messageApplication:l,msgId:m,reportingMeta:o,sortOrderMs:c.actionType===4?d("IGDWEBUploadMessageUtils").generateProtobufServerTs(m.externalId,r):s});o={backupActionType:c.actionType,backupDirective:c,dbMsgType:e,failTsMs:d("WATimeUtils").castToMillisTime(0),instanceKey:f,isOpenEB:g,isRetroactiveUpload:j,msgId:m,msgIdKey:d("EncryptedBackupsUtils").convertWAMsgIdToStringId(m),msgType:"text",originalMsgProtocolId:n,protobuf:l,retryCount:p,senderId:q,serverTs:r,sortOrderMs:s,supplementalKey:c.supplementalKey,tags:t,triggerSource:a,uploadStatus:h.NEEDS_BACKUP,uploadTsSec:d("WATimeUtils").unixTime()};b!=null&&(o=babelHelpers["extends"]({},o,{attachmentContext:b,legacyAttachmentContext:k,msgType:"media"}));return o}g.toEbBackupMessageBytes=a;g.EbUploadStatus=h;g.AttachmentContextMediaType=b;g.castToEBQueueId=c;g.encodeBackupMessage=i;g.getEbBackupMessageBytesBuffer=e;g.asEBUploadEntity=f}),98);
__d("EphemeralMediaViewMode",[],(function(a,b,c,d,e,f){a=Object.freeze({READ_ONCE:0,REPLAYABLE:1,PERMANENT:2});f["default"]=a}),66);
__d("LSContactGender",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FEMALE:1,MALE:2,NEUTER:3});f["default"]=a}),66);
__d("LSContactIdType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FBID:1,SMS_LOCAL_ID:2});f["default"]=a}),66);
__d("LSContactUserBlockAction",[],(function(a,b,c,d,e,f){a=Object.freeze({MN_UNBLOCK:0,MN_BLOCK:1,FB_UNBLOCK:2,FB_BLOCK:3});f["default"]=a}),66);
__d("LSContactViewerRelationship",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,NOT_CONTACT:1,CONTACT_OF_VIEWER:2,FACEBOOK_FRIEND:3,SOFT_CONTACT:4});f["default"]=a}),66);
__d("LSContactWorkForeignEntityType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FOREIGN:1,NOT_FOREIGN:2,NOT_FOREIGN_LIMITED:3});f["default"]=a}),66);
__d("LSDecryptProtobuf",["LSArrayGetObjectAt","LSBase64Decode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop","LSSymmetricEncryptionCreateDecryptedData.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][decryptProtobuf] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[8]=a[1]==null?c.i64.cast([0,0]):a[1],d[2]=c.i64.of_int32(a[3].length),c.i64.eq(d[2],c.i64.cast([0,1]))?c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[3],c.i64.cast([0,0])).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(e){return d[14]=d[12].get("epoch_anon_id"),d[15]=d[12].get("epoch_root_key"),d[16]=c.createArray(),d[26]=(d[16].push(c.i64.cast([0,32])),d[16]),c.i64.ge(d[8],c.i64.cast([0,3]))?c.resolve(d[17]=void 0):c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[2]).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[17]=d[26]}])},function(e){return c.i64.ge(d[8],c.i64.cast([0,4]))?(d[26]="_",d[18]=["message_key_in_epoch",d[26],c.blobs.to_string(d[14]),d[26],"cipher_version",d[26],c.i64.to_string(d[8]),d[26],"thread",d[26],a[2]==null?"":a[2]].join("")):(c.i64.ge(d[8],c.i64.cast([0,3]))?(d[27]="_",d[26]=["message_key_in_epoch",d[27],c.blobs.to_string(d[14]),d[27],"cipher_version",d[27],c.i64.to_string(d[8]),d[27],"thread",d[27],a[2]==null?"":a[2]].join("")):(c.i64.ge(d[8],c.i64.cast([0,2]))?(d[28]="_",d[27]=["message_key_in_epoch",d[28],c.blobs.to_string(d[14]),d[28],"cipher_version",d[28],c.i64.to_string(d[8])].join("")):d[27]=["message_key_in_epoch","_",c.blobs.to_string(d[14])].join(""),d[26]=d[27]),d[18]=d[26]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[18]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[19],d[17],d[15],d[16]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!1:d[21]=!0,d[21]?c.resolve(d[22]=void 0):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[20],c.i64.cast([0,0])).then(function(a){return a=a,d[26]=a[0],d[27]=a[1],a})},function(a){return d[22]=d[26]}])},function(e){return c.blobs.neq(d[22],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[0]).then(function(a){return a=a,d[26]=a[0],a})},function(e){return c.blobs.neq(d[26],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedData.nop"),d[22],c.blobs.of_string(["message_thread","_",a[2]].join("")),d[26]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[27]=d[29]}]):c.resolve(d[27]=void 0)},function(a){return c.blobs.neq(d[27],void 0)?c.resolve(d[28]=d[27]):c.sequence([function(a){return d[29]=["Failed to decrypt message. Epoch Anon ID: ",c.blobs.to_string(d[14]),", Encryption Version: ",c.i64.to_string(d[8])].join(""),function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsDecryptProtobufStoredProcedure] ","",d[29]].join("")),d[30]=c.createArray(),void 0!==void 0?d[31]=(d[30].push(void 0),d[30]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDecryptProtobufStoredProcedure",[d[29]].join(""),d[30],c.i64.cast([0,3]))},function(a){return d[28]=void 0}])},function(a){return d[23]=d[28]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsDecryptProtobufStoredProcedure] Decryption message key is null"),d[26]=c.createArray(),void 0!==void 0?d[27]=(d[26].push(void 0),d[26]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDecryptProtobufStoredProcedure","Decryption message key is null",d[26],c.i64.cast([0,3]))},function(a){return d[23]=void 0}])},function(a){return c.blobs.neq(d[23],void 0)?(a=[d[23],void 0],d[24]=a[0],d[25]=a[1],a):(d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,101])),d[26].set("stored_procedure","LSEncryptedBackupsDecryptProtobufStoredProcedure"),d[26].set("error_message",""),a=[void 0,d[26]],d[24]=a[0],d[25]=a[1]),a=[d[24],d[25]],d[3]=a[0],d[4]=a[1]}]):c.resolve((d[12]=c.i64.of_int32(a[3].length),c.i64.eq(d[12],c.i64.cast([0,0]))?(d[15]=new c.Map(),d[15].set("error_code",c.i64.cast([0,102])),d[15].set("stored_procedure","LSEncryptedBackupsDecryptProtobufStoredProcedure"),d[15].set("error_message",""),e=[void 0,d[15]],d[13]=e[0],d[14]=e[1]):(d[15]=new c.Map(),d[15].set("error_code",c.i64.cast([0,103])),d[15].set("stored_procedure","LSEncryptedBackupsDecryptProtobufStoredProcedure"),d[15].set("error_message",""),e=[void 0,d[15]],d[13]=e[0],d[14]=e[1]),e=[d[13],d[14]],d[3]=e[0],d[4]=e[1]))},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[9]="Finishing execution. Execution time: ",d[10]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[11]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][decryptProtobuf] ",d[7],d[9],d[7],d[10],d[7],d[11]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[12]=",",d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"decryptProtobuf",[d[9],d[12],d[10],d[12],d[11]].join(""),d[13],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[3],d[4]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsDecryptProtobufStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSHotEmojiSize",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SMALL:1,MEDIUM:2,LARGE:3});f["default"]=a}),66);
__d("LSVerifyContactRowExistsStoredProcedure",["LSSynchronousPromise","LSVerifyContactRowExists","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyContactRowExists"),e.id,e.contactIdType,e.profilePictureUrl,e.name,e.contactType,e.profilePictureFallbackUrl,e.profilePictureUrlExpirationTimestampMs,e.urlExpirationTimestampMs,e.normalizedNameForSearch,e.isMemorialized,e.isBlocked,e.blockedByViewerStatus,e.canViewerMessage,e.isSelf,e.authorityLevel,e.capabilities,e.capabilities2,e.workForeignEntityType,e.gender,e.contactViewerRelationship,e.secondaryName,e.firstName,e.friendshipStatus);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWAckLevel",["LSIntEnum","LSMessageSendStatus"],(function(a,b,c,d,e,f,g){"use strict";var h,i={clock:0,contentGone:-3,contentTooBig:-4,contentUnuploadable:-5,expired:-2,failed:-1,failedRetryable:-9,inactiveReceived:-6,partialOptimistic:-8,played:4,read:3,received:2,senderBackFillSent:-7,sent:1};function a(a){return a>0}function b(a){switch(a){case i.partialOptimistic:return(h||(h=d("LSIntEnum"))).ofNumber(0);case i.clock:return(h||(h=d("LSIntEnum"))).ofNumber(1);case i.sent:case i.received:case i.read:case i.played:return(h||(h=d("LSIntEnum"))).ofNumber(2);case i.failedRetryable:return(h||(h=d("LSIntEnum"))).ofNumber(5);default:return(h||(h=d("LSIntEnum"))).ofNumber(4)}}function e(a){switch(a){case i.partialOptimistic:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NONE);case i.clock:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER);case i.sent:case i.received:case i.read:case i.played:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SERVER_RECEIVED);case i.failedRetryable:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").RETRIABLE_ERROR);default:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NON_RETRIABLE_ERROR)}}g.ACK=i;g.isMsgAuthoritative=a;g.levelToMessagingSendStatusV2=b;g.levelToMessagingSendStatus=e}),98);
__d("WAAckLevel",[],(function(a,b,c,d,e,f){"use strict";a={SENDER_BACKFILL_SENT:-7,INACTIVE_RECEIVED:-6,CONTENT_UNUPLOADABLE:-5,CONTENT_TOO_BIG:-4,CONTENT_GONE:-3,EXPIRED:-2,FAILED:-1,CLOCK:0,SENT:1,RECEIVED:2,READ:3,PLAYED:4};f.ACK=a}),66);
__d("MAWAdminMsgHelpers",["MAWCreateParticipantAdminMsg","MAWExternalId","MAWRemoveParticipantAdminMsg","WAAckLevel","WAGlobals","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h="Facebook User",i=1;function a(a){return a==null||a===""?h:a}function b(a){return a!=null?d("WAJids").userIdFromJid(a):h}function c(a,b,c,e){return{ack:d("WAAckLevel").ACK.SENT,id:{author:d("WAJids").AUTHOR_SYSTEM,chat:a,externalId:d("MAWExternalId").generateExternalId()},msgContent:d("MAWCreateParticipantAdminMsg").createParticipantAdminMessage(c==="@me"?d("WAGlobals").getMyUserJid():c,b),serverTs:e,ts:e,type:"Admin"}}function e(a,b,c,e){return{ack:d("WAAckLevel").ACK.SENT,id:{author:d("WAJids").AUTHOR_SYSTEM,chat:a,externalId:d("MAWExternalId").generateExternalId()},msgContent:d("MAWRemoveParticipantAdminMsg").removeParticipantAdminMessage(c==="@me"?d("WAGlobals").getMyUserJid():c,b),serverTs:e,ts:e,type:"Admin"}}function f(a,b){return babelHelpers["extends"]({},j(a,b),{version:i})}function j(a,b){var c,e=d("WAGlobals").getMyUserJid();b=b==="@me"?e:b;if(b===e)c={adminMsgContent:[d("WAJids").userIdFromJid(a)],adminType:"currentUserPromotedParticipant"};else if(b==null)c=a===e?{adminMsgContent:[],adminType:"currentUserGotPromoted"}:{adminMsgContent:[d("WAJids").userIdFromJid(a)],adminType:"participantGotPromoted"};else{b=d("WAJids").userIdFromJid(b);c=a===e?{adminMsgContent:[b],adminType:"participantPromotedYou"}:{adminMsgContent:[b,d("WAJids").userIdFromJid(a)],adminType:"participantPromotedParticipant"}}return c}function k(a,b,c,e){b=j(b,c);return{ack:d("WAAckLevel").ACK.SENT,id:{author:d("WAJids").AUTHOR_SYSTEM,chat:a,externalId:d("MAWExternalId").generateExternalId()},msgContent:b,serverTs:e,ts:e,type:"Admin"}}function l(a,b){return babelHelpers["extends"]({},m(a,b),{version:i})}function m(a,b){var c,e=d("WAGlobals").getMyUserJid();b=b==="@me"?e:b;if(b===e)c=a===e?{adminMsgContent:[],adminType:"currentUserSelfDemoted"}:{adminMsgContent:[d("WAJids").userIdFromJid(a)],adminType:"currentUserDemotedParticipant"};else if(b==null)c=a===e?{adminMsgContent:[],adminType:"currentUserGotDemoted"}:{adminMsgContent:[d("WAJids").userIdFromJid(a)],adminType:"participantGotDemoted"};else{var f=d("WAJids").userIdFromJid(b);c=a===e?{adminMsgContent:[f],adminType:"participantDemotedYou"}:{adminMsgContent:[f,d("WAJids").userIdFromJid(a)],adminType:b===a?"participantSelfDemoted":"participantDemotedParticipant"}}return c}function n(a,b,c,e){b=m(b,c);return{ack:d("WAAckLevel").ACK.SENT,id:{author:d("WAJids").AUTHOR_SYSTEM,chat:a,externalId:d("MAWExternalId").generateExternalId()},msgContent:b,serverTs:e,ts:e,type:"Admin"}}function o(a,b,c,e){var f=[],g=b.subject.content;if(g==null)return;b.subject.user===d("WAGlobals").getMyUserJid()?(b="currentUserNamedGroup",f.push(g)):c==null?(b="unkonwnUserNamedGroup",f.push(g)):(b="participantNamedGroup",f.push(c,g));return{ack:d("WAAckLevel").ACK.SENT,id:{author:d("WAJids").AUTHOR_SYSTEM,chat:a,externalId:d("MAWExternalId").generateExternalId()},msgContent:{adminMsgContent:f,adminType:b},serverTs:e,ts:e,type:"Admin"}}function p(a,b){a=q(a,b);if(a==null)return;return babelHelpers["extends"]({},a,{version:i})}function q(a,b){var c,e=[];if(a===d("WAGlobals").getMyUserJid())switch(b){case"all_member_add":c="currentUserSetAddModeAllMembers";break;case"admin_add":c="currentUserSetAddModeAdminOnly";break}else if(a!=null){e.push(d("WAJids").userIdFromJid(a));switch(b){case"all_member_add":c="participantSetAddModeAllMembers";break;case"admin_add":c="participantSetAddModeAdminOnly";break}}else switch(b){case"all_member_add":c="serverSetAddModeAllMembers";break;case"admin_add":c="serverSetAddModeAdminOnly";break}if(c==null)return;return{adminMsgContent:e,adminType:c}}function r(a,b,c,e){c=q(c,b);if(c==null)return;return{ack:d("WAAckLevel").ACK.SENT,id:{author:d("WAJids").AUTHOR_SYSTEM,chat:a,externalId:d("MAWExternalId").generateExternalId()},msgContent:c,serverTs:e,ts:e,type:"Admin"}}g.UNKNOWN_USER=h;g.maybeUnknownParticipantName=a;g.createAdminMsgContactId=b;g.createParticipantAddAdminMessage=c;g.createParticipantRemoveAdminMsg=e;g.createParticipantPromoteAdminMessage=f;g.createParticipantPromoteAdminMsg=k;g.createParticipantDemoteAdminMessage=l;g.createParticipantDemoteAdminMsg=n;g.createGroupNameChangeAdminMsg=o;g.createMemberAddModeChangeAdminMessage=p;g.createMemberAddModeChangeAdminMsg=r}),98);
__d("MAWCreateParticipantAdminMsg",["MAWAdminMsgHelpers","WAGlobals"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){switch(a){case 1:return{adminMsgContent:[b],adminType:"participantAddedYou"};case 2:return{adminMsgContent:[b,c],adminType:"participantAddedYouAndOneUser"};default:return{adminMsgContent:[b,a.toString()],adminType:"participantAddedYouAndMoreThanOneUsers"}}}function i(a,b,c){switch(a){case 1:return{adminMsgContent:[b],adminType:"currentUserAddedOneParticipant"};case 2:return{adminMsgContent:[b,c],adminType:"currentUserAddedTwoParticipant"};default:return{adminMsgContent:[b,a.toString()],adminType:"currentUserAddedMoreThanTwoParticipant"}}}function j(a,b,c,d){switch(a){case 1:return{adminMsgContent:[b,c],adminType:"participantAddedOneUser"};case 2:return{adminMsgContent:[b,c,d],adminType:"participantAddedTwoUser"}}return{adminMsgContent:[b,c,a.toString()],adminType:"participantAddedMoreThanTwoUser"}}function a(a,b,c,e){e=e==null?b.map(d("MAWAdminMsgHelpers").createAdminMsgContactId):e;var f=e[0];e=e[1];c=c==null?d("MAWAdminMsgHelpers").createAdminMsgContactId(a):d("MAWAdminMsgHelpers").maybeUnknownParticipantName(c);if(a===d("WAGlobals").getMyUserJid())return i(b.length,d("MAWAdminMsgHelpers").maybeUnknownParticipantName(f),d("MAWAdminMsgHelpers").maybeUnknownParticipantName(e));return b.includes(d("WAGlobals").getMyUserJid())?h(b.length,d("MAWAdminMsgHelpers").maybeUnknownParticipantName(c),d("MAWAdminMsgHelpers").maybeUnknownParticipantName(b[0]===d("WAGlobals").getMyUserJid()?e:f)):j(b.length,c,d("MAWAdminMsgHelpers").maybeUnknownParticipantName(f),d("MAWAdminMsgHelpers").maybeUnknownParticipantName(e))}g.createParticipantAdminMessage=a}),98);
__d("MAWRemoveParticipantAdminMsg",["MAWAdminMsgHelpers","WAGlobals"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){switch(a){case 1:return{adminMsgContent:[b],adminType:"participantRemovedYou"};case 2:return{adminMsgContent:[b,c],adminType:"participantRemovedYouAndOneUser"};default:return{adminMsgContent:[b,a.toString()],adminType:"participantRemovedYouAndMoreThanOneUsers"}}}function i(a,b,c,d){switch(a){case 1:return d?{adminMsgContent:[],adminType:"currentUserLeftGroup"}:{adminMsgContent:[b],adminType:"currentUserRemovedOneParticipant"};case 2:return{adminMsgContent:[b,c],adminType:"currentUserRemovedTwoParticipant"};default:return{adminMsgContent:[b,a.toString()],adminType:"currentUserRemovedMoreThanTwoParticipant"}}}function j(a,b,c,d,e){switch(a){case 1:return e?{adminMsgContent:[b],adminType:"participantLeftGroup"}:{adminMsgContent:[b,c],adminType:"participantRemovedOneUser"};case 2:return{adminMsgContent:[b,c,d],adminType:"participantRemovedTwoUser"}}return{adminMsgContent:[b,c,a.toString()],adminType:"participantRemovedMoreThanTwoUser"}}function a(a,b,c,e){e=e==null?b.map(d("MAWAdminMsgHelpers").createAdminMsgContactId):e;var f=e[0];e=e[1];c=c==null?d("MAWAdminMsgHelpers").createAdminMsgContactId(a):d("MAWAdminMsgHelpers").maybeUnknownParticipantName(c);if(a===d("WAGlobals").getMyUserJid())return i(b.length,d("MAWAdminMsgHelpers").maybeUnknownParticipantName(f),d("MAWAdminMsgHelpers").maybeUnknownParticipantName(e),b[0]===d("WAGlobals").getMyUserJid());return b.includes(d("WAGlobals").getMyUserJid())?h(b.length,c,d("MAWAdminMsgHelpers").maybeUnknownParticipantName(b[0]===d("WAGlobals").getMyUserJid()?e:f)):j(b.length,c,d("MAWAdminMsgHelpers").maybeUnknownParticipantName(f),d("MAWAdminMsgHelpers").maybeUnknownParticipantName(e),b[0]===a)}g.removeParticipantAdminMessage=a}),98);
__d("MAWAdminMsgNormalized",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:return{contactIds:b,contents:[]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:a=b[0];var c=b[1];return{contactIds:[a],contents:[c]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:a=b[0];c=b[1];var e=b[2];return{contactIds:[a,c],contents:[e]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:a=b[0];c=b[1];e=b[2];return{contactIds:[a],contents:[c,e]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION:a=b[0];c=b[1];b[2];return{contactIds:[a],contents:[c]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS:e=b[0];a=b[1];c=b[2];b[3];return{contactIds:[e],contents:[a,c]};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.POLL_UNSENT_UPDATE:default:return{contactIds:[],contents:b}}}g.deconstructContactIdsFromAdminContent=a}),98);
__d("MAWAdminMsgTypesGrouped",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";b=[(a=d("MAWLocalizationType")).LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE,a.LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE,a.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE];c=[a.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME,a.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD,a.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN];e=[a.LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE,a.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE,a.LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE,a.LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE,a.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE,a.LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE];f=[a.LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS,a.LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT,a.LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS,a.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS,a.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT,a.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_TWO_PARTICIPANTS];d=[a.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER,a.LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER,a.LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER,a.LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU,a.LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS,a.LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER,a.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MORE_THAN_TWO_USER,a.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER,a.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_TWO_USER,a.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU,a.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS,a.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU,a.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_MORE_THAN_TWO_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_ONE_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_TWO_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_YOU,a.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_YOU_AND_MORE_THAN_ONE_USER,a.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_YOU_AND_ONE_USER];var h=[a.LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT,a.LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT,a.LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT,a.LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT,a.LOCALIZATION_TYPE.CURRENT_USER_GOT_DEMOTED,a.LOCALIZATION_TYPE.CURRENT_USER_GOT_PROMOTED,a.LOCALIZATION_TYPE.CURRENT_USER_SELF_DEMOTED,a.LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED,a.LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED,a.LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU,a.LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU,a.LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED,a.LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY,a.LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS,a.LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY,a.LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS,a.LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ADMIN_ONLY,a.LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ALL_MEMBERS],i=[a.LOCALIZATION_TYPE.CURRENT_USER_LEFT_GROUP,a.LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP],j=[a.LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP,a.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE,a.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME,a.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO,a.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME,a.LOCALIZATION_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME,a.LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME,a.LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME,a.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME],k=[a.LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP,a.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME,a.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE,a.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME,a.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO,a.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME,a.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME,a.LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP,a.LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME,a.LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME,a.LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME,a.LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME],l=[a.LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE,a.LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE,a.LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE,a.LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE],m=[a.LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED,a.LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED,a.LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED,a.LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED],n=[a.LOCALIZATION_TYPE.TWO_USERS_CONNECTED,a.LOCALIZATION_TYPE.TWO_USERS_CONNECTED_ONE_MSPLIT],o=[a.LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK,a.LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK,a.LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK,a.LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK,a.LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK,a.LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK],p=[a.LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK,a.LOCALIZATION_TYPE.RTC_XMA_FALLBACK],q=[a.LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE,a.LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE],r=[a.LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE,a.LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE,a.LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE],s=[a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS,a.LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET],t=[a.LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE,a.LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE],u=[a.LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL,a.LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL,a.LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_AUDIO_CALL,a.LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_VIDEO_CALL],v=[a.LOCALIZATION_TYPE.CURRENT_USER_AUDIO_CALLED,a.LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_AUDIO_CALL,a.LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_VIDEO_CALL,a.LOCALIZATION_TYPE.CURRENT_USER_VIDEO_CALLED,a.LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL,a.LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL,a.LOCALIZATION_TYPE.PARTICIPANT_AUDIO_CALLED,a.LOCALIZATION_TYPE.PARTICIPANT_VIDEO_CALLED],w=[a.LOCALIZATION_TYPE.CURRENT_USER_CREATED_GROUP,a.LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG,a.LOCALIZATION_TYPE.CURRENT_USER_SENT_EVENT,a.LOCALIZATION_TYPE.CURRENT_USER_SENT_POST,a.LOCALIZATION_TYPE.CURRENT_USER_SENT_REEL,a.LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY,a.LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY_HIGHLIGHT,a.LOCALIZATION_TYPE.CURRENT_USER_RECEIVED_STORY_MENTION_IG,a.LOCALIZATION_TYPE.UNAVAILABLE_SNIPPET,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN,a.LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT,a.LOCALIZATION_TYPE.CURRENT_USER_UNSENT_MESSAGE],x=[a.LOCALIZATION_TYPE.PARTICIPANT_CREATED_GROUP,a.LOCALIZATION_TYPE.UNKNOWN_USER_CREATED_GROUP,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_ATTACHMENT,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_AUDIO,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_GIF,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_IMAGE,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP,a.LOCALIZATION_TYPE.PARTICIPANT_SEND_VIDEO,a.LOCALIZATION_TYPE.PARTICIPANT_SENT_EVENT,a.LOCALIZATION_TYPE.PARTICIPANT_SENT_POST,a.LOCALIZATION_TYPE.PARTICIPANT_SENT_REEL,a.LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY,a.LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY_HIGHLIGHT,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN,a.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT,a.LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE,a.LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE_IN_GROUP,a.LOCALIZATION_TYPE.PARTICIPANT_UNSENT_MESSAGE,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN,a.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT];a=[a.LOCALIZATION_TYPE.EMPTY_SNIPPET];g.cutoverAdminMsgs=b;g.dualThreadCutoverAdminMsgs=c;g.deviceChanges=e;g.currentUserAddRemoveParticipant=f;g.otherUserAddRemoveParticipant=d;g.groupPermissionsChanged=h;g.participantLeftGroup=i;g.chatCustomizedByCurrentUser=j;g.chatCustomizedByOtherUser=k;g.pinnedMessageUpdate=l;g.limitSharingUpdate=m;g.twoUsersConnected=n;g.fallbackMsgFromCurrentUser=o;g.fallbackMsgFromOtherUser=p;g.currentUserBumpsMessage=q;g.otherUserBumpsMessage=r;g.ephemeralSettingChanges=s;g.icdcAlerts=t;g.callActionToNotifyAbout=u;g.callActionNotToNotifyAbout=v;g.otherNonAdminMsgToBeBumped=w;g.otherNonAdminMsgToBeMarkedAsUnread=x;g.otherNonAdminMsgToNotTriggerUpdate=a}),98);
__d("MAWAnimatedImageThumbnailStore",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a){return(a=g.get(a))!=null?a:null}function b(a,b){g.set(a,b)}f.getThumbnailSpec=a;f.setThumbnailSpec=b}),66);
__d("MAWBlockUtils",["I64","LSContactUserBlockAction","LSIntEnum","LSThreadBitOffset","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback,m=[0,31,35,55,56,58,24,25,19,85],n=[0,31,35,55,56,58,24,25,19,85,8,22],o=[35,19,85,56,24,25];function a(){var a=(h||(h=c("useReStore")))();return l(function(e,g){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(e)));if(b==null)return;var h=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey).filter(function(a){return(i||(i=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(15))})));if(h==null)return;b=(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactUserBlockAction").MN_BLOCK))?d("LSThreadBitOffset").clear(m,h.capabilities,h.capabilities2,h.capabilities3,h.capabilities4,h.capabilities5):(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactUserBlockAction").FB_BLOCK))?d("LSThreadBitOffset").clear(n,h.capabilities,h.capabilities2,h.capabilities3,h.capabilities4,h.capabilities5):d("LSThreadBitOffset").set(o,h.capabilities,h.capabilities2,h.capabilities3,h.capabilities4,h.capabilities5);var k=b[0],l=b[1];yield a.runInTransaction(function(a){var b=babelHelpers["extends"]({},h,{capabilities:k,capabilities2:l});return a.threads.put(b)},"readwrite",void 0,void 0,f.id+":137")})())},[a])}g.clearedMnBlockCapabilities=m;g.clearedFbBlockCapabilities=n;g.useChangeThreadBlockCapabilities=a}),98);
__d("MAWMediaPreProcessQpl",["MAWSendQplToServer","Random","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof self.BigInt==="function",i=c("justknobx")._("3427")*1e3;function a(a,b){var e=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);a=d("MAWSendQplToServer").startQplUserFlow(c("qpl")._(1056840460,"718"),{bool:{has_big_int_support:h},string:{preprocess_type:a}},e,i);b&&a.addAnnotations({"int":{input_file_size:b.size},string:{mimetype:b.type}});return a}g.startMediaPreProcessQpl=a}),98);
__d("WABlobToArrayBuffer",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(h||(h=b("Promise")))(function(b,d){var e=new FileReader();e.onload=function(){var a=e.result;a instanceof ArrayBuffer?b(a):d(c("err")("blobToArrayBuffer got error because result is not ArrayBuffer: "+typeof a))};e.onerror=function(){var a;d((a=e.error)!=null?a:c("err")("blobToArrayBuffer got unknown error"))};e.readAsArrayBuffer(a)})}g.blobToArrayBuffer=a}),98);
__d("WABlobToImage",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){var c;return new(g||(g=b("Promise")))(function(b,d){c=new Image();var e=URL.createObjectURL(a),f=function(){return URL.revokeObjectURL(e)};c.onload=function(){b({image:c,releaseImageMemory:f})};c.onerror=function(){f(),d("loadBlobToImage error")};c.src=e})}f.blobToImage=a}),66);
__d("WACalculateBoundOutputSize",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b!=null?g(a.width,a.height,b.width,b.height):{outputWidth:a.width,outputHeight:a.height}}function g(a,b,c,d){var e=a,f=b;a>b?a>c&&(f*=c/e,e=c):f>d&&(e*=d/f,f=d);return{outputWidth:Math.round(Math.max(e,1)),outputHeight:Math.round(Math.max(f,1))}}f.calculateBoundOutputSize=a}),66);
__d("WADecodeImage",["WABlobToImage","WACalculateBoundOutputSize","WATagsLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("WATagsLogger").TAGS(["decodeImage"]);e=typeof self.createImageBitmap==="function"&&typeof self.OffscreenCanvas==="function";f=e?a:c;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){j.DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["start decoding image without DOM: ",""])),a.name);a=(yield self.createImageBitmap(a));var c=a.width,e=a.height;b=d("WACalculateBoundOutputSize").calculateBoundOutputSize({width:c,height:e},b);var f=b.outputWidth;b=b.outputHeight;var g=new self.OffscreenCanvas(f,b);g=m({canvas:g,inputWidth:c,inputHeight:e,outputWidth:f,outputHeight:b,image:a});return g});return k.apply(this,arguments)}function c(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){j.DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["start decoding image with DOM: ",""])),a.name);a=(yield d("WABlobToImage").blobToImage(a));var c=a.image;a=a.releaseImageMemory;var e=c.width,f=c.height;b=d("WACalculateBoundOutputSize").calculateBoundOutputSize({width:e,height:f},b);var g=b.outputWidth;b=b.outputHeight;var h=document.createElement("canvas");h=m({canvas:h,inputWidth:e,inputHeight:f,outputWidth:g,outputHeight:b,image:c});a();return h});return l.apply(this,arguments)}function m(a){var b=a.canvas,c=a.image,d=a.inputWidth,e=a.inputHeight,f=a.outputWidth;a=a.outputHeight;b.width=f;b.height=a;var g=b.getContext("2d");g.fillStyle="rgb(255,255,255)";g.fillRect(0,0,b.width,b.height);g.drawImage(c,0,0,d,e,0,0,f,a);b=g.getImageData(0,0,f,a);return b}g.canDecodeWithoutDOM=e;g.decodeImage=f;g.decodeImageWithoutDOM=a;g.decodeImageWithDOM=c}),98);
__d("WAPromiseTimeout",["Promise","WACustomError"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,c,e){var f=null,g=new(h||(h=b("Promise")))(function(a,b){f=setTimeout(function(){b(new(d("WACustomError").TimeoutError)(e)),clearTimeout(f)},c)});return h.race([a,g])["finally"](function(){clearTimeout(f)})};g.promiseTimeout=a}),98);
__d("XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/webworker_v1/init_script/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("WorkerBundleResource",["TrustedTypesWebWorkerScriptURLPolicy","XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder","getWorkerInitScriptSPINParams","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d,e,f,g=(d=b==null?void 0:b.logImportScriptsErrors)!=null?d:!1,i=(e=b==null?void 0:b.name)!=null?e:a.name,j=new window.URL(a.url,window.location.href).href;if(j==null){var k=new Error("Can't start up worker without a resource url.");k.stack;throw k}var l=c("nullthrows")((f=c("XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder").buildUri({}).addQueryParams(c("getWorkerInitScriptSPINParams")()))==null||(f=f.addQueryParams(h()))==null?void 0:f.toString()),m=new Worker(c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(l),{name:i});for(var n=arguments.length,o=new Array(n>2?n-2:0),p=2;p<n;p++)o[p-2]=arguments[p];m.postMessage({bundleUrl:j,initArgs:o,isDev:!1,resource:a,logImportScriptsErrors:g,type:"sr-init"});return m}function h(){var a=new URLSearchParams(window.location.search),b=new Map();a.forEach(function(a,c){["gk_enable","gk_enable[]","gk_disable","gk_disable[]"].includes(c)&&b.set(c,a)});return b}g.createDedicatedWebWorker=a}),98);
__d("WAMediaWasmWorkerClient",["Promise","WAByteArray","WACustomError","WAMediaWasmWorkerResource","WAPromiseTimeout","WAResultOrError","WATagsLogger","WorkerBundleResource","WorkerClient","WorkerMessagePort","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=d("WATagsLogger").TAGS(["WAMediaWasmWorkerClient"]);c=d("WorkerBundleResource").createDedicatedWebWorker(c("WAMediaWasmWorkerResource"));var y=new(d("WorkerMessagePort").WorkerSyncedMessagePort)(c,"WAMediaWasmWorker");d("WorkerClient").init(y);x.DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initiated."])));y.addMessageListener("log",function(a){var b=a.logType;a=a.message;switch(b){case"dev":x.DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["from worker: ",""])),a);break;case"error":x.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["worker error: ",""])),a);break;default:b}});function a(a){var b=a.input;a=a.eventFlow;return D({operation:"webpCheck",input:d("WAByteArray").uint8ArrayToBuffer(b)},a)}function e(a){var b=a.input;a=a.eventFlow;x.LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["mp4RepairMuxInWorker processing video"])));return D({operation:"mp4RepairMux",input:d("WAByteArray").uint8ArrayToBuffer(b)},a)}function f(a){var b=a.imageData,c=a.quality,e=a.useHdScanConfig;a=a.eventFlow;return D({operation:"progressiveJpegEncode",input:d("WAByteArray").uint8ArrayToBuffer(b.data),height:b.height,width:b.width,quality:c,useHdScanConfig:e},a)}function z(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.file,c=a.quality,d=a.useHdScanConfig,e=a.eventFlow;a=a.maxOutputResolution;var f=(yield b.arrayBuffer());return D({operation:"progressiveJpegEncodeWithFile",input:f,fileName:b.name,fileType:b.type,quality:c,useHdScanConfig:d,maxOutputWidth:a==null?void 0:a.width,maxOutputHeight:a==null?void 0:a.height},e)});return A.apply(this,arguments)}function B(a){x.LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["start prewarming media wasm worker, operation: ",""])),a),y.postMessage({type:"prewarm",operation:a})}var C=function(){var a=0;return function(){return++a}}();function D(a,b){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=C();x.LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["sending input bytes to worker, requestId: ",""])),c);var e=(yield F(b));if(!e.success)return e;e=e.value;var f=e.onMessageOnce("mediaOperationResponse",function(a){return a.requestId===c}),g=a.input?[a.input]:void 0;e.postMessage(babelHelpers["extends"]({},a,{requestId:c,type:"mediaOperationRequest"}),g);b==null||b.addPoint("sent_request_to_media_worker_start");e=(yield f);a=e.output;if(a.success){x.LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",""])),c);b==null||b.addPoint("sent_request_to_media_worker_end",{bool:{isOpfsSyncSupported:a.value.isOpfsSyncSupported}});return d("WAResultOrError").makeResult(a.value.bytes)}x.ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["requestId: ",", error: ",""])),c,a.error.errorMessage);b==null||b.addPoint("sent_request_to_media_worker_fail");return d("WAResultOrError").makeError(a.error.errorType)});return E.apply(this,arguments)}function F(a){a==null||a.addPoint("get_connected_worker_port_start");var b=3e4;return d("WAPromiseTimeout").promiseTimeout(y.fullyConnected,b).then(function(b){a==null||a.addPoint("get_connected_worker_port_end");return d("WAResultOrError").makeResult(b)})["catch"](function(b){a==null||a.addPoint("get_connected_worker_port_fail",{string:{workerPortFailure:b instanceof d("WACustomError").TimeoutError?"timeout":"runtime-error"}});if(b instanceof d("WACustomError").TimeoutError)return d("WAResultOrError").makeError("worker-connection-timeout");x.ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["worker-connection-runtime-error: ",""])),b);return d("WAResultOrError").makeError("worker-connection-runtime-error")})}function G(a){return H.apply(this,arguments)}function H(){H=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=a.file,e=a.maxDimension,f=a.thumbnailBlobByteSizeLimitBytes;a=a.thumbnailQualityPercentageWhenAboveByteSizeLimit;var g=C();x.LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["sending input to worker, requestId: ",""])),g);var h=(yield F());if(!h.success)return h;h=h.value;var i=h.onMessageOnce("mediaGenerateImageThumbnailResponse",function(a){return a.requestId===g}),j=(yield c.arrayBuffer()),k=j?[j]:void 0;h.postMessage({input:j,fileName:c.name,fileType:c.type,maxDimension:e,requestId:g,thumbnailBlobByteSizeLimitBytes:f,thumbnailQualityPercentageWhenAboveByteSizeLimit:a,type:"mediaGenerateImageThumbnailRequest"},k);h=(yield i);x.LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",", success: ",""])),g,h.output.success);if(h.output.success)return d("WAResultOrError").makeResult(h.output.value);x.ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["requestId: ",", error: ",""])),g,h.output.error.errorMessage);return(w||(w=b("Promise"))).reject(h.output.error.errorMessage)});return H.apply(this,arguments)}function I(a,b){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){x.LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["start media storage shadow test"])));var c=C(),e=(yield F());if(!e.success)return d("WAResultOrError").makeError({errorName:"port-init",errorMessage:e.error});e=e.value;var f=e.onMessageOnce("mediaStorageShadowTestResponse",function(a){return a.requestId===c});e.postMessage({input:a,requestId:c,storageType:b,type:"mediaStorageShadowTestRequest"});e=(yield f);a=e.output;if(a.success){x.LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["received storage results from worker, requestId: ",""])),c);return d("WAResultOrError").makeResult(a.value)}x.ERROR(v||(v=babelHelpers.taggedTemplateLiteralLoose(["media storage test failed for storageType: ",", error: ",""])),b,a.error);return d("WAResultOrError").makeError({errorName:a.error.errorName,errorMessage:a.error.errorMessage})});return J.apply(this,arguments)}g.webpCheckInWorker=a;g.mp4RepairMuxInWorker=e;g.progressiveJpegEncodeInWorker=f;g.progressiveJpegEncodeInWorkerWithFile=z;g.prewarmMediaWasmWorker=B;g.getConnectedWorkerPortWithTimeout=F;g.generateImageThumbnailInWorker=G;g.runMediaStorageShadowTestWasmWorker=I}),98);
__d("cometIsMimeTypeForMedia",["FBLogger","UFICommentFileInputAcceptValues"],(function(a,b,c,d,e,f,g){"use strict";var h={file:null,photo:null,video:null},i={"image/gif":"video","image/webp":"video"};function j(a){return a.split(",").map(function(a){return a.trim()}).map(function(a){return a.replace(/\/\*$/,"/")})}function k(a,b,d){h[a]==null&&(h[a]=j(d));d=h[a];if(d==null)throw c("FBLogger")("ufi2").mustfixThrow("CometIsMimeTypeForMedia prefixes can't be null");var e=i[b];return e!=null?e===a:d.some(function(a){return b.startsWith(a)})}function a(a){return k("photo",a,d("UFICommentFileInputAcceptValues").photos)}function b(a){return k("video",a,d("UFICommentFileInputAcceptValues").videos)}function e(a){return k("file",a,d("UFICommentFileInputAcceptValues").files)}g.mimeTypeAcceptStringToArray=j;g.isMimeTypeForPhoto=a;g.isMimeTypeForVideo=b;g.isMimeTypeForFile=e}),98);
__d("MAWImagePreProcess",["MAWGetImageSpec","MAWImageUtils","MAWMediaPreProcessQpl","MWFBLogger","Promise","WABlobToArrayBuffer","WACustomError","WADecodeImage","WAMediaWasmWorkerClient","WAPromiseTimeout","WAResultOrError","asyncToGeneratorRuntime","cometIsMimeTypeForMedia","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p=12e4,q=d("MWFBLogger").MWMediaLogger().tags(["ImagePreProcess"]),r=85,s=["image/heic"];function e(a,e,f,g){g===!0?g={height:c("justknobx")._("187"),width:c("justknobx")._("187")}:g={height:c("justknobx")._("2144"),width:c("justknobx")._("2144")};var h;e?h=a.type==="image/webp"?(o||(o=b("Promise"))).resolve(a):v(a,"image/webp",e,f,g):h=a.type==="image/gif"?(o||(o=b("Promise"))).resolve(a):v(a,"image/jpeg",!1,f,g);f=a.type==="image/gif";return f?h.then(function(a){return(o||(o=b("Promise"))).all([d("MAWGetImageSpec").getImageSpec(a),a])}).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b[0];b=b[1];return{file:b,imageSpec:c,plaintext:yield d("WABlobToArrayBuffer").blobToArrayBuffer(b),thumbnailUrlAndSpec:null,type:u(a,e)}});return function(a){return c.apply(this,arguments)}}()):h.then(function(e){return(o||(o=b("Promise"))).all([B(a,c("justknobx")._("2033")),d("MAWGetImageSpec").getImageSpec(e),e])}).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var f=c[0],g=c[1];c=c[2];return(o||(o=b("Promise"))).resolve({file:c,imageSpec:g,plaintext:yield d("WABlobToArrayBuffer").blobToArrayBuffer(c),thumbnailUrlAndSpec:f,type:u(a,e)})});return function(a){return c.apply(this,arguments)}}())}function f(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){var f=a.URL.createObjectURL(b),g=e===!0?c("justknobx")._("2545"):c("justknobx")._("2033");g=(yield d("MAWImageUtils").urlToThumbnailSpec(f,g));var h={height:g.height,width:g.width};return{file:b,imageSpec:h,thumbnailSpec:g,type:u(b,e),url:f}});return t.apply(this,arguments)}function u(a,b){return b===!0?"sticker":a.type==="image/gif"?"animated_image":"image"}function v(a,b,c,d,e){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){q.DEBUG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["start image transcode ",""])),a.name);var h=d("MAWMediaPreProcessQpl").startMediaPreProcessQpl("image",a);h.addAnnotations({"int":{total_number_of_files:f!=null?f:1},string:{targetMimetype:c}});var i=function(){return y(a,c,r,e,g).then(function(a){return a.success?a.value:(o||(o=b("Promise"))).reject("runtime-error")})["catch"](function(a){q.MUSTFIX(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Error while transcoding image through browser api: ",""])),String(a));h.addPoint("native_encode_failure",{string:{native_encode_error:a.toString()}});return null})};f=c==="image/jpeg"?yield d("WAPromiseTimeout").promiseTimeout(z(a,r,h,g).then(function(a){return a.success?a.value:(o||(o=b("Promise"))).reject(a.error)}),p)["catch"](function(a){a instanceof d("WACustomError").TimeoutError?h.addPoint("mozjpeg_encode_timeout"):h.addPoint("mozjpeg_encode_failure",{string:{mozjpeg_encode_error:a.toString()}});return i()}):yield i();if(f==null){h.endFail("unable_to_transcode_image");throw q.mustfixThrow("unable to transcode image")}h.endSuccess({"int":{compressed_file_size:f.size}});return f});return w.apply(this,arguments)}function x(b,c){b=a.URL.createObjectURL(b);return d("MAWImageUtils").urlToThumbnail(b,c)}function y(b,c,e,f,g){q.DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["start image transcoding through browser api"])));var j=a.URL.createObjectURL(b),k=b.name;return d("MAWImageUtils").urlToFile(j,c,e,f,g).then(function(a){a=a.blob;q.DEBUG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["finished image transcoding through browser api: "," bytes"])),a.size);return d("WAResultOrError").makeResult(new File([a],k,{type:c}))})}function z(a,b,c,d){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){q.DEBUG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["start process image through wasm, file name: ",""])),a.name);d("WAMediaWasmWorkerClient").prewarmMediaWasmWorker("progressiveJpegEncode");c.addPoint("prewarm_worker_started");var f;d("WADecodeImage").canDecodeWithoutDOM&&(f=(yield d("WAMediaWasmWorkerClient").progressiveJpegEncodeInWorkerWithFile({eventFlow:c,file:a,maxOutputResolution:e,quality:b,useHdScanConfig:!0})));if(f==null||!f.success&&f.error==="decode-image-error"){e=(yield d("WADecodeImage").decodeImageWithDOM(a,e)["catch"](function(a){c.addPoint("image_decode_failure");throw a}));c.addPoint("image_decode_success");f=(yield d("WAMediaWasmWorkerClient").progressiveJpegEncodeInWorker({eventFlow:c,imageData:e,quality:b,useHdScanConfig:!0}))}if(!f.success)return f;c.addPoint("pjpeg_encode_success");q.DEBUG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["finished jpeg transcoding through mozjpeg: "," bytes"])),f.value.byteLength);return d("WAResultOrError").makeResult(new File([f.value],a.name,{type:"image/jpeg"}))});return A.apply(this,arguments)}function B(e,f){var g=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a.URL.createObjectURL(e),c=(yield d("MAWImageUtils").urlToThumbnail(b,f));a.URL.revokeObjectURL(b);return c});return function(){return c.apply(this,arguments)}}();if(!d("WADecodeImage").canDecodeWithoutDOM)return g();var h=c("justknobx")._("2338")*1024,i=c("justknobx")._("2340");return d("WAPromiseTimeout").promiseTimeout(d("WAMediaWasmWorkerClient").generateImageThumbnailInWorker({file:e,maxDimension:f,thumbnailBlobByteSizeLimitBytes:h,thumbnailQualityPercentageWhenAboveByteSizeLimit:i}).then(function(a){if(!a.success)throw q.mustfixThrow("urlToFileInWorker error: "+a.error);return{height:a.value.height,jpegThumbnail:a.value.blob,width:a.value.width}})["catch"](function(a){q.catching(a).MUSTFIX(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Error while processing url to thumbnail in worker"])));throw a}),p)["catch"](function(a){return g()})}function C(a){if(a==="image/gif"||a==="image/webp")return!0;return!d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)?!1:!s.includes(a)}g.imagePreprocess=e;g.optimisticImagePreprocess=f;g.getJpegThumbnailInfo=x;g.generateImageThumbnailInWorkerWithFallback=B;g.isSupportedImageFileType=C}),98);
__d("WAWebDataUrlToBlob",["err"],(function(a,b,c,d,e,f,g){var h=/^data:((.*?)(;charset=.*?)?)(;base64)?,/;function a(a){var b=a.match(h);if(!b)throw c("err")("invalid data URI");var d=b[2]?b[1]:"text/plain"+(b[3]||";charset=US-ASCII"),e=!!b[4];a=a.slice(b[0].length);e?b=atob(a):b=decodeURIComponent(a);e=new ArrayBuffer(b.length);a=new Uint8Array(e);for(e=0;e<b.length;e+=1)a[e]=b.charCodeAt(e);return new Blob([a],{type:d})}g.dataURLtoBlob=a}),98);
__d("MAWImageUtils",["FBLogger","MAWAnimatedImageThumbnailStore","MAWDbMedia","MAWFrontendMediaUtils","MAWImagePreProcess","MWPBumpEntityKey","Promise","WABlobToArrayBuffer","WACalculateBoundOutputSize","WAWebDataUrlToBlob","err","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="image/jpeg",j=100,k=c("justknobx")._("2338")*1024,l=c("justknobx")._("2340"),m=c("justknobx")._("2545");function n(a,d){d===void 0&&(d=!0);var e;return new(h||(h=b("Promise")))(function(b,f){e=new Image();var g=/^(?:data|blob):/.test(a);d&&!g&&e.setAttribute("crossOrigin","anonymous");e.onload=b;e.onabort=function(){f(c("FBLogger")("messenger_web").mustfixThrow("Error loading image from provided URL"))};e.onerror=function(){f(c("FBLogger")("messenger_web").mustfixThrow("Wrong blob type"))};e.src=a}).then(function(){return e})}function o(a){return window.fetch(a,{cache:"no-store",method:"GET",mode:"cors"}).then(function(a){if(!a.ok)throw c("FBLogger")("messenger_web").mustfixThrow("Failed to fetch image: %s %s",a.status,a.statusText);return a.blob()}).then(function(a){return new(h||(h=b("Promise")))(function(b,d){var e=new FileReader();e.onloadend=function(){var a=new Image();a.onload=function(){b(a)};a.onerror=function(){d(function(){throw c("FBLogger")("messenger_web").mustfixThrow("Error loading image from blob data")})};typeof e.result==="string"?a.src=e.result:d(c("err")("FileReader result is not a string"))};e.onerror=function(){d(c("err")("Error reading blob as data URL"))};e.readAsDataURL(a)})})["catch"](function(b){throw c("FBLogger")("messenger_web").mustfixThrow("Failed to load image from URL: %s, %s",a,String(b))})}function p(a,c,e,f){e===void 0&&(e=!1);if(a.toBlob)return new(h||(h=b("Promise")))(function(b){var d=f==null?void 0:f/100;a.toBlob(b,c,d)}).then(function(d){var f=k,g=l/100;return e&&d.size>=f?new(h||(h=b("Promise")))(function(b){a.toBlob(b,c,g)}):d});else{var g;d("MWPBumpEntityKey").bumpEntityKey("maw","data_url_to_blob");var i=(g=d("WAWebDataUrlToBlob").dataURLtoBlob)!=null?g:window.dataURLtoBlob;return(h||(h=b("Promise"))).resolve(i(a.toDataURL(c))).then(function(d){var f=k,g=l/100;return e&&d.size>=f?(h||(h=b("Promise"))).resolve(i(a.toDataURL(c,g))):d})}}function q(a,e,f,g,i,j){j===void 0&&(j=!1);j=j?o(a):n(a);return j.then(function(a){var b=a.naturalWidth,c=a.naturalHeight,h=d("WACalculateBoundOutputSize").calculateBoundOutputSize({height:c,width:b},i),j=h.outputHeight,k=h.outputWidth;h=document.createElement("canvas");h.width=k;h.height=j;var l=h.getContext("2d");g!==!0&&s(h);l.drawImage(a,0,0,b,c,0,0,k,j);return p(h,e,!1,f).then(function(a){return{blob:a,height:j,width:k}})})["catch"](function(a){return(h||(h=b("Promise"))).reject(a!=null?a:c("err")("Error loading image from URL"))})}function a(a,b){return n(a).then(function(a){var c=document.createElement("canvas"),e=a.naturalWidth,f=a.naturalHeight,g=c.getContext("2d");f=t(f,e,b);c.width=f.width;c.height=f.height;var h=c.width,j=c.height;r(c);g.drawImage(a,0,0,h,j);return p(c,i,!0).then(function(a){return d("WABlobToArrayBuffer").blobToArrayBuffer(a).then(function(a){return{height:j,jpegThumbnail:a,width:h}})})})}function e(a,b){return n(a).then(function(a){a=t(a.naturalHeight,a.naturalWidth,b);return{height:a.height,width:a.width}})}function r(a){var b=a.getContext("2d");b.fillStyle="rgb(247,247,247)";b.fillRect(0,0,a.width,a.height)}function s(a){var b=a.getContext("2d");b.fillStyle="rgb(255,255,255)";b.fillRect(0,0,a.width,a.height)}function t(a,b,c){b=b!=null?b:c;a=a!=null?a:c;b>a?b>c&&(a*=c/b,b=c):a>c&&(b*=c/a,a=c);return{height:Math.round(Math.max(a,1)),width:Math.round(Math.max(b,1))}}function f(a){return n(a).then(function(a){return{height:a.naturalHeight,width:a.naturalWidth}})}function u(a,e,f,g){g===void 0&&(g=!1);var i=d("MAWAnimatedImageThumbnailStore").getThumbnailSpec(a);if(i)return(h||(h=b("Promise"))).resolve(i);i=q(a,"image/gif",void 0,void 0,void 0,g);return i==null?null:i.then(function(b){var c=new File([b.blob],"gif",{type:"image/gif"});return d("MAWImagePreProcess").generateImageThumbnailInWorkerWithFallback(c,Math.max(f!=null?f:b.width,e!=null?e:b.height)).then(function(b){d("MAWAnimatedImageThumbnailStore").setThumbnailSpec(a,b);return b})})["catch"](function(b){throw c("FBLogger")("messenger_web_media").mustfixThrow("Failed while generating thumbnail for GIF. URL: ",a,b)})}function v(a){var c=a==null?void 0:a.file,e=a==null?void 0:a.width,f=a==null?void 0:a.height;if(c==null||e==null||f==null)return(h||(h=b("Promise"))).resolve(a);var g=d("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(c.type,!0);g=g.mediaType;return g!==d("MAWDbMedia").MEDIA_TYPE.GIF?(h||(h=b("Promise"))).resolve(a):d("MAWImagePreProcess").generateImageThumbnailInWorkerWithFallback(c,Math.max(e,f)).then(function(a){var b=new File([a.jpegThumbnail],"secure_threads_xma_preview_thumbnail",{type:"image/jpeg"});return{file:b,height:a.height,width:a.width}})}g.TYPE_JPEG=i;g.IMG_THUMB_MAX_EDGE=j;g.STICKER_THUMBNAIL_MAX_SIZE=m;g.canvasToBlob=p;g.urlToFile=q;g.urlToThumbnail=a;g.urlToThumbnailSpec=e;g.boundHeightWidth=t;g.urlToImageSpec=f;g.generateGIFThumbnail=u;g.generatePreviewBlobForShare=v}),98);
__d("MAWGetImageSpec",["MAWImageUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function c(b,c){var e=a.URL.createObjectURL(b);return d("MAWImageUtils").urlToFile(e,c!=null?c:b.type).then(function(a){var b=a.height;a=a.width;return{height:b,width:a}})}function e(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=a.URL.createObjectURL(b);var c=(yield d("MAWImageUtils").urlToImageSpec(b));a.URL.revokeObjectURL(b);return c});return h.apply(this,arguments)}g.getImageSpec_DEPRECATED=c;g.getImageSpec=e}),98);
__d("MsgrWebGating",["MAWMpsGating","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("15418")||d("MAWMpsGating").isMpsMessageRendering()}g.isQuotedMessagesInLsEnabled=a}),98);
__d("WAHashUtils",["WABase64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("WABase64").encodeB64UrlSafe(a,b)}function b(a,b){return d("WABase64").encodeB64UrlSafe(a,b)}function c(a){return a}function e(a){return a}function f(a){return""+a.slice(0,3)}g.toPlaintextHash=a;g.toCiphertextHash=b;g.stringToPlaintextHash=c;g.toHashedPlaintextHash=e;g.sanitisePlaintextHash=f}),98);
__d("getReplyContentForNoteReply",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.author,e=a.msgId;c=d("WAJids").authorToUserId(c,b);b=(b=a.quote)==null||(b=b.content.msgContent)==null?void 0:b.content;a=(a=a.quote)==null?void 0:a.content.expirationTs;return{isNoteReply:!0,replyMediaExpirationTimestampMs:a!=null?a*1e3:void 0,replyMessageText:b,replySourceId:e,replyToUserId:c}}g["default"]=a}),98);
__d("MAWBridgeMsg",["FBLogger","LSHotEmojiSize","LSIntEnum","MAWDbMsg","MAWImageUtils","MAWMsgType","MAWUserJidWrapper","MAWVault","MAWXMAUtils","MWPBumpEntityKey","MsgrWebGating","WAAssertUnreachable","WAHashUtils","WAJids","WALogger","WAMsgType","WATimeUtils","getReplyContentForNoteReply","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){if(!d("MsgrWebGating").isQuotedMessagesInLsEnabled())return;if(a.isForwarded===!0&&a.type!==d("MAWMsgType").MSG_TYPE.STICKER)return{replyType:"FORWARD"};if(d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType))return{replyToMsgId:a.msgId,replyToUserId:d("WAJids").authorToUserId(a.author,b),replyType:"HIGHLIGHTS_TAB_POST_REPLY",timestampMs:a.sortOrderMs!=null?d("WATimeUtils").castToMillisTime(a.sortOrderMs):null};if(d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)||d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType)){var c=a.threadJid;c=d("WAJids").interpretAsUserJid(c);var e;c!=null&&(e=d("WAJids").userIdFromJid(c));return d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType)?{mentionedUserId:e!=null?e:b,replyType:"FB_POST_MENTION",timestampMs:a.sortOrderMs!=null?d("WATimeUtils").castToMillisTime(a.sortOrderMs):null}:{mentionedUserId:e!=null?e:b,replyType:"FB_STORY_MENTION",timestampMs:a.sortOrderMs!=null?d("WATimeUtils").castToMillisTime(a.sortOrderMs):null}}if(d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType))return;c=(c=a.quote)==null?void 0:c.content;if(c==null)return;var f=c.author,g=c.expirationTs,h=c.mediaId,i=c.msgContent,j=c.msgId,k=c.plaintextHash,l=c.sourceId,m=c.ts,n=c.type;c=c.xmaMessageType;f=d("WAJids").authorToUserId(f,b);if(n===d("WAMsgType").NOTE_REPLY)return{noteContent:i==null?void 0:i.content,replyMediaExpirationTimestampMs:g!=null?d("WATimeUtils").castToMillisTime(g*1e3):void 0,replyToMsgId:a.msgId,replyToUserId:f,replyType:"LIGHTWEIGHT_STATUS"};if(n===d("MAWMsgType").MSG_TYPE.XMA&&d("MAWXMAUtils").isXMAStoryReply(c)){if(l==null)return;b=d("MAWXMAUtils").isXMAStoryProducerReply(c);return b?{replyType:"FB_PRODUCER_STORY_REPLY",storyMediaId:h!=null?h:void 0,storyMediaPlaintextHash:k,storyMsgType:h!=null?d("MAWMsgType").MSG_TYPE.IMAGE:void 0,storyOwnerId:f,storyUrl:l,timestampMs:m!=null?d("WATimeUtils").castUnixTimeToMillisTime(m):null}:{replyType:"STORY",storyMediaPlaintextHash:k,storyOwnerId:f,storyUrl:l,timestampMs:m!=null?d("WATimeUtils").castUnixTimeToMillisTime(m):null}}if(j!=null)return{isBumpMsg:a.type===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE,replyToMsgId:j,replyType:"MESSAGE"}}function k(a,b,e){var f,g;f=((f=a.quote)==null?void 0:f.content.type)===d("WAMsgType").NOTE_REPLY;if(f)return c("getReplyContentForNoteReply")(a,e);f=(f=a.quote)==null?void 0:f.content;if(d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType)||d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType)){var h=a.author,i=a.mediaId,j=a.msgId,k=d("WAJids").authorToUserId(h,e);if(d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)||d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType)){var l=a.threadJid,m;l!=null&&(m=d("WAJids").interpretAsUserJid(l));m!=null&&(k=d("WAJids").userIdFromJid(m))}i!=null&&a.plaintextHash==null&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.reply_attachment_media_missing_plaintext_hash","bridge_msg_get_reply_content");return{isFBPostMention:d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType),isFBStoryMention:d("MAWXMAUtils").isFBXMAStoryMention(a.xmaMessageType),isIGStoryMention:d("MAWXMAUtils").isIGXMAStoryMention(a.xmaMessageType),isIGXMAStoryShare:d("MAWXMAUtils").isIGXMAStoryShare(a.xmaMessageType),isMsgHighlightsTabFriendUpdatesReply:d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType),isStoryHighlightShare:d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType),isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType),isStoryReply:d("MAWXMAUtils").isXMAStoryReply(a.xmaMessageType),replyMediaExpirationTimestampMs:f==null?void 0:f.expirationTs,replyMediaId:i,replyPlaintextHash:(l=a.plaintextHash)!=null?l:void 0,replySenderIsMe:h===d("WAJids").AUTHOR_ME||k===e,replySourceId:j,replySourceTimestampMs:a.sortOrderMs,replyStatusType:i!=null?d("MAWMsgType").MSG_TYPE.IMAGE:void 0,replyToUserId:k}}if(f==null||(f==null?void 0:f.msgId)==null&&(f==null?void 0:f.sourceId)==null)return;l=f||{};h=l.author;j=l.mediaId;a=l.msgId;i=l.plaintextHash;k=l.sourceId;var n=l.specialTextSize,o=l.ts,p=l.type;l=l.xmaMessageType;o=o!=null?o*1e3:void 0;g=f.type===d("MAWMsgType").MSG_TYPE.TEXT||d("MAWXMAUtils").isXMAExternalLinkShare(l)?(g=f.msgContent)==null?void 0:g.content:void 0;var q=d("WAJids").authorToUserId(h,e),r=f.type===d("MAWMsgType").MSG_TYPE.TEXT?f.msgContent.mentionedJids:void 0;h=h===d("WAJids").AUTHOR_ME||q===e;e=b||{};b=e.replyMediaId;var s=e.replyMediaPreviewHeight,t=e.replyMediaPreviewWidth,u=e.replyMediaUrlFallback,v=e.replyPlaintextHash;e=e.replyXMAId;if(d("MAWXMAUtils").isXMAStoryReply(l)){return{isStoryProducerReply:d("MAWXMAUtils").isXMAStoryProducerReply(l),isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(l),isStoryReply:!0,replyMediaExpirationTimestampMs:f==null?void 0:f.expirationTs,replyMediaId:j,replyPlaintextHash:(f=v!=null?d("WAHashUtils").stringToPlaintextHash(v):i)!=null?f:void 0,replySenderIsMe:h,replySourceId:k,replySourceTimestampMs:o,replyStatusType:j!=null?d("MAWMsgType").MSG_TYPE.IMAGE:void 0,replyToUserId:q}}i=d("MAWImageUtils").boundHeightWidth(s,t,96*.8);f=i.height;k=i.width;return{isIGXMAPostShare:d("MAWXMAUtils").isIGXMAPostShare(l),isIGXMAStoryShare:d("MAWXMAUtils").isIGXMAStoryShare(l),isStoryReply:!1,replyMediaId:b,replyMediaPreviewHeight:p===d("MAWMsgType").MSG_TYPE.STICKER?f:s,replyMediaPreviewWidth:p===d("MAWMsgType").MSG_TYPE.STICKER?k:t,replyMediaUrlFallback:u,replyMentionedJids:r,replyMessageText:g,replyPlaintextHash:v!=null?d("WAHashUtils").stringToPlaintextHash(v):void 0,replySenderIsMe:h,replySourceId:a,replySourceTimestampMs:o,replyStatusType:n===1||n===2||n===3?d("MAWMsgType").MSG_TYPE.STICKER:p,replyToUserId:q,replyXMAId:e}}function a(a){a=a.specialTextSize;switch(a){case 1:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL);case 2:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM);case 3:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE);default:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").NONE)}}function l(a){if(c("justknobx")._("3424")&&a==="media_restore")return"EncryptedBackupsMedia";switch(a){case"eb_restore":return"EncryptedBackups";case"media_restore":return"EncryptedBackupsMedia";case"whatsapp":return"WhatsApp";default:return void 0}}function b(a,b,e){var f,g,i=d("WAJids").extractUserId(d("MAWUserJidWrapper").getMyUserJid());f=((f=a.isForwarded)!=null?f:!1)&&a.type!==d("MAWMsgType").MSG_TYPE.STICKER;g=(g=a.forwardingScore)!=null?g:0;var m=d("MAWDbMsg").getCanonicalTsFromMsg(a),n=k(a,b,i),o=j(a,i),p=d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType),q=d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType),r=d("MAWXMAUtils").isXMAExternalLinkShare(a.xmaMessageType),s=d("MAWXMAUtils").isIGXMAStoryMention(a.xmaMessageType),t=d("MAWXMAUtils").isFBXMAStoryMention(a.xmaMessageType),u=d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType),v=d("MAWXMAUtils").isXMAPostPrivateReply(a.xmaMessageType),w=d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType),x=a.messageExpirationTs!=null&&a.messageExpirationTs<=d("WATimeUtils").unixTime(),y=d("MAWDbMsg").getSortOrderWithFallback(a),z=a.externalId,A=l(a.source);(b==null?void 0:b.replyPlaintextHash)!==(n==null?void 0:n.replyPlaintextHash)&&c("FBLogger")("messenger_web").warn("replyPlaintextHash mismatch. From replyMeta is null: %s, from replyContent is null: %s. Message type: %s",(b==null?void 0:b.replyPlaintextHash)==null,(n==null?void 0:n.replyPlaintextHash)==null,a.type);b=(b==null?void 0:b.replyPlaintextHash)!=null?d("WAHashUtils").stringToPlaintextHash(b==null?void 0:b.replyPlaintextHash):(b=n==null?void 0:n.replyPlaintextHash)!=null?b:void 0;switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:var B=d("MAWVault").isVaulted(a.msgContent.content)?a.msgContent.content:d("MAWVault").vault(a.msgContent.content);return babelHelpers["extends"]({},n,{_META_loaded_as_quoted_msg:e,ack:a.ack,applicationErrorCode:a.applicationErrorCode,chatJid:a.threadJid,commands:a.msgContent.commands,content:B,editCount:a.editCount,ephemeralDurationInSec:(B=a.ephemeralSetting)==null?void 0:B.ephemeralExpirationInSec,externalId:z,forwardingScore:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,mentionedJids:a.msgContent.mentionedJids,msgId:a.msgId,replyContent:o,replyPlaintextHash:b,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,specialTextSize:a.specialTextSize,transportKey:A,ts:m,type_:a.type});case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return babelHelpers["extends"]({},n,{_META_loaded_as_quoted_msg:e,ack:a.ack,applicationErrorCode:a.applicationErrorCode,chatJid:a.threadJid,ephemeralDurationInSec:(B=a.ephemeralSetting)==null?void 0:B.ephemeralExpirationInSec,externalId:z,forwardingScore:g,groupId:a.groupId,groupIndex:a.groupIndex,groupSize:a.groupSize,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,msgId:a.msgId,replyContent:o,replyPlaintextHash:b,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type});case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:return babelHelpers["extends"]({},n,{_META_loaded_as_quoted_msg:e,ack:a.ack,chatJid:a.threadJid,externalId:z,forwardingScore:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,msgId:a.msgId,replyContent:o,replyPlaintextHash:b,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type,unsupportedType:a.msgContent.subtype});case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:return{_META_loaded_as_quoted_msg:e,ack:a.ack,chatJid:a.threadJid,externalId:z,forwardingScore:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,msgId:a.msgId,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers["extends"]({},n,{_META_loaded_as_quoted_msg:e,ack:a.ack,chatJid:a.threadJid,externalId:z,forwardingScore:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,msgId:a.msgId,replyContent:o,replyPlaintextHash:b,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type});case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:return{_META_loaded_as_quoted_msg:e,ack:a.ack,adminContent:[a.msgContent.authorName],adminType:a.msgContent.adminType,chatJid:a.threadJid,externalId:z,forwardingScore:g,isAdminMessage:!0,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,msgId:a.msgId,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_UPDATE:return{_META_loaded_as_quoted_msg:e,ack:a.ack,adminContent:(B=a.msgContent)==null||(B=B.adminMsgContent)==null?void 0:B.map(function(a){return a==="Facebook User"?"0":a}),adminType:(B=a.msgContent)==null?void 0:B.adminType,adminVersion:(B=a.msgContent)==null?void 0:B.version,chatJid:a.threadJid,externalId:z,forwardingScore:g,isAdminMessage:!0,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,msgId:a.msgId,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.REVOKED:return{_META_loaded_as_quoted_msg:e,ack:a.ack,chatJid:a.threadJid,externalId:z,forwardingScore:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:x,isForwarded:f,msgId:a.msgId,originalTs:a.originalTs,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.XMA:var C;B=(B=a.msgContent)==null?void 0:B.content;C=B!=null?d("MAWVault").isVaulted(B)?(C=a.msgContent)==null?void 0:C.content:d("MAWVault").vault(B):void 0;r&&C==null&&d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[MAWBridgeMsg] Missing content for external link share XMA message"])));B=C;return babelHelpers["extends"]({},n,{_META_loaded_as_quoted_msg:e,ack:a.ack,applicationErrorCode:a.applicationErrorCode,chatJid:a.threadJid,commands:(r=a.msgContent)==null?void 0:r.commands,content:B,ephemeralDurationInSec:(C=a.ephemeralSetting)==null?void 0:C.ephemeralExpirationInSec,externalId:z,forwardingScore:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isCollapsed:a.isCollapsed,isExpiredMsg:x,isExpiredXmaMsg:a.isExpiredXmaMsg,isFBPostMention:d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType),isFBStoryMention:t,isForwarded:f,isIGStoryMention:s,isMsgHighlightsTabFriendUpdatesReply:w,isPostPrivateReply:v,isStoryHighlightShare:u,isStoryReaction:q,isStoryShare:p,mentionedJids:(n=a.msgContent)==null?void 0:n.mentionedJids,msgId:a.msgId,replyContent:o,replyPlaintextHash:b,sender:d("WAJids").authorToUserId(a.author,i),sortOrderMs:y,transportKey:A,ts:m,type_:a.type,xmaMessageType:a.xmaMessageType});default:return c("WAAssertUnreachable")(a.type)}}g.getSpecialTextSize=a;g.convertDbMsgSourceToLSTransportKey=l;g.createBridgeMsg=b}),98);
__d("MAWMessageRequestUtil",["I64","LSContactBitOffset","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MWFBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){if(a==="pending"||a==="other"){d("MWFBLogger").MWLogger().debug("isMessagerRequestV2 returns true: folderName is "+a+", contactViewerRelationship is "+(h||(h=d("I64"))).to_string(e.contactViewerRelationship));return!0}var f=d("LSContactBitOffset").hasWithDefault(64,e,!0);if(a==="inbox"&&(h||(h=d("I64"))).equal(e.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT))&&!f){b&&d("MWFBLogger").MWLogger().debug("isMessagerRequestV2 returns true: folderName is inbox, contactViewerRelationship is "+(h||(h=d("I64"))).to_string(e.contactViewerRelationship)+", isViewerUnconnected is false, hasActivity is true");return b}return!1}function k(a){return a==="pending"||a==="other"}function a(a){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?k(a.folderName):!1}function l(a,b){return b!=null?j(a.folderName,(h||(h=d("I64"))).gt(a.lastActivityTimestampMs,h.zero),b[1]):!1}function b(a,b){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?l(a,b):!1}function e(a){return d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?k(a.folderName):!1}f=[8,18,19,34,24,25,122];var m=[21,48];g.isMessageRequestV2=j;g.isOneOnOneMessageRequest=a;g.isOneOnOneMessageRequestV2=b;g.isGroupMessageRequest=e;g.disabledThreadCapabilitiesForIncomingRequest=f;g.enabledThreadCapabilitiesForIncomingRequest=m}),98);
__d("clearedMAWMnRestrictCapabilities",[],(function(a,b,c,d,e,f){"use strict";a=[0,31,35,55,56,58,24,25,35,19];b=a;f["default"]=b}),66);
__d("MAWUpdateLSThreadCapabilities",["fbt","I64","LSBitOffset","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWBlockUtils","MAWCurrentUser","MAWMessageRequestUtil","Promise","ReQL","asyncToGeneratorRuntime","clearedMAWMnRestrictCapabilities","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("MAWCurrentUser").getID(),m=(k||(k=d("I64"))).of_string(l);function a(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(27),c.capabilities);c=babelHelpers["extends"]({},c,{capabilities:e});return a.threads.put(c)}).then(c("emptyFunction"))}function e(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSBitOffset").clear((j||(j=d("LSIntEnum"))).ofNumber(27),c.capabilities);c=babelHelpers["extends"]({},c,{capabilities:e});return a.threads.put(c)}).then(c("emptyFunction"))}function f(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve([void 0,void 0]);var f=d("ReQL").firstAsync(d("LSMessagingThreadTypeUtil").isOneToOne(c.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.participants).getKeyRange(e),d("ReQL").fromTableAscending(a.contacts)).filter(function(a){a=a[1];return!(k||(k=d("I64"))).equal(a.id,m)}).map(function(a){a=a[1];return a}):d("ReQL").empty());return(i||(i=b("Promise"))).all([i.resolve(c),f])}).then(function(e){var f=e[0];if(f==null)return(i||(i=b("Promise"))).resolve();e=e[1];if(e==null)return(i||(i=b("Promise"))).resolve();var g=(k||(k=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").MESSAGE_BLOCKED)),h=k.equal(e.blockedByViewerStatus,j.ofNumber(c("LSContactBlockedByViewerStatus").FULLY_BLOCKED));e=d("LSContactBitOffset").has(66,e);h=h?d("LSThreadBitOffset").clear(d("MAWBlockUtils").clearedFbBlockCapabilities,f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4,f.capabilities5):g?d("LSThreadBitOffset").clear(d("MAWBlockUtils").clearedMnBlockCapabilities,f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4,f.capabilities5):e?d("LSThreadBitOffset").clear(c("clearedMAWMnRestrictCapabilities"),f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4,f.capabilities5):[f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4,f.capabilities5];g=h[0];e=h[1];var l=h[2],m=h[3];h=h[4];return a.threads.put(babelHelpers["extends"]({},f,{capabilities:g,capabilities2:e,capabilities3:l,capabilities4:m,capabilities5:h})).then(c("emptyFunction"))})}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){a=a.threads;c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(c)));if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSThreadBitOffset").set.apply(d("LSThreadBitOffset"),[d("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest].concat(d("LSThreadBitOffset").clear(d("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,c.capabilities,c.capabilities2,c.capabilities3,c.capabilities4,c.capabilities5))),f=e[0],g=e[1],h=e[2],j=e[3];e=e[4];yield a.put(babelHelpers["extends"]({},c,{additionalThreadContext:void 0,capabilities:f,capabilities2:g,capabilities3:h,capabilities4:j,capabilities5:e}))});return o.apply(this,arguments)}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(b==null)return;c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts,["name"]).getKeyRange(c)));if(c==null)return;c=h._(/*BTDS*/"{Inviter Name} invited you to join",[h._param("Inviter Name",c.name)]).toString();var e=d("LSThreadBitOffset").set([105],b.capabilities,b.capabilities2,b.capabilities3,b.capabilities4,b.capabilities5),f=e[0],g=e[1],i=e[2],j=e[3];e=e[4];yield a.threads.put(babelHelpers["extends"]({},b,{capabilities:f,capabilities2:g,capabilities3:i,capabilities4:j,capabilities5:e,snippet:c}))});return q.apply(this,arguments)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)));if(e==null)return;c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.group_invites).getKeyRange(c)));var f=d("LSThreadBitOffset").clear([105],e.capabilities,e.capabilities2,e.capabilities3,e.capabilities4,e.capabilities5),g=f[0],h=f[1],i=f[2],j=f[3];f=f[4];yield a.threads.put(babelHelpers["extends"]({},e,{capabilities:g,capabilities2:h,capabilities3:i,capabilities4:j,capabilities5:f,snippet:void 0}));yield c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield a.group_invites["delete"](b.threadKey,b.inviterId,b.inviteeId)});return function(a){return c.apply(this,arguments)}}())});return s.apply(this,arguments)}g.enableAddMembersTxn=a;g.disableAddMembersTxn=e;g.disableBlockerCapabilitiesTxn=f;g.updateNonMessageRequestThreadTxn=n;g.setGroupInviteTxn=p;g.clearGroupInviteTxn=r}),226);
__d("uniqueArray",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a}function a(a,b){var c=b!=null?b:g,d=[],e=new Set();a.forEach(function(a){var b=c(a);if(e.has(b))return;e.add(b);d.push(a)});return d}f["default"]=a}),66);
__d("MAWBridgeParticipantsUpdatedHandler",["fbt","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSGroupParticipantJoinState","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MAWCurrentUser","MAWJids","MAWMiActMappingTableAPI","MAWUpdateLSThreadCapabilities","Promise","asyncToGeneratorRuntime","uniqueArray"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("MAWCurrentUser").getID(),m=(k||(k=d("I64"))).of_string(l);function a(a,b){b=b.map(function(a){var b=a.chatJid,c=a.type;a=a.userJid;return babelHelpers["extends"]({chatJid:b},x(c),{userJid:a})});return n(a,b)}function e(a,b){b=b.participants.map(function(a){return{chatJid:a.threadJid,isAdmin:a.isAdmin,isInvited:a.isInvited,isSuperAdmin:a.isSuperAdmin,userJid:d("MAWJids").toUserJid(a.fbid)}});return n(a,b)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c=(yield r(a,c));yield (i||(i=b("Promise"))).all(c.map(function(c){var e=c.mawParticipant,f=c.threadKey,g=d("MAWJids").convertChatJidToIntJid(e.userJid);return[a.participants.get(f,g).then(function(c){var d=v(c,e,f);return c!=null?a.participants.put(d):(i||(i=b("Promise"))).all([a.participants.add(d),p(a,g)])}),t(a,g,f,e.isAdmin)]}).flat(Infinity))});return o.apply(this,arguments)}function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:b,isBlocked:!1,isMemorialized:!1,isSelf:l===(k||(k=d("I64"))).to_string(b),workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})});return q.apply(this,arguments)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=c("uniqueArray")(e.map(function(a){return a.chatJid})),g=new Map();yield (i||(i=b("Promise"))).all(f.map(function(b){return d("MAWMiActMappingTableAPI").getThreadKeyForChatJid(a,b).then(function(a){return a!=null&&g.set(b,a)})}));return e.map(function(a){var b=g.get(a.chatJid);return b==null?null:{mawParticipant:a,threadKey:b}}).filter(Boolean)});return s.apply(this,arguments)}function t(a,b,c,d){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){yield d("MAWUpdateLSThreadCapabilities").disableBlockerCapabilitiesTxn(a,c),(k||(k=d("I64"))).equal(m,b)&&(e?yield d("MAWUpdateLSThreadCapabilities").enableAddMembersTxn(a,c):yield d("MAWUpdateLSThreadCapabilities").disableAddMembersTxn(a,c))});return u.apply(this,arguments)}function v(a,b,c){return a==null?babelHelpers["extends"]({},w(b),{authorityLevel:(k||(k=d("I64"))).zero,contactId:d("MAWJids").convertChatJidToIntJid(b.userJid),deliveredWatermarkTimestampMs:k.zero,isSuperAdmin:b.isSuperAdmin,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:k.zero,readWatermarkTimestampMs:k.zero,threadKey:c,threadRoles:k.zero}):babelHelpers["extends"]({},a,w(b))}function w(a){return{groupParticipantJoinState:a.isInvited?(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:a.isAdmin,isModerator:!1,subscribeSource:a.isSuperAdmin?h._(/*BTDS*/"Group creator").toString():void 0}}function x(a){return{isAdmin:a==="superadmin"||a==="admin",isInvited:a==="invitedParticipant",isSuperAdmin:a==="superadmin"}}g.callFromMainThread=a;g.call=e;g.mawToLsParticipantTypeConversion=x}),226);
__d("MAWBridgeUIEventDataValidation",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){c("FBLogger")("messenger_web").catching(b).mustfix("Cannot convert string to i64: %s",a)}}g.stringToI64Opt=a}),98);
__d("MAWConvertExtendedContentTypeToLSXmaContentType",["LSXmaContentType","WAArmadilloXMA.pb"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return null;switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:return c("LSXmaContentType").FB_FEED_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:return c("LSXmaContentType").FB_STORY_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:return c("LSXmaContentType").FB_STORY_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:return c("LSXmaContentType").FB_STORY_MENTION;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:return c("LSXmaContentType").FB_FEED_VIDEO_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:return c("LSXmaContentType").FB_GAMING_CUSTOM_UPDATE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:return c("LSXmaContentType").FB_PRODUCER_STORY_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT:return c("LSXmaContentType").FB_EVENT;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:return c("LSXmaContentType").FB_FEED_POST_PRIVATE_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:return c("LSXmaContentType").MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:return c("LSXmaContentType").FB_SHORT;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:return c("LSXmaContentType").MSG_LOCATION_SHARING;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:return c("LSXmaContentType").MSG_LOCATION_SHARING_V2;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:return c("LSXmaContentType").FB_POST_MENTION;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT:return c("LSXmaContentType").MSG_CONTACT;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_AI_CONTACT:return c("LSXmaContentType").MSG_AI_CONTACT;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_MEMORIES_SHARE:return c("LSXmaContentType").MSG_MEMORIES_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE:return c("LSXmaContentType").MSG_EXTERNAL_LINK_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:return c("LSXmaContentType").RTC_AUDIO_CALL;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:return c("LSXmaContentType").RTC_VIDEO_CALL;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:return c("LSXmaContentType").RTC_MISSED_AUDIO_CALL;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:return c("LSXmaContentType").RTC_MISSED_VIDEO_CALL;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PROFILE_DIRECTORY_ITEM:return c("LSXmaContentType").FB_PROFILE_DIRECTORY_ITEM;default:return null}}g.convertExtendedContentTypeToLSXmaContentType=a}),98);
__d("MAWBridgeXMAUtils",["I64","LSIntEnum","MAWBridgeUIEventDataValidation","MAWConvertExtendedContentTypeToLSXmaContentType","MAWMpsGating","MAWXMAUtils","MNLSXMALayoutType","MNXMAPreviewImageDecorationType","MWPBumpEntityKey","MessagingAttachmentType","Promise","Random","ReQL","WAArmadilloXMA.pb","WAJids","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,c,d,e,f){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g,i){var k=c.ctas,l=c.defaultCTA,o=m(c.targetId,c.targetType),s=(j||(j=d("I64"))).of_int32(d("Random").uint32());if(l!=null){var t=p(l,s,f,e,g,o,c.targetType);yield r(a,t,s,i.defaultCta)}t=d("MAWXMAUtils").isFBXMAPostMention(c.targetType)&&c.author===d("WAJids").AUTHOR_ME;c=[];k!=null&&!t&&(c=(yield (h||(h=b("Promise"))).all(k.map(function(b,c){var d=n(s,c);b=q(b,d,f,e,g,o);c=c===0?i.attachmentCta1:c===1?i.attachmentCta2:c===2?i.attachmentCta3:void 0;return r(a,b,d,c)}))));return{attachmentCta1Id:c.length>0?c[0]:void 0,attachmentCta2Id:c.length>1?c[1]:void 0,attachmentCta3Id:c.length>2?c[2]:void 0,defaultCtaId:l==null?void 0:s}});return k.apply(this,arguments)}function l(a){var b="xma_web_url";switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:b="xma_rtc_audio";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:b="xma_rtc_video";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:b="xma_rtc_missed_audio";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:b="xma_rtc_missed_video";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:b="igd_web_post_share";break}return b}function m(a,b){return d("MAWXMAUtils").isFBXMAPostMention(b)?void 0:a!=null?d("MAWBridgeUIEventDataValidation").stringToI64Opt(a):void 0}function n(a,b){return(j||(j=d("I64"))).add(a,j.of_int32(b+1))}function o(a,b,c,e,f,g,h){h===void 0&&(h="xma_web_url");var i=a.actionUrl,k=a.nativeUrl;return{actionContentBlob:void 0,actionUrl:i!=null?i:k,attachmentFbid:f,attachmentIndex:(j||(j=d("I64"))).zero,ctaId:b,enableExtensions:!1,extensionHeightType:void 0,messageId:c,nativeUrl:k!=null?k:i,platformToken:void 0,targetId:g!=null?g:void 0,threadKey:e,title:(f=a.title)!=null?f:"Tap to view status update",type_:h!=null?h:"xma_web_url",urlWebviewType:void 0}}function p(a,b,c,d,e,f,g){g=l(g);return o(a,b,c,d,e,f,g)}function q(a,b,c,d,e,f){var g;switch(a.ctaType){case"contact_sharing_profile":g="contact_sharing_profile";break;case"contact_sharing_message":g="contact_sharing_message";break}return o(a,b,c,d,e,f,g)}function r(a,b,c,d){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){d!=null?yield a.attachment_ctas.upsert([d.ctaId],b):yield a.attachment_ctas.add(b);return c});return s.apply(this,arguments)}function e(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=null,f={attachmentCta1:void 0,attachmentCta2:void 0,attachmentCta3:void 0,defaultCta:void 0};e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,c)));e!=null&&(f.defaultCta=(yield u(a,e.defaultCtaId)),f.attachmentCta1=(yield u(a,e.attachmentCta1Id)),f.attachmentCta2=(yield u(a,e.attachmentCta2Id)),f.attachmentCta3=(yield u(a,e.attachmentCta3Id)));return[e,f]});return t.apply(this,arguments)}function u(a,c){return c==null?(h||(h=b("Promise"))).resolve(void 0):(a=d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachment_ctas).getKeyRange(c)))!=null?a:void 0}function f(a,b,e,f,g,h,k,l,m){var n,o,p,q=(j||(j=d("I64"))).zero,r=v(a),s=d("MAWConvertExtendedContentTypeToLSXmaContentType").convertExtendedContentTypeToLSXmaContentType(a.targetType);s=s?(j||(j=d("I64"))).of_int32(s):void 0;n=(n=a==null||(o=a.defaultCTA)==null?void 0:o.actionUrl)!=null?n:a==null||(p=a.defaultCTA)==null?void 0:p.nativeUrl;a.defaultPreviewMediaId!=null&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_xma_handler","xma_preview_media_has_plaintext_hash."+m+"."+a.targetType+"."+(a.defaultPreviewMediaPlaintextHash!=null?"true":"false"));m=d("MAWMpsGating").isMpsMessageRendering();return{accessibilitySummaryText:void 0,actionUrl:n!=null?n:void 0,attachmentCta1Id:g,attachmentCta2Id:h,attachmentCta3Id:k,attachmentFbid:e,attachmentIndex:j.zero,attachmentLoggingType:void 0,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),attributionAppIcon:void 0,attributionAppIconFallback:void 0,attributionAppIconUrlExpirationTimestampMs:void 0,attributionAppId:void 0,attributionAppName:void 0,authorityLevel:j.zero,avatarCount:void 0,avatarViewAccessibilityLabel:void 0,avatarViewSize:void 0,avatarViewTitleList:void 0,avatarViewUrlExpirationTimestampList:void 0,avatarViewUrlFallbackList:void 0,avatarViewUrlList:void 0,captionBodyText:void 0,cta1Title:x(a.ctas,1),cta1Type:w(a.ctas,1),cta2Title:x(a.ctas,2),cta2Type:w(a.ctas,2),cta3Title:x(a.ctas,3),cta3Type:w(a.ctas,3),dashManifest:void 0,decryptionKey:void 0,defaultCtaId:l,defaultCtaTitle:(n=a.defaultCTA)==null?void 0:n.title,defaultCtaType:r.xmaContentType,descriptionText:void 0,ephemeralMediaState:void 0,faviconUrl:void 0,faviconUrlExpirationTimestampMs:void 0,faviconUrlFallback:void 0,filename:void 0,filesize:a.filesize!=null?(j||(j=d("I64"))).of_int32(a.filesize):void 0,gatingTitle:a.overlayTitle,gatingType:a.overlayIconGlyph!=null?String(a.overlayIconGlyph):void 0,hasMedia:a.hasMedia!=null?a.hasMedia:!1,hasXma:!0,hasXmaFavicon:m?a.faviconPlaintextHash!=null:a.faviconMediaId!=null,hasXmaHeaderImage:m?a.headerMediaPlaintextHash!=null:a.headerMediaId!=null,hasXmaPreview:m?a.defaultPreviewMediaPlaintextHash!=null:a.defaultPreviewMediaId!=null,headerImageUrl:void 0,headerImageUrlExpirationTimestampMs:void 0,headerImageUrlFallback:void 0,headerImageUrlMimeType:void 0,headerTitle:a.headerTitle,imageUrl:void 0,imageUrlExpirationTimestampMs:void 0,imageUrlFallback:void 0,imageUrlMimeType:void 0,isBorderless:void 0,isPreviewImage:void 0,isSharable:!0,listItemAccessibilityText1:void 0,listItemAccessibilityText2:void 0,listItemAccessibilityText3:void 0,listItemContactUrlExpirationTimestampList1:void 0,listItemContactUrlExpirationTimestampList2:void 0,listItemContactUrlExpirationTimestampList3:void 0,listItemContactUrlFallbackList1:void 0,listItemContactUrlFallbackList2:void 0,listItemContactUrlFallbackList3:void 0,listItemContactUrlList1:void 0,listItemContactUrlList2:void 0,listItemContactUrlList3:void 0,listItemId1:void 0,listItemId2:void 0,listItemId3:void 0,listItemProfilePictureUrl1:void 0,listItemProfilePictureUrl2:void 0,listItemProfilePictureUrl3:void 0,listItemProfilePictureUrlExpirationTimestamp1:void 0,listItemProfilePictureUrlExpirationTimestamp2:void 0,listItemProfilePictureUrlExpirationTimestamp3:void 0,listItemProfilePictureUrlFallback1:void 0,listItemProfilePictureUrlFallback2:void 0,listItemProfilePictureUrlFallback3:void 0,listItemProgressBarFilledPercentage1:void 0,listItemProgressBarFilledPercentage2:void 0,listItemProgressBarFilledPercentage3:void 0,listItemsDescriptionSubtitleText:void 0,listItemsDescriptionText:void 0,listItemsId:void 0,listItemsSecondaryDescriptionText:void 0,listItemTitleText1:void 0,listItemTitleText2:void 0,listItemTitleText3:void 0,localPlayableUrl:void 0,maxSubtitleNumOfLines:a.maxSubtitleNumOfLines!=null?(j||(j=d("I64"))).of_int32(a.maxSubtitleNumOfLines):void 0,maxTitleNumOfLines:a.maxTitleNumOfLines!=null?(j||(j=d("I64"))).of_int32(a.maxTitleNumOfLines):void 0,messageId:f,miniPreview:void 0,offlineAttachmentId:(g=a.offlineAttachmentId)!=null?g:e,originalFileHash:void 0,originalPageSenderId:void 0,playableDurationMs:void 0,playableUrl:void 0,playableUrlExpirationTimestampMs:void 0,playableUrlFallback:void 0,playableUrlMimeType:void 0,preheaderText:void 0,previewHeight:r.height,previewHeightLarge:a.previewHeightLarge!=null?(j||(j=d("I64"))).of_int32(a.previewHeightLarge):void 0,previewImageDecorationType:z(a.targetType),previewUrl:void 0,previewUrlExpirationTimestampMs:void 0,previewUrlFallback:void 0,previewUrlLarge:void 0,previewUrlMimeType:void 0,previewWidth:r.width,previewWidthLarge:a.previewWidthLarge!=null?(j||(j=d("I64"))).of_int32(a.previewWidthLarge):void 0,samplingFrequencyHz:void 0,shouldAutoplayVideo:void 0,shouldHighlightHeaderTitleInTitle:void 0,shouldRespectServerPreviewSize:void 0,sourceText:void 0,subtitleIconUrl:void 0,subtitleText:a.subtitleText,targetId:void 0,threadKey:b,timestampMs:q,titleText:a.titleText,transportKey:"WhatsApp",viewerSeenTimestampMs:void 0,waveformData:void 0,xmaContentType:s,xmaDataclass:a.xmaDataclass,xmaFaviconFbid:m?a.faviconPlaintextHash:c("gkx")("8162")?(h=a.faviconPlaintextHash)!=null?h:(k=a.faviconMediaId)==null?void 0:k.toString():(l=a.faviconMediaId)==null?void 0:l.toString(),xmaHeaderImageFbid:m?a.headerMediaPlaintextHash:c("gkx")("8162")?(n=a.headerMediaPlaintextHash)!=null?n:(f=a.headerMediaId)==null?void 0:f.toString():(g=a.headerMediaId)==null?void 0:g.toString(),xmaLayoutType:a.xmaLayoutType!=null?y(a.xmaLayoutType):void 0,xmaPreviewFbid:m?a.defaultPreviewMediaPlaintextHash:c("gkx")("8162")?(e=a.defaultPreviewMediaPlaintextHash)!=null?e:(r=a.defaultPreviewMediaId)==null?void 0:r.toString():(b=a.defaultPreviewMediaId)==null?void 0:b.toString(),xmasTemplateType:a.xmaLayoutType!=null?y(a.xmaLayoutType):void 0}}function v(a){var b;switch(a.targetType){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:b={height:(j||(j=d("I64"))).of_int32(108),width:(j||(j=d("I64"))).of_int32(72),xmaContentType:"xma_montage_share"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:b={xmaContentType:"xma_rtc_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:b={xmaContentType:"xma_rtc_video"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:b={xmaContentType:"xma_rtc_missed_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:b={xmaContentType:"xma_rtc_missed_video"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:b={xmaContentType:"xma_rtc_missed_group_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:b={xmaContentType:"xma_rtc_missed_group_video"};break;default:b={height:a.previewHeight!=null?(j||(j=d("I64"))).of_int32(a.previewHeight):void 0,width:a.previewWidth!=null?(j||(j=d("I64"))).of_int32(a.previewWidth):void 0,xmaContentType:"xma_web_url"};break}return b}function w(a,b){if(a==null)return;a=a[b-1];if(a==null)return;b=a.buttonType;a=a.ctaType;switch(a){case"contact_sharing_profile":return"contact_sharing_profile";case"contact_sharing_message":return"contact_sharing_message";default:return b===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE?"xma_open_native":void 0}}function x(a,b){if(a==null)return;a=a[b-1];if(a!=null)return a.title}function y(a){return a===0||a!==3?(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SINGLE):(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PORTRAIT)}function z(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").COLLAGE);case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL);case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON);default:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").DEFAULT)}}g.addAttachmentCtas=a;g.maybeBridgeToLSTargetId=m;g.getCtaIdFromDefaultCtaId=n;g.composeDefaultAttachmentCta=p;g.composeAttachmentCta=q;g.getExistingAttachmentAndAttachmentCtas=e;g.composeAttachmentXMA=f}),98);
__d("MAWBridgeXMA",["MAWBridgeXMAUtils","MAWDbMedia","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){if(a==null)return void 0;switch(a){case"Image":case"Sticker":return"image/png";case"Gif":return"image/gif";case"Video":return"video/mp4";case"Ptt":return"audio/wav"}}function a(a,b,c){var e,f,g,j,k=b.author,l=b.contentRef,m=b.ctas,n=b.defaultCTA,o=b.defaultPreviewMediaId,p=b.defaultPreviewMediaPlaintextHash,q=b.faviconMediaId,r=b.faviconPlaintextHash,s=b.headerMediaId,t=b.headerMediaPlaintextHash,u=b.headerTitle,v=b.maxSubtitleNumOfLines,w=b.maxTitleNumOfLines,x=b.msgId,y=b.offlineAttachmentId,z=b.overlayIconGlyph,A=b.overlayTitle,B=b.subtitleText,C=b.targetId,D=b.targetType,E=b.targetUsername,F=b.threadJid,G=b.titleText,H=b.xmaDataclass,I=b.xmaId;b=b.xmaLayoutType;a!=null&&a.mediaType!==d("MAWDbMedia").MEDIA_TYPE.IMAGE&&d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["MAWBridge - createBridgeXMA received unexpected media type - ",""])),a.mediaType);C!=null&&d("MAWBridgeXMAUtils").maybeBridgeToLSTargetId(C,D);var J=c.hasMedia,K=c.hasXmaFaviconMedia;c=c.hasXmaHeaderMedia;return{author:k,contentRef:l,ctas:m==null?void 0:m.filter(function(a){return a.ctaType!=null}),defaultCTA:n,defaultPreviewMediaId:o,defaultPreviewMediaPlaintextHash:p,duration:null,faviconMediaId:q,faviconPlaintextHash:r,filesize:a==null?void 0:a.size,hasMedia:J,hasXmaFaviconMedia:K,hasXmaHeaderMedia:c,headerMediaId:s,headerMediaPlaintextHash:t,headerTitle:u,maxSubtitleNumOfLines:v,maxTitleNumOfLines:w,mediaType:a==null?void 0:a.mediaType,msgId:x,offlineAttachmentId:y,overlayIconGlyph:z,overlayTitle:A,playableUrlMimeType:i(a==null?void 0:a.mediaType),previewHeight:a==null||(e=a.validatedImageInfo)==null?void 0:e.jpegThumbnailHeight,previewHeightLarge:a==null||(f=a.validatedImageInfo)==null?void 0:f.height,previewUrlMimeType:i(a==null?void 0:a.mediaType),previewWidth:a==null||(g=a.validatedImageInfo)==null?void 0:g.jpegThumbnailWidth,previewWidthLarge:a==null||(j=a.validatedImageInfo)==null?void 0:j.width,subtitleText:B,targetId:C,targetType:D,targetUsername:E,threadJid:F,titleText:G,ts:a==null?void 0:a.ts,xmaDataclass:H,xmaId:I,xmaLayoutType:b}}function b(a,b){var c=a.msgId;a=a.threadJid;return{msgId:c,threadJid:a,xmaId:b}}function c(a,b){var c=a.msgId;a=a.threadJid;return{msgId:c,threadJid:a,xmaId:b}}g.mediaTypeToMimeType=i;g.createBridgeXMA=a;g.createBridgeXMAShareExpired=b;g.createBridgeXMAShareTombstoned=c}),98);
__d("MAWCastToMsgrServerMediaType",["EncryptedBackupsUploadEntity","MAWDbMedia","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){b===void 0&&(b=!1);if(b&&a==="image")return"xma";switch(a){case"image":case"video":case"gif":case"sticker":return a;case"document":return"file";case"ptt":return"audio";case"xma-image":return"xma";case"preview":return"preview";default:d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["invalid mediaType: "," for castToMsgrServerMediaType method"])),a);return null}}function b(a,b){b===void 0&&(b=!1);if(b&&a===d("MAWDbMedia").MEDIA_TYPE.IMAGE)return"xma";switch(a){case"Image":return"image";case"Video":return"video";case"Gif":return"gif";case"Sticker":return"sticker";case"DocumentFile":return"file";case"Ptt":return"audio";default:d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["invalid client mediaType: "," for castClientMediaTypeToServerMediaType method"])),a);return null}}function c(a){switch(a){case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.IMAGE:return"image";case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.VIDEO:return"video";case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.GIF:return"gif";case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.STICKER:return"sticker";case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.DOCUMENT:return"file";case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.PTT:return"audio";case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA:return"xma";case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.MESSENGER_PREVIEW:return"preview";default:d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["invalid attachment mediaType: "," for castMediaAttachmentTypeToServerMediaType method"])),a);return null}}g.castToMsgrServerMediaType=a;g.castClientMediaTypeToServerMediaType=b;g.castMediaAttachmentTypeToServerMediaType=c}),98);
__d("MAWFolderTypes",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;e=10;var g=15,h={ARCHIVED:e,INBOX:a,OTHER:c,PENDING:b,RESTRICTED:g,SPAM:d};f.INBOX=a;f.PENDING=b;f.OTHER=c;f.SPAM=d;f.ARCHIVED=e;f.RESTRICTED=g;f.FOLDER_ID=h}),66);
__d("MAWTimeUtils",["FBLogger","I64","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return(h||(h=d("I64"))).of_float(a*1e3)}function j(a){a=Number(a);return a<=d("WATimeUtils").MAX_INT&&a!==-1e3&&a!==0}function a(a){if(j(a)){Number(a)!==-1&&c("FBLogger")("messenger_web").mustfix("Invalid timestamp supplied to millisTimeToTimestamp: %s",Number(a));return i(a)}return(h||(h=d("I64"))).of_float(a)}function b(a,b){var c=Date.now();c=c-b*24*60*60*1e3;b=d("WATimeUtils").castMilliSecondsToUnixTime(c);return a>=b}function e(a){if(a==null)return;if(j(a)){Number(a)!==-1&&c("FBLogger")("messenger_web").mustfix("Invalid timestamp supplied to ensureValidMillisTime: %s",Number(a));return d("WATimeUtils").castToMillisTime(a*1e3)}return a}f=(h||(h=d("I64"))).of_string("9999999999999");var k=Number.MAX_VALUE;g.toTimestamp=i;g.millisTimeToTimestamp=a;g.isTimestampNewerThanXDays=b;g.ensureValidMillisTime=e;g.MAX_TIMESTAMP_MS=f;g.MAX_TIMESTAMP=k;g.MIN_TIMESTAMP_MS=h.zero}),98);
__d("MAWIndexedDBDeletion",["CurrentMessengerUser","FBLogger","MAWIndexedDbMetadata","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,d){return indexedDB==null||a==null?(h||(h=b("Promise"))).resolve():new(h||(h=b("Promise")))(function(b,e){var f=indexedDB.deleteDatabase(a);f.onsuccess=function(){c("FBLogger")("maw_db").warn("%s db was deleted",d),b()};f.onblocked=function(){c("FBLogger")("maw_db").mustfix("Cannot delete %s db: blocked. Make sure DB is closed.",d)};f.onerror=function(){c("FBLogger")("maw_db").mustfix("Cannot delete %s db",d),e(f.error)}})}function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("CurrentMessengerUser").getID();yield (h||(h=b("Promise"))).all([i(d("MAWIndexedDbMetadata").dbName(a),"maw_v1"),i(d("MAWIndexedDbMetadata").restoreDbName2(a),"maw_v3"),i(d("MAWIndexedDbMetadata").jobsDbName(a),"signal"),i(d("MAWIndexedDbMetadata").logDbName(a),"logDb")])});return j.apply(this,arguments)}g.deleteDB=i;g.deleteMAWPersistence=a}),98);
__d("MAWMsg",["$InternalEnum","I64","LSBitFlag","LSIntEnum","LSMessagingThreadTypeUtil","LSReplyMessageAttachmentType","MAWMsgType","WAArmadilloXMA.pb"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,c,e,f,g){if(a===d("MAWMsgType").MSG_TYPE.TEXT)if(b)return(i||(i=d("LSIntEnum"))).ofNumber(8192);else return(i||(i=d("LSIntEnum"))).ofNumber(1);else if(a===d("MAWMsgType").MSG_TYPE.IMAGE||a===d("MAWMsgType").MSG_TYPE.VIDEO||a===d("MAWMsgType").MSG_TYPE.RAVEN)return(i||(i=d("LSIntEnum"))).ofNumber(2);else if(a===d("MAWMsgType").MSG_TYPE.PTT)return(i||(i=d("LSIntEnum"))).ofNumber(4);else if(a===d("MAWMsgType").MSG_TYPE.FUTUREPROOF)return k(f);else if(a===d("MAWMsgType").MSG_TYPE.CIPHERTEXT)return(i||(i=d("LSIntEnum"))).ofNumber(65536);else if(a===d("MAWMsgType").MSG_TYPE.UNAVAILABLE)return(i||(i=d("LSIntEnum"))).ofNumber(262144);else if(a===d("MAWMsgType").MSG_TYPE.GIF)return(i||(i=d("LSIntEnum"))).ofNumber(16384);else if(a===d("MAWMsgType").MSG_TYPE.STICKER)return(i||(i=d("LSIntEnum"))).ofNumber(4096);else if(a===d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE)return(i||(i=d("LSIntEnum"))).ofNumber(64);else if(a===d("MAWMsgType").MSG_TYPE.XMA)if(c!=null&&c)return(i||(i=d("LSIntEnum"))).ofNumber(256);else return g===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH?(i||(i=d("LSIntEnum"))).ofNumber(536870912):(i||(i=d("LSIntEnum"))).ofNumber(1024);else if(a===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE)if(!e)return(i||(i=d("LSIntEnum"))).ofNumber(33554432);else return(i||(i=d("LSIntEnum"))).ofNumber(1);else if(a===d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH)return(i||(i=d("LSIntEnum"))).ofNumber(134217728);else return(i||(i=d("LSIntEnum"))).ofNumber(1)}function k(a){switch(a){case"liveLocationMessage":return(i||(i=d("LSIntEnum"))).ofNumber(4294967296);case"locationMessage":return(i||(i=d("LSIntEnum"))).ofNumber(524288);case"pollCreationMessage":return(i||(i=d("LSIntEnum"))).ofNumber(1048576);case"contactShareMessage":return(i||(i=d("LSIntEnum"))).ofNumber(2097152);case"storyMentionMessage":return(i||(i=d("LSIntEnum"))).ofNumber(4194304);case"postMentionMessage":return(i||(i=d("LSIntEnum"))).ofNumber(2147483648);case"metaAiMessage":return(i||(i=d("LSIntEnum"))).ofNumber(8388608);case"bumpMessage":return(i||(i=d("LSIntEnum"))).ofNumber(16777216);case"stickerReceiverFetchMessage":return(i||(i=d("LSIntEnum"))).ofNumber(67108864);case"noteMention":return(i||(i=d("LSIntEnum"))).ofNumber(1073741824);case"messengerMemory":return(i||(i=d("LSIntEnum"))).ofNumber(8589934592);case"rtcMessage":return(i||(i=d("LSIntEnum"))).ofNumber(17179869184);default:return(i||(i=d("LSIntEnum"))).ofNumber(131072)}}function e(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16384))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(64))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4096))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(134217728))}function f(a,b){var e=a.replyAttachmentType;if(e==null)return!1;b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b);return b&&a.replyAttachmentId==null?!1:(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").AUDIO))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO))}function l(a){return(j||(j=d("I64"))).equal(a.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(134217728))}function m(a){return d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(536870912),a.displayedContentTypes)}function n(a){a=a.displayedContentTypes;if((j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(32)))return!0;else return!1}function o(a){return(j||(j=d("I64"))).lt(a.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2))}function p(a){a=a.displayedContentTypes;return d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(1024),a)||d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(536870912),a)}function q(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(65536))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(131072))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(524288))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4294967296))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1048576))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2097152))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4194304))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2147483648))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8388608))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16777216))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1073741824))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8589934592))?!0:(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(262144))}var r=(b=b("$InternalEnum"))({PLAYED:0,SCREENSHOTTED:1,FORCE_DISABLED:2}),s=b({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4}),t=b({VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2});b=b({IMAGE:0,VIDEO:1});g.text=(h=d("MAWMsgType")).MSG_TYPE.TEXT;g.image=h.MSG_TYPE.IMAGE;g.video=h.MSG_TYPE.VIDEO;g.ptt=h.MSG_TYPE.PTT;g.unsent=h.MSG_TYPE.REVOKED;g.gif=h.MSG_TYPE.GIF;g.bumpExistingMessage=h.MSG_TYPE.BUMP_EXISTING_MESSAGE;g.getDisplayedContentTypes=a;g.isMediaMsg=e;g.isMediaReplyAttachmentType=f;g.isReceiverFetchMsg=l;g.isReceiverFetchXMAMsg=m;g.isAdminMsg=n;g.isOptimistic=o;g.isXMAMsg=p;g.isPlaceholder=q;g.MAWRavenActionNotifType=r;g.MAWRavenMsgEphemeralMediaState=s;g.MAWRavenMsgEphemeralType=t;g.MAWRavenMsgMediaType=b}),98);
__d("MWLocalStorageErrorHandler",["cr:3449"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:3449")&&b("cr:3449").clearLocalStorageBigValues()}g.onQuotaExceeded=a}),98);
__d("MAWLocalStorage",["LocalStorageWrapper","MWLocalStorageErrorHandler","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){d("WALogger").LOG([a])}function j(a){d("WALogger").ERROR([a])}function a(){return d("LocalStorageWrapper").getStorage(i)}function b(){return d("LocalStorageWrapper").isLocalStorageAvailable(i)}function c(a,b,c){return d("LocalStorageWrapper").setItemGuarded(a,b,c,j,d("MWLocalStorageErrorHandler").onQuotaExceeded)}function e(a,b){a==null?d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["not storage found"]))):a.removeItem(b)}g.getStorage=a;g.isLocalStorageAvailable=b;g.setItemGuarded=c;g.removeItemGuarded=e}),98);
__d("WAArmadilloApplication.pb",["WAArmadilloXMA.pb","WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h,i;a={ES_OPEN:1,ES_CLOSE:2};b={PAYMENT_UNKNOWN:-1,REQUEST_INITED:4,REQUEST_DECLINED:5,REQUEST_TRANSFER_INITED:6,REQUEST_TRANSFER_COMPLETED:7,REQUEST_TRANSFER_FAILED:8,REQUEST_CANCELED:9,REQUEST_EXPIRED:10,TRANSFER_INITED:11,TRANSFER_PENDING:12,TRANSFER_PENDING_RECIPIENT_VERIFICATION:13,TRANSFER_CANCELED:14,TRANSFER_COMPLETED:15,TRANSFER_NO_RECEIVER_CREDENTIAL_NO_RTS_PENDING_CANCELED:16,TRANSFER_NO_RECEIVER_CREDENTIAL_NO_RTS_PENDING_OTHER:17,TRANSFER_REFUNDED:18,TRANSFER_PARTIAL_REFUND:19,TRANSFER_CHARGED_BACK:20,TRANSFER_EXPIRED:21,TRANSFER_DECLINED:22,TRANSFER_UNAVAILABLE:23};c={SCREENSHOT_IMAGE:1,SCREEN_RECORDING:2};e={PLAYED:0,SCREENSHOT:1,FORCE_DISABLE:2};f={VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2};var j={SMALL_LIKE:1,MEDIUM_LIKE:2,LARGE_LIKE:3},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={},x={},y={},z={},A={},B={},C={},D={},E={},F={},G={},H={},I={},J={},K={},L={},M={},N={},O={};k.name="Armadillo";k.internalSpec={payload:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,m],metadata:[2,h.TYPES.MESSAGE,l]};l.name="Armadillo$Metadata";l.internalSpec={};m.name="Armadillo$Payload";m.internalSpec={content:[1,h.TYPES.MESSAGE,E],applicationData:[2,h.TYPES.MESSAGE,r],signal:[3,h.TYPES.MESSAGE,o],subProtocol:[4,h.TYPES.MESSAGE,n],__oneofs__:{payload:["content","applicationData","signal","subProtocol"]}};n.name="Armadillo$SubProtocolPayload";n.internalSpec={futureProof:[1,h.TYPES.ENUM,(i=d("WACommon.pb")).FUTURE_PROOF_BEHAVIOR]};o.name="Armadillo$Signal";o.internalSpec={encryptedBackupsSecrets:[1,h.TYPES.MESSAGE,p],__oneofs__:{signal:["encryptedBackupsSecrets"]}};p.name="Armadillo$Signal$EncryptedBackupsSecrets";p.internalSpec={backupId:[1,h.TYPES.UINT64],serverDataId:[2,h.TYPES.UINT64],epoch:[3,h.FLAGS.REPEATED|h.TYPES.MESSAGE,q],tempOcmfClientState:[4,h.TYPES.BYTES],mailboxRootKey:[5,h.TYPES.BYTES],obliviousValidationToken:[6,h.TYPES.BYTES]};q.name="Armadillo$Signal$EncryptedBackupsSecrets$Epoch";q.internalSpec={id:[1,h.TYPES.UINT64],anonId:[2,h.TYPES.BYTES],rootKey:[3,h.TYPES.BYTES],status:[4,h.TYPES.ENUM,a]};r.name="Armadillo$ApplicationData";r.internalSpec={metadataSync:[1,h.TYPES.MESSAGE,D],aiBotResponse:[2,h.TYPES.MESSAGE,t],messageHistoryDocumentMessage:[3,h.TYPES.MESSAGE,s],__oneofs__:{applicationData:["metadataSync","aiBotResponse","messageHistoryDocumentMessage"]}};s.name="Armadillo$ApplicationData$MessageHistoryDocumentMessage";s.internalSpec={document:[1,h.TYPES.MESSAGE,i.SubProtocolSpec]};t.name="Armadillo$ApplicationData$AIBotResponseMessage";t.internalSpec={summonToken:[1,h.TYPES.STRING],messageText:[2,h.TYPES.STRING],serializedExtras:[3,h.TYPES.STRING]};u.name="Armadillo$ApplicationData$MetadataSyncAction";u.internalSpec={actionTimestamp:[1,h.TYPES.INT64],chatAction:[101,h.TYPES.MESSAGE,x],messageAction:[102,h.TYPES.MESSAGE,v],__oneofs__:{actionType:["chatAction","messageAction"]}};v.name="Armadillo$ApplicationData$MetadataSyncAction$SyncMessageAction";v.internalSpec={key:[1,h.TYPES.MESSAGE,i.MessageKeySpec],messageDelete:[101,h.TYPES.MESSAGE,w],__oneofs__:{action:["messageDelete"]}};w.name="Armadillo$ApplicationData$MetadataSyncAction$SyncMessageAction$ActionMessageDelete";w.internalSpec={};x.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction";x.internalSpec={chatId:[1,h.TYPES.STRING],chatArchive:[101,h.TYPES.MESSAGE,A],chatDelete:[102,h.TYPES.MESSAGE,z],chatRead:[103,h.TYPES.MESSAGE,y],__oneofs__:{action:["chatArchive","chatDelete","chatRead"]}};y.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatRead";y.internalSpec={messageRange:[1,h.TYPES.MESSAGE,C],read:[2,h.TYPES.BOOL]};z.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatDelete";z.internalSpec={messageRange:[1,h.TYPES.MESSAGE,C]};A.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatArchive";A.internalSpec={messageRange:[1,h.TYPES.MESSAGE,C],archived:[2,h.TYPES.BOOL]};B.name="Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessage";B.internalSpec={key:[1,h.TYPES.MESSAGE,i.MessageKeySpec],timestamp:[2,h.TYPES.INT64]};C.name="Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessageRange";C.internalSpec={lastMessageTimestamp:[1,h.TYPES.INT64],lastSystemMessageTimestamp:[2,h.TYPES.INT64],messages:[3,h.FLAGS.REPEATED|h.TYPES.MESSAGE,B]};D.name="Armadillo$ApplicationData$MetadataSyncNotification";D.internalSpec={actions:[2,h.FLAGS.REPEATED|h.TYPES.MESSAGE,u]};E.name="Armadillo$Content";E.internalSpec={commonSticker:[1,h.TYPES.MESSAGE,O],screenshotAction:[3,h.TYPES.MESSAGE,K],extendedContentMessage:[4,h.TYPES.MESSAGE,d("WAArmadilloXMA.pb").ExtendedContentMessageSpec],ravenMessage:[5,h.TYPES.MESSAGE,N],ravenActionNotifMessage:[6,h.TYPES.MESSAGE,M],extendedMessageContentWithSear:[7,h.TYPES.MESSAGE,L],imageGalleryMessage:[8,h.TYPES.MESSAGE,J],paymentsTransactionMessage:[10,h.TYPES.MESSAGE,F],bumpExistingMessage:[11,h.TYPES.MESSAGE,I],noteReplyMessage:[13,h.TYPES.MESSAGE,H],ravenMessageMsgr:[14,h.TYPES.MESSAGE,N],networkVerificationMessage:[15,h.TYPES.MESSAGE,G],__oneofs__:{content:["commonSticker","screenshotAction","extendedContentMessage","ravenMessage","ravenActionNotifMessage","extendedMessageContentWithSear","imageGalleryMessage","paymentsTransactionMessage","bumpExistingMessage","noteReplyMessage","ravenMessageMsgr","networkVerificationMessage"]}};F.name="Armadillo$Content$PaymentsTransactionMessage";F.internalSpec={transactionId:[1,h.TYPES.UINT64],amount:[2,h.TYPES.STRING],currency:[3,h.TYPES.STRING],paymentStatus:[4,h.TYPES.ENUM,b],extendedContentMessage:[5,h.TYPES.MESSAGE,d("WAArmadilloXMA.pb").ExtendedContentMessageSpec]};G.name="Armadillo$Content$NetworkVerificationMessage";G.internalSpec={codeText:[1,h.TYPES.STRING]};H.name="Armadillo$Content$NoteReplyMessage";H.internalSpec={noteId:[1,h.TYPES.STRING],noteText:[2,h.TYPES.MESSAGE,i.MessageTextSpec],noteTimestampMs:[3,h.TYPES.INT64],textContent:[4,h.TYPES.MESSAGE,i.MessageTextSpec],stickerContent:[5,h.TYPES.MESSAGE,i.SubProtocolSpec],videoContent:[6,h.TYPES.MESSAGE,i.SubProtocolSpec],__oneofs__:{noteReplyContent:["textContent","stickerContent","videoContent"]}};I.name="Armadillo$Content$BumpExistingMessage";I.internalSpec={key:[1,h.TYPES.MESSAGE,i.MessageKeySpec]};J.name="Armadillo$Content$ImageGalleryMessage";J.internalSpec={images:[1,h.FLAGS.REPEATED|h.TYPES.MESSAGE,i.SubProtocolSpec]};K.name="Armadillo$Content$ScreenshotAction";K.internalSpec={screenshotType:[1,h.TYPES.ENUM,c]};L.name="Armadillo$Content$ExtendedContentMessageWithSear";L.internalSpec={searId:[1,h.TYPES.STRING],payload:[2,h.TYPES.BYTES],nativeUrl:[3,h.TYPES.STRING],searAssociatedMessage:[4,h.TYPES.MESSAGE,i.SubProtocolSpec],searSentWithMessageId:[5,h.TYPES.STRING]};M.name="Armadillo$Content$RavenActionNotifMessage";M.internalSpec={key:[1,h.TYPES.MESSAGE,i.MessageKeySpec],actionTimestamp:[2,h.TYPES.INT64],actionType:[3,h.TYPES.ENUM,e]};N.name="Armadillo$Content$RavenMessage";N.internalSpec={ephemeralType:[1,h.TYPES.ENUM,f],imageMessage:[2,h.TYPES.MESSAGE,i.SubProtocolSpec],videoMessage:[3,h.TYPES.MESSAGE,i.SubProtocolSpec],__oneofs__:{mediaContent:["imageMessage","videoMessage"]}};O.name="Armadillo$Content$CommonSticker";O.internalSpec={stickerType:[1,h.TYPES.ENUM,j]};g.ARMADILLO_SIGNAL_ENCRYPTED_BACKUPS_SECRETS_EPOCH_EPOCH_STATUS=a;g.ARMADILLO_CONTENT_PAYMENTS_TRANSACTION_MESSAGE_PAYMENT_STATUS=b;g.ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE=c;g.ARMADILLO_CONTENT_RAVEN_ACTION_NOTIF_MESSAGE_ACTION_TYPE=e;g.ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE=f;g.ARMADILLO_CONTENT_COMMON_STICKER_STICKER_TYPE=j;g.ArmadilloSpec=k;g.Armadillo$MetadataSpec=l;g.Armadillo$PayloadSpec=m;g.Armadillo$SubProtocolPayloadSpec=n;g.Armadillo$SignalSpec=o;g.Armadillo$Signal$EncryptedBackupsSecretsSpec=p;g.Armadillo$Signal$EncryptedBackupsSecrets$EpochSpec=q;g.Armadillo$ApplicationDataSpec=r;g.Armadillo$ApplicationData$MessageHistoryDocumentMessageSpec=s;g.Armadillo$ApplicationData$AIBotResponseMessageSpec=t;g.Armadillo$ApplicationData$MetadataSyncActionSpec=u;g.Armadillo$ApplicationData$MetadataSyncAction$SyncMessageActionSpec=v;g.Armadillo$ApplicationData$MetadataSyncAction$SyncMessageAction$ActionMessageDeleteSpec=w;g.Armadillo$ApplicationData$MetadataSyncAction$SyncChatActionSpec=x;g.Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatReadSpec=y;g.Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatDeleteSpec=z;g.Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatArchiveSpec=A;g.Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessageSpec=B;g.Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessageRangeSpec=C;g.Armadillo$ApplicationData$MetadataSyncNotificationSpec=D;g.Armadillo$ContentSpec=E;g.Armadillo$Content$PaymentsTransactionMessageSpec=F;g.Armadillo$Content$NetworkVerificationMessageSpec=G;g.Armadillo$Content$NoteReplyMessageSpec=H;g.Armadillo$Content$BumpExistingMessageSpec=I;g.Armadillo$Content$ImageGalleryMessageSpec=J;g.Armadillo$Content$ScreenshotActionSpec=K;g.Armadillo$Content$ExtendedContentMessageWithSearSpec=L;g.Armadillo$Content$RavenActionNotifMessageSpec=M;g.Armadillo$Content$RavenMessageSpec=N;g.Armadillo$Content$CommonStickerSpec=O}),98);
__d("WAArmadilloLocallyTransformedMessage.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};a.name="LocallyTransformedMessage";a.internalSpec={pollUpdateMessage:[1,d("WAProtoConst").TYPES.MESSAGE,b],__oneofs__:{content:["pollUpdateMessage"]}};b.name="LocallyTransformedMessage$PollUpdateAdminMessage";b.internalSpec={pollCreationMessageId:[1,d("WAProtoConst").TYPES.STRING],pollUpdateMessageId:[2,d("WAProtoConst").TYPES.STRING]};g.LocallyTransformedMessageSpec=a;g.LocallyTransformedMessage$PollUpdateAdminMessageSpec=b}),98);
__d("WAArmadilloMiTransportAdminMessage.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){c=(a=b("$InternalEnum"))({UNSET:0,DISABLED:1,ENABLED:2});e=a({UNSET:0,CHANGED:1,REMOVED:2});f=a({UNSET:0,PINNED:1,UNPINNED:2});b=a({UNSET:0,ALL_MEMBERS:1,ADMINS_ONLY:2});var h=a({UNSET:0,ADDED:1,REMOVED:2});a=a({UNSET:0,ADDED:1,REMOVED:2});var i={},j={},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={},x={},y={},z={},A={},B={},C={},D={},E={},F={},G={},H={},I={},J={},K={},L={},M={},N={},O={},P={},Q={};i.name="MiTransportAdminMessage";i.internalSpec={chatThemeChanged:[1,(d=d("WAProtoConst")).TYPES.MESSAGE,Q],nicknameChanged:[2,d.TYPES.MESSAGE,P],groupParticipantChanged:[3,d.TYPES.MESSAGE,O],groupAdminChanged:[4,d.TYPES.MESSAGE,N],groupNameChanged:[5,d.TYPES.MESSAGE,M],groupMembershipAddModeChanged:[6,d.TYPES.MESSAGE,L],messagePinned:[7,d.TYPES.MESSAGE,K],groupImageChanged:[8,d.TYPES.MESSAGE,J],quickReactionChanged:[9,d.TYPES.MESSAGE,I],linkCta:[10,d.TYPES.MESSAGE,G],iconChanged:[11,d.TYPES.MESSAGE,F],disappearingSettingChanged:[12,d.TYPES.MESSAGE,E],limitSharingChanged:[13,d.TYPES.MESSAGE,D],xmatDisappearingSetting:[14,d.TYPES.MESSAGE,C],xmatFriendRequestConfirmedEncrypted:[15,d.TYPES.MESSAGE,B],xmatInstantGameEncryptedDynamicCustomUpdate:[16,d.TYPES.MESSAGE,A],xmatLinkCta:[17,d.TYPES.MESSAGE,z],xmatMagicWords:[18,d.TYPES.MESSAGE,y],xmatMessagingLimitSharing:[19,d.TYPES.MESSAGE,x],xmatMessengerQrCodeScanned:[20,d.TYPES.MESSAGE,w],xmatMessengerSharedAlbumAddition:[21,d.TYPES.MESSAGE,v],xmatMessengerSharedAlbumContentRemoval:[22,d.TYPES.MESSAGE,t],xmatMessengerSharedAlbumDeletion:[23,d.TYPES.MESSAGE,s],xmatMessengerSharedAlbumRename:[24,d.TYPES.MESSAGE,r],xmatMessengerSharedAlbum:[25,d.TYPES.MESSAGE,q],xmatThemeColor:[26,d.TYPES.MESSAGE,p],xmatThreadIcon:[27,d.TYPES.MESSAGE,o],xmatThreadNickname:[28,d.TYPES.MESSAGE,n],xmatThreadQuickReaction:[29,d.TYPES.MESSAGE,m],xmatUpdatePayments:[30,d.TYPES.MESSAGE,l],xmatPinMessageV2:[31,d.TYPES.MESSAGE,k],xmatUnpinMessageV2:[32,d.TYPES.MESSAGE,j],__oneofs__:{content:["chatThemeChanged","nicknameChanged","groupParticipantChanged","groupAdminChanged","groupNameChanged","groupMembershipAddModeChanged","messagePinned","groupImageChanged","quickReactionChanged","linkCta","iconChanged","disappearingSettingChanged","limitSharingChanged","xmatDisappearingSetting","xmatFriendRequestConfirmedEncrypted","xmatInstantGameEncryptedDynamicCustomUpdate","xmatLinkCta","xmatMagicWords","xmatMessagingLimitSharing","xmatMessengerQrCodeScanned","xmatMessengerSharedAlbumAddition","xmatMessengerSharedAlbumContentRemoval","xmatMessengerSharedAlbumDeletion","xmatMessengerSharedAlbumRename","xmatMessengerSharedAlbum","xmatThemeColor","xmatThreadIcon","xmatThreadNickname","xmatThreadQuickReaction","xmatUpdatePayments","xmatPinMessageV2","xmatUnpinMessageV2"]}};j.name="MiTransportAdminMessage$XmatUnpinMessageV2";j.internalSpec={pinnedMessageId:[1,d.TYPES.STRING]};k.name="MiTransportAdminMessage$XmatPinMessageV2";k.internalSpec={pinnedMessageId:[1,d.TYPES.STRING]};l.name="MiTransportAdminMessage$XmatUpdatePayments";l.internalSpec={receiverName:[1,d.TYPES.STRING],senderName:[2,d.TYPES.STRING],amount:[3,d.TYPES.FLOAT],transactionId:[4,d.TYPES.INT64],transactionStatus:[5,d.TYPES.INT32]};m.name="MiTransportAdminMessage$XmatThreadQuickReaction";m.internalSpec={threadQuickReactionEmoji:[1,d.TYPES.STRING],threadQuickReactionInstructionKeyId:[2,d.TYPES.STRING]};n.name="MiTransportAdminMessage$XmatThreadNickname";n.internalSpec={participantId:[1,d.TYPES.INT64],nickname:[2,d.TYPES.STRING]};o.name="MiTransportAdminMessage$XmatThreadIcon";o.internalSpec={threadIcon:[1,d.TYPES.STRING]};p.name="MiTransportAdminMessage$XmatThemeColor";p.internalSpec={themeId:[1,d.TYPES.STRING],themeColor:[2,d.TYPES.STRING],gradient:[3,d.FLAGS.REPEATED|d.TYPES.STRING],shouldShowIcon:[4,d.TYPES.BOOL],themeType:[5,d.TYPES.INT32],accessibilityLabel:[6,d.TYPES.STRING],themeNameWithSubtitle:[7,d.TYPES.STRING],themeEmoji:[8,d.TYPES.STRING]};q.name="MiTransportAdminMessage$XmatMessengerSharedAlbum";q.internalSpec={xmaDataclass:[1,d.TYPES.STRING]};r.name="MiTransportAdminMessage$XmatMessengerSharedAlbumRename";r.internalSpec={sharedAlbumId:[1,d.TYPES.INT64],oldAlbumTitle:[2,d.TYPES.STRING],newAlbumTitle:[3,d.TYPES.STRING]};s.name="MiTransportAdminMessage$XmatMessengerSharedAlbumDeletion";s.internalSpec={sharedAlbumId:[1,d.TYPES.INT64],albumTitle:[2,d.TYPES.STRING]};t.name="MiTransportAdminMessage$XmatMessengerSharedAlbumContentRemoval";t.internalSpec={sharedAlbumId:[1,d.TYPES.INT64],removedContentMap:[2,d.FLAGS.REPEATED|d.TYPES.MESSAGE,u],removedContentCount:[3,d.TYPES.INT64],albumTitle:[4,d.TYPES.STRING]};u.name="MiTransportAdminMessage$XmatMessengerSharedAlbumContentRemoval$RemovedContentTuple";u.internalSpec={key:[1,d.TYPES.INT64],value:[2,d.TYPES.STRING]};v.name="MiTransportAdminMessage$XmatMessengerSharedAlbumAddition";v.internalSpec={sharedAlbumId:[1,d.TYPES.INT64],albumTitle:[2,d.TYPES.STRING],numOfAttachments:[3,d.TYPES.INT64],isAlbumCreation:[4,d.TYPES.BOOL]};w.name="MiTransportAdminMessage$XmatMessengerQRCodeScanned";w.internalSpec={receiverName:[1,d.TYPES.STRING],senderName:[2,d.TYPES.STRING]};x.name="MiTransportAdminMessage$XmatMessagingLimitSharing";x.internalSpec={senderName:[1,d.TYPES.STRING],senderId:[2,d.TYPES.STRING],limitSharingType:[3,d.TYPES.STRING]};y.name="MiTransportAdminMessage$XmatMagicWords";y.internalSpec={newMagicWordCount:[1,d.TYPES.INT64],removedMagicWordCount:[2,d.TYPES.INT64],magicWord:[3,d.TYPES.STRING],emojiEffect:[4,d.TYPES.STRING],isAllEdited:[5,d.TYPES.BOOL],themeName:[6,d.TYPES.STRING]};z.name="MiTransportAdminMessage$XmatLinkCTA";z.internalSpec={linkCtaXmatPrimaryText:[1,d.TYPES.STRING],linkCtaXmatCtaText:[2,d.TYPES.STRING],linkCtaXmatCtaUrl:[3,d.TYPES.STRING],linkCtaXmatCtaIosUrl:[4,d.TYPES.STRING],androidUri:[5,d.TYPES.STRING],asyncUrl:[6,d.TYPES.STRING],wwwIsAsyncUrl:[7,d.TYPES.BOOL],msiteEnabled:[8,d.TYPES.BOOL],hideUriInFallback:[9,d.TYPES.BOOL],showConfirmationDialog:[10,d.TYPES.BOOL],graphPayload:[11,d.TYPES.STRING],identifierName:[12,d.TYPES.STRING],threadId:[13,d.TYPES.STRING],hideCtaInFallback:[14,d.TYPES.BOOL],ctxAdConversationStarterInfo:[15,d.TYPES.STRING],fbmUri:[16,d.TYPES.STRING],initiatorUserId:[17,d.TYPES.STRING]};A.name="MiTransportAdminMessage$XmatInstantGameEncryptedDynamicCustomUpdate";A.internalSpec={senderName:[1,d.TYPES.STRING],muteManagementAdminTextType:[2,d.TYPES.STRING],gameName:[3,d.TYPES.STRING]};B.name="MiTransportAdminMessage$XmatFriendRequestConfirmedEncrypted";B.internalSpec={otherUserName:[1,d.TYPES.STRING],isTurnOnCohort:[2,d.TYPES.STRING]};C.name="MiTransportAdminMessage$XmatDisappearingSetting";C.internalSpec={disappearingSettingTime:[1,d.TYPES.INT64],oldDisappearingSettingTime:[2,d.TYPES.INT64],disappearingSettingActorFbid:[3,d.TYPES.INT64],newEphemeralityType:[4,d.TYPES.INT64],oldEphemeralityType:[5,d.TYPES.INT64]};D.name="MiTransportAdminMessage$LimitSharingChanged";D.internalSpec={sharingType:[1,d.TYPES.ENUM,c]};E.name="MiTransportAdminMessage$DisappearingSettingChanged";E.internalSpec={disappearingSettingDurationSeconds:[1,d.TYPES.INT32],oldDisappearingSettingDurationSeconds:[2,d.TYPES.INT32]};F.name="MiTransportAdminMessage$IconChanged";F.internalSpec={threadIcon:[1,d.TYPES.STRING]};G.name="MiTransportAdminMessage$LinkCta";G.internalSpec={ukOsaAdminText:[1,d.TYPES.MESSAGE,H],__oneofs__:{content:["ukOsaAdminText"]}};H.name="MiTransportAdminMessage$LinkCta$UkOsaAdminText";H.internalSpec={initiatorUserId:[2,d.TYPES.STRING]};I.name="MiTransportAdminMessage$QuickReactionChanged";I.internalSpec={emojiName:[1,d.TYPES.STRING]};J.name="MiTransportAdminMessage$GroupImageChanged";J.internalSpec={action:[1,d.TYPES.ENUM,e]};K.name="MiTransportAdminMessage$MessagePinned";K.internalSpec={action:[1,d.TYPES.ENUM,f]};L.name="MiTransportAdminMessage$GroupMembershipAddModeChanged";L.internalSpec={mode:[1,d.TYPES.ENUM,b]};M.name="MiTransportAdminMessage$GroupNameChanged";M.internalSpec={groupName:[1,d.TYPES.STRING]};N.name="MiTransportAdminMessage$GroupAdminChanged";N.internalSpec={targetUserId:[1,d.FLAGS.REPEATED|d.TYPES.STRING],action:[2,d.TYPES.ENUM,h]};O.name="MiTransportAdminMessage$GroupParticipantChanged";O.internalSpec={targetUserId:[1,d.FLAGS.REPEATED|d.TYPES.STRING],action:[2,d.TYPES.ENUM,a]};P.name="MiTransportAdminMessage$NicknameChanged";P.internalSpec={targetUserId:[1,d.TYPES.STRING],nickname:[2,d.TYPES.STRING]};Q.name="MiTransportAdminMessage$ChatThemeChanged";Q.internalSpec={themeName:[1,d.TYPES.STRING],themeEmoji:[2,d.TYPES.STRING],themeType:[3,d.TYPES.INT32]};g.MiTransportAdminMessage$LimitSharingChanged$SharingType=c;g.MiTransportAdminMessage$GroupImageChanged$Action=e;g.MiTransportAdminMessage$MessagePinned$Action=f;g.MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode=b;g.MiTransportAdminMessage$GroupAdminChanged$Action=h;g.MiTransportAdminMessage$GroupParticipantChanged$Action=a;g.MiTransportAdminMessageSpec=i;g.MiTransportAdminMessage$XmatUnpinMessageV2Spec=j;g.MiTransportAdminMessage$XmatPinMessageV2Spec=k;g.MiTransportAdminMessage$XmatUpdatePaymentsSpec=l;g.MiTransportAdminMessage$XmatThreadQuickReactionSpec=m;g.MiTransportAdminMessage$XmatThreadNicknameSpec=n;g.MiTransportAdminMessage$XmatThreadIconSpec=o;g.MiTransportAdminMessage$XmatThemeColorSpec=p;g.MiTransportAdminMessage$XmatMessengerSharedAlbumSpec=q;g.MiTransportAdminMessage$XmatMessengerSharedAlbumRenameSpec=r;g.MiTransportAdminMessage$XmatMessengerSharedAlbumDeletionSpec=s;g.MiTransportAdminMessage$XmatMessengerSharedAlbumContentRemovalSpec=t;g.MiTransportAdminMessage$XmatMessengerSharedAlbumContentRemoval$RemovedContentTupleSpec=u;g.MiTransportAdminMessage$XmatMessengerSharedAlbumAdditionSpec=v;g.MiTransportAdminMessage$XmatMessengerQRCodeScannedSpec=w;g.MiTransportAdminMessage$XmatMessagingLimitSharingSpec=x;g.MiTransportAdminMessage$XmatMagicWordsSpec=y;g.MiTransportAdminMessage$XmatLinkCTASpec=z;g.MiTransportAdminMessage$XmatInstantGameEncryptedDynamicCustomUpdateSpec=A;g.MiTransportAdminMessage$XmatFriendRequestConfirmedEncryptedSpec=B;g.MiTransportAdminMessage$XmatDisappearingSettingSpec=C;g.MiTransportAdminMessage$LimitSharingChangedSpec=D;g.MiTransportAdminMessage$DisappearingSettingChangedSpec=E;g.MiTransportAdminMessage$IconChangedSpec=F;g.MiTransportAdminMessage$LinkCtaSpec=G;g.MiTransportAdminMessage$LinkCta$UkOsaAdminTextSpec=H;g.MiTransportAdminMessage$QuickReactionChangedSpec=I;g.MiTransportAdminMessage$GroupImageChangedSpec=J;g.MiTransportAdminMessage$MessagePinnedSpec=K;g.MiTransportAdminMessage$GroupMembershipAddModeChangedSpec=L;g.MiTransportAdminMessage$GroupNameChangedSpec=M;g.MiTransportAdminMessage$GroupAdminChangedSpec=N;g.MiTransportAdminMessage$GroupParticipantChangedSpec=O;g.MiTransportAdminMessage$NicknameChangedSpec=P;g.MiTransportAdminMessage$ChatThemeChangedSpec=Q}),98);
__d("WAArmadilloTransportEvent.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){a=b("$InternalEnum")({NONE:0,DETECTED:1,CLEARED:2});c=b("$InternalEnum")({NONE:0,ADDED:1,REMOVED:2,REPLACED:3});e=b("$InternalEnum")({DECRYPTION_FAILURE:1,UNAVAILABLE_MESSAGE:2});f={};b={};var h={},i={},j={};f.name="TransportEvent";f.internalSpec={placeholder:[1,(d=d("WAProtoConst")).TYPES.MESSAGE,j],event:[2,d.TYPES.MESSAGE,b],__oneofs__:{content:["placeholder","event"]}};b.name="TransportEvent$Event";b.internalSpec={deviceChange:[1,d.TYPES.MESSAGE,i],icdcAlert:[2,d.TYPES.MESSAGE,h],__oneofs__:{event:["deviceChange","icdcAlert"]}};h.name="TransportEvent$Event$IcdcAlert";h.internalSpec={type:[1,d.TYPES.ENUM,a]};i.name="TransportEvent$Event$DeviceChange";i.internalSpec={type:[1,d.TYPES.ENUM,c],deviceName:[2,d.TYPES.STRING],devicePlatform:[3,d.TYPES.STRING],deviceModel:[4,d.TYPES.STRING]};j.name="TransportEvent$Placeholder";j.internalSpec={type:[1,d.TYPES.ENUM,e]};g.TransportEvent$Event$IcdcAlert$Type=a;g.TransportEvent$Event$DeviceChange$Type=c;g.TransportEvent$Placeholder$Type=e;g.TransportEventSpec=f;g.TransportEvent$EventSpec=b;g.TransportEvent$Event$IcdcAlertSpec=h;g.TransportEvent$Event$DeviceChangeSpec=i;g.TransportEvent$PlaceholderSpec=j}),98);
__d("WAConsumerApplication.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={SMALL:1,MEDIUM:2,LARGE:3};b={SANS_SERIF:0,SERIF:1,NORICAN_REGULAR:2,BRYNDAN_WRITE:3,BEBASNEUE_REGULAR:4,OSWALD_HEAVY:5};c={NONE:0,VIDEO:1};e={};f={};var i={},j={},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={},x={},y={},z={},A={},B={},C={},D={},E={},F={},G={},H={},I={},J={},K={},L={},M={};e.name="ConsumerApplication";e.internalSpec={payload:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,f],metadata:[2,h.TYPES.MESSAGE,j]};f.name="ConsumerApplication$Payload";f.internalSpec={content:[1,h.TYPES.MESSAGE,m],applicationData:[2,h.TYPES.MESSAGE,l],signal:[3,h.TYPES.MESSAGE,k],subProtocol:[4,h.TYPES.MESSAGE,i],__oneofs__:{payload:["content","applicationData","signal","subProtocol"]}};i.name="ConsumerApplication$SubProtocolPayload";i.internalSpec={futureProof:[1,h.TYPES.ENUM,(d=d("WACommon.pb")).FUTURE_PROOF_BEHAVIOR]};j.name="ConsumerApplication$Metadata";j.internalSpec={specialTextSize:[1,h.TYPES.ENUM,a]};k.name="ConsumerApplication$Signal";k.internalSpec={};l.name="ConsumerApplication$ApplicationData";l.internalSpec={revoke:[1,h.TYPES.MESSAGE,v],__oneofs__:{applicationContent:["revoke"]}};m.name="ConsumerApplication$Content";m.internalSpec={messageText:[1,h.TYPES.MESSAGE,d.MessageTextSpec],imageMessage:[2,h.TYPES.MESSAGE,I],contactMessage:[3,h.TYPES.MESSAGE,A],locationMessage:[4,h.TYPES.MESSAGE,D],extendedTextMessage:[5,h.TYPES.MESSAGE,C],statusTextMessage:[6,h.TYPES.MESSAGE,B],documentMessage:[7,h.TYPES.MESSAGE,F],audioMessage:[8,h.TYPES.MESSAGE,H],videoMessage:[9,h.TYPES.MESSAGE,G],contactsArrayMessage:[10,h.TYPES.MESSAGE,z],liveLocationMessage:[11,h.TYPES.MESSAGE,y],stickerMessage:[12,h.TYPES.MESSAGE,E],groupInviteMessage:[13,h.TYPES.MESSAGE,x],viewOnceMessage:[14,h.TYPES.MESSAGE,w],reactionMessage:[16,h.TYPES.MESSAGE,u],pollCreationMessage:[17,h.TYPES.MESSAGE,s],pollUpdateMessage:[18,h.TYPES.MESSAGE,r],editMessage:[19,h.TYPES.MESSAGE,n],__oneofs__:{content:["messageText","imageMessage","contactMessage","locationMessage","extendedTextMessage","statusTextMessage","documentMessage","audioMessage","videoMessage","contactsArrayMessage","liveLocationMessage","stickerMessage","groupInviteMessage","viewOnceMessage","reactionMessage","pollCreationMessage","pollUpdateMessage","editMessage"]}};n.name="ConsumerApplication$EditMessage";n.internalSpec={key:[1,h.TYPES.MESSAGE,d.MessageKeySpec],message:[2,h.TYPES.MESSAGE,d.MessageTextSpec],timestampMs:[3,h.TYPES.INT64]};o.name="ConsumerApplication$PollAddOptionMessage";o.internalSpec={pollOption:[1,h.FLAGS.REPEATED|h.TYPES.MESSAGE,t]};p.name="ConsumerApplication$PollVoteMessage";p.internalSpec={selectedOptions:[1,h.FLAGS.REPEATED|h.TYPES.BYTES],senderTimestampMs:[2,h.TYPES.INT64]};q.name="ConsumerApplication$PollEncValue";q.internalSpec={encPayload:[1,h.TYPES.BYTES],encIv:[2,h.TYPES.BYTES]};r.name="ConsumerApplication$PollUpdateMessage";r.internalSpec={pollCreationMessageKey:[1,h.TYPES.MESSAGE,d.MessageKeySpec],vote:[2,h.TYPES.MESSAGE,q],addOption:[3,h.TYPES.MESSAGE,q]};s.name="ConsumerApplication$PollCreationMessage";s.internalSpec={encKey:[1,h.TYPES.BYTES],name:[2,h.TYPES.STRING],options:[3,h.FLAGS.REPEATED|h.TYPES.MESSAGE,t],selectableOptionsCount:[4,h.TYPES.UINT32]};t.name="ConsumerApplication$Option";t.internalSpec={optionName:[1,h.TYPES.STRING]};u.name="ConsumerApplication$ReactionMessage";u.internalSpec={key:[1,h.TYPES.MESSAGE,d.MessageKeySpec],text:[2,h.TYPES.STRING],groupingKey:[3,h.TYPES.STRING],senderTimestampMs:[4,h.TYPES.INT64],reactionMetadataDataclassData:[5,h.TYPES.STRING],style:[6,h.TYPES.INT32]};v.name="ConsumerApplication$RevokeMessage";v.internalSpec={key:[1,h.TYPES.MESSAGE,d.MessageKeySpec]};w.name="ConsumerApplication$ViewOnceMessage";w.internalSpec={imageMessage:[1,h.TYPES.MESSAGE,I],videoMessage:[2,h.TYPES.MESSAGE,G],__oneofs__:{viewOnceContent:["imageMessage","videoMessage"]}};x.name="ConsumerApplication$GroupInviteMessage";x.internalSpec={groupJid:[1,h.TYPES.STRING],inviteCode:[2,h.TYPES.STRING],inviteExpiration:[3,h.TYPES.INT64],groupName:[4,h.TYPES.STRING],jpegThumbnail:[5,h.TYPES.BYTES],caption:[6,h.TYPES.MESSAGE,d.MessageTextSpec]};y.name="ConsumerApplication$LiveLocationMessage";y.internalSpec={location:[1,h.TYPES.MESSAGE,L],accuracyInMeters:[2,h.TYPES.UINT32],speedInMps:[3,h.TYPES.FLOAT],degreesClockwiseFromMagneticNorth:[4,h.TYPES.UINT32],caption:[5,h.TYPES.MESSAGE,d.MessageTextSpec],sequenceNumber:[6,h.TYPES.INT64],timeOffset:[7,h.TYPES.UINT32]};z.name="ConsumerApplication$ContactsArrayMessage";z.internalSpec={displayName:[1,h.TYPES.STRING],contacts:[2,h.FLAGS.REPEATED|h.TYPES.MESSAGE,A]};A.name="ConsumerApplication$ContactMessage";A.internalSpec={contact:[1,h.TYPES.MESSAGE,d.SubProtocolSpec]};B.name="ConsumerApplication$StatusTextMesage";B.internalSpec={text:[1,h.TYPES.MESSAGE,C],textArgb:[6,h.TYPES.FIXED32],backgroundArgb:[7,h.TYPES.FIXED32],font:[8,h.TYPES.ENUM,b]};C.name="ConsumerApplication$ExtendedTextMessage";C.internalSpec={text:[1,h.TYPES.MESSAGE,d.MessageTextSpec],matchedText:[2,h.TYPES.STRING],canonicalUrl:[3,h.TYPES.STRING],description:[4,h.TYPES.STRING],title:[5,h.TYPES.STRING],thumbnail:[6,h.TYPES.MESSAGE,d.SubProtocolSpec],previewType:[7,h.TYPES.ENUM,c]};D.name="ConsumerApplication$LocationMessage";D.internalSpec={location:[1,h.TYPES.MESSAGE,L],address:[2,h.TYPES.STRING]};E.name="ConsumerApplication$StickerMessage";E.internalSpec={sticker:[1,h.TYPES.MESSAGE,d.SubProtocolSpec]};F.name="ConsumerApplication$DocumentMessage";F.internalSpec={document:[1,h.TYPES.MESSAGE,d.SubProtocolSpec],fileName:[2,h.TYPES.STRING]};G.name="ConsumerApplication$VideoMessage";G.internalSpec={video:[1,h.TYPES.MESSAGE,d.SubProtocolSpec],caption:[2,h.TYPES.MESSAGE,d.MessageTextSpec]};H.name="ConsumerApplication$AudioMessage";H.internalSpec={audio:[1,h.TYPES.MESSAGE,d.SubProtocolSpec],ptt:[2,h.TYPES.BOOL]};I.name="ConsumerApplication$ImageMessage";I.internalSpec={image:[1,h.TYPES.MESSAGE,d.SubProtocolSpec],caption:[2,h.TYPES.MESSAGE,d.MessageTextSpec]};J.name="ConsumerApplication$InteractiveAnnotation";J.internalSpec={polygonVertices:[1,h.FLAGS.REPEATED|h.TYPES.MESSAGE,K],location:[2,h.TYPES.MESSAGE,L],__oneofs__:{action:["location"]}};K.name="ConsumerApplication$Point";K.internalSpec={x:[1,h.TYPES.DOUBLE],y:[2,h.TYPES.DOUBLE]};L.name="ConsumerApplication$Location";L.internalSpec={degreesLatitude:[1,h.TYPES.DOUBLE],degreesLongitude:[2,h.TYPES.DOUBLE],name:[3,h.TYPES.STRING]};M.name="ConsumerApplication$MediaPayload";M.internalSpec={protocol:[1,h.TYPES.MESSAGE,d.SubProtocolSpec]};g.CONSUMER_APPLICATION_METADATA_SPECIAL_TEXT_SIZE=a;g.CONSUMER_APPLICATION_STATUS_TEXT_MESAGE_FONT_TYPE=b;g.CONSUMER_APPLICATION_EXTENDED_TEXT_MESSAGE_PREVIEW_TYPE=c;g.ConsumerApplicationSpec=e;g.ConsumerApplication$PayloadSpec=f;g.ConsumerApplication$SubProtocolPayloadSpec=i;g.ConsumerApplication$MetadataSpec=j;g.ConsumerApplication$SignalSpec=k;g.ConsumerApplication$ApplicationDataSpec=l;g.ConsumerApplication$ContentSpec=m;g.ConsumerApplication$EditMessageSpec=n;g.ConsumerApplication$PollAddOptionMessageSpec=o;g.ConsumerApplication$PollVoteMessageSpec=p;g.ConsumerApplication$PollEncValueSpec=q;g.ConsumerApplication$PollUpdateMessageSpec=r;g.ConsumerApplication$PollCreationMessageSpec=s;g.ConsumerApplication$OptionSpec=t;g.ConsumerApplication$ReactionMessageSpec=u;g.ConsumerApplication$RevokeMessageSpec=v;g.ConsumerApplication$ViewOnceMessageSpec=w;g.ConsumerApplication$GroupInviteMessageSpec=x;g.ConsumerApplication$LiveLocationMessageSpec=y;g.ConsumerApplication$ContactsArrayMessageSpec=z;g.ConsumerApplication$ContactMessageSpec=A;g.ConsumerApplication$StatusTextMesageSpec=B;g.ConsumerApplication$ExtendedTextMessageSpec=C;g.ConsumerApplication$LocationMessageSpec=D;g.ConsumerApplication$StickerMessageSpec=E;g.ConsumerApplication$DocumentMessageSpec=F;g.ConsumerApplication$VideoMessageSpec=G;g.ConsumerApplication$AudioMessageSpec=H;g.ConsumerApplication$ImageMessageSpec=I;g.ConsumerApplication$InteractiveAnnotationSpec=J;g.ConsumerApplication$PointSpec=K;g.ConsumerApplication$LocationSpec=L;g.ConsumerApplication$MediaPayloadSpec=M}),98);
__d("WAMediaTransport.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={NONE:0,LQ_4K:1,HQ_4K:2};b={NONE:0,GIPHY:1,TENOR:2};c={TALKING_A:0,IDLE_A:1,TALKING_B:2,IDLE_B:3,BACKGROUND:4};e={UNKNOWN:0,OPUS:1};f={};var i={},j={},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={},x={},y={},z={},A={},B={},C={},D={},E={},F={};f.name="WAMediaTransport";f.internalSpec={integral:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,l],ancillary:[2,h.TYPES.MESSAGE,i]};i.name="WAMediaTransport$Ancillary";i.internalSpec={fileLength:[1,h.TYPES.UINT64],mimetype:[2,h.TYPES.STRING],thumbnail:[3,h.TYPES.MESSAGE,j],objectId:[4,h.TYPES.STRING]};j.name="WAMediaTransport$Ancillary$Thumbnail";j.internalSpec={jpegThumbnail:[1,h.TYPES.BYTES],downloadableThumbnail:[2,h.TYPES.MESSAGE,k],thumbnailWidth:[3,h.TYPES.UINT32],thumbnailHeight:[4,h.TYPES.UINT32]};k.name="WAMediaTransport$Ancillary$Thumbnail$DownloadableThumbnail";k.internalSpec={fileSha256:[1,h.TYPES.BYTES],fileEncSha256:[2,h.TYPES.BYTES],directPath:[3,h.TYPES.STRING],mediaKey:[4,h.TYPES.BYTES],mediaKeyTimestamp:[5,h.TYPES.INT64],objectId:[6,h.TYPES.STRING],thumbnailScansSidecar:[7,h.TYPES.BYTES],thumbnailScanLengths:[8,h.FLAGS.REPEATED|h.TYPES.UINT32]};l.name="WAMediaTransport$Integral";l.internalSpec={fileSha256:[1,h.TYPES.BYTES],mediaKey:[2,h.TYPES.BYTES],fileEncSha256:[3,h.TYPES.BYTES],directPath:[4,h.TYPES.STRING],mediaKeyTimestamp:[5,h.TYPES.INT64]};m.name="ImageTransport";m.internalSpec={integral:[1,h.TYPES.MESSAGE,o],ancillary:[2,h.TYPES.MESSAGE,n]};n.name="ImageTransport$Ancillary";n.internalSpec={height:[1,h.TYPES.UINT32],width:[2,h.TYPES.UINT32],scansSidecar:[3,h.TYPES.BYTES],scanLengths:[4,h.FLAGS.REPEATED|h.TYPES.UINT32],midQualityFileSha256:[5,h.TYPES.BYTES],hdType:[6,h.TYPES.ENUM,a],memoriesConceptScores:[7,h.FLAGS.REPEATED|h.FLAGS.PACKED|h.TYPES.FLOAT],memoriesConceptIds:[8,h.FLAGS.REPEATED|h.FLAGS.PACKED|h.TYPES.UINT32]};o.name="ImageTransport$Integral";o.internalSpec={transport:[1,h.TYPES.MESSAGE,f]};p.name="VideoTransport";p.internalSpec={integral:[1,h.TYPES.MESSAGE,r],ancillary:[2,h.TYPES.MESSAGE,q]};q.name="VideoTransport$Ancillary";q.internalSpec={seconds:[1,h.TYPES.UINT32],caption:[2,h.TYPES.MESSAGE,d("WACommon.pb").MessageTextSpec],gifPlayback:[3,h.TYPES.BOOL],height:[4,h.TYPES.UINT32],width:[5,h.TYPES.UINT32],sidecar:[6,h.TYPES.BYTES],gifAttribution:[7,h.TYPES.ENUM,b],accessibilityLabel:[8,h.TYPES.STRING],isHd:[9,h.TYPES.BOOL]};r.name="VideoTransport$Integral";r.internalSpec={transport:[1,h.TYPES.MESSAGE,f]};s.name="AudioTransport";s.internalSpec={integral:[1,h.TYPES.MESSAGE,w],ancillary:[2,h.TYPES.MESSAGE,t]};t.name="AudioTransport$Ancillary";t.internalSpec={seconds:[1,h.TYPES.UINT32],avatarAudio:[2,h.TYPES.MESSAGE,u]};u.name="AudioTransport$Ancillary$AvatarAudio";u.internalSpec={poseId:[1,h.TYPES.UINT32],avatarAnimations:[2,h.FLAGS.REPEATED|h.TYPES.MESSAGE,v]};v.name="AudioTransport$Ancillary$AvatarAudio$DownloadableAvatarAnimations";v.internalSpec={fileSha256:[1,h.TYPES.BYTES],fileEncSha256:[2,h.TYPES.BYTES],directPath:[3,h.TYPES.STRING],mediaKey:[4,h.TYPES.BYTES],mediaKeyTimestamp:[5,h.TYPES.INT64],objectId:[6,h.TYPES.STRING],animationsType:[7,h.TYPES.ENUM,c]};w.name="AudioTransport$Integral";w.internalSpec={transport:[1,h.TYPES.MESSAGE,f],audioFormat:[2,h.TYPES.ENUM,e]};x.name="DocumentTransport";x.internalSpec={integral:[1,h.TYPES.MESSAGE,z],ancillary:[2,h.TYPES.MESSAGE,y]};y.name="DocumentTransport$Ancillary";y.internalSpec={pageCount:[1,h.TYPES.UINT32]};z.name="DocumentTransport$Integral";z.internalSpec={transport:[1,h.TYPES.MESSAGE,f]};A.name="StickerTransport";A.internalSpec={integral:[1,h.TYPES.MESSAGE,C],ancillary:[2,h.TYPES.MESSAGE,B]};B.name="StickerTransport$Ancillary";B.internalSpec={pageCount:[1,h.TYPES.UINT32],height:[2,h.TYPES.UINT32],width:[3,h.TYPES.UINT32],firstFrameLength:[4,h.TYPES.UINT32],firstFrameSidecar:[5,h.TYPES.BYTES],mustacheText:[6,h.TYPES.STRING],isThirdParty:[7,h.TYPES.BOOL],receiverFetchId:[8,h.TYPES.STRING],accessibilityLabel:[9,h.TYPES.STRING]};C.name="StickerTransport$Integral";C.internalSpec={transport:[1,h.TYPES.MESSAGE,f],isAnimated:[2,h.TYPES.BOOL],receiverFetchId:[3,h.TYPES.STRING]};D.name="ContactTransport";D.internalSpec={integral:[1,h.TYPES.MESSAGE,F],ancillary:[2,h.TYPES.MESSAGE,E]};E.name="ContactTransport$Ancillary";E.internalSpec={displayName:[1,h.TYPES.STRING]};F.name="ContactTransport$Integral";F.internalSpec={vcard:[1,h.TYPES.STRING],downloadableVcard:[2,h.TYPES.MESSAGE,f],__oneofs__:{contact:["vcard","downloadableVcard"]}};g.IMAGE_TRANSPORT_ANCILLARY_HD_TYPE=a;g.VIDEO_TRANSPORT_ANCILLARY_ATTRIBUTION=b;g.AUDIO_TRANSPORT_ANCILLARY_AVATAR_AUDIO_ANIMATIONS_TYPE=c;g.AUDIO_TRANSPORT_INTEGRAL_AUDIO_FORMAT=e;g.WAMediaTransportSpec=f;g.WAMediaTransport$AncillarySpec=i;g.WAMediaTransport$Ancillary$ThumbnailSpec=j;g.WAMediaTransport$Ancillary$Thumbnail$DownloadableThumbnailSpec=k;g.WAMediaTransport$IntegralSpec=l;g.ImageTransportSpec=m;g.ImageTransport$AncillarySpec=n;g.ImageTransport$IntegralSpec=o;g.VideoTransportSpec=p;g.VideoTransport$AncillarySpec=q;g.VideoTransport$IntegralSpec=r;g.AudioTransportSpec=s;g.AudioTransport$AncillarySpec=t;g.AudioTransport$Ancillary$AvatarAudioSpec=u;g.AudioTransport$Ancillary$AvatarAudio$DownloadableAvatarAnimationsSpec=v;g.AudioTransport$IntegralSpec=w;g.DocumentTransportSpec=x;g.DocumentTransport$AncillarySpec=y;g.DocumentTransport$IntegralSpec=z;g.StickerTransportSpec=A;g.StickerTransport$AncillarySpec=B;g.StickerTransport$IntegralSpec=C;g.ContactTransportSpec=D;g.ContactTransport$AncillarySpec=E;g.ContactTransport$IntegralSpec=F}),98);
__d("WAMsgApplication.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={DEFAULT:0,VANISH_MODE:1,DISAPPEARING_MESSAGES:2};b={UNKNOWN:0,SEEN_ONCE:1,SEEN_BASED_WITH_TIMER:2,SEND_BASED_WITH_TIMER:3};c={};e={};f={};var i={},j={},k={},l={},m={},n={},o={};c.name="MessageApplication";c.internalSpec={payload:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,j],metadata:[2,h.TYPES.MESSAGE,e]};e.name="MessageApplication$Metadata";e.internalSpec={forwardingScore:[5,h.TYPES.UINT32],isForwarded:[6,h.TYPES.BOOL],businessMetadata:[7,h.TYPES.MESSAGE,(d=d("WACommon.pb")).SubProtocolSpec],frankingKey:[8,h.TYPES.BYTES],frankingVersion:[9,h.TYPES.INT32],quotedMessage:[10,h.TYPES.MESSAGE,f],threadType:[11,h.TYPES.ENUM,a],readonlyMetadataDataclass:[12,h.TYPES.STRING],groupId:[13,h.TYPES.STRING],groupSize:[14,h.TYPES.UINT32],groupIndex:[15,h.TYPES.UINT32],botResponseId:[16,h.TYPES.STRING],collapsibleId:[17,h.TYPES.STRING],secondaryOtid:[18,h.TYPES.STRING],chatEphemeralSetting:[1,h.TYPES.MESSAGE,o],ephemeralSettingList:[2,h.TYPES.MESSAGE,i],ephemeralSharedSecret:[3,h.TYPES.BYTES],__oneofs__:{ephemeral:["chatEphemeralSetting","ephemeralSettingList","ephemeralSharedSecret"]}};f.name="MessageApplication$Metadata$QuotedMessage";f.internalSpec={stanzaId:[1,h.TYPES.STRING],remoteJid:[2,h.TYPES.STRING],participant:[3,h.TYPES.STRING],payload:[4,h.TYPES.MESSAGE,j]};i.name="MessageApplication$Metadata$EphemeralSettingMap";i.internalSpec={chatJid:[1,h.TYPES.STRING],ephemeralSetting:[2,h.TYPES.MESSAGE,o]};j.name="MessageApplication$Payload";j.internalSpec={coreContent:[1,h.TYPES.MESSAGE,n],signal:[2,h.TYPES.MESSAGE,m],applicationData:[3,h.TYPES.MESSAGE,l],subProtocol:[4,h.TYPES.MESSAGE,k],__oneofs__:{content:["coreContent","signal","applicationData","subProtocol"]}};k.name="MessageApplication$SubProtocolPayload";k.internalSpec={futureProof:[1,h.TYPES.ENUM,d.FUTURE_PROOF_BEHAVIOR],consumerMessage:[2,h.TYPES.MESSAGE,d.SubProtocolSpec],businessMessage:[3,h.TYPES.MESSAGE,d.SubProtocolSpec],paymentMessage:[4,h.TYPES.MESSAGE,d.SubProtocolSpec],multiDevice:[5,h.TYPES.MESSAGE,d.SubProtocolSpec],voip:[6,h.TYPES.MESSAGE,d.SubProtocolSpec],armadillo:[7,h.TYPES.MESSAGE,d.SubProtocolSpec],__oneofs__:{subProtocol:["consumerMessage","businessMessage","paymentMessage","multiDevice","voip","armadillo"]}};l.name="MessageApplication$ApplicationData";l.internalSpec={};m.name="MessageApplication$Signal";m.internalSpec={};n.name="MessageApplication$Content";n.internalSpec={};o.name="MessageApplication$EphemeralSetting";o.internalSpec={ephemeralExpiration:[2,h.TYPES.UINT32],ephemeralSettingTimestamp:[3,h.TYPES.INT64],ephemeralityType:[5,h.TYPES.ENUM,b],isEphemeralSettingReset:[4,h.TYPES.BOOL]};g.MESSAGE_APPLICATION_METADATA_THREAD_TYPE=a;g.MESSAGE_APPLICATION_EPHEMERAL_SETTING_EPHEMERALITY_TYPE=b;g.MessageApplicationSpec=c;g.MessageApplication$MetadataSpec=e;g.MessageApplication$Metadata$QuotedMessageSpec=f;g.MessageApplication$Metadata$EphemeralSettingMapSpec=i;g.MessageApplication$PayloadSpec=j;g.MessageApplication$SubProtocolPayloadSpec=k;g.MessageApplication$ApplicationDataSpec=l;g.MessageApplication$SignalSpec=m;g.MessageApplication$ContentSpec=n;g.MessageApplication$EphemeralSettingSpec=o}),98);
__d("WAParseMessageApplication",["decodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c,e=a.payload;if(e==null)return{version:"v3",type:"error",error:"The messageApplication has no payload"};if(d("decodeProtobuf").getUnknownFields(a.payload)!=null)return{version:"v3",type:"error",error:"There are unknown fields in the message application payload"};e=e.subProtocol;if(e==null)return{version:"v3",type:"error",error:"The messageApplication payload has no subProtocol"};if(d("decodeProtobuf").getUnknownFields(e)!=null)return{version:"v3",type:"error",error:"messageApplication subProtocol has unknown fields",futureProof:e.futureProof};e=[];b=(b=a.payload)==null||(b=b.subProtocol)==null?void 0:b.consumerMessage;c=(c=a.payload)==null||(c=c.subProtocol)==null?void 0:c.armadillo;a=(a=a.payload)==null||(a=a.subProtocol)==null?void 0:a.multiDevice;if(b!=null){if(b.payload==null)return{version:"v3",type:"error",error:"subprotocol of type consumerMessage has no payload"};e.push({payload:new Uint8Array(b.payload),type:"success",subprotocolType:"consumerMessage"})}if(c!=null){if(c.payload==null)return{version:"v3",type:"error",error:"subprotocol of type armadillo has no payload"};e.push({payload:new Uint8Array(c.payload),type:"success",subprotocolType:"armadillo"})}if(a!=null){if(a.payload==null)return{version:"v3",type:"error",error:"subprotocol of type multiDevice has no payload"};e.push({payload:new Uint8Array(a.payload),type:"success",subprotocolType:"multiDevice"})}return e.length!==1?{version:"v3",type:"error",error:"Wrong number of subprotocols: "+e.length}:e[0]}g.parseMessageApplication=a}),98);
__d("lastx",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=null;if(Array.isArray(a))a.length&&(b={value:a[a.length-1]});else for(a of a)b=b||{},b.value=a;if(b)return b.value;h(0,1145)}g["default"]=a}),98);
__d("MultiKeyMap",["invariant","lastx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=typeof WeakMap==="function";a=function(){function a(){this.$1=this.$2(),this.$3=null}var b=a.prototype;b.set=function(a,b){this.$4(a);var c=this.$1;for(var d=0;d<a.length-1;d++){var e=a[d],f=this.$5(c,e).get(e);f==null&&(f=this.$2(),this.$5(c,e).set(e,f));f.type==="map"||h(0,1732);c=f}e=a[a.length-1];this.$5(c,e).set(e,{type:"value",value:b})};b.get=function(a){this.$4(a);var b=this.$6(a);b=b&&b.get(c("lastx")(a));return b==null||b.type!=="value"?void 0:b.value};b["delete"]=function(a){this.$4(a);var b=this.$6(a);return b?b["delete"](c("lastx")(a)):!1};b.$5=function(a,b){return j(b)?a.cache:a.weakCache};b.$6=function(a){var b=this.$1;for(var d=0;d<a.length-1;d++){var e,f=a[d];if(((e=b)==null?void 0:e.type)==="map")b=this.$5(b,f).get(f);else return void 0}e=c("lastx")(a);f=b&&this.$5(b,e);return f};b.$2=function(){return{type:"map",cache:new Map(),weakCache:i?new WeakMap():new Map()}};b.$4=function(a){this.$3==null&&(this.$3=a.length);if(this.$3!==a.length)throw new Error("MultiKeyMap called with different number of keys");if(a.length<1)throw new Error("MultiKeyMap called with empty array of keys")};return a}();function j(a){var b=typeof a;return b==="number"||b==="string"||b==="boolean"||a==null}g["default"]=a}),98);
__d("memoizeWithArgsWeak",["MultiKeyMap"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0;var d=new(c("MultiKeyMap"))();return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];var f=d.get(c);if(f!==void 0)return f;var g=a.apply(void 0,c);d.set(c,g);return g}}g["default"]=a}),98);
__d("MAWProtobufDeserializers",["FBLogger","WAArmadilloApplication.pb","WAArmadilloBackupMessage.pb","WAArmadilloLocallyTransformedMessage.pb","WAArmadilloMiTransportAdminMessage.pb","WAArmadilloTransportEvent.pb","WAByteArray","WAConsumerApplication.pb","WAMediaTransport.pb","WAMsgApplication.pb","WAParseMessageApplication","decodeProtobuf","memoize","memoizeWithArgsWeak","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a instanceof ArrayBuffer)return a;else return d("WAByteArray").uint8ArrayToBuffer(a)}var i=function(a){this.kind="imageTransport";this.payload=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").ImageTransportSpec,(a=a.image)==null?void 0:a.payload)},j=function(a){var b;this.kind="audioTransport";this.payload=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").AudioTransportSpec,(b=a.audio)==null?void 0:b.payload);this.ptt=a.ptt},k=function(a){var b;this.kind="videoTransport";this.payload=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").VideoTransportSpec,(b=a.video)==null?void 0:b.payload);this.caption=a.caption},l=function(a){var b;this.kind="documentTransport";this.payload=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").DocumentTransportSpec,(b=a.document)==null?void 0:b.payload);this.fileName=a.fileName},m=function(a){this.kind="stickerTransport";this.payload=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").StickerTransportSpec,(a=a.sticker)==null?void 0:a.payload)},n=function(a){var b=this,e;this.kind="extendedContentMessage";this.favicon=(e=c("memoize"))(function(){var a;return((a=b.payload)==null||(a=a.favicon)==null?void 0:a.payload)==null?null:d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").ImageTransportSpec,(a=b.payload)==null||(a=a.favicon)==null?void 0:a.payload)});this.headerImage=e(function(){var a;return((a=b.payload)==null||(a=a.headerImage)==null?void 0:a.payload)==null?null:d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").ImageTransportSpec,(a=b.payload)==null||(a=a.headerImage)==null?void 0:a.payload)});this.previews=e(function(){var a;return(a=(a=b.payload)==null||(a=a.previews)==null?void 0:a.map(function(a){return d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").ImageTransportSpec,a.payload)}))!=null?a:[]});this.associatedMessage=e(function(){var a=b.payload.associatedMessage;return(a==null?void 0:a.payload)==null?null:new q(a.payload)});this.payload=a},o=function(){function a(a){this.kind="armadillo",this.bytes=h(a),this.proto=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloApplication.pb").ArmadilloSpec,a),this.payload=this.proto.payload,this.metadata=this.proto.metadata}var b=a.prototype;b.extendedContentMessage=function(){var a;a=(a=this.payload)==null||(a=a.content)==null?void 0:a.extendedContentMessage;return a==null?null:new n(a)};b.paymentsTransactionMessage=function(){var a;a=(a=this.payload)==null||(a=a.content)==null||(a=a.paymentsTransactionMessage)==null?void 0:a.extendedContentMessage;return a==null?null:new n(a)};return a}(),p=function(a){var b=this,e;this.kind="consumerApplication";this.imageMessage=(e=c("memoize"))(function(){var a;a=(a=b.payload)==null||(a=a.content)==null?void 0:a.imageMessage;if(a==null)return;return new i(a)});this.audioMessage=e(function(){var a;a=(a=b.payload)==null||(a=a.content)==null?void 0:a.audioMessage;if(a==null)return;return new j(a)});this.videoMessage=e(function(){var a;a=(a=b.payload)==null||(a=a.content)==null?void 0:a.videoMessage;if(a==null)return;return new k(a)});this.documentMessage=e(function(){var a;a=(a=b.payload)==null||(a=a.content)==null?void 0:a.documentMessage;if(a==null)return;return new l(a)});this.stickerMessage=e(function(){var a;a=(a=b.payload)==null||(a=a.content)==null?void 0:a.stickerMessage;if(a==null)return;return new m(a)});this.bytes=h(a);this.proto=d("decodeProtobuf").decodeProtobuf(d("WAConsumerApplication.pb").ConsumerApplicationSpec,a);this.payload=this.proto.payload;this.metadata=this.proto.metadata},q=function(){function a(a){var b=this;this.kind="messageApplication";this.subProtocol=c("memoize")(function(){var a=d("WAParseMessageApplication").parseMessageApplication(b.proto);if(a.payload!=null){var c=a.payload;switch(a.subprotocolType){case"consumerMessage":return new p(c);case"armadillo":return new o(c);case"businessMessage":case"paymentMessage":case"multiDevice":case"voip":break;default:a.subprotocolType}}});this.bytes=h(a);this.proto=d("decodeProtobuf").decodeProtobuf(d("WAMsgApplication.pb").MessageApplicationSpec,a)}var b=a.prototype;b.consumerMessage=function(){var a=this.subProtocol();return(a==null?void 0:a.kind)!=="consumerApplication"?null:a};b.armadillo=function(){var a=this.subProtocol();return(a==null?void 0:a.kind)!=="armadillo"?null:a};return a}(),r=function(a){this.kind="transportEvent",this.proto=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloTransportEvent.pb").TransportEventSpec,a)},s=function(a){this.kind="locallyTransformedMessage",this.proto=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloLocallyTransformedMessage.pb").LocallyTransformedMessageSpec,a)},t=function(a){this.kind="adminMessage",this.proto=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessageSpec,a)},u="SKIP_CACHE",v=function(){function a(a,b){var e=this;this.payload=c("memoize")(function(){if(e.proto.encryptedTransportEvent!=null)return new r(c("nullthrows")(e.proto.encryptedTransportEvent.payload));else if(e.proto.encryptedTransportLocallyTransformedMessage!=null)return new s(c("nullthrows")(e.proto.encryptedTransportLocallyTransformedMessage.payload));else if(e.proto.encryptedTransportMessage!=null)return new q(c("nullthrows")(e.proto.encryptedTransportMessage));else if(e.proto.miTransportAdminMessage!=null)return new t(c("nullthrows")(e.proto.miTransportAdminMessage.payload));throw c("FBLogger")("messenger_web").mustfixThrow("BackupMessage proto has no payload")});this.proto=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,a)}var b=a.prototype;b.encryptedTransportMessage=function(){var a=this.payload();if(a.kind!=="messageApplication")return;return a};b.encryptedTransportEvent=function(){var a=this.payload();if(a.kind!=="transportEvent")return;return a};b.locallyTransformedMessage=function(){var a=this.payload();if(a.kind!=="locallyTransformedMessage")return;return a};b.adminMessage=function(){var a=this.payload();if(a.kind!=="adminMessage")return;return a};return a}();v.create=c("memoizeWithArgsWeak")(function(a){return new v(a,u)});g.DeserializedImageMessage=i;g.DeserializedAudioMessage=j;g.DeserializedVideoMessage=k;g.DeserializedDocumentMessage=l;g.DeserializedStickerMessage=m;g.DeserializedExtendedContentMessage=n;g.DeserializedArmadilloApplication=o;g.DeserializedConsumerApplication=p;g.DeserializedMessageApplication=q;g.DeserializedTransportEvent=r;g.DeserializedLocallyTransformedMessage=s;g.DeserializedAdminMessage=t;g.DeserializedBackupMessage=v}),98);
__d("WADbTransactor",["MAWDexie","MAWIndexedDb","MAWTransactionMode","WAExceededStorageQuota","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=Object.keys(a),f=e.some(function(b){return a[b]===d("MAWTransactionMode").READWRITE})?d("MAWTransactionMode").READWRITE:d("MAWTransactionMode").READONLY;return function(){for(var a=arguments.length,g=new Array(a),i=0;i<a;i++)g[i]=arguments[i];return d("MAWIndexedDb").getSignalDB(b).then(function(a){return h(f,e,function(){return c(a.stores).apply(void 0,g)})}).then(function(a){return a})["catch"](function(a){throw k(a,b)})}}function h(a,b,e){if(c("MAWDexie").currentTransaction!=null)throw c("err")("protocolDB transactor %s cannot be called within another transaction");return d("MAWIndexedDb").getSignalDB().then(function(c){return c.transact(a,b,e)})}function i(a){if(a instanceof Error)return a;else if(typeof a==="string")return c("err")(a);else return null}function e(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=a+"_"+e,g=(yield d("MAWIndexedDb").getDB(f));return g.transact(b,[a],function(){return c(g.stores[a])}).then(function(a){return a})["catch"](function(a){throw k(a,f)})});return j.apply(this,arguments)}function k(a,b){var e;d("WAExceededStorageQuota").checkQuotaExceededError(a);a=i(a);if(!a)return c("err")("[unknown error] Error performing %s transaction "+b);a.message="["+((e=a==null?void 0:a.toString())!=null?e:"unknown error")+"] Error performing %s transaction "+b;return a}g.makeSignalTransactor=a;g.persistedQueueTransactor=e}),98);
__d("WAClearSignalStores",["MAWDexieTable","MAWTransactionMode","WADbTransactor"],(function(a,b,c,d,e,f,g){"use strict";a=d("WADbTransactor").makeSignalTransactor({tasks:d("MAWTransactionMode").READWRITE},"clearSignalStores",function(a){return function(){return d("MAWDexieTable").dexieAll([a.tasks.clear()]).then(function(){})}});g.clearSignalStores=a}),98);
__d("WAHandleFailureUtils",["FBLogger","ODS","Promise","WABridge","WAOdsEnums","asyncToGeneratorRuntime","getErrorSafe","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MAWClearSignalAndTempStores").__setRef("WAHandleFailureUtils");f={GENERIC_FAILURE:"400",NOT_AUTHORIZED:"401",TEMP_BANNED:"402",BANNED:"403",CAT_EXPIRED:"413",CAT_INVALID:"414",NOT_FOUND:"415",CAT_SESSION_INVALID:"418",INTERNAL_ERROR:"500",SERVER_UNAVAILABLE:"503"};function k(){return new(i||(i=b("Promise")))(function(a,b){j.onReady(function(d){c("promiseDone")(d.clearSignalAndTempStores(),function(){return a()},function(a){a=c("getErrorSafe")(a);c("FBLogger")("wmi").catching(a).mustfix("Failed to clear signal and temp stores");b(a)})})})}function a(){return k().then(function(){d("WABridge").getBridge().fireAndForget("event","logout",{})})}function e(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield k(),(h||(h=d("ODS"))).bumpEntityKey(3185,d("WAOdsEnums").Entity.WA_REREGISTRATION,"reregister_phone"),d("WABridge").getBridge().fireAndForget("event","reregisterDevice",{})});return l.apply(this,arguments)}g.FAILURE_CODES=f;g.clearRegistrationAndTempData=k;g.deregisterPhone=a;g.reregisterPhone=e}),98);
__d("WASignalDB",["BrowserLockManager","QPLFlow","WAHandleFailureUtils","WAHex","WAIDBTypes","WALogger","WAResolvable","Worm","WormEAR","WormIDbDriver","WormIDbUtils","asyncToGeneratorRuntime","err","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i={identity:{primaryKey:"deviceJid",indexes:{userJid:{fields:["userJid"],unique:!1}}},contacts:{primaryKey:"contactJid",indexes:{}},session:{indexes:{},primaryKey:"id"},senderKeySessions:{primaryKey:"id",indexes:{groupJid:{fields:["groupJid"],unique:!1},userJid:{fields:["userJid"],unique:!1}}},prekey:{indexes:{},primaryKey:"keyId"},prekeyGeneration:{indexes:{},primaryKey:"generationId"},signedPrekey:{indexes:{},primaryKey:"keyId"},meta:{indexes:{},primaryKey:"key"},plaintextMeta:{indexes:{},primaryKey:"key",secure:!1},icdcFails:{indexes:{},primaryKey:"contactJid"},personalSenderKeyStatuses:{indexes:{},primaryKey:"groupJid"}},j,k=new(d("WAResolvable").Resolvable)();function a(a,b,c,d,e,f){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,l,m){var o=m!=null?d("QPLFlow").startQPLFlow(m,{timeoutInMs:c("justknobx")._("3415"),annotations:{string:{operationType:"initDb"}}}):null;try{yield n(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=d("WAHex").parseHex(e),c="signalDb";b=new(d("WormEAR").WormEAR)(i,c,b);c=new(d("Worm").WormDatabase)(new(d("WormIDbDriver").WormIDbDriver)(a,c,i,b,l,{blockingErrorThreshold:f,onBlockingError:g,safeToDeleteStores:new Set(["stanzaQueue","danglingQueue","migration"]),onTransactionError:function(b){if(b instanceof d("WormEAR").DecryptionError){b=b;if(b.store==="icdcFails")return;void d("WormIDbUtils").promisifyIDbRequest(d("WAIDBTypes").idb().deleteDatabase(a)).then(function(){return d("WAHandleFailureUtils").reregisterPhone()})}}}),m);j=c;yield c.init({eventFlow:o});k.resolve(c);o==null||o.endSuccess()}))}catch(a){o==null||o.endFail("error");d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WORM] Error performing initDb: ",""])),a);throw a}});return l.apply(this,arguments)}function e(){if(j==null)throw c("err")("Signal Db v3 is not initialized");return j}function f(){return k.promise}function m(a){return"Signal - "+a}function n(a){return c("BrowserLockManager")!=null?c("BrowserLockManager").request("wajs_make_signal_v3_db",a):a()}g.makeSignalDb=a;g.getDb=e;g.getDbPromise=f;g.signalOp=m}),98);
__d("WAClearSignalStoresV2",["Promise","WASignalDB","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){return d("WASignalDB").getDb().runInTransaction(["identity","contacts","meta","prekey","prekeyGeneration","senderKeySessions","session","signedPrekey","personalSenderKeyStatuses"],"readwrite",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield (h||(h=b("Promise"))).all([a.stores.identity.clear(),a.stores.contacts.clear(),a.stores.meta.clear(),a.stores.prekey.clear(),a.stores.prekeyGeneration.clear(),a.stores.senderKeySessions.clear(),a.stores.session.clear(),a.stores.signedPrekey.clear(),a.stores.personalSenderKeyStatuses.clear()])});return function(b){return a.apply(this,arguments)}}(),d("WASignalDB").signalOp("clearSignalStores"))};g.clearSignalStores=a}),98);
__d("MAWClearSignalAndTempStores",["MAWDeleteOldLogsFromDisk","MAWJobActionsV2","MAWJobsIndexedDb","MAWLoggingSwitches","MAWTransactionMode","Promise","WAClearSignalStores","WAClearSignalStoresV2","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MAWJobsIndexedDb").makeJobsTransactor("jobs",d("MAWTransactionMode").READWRITE,"clearJob")(d("MAWJobActionsV2").clearJobs);a=function(){return(h||(h=b("Promise"))).all([d("MAWLoggingSwitches").removeLoggingFromBridge&&d("MAWDeleteOldLogsFromDisk").clearLogs(),d("WAClearSignalStores").clearSignalStores(),i(),d("WAClearSignalStoresV2").clearSignalStores()]).then(c("emptyFunction"))};g.clearSignalAndTempStores=a}),98);
__d("MAWDbEditMsgHistory",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a}function b(a){return(h||(h=d("I64"))).of_float(a)}function c(a){return(h||(h=d("I64"))).to_float(a)}g.unsafeCoerceToEditMsgHistoryId=a;g.convertToEditMsgHistoryId64=b;g.convertToEditMsgHistoryId=c}),98);
__d("MAWDbPoll",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a){return a}function c(a,b){a=(a+b).split("");return Math.abs(a.reduce(function(a,b){b=b.charCodeAt(0);a=(a<<5)-a+b;a&=a;return a},0))}f.convertStringToOptionHash=a;f.convertOptionHashToString=b;f.generateStableIdFromOptionHash=c}),66);
__d("MWEBODSUtils",["CurrentMessengerUser","MWEBODSCategory","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=d("CurrentMessengerUser").getAppID();f=f!=null?f.toString():"unknown";f=a+"."+f;(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),f,b,e!=null?e:1);h.bumpEntityKey(c("MWEBODSCategory"),a,b,e!=null?e:1)}g.markODSForEB=a}),98);
__d("WACommsConnectionState",["WAGenericStateManager"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(){return a.call(this,!1)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.isConnected=function(){return this.get()};c.waitForConnection=function(){return this.waitForValue(!0)};return b}(d("WAGenericStateManager").WAGenericStateManager);b=new a();g.WACommsConnectionState=b}),98);
__d("WAGetHashFromProtocolMsgId",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.externalId+"_"+a.author+"_"+a.chat}f.getHashFromProtocolMsgId=a}),66);
__d("MAWEBUploadTrackingUtils",["MAWAckLevel","MAWEBSwitch","MAWExternalId","MAWMsgType","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEBODSUtils","ODS","QPLUserFlow","QuickPerformanceLogger","WACommsConnectionState","WAExceededStorageQuota","WAGetHashFromProtocolMsgId","WAGlobals","WAHashStringToNumber","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={ERROR_FETCHING_DB_MESSAGE:"error_fetching_db_message",FAILED_TO_ACK_MESSAGE:"failed_to_ack_message",FAILED_TO_CONSTRUCT_ECHO_MESSAGE:"failed_to_construct_echo_message",MESSAGE_UPLOAD_TIMEOUT:"message_upload_timeout",RUNTIME_ERROR:"runtime_error"};function a(a,b,e,f,g,h,j,k,m){g===void 0&&(g=!1);h===void 0&&(h=!1);k===void 0&&(k="unknown");m===void 0&&(m=0);if(!c("MAWEBSwitch").isEnabled())return;c("QPLUserFlow").start(c("qpl")._(521481602,"829"),{annotations:{bool:{eb_switch:c("MAWEBSwitch").isEnabled(),eb_upload_queue:!0,fromUploadQueue:g,is_retroactive_upload:h,middleware_init:!1},"int":{attachmentsSize:j!=null?j:0,instanceKey:f,retryCount:m},string:{comms_status:d("WACommsConnectionState").WACommsConnectionState.isConnected()===!0?"connected":"disconnected",externalId:a,msgType:b,payloadType:k,triggerType:e}},instanceKey:f,timeoutInMs:c("justknobx")._("1405")});l(f,"upload_tracking_started");(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").START);d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+(b!=null?b:"unknown"));g=d("MAWMsgType").isMAWSupportedMediaType(b!=null?b:"Text")?"media":"non-media";d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+g)}function k(a){return a==null?{string:{comms_status_on_failure:d("WACommsConnectionState").WACommsConnectionState.isConnected()===!0?"connected":"disconnected"}}:babelHelpers["extends"]({},a,{string:babelHelpers["extends"]({},a.string,{comms_status_on_failure:d("WACommsConnectionState").WACommsConnectionState.isConnected()===!0?"connected":"disconnected"})})}function b(a,b,c,d){switch(a){case"success":o(b,c,d);break;case"fail":n(b,c,d);break;case"point":l(b,c,d);break}}function l(a,b,d){d&&c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),d,{instanceKey:a}),c("QPLUserFlow").addPoint(c("qpl")._(521481602,"829"),b,{instanceKey:a})}function m(a,b){var e;c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),k(b),{instanceKey:a});c("QPLUserFlow").endCancel(c("qpl")._(521481602,"829"),{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{threadID:b==null||(e=b.string)==null?void 0:e.jid}},instanceKey:a});(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").CANCEL)}function n(a,b,e){var f;c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),k(e),{instanceKey:a});c("QPLUserFlow").endFailure(c("qpl")._(521481602,"829"),b,{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{threadID:e==null||(f=e.string)==null?void 0:f.jid}},instanceKey:a});(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").FAIL)}function o(a,b,c){l(a,b),p(a,c)}function p(a,b){b&&c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),b,{instanceKey:a}),c("QPLUserFlow").endSuccess(c("qpl")._(521481602,"829"),{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},instanceKey:a}),(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").SUCCESS)}function e(a,b,e){var f;l(a,b);e&&c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),e,{instanceKey:a});c("QPLUserFlow").endTimeout(c("qpl")._(521481602,"829"),{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{threadID:e==null||(f=e.string)==null?void 0:f.jid}},instanceKey:a});(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").TIMEOUT)}function f(a,b,d){var e=c("qpl")._(521481602,"829");l(a,b);d&&(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(e,d,{instanceKey:a});(h||(h=c("QuickPerformanceLogger"))).markerEnd(e,52,a,h.currentTimestamp())}function q(){return d("WAHashStringToNumber").hashStringToNumber(d("MAWExternalId").generateExternalId())}function r(a,b){b===void 0&&(b=0);return d("WAHashStringToNumber").hashStringToNumber(d("WAGetHashFromProtocolMsgId").getHashFromProtocolMsgId(a)+"_"+d("WAGlobals").getMyDeviceJid()+"_"+b)}function s(a){return c("MAWEBSwitch").isEnabled()&&d("MAWMsgType").isEBSupportedMsgType(a.type)&&a.ack>=d("MAWAckLevel").ACK.sent&&a.serverTs!=null&&!(a.ephemeralSetting!=null&&a.ephemeralSetting.ephemeralExpirationInSec>0)}function t(a){return{addAnnotations:function(b){u(a,b)},addPoint:function(b,c){l(a,b,c)},endCancel:function(b,c){m(a,c)},endFail:function(b,c){n(a,b,c)},endSuccess:function(b){p(a,b)},getQPLAttrs:function(){return{event:c("qpl")._(521481602,"829"),instanceKey:a}},isActive:function(){return!0}}}function u(a,b){c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),b,{instanceKey:a})}function v(a,b){return a.get(b)}function w(a,b,c,d,e){b=v(b,c);if(b!=null)switch(a){case"success":o(b,d,e);break;case"fail":n(b,d,e);break;case"point":l(b,d,e);break}}g.EBUploadTrackingWorkerFailurePoints=j;g.startUploadTracking=a;g.handleBridgeEbUploadTrackingQPL=b;g.addPointWorkerOnly=l;g.endCancelWorkerOnly=m;g.endFailWorkerOnly=n;g.endSuccessWorkerOnly=o;g.endTimeoutWorkerOnly=e;g.endRetryWorkerOnly=f;g.genInstanceKeyOnly=q;g.genInstanceKeyForUploadQueue=r;g.isUploadSupported=s;g.makeEBWorkerQplFlowFromInstanceKey=t;g.addAnnotationsForEBWorkerQplFlow=u;g.getUploadTrackingInstanceKey=v;g.addUploadTrackingByType=w}),98);
__d("MAWEncryptedBackupsStateManager",["MAWEBSwitch"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case 1:return;case 3:c("MAWEBSwitch").set(!0);return;case 2:case 4:default:c("MAWEBSwitch").set(!1);return}}function b(a){return a===4||a===3}g.setEncryptedBackupsState=a;g.eligibleForEBUX=b}),98);
__d("MAWEphemeralConsts",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";a=300;b=600;c=900;e=1800;d=Math.imul((f=d("WATimeUtils")).HOUR_SECONDS,6);var h=Math.imul(f.HOUR_SECONDS,12),i=Math.imul(f.DAY_SECONDS,14),j=1e3,k=5,l=10,m=30,n=60,o=d;g.fiveMinutesInSeconds=a;g.tenMinutesInSeconds=b;g.fifteenMinutesInSeconds=c;g.thirtyMinutesInSeconds=e;g.oneHourInSeconds=f.HOUR_SECONDS;g.sixHoursInSeconds=d;g.twelveHoursInSeconds=h;g.oneDayInSeconds=f.DAY_SECONDS;g.ephemeralMaxDelectionWindowForUnseenMessage=i;g.msPerSec=j;g.fiveSeconds=k;g.tenSeconds=l;g.thirtySeconds=m;g.oneMinuteInSeconds=n;g.ephemeralReportingWindowInSeconds=o}),98);
__d("MAWGetUserDeviceChangeAdminType",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(a){case"add":if(b)return d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE;else return d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE;case"remove":if(b)return d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE;else return d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE;case"update":if(b)return d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE;else return d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE}}g.getUserDeviceAdminType=a}),98);
__d("MAWIsFbProfileDirectoryItemXmaEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("15740")}g.isFbProfileDirectoryItemXmaEnabled=a}),98);
__d("MAWIsLiveLocationXmaEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("3758")===!0}g.isLiveLocationXmaEnabled=a}),98);
__d("MAWJobDefinitions",["MAWExternalId"],(function(a,b,c,d,e,f,g){"use strict";var h=["s2sInstanceKey","s2sUserFlowQPLEvent"],i=["scheduleConfig"];function a(a){return a}function b(a){return a}f={acceptGroupInvite:function(a,b,c,d,e,f){f=k(f);return{args:{chatJid:a,inviteCode:d,invitedParticipantUserId:c,inviteExpirationTs:e,inviterUserId:b},scheduleConfig:f!=null?f:void 0,type:"acceptGroupInvite"}},addGroupParticipants:function(a,b,c,d){d=k(d);return{args:{group:a,s2sInstanceKey:c,users:b},scheduleConfig:d!=null?d:void 0,type:"addGroupParticipants"}},deleteMsgsForMe:function(a,b){b=k(b);return{args:{msgIds:a},scheduleConfig:b!=null?b:void 0,type:"deleteMsgsForMe"}},demoteGroupParticipants:function(a,b,c){c=k(c);return{args:{group:a,users:b},scheduleConfig:c!=null?c:void 0,type:"demoteGroupParticipants"}},downloadAndHandleMedia:function(a,b,c,d,e,f,g,h){f=k(h);return{args:{downloadType:e,hash:b,metricInstanceKeys:g,msgType:d,protocolMsgId:a,qplEntryPoint:c},scheduleConfig:f!=null?f:void 0,type:"downloadAndHandleMedia"}},forwardMsg:function(a,b,c,e,f,g,i){i=k(i);c=c!=null?c:{};var j=c.s2sInstanceKey;c.s2sUserFlowQPLEvent;c=babelHelpers.objectWithoutPropertiesLoose(c,h);return{args:{args:c,chatJid:a,ephemeralSetting:e,externalId:f!=null?f:d("MAWExternalId").generateExternalId(),isFirstMsg:g,protocolMsgId:b,s2sInstanceKey:j},scheduleConfig:i!=null?i:void 0,type:"forwardMsg"}},getSpams:function(a){a=k(a);return{args:void 0,scheduleConfig:a!=null?a:void 0,type:"getSpams"}},handleFutureproofMsg:function(a){a=k(a);return{args:{},scheduleConfig:a!=null?a:void 0,type:"handleFutureproofMsg"}},handleSpamMsg:function(a){a=k(a);return{args:void 0,scheduleConfig:a!=null?a:void 0,type:"handleSpamMsg"}},igdReportUserSpam:function(a,b){var c=a.chatJid,d=a.context,e=a.frxParams,f=a.frxTags,g=a.msgs,h=a.reportedMessageId,i=a.spamFlow;a=a.userJid;b=k(b);return{args:{chatJid:c,context:d,frxParams:e,frxTags:f,msgs:g,reportedMessageId:h,spamFlow:i,userJid:a},scheduleConfig:b!=null?b:void 0,type:"igdReportUserSpam"}},igdSendMsg:function(a,b){var c=a.actorID;a=a.taskID;b=k(b);return{args:{actorID:c,taskID:a},scheduleConfig:b!=null?b:void 0,type:"igdSendMsg"}},leaveGroups:function(a,b){b=k(b);return{args:{groups:a},scheduleConfig:b!=null?b:void 0,type:"leaveGroups"}},markThreadAsRead:function(a,b,c,d,e,f){f=k(f);return{args:{chatJid:a,isBlocked:c,isReadReceiptsDisabled:e,isRestricted:d,relationship:b},scheduleConfig:f!=null?f:void 0,type:"markThreadAsRead"}},promoteGroupParticipants:function(a,b,c){c=k(c);return{args:{group:a,users:b},scheduleConfig:c!=null?c:void 0,type:"promoteGroupParticipants"}},removeGroupParticipants:function(a,b,c){c=k(c);return{args:{group:a,users:b},scheduleConfig:c!=null?c:void 0,type:"removeGroupParticipants"}},reportUserSpam:function(a,b,c,d,e,f,g,h,i,j){i=k(i);return{args:{chatJid:c,context:f,frxParams:g,frxTags:e,isIgd:d,openMsgs:j,reportedMessageId:h,spamFlow:b,userJid:a},scheduleConfig:i!=null?i:void 0,type:"reportUserSpam"}},resendWrittenAppData:function(a,b){b=k(b);return{args:{appDataExternalId:a},scheduleConfig:b!=null?b:void 0,type:"resendWrittenAppData"}},restoreMessagesFromEncryptedBackups:function(a,b,c,d,e,f,g,h,i,j,l,m,n,o,p){n=k(n);return{args:{deanonApiPayload:o,hasMoreAfter:e,hasMoreBefore:d,instanceKey:j,isMediaGalleryRestore:p,isPointQuery:f,messages:c,minMsgId:g,optimisticMsgs:l,startSortKey:i,taskSource:m,threadId:b,traceId:h,transportKey:a},scheduleConfig:n!=null?n:void 0,type:"restoreMessagesFromEncryptedBackups"}},restoreProtobufsFromEncryptedBackups:function(a,b,c,d,e,f,g,h,i,j,l,m,n,o,p,q){m=k(m);return{args:{chatJid:q,deanonApiPayload:o,echoMessages:a,hasMoreAfter:f,hasMoreBefore:e,instanceKey:l,isMediaGalleryRestore:p,isPointQuery:g,messages:d,minMsgId:h,referenceTimestamp:j,requestId:i,taskSource:n,threadId:c,transportKey:b},scheduleConfig:m!=null?m:void 0,type:"restoreProtobufsFromEncryptedBackups"}},revokeMsgs:function(a,b){b=k(b);return{args:a,scheduleConfig:b!=null?b:void 0,type:"revokeMsgs"}},sendAppData:function(a,b,c){c=k(c);return{args:{args:a,externalId:b!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:c!=null?c:void 0,type:"sendAppData"}},sendBumpMsg:function(a,b,c,e){e=k(e);return{args:{args:b,chatJid:a,externalId:c!=null?c:d("MAWExternalId").generateExternalId()},scheduleConfig:e!=null?e:void 0,type:"sendBumpMsg"}},sendGroupInviteMsg:function(a,b,c){c=k(c);return{args:{args:a,externalId:b!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:c!=null?c:void 0,type:"sendGroupInviteMsg"}},sendMediaMsg:function(a,b,c,e,f,g,h,i,j,l,m,n,o,p,q,r,s,t,u,v,w,x){s=k(s);return{args:{args:{duration:j,ephemeralSetting:m,filename:u,height:g,isFirstMsg:q,isForwarded:p,isPtt:l,jpegThumbnail:e,jpegThumbnailHeight:i,jpegThumbnailWidth:h,mediaGroupMetadata:x,offlineAttachmentId:v,openMessageOtid:o,quote:n,s2sInstanceKey:c,source:t,width:f},attachmentType:w,chatJid:a,externalId:r!=null?r:d("MAWExternalId").generateExternalId(),file:b},scheduleConfig:s!=null?s:void 0,type:"sendMediaMsg"}},sendMediaMsgV2:function(a,b,c,e,f,g,h,i,j,l,m,n,o,p,q,r,s,t,u,v,w,x,y){s=k(s);return{args:{args:{duration:j,ephemeralSetting:m,filename:u,height:g,isFirstMsg:q,isForwarded:p,isPtt:l,jpegThumbnail:e,jpegThumbnailHeight:i,jpegThumbnailWidth:h,mediaGroupMetadata:y,offlineAttachmentId:v,openMessageOtid:o,quote:n,s2sInstanceKey:w,source:t,width:f},attachmentType:x,chatJid:a,externalId:r!=null?r:d("MAWExternalId").generateExternalId(),mimeType:b,plaintext:c},scheduleConfig:s!=null?s:void 0,type:"sendMediaMsgV2"}},sendWrittenAppData:function(a,b){b=k(b);return{args:{appDataExternalId:a},scheduleConfig:b!=null?b:void 0,type:"sendWrittenAppData"}},setGroupMemberAddMode:function(a,b,c){c=k(c);return{args:{groupJid:a,memberAddMode:b},scheduleConfig:c!=null?c:void 0,type:"setGroupMemberAddMode"}},setGroupSubject:function(a,b,c){c=k(c);return{args:{group:a,subject:b},scheduleConfig:c!=null?c:void 0,type:"setGroupSubject"}},startInstamadilloDYI:function(a,b){b=k(b);return{args:{qplInstanceKey:a},scheduleConfig:b!=null?b:void 0,type:"startInstamadilloDYI"}},updateBackupEntFbidForMedia:function(a,b,c,d){d=k(d);return{args:{backupEntFbid:b,deliveryObjectId:a,traceId:c},scheduleConfig:d!=null?d:void 0,type:"updateBackupEntFbidForMedia"}}};function c(a,b){return j(a,b)}function j(a,b){var c=b.scheduleConfig,e=babelHelpers.objectWithoutPropertiesLoose(b,i);c={args:{},scheduleConfig:c,type:a};b.externalIdJob&&(c.args.externalId=d("MAWExternalId").generateExternalId());c.args=babelHelpers["extends"]({},c.args,e);b.uniqueJob&&(c.uniqKey=a);return c}function k(a){if(a==null)return;return{jobId:a.jobId,maxTimeoutMs:a.maxTimeoutMs,priority:a.priority}}function e(a){return{otid:a.toplevelProtobuf.messageId,supplementalProtobufs:new Map(a.supplementalProtobufs.entries().map(function(a){var b=a[0];a=a[1];return[b,{decryptedProtobuf:a.payload,protobufTimestampMS:a.timestampMs}]})),tags:a.tags,toplevelProtobuf:{decryptedProtobuf:a.toplevelProtobuf.payload,protobufTimestampMS:a.toplevelProtobuf.timestampMs}}}g.toThreadJidPrimaryId=a;g.toEncodedEchoMessage=b;g.jobSerializers=f;g.createStartJobInfo=c;g.createStartJobInfoGeneric=j;g.serializeJobScheduledConfig=k;g.mpsMessageToEncryptedBackupsMessage=e}),98);
__d("MAWMainTraceUtils",["EBGating","I64","LSRequestId","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return c("LSRequestId").generate()}function e(a,b,c,d,e,f,g){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g,i){if(d("EBGating").isRemoveLSDataTrace())return;yield a.data_trace_meta.add({contextOne:f,contextThree:i,contextTwo:g,foregroundTimestampMs:(h||(h=d("I64"))).zero,initTimestampMs:b,predefinedId:void 0,shouldFlush:!1,traceId:c,traceType:e})});return i.apply(this,arguments)}g.createTraceId=a;g.startTraceWithTxn=e}),98);
__d("MAWMediaDownloadStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["DOWNLOADING","SUCCESS","NOT_MANUAL_RETRYABLE_FAILURE","MANUAL_RETRYABLE_FAILURE","MISSING_FILE","RETRYING","AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE"]);c=a;f["default"]=c}),66);
__d("MAWSharedProtocolQueueConst",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});f.OfflineConsumerStatus=a}),66);
__d("MAWOfflineQueueStatus",["FBLogger","MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=!1;function j(a,b){h.set(a,b),h.size>5e3&&c("FBLogger")("wmi_eb").warn("Offline queue status map size (%s) is too large",h.size)}function k(a){return h.get(a)}function a(){h=new Map(),i=!1}function b(){return i}function e(){i=!0}function f(a,b){a=Object.keys(a);a.map(function(a){j(a,b)})}function l(a){return k(a)===d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}function m(){return Array.from(h.entries()).filter(function(a){a[0];a=a[1];return a!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete&&a!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed}).map(function(a){a=a[0];return a})}g.setOfflineQueueStatus=j;g.getOfflineQueueStatus=k;g.resetOfflineQueueState=a;g.isOfflineQueueComplete=b;g.markOfflineQueueComplete=e;g.markThreadWithOfflineQueueStatus=f;g.isOfflineQueueDoneForThread=l;g.getAllThreadsWithOfflineQueueIncomplete=m}),98);
__d("MWXMAV2IsDataclassLiveLocationXMA",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return!1;a=JSON.parse(a);if(a==null)return!1;a=a.content;if(a==null||(a==null?void 0:a.__typename)!=="XMSGXmaSingleContent")return!1;a=a.custom_template_data;if(a==null||(a==null?void 0:a.__typename)!=="XMSGXmaLocationTemplateData")return!1;a=a.location_metadata;return a==null||(a==null?void 0:a.__typename)!=="XMSGXmaLiveLocationMetadata"?!1:!0}f.isDataclassLiveLocationXMA=a}),66);
__d("MAWParseXMAFBConfig",["FBLogger","MAWIsFbProfileDirectoryItemXmaEnabled","MAWIsLiveLocationXmaEnabled","MWXMAV2IsDataclassLiveLocationXMA","WAArmadilloXMA.pb","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set([(b=d("WAArmadilloXMA.pb")).EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY,b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH]);function a(a){var b=a.fbTargetType,e=a.silentExposure;a=a.xmaDataclass;if(b!=null&&h.has(b))return!0;e=e!=null?e:!1;switch(b){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_AI_CONTACT:return e?c("gkx")("9338"):c("gkx")("9339");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:return a!=null&&d("MWXMAV2IsDataclassLiveLocationXMA").isDataclassLiveLocationXMA(a)?d("MAWIsLiveLocationXmaEnabled").isLiveLocationXmaEnabled():!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_MEMORIES_SHARE:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PROFILE_DIRECTORY_ITEM:return d("MAWIsFbProfileDirectoryItemXmaEnabled").isFbProfileDirectoryItemXmaEnabled();default:c("FBLogger")("maw_db").mustfix("MAWParseXMAFBConfig encountered an unknown unsupported XMA type: %s",String(b));return!1}}g.FB_FULLY_SUPPORTED_TARGET_TYPES=h;g.isFBSupportedTargetType=a}),98);
__d("MAWParseXMAUnsupportedMessageType",["MWXMAV2IsDataclassLiveLocationXMA","WAArmadilloXMA.pb"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c===void 0&&(c=!1);if(a==null)return null;if(c)return"paymentsTransactionMessage";switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:return d("MWXMAV2IsDataclassLiveLocationXMA").isDataclassLiveLocationXMA(b)?"liveLocationMessage":"locationMessage";case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_AI_CONTACT:return"contactShareMessage";case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:return"storyMentionMessage";case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:return"postMentionMessage";case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_MEMORIES_SHARE:return"messengerMemory";case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:return"rtcMessage";default:return null}}g.getXMAUnsupportedMessageType=a}),98);
__d("RavenMessagingState",[],(function(a,b,c,d,e,f){a=Object.freeze({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});f["default"]=a}),66);
__d("MAWRavenUtils",["EphemeralMediaViewMode","MAWMsg","RavenMessagingState"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){switch(a){case d("MAWMsg").MAWRavenMsgEphemeralMediaState.PERMANENT:return c("RavenMessagingState").PERMANENT;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN:return c("RavenMessagingState").UNSEEN;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.SEEN:return c("RavenMessagingState").SEEN;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.REPLAYED:return c("RavenMessagingState").REPLAYED;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.EXPIRED:return c("RavenMessagingState").EXPIRED}},i=function(a){switch(a){case d("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return c("EphemeralMediaViewMode").PERMANENT;case d("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY:return c("EphemeralMediaViewMode").REPLAYABLE;case d("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE:return c("EphemeralMediaViewMode").READ_ONCE}};b=function(a,b){return{ephemeralMediaState:b,ephemeralMediaViewMode:i(a)}};function a(a,b){switch(b){case d("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE:return a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN?c("RavenMessagingState").SEEN:h(a);case d("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY:if(a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN)return c("RavenMessagingState").SEEN;else if(a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.SEEN)return c("RavenMessagingState").REPLAYED;return h(a);case d("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return h(a)}}g.getEphemeralMediaState=h;g.getEphemeralMediaViewMode=i;g.deriveRavenSettings=b;g.getNextRavenMessageEphemeralState=a}),98);
__d("MAWVaultMaterialsStorage",["MAWVaultMaterials","MWFBLogger","Promise","WebAsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_exchange_vm";function j(){var a=d("MAWVaultMaterials").generateNewVaultMaterials(),e="newly-generated";return new(h||(h=b("Promise")))(function(b){c("WebAsyncStorage").getOrSetItem(i,a,function(c,f){if(c!=null){var g=d("MWFBLogger").MWLogger();if(c instanceof Error)throw g.catching(c).mustfixThrow("Failed to store Vaulting Materials. %s",c.toString());else g.mustfix("Failed to store Vaulting Materials.")}f!==null&&(a=f,e="storage");b(d("MAWVaultMaterials").initializeVaultMaterials(a,e))})})}function a(){return d("MAWVaultMaterials").hasVaultBeenSetup()?(h||(h=b("Promise"))).resolve(d("MAWVaultMaterials").getVaultMaterials()):j()}g.setupVaultMaterials=a}),98);
__d("MpsToBridgeMessageId",["MAWDbMsg","MpsTypes","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("nullthrows")(d("MAWDbMsg").toMsgId(a+"_"+b+"_m"))}function b(a){a=a.split("_");var b=a[0];a=a[1];return{messageId:d("MpsTypes").toMessageId(a),threadId:d("MpsTypes").toThreadId(b)}}g.mpsToBridgeMsgId=a;g.bridgeMsgIdToMps=b}),98);
__d("MpsMessageToBridgeWrapper",["MAWProtobufDeserializers","MAWUserJidWrapper","MpsToBridgeMessageId","WAJids","WATimeUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=d("WAJids").createJidUtils({platform:"msgr"});a=function(){function a(a,b){this.message=a,this.topLevel=b}a.fromTopLevel=function(b){return new a(b,b)};a.fromSupplemental=function(b,e){var f=d("MAWProtobufDeserializers").DeserializedBackupMessage.create(b.payload);f={messageId:b.messageId,payload:b.payload,senderId:c("nullthrows")((f=f.proto.metadata)==null?void 0:f.senderId),threadId:e.threadId,timestampMs:b.timestampMs};return new a(f,e)};var b=a.prototype;b.getChatJid=function(){return d("WAJids").unsafeCoerceToChatJid(this.message.threadId)};b.getExternalId=function(){return this.message.messageId};b.getMsgId=function(){return d("MpsToBridgeMessageId").mpsToBridgeMsgId(this.message.threadId,this.message.messageId)};b.getSenderJid=function(){return h.toUserJid(this.message.senderId)};b.topLevelMetadata=function(){return a.fromTopLevel(this.topLevel)};b.isAuthorMe=function(){return d("WAJids").userIdFromJid(d("MAWUserJidWrapper").getMyUserJid())===this.message.senderId};b.getAuthor=function(){return this.isAuthorMe()?d("WAJids").AUTHOR_ME:this.getSenderJid()};b.getUnixTs=function(){return d("WATimeUtils").castMilliSecondsToUnixTime(this.message.timestampMs)};b.deserialize=function(){return d("MAWProtobufDeserializers").DeserializedBackupMessage.create(this.message.payload)};return a}();g.MpsMessageToBridgeWrapper=a}),98);
__d("WADbContact",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;f.NON_CONTACT=a;f.ONE_WAY_CONTACT=b;f.REVERSED_ONE_WAY_CONTACT=c;f.TWO_WAY_CONTACT=d}),66);
__d("WADbDeviceRegistration",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=25;b=6;d=b;e="https://reg-e2ee.facebook.com";f=c("gkx")("13108")?"https://reg-e2ee.messenger.com":e;c="https://v.whatsapp.net";var h="https://reg-e2ee.instagram.com",i="/v2/fb_icdc_fetch",j="/v2/fb_register_v2",k="Device has already been registered to WA servers",l="Device registration finished successfully",m="Device registration retries failed "+b+" times. No longer attempting registration.",n="Device registration response was null",o="Current user id is zero",p="CryptoAuthToken is empty",q="CryptoAuthToken is expired",r={failed:"failed",finished:"finished"};g.MAX_USERS_FOR_NOTIFY_DEVICE_CHANGE=a;g.MAX_DEVICE_REGISTRATION_RETRIES=b;g.MAX_ROTATE_CRYPTO_AUTH_TOKEN_RETRIES=d;g.REG_FB_DOMAIN=e;g.REG_MSGR_DOMAIN=f;g.REG_WA_DOMAIN=c;g.REG_IGD_DOMAIN=h;g.ICDC_ENDPOINT=i;g.REGISTRATION_ENDPOINT=j;g.DEVICE_ALREADY_REGISTERED=k;g.DEVICE_SUCCESSFULLY_REGISTERED=l;g.FAILED_REGISTRATION_RETRIES=m;g.NULL_RESPONSE_FROM_SERVER=n;g.DEVICE_REGISTER_ERROR_ZERO_AS_USER_ID=o;g.DEVICE_REGISTER_ERROR_EMPTY_CAT_TOKEN=p;g.DEVICE_REGISTER_ERROR_EXPIRED_CAT_TOKEN=q;g.RegistrationStatesEnum=r}),98);
__d("WAJobOrchestratorTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({SKIP:"SKIP_PRIORITIZATION",UI_ACTION:"UI_ACTION",LOW:"LOW",HIGH:"HIGH",OFFLINE:"OFFLINE",HISTORY_SYNC:"HISTORY_SYNC",BEST_EFFORT:"BEST_EFFORT"});c=1;d=a.LOW;e=10*1e3;f.JOB_PRIORITY=a;f.DEFAULT_CONCURRENCY=c;f.DEFAULT_JOB_PRIORITY=d;f.DEFAULT_JOB_TIMEOUT_MS=e}),66);
__d("WAMedia",[],(function(a,b,c,d,e,f){"use strict";a="Image";b="Video";c="Ptt";d="Gif";e="Sticker";var g="DocumentFile",h={IMAGE:a,VIDEO:b,PTT:c,GIF:d,STICKER:e,DOCUMENT_FILE:g};f.IMAGE=a;f.VIDEO=b;f.PTT=c;f.GIF=d;f.STICKER=e;f.DOCUMENT_FILE=g;f.MEDIA_TYPE=h}),66);
__d("WAMediaHdType",[],(function(a,b,c,d,e,f,g){"use strict";a=0;b=1;c=2;d={HD_TYPE_NONE:a,HD_TYPE_LQ_4K:b,HD_TYPE_HQ_4K:c};g.HD_TYPE_NONE=a;g.HD_TYPE_LQ_4K=b;g.HD_TYPE_HQ_4K=c;g.HD_TYPE=d}),98);
__d("WAMediaQplHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null||a<0||a>1e3*1024*1024)return"invalid_size";else if(a===0)return"size equal to 0KB";else if(a<=1*1024)return"size lower than 1 KB";else if(a<=50*1024)return"size between 1 KB and 50 KB";else if(a<=100*1024)return"size between 50 KB and 100 KB";else if(a<=500*1024)return"size between 100 KB and 500 KB";else if(a<=1*1024*1024)return"size between 500 KB and 1 MB";else if(a<=2*1024*1024)return"size between 1 MB and 2 MB";else if(a<=5*1024*1024)return"size between 2 MB and 5 MB";else if(a<=10*1024*1024)return"size between 5 MB and 10 MB";else if(a<=20*1024*1024)return"size between 10 MB and 20 MB";else if(a<=25*1024*1024)return"size between 20 MB and 25 MB";else if(a<=30*1024*1024)return"size between 25 MB and 30 MB";else if(a<=50*1024*1024)return"size between 30 MB and 50 MB";else if(a<=75*1024*1024)return"size between 50 MB and 75 MB";else if(a<=100*1024*1024)return"size between 75 MB and 100 MB";else return"size above 100 MB"}f.convertIntegerSizeToStringBucket=a}),66);
__d("WAPREList",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({APP_STATE_SYNC_DAILY:"app_state_sync_daily",DECRYPT_MESSAGE_FINAL:"decrypt_message_final",DOWNLOAD_AND_DECRYPT:"download_and_decrypt",EBDB_INIT:"ebdb_init",FRANKING_VALIDATION:"franking_validation",GET_DEVICES:"get_devices",ICDC_ERROR:"icdc_error",MEDIA_DOWNLOAD:"media_download",MEDIA_UPLOAD:"media_upload",MEDIA_VALIDATE:"media_validate",MESSAGE_DECRYPTION:"message_decryption",MESSAGE_ENCRYPTION:"message_encryption",OFFLINE_QUEUE:"offline_queue",OFFLINE_RETRY:"offline_retry",ONE_QUEUE:"one_queue",QUERY_GROUP:"query_group",QUERY_GROUPS:"query_groups",RECEIVE_MESSAGE:"receive_message",SEND_MESSAGE:"send_message",STANZA_QUEUE_MESSAGE_CONSUMER:"stanza_queue_message_consumer",SYNCD:"syncd",SYNCD_BOOTSTRAP_APP_STATE_DOWNLOAD:"syncd_bootstrap_app_state_download",SYNCD_BOOTSTRAP_DATA_APPLIED:"syncd_bootstrap_data_applied",SYNCD_CRITICAL_BOOTSTRAP_STAGE:"syncd_critical_bootstrap_stage",SYNCD_CRITICAL_EVENT:"syncd_critical_event",SYNCD_DECRYPT_MUTATIONS:"syncd_decrypt_mutations",SYNCD_FATAL_ERROR:"syncd_fatal_error",SYNCD_KEY_ROTATION:"syncd_key_rotation",WA_DISCONNECT:"wa_disconnect",WA_FAIL_STANZA_QUEUE_ITEM:"stanza_queue_item_failure",WA_JOB_MANAGER:"wa_job_manager",WA_JOBS_ORCHESTRATOR:"wa_jobs_orchestrator",WA_NO_SIGNED_PRE_KEY:"wa_no_signed_pre_key"});f.PRE_METRIC=a}),66);
__d("WAPREMetrics",["WALogger","WAPREList"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;c=6e4;e=18e4;f=10*60*1e3;var k=0;function a(){var c=[];function e(a){c.push(a)}function b(){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Removing all listeners from PRE_METRICS"]))),c.length=0}function a(a){c.length===0&&d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[PRE] There are no subscribers to PRE events "," ",""])),a.name,a.stage),c.forEach(function(b){b(a)})}return{subscribe:e,notify:a,clear:b}}a=a();var l=a.notify,m=a.clear;a=a.subscribe;var n;"FinalizationRegistry"in self&&"WeakRef"in self&&(n=new FinalizationRegistry(function(a){var b=a.event;a=a.eventFlow;if(a.isActive())try{d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[PRE][","] EventFlow still active during garbage collection"])),b)}catch(a){}}));var o=new Set([d("WAPREList").PRE_METRIC.SEND_MESSAGE,d("WAPREList").PRE_METRIC.MEDIA_DOWNLOAD]);function b(a,b,c,d){c==null&&k++;var e=c!=null?c:k,f="open";c==null?l({name:a,stage:"START",instanceKey:e,annotations:b,timeoutInMs:d}):l({name:a,stage:"RESUME",instanceKey:e,annotations:b});var g;function h(){if(g!=null){var a=g.deref();if(a!=null){var b;(b=n)==null||b.unregister(a)}}}d={addPoint:function(c,b){l({name:a,stage:"POINT",reason:c,instanceKey:e,annotations:b})},addAnnotations:function(b){l({name:a,stage:"ANNOTATE",instanceKey:e,annotations:b})},endSuccess:function(b){l({name:a,stage:"SUCCESS",instanceKey:e,annotations:b}),f="closed",h()},endCancel:function(b){l({name:a,stage:"CANCEL",instanceKey:e,annotations:b}),h()},endFail:function(c,b){l({name:a,stage:"FAIL",reason:c,instanceKey:e,annotations:b}),f="closed",h()},getFlowDetails:function(){return{name:a,instanceKey:e}},isActive:function(){return f==="open"}};n&&!o.has(a)&&c==null&&(n.register(d,{event:a,eventFlow:{endCancel:d.endCancel,isActive:d.isActive}}),g=new WeakRef(d));return d}g.QPL_DEFAULT_TIMEOUT_IN_MS=c;g.QPL_RECEIVE_MESSAGE_TIMEOUT_IN_MS=e;g.QPL_MEDIA_DOWNLOAD_TIMEOUT_IN_MS=f;g.clear=m;g.subscribe=a;g.startMetric=b}),98);
__d("WAParseReadOnlyMetadataDataclassUtils",["err"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if((a==null?void 0:a.readonlyMetadataDataclass)!=null)try{a=JSON.parse(a==null?void 0:a.readonlyMetadataDataclass);return a}catch(a){throw c("err")("Failed to parse readonly metadata dataclass JSON")}return null}function a(a){var b;a=h(a);return(a==null||(b=a.power_up)==null?void 0:b.power_up_style)!=null}function b(a){var b;a=h(a);return(a==null||(b=a.note_metadata)==null?void 0:b.message_type)==="MENTION"}g.isPowerUp=a;g.isNoteMention=b}),98);
__d("WAPromiseQueue",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(a){a===void 0&&(a=-1),this.$1=(g||(g=b("Promise"))).resolve(),this.$3=0,this.$2=a}var c=a.prototype;c.wait=function(){return this.$1};c.enqueueHandlers=function(a,b,c){var d=this;this.$3++;b=this.$1.then(function(){return a}).then(b,c);c=b.then();this.$1=h(b,this.$2)["finally"](function(){d.$3--});return c};c.enqueue=function(a){var b=this;this.$3++;a=this.$1.then(a);var c=a.then();this.$1=h(a,this.$2)["finally"](function(){b.$3--});return c};c.size=function(){return this.$3};return a}();c=function(){function a(a){a===void 0&&(a=-1),this.$1=new Map(),this.$2=a}var c=a.prototype;c.waitIfPending=function(a){return this.$1.get(a)};c.wait=function(a){return this.$1.get(a)||(g||(g=b("Promise"))).resolve()};c.enqueueHandlers=function(a,b,c,d){c=this.wait(a).then(function(){return b}).then(c,d);return this.$3(a,c)};c.enqueue=function(a,b){b=this.wait(a).then(b);return this.$3(a,b)};c.$3=function(a,b){var c=this,d=b.then(),e,f=function(){c.$1.get(a)===e&&c.$1["delete"](a)};e=h(b,this.$2).then(f,f);this.$1.set(a,e);return d};return a}();function h(a,c){if(c>=0)return new(g||(g=b("Promise")))(function(b){var d=function(){return void b()};a.then(d,d);setTimeout(d,c)});else return a.then(i,i)}function i(){}f.PromiseQueue=a;f.PromiseQueueMap=c}),66);
__d("getMediaTypeFromConsumerMessage",["WAMediaTransport.pb","decodeProtobuf","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e,f=a==null||(b=a.payload)==null?void 0:b.content;if((f==null?void 0:f.audioMessage)!=null)return"ptt";if((f==null?void 0:f.videoMessage)!=null){var g,h,i,j=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").VideoTransportSpec,f==null||(g=f.videoMessage)==null||(g=g.video)==null?void 0:g.payload);return(j==null||(h=j.ancillary)==null?void 0:h.gifPlayback)===!0||(j==null||(i=j.ancillary)==null?void 0:i.gifAttribution)!=null?"gif":"video"}if((f==null?void 0:f.documentMessage)!=null)return"document";if((f==null?void 0:f.stickerMessage)!=null)return"sticker";if((f==null?void 0:f.imageMessage)!=null)return"image";j=a==null||(e=a.payload)==null||(e=e.content)==null?void 0:e.extendedContentMessage;if(j!=null&&c("qex")._("310")===!0)return"xma-image";return}g.getMediaTypeFromConsumerMessage=a}),98);
__d("maybeConvertMessageTextMentionsV2ToV1",["WACommon.pb"],(function(a,b,c,d,e,f,g){function a(a){if(a==null||a.text==null||a.mentions==null||a.mentions.length===0)return a;var b=a.text,c=[],e=[],f=0;for(var g of a.mentions){var h=g.offset,i=g.length,j=g.mentionedJid,k=g.mentionType;if(k!==d("WACommon.pb").MENTION_MENTION_TYPE.PROFILE||h==null||i==null||j==null)continue;e.push(j+"@msgr");c.push(b.substring(f,h));c.push("@"+j+"@msgr");f=h+i}if(e.length===0)return a;c.push(b.substring(f));return babelHelpers["extends"]({},a,{text:c.join(""),mentionedJid:e,mentions:[]})}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IGDSAppEditsUpdatedIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M20.235 30.631V5.235a1.164 1.164 0 1 1 2.329 0v25.396a1.165 1.165 0 1 1-2.33 0ZM7.902 10.32a3.976 3.976 0 0 1 .953-1.465c.446-.445.87-.721 1.465-.953.452-.175 1.13-.384 2.383-.44 1.256-.058 1.783-.076 4.463-.076a1.202 1.202 0 0 0 0-2.404h-.004c-2.819.002-3.296.02-4.569.077-1.378.063-2.32.282-3.144.603a6.35 6.35 0 0 0-2.294 1.493A6.348 6.348 0 0 0 5.662 9.45c-.32.824-.54 1.766-.603 3.144-.063 1.382-.077 1.823-.077 5.34 0 3.518.014 3.959.077 5.34.063 1.379.282 2.32.603 3.144a6.33 6.33 0 0 0 1.493 2.294 6.349 6.349 0 0 0 2.294 1.494c.824.32 1.766.54 3.144.602 1.273.058 1.75.076 4.569.078h.004a1.202 1.202 0 0 0 0-2.404c-2.68 0-3.207-.018-4.463-.076-1.253-.057-1.931-.265-2.383-.44a3.948 3.948 0 0 1-1.465-.954 3.948 3.948 0 0 1-.953-1.465c-.175-.451-.384-1.13-.44-2.382-.063-1.364-.076-1.773-.076-5.23 0-3.458.013-3.867.075-5.231.057-1.253.266-1.931.441-2.383Zm22.905 2.273c-.063-1.378-.282-2.32-.602-3.144a6.35 6.35 0 0 0-1.494-2.294 6.35 6.35 0 0 0-2.294-1.493 8.081 8.081 0 0 0-.609-.21 1.185 1.185 0 0 0-1.519 1.139v.033c0 .527.35.986.855 1.139.153.046.286.094.402.14.595.23 1.02.507 1.465.952.446.446.722.87.953 1.465.176.452.384 1.13.442 2.383.062 1.364.075 1.774.075 5.23 0 3.457-.013 3.866-.076 5.23-.057 1.253-.265 1.932-.44 2.383a3.948 3.948 0 0 1-.954 1.465c-.446.446-.87.722-1.465.953a5.522 5.522 0 0 1-.402.14 1.193 1.193 0 0 0-.855 1.139v.033c0 .79.762 1.366 1.52 1.139.212-.064.413-.134.608-.21a6.349 6.349 0 0 0 2.294-1.494 6.35 6.35 0 0 0 1.494-2.294c.32-.824.54-1.765.602-3.144.063-1.381.078-1.822.078-5.34 0-3.517-.015-3.958-.078-5.34Z",fill:"currentColor"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 36 36",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSAppHorizonFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M22.452 12h-4.03a1 1 0 0 1-.988-.847c-.41-2.65-2.747-4.65-5.434-4.65-2.687 0-5.024 2-5.435 4.65a1 1 0 0 1-.988.847h-4.03a.999.999 0 0 1-.995-1.094A11.445 11.445 0 0 1 12 .504 11.462 11.462 0 0 1 23.44 10.83c.028.28-.06.596-.25.806s-.456.364-.74.364ZM12 23.496a11.563 11.563 0 0 1-9.891-5.629 1 1 0 0 1 .35-1.371l3.441-2.04a1 1 0 0 1 1.37.348c.987 1.66 2.8 2.692 4.73 2.692s3.742-1.032 4.73-2.692a1 1 0 0 1 1.37-.348l3.44 2.04a.999.999 0 0 1 .35 1.371 11.56 11.56 0 0 1-9.89 5.63Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSCircleOutline24Icon.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Circle,{cx:12.00796,cy:12,r:11.25,fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5px"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("IGDSInfoFilledIcon.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 48 48",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M24 0a24 24 0 1 0 24 24A23.94 23.94 0 0 0 24 0zm0 12.3a2.58 2.58 0 0 1 2.6 2.6 2.52 2.52 0 0 1-2.6 2.6 2.6 2.6 0 0 1 0-5.2zm3.1 23.4H21a1.5 1.5 0 0 1 0-3h1.5v-9.2H21a1.5 1.5 0 0 1 0-3h3a1.54 1.54 0 0 1 1.5 1.5v10.7H27a1.54 1.54 0 0 1 1.5 1.5 1.34 1.34 0 0 1-1.4 1.5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("IGDSLinkPanoFilled24Icon.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsxs(d("XPlatReactSVG").G,{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3px",children:[i.jsx(d("XPlatReactSVG").Path,{d:"m13.587 18.89-.854.854a5.994 5.994 0 0 1-8.477-8.478l.854-.853",fill:"none"}),i.jsx(d("XPlatReactSVG").Path,{d:"M8.82561 15.17432 15.17283 8.82724",fill:"none"}),i.jsx(d("XPlatReactSVG").Path,{d:"m10.413 5.11.854-.854a5.994 5.994 0 0 1 8.477 8.478l-.854.853",fill:"none"})]})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("IGDSMetaGenAiPanoFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"m15.795 5.206 1.897.854c.11.05.199.138.248.248l.854 1.897a.5.5 0 0 0 .912 0l.854-1.897a.494.494 0 0 1 .248-.248l1.897-.854a.5.5 0 0 0 0-.912l-1.897-.854a.494.494 0 0 1-.248-.248l-.854-1.897a.5.5 0 0 0-.912 0l-.853 1.896a.5.5 0 0 1-.25.25l-1.896.853a.5.5 0 0 0 0 .912Zm7.643 5.596a1.504 1.504 0 0 0-1.644-1.34 1.5 1.5 0 0 0-1.34 1.644A8.8 8.8 0 0 1 20.5 12c0 4.687-3.813 8.5-8.5 8.5S3.5 16.687 3.5 12 7.313 3.5 12 3.5c.302 0 .6.016.895.046a1.5 1.5 0 0 0 .304-2.984C12.805.522 12.405.5 12 .5 5.66.5.5 5.66.5 12S5.66 23.5 12 23.5 23.5 18.34 23.5 12c0-.405-.021-.805-.062-1.198Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSSavePanoFilledIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M20 22a.999.999 0 0 1-.687-.273L12 14.815l-7.313 6.912A1 1 0 0 1 3 21V3a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSThumbDownPanoFilled24Icon.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M10.544 22.978c-.45.09-.904-.097-1.155-.481-1.34-2.053-5.46-8.587-5.894-9.251-1.213-1.858-1.965-4.1-1.162-6.694C3.376 3.188 6.633 1 10.156 1h7.286a3.3 3.3 0 0 1 3.267 2.833l1.257 7.7A3.3 3.3 0 0 1 18.7 15.3H11.35l1.307 3.758c.615 1.708-.332 3.564-2.113 3.92z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("IGDSThumbDownPanoOutline24Icon.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M10.47 23a2 2 0 0 1-1.68-.91c-.783-1.201-2.55-4.045-3.84-6.121-.721-1.162-1.287-2.073-1.429-2.29-1.493-2.29-1.888-4.62-1.173-6.927C3.398 3.365 6.715 1 10.414 1h6.442a4.02 4.02 0 0 1 3.96 3.435l1.141 6.98A4.002 4.002 0 0 1 17.999 16h-5.093l.727 2.087a3.693 3.693 0 0 1-.264 3.063 3.697 3.697 0 0 1-2.496 1.809c-.135.027-.27.04-.403.04zm-.005-2.003.015.002a1.701 1.701 0 0 0 1.267-2.244l-1.191-3.427A.998.998 0 0 1 11.5 14h6.499a2.001 2.001 0 0 0 1.98-2.283l-1.14-6.98A2.014 2.014 0 0 0 16.856 3h-6.442C7.582 3 5.051 4.786 4.258 7.344c-.537 1.735-.23 3.45.94 5.242.143.22.718 1.146 1.451 2.327 1.285 2.068 3.044 4.901 3.816 6.084z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("IGDSThumbUpPanoFilled24Icon.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M10.544 1.022c-.45-.09-.904.097-1.155.481-1.34 2.053-5.46 8.587-5.894 9.251-1.213 1.858-1.965 4.1-1.162 6.694C3.376 20.812 6.633 23 10.156 23h7.286a3.3 3.3 0 0 0 3.267-2.833l1.257-7.7A3.3 3.3 0 0 0 18.7 8.7H11.35l1.307-3.758c.615-1.708-.332-3.564-2.113-3.92z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("IGDSThumbUpPanoOutline24Icon.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M16.856 23h-6.442c-3.7 0-7.017-2.365-8.066-5.752-.715-2.308-.32-4.638 1.173-6.928.142-.216.708-1.127 1.43-2.289 1.29-2.076 3.056-4.92 3.838-6.12a1.997 1.997 0 0 1 2.084-.871 3.703 3.703 0 0 1 2.757 4.883L12.906 8H18a4.002 4.002 0 0 1 3.961 4.566l-1.147 7.019C20.537 21.523 18.834 23 16.856 23zM10.473 3c-.006 0-.008.002-.008.004-.772 1.182-2.531 4.015-3.816 6.083a266.26 266.26 0 0 1-1.452 2.326c-1.17 1.793-1.476 3.508-.94 5.243C5.052 19.214 7.583 21 10.415 21h6.442c.99 0 1.84-.738 1.98-1.718l1.146-7.018A2.001 2.001 0 0 0 18 10H11.5a.998.998 0 0 1-.944-1.328l1.188-3.416A1.701 1.701 0 0 0 10.48 3L10.473 3z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("IGDSVolumeOnFilledIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M16.636 7.028a1.5 1.5 0 10-2.395 1.807 5.365 5.365 0 011.103 3.17 5.378 5.378 0 01-1.105 3.176 1.5 1.5 0 102.395 1.806 8.396 8.396 0 001.71-4.981 8.39 8.39 0 00-1.708-4.978zm3.73-2.332A1.5 1.5 0 1018.04 6.59 8.823 8.823 0 0120 12.007a8.798 8.798 0 01-1.96 5.415 1.5 1.5 0 002.326 1.894 11.672 11.672 0 002.635-7.31 11.682 11.682 0 00-2.635-7.31zm-8.963-3.613a1.001 1.001 0 00-1.082.187L5.265 6H2a1 1 0 00-1 1v10.003a1 1 0 001 1h3.265l5.01 4.682.02.021a1 1 0 001.704-.814L12.005 2a1 1 0 00-.602-.917z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("PolarisAIProfileDisclaimerDialog.react",["CometPlaceholder.react","IGDSBox.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisAIProfileDisclaimerDialog.react"));function a(a){var b=d("react-compiler-runtime").c(6),e=a.aiUserIGID;a=a.cacheKey;var g;b[0]!==e?(g={ai_user_igid:e},b[0]=e,b[1]=g):g=b[1];e=g;g=e;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("IGDSBox.react"),{direction:"row",justifyContent:"center",position:"relative"}),b[2]=e):e=b[2];e=e;b[3]!==g||b[4]!==a?(e=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:i.jsx(j,{appId:"com.bloks.www.ai_profile.dislaimer.web.async_controller",loadingFallback:e,params:g},a)}),b[3]=g,b[4]=a,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("PolarisAIProfileTransparencyLabel.react",["GHLSVGText.react","PolarisAIProfileDisclaimerDialog.react","PolarisAdBlockerMitigationGatingHelpers","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useState,l={clickable:{cursor:"x1ypdohk",$$css:!0},root:{color:"x5n08af",fontSize:"x1fhwpqd",lineHeight:"x132q4wb",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.aiUserIGID,f=a.label;a=a.xstyle;var g;b[0]!==f?(g=d("PolarisAdBlockerMitigationGatingHelpers").shouldUseSVGTextMitigation()===!0?j.jsx(c("GHLSVGText.react"),{fontSize:"12",text:f.toString()}):f,b[0]=f,b[1]=g):g=b[1];b[2]!==g?(f=j.jsx(j.Fragment,{children:g}),b[2]=g,b[3]=f):f=b[3];g=f;f=k(0);var i=f[0],m=f[1];b[4]!==i?(f=function(){m(i+1)},b[4]=i,b[5]=f):f=b[5];f=f;var n;b[6]!==a?(n=(h||(h=c("stylex"))).props(l.root,a,l.clickable),b[6]=a,b[7]=n):n=b[7];b[8]!==g||b[9]!==f||b[10]!==n?(a=j.jsx("span",babelHelpers["extends"]({},n,{onClick:f,role:"link",tabIndex:0,children:g})),b[8]=g,b[9]=f,b[10]=n,b[11]=a):a=b[11];b[12]!==e||b[13]!==i?(g=i>0&&j.jsx(c("PolarisAIProfileDisclaimerDialog.react"),{aiUserIGID:e,cacheKey:i}),b[12]=e,b[13]=i,b[14]=g):g=b[14];b[15]!==a||b[16]!==g?(f=j.jsxs(j.Fragment,{children:[a,g]}),b[15]=a,b[16]=g,b[17]=f):f=b[17];n=f;return n}g["default"]=a}),98);
__d("PolarisAppAttributionText.react",["fbt","IGDSExternalLinkPanoOutline24Icon.react","IGDSTextVariants.react","PolarisFastLink.react","PolarisLinkBuilder","PolarisViewpointReact.react","polarisLogAction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useMemo;var k=b.useRef,l=h._(/*BTDS*/"Share");function a(a){var b=d("react-compiler-runtime").c(13),e=a.appId,f=a.appName,g=a.mediaId;a=a.showIcon;var h=a===void 0?!1:a,i=k(!1);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=[function(a){a.percentVisible>=1&&!i.current&&(c("polarisLogAction")("thirdPartyAppAttributionImpression"),i.current=!0)}],b[0]=a):a=b[0];a=a;a=a;var n;b[1]!==e||b[2]!==g?(n=d("PolarisLinkBuilder").buildClipsAppPageLink(e,g),b[1]=e,b[2]=g,b[3]=n):n=b[3];b[4]!==f||b[5]!==h?(g=function(a){return j.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np",ref:a,children:[h===!0&&j.jsx("div",{className:"x2fvf9",children:j.jsx(c("IGDSExternalLinkPanoOutline24Icon.react"),{alt:l,size:12})}),j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{breakWord:!0,zeroMargin:!0,children:j.jsx("div",{className:"x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft","data-testid":void 0,children:j.jsx("span",{children:f})})})]})},b[4]=f,b[5]=h,b[6]=g):g=b[6];b[7]!==e||b[8]!==g?(a=j.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:a,id:e,children:g}),b[7]=e,b[8]=g,b[9]=a):a=b[9];b[10]!==n||b[11]!==a?(e=j.jsx(c("PolarisFastLink.react"),{href:n,onClick:m,children:a}),b[10]=n,b[11]=a,b[12]=e):e=b[12];return e}function m(){c("polarisLogAction")("thirdPartyAppAttributionClick")}g["default"]=a}),226);
__d("PolarisAppMediaAttributionText.react",["IGDSIcon.react","IGDSTextVariants.react","PolarisFastLink.react","PolarisViewpointReact.react","polarisLogAction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(10),e=a.appId,f=a.attributionUrl,g=a.displayText,h=a.icon,l=j(!1);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=[function(a){a.percentVisible>=1&&!l.current&&(c("polarisLogAction")("thirdPartyAppAttributionImpression"),l.current=!0)}],b[0]=a):a=b[0];a=a;a=a;var m;b[1]!==g||b[2]!==h?(m=function(a){return i.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np",ref:a,children:[h&&i.jsx("div",{className:"x78zum5 x2fvf9",children:i.jsx(c("IGDSIcon.react"),{icon:h,size:12})}),i.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{breakWord:!0,zeroMargin:!0,children:i.jsx("div",{className:"x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft","data-testid":void 0,children:i.jsx("span",{children:g})})})]})},b[1]=g,b[2]=h,b[3]=m):m=b[3];b[4]!==e||b[5]!==m?(a=i.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:a,id:e,children:m}),b[4]=e,b[5]=m,b[6]=a):a=b[6];b[7]!==f||b[8]!==a?(e=i.jsx(c("PolarisFastLink.react"),{href:f,onClick:k,target:"_blank",children:a}),b[7]=f,b[8]=a,b[9]=e):e=b[9];return e}function k(){c("polarisLogAction")("thirdPartyAppAttributionClick")}g["default"]=a}),98);
__d("PolarisPostContextFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"onActionLoadModalData"}],kind:"Fragment",metadata:null,name:"PolarisPostContextFragment",selections:[{args:[{kind:"Variable",name:"onActionLoadModalData",variableName:"onActionLoadModalData"}],kind:"FragmentSpread",name:"PolarisPostModalContext_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostModalContext_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"onActionLoadModalData"}],kind:"Fragment",metadata:null,name:"PolarisPostModalContext_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{args:[{kind:"Variable",name:"onActionLoadModalData",variableName:"onActionLoadModalData"}],kind:"FragmentSpread",name:"PolarisPostModalContextImpl_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostModalContext.next.react",["CometRelay","PolarisPostModalContext.react","PolarisPostModalContext_media.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var c=d("react-compiler-runtime").c(3),e=a.children;a=a.queryReference;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostModalContext_media.graphql"),a);var f;c[0]!==e||c[1]!==a?(f=j.jsx(d("PolarisPostModalContext.react").PostModalContext,{media:a,children:e},a.pk),c[0]=e,c[1]=a,c[2]=f):f=c[2];return f}g["default"]=a}),98);
__d("usePolarisIsOnPostPage",["useCurrentRouteEntityKey"],(function(a,b,c,d,e,f,g){"use strict";var h="post";function a(){var a=c("useCurrentRouteEntityKey")();a=a==null?void 0:a.entity_type;return a===h}g["default"]=a}),98);
__d("PolarisPostContext.react",["CometRelay","PolarisPostContextFragment.graphql","PolarisPostModalContext.next.react","PolarisUA","react","react-compiler-runtime","usePolarisIsOnFeedPage","usePolarisIsOnPostPage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useMemo;var k=e.useState,l=j.createContext({analyticsContext:"postPage",availableAudioTracks:[],controller:null,setAvailableAudioTracks:function(a){},setController:function(a){},setTargetAudioTrack:function(a){},shouldCapHeight:!0,targetAudioTrack:null});function a(a){var e=d("react-compiler-runtime").c(17),f=a.analyticsContext,g=a.children,i=a.currentSidecarIndex;a=a.queryReference;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostContextFragment.graphql"),a);var m=c("usePolarisIsOnFeedPage")(),n=c("usePolarisIsOnPostPage")(),o;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=[],e[0]=o):o=e[0];o=k(o);var p=o[0];o=o[1];var q=k(null),r=q[0];q=q[1];var s=k(null),t=s[0];s=s[1];var u;e[1]!==m||e[2]!==n?(u=m||n&&d("PolarisUA").isMobile(),e[1]=m,e[2]=n,e[3]=u):u=e[3];e[4]!==f||e[5]!==p||e[6]!==t||e[7]!==i||e[8]!==u||e[9]!==r?(m={analyticsContext:f,availableAudioTracks:p,controller:t,currentSidecarIndex:i,setAvailableAudioTracks:o,setController:s,setTargetAudioTrack:q,shouldCapHeight:u,targetAudioTrack:r},e[4]=f,e[5]=p,e[6]=t,e[7]=i,e[8]=u,e[9]=r,e[10]=m):m=e[10];n=m;o=n;e[11]!==g||e[12]!==a?(s=j.jsx(c("PolarisPostModalContext.next.react"),{queryReference:a,children:g}),e[11]=g,e[12]=a,e[13]=s):s=e[13];e[14]!==o||e[15]!==s?(q=j.jsx(l.Provider,{value:o,children:s}),e[14]=o,e[15]=s,e[16]=q):q=e[16];return q}g.PolarisPostContext=l;g.PolarisPostContextProvider=a}),98);
__d("PolarisAudioAttributionText.react",["fbt","IGDSMetaGenAiPanoFilled24Icon.react","IGDSMiddleDot.react","IGDSTextVariants.react","JSResourceForInteraction","PolarisClipsConstants","PolarisClipsHelpers","PolarisFastLink.react","PolarisIGCorePressable.react","PolarisLinkBuilder","PolarisPostContext.react","gkx","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect,m=c("JSResourceForInteraction")("PolarisVideoVariantSelector.react").__setRef("PolarisAudioAttributionText.react");function a(a){var b=a.audioArtist,e=a.audioID,f=a.audioName,g=a.isMediaOwnerOriginalSound,i=a.isMutedAudio,n=a.isOverMedia;n=n===void 0?!1:n;var o=a.isOwnerPrivate,p=a.muteAudioReason,q=a.onDisabledClipsAudioAttributionClick;a=k(d("PolarisPostContext.react").PolarisPostContext);var r=a.availableAudioTracks,s=a.controller,t=a.targetAudioTrack,u=c("gkx")("7221")&&r.some(function(a){return a.lang!==null&&a.role==="dub"})&&s!=null;a=c("useCometLazyDialog")(m);var v=a[0],w=a[1];l(function(){u&&w()},[v,w,u]);if(!d("PolarisClipsHelpers").hasAudioAttributionText({audioArtist:b,audioName:f,isMediaOwnerOriginalSound:g}))return null;if(u&&s!=null){a=h._(/*BTDS*/"Meta AI Translation");a=j.jsxs("div",{style:{alignItems:"center",display:"flex"},children:[g===!0?j.jsx("div",{style:{paddingRight:6},children:j.jsx(c("IGDSMetaGenAiPanoFilled24Icon.react"),{alt:a,size:12})}):null,j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:n?"textOnMedia":"primaryText",children:g===!0?j.jsx("span",{children:a}):j.jsxs("span",{children:[b,j.jsx(c("IGDSMiddleDot.react"),{color:n?"textOnMedia":"primaryText"}),a]})})]});var x=function(){v({availableAudioTracks:r,controller:s,targetAudioTrack:t})};return j.jsx(c("PolarisIGCorePressable.react"),{onPress:x,children:a})}x=j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:n?"textOnMedia":"primaryText",zeroMargin:!0,children:j.jsx("div",{className:"x78zum5 xh8yej3","data-testid":void 0,children:g===!0?j.jsx("span",{className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft",children:f}):j.jsxs("span",{className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft",children:[b,j.jsx(c("IGDSMiddleDot.react"),{color:n?"textOnMedia":"primaryText"}),f]})})});var y=g===!0&&o===!0;a=function(){q&&q(y?d("PolarisClipsConstants").AUDIO_PAGE_DOES_NOT_EXIST_PRIVATE_USER:String(p))};return e!=null?y||i?j.jsx(c("PolarisIGCorePressable.react"),{onPress:a,children:x}):j.jsx(c("PolarisFastLink.react"),{className:"xh8yej3",href:d("PolarisLinkBuilder").buildClipsAudioPageLink(e),children:x}):x}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisBoostMultiBoostStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return h._(/*BTDS*/"_j{\"post\":\"You currently have an active ad for this post\",\"story\":\"You currently have an active ad for this story\",\"reel\":\"You currently have an active ad for this reel\"}",[h._enum(a,{post:"post",story:"story",reel:"reel"})])}function b(a){return h._(/*BTDS*/"_j{\"post\":\"Boost it again with new settings and compare your ads. You can run multiple ads for this post at the same time.\",\"story\":\"Boost it again with new settings and compare your ads. You can run multiple ads for this story at the same time.\",\"reel\":\"Boost it again with new settings and compare your ads. You can run multiple ads for this reel at the same time.\"}",[h._enum(a,{post:"post",story:"story",reel:"reel"})])}c=h._(/*BTDS*/"Run another ad at the same time and compare how they perform.");d=h._(/*BTDS*/"See ad status in Ad tools");e=h._(/*BTDS*/"This post is currently boosted.");f=h._(/*BTDS*/"You have a paused ad for this post.");var i=h._(/*BTDS*/"Navigate to ad tools");g.getMultiBoostBannerTitleV2=a;g.getMultiBoostNUXSubtitle=b;g.MULTI_BOOST_BANNER_SUBTITLE=c;g.MULTI_BOOST_AD_TOOLS_LINK=d;g.MULTI_BOOST_ABOVE_FOOTER_TITLE=e;g.MULTI_BOOST_ABOVE_FOOTER_PAUSED_TITLE=f;g.MULTI_BOOST_ABOVE_FOOTER_ALT_ICON=i}),226);
__d("PolarisBoostMultiBoostUtils.react",["qex"],(function(a,b,c,d,e,f,g){"use strict";var h=["PENDING","CREATING","ACTIVE","PAUSED","boosted_eligible","boosted_eligible_paused"],i=["clips_has_music_with_copyright","story_has_music_with_copyright","carousel_or_image_eligible_by_music_selection"];function a(a,b){return!h.includes(a)||i.includes(b)?!1:c("qex")._("3128")===!0}g.isEligibleForMultiBoostWebWithinBoostFlow=a}),98);
__d("PolarisBoostSharedContext",["PolarisBoostDefaultValues.react","PolarisPromotedPostsLogger","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({abTestMedia:[],adAccountID:"",adFormatPreferenceExplicitToggles:{},adFormatPreferences:[],advertiserLevelDefaultBudgetDuration:{durationInDays:null,totalLocalBudgetWithOffset:null},audioSpec:null,automationMostImportantGoals:[],beneficiaryAndPayerData:{},beneficiaryPayerPairs:[],boostedStatus:null,boostTextVariations:d("PolarisBoostDefaultValues.react").DEFAULT_BOOST_TEXT_VARIATIONS,brandedContentInput:null,budgetLimitWithOffset:0,budgetModified:!1,budgetRecs:null,budgetSpentWithOffset:0,captionText:null,complianceCountriesLoggedExposures:[],context:"boost_unknown",countryBeneficiaryPayerForDistillery:[],currency:d("PolarisBoostDefaultValues.react").DEFAULT_CURRENCY,currencyOffset:d("PolarisBoostDefaultValues.react").DEFAULT_CURRENCY_OFFSET,dailyBudget:d("PolarisBoostDefaultValues.react").DEFAULT_DAILY_BUDGET,dailyBudgetOptions:d("PolarisBoostDefaultValues.react").DEFAULT_DAILY_BUDGET_OPTIONS,destinationToMinDailyBudget:new Map(),deviceCountry:null,deviceCurrency:null,displayURL:"",durationInDays:d("PolarisBoostDefaultValues.react").DEFAULT_DURATION_IN_DAYS,durationInDaysOptions:d("PolarisBoostDefaultValues.react").DEFAULT_DURATION_IN_DAYS_OPTIONS,durationModified:!1,durationType:d("PolarisBoostDefaultValues.react").DEFAULT_DURATION_TYPE,eligibleObjectives:[],flowID:"",hasBIOProduct:!1,hasExitedConvoStarters:!1,hasInitiallyContainedAIGeneratedTexts:!1,hasSeenAdvantagePlusPlacementNewBadgeInSession:!1,hasSeenAutomaticObjectiveRow:!1,hasSeenLowDurationWarning:!1,instagramUserIGID:"",isABTest:!1,isAudienceScreenComplianceTasksCompleted:!1,isBoostAgain:!1,isBudgetDurationInitialized:null,isDraft:!1,isEligibleForIAP:!1,isFinancialServicesAd:!1,isFromCreationConsolidationFlow:!1,isIABP:!1,isInlineAdCreation:!1,isTextVariationsToggleOn:!1,isViewerInTargetAudienceForSalesObjective:!1,logger:new(d("PolarisPromotedPostsLogger").PolarisPromotedPostsLogger)({entry_point:d("PolarisBoostDefaultValues.react").DEFAULT_CONTEXT_ENTRYPOINT,m_pk:null,waterfall_id:d("PolarisBoostDefaultValues.react").DEFAULT_CONTEXT_FLOW_ID}),mediaFBID:"",mediaID:"",mediaType:"",messagingGoalOptimizationEligibilityInfo:d("PolarisBoostDefaultValues.react").DEFAULT_MESSAGING_GOAL_OPTIMIZATION_ELIGIBILITY_INFO,negativeFeedbackSubmitted:!1,oneClickPMText:"",partnershipAdsInfo:null,partnershipAdsSelectedSecondaryIdentity:null,productExtensionsEnabled:!1,productSetID:null,rawSelectedAudioSpec:null,refetchBoostAdAccount:c("emptyFunction"),regionalRegulatedCategories:[],regulatedCategories:[],returnPath:null,salesObjectiveData:d("PolarisBoostDefaultValues.react").DEFAULT_SALES_OBJECTIVE_DATA,selectedBeneficiaryPayerPairsByRegulationName:{},selectedBoostPackage:null,selectedWebsiteCTA:d("PolarisBoostDefaultValues.react").DEFAULT_WEBSITE_CTA,setAdFormatPreferenceExplicitToggles:c("emptyFunction"),setAdFormatPreferences:c("emptyFunction"),setAutomationMostImportantGoals:c("emptyFunction"),setBeneficiaryAndPayerData:c("emptyFunction"),setBeneficiaryPayerPairs:c("emptyFunction"),setBoostTextVariations:c("emptyFunction"),setBrandedContentInput:c("emptyFunction"),setBudgetModified:c("emptyFunction"),setComplianceCountriesLoggedExposures:c("emptyFunction"),setCountryBeneficiaryPayerForDistillery:c("emptyFunction"),setDailyBudget:c("emptyFunction"),setDurationInDays:c("emptyFunction"),setDurationModified:c("emptyFunction"),setDurationType:c("emptyFunction"),setEligibleObjectives:c("emptyFunction"),setHasExitedConvoStarters:c("emptyFunction"),setHasInitiallyContainedAIGeneratedTexts:c("emptyFunction"),setHasSeenAdvantagePlusPlacementNewBadgeInSession:c("emptyFunction"),setHasSeenAutomaticObjectiveRow:c("emptyFunction"),setHasSeenLowDurationWarning:c("emptyFunction"),setIsAudienceScreenComplianceTasksCompleted:c("emptyFunction"),setIsBudgetDurationInitialized:null,setIsFinancialServicesAd:c("emptyFunction"),setIsTextVariationsToggleOn:c("emptyFunction"),setNegativeFeedbackSubmitted:c("emptyFunction"),setOneClickPMText:c("emptyFunction"),setPartnershipAdsSelectedSecondaryIdentity:c("emptyFunction"),setProductExtensionsEnabled:c("emptyFunction"),setProductSetID:c("emptyFunction"),setRegionalRegulatedCategories:c("emptyFunction"),setRegulatedCategories:c("emptyFunction"),setSalesObjectiveData:c("emptyFunction"),setSelectedBeneficiaryPayerPairsByRegulationName:c("emptyFunction"),setSelectedBoostPackage:c("emptyFunction"),setSelectedWebsiteCTA:c("emptyFunction"),setShouldDisableBrowserExitWarning:c("emptyFunction"),setUseOneClick:c("emptyFunction"),setWebsite:c("emptyFunction"),shouldDisableBrowserExitWarning:!1,taxCountry:"",useOneClick:!1,username:d("PolarisBoostDefaultValues.react").DEFAULT_USERNAME,website:""});g["default"]=b}),98);
__d("PolarisCoauthorSheetItemFullName.react",["IGDSBox.react","IGDSTextVariants.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.user;a=a.fullName;if(a==null)return null;var e;b[0]!==a?(e=i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",zeroMargin:!0,children:a})}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("PolarisCoauthorSheetItemUsername.react",["IGDSBox.react","IGDSTextVariants.react","IGDSVerifiedBadge.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9);a=a.user;var e=a.isVerified;a=a.username;if(a===void 0)return null;var f;b[0]!==a?(f=i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{zeroMargin:!0,children:a}),b[0]=a,b[1]=f):f=b[1];b[2]!==e?(a=e&&i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),b[2]=e,b[3]=a):a=b[3];b[4]!==a?(e=i.jsx(c("IGDSBox.react"),{marginStart:2,children:a}),b[4]=a,b[5]=e):e=b[5];b[6]!==f||b[7]!==e?(a=i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[f,e]}),b[6]=f,b[7]=e,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("PolarisCoauthorSheetItem.react",["IGDSListItem.react","PolarisCoauthorSheetItemFullName.react","PolarisCoauthorSheetItemUsername.react","PolarisFastLink.react","PolarisFollowButtonContainer.react","PolarisIGCoreConstants","PolarisLinkBuilder","PolarisUserAvatar.react","qex","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=d("react-compiler-runtime").c(28),f=a.onClick;a=a.user;var g=a.profilePictureUrl,h=a.username;b=((b=c("usePolarisViewer")())==null?void 0:b.id)===a.id;var j;e[0]!==b||e[1]!==a.id||e[2]!==a.relationship||e[3]!==a.username?(j=!b&&c("qex")._("384")?i.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:"UNKNOWN__POLARIS_USER_BUTTON_SECTION",borderless:!1,isFollowing:a.relationship,isInline:!0,userId:a.id,username:a.username,useSmallText:!1}):null,e[0]=b,e[1]=a.id,e[2]=a.relationship,e[3]=a.username,e[4]=j):j=e[4];e[5]!==g||e[6]!==h?(b=i.jsx(c("PolarisUserAvatar.react"),{isLink:!0,profilePictureUrl:g,size:c("PolarisIGCoreConstants").AVATAR_SIZES.medium,username:h}),e[5]=g,e[6]=h,e[7]=b):b=e[7];e[8]!==h?(g=d("PolarisLinkBuilder").buildUserLink(h),e[8]=h,e[9]=g):g=e[9];var k;e[10]!==a?(k=i.jsx(c("PolarisCoauthorSheetItemFullName.react"),{user:a}),e[10]=a,e[11]=k):k=e[11];var l;e[12]!==g||e[13]!==k?(l=i.jsx(c("PolarisFastLink.react"),{href:g,children:k}),e[12]=g,e[13]=k,e[14]=l):l=e[14];e[15]!==h?(g=d("PolarisLinkBuilder").buildUserLink(h),e[15]=h,e[16]=g):g=e[16];e[17]!==a?(k=i.jsx(c("PolarisCoauthorSheetItemUsername.react"),{user:a}),e[17]=a,e[18]=k):k=e[18];e[19]!==g||e[20]!==k?(h=i.jsx(c("PolarisFastLink.react"),{href:g,children:k}),e[19]=g,e[20]=k,e[21]=h):h=e[21];e[22]!==f||e[23]!==j||e[24]!==b||e[25]!==l||e[26]!==h?(a=i.jsx(c("IGDSListItem.react"),{addOnEnd:j,addOnStart:b,onPress:f,subtitle:l,testid:void 0,title:h}),e[22]=f,e[23]=j,e[24]=b,e[25]=l,e[26]=h,e[27]=a):a=e[27];return a}g["default"]=a}),98);
__d("PolarisCoauthorSheet.react",["IGDSBox.react","PolarisCoauthorSheetItem.react","PolarisIGCoreSheetOrModal","PolarisUA","nullthrows","polarisLogAction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(6),e=a.coauthors,f=a.mediaId;a=a.mediaOwner;var g;b[0]!==f?(g=function(){c("polarisLogAction")("coauthorSheetItemClick",{mediaId:f,source:"CoauthorSheetItems"})},b[0]=f,b[1]=g):g=b[1];var h=g;if(b[2]!==e||b[3]!==h||b[4]!==a){g=[].concat(e);g.unshift(a);g=g.map(function(a){a=c("nullthrows")(a);a=a.user;return i.jsx(c("PolarisCoauthorSheetItem.react"),{onClick:h,user:a},a.id)});b[2]=e;b[3]=h;b[4]=a;b[5]=g}else g=b[5];return g}a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.componentDidMount=function(){c("polarisLogAction")("coauthorSheetImpression",{mediaId:this.props.mediaId,numCoauthors:this.props.coauthors.length,source:"CoauthorSheet"})};e.render=function(){var a=this.props,b=a.coauthors,e=a.mediaId,f=a.mediaOwner,g=a.onClose;a=a.title;return i.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:g,title:a,children:i.jsx(c("IGDSBox.react"),{flex:"grow",marginBottom:d("PolarisUA").isMobile()?6:void 0,overflow:"auto",children:i.jsx(j,{coauthors:b,mediaId:e,mediaOwner:f})})})};return b}(i.PureComponent);g.CoauthorSheetItems=j;g.CoauthorSheet=a}),98);
__d("PolarisCoauthorCountWithSheet.react",["fbt","IGDSTextVariants.react","PolarisCoauthorSheet.react","PolarisFastLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Collaborators");function l(a){return h._(/*BTDS*/"{num_coauthors} others",[h._param("num_coauthors",a)])}a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={isCoauthorSheetOpen:!1},b.$1=function(){b.props.onClick!=null&&b.props.onClick(),b.props.disableSheet!==!0&&b.setState({isCoauthorSheetOpen:!0})},b.$2=function(){b.setState({isCoauthorSheetOpen:!1})},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.render=function(){return j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisFastLink.react"),{onClick:this.$1,children:j.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"primaryText",children:l(this.props.coauthors.length)})}),this.state.isCoauthorSheetOpen&&j.jsx(d("PolarisCoauthorSheet.react").CoauthorSheet,{coauthors:this.props.coauthors,mediaId:this.props.mediaId,mediaOwner:this.props.mediaOwner,onClose:this.$2,title:k})]})};return b}(j.PureComponent);g["default"]=a}),226);
__d("PolarisCommentButton.react",["fbt","IGDSCommentPanoOutlineIcon.react","IGDSIconButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Comment");function a(a){var b=d("react-compiler-runtime").c(11),e=a.className,f=a["data-testid"],g=a.onClick;a=a.onHoverStart;var h;b[0]!==g?(h=function(a){a.preventDefault(),g(a)},b[0]=g,b[1]=h):h=b[1];h=h;var i;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("IGDSCommentPanoOutlineIcon.react"),{alt:k,color:"ig-secondary-text",size:24}),b[2]=i):i=b[2];var l;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l=j.jsx(c("IGDSCommentPanoOutlineIcon.react"),{alt:k,color:"ig-primary-text",size:24}),b[3]=l):l=b[3];b[4]!==h||b[5]!==a?(i=j.jsx(c("IGDSIconButton.react"),{hover:i,onClick:h,onHoverStart:a,children:l}),b[4]=h,b[5]=a,b[6]=i):i=b[6];b[7]!==e||b[8]!==f||b[9]!==i?(l=j.jsx("span",{className:e,"data-testid":void 0,children:i}),b[7]=e,b[8]=f,b[9]=i,b[10]=l):l=b[10];return l}g["default"]=a}),226);
__d("PolarisFeedLikeHeart.react",["PolarisInteractionsStrings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("title",{children:d("PolarisInteractionsStrings").LIKE_TEXT}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs("svg",{"aria-label":d("PolarisInteractionsStrings").LIKE_TEXT,viewBox:"0 0 48 48",width:128,children:[b,i.jsx("defs",{children:i.jsxs("linearGradient",{gradientTransform:"rotate(35)",id:"ig_heart_gradient",children:[i.jsx("stop",{offset:"0%",stopColor:"#FF7A00"}),i.jsx("stop",{offset:"40%",stopColor:"#FF0169"}),i.jsx("stop",{offset:"100%",stopColor:"#D300C5"})]})}),i.jsx("path",{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z",fill:"url(#ig_heart_gradient)"})]}),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("PolarisInvitedCoauthorsSheet.react",["IGDSBox.react","IGDSListItem.react","IGDSTextVariants.react","IGDSVerifiedBadge.react","PolarisFastLink.react","PolarisIGCoreConstants","PolarisIGCoreSheetOrModal","PolarisLinkBuilder","PolarisUA","PolarisUserAvatar.react","nullthrows","polarisLogAction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(9);a=a.user;var e=a.isVerified;a=a.username;if(a===void 0)return null;var f;b[0]!==a?(f=i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{zeroMargin:!0,children:a}),b[0]=a,b[1]=f):f=b[1];b[2]!==e?(a=e&&i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),b[2]=e,b[3]=a):a=b[3];b[4]!==a?(e=i.jsx(c("IGDSBox.react"),{marginStart:2,children:a}),b[4]=a,b[5]=e):e=b[5];b[6]!==f||b[7]!==e?(a=i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[f,e]}),b[6]=f,b[7]=e,b[8]=a):a=b[8];return a}function k(a){var b=d("react-compiler-runtime").c(2);a=a.user;a=a.fullName;if(a==null)return null;var e;b[0]!==a?(e=i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",zeroMargin:!0,children:a})}),b[0]=a,b[1]=e):e=b[1];return e}function l(a){var b=d("react-compiler-runtime").c(29),e=a.onClick;a=a.user;var f=a.profilePictureUrl,g=a.username,h;b[0]!==f||b[1]!==g?(h=i.jsx(c("PolarisUserAvatar.react"),{isLink:!0,profilePictureUrl:f,size:c("PolarisIGCoreConstants").AVATAR_SIZES.medium,username:g}),b[0]=f,b[1]=g,b[2]=h):h=b[2];b[3]!==g?(f=d("PolarisLinkBuilder").buildUserLink(g),b[3]=g,b[4]=f):f=b[4];var l;b[5]!==f?(l={url:f},b[5]=f,b[6]=l):l=b[6];b[7]!==e?(f=function(){e()},b[7]=e,b[8]=f):f=b[8];var m;b[9]!==g?(m=d("PolarisLinkBuilder").buildUserLink(g),b[9]=g,b[10]=m):m=b[10];var n;b[11]!==a?(n=i.jsx(k,{user:a}),b[11]=a,b[12]=n):n=b[12];var o;b[13]!==m||b[14]!==n?(o=i.jsx(c("PolarisFastLink.react"),{href:m,children:n}),b[13]=m,b[14]=n,b[15]=o):o=b[15];b[16]!==g?(m=d("PolarisLinkBuilder").buildUserLink(g),b[16]=g,b[17]=m):m=b[17];b[18]!==a?(n=i.jsx(j,{user:a}),b[18]=a,b[19]=n):n=b[19];b[20]!==m||b[21]!==n?(g=i.jsx(c("PolarisFastLink.react"),{href:m,children:n}),b[20]=m,b[21]=n,b[22]=g):g=b[22];b[23]!==h||b[24]!==g||b[25]!==l||b[26]!==f||b[27]!==o?(a=i.jsx(c("IGDSListItem.react"),{addOnStart:h,linkProps:l,onPress:f,subtitle:o,title:g}),b[23]=h,b[24]=g,b[25]=l,b[26]=f,b[27]=o,b[28]=a):a=b[28];return a}function m(a){var b=d("react-compiler-runtime").c(5),e=a.invitedCoauthors,f=a.mediaId;b[0]!==f?(a=function(){c("polarisLogAction")("invitedCoauthorsSheetItemClick",{mediaId:f,source:"InvitedCoauthorsSheetItems"})},b[0]=f,b[1]=a):a=b[1];var g=a;if(b[2]!==g||b[3]!==e){a=[].concat(e);a=a.map(function(a){a=c("nullthrows")(a);a=a.user;return i.jsx(l,{onClick:g,user:a},a.id)});b[2]=g;b[3]=e;b[4]=a}else a=b[4];return a}a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.componentDidMount=function(){c("polarisLogAction")("invitedCoauthorsSheetImpression",{mediaId:this.props.mediaId,numCoauthors:this.props.invitedCoauthors.length,source:"InvitedCoauthorsSheet"})};e.render=function(){var a=this.props,b=a.invitedCoauthors,e=a.mediaId,f=a.onClose;a=a.title;return i.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:f,title:a,children:i.jsx(c("IGDSBox.react"),{flex:"grow",marginBottom:d("PolarisUA").isMobile()?6:void 0,overflow:"auto",children:i.jsx(m,{invitedCoauthors:b,mediaId:e})})})};return b}(i.PureComponent);g.Username=j;g.InvitedCoauthorsSheetItem=l;g.InvitedCoauthorsSheetItems=m;g.InvitedCoauthorsSheet=a}),98);
__d("PolarisInvitedCoauthorsCountWithSheet.react",["fbt","IGDSTextVariants.react","PolarisFastLink.react","PolarisInvitedCoauthorsSheet.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Awaiting responses");function l(a){return h._(/*BTDS*/"{num_coauthors} others",[h._param("num_coauthors",a)])}a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={isCoauthorSheetOpen:!1},b.$1=function(){b.props.onClick!=null&&b.props.onClick(),b.props.disableSheet!==!0&&b.setState({isCoauthorSheetOpen:!0})},b.$2=function(){b.setState({isCoauthorSheetOpen:!1})},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.render=function(){return j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisFastLink.react"),{onClick:this.$1,children:j.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"primaryText",children:l(this.props.coauthors.length-1)})}),this.state.isCoauthorSheetOpen&&j.jsx(d("PolarisInvitedCoauthorsSheet.react").InvitedCoauthorsSheet,{invitedCoauthors:this.props.coauthors,mediaId:this.props.mediaId,onClose:this.$2,title:k})]})};return b}(j.PureComponent);g["default"]=a}),226);
__d("PolarisLikeAnimation.react",["cx","PolarisFeedLikeHeart.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=30,l=-30;function a(a){var b=d("react-compiler-runtime").c(1);a=a.likeEventCount;var e=Math.floor(Math.random()*(k-l+1))+l;if(a>0){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx("div",{className:"_aa7p",children:j.jsx("span",{className:"x1q3qbx4 xqz12i x4hg4is x972fbf x10w94by x1qhh985 x14e42zd xln7xf2 xk390pu xdj266r x11t971q xat24cr xvc5jky xg01cxk xexx8yu xyri2b x18d9i69 x1c1uobl x47corl x1f85oc2 x11njtxf x1q1rmc8",style:{"--random-rotation-deg":e+"deg"},children:j.jsx(c("PolarisFeedLikeHeart.react"),{})})}),b[0]=a):a=b[0];return a}return null}g["default"]=a}),98);
__d("PolarisLikedByListActions",["FBLogger","PolarisInstapi","PolarisRelationshipActionGetRelationshipInfoForUserIds","PolarisUserModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){try{e=(yield d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/likers/",{path:{media_id:a}}));e=(e=(e=e.data.users)==null?void 0:e.map(function(a){return c("PolarisUserModel").fromNativeResponse(a).toReduxStore()}))!=null?e:[];var f=e.map(function(a){return a.id});yield b(d("PolarisRelationshipActionGetRelationshipInfoForUserIds").getRelationshipInfoForUserIds(f));b({mediaId:a,type:"LIKED_BY_LIST_NATIVE_REQUEST_UPDATED",users:e})}catch(a){c("FBLogger")("ig_web").catching(a)}});return function(a,b){return e.apply(this,arguments)}}()}g.requestNativeLikedByList=a}),98);
__d("PolarisLikedByListButton.react",["IGDSText.react","PolarisFastLink.react","PolarisUA","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(16),e=a.children,f=a.code,g=a.fbLikeCount,h=a.inModal,j=a.isFeedbackAggregated,k=a.isSharedToFb,l=a.onClick;a=a.onMouseEnter;var m=c("usePolarisViewer")();f="/p/"+f+"/liked_by/";var n;b[0]!==g||b[1]!==j||b[2]!==k?(n={fbLikeCount:g,isFeedbackAggregated:j,isSharedToFb:k},b[0]=g,b[1]=j,b[2]=k,b[3]=n):n=b[3];b[4]!==h||b[5]!==m?(g=!m&&h!==!0||d("PolarisUA").isDesktop(),b[4]=h,b[5]=m,b[6]=g):g=b[6];b[7]!==e?(j=i.jsx(c("IGDSText.react"),{weight:"semibold",zeroMargin:!0,children:e}),b[7]=e,b[8]=j):j=b[8];b[9]!==l||b[10]!==a||b[11]!==f||b[12]!==n||b[13]!==g||b[14]!==j?(k=i.jsx(c("PolarisFastLink.react"),{href:f,onClick:l,onMouseEnter:a,passthroughProps:n,shouldOpenModal:g,children:j}),b[9]=l,b[10]=a,b[11]=f,b[12]=n,b[13]=g,b[14]=j,b[15]=k):k=b[15];return k}g["default"]=a}),98);
__d("PolarisLikedByListDialogContentWrapper.react",["IGDSBox.react","IGDSThemeConstantsHelpers","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=400-d("IGDSThemeConstantsHelpers").getNumericValue("scrollable-content-header-height"),k=200;function a(a){var b=d("react-compiler-runtime").c(2);a=a.children;var e;b[0]!==a?(e=i.jsx(c("IGDSBox.react"),{flex:"grow",maxHeight:j,minHeight:k,overflow:"hidden",children:a}),b[0]=a,b[1]=e):e=b[1];return e}g.CONTAINER_MAX_HEIGHT=j;g.CONTAINER_MIN_HEIGHT=k;g.PolarisLikedByListDialogContentWrapper=a}),98);
__d("PolarisLikedByListDialogHeader.react",["fbt","IGDSDialogHeader.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Likes");function a(a){var b=d("react-compiler-runtime").c(2);a=a.onClose;var e;b[0]!==a?(e=j.jsx(c("IGDSDialogHeader.react"),{onClose:a,children:k}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),226);
__d("PolarisLikedByListDialogPlaceholder.react",["IGDSDialogPlaceholder.react","IGDSListItemPlaceholder.react","PolarisLikedByListDialogContentWrapper.react","PolarisLikedByListDialogHeader.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12);a=a.onClose;var e;b[0]!==a?(e=i.jsx(c("PolarisLikedByListDialogHeader.react"),{onClose:a}),b[0]=a,b[1]=e):e=b[1];var f,g,h,j;if(b[2]===Symbol["for"]("react.memo_cache_sentinel")){var k;f=i.jsx(k=c("IGDSListItemPlaceholder.react"),{color:"elevatedHighlightBackground",fullWidth:!0,index:0});g=i.jsx(k,{color:"elevatedHighlightBackground",fullWidth:!0,index:1});h=i.jsx(k,{color:"elevatedHighlightBackground",fullWidth:!0,index:2});j=i.jsx(k,{color:"elevatedHighlightBackground",fullWidth:!0,index:3});k=i.jsx(k,{color:"elevatedHighlightBackground",fullWidth:!0,index:4});b[2]=f;b[3]=g;b[4]=h;b[5]=j;b[6]=k}else f=b[2],g=b[3],h=b[4],j=b[5],k=b[6];b[7]!==e?(f=i.jsx(d("PolarisLikedByListDialogContentWrapper.react").PolarisLikedByListDialogContentWrapper,{children:i.jsxs(i.Fragment,{children:[e,f,g,h,j,k]})}),b[7]=e,b[8]=f):f=b[8];b[9]!==a||b[10]!==f?(g=i.jsx(c("IGDSDialogPlaceholder.react"),{onClose:a,children:f}),b[9]=a,b[10]=f,b[11]=g):g=b[11];return g}g["default"]=a}),98);
__d("PolarisLikerStringEnum",["$InternalEnum","InstagramODS"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({INELIGIBLE:-1,EMPTY:0,NONE:1,SINGLE:2,MULTIPLE:3,NO_TOP_LIKERS:4,DAISY_OFF:5});a=function(a){switch(a){case-1:c("InstagramODS").incr("web.yis.liker_string_enum.redux_ineligible.proactive");return h.INELIGIBLE;case 0:return h.EMPTY;case 1:return h.NONE;case 2:return h.SINGLE;case 3:return h.MULTIPLE;case 4:return h.NO_TOP_LIKERS;case 5:return h.DAISY_OFF;default:c("InstagramODS").incr("web.yis.liker_string_enum.redux_ineligible.default");return h.INELIGIBLE}};g.LikerStringEnum=h;g.getLikerStringEnum=a}),98);
__d("PolarisLikedByTextDaisy.react",["fbt","IGDSText.react","InstagramODS","PolarisLikedByListButton.react","PolarisLikerStringEnum","PolarisUserLink.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=d("react-compiler-runtime").c(5);a=a.username;var e;b[0]!==a?(e=j.jsx(c("IGDSText.react"),{weight:"semibold",children:a}),b[0]=a,b[1]=e):e=b[1];var f;b[2]!==e||b[3]!==a?(f=j.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:a,children:e}),b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}function l(a){var b=d("react-compiler-runtime").c(6),e=a.code,f=a.inModal,g=a.onClick;a=a.onMouseEnter;var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"View likes"),b[0]=i):i=b[0];b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==a?(i=j.jsx(c("PolarisLikedByListButton.react"),{code:e,inModal:f,onClick:g,onMouseEnter:a,children:i}),b[1]=e,b[2]=f,b[3]=g,b[4]=a,b[5]=i):i=b[5];return i}function m(a){var b=d("react-compiler-runtime").c(7),e=a.code,f=a.inModal,g=a.onClick,i=a.onMouseEnter,k=a.others;a=a.primary;var l;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==i||b[4]!==k||b[5]!==a?(l=h._(/*BTDS*/"Liked by {usernames} and {other users}",[h._param("usernames",a),h._param("other users",j.jsx(c("PolarisLikedByListButton.react"),{code:e,inModal:f,onClick:g,onMouseEnter:i,children:k}))]),b[0]=e,b[1]=f,b[2]=g,b[3]=i,b[4]=k,b[5]=a,b[6]=l):l=b[6];return l}function a(a){var b=d("react-compiler-runtime").c(26),e=a.code,f=a.inModal,g=a.onClick,i=a.onMouseEnter,n=a.relayLikerStringEnum;a=a.topLikers;if(n===d("PolarisLikerStringEnum").LikerStringEnum.INELIGIBLE||n===d("PolarisLikerStringEnum").LikerStringEnum.EMPTY||n===d("PolarisLikerStringEnum").LikerStringEnum.DAISY_OFF)return null;if(n===d("PolarisLikerStringEnum").LikerStringEnum.NO_TOP_LIKERS){var o;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==i?(o=j.jsx(l,{code:e,inModal:f,onClick:g,onMouseEnter:i}),b[0]=e,b[1]=f,b[2]=g,b[3]=i,b[4]=o):o=b[4];return o}if(a==null||a.length===0){c("InstagramODS").incr("web.yis.liker_string_enum.disagreement");b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==i?(o=j.jsx(l,{code:e,inModal:f,onClick:g,onMouseEnter:i}),b[5]=e,b[6]=f,b[7]=g,b[8]=i,b[9]=o):o=b[9];return o}b[10]!==a[0]?(i=j.jsx(k,{username:a[0]}),b[10]=a[0],b[11]=i):i=b[11];o=i;if(n===d("PolarisLikerStringEnum").LikerStringEnum.NONE){b[12]!==o?(a=h._(/*BTDS*/"Liked by {username}",[h._param("username",o)]),b[12]=o,b[13]=a):a=b[13];return a}if(n===d("PolarisLikerStringEnum").LikerStringEnum.SINGLE){b[14]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"one other"),b[14]=i):i=b[14];a=i;b[15]!==e||b[16]!==f||b[17]!==g||b[18]!==o?(i=j.jsx(m,{code:e,inModal:f,onClick:g,others:a,primary:o}),b[15]=e,b[16]=f,b[17]=g,b[18]=o,b[19]=i):i=b[19];return i}if(n===d("PolarisLikerStringEnum").LikerStringEnum.MULTIPLE){b[20]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"others"),b[20]=a):a=b[20];i=a;b[21]!==e||b[22]!==f||b[23]!==g||b[24]!==o?(n=j.jsx(m,{code:e,inModal:f,onClick:g,others:i,primary:o}),b[21]=e,b[22]=f,b[23]=g,b[24]=o,b[25]=n):n=b[25];return n}return null}g["default"]=a}),226);
__d("PolarisLikedByTextDaisyReduxQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24177762811807576"}),null);
__d("PolarisLikedByTextDaisyReduxQuery.graphql",["PolarisLikedByTextDaisyReduxQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"mediaId"}],c=[{kind:"Variable",name:"id",variableName:"mediaId"}],d={alias:null,args:null,kind:"ScalarField",name:"hidden_likes_string_variant",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisLikedByTextDaisyReduxQuery",selections:[{alias:null,args:c,concreteType:"XDTMediaDict",kind:"LinkedField",name:"fetch__XDTMediaDict",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisLikedByTextDaisyReduxQuery",selections:[{alias:null,args:c,concreteType:"XDTMediaDict",kind:"LinkedField",name:"fetch__XDTMediaDict",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("PolarisLikedByTextDaisyReduxQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["fetch__XDTMediaDict"]},name:"PolarisLikedByTextDaisyReduxQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisLikedByTextDaisyRedux.react",["CometRelay","InstagramODS","PolarisLikedByTextDaisy.react","PolarisLikedByTextDaisyReduxQuery.graphql","PolarisLikerStringEnum","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useEffect,l=e.useState;function a(a){var e=d("react-compiler-runtime").c(12),f=a.code,g=a.inModal,i=a.mediaId,m=a.onClick,n=a.onMouseEnter;a=a.topLikers;var o=d("CometRelay").useRelayEnvironment(),p=l(d("PolarisLikerStringEnum").LikerStringEnum.INELIGIBLE),q=p[0],r=p[1];e[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=h!==void 0?h:h=b("PolarisLikedByTextDaisyReduxQuery.graphql"),e[0]=p):p=e[0];var s=p,t;e[1]!==o||e[2]!==i?(p=function(){var a=d("CometRelay").fetchQuery(o,s,{mediaId:i},{fetchPolicy:"store-or-network"}).subscribe({next:function(a){var b;a=d("PolarisLikerStringEnum").getLikerStringEnum(a==null||(b=a.fetch__XDTMediaDict)==null?void 0:b.hidden_likes_string_variant);a===d("PolarisLikerStringEnum").LikerStringEnum.INELIGIBLE&&c("InstagramODS").incr("web.yis.liker_string_enum.redux_ineligible");r(a)}});return function(){a.unsubscribe()}},t=[o,i,s],e[1]=o,e[2]=i,e[3]=p,e[4]=t):(p=e[3],t=e[4]);k(p,t);e[5]!==f||e[6]!==g||e[7]!==q||e[8]!==m||e[9]!==n||e[10]!==a?(p=j.jsx(c("PolarisLikedByTextDaisy.react"),{code:f,inModal:g,onClick:m,onMouseEnter:n,relayLikerStringEnum:q,topLikers:a}),e[5]=f,e[6]=g,e[7]=q,e[8]=m,e[9]=n,e[10]=a,e[11]=p):p=e[11];return p}g["default"]=a}),98);
__d("PolarisLikedByText.react",["fbt","IGDSButton.react","IGDSText.react","InstagramODS","PolarisBigNumber.react","PolarisFastLink.react","PolarisLikedByListButton.react","PolarisLikedByTextDaisy.react","PolarisLikedByTextDaisyRedux.react","PolarisLinkBuilder","PolarisPostUtils","PolarisUserLink.react","PolarisUserLinkWithHoverCard.react","gkx","justknobx","nullthrows","polarisLogAction","react","react-compiler-runtime","useCurrentRoute","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=d("react-compiler-runtime").c(5);a=a.user;var e=a.id,f;b[0]!==a.username?(f=c("nullthrows")(a.username),b[0]=a.username,b[1]=f):f=b[1];b[2]!==f||b[3]!==a.id?(e=j.jsx(c("PolarisUserLinkWithHoverCard.react"),{userId:e,username:f}),b[2]=f,b[3]=a.id,b[4]=e):e=b[4];return e}var l=function(){c("polarisLogAction")("likeCountClick")};function a(a){var b=d("react-compiler-runtime").c(81),e=a.code,f=a.fbLikeCount,g=a.hideCounts,i=a.inModal,m=a.isFeedbackAggregated,n=a.isSharedToFb,o=a.mediaId,p=a.onClick,q=a.onLike,r=a.onMouseEnter,s=a.relayLikerStringEnum,t=a.topLikers,u=a.totalCount;a=a.users;var v=c("usePolarisViewer")(),w=c("useCurrentRoute")();w=w==null?void 0:w.url;var x;b[0]!==a||b[1]!==v?(x=d("PolarisPostUtils").getOrderedUsersForLikedByList(a,v),b[0]=a,b[1]=v,b[2]=x):x=b[2];x=x;var y=g&&c("gkx")("9133");if(y){if(s!=null){b[3]!==e||b[4]!==i||b[5]!==p||b[6]!==r||b[7]!==s||b[8]!==t?(y=j.jsx(c("PolarisLikedByTextDaisy.react"),{code:e,inModal:i,onClick:p,onMouseEnter:r,relayLikerStringEnum:s,topLikers:t}),b[3]=e,b[4]=i,b[5]=p,b[6]=r,b[7]=s,b[8]=t,b[9]=y):y=b[9];return y}else if(o!=null){b[10]!==e||b[11]!==i||b[12]!==o||b[13]!==p||b[14]!==r||b[15]!==t?(s=j.jsx(c("PolarisLikedByTextDaisyRedux.react"),{code:e,inModal:i,mediaId:o,onClick:p,onMouseEnter:r,topLikers:t}),b[10]=e,b[11]=i,b[12]=o,b[13]=p,b[14]=r,b[15]=t,b[16]=s):s=b[16];return s}c("InstagramODS").incr("web.yis.liker_string_enum.irretrieveable")}if(u===1){b[17]!==u?(y=h._(/*BTDS*/"{count} like",[h._param("count",u)]),b[17]=u,b[18]=y):y=b[18];o=y}else if(g){b[19]===Symbol["for"]("react.memo_cache_sentinel")?(s=h._(/*BTDS*/"other likes"),b[19]=s):s=b[19];o=s}else{b[20]!==u?(y=h._(/*BTDS*/"{count} likes",[h._param("count",j.jsx(c("PolarisBigNumber.react"),{supportSSR:c("justknobx")._("4812"),value:u}))]),b[20]=u,b[21]=y):y=b[21];o=y}s=u!==0&&a.length===0&&!g;if(s){b[22]!==e||b[23]!==f||b[24]!==i||b[25]!==m||b[26]!==n||b[27]!==o||b[28]!==p||b[29]!==r?(y=j.jsx(c("PolarisLikedByListButton.react"),{code:e,fbLikeCount:f,inModal:i,isFeedbackAggregated:m,isSharedToFb:n,onClick:p,onMouseEnter:r,children:o}),b[22]=e,b[23]=f,b[24]=i,b[25]=m,b[26]=n,b[27]=o,b[28]=p,b[29]=r,b[30]=y):y=b[30];return y}else if(u===0){if(v){b[31]!==q?(a=h._(/*BTDS*/"Be the first to {like this}",[h._param("like this",j.jsx(c("IGDSButton.react"),{display:"block",label:h._(/*BTDS*/"like this"),onClick:q,variant:"secondary_link"}))]),b[31]=q,b[32]=a):a=b[32];return a}b[33]!==w?(s=d("PolarisLinkBuilder").buildLoginLink(w,{source:"post_likers"}),b[33]=w,b[34]=s):s=b[34];b[35]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Log in"),b[35]=f):f=b[35];b[36]!==s?(m=j.jsx(c("PolarisFastLink.react"),{href:s,children:f}),b[36]=s,b[37]=m):m=b[37];n=m;b[38]!==n?(y=h._(/*BTDS*/"{Log in} to like this",[h._param("Log in",n)]),b[38]=n,b[39]=y):y=b[39];return y}else if(u===1&&g){if(t!=null&&t.length===1){v=t[0];b[40]!==v?(q=j.jsx(c("IGDSText.react"),{weight:"semibold",children:v}),b[40]=v,b[41]=q):q=b[41];b[42]!==v||b[43]!==q?(a=j.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:v,children:q}),b[42]=v,b[43]=q,b[44]=a):a=b[44];w=a;b[45]!==w?(f=h._(/*BTDS*/"Liked by {username}",[h._param("username",w)]),b[45]=w,b[46]=f):f=b[46];return f}else if(x.length===1){b[47]!==x[0]?(s=h._(/*BTDS*/"Liked by {username}",[h._param("username",j.jsx(k,{user:x[0]}))]),b[47]=x[0],b[48]=s):s=b[48];return s}}else if((x.length>=1||g&&t!=null&&t.length>=1)&&(u>=2||u===-1)){if(g)if(x.length===2&&u===2){b[49]!==x[0]?(m=j.jsx(k,{user:x[0]}),b[49]=x[0],b[50]=m):m=b[50];n=m;b[51]!==x[1]?(y=j.jsx(k,{user:x[1]}),b[51]=x[1],b[52]=y):y=b[52];v=y}else{b[53]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"others"),b[53]=q):q=b[53];a=q;b[54]!==e||b[55]!==i||b[56]!==p||b[57]!==r?(w=j.jsx(c("PolarisLikedByListButton.react"),{code:e,inModal:i,onClick:p,onMouseEnter:r,children:a}),b[54]=e,b[55]=i,b[56]=p,b[57]=r,b[58]=w):w=b[58];v=w;if(t!=null&&t.length>=1){f=t[0];b[59]!==f?(s=j.jsx(c("IGDSText.react"),{weight:"semibold",children:f}),b[59]=f,b[60]=s):s=b[60];b[61]!==f||b[62]!==s?(m=j.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:f,children:s}),b[61]=f,b[62]=s,b[63]=m):m=b[63];n=m}else{b[64]!==x[0]?(y=j.jsx(k,{user:x[0]}),b[64]=x[0],b[65]=y):y=b[65];n=y}}else{b[66]!==u?(q=u>2?h._(/*BTDS*/"{count} others",[h._param("count",j.jsx(c("PolarisBigNumber.react"),{value:u-1}))]):h._(/*BTDS*/"1 other"),b[66]=u,b[67]=q):q=b[67];a=q;b[68]!==e||b[69]!==i||b[70]!==a||b[71]!==p||b[72]!==r?(w=j.jsx(c("PolarisLikedByListButton.react"),{code:e,inModal:i,onClick:p,onMouseEnter:r,children:a}),b[68]=e,b[69]=i,b[70]=a,b[71]=p,b[72]=r,b[73]=w):w=b[73];v=w;b[74]!==x[0]?(t=j.jsx(k,{user:x[0]}),b[74]=x[0],b[75]=t):t=b[75];n=t}b[76]!==n||b[77]!==v?(f=h._(/*BTDS*/"Liked by {username} and {other users}",[h._param("username",n),h._param("other users",v)]),b[76]=n,b[77]=v,b[78]=f):f=b[78];return f}if(g)return null;b[79]!==o?(s=j.jsx(c("IGDSButton.react"),{display:"block",label:o,onClick:l,variant:"secondary_link"}),b[79]=o,b[80]=s):s=b[80];return s}g["default"]=a}),226);
__d("PolarisLineClampText.react",["fbt","FDSLineClamp.react","IGDSText.react","PolarisIGCorePressable.react","PolarisIGCoreText","PolarisUserText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["lines","prependElement","color","headlineTag","value"],j,k=j||(j=d("react")),l=j.useState,m=2,n=1e4;function a(a){var b=d("react-compiler-runtime").c(29),e,f,g,j,o,p;b[0]!==a?(j=a.lines,f=a.prependElement,e=a.color,o=a.headlineTag,p=a.value,g=babelHelpers.objectWithoutPropertiesLoose(a,i),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=o,b[6]=p):(e=b[1],f=b[2],g=b[3],j=b[4],o=b[5],p=b[6]);a=j===void 0?m:j;j=o===void 0?"h1":o;o=l(!1);var q=o[0],r=o[1];b[7]!==e||b[8]!==j||b[9]!==g||b[10]!==p?(o=k.jsx(c("PolarisUserText.react"),babelHelpers["extends"]({},g,{color:e,display:"inline",headlineTag:j,size:"body",value:p})),b[7]=e,b[8]=j,b[9]=g,b[10]=p,b[11]=o):o=b[11];j=o;g=e==="ig-text-on-media"?"textOnMedia":"secondaryText";b[12]!==q?(p=function(){return r(!q)},b[12]=q,b[13]=p):p=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(o={display:"inline"},b[14]=o):o=b[14];a=q?n:a;var s;b[15]!==f||b[16]!==a||b[17]!==j?(s=k.jsxs(c("FDSLineClamp.react"),{lines:a,children:[f,j]}),b[15]=f,b[16]=a,b[17]=j,b[18]=s):s=b[18];b[19]!==q||b[20]!==g?(f=!q&&k.jsx(c("IGDSText.react"),{color:g,textAlign:"start",zeroMargin:!0,children:h._(/*BTDS*/"more")}),b[19]=q,b[20]=g,b[21]=f):f=b[21];b[22]!==p||b[23]!==s||b[24]!==f?(a=k.jsxs(c("PolarisIGCorePressable.react"),{onPress:p,style:o,children:[s,f]}),b[22]=p,b[23]=s,b[24]=f,b[25]=a):a=b[25];b[26]!==e||b[27]!==a?(j=k.jsx(c("PolarisIGCoreText"),{color:e,display:"inline",zeroMargin:!0,children:a}),b[26]=e,b[27]=a,b[28]=j):j=b[28];return j}g["default"]=a}),226);
__d("PolarisLocationLink.react",["PolarisFastLink.react","PolarisLinkBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.className;a=a.location;var e=(a==null?void 0:a.hasPublicPage)===!0&&!!a.id;return e?i.jsx(c("PolarisFastLink.react"),{className:b,href:d("PolarisLinkBuilder").buildLocationLink({id:(e=a.id)!=null?e:"",slug:a.slug}),children:(e=a.name)!=null?e:""}):i.jsx("span",{className:b,children:(e=a.name)!=null?e:""})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUserTagIndicator.react",["IGDSBox.react","IGDSUserPanoFilledIcon.react","PolarisGenericStrings","PolarisIGCoreButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.absolute,f=a.endAndornment,g=a.onClick,h=a.onMouseEnter;a=a.visible;e=e===void 0?!1:e;a=a===void 0?!0:a;var j;b[0]!==e||b[1]!==a?(j={0:{className:"xwepwai x12ol6y4 x180vkcf x1khw62d x709u02 x972fbf x10w94by x1qhh985 x14e42zd x1ypdohk x14vqqas xbmvrgn xod5an3 x1diwwjn xg01cxk x1n2onr6 x13dflua x19991ni"},2:{className:"xwepwai x12ol6y4 x180vkcf x1khw62d x709u02 x972fbf x10w94by x1qhh985 x14e42zd x1ypdohk x14vqqas xbmvrgn xod5an3 x1diwwjn xg01cxk x13dflua x19991ni x1ey2m1c x1o0tod x10l6tqk"},1:{className:"xwepwai x12ol6y4 x180vkcf x1khw62d x709u02 x972fbf x10w94by x1qhh985 x14e42zd x1ypdohk x14vqqas xbmvrgn xod5an3 x1diwwjn x1n2onr6 x13dflua x19991ni x1hc1fzr"},3:{className:"xwepwai x12ol6y4 x180vkcf x1khw62d x709u02 x972fbf x10w94by x1qhh985 x14e42zd x1ypdohk x14vqqas xbmvrgn xod5an3 x1diwwjn x13dflua x19991ni x1ey2m1c x1o0tod x10l6tqk x1hc1fzr"}}[!!e<<1|!!a<<0],b[0]=e,b[1]=a,b[2]=j):j=b[2];e=f!=null?3:2;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("IGDSUserPanoFilledIcon.react"),{alt:d("PolarisGenericStrings").TAG_TEXT,color:"web-always-white",size:12}),b[3]=a):a=b[3];b[4]!==f||b[5]!==e?(a=i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",paddingX:e,paddingY:2,position:"relative",children:[a,f]}),b[4]=f,b[5]=e,b[6]=a):a=b[6];b[7]!==g||b[8]!==h||b[9]!==a?(f=i.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:g,onMouseEnter:h,children:a}),b[7]=g,b[8]=h,b[9]=a,b[10]=f):f=b[10];b[11]!==j||b[12]!==f?(e=i.jsx("div",babelHelpers["extends"]({},j,{children:f})),b[11]=j,b[12]=f,b[13]=e):e=b[13];return e}g["default"]=a}),98);
__d("PolarisLoggedOutUserTagIndicator.react",["PolarisConfig","PolarisUA","PolarisUserTagIndicator.react","react","react-compiler-runtime","useCurrentRoute","usePolarisLoggedOutIntentEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(11),e=a.onClick,f=a.onMouseEnter;a=a.visible;a=a===void 0?!0:a;var g=c("useCurrentRoute")(),h=c("usePolarisLoggedOutIntentEntryPointDialog")(),j=h[0],k=h[1],l=(h=g==null?void 0:g.url)!=null?h:"/";b[0]!==l||b[1]!==e||b[2]!==j?(g=function(){d("PolarisUA").isDesktop()&&!d("PolarisConfig").isLoggedOutFRXEligible()?j==null||j({nextUrl:l,source:"post_tagged"}):e!=null&&e()},b[0]=l,b[1]=e,b[2]=j,b[3]=g):g=b[3];h=g;b[4]!==k||b[5]!==f?(g=function(){d("PolarisUA").isDesktop&&!d("PolarisConfig").isLoggedOutFRXEligible()?k==null||k():f!=null&&f()},b[4]=k,b[5]=f,b[6]=g):g=b[6];g=g;var m;b[7]!==h||b[8]!==g||b[9]!==a?(m=i.jsx(c("PolarisUserTagIndicator.react"),{absolute:!0,onClick:h,onMouseEnter:g,visible:a}),b[7]=h,b[8]=g,b[9]=a,b[10]=m):m=b[10];return m}g["default"]=a}),98);
__d("PolarisUserTagSheet.react",["IGDSBox.react","IGDSListItem.react","IGDSTextVariants.react","IGDSVerifiedBadge.react","PolarisIGCoreConstants","PolarisIGCoreSheetOrModal","PolarisLinkBuilder","PolarisUA","PolarisUserAvatar.react","nullthrows","polarisLogAction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(9);a=a.user;var e=a.isVerified;a=a.username;if(a===void 0)return null;var f;b[0]!==a?(f=i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{zeroMargin:!0,children:a}),b[0]=a,b[1]=f):f=b[1];b[2]!==e?(a=e&&i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),b[2]=e,b[3]=a):a=b[3];b[4]!==a?(e=i.jsx(c("IGDSBox.react"),{marginStart:2,children:a}),b[4]=a,b[5]=e):e=b[5];b[6]!==f||b[7]!==e?(a=i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[f,e]}),b[6]=f,b[7]=e,b[8]=a):a=b[8];return a}function k(a){var b=d("react-compiler-runtime").c(17),e=a.onClick;a=a.user;var f=a.fullName,g=a.profilePictureUrl,h=a.username,k;b[0]!==g||b[1]!==h?(k=i.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:g,size:c("PolarisIGCoreConstants").AVATAR_SIZES.medium,username:h}),b[0]=g,b[1]=h,b[2]=k):k=b[2];b[3]!==h?(g=d("PolarisLinkBuilder").buildUserLink(h),b[3]=h,b[4]=g):g=b[4];b[5]!==g?(h={url:g},b[5]=g,b[6]=h):h=b[6];b[7]!==e?(g=function(){e()},b[7]=e,b[8]=g):g=b[8];var l;b[9]!==a?(l=i.jsx(j,{user:a}),b[9]=a,b[10]=l):l=b[10];b[11]!==f||b[12]!==k||b[13]!==h||b[14]!==g||b[15]!==l?(a=i.jsx(c("IGDSListItem.react"),{addOnStart:k,linkProps:h,onPress:g,subtitle:f,testid:void 0,title:l}),b[11]=f,b[12]=k,b[13]=h,b[14]=g,b[15]=l,b[16]=a):a=b[16];return a}function l(a){var b=d("react-compiler-runtime").c(7),e=a.mediaId;a=a.usertags;var f;b[0]!==e?(f=function(){c("polarisLogAction")("userTagSheetItemClick",{mediaId:e,source:"UserTagSheetItems"})},b[0]=e,b[1]=f):f=b[1];var g=f;if(b[2]!==g||b[3]!==a){b[5]!==g?(f=function(a){a=c("nullthrows")(a);a=a.user;return i.jsx(k,{onClick:g,user:a},a.id)},b[5]=g,b[6]=f):f=b[6];f=a.map(f);b[2]=g;b[3]=a;b[4]=f}else f=b[4];return f}a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.componentDidMount=function(){c("polarisLogAction")("userTagSheetImpression",{mediaId:this.props.mediaId,numUsertags:this.props.usertags.length,source:"UserTagSheet"})};e.render=function(){var a=this.props,b=a.mediaId,e=a.onClose,f=a.title;a=a.usertags;return i.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:e,title:f,children:i.jsx(c("IGDSBox.react"),{flex:"grow",marginBottom:d("PolarisUA").isMobile()?6:void 0,overflow:"auto",children:i.jsx(l,{mediaId:b,usertags:a})})})};return b}(i.PureComponent);g.Username=j;g.UserTagSheetItem=k;g.UserTagSheetItems=l;g.UserTagSheet=a}),98);
__d("PolarisUserTagIndicatorWithSheet.react",["fbt","PolarisUserTagIndicator.react","PolarisUserTagSheet.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState,l=h._(/*BTDS*/"Tagged");function a(a){var b=d("react-compiler-runtime").c(14),e=a.disableSheet,f=a.mediaId,g=a.onClick,h=a.onMouseEnter;a=a.usertags;var i=k(!1),m=i[0],n=i[1];b[0]!==e||b[1]!==g?(i=function(){g==null||g(),e!==!0&&n(!0)},b[0]=e,b[1]=g,b[2]=i):i=b[2];i=i;var o;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(){n(!1)},b[3]=o):o=b[3];o=o;var p;b[4]!==i||b[5]!==h?(p=j.jsx(c("PolarisUserTagIndicator.react"),{absolute:!0,onClick:i,onMouseEnter:h}),b[4]=i,b[5]=h,b[6]=p):p=b[6];b[7]!==m||b[8]!==f||b[9]!==a?(i=m&&j.jsx(d("PolarisUserTagSheet.react").UserTagSheet,{mediaId:f,onClose:o,title:l,usertags:a}),b[7]=m,b[8]=f,b[9]=a,b[10]=i):i=b[10];b[11]!==p||b[12]!==i?(h=j.jsxs(j.Fragment,{children:[p,i]}),b[11]=p,b[12]=i,b[13]=h):h=b[13];return h}g["default"]=a}),226);
__d("PolarisLoggedOutUserTagIndicatorWithSheet.react",["PolarisConfig","PolarisUA","PolarisUserTagIndicatorWithSheet.react","react","react-compiler-runtime","usePolarisLoggedOutIntentEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(10),e=a.mediaId;a=a.usertags;var f=c("usePolarisLoggedOutIntentEntryPointDialog")(),g=f[0],h=f[1];b[0]!==g?(f=function(){d("PolarisUA").isDesktop()&&!d("PolarisConfig").isLoggedOutFRXEligible()&&(g==null||g({source:"post_tagged"}))},b[0]=g,b[1]=f):f=b[1];f=f;var j;b[2]!==h?(j=function(){d("PolarisUA").isDesktop()&&!d("PolarisConfig").isLoggedOutFRXEligible()&&(h==null||h())},b[2]=h,b[3]=j):j=b[3];j=j;var k;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(k=d("PolarisUA").isDesktop(),b[4]=k):k=b[4];b[5]!==f||b[6]!==j||b[7]!==e||b[8]!==a?(k=i.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{disableSheet:k,mediaId:e,onClick:f,onMouseEnter:j,usertags:a}),b[5]=f,b[6]=j,b[7]=e,b[8]=a,b[9]=k):k=b[9];return k}g["default"]=a}),98);
__d("PolarisMadeWithEditsLabel.react",["fbt","IGDSAppEditsUpdatedIcon.react","IGDSBox.react","IGDSTextVariants.react","PolarisIGCoreButton.react","PolarisIsEmployee","URI","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=h._(/*BTDS*/"Made with Edits");function a(a){var b=a.addMargin;b=b===void 0?!1:b;var e=a.showText;e=e===void 0?!0:e;a=a.textSize;a=a===void 0?"small":a;a=a==="small"?k.jsx(d("IGDSTextVariants.react").IGDSTextBody2Emphasized,{color:"webAlwaysWhite",maxLines:1,children:l}):k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"webAlwaysWhite",maxLines:1,children:l});if(!c("PolarisIsEmployee")())return null;var f=function(){(i||(i=c("URI"))).goURIOnNewWindow("https://fb.workplace.com/groups/editsfeedback")};return k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:f,children:k.jsx("div",babelHelpers["extends"]({},{0:{},1:{className:"xnnr8r xwklpps"}}[!!b<<0],{children:k.jsxs(c("IGDSBox.react"),{alignItems:"center",columnGap:1,direction:"row",height:"100%",justifyContent:"center",position:"relative",width:"100%",children:[e&&k.jsx("span",{className:"xwklpps",children:a}),k.jsx(c("IGDSAppEditsUpdatedIcon.react"),{alt:"Edits Feedback button (internal only)",size:24})]})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisMediaOverlayCommunityNoteHeader.react",["fbt","IGDSText.react","IGDSTextVariants.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Community note"),l=h._(/*BTDS*/"Written by an Instagram user");function a(a){var b=d("react-compiler-runtime").c(10);a=a.useInstaOverlayGrayBackground;a=a===void 0?!1:a;var e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1cy8zhl xdt5ytf x1e56ztr xh8yej3"},f={className:"x1cy8zhl x17zd0t2 x13a6bvl x1ty9z65 xh8yej3"},b[0]=e,b[1]=f):(e=b[0],f=b[1]);var g=a?"webAlwaysWhite":void 0;b[2]!==g?(f=j.jsx("div",babelHelpers["extends"]({},f,{children:j.jsx(c("IGDSText.react"),{color:g,weight:"semibold",children:k})})),b[2]=g,b[3]=f):f=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x17zd0t2 xh8yej3"},b[4]=g):g=b[4];a=a?"secondaryTextOnMedia":"secondaryText";b[5]!==a?(g=j.jsx("div",babelHelpers["extends"]({},g,{children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:a,children:l})})),b[5]=a,b[6]=g):g=b[6];b[7]!==f||b[8]!==g?(a=j.jsxs("div",babelHelpers["extends"]({},e,{children:[f,g]})),b[7]=f,b[8]=g,b[9]=a):a=b[9];return a}g["default"]=a}),226);
__d("PolarisMediaOverlayCommunityNotePills.react",["fbt","CometPressable.react","IGDSIcon.react","IGDSInfoFilledIcon.svg.react","IGDSLinkPanoFilled24Icon.svg.react","IGDSTextVariants.react","JSResourceForInteraction","PolarisInstagramMediaOverlayFalcoEvent","react","react-compiler-runtime","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={button:{alignItems:"x6s0dn4",borderBottomWidth:"xso031l",borderTopColor:"x19gtwsn",borderInlineEndColor:"xhpglom",borderBottomColor:"x1xp9za0",borderInlineStartColor:"x1fqc88y",borderInlineStartWidth:"xpilrb4",borderInlineEndWidth:"x1lun4ml",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",columnGap:"xmixu3c",flexDirection:"x1q0g3np",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",paddingInlineStart:"xe2zdcy",paddingInlineEnd:"x2vl965",paddingLeft:null,paddingRight:null,$$css:!0},buttonOverlay:{backgroundColor:"x1ohetei",borderTopColor:"x67d1xr",borderInlineEndColor:"x1ht0dol",borderBottomColor:"xb18qi8",borderInlineStartColor:"x1luyhxd",$$css:!0}},l=h._(/*BTDS*/"Sources"),m=h._(/*BTDS*/"More info"),n=c("JSResourceForInteraction")("PolarisMediaOverlayCommunityNoteSourcesDialog.react").__setRef("PolarisMediaOverlayCommunityNotePills.react"),o=c("JSResourceForInteraction")("PolarisMediaOverlayCommunityNoteMoreInfoDialog.react").__setRef("PolarisMediaOverlayCommunityNotePills.react");function a(a){var b=d("react-compiler-runtime").c(34),e=a.loggingData,f=a.publishedTimeDetailed,g=a.sources;a=a.useInstaOverlayGrayBackground;a=a===void 0?!1:a;var h=c("useIGDSLazyDialog")(n),i=h[0];h=c("useIGDSLazyDialog")(o);var p=h[0];b[0]!==e||b[1]!==i||b[2]!==g?(h=function(){(e==null?void 0:e.entityID)!=null&&d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.log(function(){var a;return d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.buildPayloadForLog({containerModule:(a=e.containerModule)!=null?a:"",customAction:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.INLINE_RATING_SOURCE_BOTTOMSHEET_CLICK,entityID:e.entityID,event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,overlayLayout:(a=e.overlayLayout)!=null?a:null,overlayType:(a=e.overlayType)!=null?a:"",sessionId:(a=e.sessionId)!=null?a:""})}),i({loggingData:e,sources:g})},b[0]=e,b[1]=i,b[2]=g,b[3]=h):h=b[3];h=h;var q;b[4]!==e||b[5]!==f||b[6]!==p?(q=function(){(e==null?void 0:e.entityID)!=null&&d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.log(function(){var a;return d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.buildPayloadForLog({containerModule:(a=e.containerModule)!=null?a:"",customAction:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.INLINE_RATING_MORE_INFO_BOTTOMSHEET_CLICK,entityID:e.entityID,event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,overlayLayout:(a=e.overlayLayout)!=null?a:null,overlayType:(a=e.overlayType)!=null?a:"",sessionId:(a=e.sessionId)!=null?a:""})}),p({loggingData:e,publishedTimeAgo:f})},b[4]=e,b[5]=f,b[6]=p,b[7]=q):q=b[7];q=q;var r;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x1cy8zhl x17zd0t2 x78zum5 x1q0g3np xod5an3 x14vqqas"},b[8]=r):r=b[8];var s=a&&k.buttonOverlay,t;b[9]!==s?(t=[k.button,s],b[9]=s,b[10]=t):t=b[10];s=a?"white":"primary";var u;b[11]!==s?(u=j.jsx(c("IGDSIcon.react"),{color:s,icon:c("IGDSLinkPanoFilled24Icon.svg.react"),size:16}),b[11]=s,b[12]=u):u=b[12];s=a?"webAlwaysWhite":void 0;var v;b[13]!==s?(v=j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:s,children:l}),b[13]=s,b[14]=v):v=b[14];b[15]!==h||b[16]!==v||b[17]!==t||b[18]!==u?(s=j.jsxs(c("CometPressable.react"),{onPress:h,xstyle:t,children:[u,v]}),b[15]=h,b[16]=v,b[17]=t,b[18]=u,b[19]=s):s=b[19];h=a&&k.buttonOverlay;b[20]!==h?(v=[k.button,h],b[20]=h,b[21]=v):v=b[21];t=a?"white":"primary";b[22]!==t?(u=j.jsx(c("IGDSIcon.react"),{color:t,icon:c("IGDSInfoFilledIcon.svg.react"),size:16}),b[22]=t,b[23]=u):u=b[23];h=a?"webAlwaysWhite":void 0;b[24]!==h?(t=j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:h,children:m}),b[24]=h,b[25]=t):t=b[25];b[26]!==q||b[27]!==v||b[28]!==u||b[29]!==t?(a=j.jsxs(c("CometPressable.react"),{onPress:q,xstyle:v,children:[u,t]}),b[26]=q,b[27]=v,b[28]=u,b[29]=t,b[30]=a):a=b[30];b[31]!==s||b[32]!==a?(h=j.jsxs("div",babelHelpers["extends"]({},r,{children:[s,a]})),b[31]=s,b[32]=a,b[33]=h):h=b[33];return h}g["default"]=a}),226);
__d("PolarisMediaOverlayCommunityNoteRating.react",["fbt","CometPressable.react","IGDSIcon.react","IGDSTextVariants.react","IGDSThumbDownPanoFilled24Icon.svg.react","IGDSThumbDownPanoOutline24Icon.svg.react","IGDSThumbUpPanoFilled24Icon.svg.react","IGDSThumbUpPanoOutline24Icon.svg.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={thumbButton:{alignItems:"x6s0dn4",aspectRatio:"x1plog1",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",height:"xn3w4p2",justifyContent:"xl56j7k",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",paddingInlineEnd:"xf159sx",paddingLeft:null,paddingRight:null,width:"x187nhsf",$$css:!0}},l=h._(/*BTDS*/"Instagram users in the Community Notes program rated this note helpful. Do you agree?");function a(a){var b=d("react-compiler-runtime").c(28),e=a.onThumbDownClick,f=a.onThumbUpClick,g=a.thumbDownClicked,h=a.thumbUpClicked;a=a.useInstaOverlayGrayBackground;var i=g===void 0?!1:g,m=h===void 0?!1:h;g=a===void 0?!1:a;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x6s0dn4 x78zum5 x1q0g3np x1qughib x14vqqas x1iorvi4 xjkvuk6 xh8yej3"},b[0]=h):h=b[0];a=g?"secondaryTextOnMedia":"secondaryText";var n;b[1]!==a?(n=j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:a,children:l}),b[1]=a,b[2]=n):n=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 xfex06f x78zum5 x1q0g3np"},b[3]=a):a=b[3];var o;b[4]!==f||b[5]!==m?(o=function(){f(!m)},b[4]=f,b[5]=m,b[6]=o):o=b[6];var p=g?"white":"secondary",q=m?c("IGDSThumbUpPanoFilled24Icon.svg.react"):c("IGDSThumbUpPanoOutline24Icon.svg.react"),r;b[7]!==q||b[8]!==p?(r=j.jsx(c("IGDSIcon.react"),{color:p,icon:q,size:20}),b[7]=q,b[8]=p,b[9]=r):r=b[9];b[10]!==r||b[11]!==o?(q=j.jsx(c("CometPressable.react"),{onPress:o,xstyle:k.thumbButton,children:r}),b[10]=r,b[11]=o,b[12]=q):q=b[12];b[13]!==e||b[14]!==i?(p=function(){e(!i)},b[13]=e,b[14]=i,b[15]=p):p=b[15];r=g?"white":"secondary";o=i?c("IGDSThumbDownPanoFilled24Icon.svg.react"):c("IGDSThumbDownPanoOutline24Icon.svg.react");b[16]!==r||b[17]!==o?(g=j.jsx(c("IGDSIcon.react"),{color:r,icon:o,size:20}),b[16]=r,b[17]=o,b[18]=g):g=b[18];b[19]!==p||b[20]!==g?(r=j.jsx(c("CometPressable.react"),{onPress:p,xstyle:k.thumbButton,children:g}),b[19]=p,b[20]=g,b[21]=r):r=b[21];b[22]!==q||b[23]!==r?(o=j.jsxs("div",babelHelpers["extends"]({},a,{children:[q,r]})),b[22]=q,b[23]=r,b[24]=o):o=b[24];b[25]!==o||b[26]!==n?(p=j.jsxs("div",babelHelpers["extends"]({},h,{children:[n,o]})),b[25]=o,b[26]=n,b[27]=p):p=b[27];return p}g["default"]=a}),226);
__d("PolarisMediaOverlayCommunityNoteRedesigned_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaOverlayCommunityNoteRedesigned_media",selections:[{alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headline_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisMediaOverlayCommunityNoteRedesigned",["fbt","CometPressable.react","CometRelay","IGDSTextVariants.react","PolarisInstagramMediaOverlayFalcoEvent","PolarisMediaOverlayCommunityNoteHeader.react","PolarisMediaOverlayCommunityNotePills.react","PolarisMediaOverlayCommunityNoteRating.react","PolarisMediaOverlayCommunityNoteRedesigned_media.graphql","PolarisMediaOverlayInfoTypes","PolarisTruncatedText.react","PolarisUserText.react","react","react-compiler-runtime","useIGDSToaster"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useEffect,m=e.useState,n={collapsedContent:{backgroundColor:"xnz67gz",borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",flexDirection:"xdt5ytf",marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",paddingBottom:"xsag5q8",paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",paddingTop:"xz9dl7a",width:"xh8yej3",$$css:!0},expandedContent:{alignItems:"x1cy8zhl",backgroundColor:"xnz67gz",borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",display:"x78zum5",flexDirection:"xdt5ytf",marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",paddingBottom:"xsag5q8",paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",paddingTop:"xz9dl7a",width:"xh8yej3",$$css:!0},instaOverlayGray:{backgroundColor:"xfhu54g",$$css:!0}},o=h._(/*BTDS*/"more"),p=h._(/*BTDS*/"Thanks! Your feedback helps to improve Community Notes.");function a(a){var e,f=d("react-compiler-runtime").c(62),g=a.chracterLimit,h=a.communityNoteButtonsProp,j=a.loggingData,r=a.maxLines,s=a.onExpandedChange,t=a.queryReference,u=a.showMoreText;a=a.useInstaOverlayGrayBackground;g=g===void 0?120:g;r=r===void 0?2:r;u=u===void 0?!0:u;a=a===void 0?!1:a;var v=m(!1),w=v[0],x=v[1];v=m(!1);var y=v[0],z=v[1];v=m(!1);var A=v[0],B=v[1];v=c("useIGDSToaster")();var C=v.add;f[0]!==C||f[1]!==j?(v=function(a){z(a),a&&(B(!1),C({message:p,target:"bottom"}),(j==null?void 0:j.entityID)!=null&&d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.log(function(){var a;return d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.buildPayloadForLog({containerModule:(a=j.containerModule)!=null?a:"",customAction:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.INLINE_RATING_THUMBS_UP_CLICK,entityID:j.entityID,event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,overlayLayout:(a=j.overlayLayout)!=null?a:null,overlayType:(a=j.overlayType)!=null?a:"",sessionId:(a=j.sessionId)!=null?a:""})}))},f[0]=C,f[1]=j,f[2]=v):v=f[2];v=v;var D;f[3]!==C||f[4]!==j?(D=function(a){B(a),a&&(z(!1),C({message:p,target:"bottom"}),(j==null?void 0:j.entityID)!=null&&d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.log(function(){var a;return d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.buildPayloadForLog({containerModule:(a=j.containerModule)!=null?a:"",customAction:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.INLINE_RATING_THUMBS_DOWN_CLICK,entityID:j.entityID,event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,overlayLayout:(a=j.overlayLayout)!=null?a:null,overlayType:(a=j.overlayType)!=null?a:"",sessionId:(a=j.sessionId)!=null?a:""})}))},f[3]=C,f[4]=j,f[5]=D):D=f[5];D=D;var E,F;f[6]!==j?(E=function(){j!=null&&j.entityID&&d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.log(function(){var a;return d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.buildPayloadForLog({containerModule:(a=j.containerModule)!=null?a:"",customAction:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.INLINE_RATING_IMPRESSION,entityID:j.entityID,event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,overlayLayout:(a=j.overlayLayout)!=null?a:null,overlayType:(a=j.overlayType)!=null?a:"",sessionId:(a=j.sessionId)!=null?a:""})})},F=[j],f[6]=j,f[7]=E,f[8]=F):(E=f[7],F=f[8]);l(E,F);E=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisMediaOverlayCommunityNoteRedesigned_media.graphql"),t);if(f[9]!==(E==null||(e=E.media_overlay_info)==null?void 0:e.buttons)){var G,H;F=(E==null||(G=E.media_overlay_info)==null||(G=G.buttons)==null?void 0:G.filter(q))||[];f[9]=E==null||(H=E.media_overlay_info)==null?void 0:H.buttons;f[10]=F}else F=f[10];t=F;E=t[0]||h;if(!E)return null;F=t[1];h=t[2];t=t[3];E=E.text;var I=F==null?void 0:F.action_url,J=F==null?void 0:F.headline_text;F=F==null?void 0:F.secondary_text;h=h==null?void 0:h.headline_text;t=(t==null?void 0:t.headline_text)==="true";var K;f[11]!==w||f[12]!==j||f[13]!==s?(K=function(){var a=!w;x(a);a&&(j==null?void 0:j.entityID)!=null&&d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.log(function(){var a;return d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.buildPayloadForLog({containerModule:(a=j.containerModule)!=null?a:"",customAction:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.OPEN_CNS_INLINE_EXPANSION,entityID:j.entityID,event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,overlayLayout:(a=j.overlayLayout)!=null?a:null,overlayType:(a=j.overlayType)!=null?a:"",sessionId:(a=j.sessionId)!=null?a:""})});s==null||s(a)},f[11]=w,f[12]=j,f[13]=s,f[14]=K):K=f[14];K=K;var L;f[15]!==a?(L=k.jsx(c("PolarisMediaOverlayCommunityNoteHeader.react"),{useInstaOverlayGrayBackground:a}),f[15]=a,f[16]=L):L=f[16];L=L;var M;f[17]!==E||f[18]!==g||f[19]!==w||f[20]!==r||f[21]!==u||f[22]!==a?(M=w?k.jsx(c("PolarisUserText.react"),{color:a?"web-always-white":void 0,display:"inline",headlineTag:"h1",size:"body",value:E}):k.jsx(c("PolarisTruncatedText.react"),{color:a?"web-always-white":void 0,isCaption:!0,limit:g,numLines:r,truncatedElem:u?k.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:a?"secondaryTextOnMedia":"secondaryText",children:o}):null,value:(E!=null?E:"")+"... "+o.toString()}),f[17]=E,f[18]=g,f[19]=w,f[20]=r,f[21]=u,f[22]=a,f[23]=M):M=f[23];E=M;f[24]!==I||f[25]!==j||f[26]!==h||f[27]!==F||f[28]!==J||f[29]!==a?(g=I!=null&&h!=null?k.jsx(c("PolarisMediaOverlayCommunityNotePills.react"),{loggingData:j,publishedTimeDetailed:h,sources:[{truncatedUrl:F!=null?F:"",url:I,urlTitle:J!=null?J:""}],useInstaOverlayGrayBackground:a}):null,f[24]=I,f[25]=j,f[26]=h,f[27]=F,f[28]=J,f[29]=a,f[30]=g):g=f[30];r=g;if(w){f[31]===Symbol["for"]("react.memo_cache_sentinel")?(u={width:"100%"},f[31]=u):u=f[31];M=a&&n.instaOverlayGray;f[32]!==M?(I=[n.expandedContent,M],f[32]=M,f[33]=I):I=f[33];f[34]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x1cy8zhl x78zum5 xdt5ytf xh8yej3"},F={className:"x1cy8zhl x78zum5 xdt5ytf x1e56ztr xh8yej3"},f[34]=h,f[35]=F):(h=f[34],F=f[35]);f[36]!==E||f[37]!==L?(J=k.jsxs("div",babelHelpers["extends"]({},F,{children:[L,E]})),f[36]=E,f[37]=L,f[38]=J):J=f[38];f[39]!==r||f[40]!==J?(g=k.jsxs("div",babelHelpers["extends"]({},h,{children:[J,r]})),f[39]=r,f[40]=J,f[41]=g):g=f[41];f[42]!==D||f[43]!==v||f[44]!==t||f[45]!==A||f[46]!==y||f[47]!==a?(M=t&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"x6s0dn4 xdt5ytf x28ko6u x13a6bvl xh8yej3",children:k.jsx("div",{className:"x1c9t90q x28ko6u xh8yej3"})}),k.jsx(c("PolarisMediaOverlayCommunityNoteRating.react"),{onThumbDownClick:D,onThumbUpClick:v,thumbDownClicked:A,thumbUpClicked:y,useInstaOverlayGrayBackground:a})]}),f[42]=D,f[43]=v,f[44]=t,f[45]=A,f[46]=y,f[47]=a,f[48]=M):M=f[48];f[49]!==K||f[50]!==I||f[51]!==g||f[52]!==M?(F=k.jsx("div",{style:u,children:k.jsxs(c("CometPressable.react"),{onPress:K,xstyle:I,children:[g,M]})}),f[49]=K,f[50]=I,f[51]=g,f[52]=M,f[53]=F):F=f[53];return F}f[54]===Symbol["for"]("react.memo_cache_sentinel")?(h={width:"100%"},f[54]=h):h=f[54];r=a&&n.instaOverlayGray;f[55]!==r?(J=[n.collapsedContent,r],f[55]=r,f[56]=J):J=f[56];f[57]!==E||f[58]!==K||f[59]!==L||f[60]!==J?(D=k.jsx("div",{style:h,children:k.jsxs(c("CometPressable.react"),{onPress:K,xstyle:J,children:[L,E]})}),f[57]=E,f[58]=K,f[59]=L,f[60]=J,f[61]=D):D=f[61];return D}function q(a){return a.button_type===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_TYPES.COMMUNITY_NOTE}g["default"]=a}),226);
__d("PolarisMediaOverlayCommunityNote_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaOverlayCommunityNote_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"headline_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisMediaOverlayCommunityNoteRedesigned_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisMediaOverlayCommunityNote",["fbt","CometPressable.react","CometRelay","IGDSBox.react","IGDSText.react","JSResourceForInteraction","PolarisMediaOverlayCommunityNoteRedesigned","PolarisMediaOverlayCommunityNote_media.graphql","PolarisMediaOverlayInfoTypes","PolarisTruncatedText.react","gkx","isStringNotNullAndNotWhitespaceOnly","react","react-compiler-runtime","useIGDSLazyDialog","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={content:{backgroundColor:"xnz67gz",borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",flexDirection:"xdt5ytf",marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",paddingBottom:"xsag5q8",paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",paddingTop:"xz9dl7a",width:"xh8yej3",$$css:!0},instaOverlayGray:{backgroundColor:"xfhu54g",$$css:!0}},m=c("JSResourceForInteraction")("PolarisInformTreatmentCommunityNoteDetailsDialog.react").__setRef("PolarisMediaOverlayCommunityNote"),n=h._(/*BTDS*/"more"),o=h._(/*BTDS*/"People added a community note");function a(a){var e,f,g=d("react-compiler-runtime").c(58),h=a.chracterLimit,j=a.communityNoteButtonsProp,q=a.entityID,r=a.maxLines,s=a.onExpandedChange,t=a.queryReference,u=a.sessionId,v=a.showMoreText,w=a.size;a=a.useInstaOverlayGrayBackground;h=h===void 0?120:h;r=r===void 0?2:r;v=v===void 0?!0:v;a=a===void 0?!1:a;t=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisMediaOverlayCommunityNote_media.graphql"),t);var x=c("useIGDSLazyDialog")(m),y=x[0];x=q!=null?q:t==null?void 0:t.id;if(g[0]!==(t==null||(e=t.media_overlay_info)==null?void 0:e.session_id)||g[1]!==u){var z,A;q=(q=u!=null?u:t==null||(z=t.media_overlay_info)==null?void 0:z.session_id)!=null?q:c("uuidv4")();g[0]=t==null||(A=t.media_overlay_info)==null?void 0:A.session_id;g[1]=u;g[2]=q}else q=g[2];u=q;if(x==null||x==="")return null;if(g[3]!==j||g[4]!==(t==null||(f=t.media_overlay_info)==null?void 0:f.buttons)){var B,C;q=(t==null||(B=t.media_overlay_info)==null||(B=B.buttons)==null?void 0:B.find(p))||j;g[3]=j;g[4]=t==null||(C=t.media_overlay_info)==null?void 0:C.buttons;g[5]=q}else q=g[5];var D=q;if(!D)return null;q=c("gkx")("13859");if(q){g[6]!==x||g[7]!==u?(q={entityID:x,sessionId:u},g[6]=x,g[7]=u,g[8]=q):q=g[8];g[9]!==h||g[10]!==j||g[11]!==r||g[12]!==t||g[13]!==s||g[14]!==v||g[15]!==q||g[16]!==a?(x=k.jsx(c("PolarisMediaOverlayCommunityNoteRedesigned"),{chracterLimit:h,communityNoteButtonsProp:j,loggingData:q,maxLines:r,onExpandedChange:s,queryReference:t,showMoreText:v,useInstaOverlayGrayBackground:a}),g[9]=h,g[10]=j,g[11]=r,g[12]=t,g[13]=s,g[14]=v,g[15]=q,g[16]=a,g[17]=x):x=g[17];return x}if(g[18]!==D.headline_text){j=(u=D.headline_text)!=null?u:o.toString();g[18]=D.headline_text;g[19]=j}else j=g[19];var E=j;t=D.text;s=D.secondary_text;g[20]!==E||g[21]!==D.action_url||g[22]!==D.secondary_text||g[23]!==D.text||g[24]!==y?(q=function(){var a;y({body:(a=D==null?void 0:D.text)!=null?a:"",heading:E,metadata:(a=D==null?void 0:D.secondary_text)!=null?a:"",uri:(a=D==null?void 0:D.action_url)!=null?a:""})},g[20]=E,g[21]=D.action_url,g[22]=D.secondary_text,g[23]=D.text,g[24]=y,g[25]=q):q=g[25];x=q;u=w==="small"?"footnote":"body";j=a&&l.instaOverlayGray;g[26]!==j?(q=[l.content,j],g[26]=j,g[27]=q):q=g[27];g[28]!==E||g[29]!==u||g[30]!==a?(w=c("isStringNotNullAndNotWhitespaceOnly")(E)&&k.jsx(c("IGDSText.react"),{color:a?"webAlwaysWhite":void 0,size:u,weight:"semibold",children:E}),g[28]=E,g[29]=u,g[30]=a,g[31]=w):w=g[31];g[32]!==s||g[33]!==u||g[34]!==a?(j=c("isStringNotNullAndNotWhitespaceOnly")(s)&&k.jsx(c("IGDSText.react"),{color:a?"secondaryTextOnMedia":"secondaryText",size:u,weight:"normal",children:s}),g[32]=s,g[33]=u,g[34]=a,g[35]=j):j=g[35];g[36]!==w||g[37]!==j?(s=k.jsxs(c("IGDSBox.react"),{direction:"row",children:[w,"\xa0",j]}),g[36]=w,g[37]=j,g[38]=s):s=g[38];w=a?"web-always-white":void 0;g[39]!==v||g[40]!==u||g[41]!==a?(j=v?k.jsx(c("IGDSText.react"),{color:a?"secondaryTextOnMedia":"secondaryText",size:u,children:n}):null,g[39]=v,g[40]=u,g[41]=a,g[42]=j):j=g[42];g[43]!==t||g[44]!==h||g[45]!==r||g[46]!==w||g[47]!==j||g[48]!==u?(v=k.jsx(c("PolarisTruncatedText.react"),{color:w,isCaption:!0,limit:h,numLines:r,size:u,truncatedElem:j,value:t}),g[43]=t,g[44]=h,g[45]=r,g[46]=w,g[47]=j,g[48]=u,g[49]=v):v=g[49];g[50]!==x||g[51]!==q||g[52]!==s||g[53]!==v?(a=k.jsxs(c("CometPressable.react"),{onPress:x,xstyle:q,children:[s,v]}),g[50]=x,g[51]=q,g[52]=s,g[53]=v,g[54]=a):a=g[54];t=a;g[55]===Symbol["for"]("react.memo_cache_sentinel")?(h={width:"100%"},g[55]=h):h=g[55];g[56]!==t?(r=k.jsx("div",{style:h,children:t}),g[56]=t,g[57]=r):r=g[57];return r}function p(a){return a.button_type===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_TYPES.COMMUNITY_NOTE}g["default"]=a}),226);
__d("PolarisMediaVideo.react",["cr:6866"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:6866")}),98);
__d("PolarisPartnershipAdAvatar.react",["IGDSBox.react","PolarisClickEventLoggerProvider.react","PolarisProfileClickEventLoggerProvider.react","PolarisSponsoredPostContext.react","PolarisUserAvatar.react","PolarisUserHoverCard.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b,e,f,g=d("react-compiler-runtime").c(25),h=a.firstIdentity;a=a.secondIdentity;var k=j(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext);k=k.onSecondaryProfileClick;var l=!a.is_unpublished;b=(b=a.id)!=null?b:"";e=(e=a.username)!=null?e:"";var m=!a.is_unpublished;f=(f=a.profile_pic_url)!=null?f:"";a=(a=a.username)!=null?a:"";var n;g[0]!==m||g[1]!==f||g[2]!==a?(n=i.jsx(c("PolarisUserAvatar.react"),{isLink:m,profilePictureUrl:f,size:24,username:a}),g[0]=m,g[1]=f,g[2]=a,g[3]=n):n=g[3];g[4]!==l||g[5]!==b||g[6]!==e||g[7]!==n?(m=i.jsx(c("PolarisUserHoverCard.react"),{display:"block",isUserAvailable:l,userId:b,username:e,children:n}),g[4]=l,g[5]=b,g[6]=e,g[7]=n,g[8]=m):m=g[8];g[9]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1qjc9v5 xvbhtw8 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xk390pu x11dcrhx xdj266r x14z9mp xat24cr x1lziwak x4p5aij x1ccui7m x1j85h84 x18pi947 x10l6tqk xfr5jun x11njtxf"},g[9]=f):f=g[9];a=!h.is_unpublished;b=(l=h.username)!=null?l:"";e=!h.is_unpublished;l=(n=h.profile_pic_url)!=null?n:"";n=(n=h.username)!=null?n:"";var o;g[10]!==e||g[11]!==l||g[12]!==n?(o=i.jsx(c("PolarisUserAvatar.react"),{isLink:e,profilePictureUrl:l,size:24,username:n}),g[10]=e,g[11]=l,g[12]=n,g[13]=o):o=g[13];g[14]!==h.id||g[15]!==a||g[16]!==b||g[17]!==o?(e=i.jsx(c("PolarisUserHoverCard.react"),{display:"block",isUserAvailable:a,userId:h.id,username:b,children:o}),g[14]=h.id,g[15]=a,g[16]=b,g[17]=o,g[18]=e):e=g[18];g[19]!==k||g[20]!==e?(l=i.jsx("div",babelHelpers["extends"]({},f,{children:i.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"row",justifyContent:"start",children:i.jsx(c("PolarisClickEventLoggerProvider.react"),{children:i.jsx(c("PolarisProfileClickEventLoggerProvider.react"),{onProfileClick:k,children:e})})})})),g[19]=k,g[20]=e,g[21]=l):l=g[21];g[22]!==l||g[23]!==m?(n=i.jsxs(c("IGDSBox.react"),{alignItems:"end",height:32,position:"relative",width:32,children:[m,l]}),g[22]=l,g[23]=m,g[24]=n):n=g[24];return n}g["default"]=a}),98);
__d("PolarisPartnershipAdHeader.react",["cx","fbt","IGDSTextVariants.react","PolarisClickEventLoggerProvider.react","PolarisProfileClickEventLoggerProvider.react","PolarisSponsoredPostContext.react","PolarisUserHoverCard.react","PolarisUserLink.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;function a(a){var b=d("react-compiler-runtime").c(4),e=a.firstIdentity;a=a.secondIdentity;var f=l(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext);f=f.onSecondaryProfileClick;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{zeroMargin:!0,children:i._(/*BTDS*/"{primary identity name} {=m2} {secondary identity name}",[i._param("primary identity name",k.jsx(c("PolarisClickEventLoggerProvider.react"),{children:k.jsx(c("PolarisProfileClickEventLoggerProvider.react"),{onProfileClick:f,children:k.jsx(m,{identity:e})})})),i._param("secondary identity name",k.jsx(m,{identity:a})),i._implicitParam("=m2",k.jsx(d("IGDSTextVariants.react").IGDSTextBody,{children:i._(/*BTDS*/"and")}))])}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}function m(a){var b=d("react-compiler-runtime").c(5);a=a.identity;var e;b[0]!==a.full_name||b[1]!==a.id||b[2]!==a.is_unpublished||b[3]!==a.username?(e=a.is_unpublished===!0?k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:k.jsx("span",{className:"_aaqs",children:a.full_name})}):k.jsx(c("PolarisUserHoverCard.react"),{display:"inline-block",isUserAvailable:!a.is_unpublished,userId:a.id,username:a.username,children:k.jsx(c("PolarisUserLink.react"),{username:a.username})}),b[0]=a.full_name,b[1]=a.id,b[2]=a.is_unpublished,b[3]=a.username,b[4]=e):e=b[4];return e}g["default"]=a}),226);
__d("PolarisUserTagInner.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(11),c=a.isPointingUp,e=a.pointerStyle;a=a.username;var f;b[0]!==c?(f={0:{className:"x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xqtp20y xbudbmw xw01apr x10l6tqk xnalus7"},2:{className:"x17nu0il xqm4iv x1o3jo1z xburx9h xv5lvn5 x8u93l6 x972fbf xjibb99 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xqtp20y xbudbmw xw01apr x10l6tqk xnalus7"},1:{className:"x1qhh985 x1o3jo1z xburx9h xv5lvn5 x8u93l6 xccvetk x1kr8tdy xdsb8wn x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xqtp20y xbudbmw xw01apr x10l6tqk xnalus7"},3:{className:"x17nu0il x1qhh985 x1o3jo1z xburx9h xv5lvn5 x8u93l6 xccvetk x1kr8tdy xdsb8wn x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xqtp20y xbudbmw xw01apr x10l6tqk xnalus7"}}[!!c<<1|!!!c<<0],b[0]=c,b[1]=f):f=b[1];b[2]!==e||b[3]!==f?(c=i.jsx("div",babelHelpers["extends"]({},f,{style:e})),b[2]=e,b[3]=f,b[4]=c):c=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x972fbf x10w94by x1qhh985 x14e42zd xln7xf2 xk390pu xdj266r xbmvrgn xat24cr x1diwwjn xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},b[5]=e):e=b[5];b[6]!==a?(f=i.jsx("span",babelHelpers["extends"]({},e,{children:a})),b[6]=a,b[7]=f):f=b[7];b[8]!==c||b[9]!==f?(e=i.jsxs(i.Fragment,{children:[c,f]}),b[8]=c,b[9]=f,b[10]=e):e=b[10];return e}g["default"]=a}),98);
__d("PolarisUserTag.react",["cx","PolarisFastLink.react","PolarisUserTagInner.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["ref"],j,k=j||d("react");function l(a){var b=d("react-compiler-runtime").c(23),e=a.action,f=a.className,g=a.forwardedRef,h=a.isPointingUp,i=a.isShowingTags,j=a.pointerStyle,l=a.style;a=a.user;var n=m;a=a.username;if(e!=null){var o;b[0]!==e||b[1]!==h||b[2]!==j||b[3]!==a?(o=k.jsx("div",{className:"_aa1q",children:n(h,j,a,e)}),b[0]=e,b[1]=h,b[2]=j,b[3]=a,b[4]=o):o=b[4];b[5]!==f||b[6]!==g||b[7]!==l||b[8]!==o?(e=k.jsx("div",{className:f,ref:g,style:l,children:o}),b[5]=f,b[6]=g,b[7]=l,b[8]=o,b[9]=e):e=b[9];return e}o="_aa1q";e="/"+a+"/";b[10]!==h||b[11]!==j||b[12]!==a?(n=n(h,j,a),b[10]=h,b[11]=j,b[12]=a,b[13]=n):n=b[13];b[14]!==i||b[15]!==e||b[16]!==n?(h=k.jsx(c("PolarisFastLink.react"),{canTabFocus:i,className:o,href:e,children:n}),b[14]=i,b[15]=e,b[16]=n,b[17]=h):h=b[17];b[18]!==f||b[19]!==g||b[20]!==l||b[21]!==h?(j=k.jsx("div",{className:f,ref:g,style:l,children:h}),b[18]=f,b[19]=g,b[20]=l,b[21]=h,b[22]=j):j=b[22];return j}function m(a,b,d,e){return k.jsxs("span",{className:"_aa1p",children:[k.jsx(c("PolarisUserTagInner.react"),{isPointingUp:a,pointerStyle:b,username:d}),e]})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(6),c,e;b[0]!==a?(e=a.ref,c=babelHelpers.objectWithoutPropertiesLoose(a,i),b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);b[3]!==c||b[4]!==e?(a=k.jsx(l,babelHelpers["extends"]({},c,{forwardedRef:e})),b[3]=c,b[4]=e,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("PolarisPhotoWithIndicator.react",["cx","PolarisBatchDOM","PolarisEventLoop","PolarisIsLoggedIn","PolarisLoggedOutUserTagIndicator.react","PolarisPhoto.react","PolarisUA","PolarisUserTag.react","PolarisUserTagIndicator.react","joinClasses","polarisOnlyHandleSingleClick","react","react-compiler-runtime","useCurrentRoute","usePolarisLoggedOutIntentEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=.04,l=2e3,m=-50,n={horizontalOffset:m,isPointingUp:!0},o=.85,p=6;function q(a,b){b=b+k/2;var c=b>a,d=b>1-a;c=c||d;return c?d?m+(m-100*k)*(1-(1-a)/b):m-(m-100*k)*(1-a/b):m}var r=function(a){function b(){var b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(b=a.call.apply(a,[this].concat(e))||this,b.state={isShowingIndicator:!0,isShowingTags:!1,tagAdjustments:new Map()},b.$3=new Map(),b.$11=function(){b.setState({isShowingIndicator:!1}),b.$8()},b.$7=d("polarisOnlyHandleSingleClick").onlyHandleSingleClick(function(){if(!d("PolarisIsLoggedIn").isLoggedIn()&&d("PolarisUA").isDesktop()){b.$12();return}var a=b.props,c=a.alwaysShowIndicator;a=a.usertags;var e=b.state.isShowingTags;if(a&&a.length>0){a=!e;b.$8();b.setState({isShowingIndicator:a||c,isShowingTags:a})}}),b.$13=function(){if(!d("PolarisIsLoggedIn").isLoggedIn()&&d("PolarisUA").isDesktop()){b.props.onLoggedOutIntentMouseEnter();return}},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.componentDidUpdate=function(a){a.isVisible&&!this.props.isVisible?this.$4():!a.isVisible&&this.props.isVisible&&this.$5()};e.componentDidMount=function(){this.$6()};e.componentWillUnmount=function(){this.$7.cancel(),this.$8()};e.$9=function(a){return{height:a.offsetHeight,left:a.offsetLeft,top:a.offsetTop,width:a.offsetWidth}};e.$6=function(){var a=this;d("PolarisBatchDOM").mutate(function(){if(!a.$2)return;var b=a.$9(a.$2),c=new Map();a.$3.forEach(function(d,e){d=a.$9(d);var f=d.top/b.height<=o,g=d.width/b.width/2;d=d.left/b.width;d=q(d,g);c.set(e,{horizontalOffset:d,isPointingUp:f})});a.setState({tagAdjustments:c})})};e.$10=function(){this.$1||(this.$1=c("PolarisEventLoop").setTimeout(this.$11,l))};e.$8=function(){this.$1&&(c("PolarisEventLoop").clearTimeout(this.$1),this.$1=null)};e.$12=function(){var a=this.props.onLoggedOutIntentClick;a("post_tagged")};e.$5=function(){!this.state.isShowingTags&&!this.props.alwaysShowIndicator&&this.$10()};e.$4=function(){this.state.isShowingTags||(this.$8(),this.setState({isShowingIndicator:!0}))};e.$14=function(){var a=this;return!this.props.usertags?null:this.props.usertags.map(function(b,d){var e=s(b,d);d=a.state.tagAdjustments.get(e)||n;var f={left:b.x*100+"%",marginTop:(d.isPointingUp?p:-p)+"px",top:b.y*100+"%",transform:"translate(\n          "+d.horizontalOffset+"%,\n          "+(d.isPointingUp?0:-100)+"%\n        ) scale("+(a.state.isShowingTags?1:0)+")"},g={left:-d.horizontalOffset+"%"};return j.jsx(c("PolarisUserTag.react"),{className:"_aa1y",isPointingUp:d.isPointingUp,isShowingTags:a.state.isShowingTags,pointerStyle:g,ref:function(b){b!=null&&a.$3.set(e,b)},style:f,user:b.user},e)})};e.$15=function(){var a=this.props.isFocused,b=this.state.isShowingIndicator;return d("PolarisIsLoggedIn").isLoggedIn()?j.jsx(c("PolarisUserTagIndicator.react"),{absolute:!0,onClick:this.$7,visible:b||a}):j.jsx(c("PolarisLoggedOutUserTagIndicator.react"),{onClick:this.$7,onMouseEnter:this.$13,visible:b||a})};e.render=function(){var a=this,b=this.props,d=b.accessibilityCaption,e=b.className,f=b.onPhotoRendered,g=b.rich,h=b.src;b=b.srcSet;var i=this.state,k=i.isShowingIndicator;i=i.isShowingTags;d={accessibilityCaption:d,dimensions:this.props.dimensions,imgXstyle:this.props.imgXstyle,likeEventCount:this.props.likeEventCount,postId:this.props.postId};return j.jsxs("div",{className:c("joinClasses")(e,"_aa1z"+(i?" _aa1-":"")+(k?" _aa1_":"")),ref:function(b){return a.$2=b},children:[j.jsx(c("PolarisPhoto.react"),babelHelpers["extends"]({},d,{className:c("joinClasses")("_aa20",e),onClick:this.$7,onPhotoRendered:f,rich:g,src:h,srcSet:b})),this.$15(),this.$14()]})};return b}(j.Component);r.defaultProps={alwaysShowIndicator:!1};function s(a,b){return"usertag-"+(a&&a.user&&a.user.username)+"-"+b}function a(a){var b=d("react-compiler-runtime").c(9),e=c("useCurrentRoute")(),f=c("usePolarisLoggedOutIntentEntryPointDialog")(),g=f[0],h=f[1];b[0]!==(e==null?void 0:e.url)||b[1]!==g?(f=function(a){var b;g==null||g({nextUrl:(b=e==null?void 0:e.url)!=null?b:"/",source:a})},b[0]=e==null?void 0:e.url,b[1]=g,b[2]=f):f=b[2];f=f;var i;b[3]!==h?(i=function(){h==null||h()},b[3]=h,b[4]=i):i=b[4];i=i;var k;b[5]!==f||b[6]!==i||b[7]!==a?(k=j.jsx(r,babelHelpers["extends"]({},a,{onLoggedOutIntentClick:f,onLoggedOutIntentMouseEnter:i})),b[5]=f,b[6]=i,b[7]=a,b[8]=k):k=b[8];return k}g.EDGE_THRESHOLD=k;g.TAG_ORIENTATION_CHANGE_POINT=o;g.TAG_POINTER_HEIGHT=p;g.getHorizontalOffset=q;g.PhotoWithIndicator=a}),98);
__d("usePolarisBoostSharedContext",["PolarisBoostSharedContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("PolarisBoostSharedContext"))}g["default"]=a}),98);
__d("PolarisPostAboveFooterSection.react",["fbt","IGDSChevronIcon.react","IGDSInfoOutlineIcon.react","IGDSListItem.react","IGDSTextVariants.react","PolarisAdToolsUtils","PolarisBoostMultiBoostStrings","react","react-compiler-runtime","usePolarisBoostSharedContext"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef;function a(a){var b=d("react-compiler-runtime").c(13),e=a.analyticsContext;a=a.boostedStatus;var f=c("usePolarisBoostSharedContext")(),g=f.logger,i=l(!1),m;b[0]!==g?(f=function(){i.current||(g==null||g.logViewComponent("multi_boost_profile_view_banner","profile_self_view"),i.current=!0)},m=[g],b[0]=g,b[1]=f,b[2]=m):(f=b[1],m=b[2]);k(f,m);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSChevronIcon.react"),{alt:d("PolarisBoostMultiBoostStrings").MULTI_BOOST_ABOVE_FOOTER_ALT_ICON,color:"ig-tertiary-icon",direction:"next",size:16}),b[3]=f):f=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(c("IGDSInfoOutlineIcon.react"),{alt:h._(/*BTDS*/"Learn more"),size:16}),b[4]=m):m=b[4];var n;b[5]!==e||b[6]!==g?(n=function(){d("PolarisAdToolsUtils").navigateToAdTools(e),g==null||g.logTapComponent("multi_boost_profile_view_banner","profile_self_view")},b[5]=e,b[6]=g,b[7]=n):n=b[7];a=a==="boosted_eligible_paused"?d("PolarisBoostMultiBoostStrings").MULTI_BOOST_ABOVE_FOOTER_PAUSED_TITLE:d("PolarisBoostMultiBoostStrings").MULTI_BOOST_ABOVE_FOOTER_TITLE;var o;b[8]!==a?(o=j.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{zeroMargin:!0,children:a}),b[8]=a,b[9]=o):o=b[9];b[10]!==n||b[11]!==o?(a=j.jsx(c("IGDSListItem.react"),{addOnEnd:f,addOnStart:m,onPress:n,title:o}),b[10]=n,b[11]=o,b[12]=a):a=b[12];return a}g["default"]=a}),226);
__d("useCurrentRouteBuilder",["CometRouteParams","ConstUriUtils","jsRouteBuilder","react","useCurrentRoute"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b,e=d("CometRouteParams").useRouteParams();b=(b=c("useCurrentRoute")())!=null?b:{};var f=b.routePath;b=b.url;b=b!=null?(b=d("ConstUriUtils").getUri(b))==null?void 0:b.getPath():null;var g=(a==null?void 0:a.useUrlPath)===!0?b:f;return i(function(){return g==null?null:c("jsRouteBuilder")(g,Object.freeze({}),new Set(),e)},[g,e])}g["default"]=a}),98);
__d("PolarisPostBoostButton.react",["IGDSBox.react","IGDSButton.react","IGDSText.react","JSResourceForInteraction","PolarisBoostGatingUtils","PolarisBoostOkDialog.react","PolarisBoostUtils.react","PolarisBoostedStatusEnum","PolarisIGCorePressable.react","PolarisIGTheme.react","PolarisLoadingModal.react","PolarisPostBoostButtonType","PolarisPromotedPostsLogger","PolarisUA","gkx","isStringNotNullAndNotWhitespaceOnly","react","useCurrentRouteBuilder","useIGDSLazyDialog","usePolarisBoostOpenBoostFlow","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useMemo,k=b.useState,l=c("JSResourceForInteraction")("PolarisBoostNotDeliveringDialog.react").__setRef("PolarisPostBoostButton.react"),m=c("JSResourceForInteraction")("PolarisBoostMusicErrorDialog.react").__setRef("PolarisPostBoostButton.react"),n={grayedOutButton:{opacity:"xbyyjgo",$$css:!0}};function a(a){var b=a.analyticsContext,e=a.boostedStatus,f=a.boostUnavailableIdentifier,g=a.boostUnavailableReason,h=a.buttonType;h=h===void 0?c("PolarisPostBoostButtonType").PRIMARY:h;var o=a.fullWidth;o=o===void 0?!1:o;var p=a.isLink;p=p===void 0?!1:p;var q=a.isOrganicMediaArchived;q=q===void 0?!1:q;var r=a.mediaId,s=a.productType,t=a.refetch;a=k(!1);var u=a[0],v=a[1],w=c("useCurrentRouteBuilder")({useUrlPath:!0});a=c("useIGDSLazyDialog")(l,function(){return i.jsx(c("PolarisLoadingModal.react"),{})});var x=a[0];a=c("useIGDSLazyDialog")(m,function(){return i.jsx(c("PolarisLoadingModal.react"),{})});var y=a[0];a=d("PolarisBoostUtils.react").getIsBoostButtonDisabledFromBoostedStatus(e);var z=c("isStringNotNullAndNotWhitespaceOnly")(g),A=["carousel_or_image_has_non_copyright_music_eligible_by_removing","carousel_or_image_has_copyright_music_eligible_by_removing"],B=A.includes(f),C=f==="clips_has_music_with_copyright",D=f==="invalid_three_by_four_eligible";A=["has_unsupported_number_of_branded_content_sponsors_eligible","user_not_owner_eligible"];var E=A.includes(f),F=function(){return D&&d("PolarisBoostGatingUtils").isEligibleFor3x4AspectRatioBoostEnter()},G=function(){return C&&c("gkx")("1211")===!0},H=function(){return C&&d("PolarisUA").isMobile()&&d("PolarisBoostGatingUtils").isEligibleForAudioSwapOnMSite()},I=function(){return E&&d("PolarisBoostGatingUtils").isEligibleForPartnershipAdsBoostExperiment()},J=f==="low_resolution_video_eligible_for_sr",K=d("PolarisPromotedPostsLogger").getPolarisBoostEntryPointType(b),L=c("uuidv4")(),M=j(function(){return new(d("PolarisPromotedPostsLogger").PolarisPromotedPostsLogger)({entry_point:K,m_pk:r,promote_flow_type:d("PolarisBoostUtils.react").getIGBoostFlowTypeFromBoostedStatus(e),waterfall_id:L})},[e,K,r,L]),N=e===c("PolarisBoostedStatusEnum").FINISHED,O=function(){y({analyticsContext:b,flowID:L,isBoostAgain:N,logger:M,mediaId:r,musicFlow:d("PolarisBoostUtils.react").BoostMusicErrorFlow.REMOVE_MUSIC,openBoostFlow:S})},P=function(){y({analyticsContext:b,flowID:L,isBoostAgain:N,logger:M,mediaId:r,musicFlow:d("PolarisBoostUtils.react").BoostMusicErrorFlow.SWAP_MUSIC_MSITE,openBoostFlow:S,returnPath:w==null?void 0:w.getPath()})},Q=function(){y({analyticsContext:b,flowID:L,isBoostAgain:N,logger:M,mediaId:r,musicFlow:d("PolarisBoostUtils.react").BoostMusicErrorFlow.SWAP_MUSIC_DESKTOP,openBoostFlow:S})},R=c("usePolarisBoostOpenBoostFlow")(),S=function(a){e===c("PolarisBoostedStatusEnum").NOT_APPROVED||e===c("PolarisBoostedStatusEnum").SCHEDULED||e===c("PolarisBoostedStatusEnum").PAUSED?d("PolarisBoostUtils.react").handleAdToolsButtonClickWithLogging(L,b):e===c("PolarisBoostedStatusEnum").NOT_DELIVERING?x({analyticsContext:b,flowID:L,igID:r,logger:M,refetch:t}):R({analyticsContext:b,audioSpec:a!=null?a:void 0,boostedStatus:e,flowID:L,mediaID:r})},T=function(){z?B?O():H()?P():G()?Q():J||F()||I()?S():(v(!0),M.logEnterError(f!=null?f:"",g!=null?g:"","no_permission")):S()};A=z&&!B&&!C&&!J&&!D&&!I();var U=d("PolarisIGTheme.react").useTheme().getTheme()===d("PolarisIGTheme.react").IGTheme.Dark;q=d("PolarisBoostUtils.react").getBoostButtonCTAFromBoostedStatus(e,q,s);s=u&&g!=null&&i.jsx(c("PolarisBoostOkDialog.react"),{body:g,onPress:function(){v(!1)},title:d("PolarisBoostUtils.react").BOOST_UNAVAILABLE_TEXT});switch(h){case c("PolarisPostBoostButtonType").SELF_PROFILE_GRID_OVERLAY:case c("PolarisPostBoostButtonType").STORY_VIEWER_OVERLAY:return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGCorePressable.react"),{disabled:a||A,onPress:function(a){T(),a.stopPropagation(),a.preventDefault()},children:i.jsx(c("IGDSBox.react"),{alignItems:"center",children:i.jsx("div",babelHelpers["extends"]({},{0:{className:"xz3rzyy xcls6s"},4:{className:"xz3rzyy xcls6s x1ua1ujl xksyday xshg46c xlej2ay xy58vm5 xyinxu5 xv54qhq x1g2khh7 xf7dkkf x10l6tqk"},2:{className:"xz3rzyy xcls6s x6s0dn4 x51soum x1p52sp3 xkyogvf xluoswm x874rk5 x78zum5 xn3w4p2 xl56j7k x1y1aw1k xv54qhq xwib8y2 xf7dkkf x10l6tqk x1tucx9d"},6:{className:"xz3rzyy xcls6s x6s0dn4 x51soum x1p52sp3 xkyogvf xluoswm x874rk5 x78zum5 xn3w4p2 xl56j7k x1y1aw1k xv54qhq xwib8y2 xf7dkkf x10l6tqk x1tucx9d"},1:{className:"xz3rzyy xcls6s xbyyjgo"},5:{className:"xz3rzyy xcls6s x1ua1ujl xksyday xshg46c xlej2ay xy58vm5 xyinxu5 xv54qhq x1g2khh7 xf7dkkf x10l6tqk xbyyjgo"},3:{className:"xz3rzyy xcls6s x6s0dn4 x51soum x1p52sp3 xkyogvf xluoswm x874rk5 x78zum5 xn3w4p2 xl56j7k x1y1aw1k xv54qhq xwib8y2 xf7dkkf x10l6tqk x1tucx9d xbyyjgo"},7:{className:"xz3rzyy xcls6s x6s0dn4 x51soum x1p52sp3 xkyogvf xluoswm x874rk5 x78zum5 xn3w4p2 xl56j7k x1y1aw1k xv54qhq xwib8y2 xf7dkkf x10l6tqk x1tucx9d xbyyjgo"}}[!!(h===c("PolarisPostBoostButtonType").SELF_PROFILE_GRID_OVERLAY)<<2|!!(h===c("PolarisPostBoostButtonType").STORY_VIEWER_OVERLAY)<<1|!!A<<0],{children:i.jsx(c("IGDSText.react"),{color:"webAlwaysBlack",size:h===c("PolarisPostBoostButtonType").SELF_PROFILE_GRID_OVERLAY?"body":"label",textAlign:"center",weight:"semibold",zeroMargin:!0,children:q})}))})}),s]});case c("PolarisPostBoostButtonType").PRIMARY:return i.jsxs(c("IGDSBox.react"),{alignItems:"end",direction:"column",width:o?"100%":void 0,children:[i.jsx(c("IGDSButton.react"),{"data-testid":void 0,fullWidth:o,isDisabled:a,label:q,onClick:T,variant:d("PolarisBoostUtils.react").getBoostButtonVariantFromBoostedStatus(e,p,U),xstyle:A?n.grayedOutButton:void 0}),s]})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastCrawlerComment.react",["IGDSBox.react","IGDSVerifiedBadge.react","PolarisIGCoreText","PolarisLineClampText.react","PolarisUserLinkWithHoverCard.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.headlineTag,f=a.isAuthorUnpublished,g=a.isAuthorVerified,h=a.text,j=a.userId;a=a.username;e=e===void 0?"h1":e;f=f===void 0?!1:f;g=g===void 0?!1:g;var k;b[0]!==f||b[1]!==g||b[2]!==j||b[3]!==a?(k=f===!0?null:i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisUserLinkWithHoverCard.react"),{color:"ig-primary-text",userId:j,username:a}),g&&i.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginStart:1,position:"relative",children:i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),i.jsx(c("PolarisIGCoreText"),{display:"inline",zeroMargin:!0,children:"\xa0"})]}),b[0]=f,b[1]=g,b[2]=j,b[3]=a,b[4]=k):k=b[4];f=k;b[5]!==f||b[6]!==e||b[7]!==h?(g=i.jsx(c("IGDSBox.react"),{"data-testid":void 0,display:"block",flex:"grow",position:"relative",children:i.jsx(c("PolarisLineClampText.react"),{headlineTag:e,prependElement:f,value:h})}),b[5]=f,b[6]=e,b[7]=h,b[8]=g):g=b[8];return g}g["default"]=a}),98);
__d("PolarisWearablesAppAttributionText.react",["CometPressable.react","IGDSAppHorizonFilled24Icon.react","IGDSGlassesOutline24Icon.react","IGDSTextVariants.react","PolarisRoutes","WearablesAttributionAnimatedIcon.react","gkx","qex","react","react-compiler-runtime","usePartialViewImpression","usePolarisWearablesAppAttributionLogger.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useRef,k=b.useState,l={root:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(30),e=a.attributionCtaActionUrl,f=a.attributionTitle,g=a.mediaAuthorId,h=a.mediaId,m=a.mediaProductType,n=a.mediaSurface,o=a.wearableDevice,p=c("gkx")("2566");a=p?"clickable_attribution_animated":null;var q=c("usePolarisWearablesAppAttributionLogger.react")(o,"attribute_click",h,g,m,n,a,"PolarisWearablesAppAttributionText"),r=c("usePolarisWearablesAppAttributionLogger.react")(o,"attribute_impression",h,g,m,n,a,"PolarisWearablesAppAttributionText");a=k(!1);var s=a[0],t=a[1],u=j(!1);b[0]!==r?(a={onImpressionStart:function(){if(!u.current){var a;r();t((a=c("qex")._("526"))!=null?a:!1);u.current=!0}}},b[0]=r,b[1]=a):a=b[1];a=c("usePartialViewImpression")(a);var v;b[2]!==o?(v=function(){if(o==="meta_quest"||o==="horizon")return i.jsx(c("IGDSAppHorizonFilled24Icon.react"),{alt:"",size:12});return p?i.jsx(c("WearablesAttributionAnimatedIcon.react"),{size:12}):i.jsx(c("IGDSGlassesOutline24Icon.react"),{alt:"",size:12})},b[2]=o,b[3]=v):v=b[3];v=v;var w;b[4]!==g||b[5]!==h||b[6]!==m||b[7]!==n||b[8]!==o?(w={mediaAuthorId:g,mediaId:h,mediaProductType:m,mediaSurface:n,wearableDevice:o},b[4]=g,b[5]=h,b[6]=m,b[7]=n,b[8]=o,b[9]=w):w=b[9];g=s?d("PolarisRoutes").WEARABLES_PIVOT_PAGE_PATH:e;b[10]!==w||b[11]!==g?(h={passthroughProps:w,url:g},b[10]=w,b[11]=g,b[12]=h):h=b[12];b[13]!==q?(m=function(){q()},b[13]=q,b[14]=m):m=b[14];b[15]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x6s0dn4 x78zum5 x1q0g3np"},s={className:"x2fvf9"},b[15]=n,b[16]=s):(n=b[15],s=b[16]);b[17]!==v?(e=i.jsx("div",babelHelpers["extends"]({},s,{children:v()})),b[17]=v,b[18]=e):e=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(w={className:"x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft"},b[19]=w):w=b[19];b[20]!==f?(g=i.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{breakWord:!0,zeroMargin:!0,children:i.jsx("div",babelHelpers["extends"]({},w,{children:i.jsx("span",{children:f})}))}),b[20]=f,b[21]=g):g=b[21];b[22]!==g||b[23]!==e?(s=i.jsxs("div",babelHelpers["extends"]({},n,{children:[e,g]})),b[22]=g,b[23]=e,b[24]=s):s=b[24];b[25]!==a||b[26]!==s||b[27]!==h||b[28]!==m?(v=i.jsx(c("CometPressable.react"),{linkProps:h,onPress:m,overlayDisabled:!0,ref:a,xstyle:l.root,children:s}),b[25]=a,b[26]=s,b[27]=h,b[28]=m,b[29]=v):v=b[29];return v}g["default"]=a}),98);
__d("PolarisPostHeader.react",["cx","fbt","ABRAXKadabraHomeControllerRouteBuilder","IGDSBox.react","IGDSCircleOutline24Icon.svg.react","IGDSMiddleDot.react","IGDSText.react","IGDSTextVariants.react","IGDSVerifiedBadge.react","PolarisAIProfileTransparencyLabel.react","PolarisAppAttributionText.react","PolarisAppMediaAttributionText.react","PolarisAudioAttributionText.react","PolarisAvatarWithStoriesContainer.react","PolarisClickEventLoggerProvider.react","PolarisClipsHelpers","PolarisCloseFriendsLabel.react","PolarisCoauthorCountWithSheet.react","PolarisEligibleForCommissionUnit.react","PolarisFeedPageConstants","PolarisFollowButtonContainer.react","PolarisHashtagLink.react","PolarisIGCoreButton.react","PolarisIGCoreText","PolarisLinkBuilder","PolarisLocationLink.react","PolarisMadeWithEditsLabel.react","PolarisPanavisionQEHelpers","PolarisPartnershipAdAvatar.react","PolarisPartnershipAdHeader.react","PolarisProfileClickEventLoggerProvider.react","PolarisReactRedux.react","PolarisSponsoredLabel.react","PolarisSponsoredPostContext.react","PolarisSponsorsUnit.react","PolarisTagAvatar.react","PolarisTimestamp.react","PolarisTrackingNodeProvider.react","PolarisTransparencyLabel.react","PolarisTransparencyUtils.react","PolarisUA","PolarisUserAvatar.react","PolarisUserAvatarWithStories.react","PolarisUserHoverCard.react","PolarisUserLink.react","PolarisWearablesAppAttributionText.react","URI","err","gkx","nullthrows","react","react-compiler-runtime","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","usePolarisLoggedOutIntentAction","usePolarisLoggedOutIntentEntryPointDialog","usePolarisLoggedOutShowIncreasedFeatureWalls","usePolarisMinimalContent","usePolarisPageID","usePolarisTrackingDataProfileURLParams"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;var m=b.useContext,n=b.useEffect,o=b.useState,p={hoverCardWrapper:{flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},q=i._(/*BTDS*/"and");function r(a,b){a=a;var c=a==null?void 0:a.song_name,d=a==null?void 0:a.artist_name;b=(a==null?void 0:a.uses_original_audio)&&b===a.artist_name;return{audioArtist:d,audioName:c,isMediaOwnerOriginalSound:b,isOriginalSound:(d=a==null?void 0:a.uses_original_audio)!=null?d:!1}}function s(a){var b=d("react-compiler-runtime").c(19),e=d("usePolarisTrackingDataProfileURLParams").usePolarisTrackingDataProfileURLParams(m(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext).canUserSeePersistentCta),f=c("usePolarisPageID")(),g=d("usePolarisMinimalContent").usePolarisMinimalContent(),h=c("usePolarisLoggedOutShowIncreasedFeatureWalls")(),i,k;b[0]!==a.username||b[1]!==e?(i=d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(a.username)),k=new(j||(j=c("URI")))(i).setQueryData(e).toString(),b[0]=a.username,b[1]=e,b[2]=i,b[3]=k):(i=b[2],k=b[3]);e=k;b[4]!==a.id?(k={triggeringUserId:a.id},b[4]=a.id,b[5]=k):k=b[5];k=c("usePolarisLoggedOutIntentEntryPointDialog")(k);var l=k[0],n=k[1],o=c("usePolarisLoggedOutIntentAction")();k=f==="postPage";if(k&&g){b[6]!==o||b[7]!==a.username?(f={onClick:function(){o({source:"post_username_click",username:a.username})}},b[6]=o,b[7]=a.username,b[8]=f):f=b[8];return f}if(k&&h()){b[9]!==i||b[10]!==l?(g=function(){l==null||l({nextUrl:i,source:"post_username_click"})},b[9]=i,b[10]=l,b[11]=g):g=b[11];b[12]!==n?(f=function(){n==null||n()},b[12]=n,b[13]=f):f=b[13];b[14]!==g||b[15]!==f?(k={onClick:g,onMouseEnter:f},b[14]=g,b[15]=f,b[16]=k):k=b[16];return k}b[17]!==e?(h={href:e},b[17]=e,b[18]=h):h=b[18];return h}function t(a){var b=d("react-compiler-runtime").c(13),e=a.owner;a=a.shouldEllipsisText;a=a===void 0?!1:a;var f=s(e),g=f.href,h=f.onClick;f=f.onMouseEnter;var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x78zum5"},b[0]=i):i=b[0];var j;b[1]!==a?(j={0:{},1:{className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft"}}[!!!!a<<0],b[1]=a,b[2]=j):j=b[2];b[3]!==e.username?(a=c("nullthrows")(e.username),b[3]=e.username,b[4]=a):a=b[4];b[5]!==j||b[6]!==a?(e=l.jsx("div",babelHelpers["extends"]({},j,{children:a})),b[5]=j,b[6]=a,b[7]=e):e=b[7];b[8]!==g||b[9]!==h||b[10]!==f||b[11]!==e?(j=l.jsx("div",babelHelpers["extends"]({},i,{children:l.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,color:"ig-secondary-button",fullWidth:!0,href:g,onClick:h,onMouseEnter:f,children:e})})),b[8]=g,b[9]=h,b[10]=f,b[11]=e,b[12]=j):j=b[12];return j}function u(a){var b=d("react-compiler-runtime").c(12),e=a.clipsAudioAttributionInfo,f=a.onDisabledClipsAudioAttributionClick;a=a.owner;e=e;var g;b[0]!==e||b[1]!==a.username?(g=r(e,a.username),b[0]=e,b[1]=a.username,b[2]=g):g=b[2];g=g;var h=g.audioArtist,i=g.audioName;g=g.isMediaOwnerOriginalSound;var j=e==null?void 0:e.audio_id;a=a.isPrivate===!0;var k=(e==null?void 0:e.should_mute_audio)===!0;e=e==null?void 0:e.should_mute_audio_reason;var m;b[3]!==h||b[4]!==j||b[5]!==i||b[6]!==g||b[7]!==k||b[8]!==a||b[9]!==e||b[10]!==f?(m=l.jsx(c("PolarisAudioAttributionText.react"),{audioArtist:h,audioID:j,audioName:i,isMediaOwnerOriginalSound:g,isMutedAudio:k,isOwnerPrivate:a,muteAudioReason:e,onDisabledClipsAudioAttributionClick:f}),b[3]=h,b[4]=j,b[5]=i,b[6]=g,b[7]=k,b[8]=a,b[9]=e,b[10]=f,b[11]=m):m=b[11];return m}function v(a){var b=d("react-compiler-runtime").c(7);a=a.mediaAttributionsData;if(a!=null){var e,f,g;if((a==null?void 0:a.attribution_type.toString())==="C50_TO_IG_DIRECT_SHARE"){if(b[0]===Symbol["for"]("react.memo_cache_sentinel")){var h;h=(h=c("ABRAXKadabraHomeControllerRouteBuilder").buildUri({utm_source:"ig_video_share"}).setProtocol("https"))==null||(h=h.setDomain("www.meta.ai"))==null||(h=h.stripTrailingSlash())==null?void 0:h.toString();b[0]=h}else h=b[0];e=h;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(h=1358015658191005..toString(),b[1]=h):h=b[1];g=h;f=c("IGDSCircleOutline24Icon.svg.react")}if((a==null?void 0:a.display_text)!=null&&g!=null&&e!=null){h=a==null?void 0:a.display_text;b[2]!==g||b[3]!==e||b[4]!==f||b[5]!==h?(a=l.jsx(c("PolarisAppMediaAttributionText.react"),{appId:g,attributionUrl:e,displayText:h,icon:f}),b[2]=g,b[3]=e,b[4]=f,b[5]=h,b[6]=a):a=b[6];return a}}return null}function w(a){var b=d("react-compiler-runtime").c(6),e=a.clipsAttributionInfo;a=a.mediaID;e=e;var f=e==null?void 0:e.attribution_app_name;e=e==null?void 0:e.attribution_app_id;if(f!=null&&e!=null){var g;b[0]!==e?(g=e.toString(),b[0]=e,b[1]=g):g=b[1];b[2]!==f||b[3]!==a||b[4]!==g?(e=l.jsx(c("PolarisAppAttributionText.react"),{appId:g,appName:f,mediaId:a}),b[2]=f,b[3]=a,b[4]=g,b[5]=e):e=b[5];return e}return null}function x(a){var b=d("react-compiler-runtime").c(7),e=a.mediaAuthorId,f=a.mediaId,g=a.mediaProductType,h=a.wearableDevice;a=a.wearablesAttributionInfo;var i=a==null?void 0:a.attribution_title;a=a==null?void 0:a.attribution_cta_action_url;if(i!=null){var j;b[0]!==a||b[1]!==i||b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==h?(j=l.jsx(c("PolarisWearablesAppAttributionText.react"),{attributionCtaActionUrl:a,attributionTitle:i,mediaAuthorId:e,mediaId:f,mediaProductType:g,mediaSurface:"feed",wearableDevice:h}),b[0]=a,b[1]=i,b[2]=e,b[3]=f,b[4]=g,b[5]=h,b[6]=j):j=b[6];return j}return null}function y(a){var b=d("react-compiler-runtime").c(72),e=a.audioAttributionText,f=a.clipsAttributionInfo,g=a.clipsAudioAttributionInfo,h=a.followHashtagInfo,j=a.isSponsored,k=a.location,m=a.mediaAttributionsData,n=a.mediaId,o=a.mediaProductType,p=a.owner,q=a.showEligibleForCommissions,s=a.showOrganicPPL,t=a.sponsoredLabel,u=a.sponsors,y=a.transparencyLabelOwner;a=a.wearablesAttributionInfo;var z=c("usePolarisIsOnAdsActivityPage")(),A;b[0]!==n||b[1]!==y?(A=y!=null&&d("PolarisTransparencyUtils.react").shouldShowTransparencyLabel(y)&&y.transparencyProductEnabled===!0&&l.jsx(c("PolarisTransparencyLabel.react"),{mediaId:n,screen:"feed",user:y}),b[0]=n,b[1]=y,b[2]=A):A=b[2];A=A;var B;b[3]!==(y==null?void 0:y.aiAgentOwnerUsername)||b[4]!==(y==null?void 0:y.id)?(B=(y==null?void 0:y.aiAgentOwnerUsername)!=null?l.jsx(c("PolarisAIProfileTransparencyLabel.react"),{aiUserIGID:y==null?void 0:y.id,label:i._(/*BTDS*/"AI by {ai persona owner username}",[i._param("ai persona owner username",y==null?void 0:y.aiAgentOwnerUsername)])}):null,b[3]=y==null?void 0:y.aiAgentOwnerUsername,b[4]=y==null?void 0:y.id,b[5]=B):B=b[5];y=B;b[6]!==n||b[7]!==s||b[8]!==u?(B=s&&l.jsx(c("PolarisSponsorsUnit.react"),{loggingData:{mediaId:n},source:"feed_timeline",sponsors:u||[]}),b[6]=n,b[7]=s,b[8]=u,b[9]=B):B=b[9];s=B;b[10]!==h||b[11]!==p.username?(u=h&&l.jsx(c("PolarisUserLink.react"),{className:"_adkn",username:c("nullthrows")(p.username)}),b[10]=h,b[11]=p.username,b[12]=u):u=b[12];B=u;b[13]!==q?(h=q&&l.jsx(c("PolarisEligibleForCommissionUnit.react"),{}),b[13]=q,b[14]=h):h=b[14];u=h;b[15]!==k?(q=k&&l.jsx(c("PolarisIGCoreText").Body2,{color:"ig-secondary-text",display:"truncated",zeroMargin:!0,children:l.jsx(c("PolarisLocationLink.react"),{className:"_aaqk",location:c("nullthrows")(k)})}),b[15]=k,b[16]=q):q=b[16];h=q;if(b[17]!==f||b[18]!==g||b[19]!==z||b[20]!==j||b[21]!==m||b[22]!==n||b[23]!==o||b[24]!==p.id||b[25]!==p.username||b[26]!==t||b[27]!==a){q=r(g,p.username);var C;b[32]!==f||b[33]!==n?(C=l.jsx(w,{clipsAttributionInfo:f,mediaID:n}),b[32]=f,b[33]=n,b[34]=C):C=b[34];C=C;var D;b[35]!==m?(D=l.jsx(v,{mediaAttributionsData:m}),b[35]=m,b[36]=D):D=b[36];D=D;var E=p==null?void 0:p.id,F=a==null?void 0:a.attribution_type,G;b[37]!==n||b[38]!==o||b[39]!==E||b[40]!==F||b[41]!==a?(G=l.jsx(x,{mediaAuthorId:E,mediaId:n,mediaProductType:o,wearableDevice:F,wearablesAttributionInfo:a}),b[37]=n,b[38]=o,b[39]=E,b[40]=F,b[41]=a,b[42]=G):G=b[42];E=G;if(j===!0&&t==null&&!z)throw c("err")("Unexpected: a feed ad is being rendered without a sponsored label");F=d("PolarisClipsHelpers").hasAudioAttributionText({audioArtist:q.audioArtist,audioName:q.audioName,isMediaOwnerOriginalSound:q.isMediaOwnerOriginalSound})&&(!q.isOriginalSound||a==null);b[17]=f;b[18]=g;b[19]=z;b[20]=j;b[21]=m;b[22]=n;b[23]=o;b[24]=p.id;b[25]=p.username;b[26]=t;b[27]=a;b[28]=C;b[29]=D;b[30]=F;b[31]=E}else C=b[28],D=b[29],F=b[30],E=b[31];G=F;q=a!=null&&f==null&&k==null&&!G;g="_aaql";b[43]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"x78zum5 xdt5ytf"},b[43]=z):z=b[43];b[44]!==t?(j=t!=null&&l.jsx(c("PolarisSponsoredLabel.react"),{label:t}),b[44]=t,b[45]=j):j=b[45];b[46]!==u||b[47]!==y||b[48]!==B||b[49]!==s||b[50]!==j||b[51]!==A?(n=l.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{zeroMargin:!0,children:l.jsxs("div",babelHelpers["extends"]({},z,{children:[y,A,s,j,u,B]}))}),b[46]=u,b[47]=y,b[48]=B,b[49]=s,b[50]=j,b[51]=A,b[52]=n):n=b[52];b[53]!==f||b[54]!==m?(o={0:{className:"x78zum5"},1:{className:"x78zum5 xdt5ytf"}}[!!(f==null&&m!=null)<<0],b[53]=f,b[54]=m,b[55]=o):o=b[55];b[56]!==e||b[57]!==h||b[58]!==G?(p=G?e:l.jsx("div",{className:"_aaqm",children:h}),b[56]=e,b[57]=h,b[58]=G,b[59]=p):p=b[59];b[60]!==f?(F=f!=null&&l.jsx(c("IGDSMiddleDot.react"),{color:"primaryText"}),b[60]=f,b[61]=F):F=b[61];a=f==null&&m!=null&&D;k=q&&E;b[62]!==C||b[63]!==o||b[64]!==p||b[65]!==F||b[66]!==a||b[67]!==k?(t=l.jsxs("div",babelHelpers["extends"]({},o,{children:[p,F,C,a,k]})),b[62]=C,b[63]=o,b[64]=p,b[65]=F,b[66]=a,b[67]=k,b[68]=t):t=b[68];b[69]!==n||b[70]!==t?(z=l.jsxs("div",{className:g,children:[n,t]}),b[69]=n,b[70]=t,b[71]=z):z=b[71];return z}function z(a){var b=d("react-compiler-runtime").c(44),e=a.analyticsContext,f=a.coauthorProducers,g=a.followHashtagInfo,h=a.headerAvatarSize,i=a.isPartnershipAd,j=a.isTagAvatarLink,k=a.onTagAvatarShowRing,m=a.owner;a=a.sponsors;var n;b[0]!==e?(n=function(){return e===d("PolarisFeedPageConstants").FEED_PAGE_ANALYTICS_CONTEXT?"reel_feed_timeline_item_header":"reel_feed_timeline"},b[0]=e,b[1]=n):n=b[1];n=n;if(g){var o=g.name;g=g.profile_pic_url;var p;b[2]!==j||b[3]!==o||b[4]!==g?(p=g!=null&&g.length>0&&l.jsx(c("PolarisTagAvatar.react"),{isLink:j,profilePictureUrl:g,tagName:o}),b[2]=j,b[3]=o,b[4]=g,b[5]=p):p=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(j=l.jsx("div",{className:"_aaqo",children:"#"}),b[6]=j):j=b[6];b[7]!==p?(g=l.jsxs(l.Fragment,{children:[p,j]}),b[7]=p,b[8]=g):g=b[8];b[9]!==o||b[10]!==k||b[11]!==g?(j=l.jsx(c("PolarisAvatarWithStoriesContainer.react"),{animateOnLoad:!0,entrypoint:"reel_feed_timeline",onShowRing:k,size:30,tagName:o,children:g}),b[9]=o,b[10]=k,b[11]=g,b[12]=j):j=b[12];return j}if(f!=null&&f.length){p=f[0];b[13]!==p.profilePictureUrl||b[14]!==p.username?(o=l.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:p.profilePictureUrl,size:24,username:p.username}),b[13]=p.profilePictureUrl,b[14]=p.username,b[15]=o):o=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x1qjc9v5 xvbhtw8 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xk390pu x11dcrhx xdj266r x14z9mp xat24cr x1lziwak x4p5aij x1ccui7m x1j85h84 x18pi947 x10l6tqk xfr5jun x11njtxf"},b[16]=k):k=b[16];b[17]!==m.profilePictureUrl||b[18]!==m.username?(g=l.jsx("div",babelHelpers["extends"]({},k,{children:l.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"row",justifyContent:"start",children:l.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:m.profilePictureUrl,size:24,username:m.username})})})),b[17]=m.profilePictureUrl,b[18]=m.username,b[19]=g):g=b[19];b[20]!==o||b[21]!==g?(j=l.jsxs(c("IGDSBox.react"),{alignItems:"end",height:32,position:"relative",width:32,children:[o,g]}),b[20]=o,b[21]=g,b[22]=j):j=b[22];return j}if(c("gkx")("5712")&&i&&(a==null?void 0:a.length)===1){f=m.fullName||"";p=m.isUnpublished||!1;k=m.profilePictureUrl||"";o=m.username||"";b[23]!==m.id||b[24]!==f||b[25]!==p||b[26]!==k||b[27]!==o?(g={full_name:f,id:m.id,is_unpublished:p,profile_pic_url:k,username:o},b[23]=m.id,b[24]=f,b[25]=p,b[26]=k,b[27]=o,b[28]=g):g=b[28];j=g;i=a[0];b[29]!==j||b[30]!==i?(f=l.jsx(c("PolarisPartnershipAdAvatar.react"),{firstIdentity:j,secondIdentity:i}),b[29]=j,b[30]=i,b[31]=f):f=b[31];return f}p=!m.isUnpublished;k=m.id;g=(o=m.username)!=null?o:"";a=!m.isUnpublished;j=m.profilePictureUrl;i=n();b[32]!==h||b[33]!==m.id||b[34]!==m.profilePictureUrl||b[35]!==m.username||b[36]!==a||b[37]!==i?(f=l.jsx(c("PolarisUserAvatarWithStories.react"),{isLink:a,profilePictureUrl:j,showRingWhenSeen:!1,size:h,storyEntrypoint:i,userId:m.id,username:m.username}),b[32]=h,b[33]=m.id,b[34]=m.profilePictureUrl,b[35]=m.username,b[36]=a,b[37]=i,b[38]=f):f=b[38];b[39]!==m.id||b[40]!==p||b[41]!==g||b[42]!==f?(o=l.jsx(c("PolarisUserHoverCard.react"),{display:"block",isUserAvailable:p,userId:k,username:g,children:f}),b[39]=m.id,b[40]=p,b[41]=g,b[42]=f,b[43]=o):o=b[43];return o}function A(a){var b=d("react-compiler-runtime").c(71),e=a.adTitle,f=a.analyticsContext,g=a.coauthorProducers,h=a.followHashtagInfo,i=a.mediaId,j=a.owner,k=a.postHeaderMode,m=a.shouldEllipsisText,o=a.showVerifiedBadge,r=a.sponsors;a=a.suggestionText;var s=d("PolarisReactRedux.react").useDispatch(),u,v;b[0]!==g||b[1]!==s?(u=function(){var a=[].concat(g!=null?g:[]);s({type:"PROFILE_PAGE_USERS_LOADED",users:a})},v=[s,g],b[0]=g,b[1]=s,b[2]=u,b[3]=v):(u=b[2],v=b[3]);n(u,v);if(h){b[4]!==h.name?(u=l.jsx(d("IGDSTextVariants.react").IGDSTextBody,{zeroMargin:!0,children:l.jsx(c("PolarisHashtagLink.react"),{className:"_aaqr",tag:h.name})}),b[4]=h.name,b[5]=u):u=b[5];return u}if(c("gkx")("5712")&&k.PartnershipAd){if((r==null?void 0:r.length)!==1)return null;v=j.fullName||"";h=j.isUnpublished||!1;u=j.profilePictureUrl||"";var w=j.username||"",x;b[6]!==j.id||b[7]!==v||b[8]!==h||b[9]!==u||b[10]!==w?(x={full_name:v,id:j.id,is_unpublished:h,profile_pic_url:u,username:w},b[6]=j.id,b[7]=v,b[8]=h,b[9]=u,b[10]=w,b[11]=x):x=b[11];v=x;h=r[0];b[12]!==v||b[13]!==h?(u=l.jsx(c("PolarisPartnershipAdHeader.react"),{firstIdentity:v,secondIdentity:h}),b[12]=v,b[13]=h,b[14]=u):u=b[14];return u}if(j.isUnpublished===!0){if(e!=null&&e.trim().length!==0){b[15]!==e?(w=l.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:l.jsx("span",{className:"_aaqs",children:e})}),b[15]=e,b[16]=w):w=b[16];return w}x=j.fullName!=null&&j.fullName!==""?j.fullName:j.username;b[17]!==x?(r=l.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:l.jsx("span",{className:"_aaqs",children:x})}),b[17]=x,b[18]=r):r=b[18];return r}if(k.DisplayFBPage===!0&&(e!=null&&e.trim().length!==0)){b[19]!==e?(v=l.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:l.jsx("span",{className:"_aaqs",children:e})}),b[19]=e,b[20]=v):v=b[20];return v}if(g!=null&&g.length){b[21]!==g?(h=g!=null?g:[],b[21]=g,b[22]=h):h=b[22];b[23]!==h?(u=h.map(B),b[23]=h,b[24]=u):u=b[24];w=u;r=(x=j.fullName)!=null?x:"";e=(k=j.isVerified)!=null?k:!1;h=(v=j.profilePictureUrl)!=null?v:"";x=(u=j.username)!=null?u:"";b[25]!==j.id||b[26]!==r||b[27]!==e||b[28]!==h||b[29]!==x?(k={user:{fullName:r,id:j.id,isVerified:e,profilePictureUrl:h,username:x}},b[25]=j.id,b[26]=r,b[27]=e,b[28]=h,b[29]=x,b[30]=k):k=b[30];v=k;u=g[0];r=!j.isUnpublished;h=(e=j.username)!=null?e:"";b[31]!==j||b[32]!==m?(x=l.jsx(t,{owner:j,shouldEllipsisText:m}),b[31]=j,b[32]=m,b[33]=x):x=b[33];b[34]!==j.id||b[35]!==r||b[36]!==h||b[37]!==x?(k=l.jsx(c("IGDSBox.react"),{xstyle:p.hoverCardWrapper,children:l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:r,userId:j.id,username:h,children:x})}),b[34]=j.id,b[35]=r,b[36]=h,b[37]=x,b[38]=k):k=b[38];b[39]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx("span",{className:"_aaqv"}),b[39]=e):e=b[39];b[40]===Symbol["for"]("react.memo_cache_sentinel")?(r=l.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"row",display:"flex",children:l.jsxs(d("IGDSTextVariants.react").IGDSTextBody,{children:[e,q,l.jsx("span",{className:"_aaqv"})]})}),b[40]=r):r=b[40];if(b[41]!==f||b[42]!==g.length||b[43]!==u||b[44]!==w||b[45]!==i||b[46]!==v||b[47]!==m){x=g.length>1?l.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"row",display:"flex",children:l.jsx(d("IGDSTextVariants.react").IGDSTextBody,{children:l.jsx(c("PolarisCoauthorCountWithSheet.react"),{analyticsContext:f,coauthors:w,mediaId:i,mediaOwner:v})})}):l.jsx(c("IGDSBox.react"),{xstyle:p.hoverCardWrapper,children:l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:!u.isUnpublished,userId:u.id,username:(h=u.username)!=null?h:"",children:l.jsx(t,{owner:u,shouldEllipsisText:m})})});b[41]=f;b[42]=g.length;b[43]=u;b[44]=w;b[45]=i;b[46]=v;b[47]=m;b[48]=x}else x=b[48];b[49]!==k||b[50]!==x?(e=l.jsx("div",{className:"_aaqt _aaqu",children:l.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{textAlign:"start",zeroMargin:!0,children:l.jsxs(c("IGDSBox.react"),{alignItems:"start",direction:"row",display:"flex",children:[k,r,x]})})}),b[49]=k,b[50]=x,b[51]=e):e=b[51];return e}h=!j.isUnpublished;u=(f=j.username)!=null?f:"";b[52]!==j||b[53]!==m?(w=l.jsx(t,{owner:j,shouldEllipsisText:m}),b[52]=j,b[53]=m,b[54]=w):w=b[54];b[55]!==j.id||b[56]!==h||b[57]!==u||b[58]!==w?(i=l.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{zeroMargin:!0,children:l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:h,userId:j.id,username:u,children:w})}),b[55]=j.id,b[56]=h,b[57]=u,b[58]=w,b[59]=i):i=b[59];b[60]!==j.isVerified||b[61]!==o?(v=o===!0&&j.isVerified===!0&&l.jsx(c("IGDSBox.react"),{marginStart:1,position:"relative",children:l.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),b[60]=j.isVerified,b[61]=o,b[62]=v):v=b[62];b[63]!==i||b[64]!==v?(r=l.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",position:"relative",children:[i,v]}),b[63]=i,b[64]=v,b[65]=r):r=b[65];b[66]!==a?(k=l.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",children:l.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{zeroMargin:!0,children:a})}),b[66]=a,b[67]=k):k=b[67];b[68]!==r||b[69]!==k?(x=l.jsxs("div",{className:"_aaqt",children:[r,k]}),b[68]=r,b[69]=k,b[70]=x):x=b[70];return x}function B(a){var b;return{user:{fullName:(b=a.fullName)!=null?b:"",id:a.id,isVerified:(b=a.isVerified)!=null?b:!1,profilePictureUrl:(b=a.profilePictureUrl)!=null?b:"",username:(b=a.username)!=null?b:""}}}function a(a){var b=d("react-compiler-runtime").c(50),e=a.adTitle,f=a.analyticsContext,g=a.clipsAttributionInfo,h=a.clipsAudioAttributionInfo,i=a.coauthorProducers,j=a.displayFBPageName,k=a.followHashtagInfo,n=a.headerAvatarSize,p=a.inModal,q=a.isAffiliate,r=a.isPaidPartnership,s=a.isSharedFromEdits,t=a.isSharedToCloseFriends,v=a.isSponsored,w=a.location,x=a.mediaAttributionsData,B=a.mediaId,D=a.mediaProductType,E=a.onDisabledClipsAudioAttributionClick,F=a.owner,G=a.postedAt,H=a.reducedAvatarMargin,I=a.shouldEllipsisText,J=a.shouldShowFollowButton,K=a.showVerifiedBadge,L=a.sidebarVariantOptionsButton,M=a.sponsoredLabel,N=a.sponsors,O=a.suggestionText,P=a.transparencyLabelOwner,Q=a.wearablesAttributionInfo,R=s===void 0?!1:s;a=o(!0);var S=a[0],T=a[1],U=!k&&r&&M==null,V=N!=null&&N.length>0&&M!=null,W=!k&&!r&&q;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(s=function(){T(!1)},b[0]=s):s=b[0];var aa=s;b[1]!==h||b[2]!==E||b[3]!==F?(a=l.jsx(u,{clipsAudioAttributionInfo:h,onDisabledClipsAudioAttributionClick:E,owner:F}),b[1]=h,b[2]=E,b[3]=F,b[4]=a):a=b[4];var X=a;r=c("usePolarisIsOnFeedPage")();q=c("usePolarisIsOnAdsActivityPage")();b[5]!==p||b[6]!==q||b[7]!==r?(s=(r||q)&&p!==!0&&d("PolarisUA").isDesktop(),b[5]=p,b[6]=q,b[7]=r,b[8]=s):s=b[8];var Y=s,Z=Y;E=m(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext);a=E.onProfileClick;b[9]!==j||b[10]!==V?(p={DisplayFBPage:j,PartnershipAd:V},b[9]=j,b[10]=V,b[11]=p):p=b[11];var $=p;b[12]!==e||b[13]!==f||b[14]!==X||b[15]!==g||b[16]!==h||b[17]!==i||b[18]!==Z||b[19]!==k||b[20]!==n||b[21]!==Y||b[22]!==V||b[23]!==R||b[24]!==t||b[25]!==v||b[26]!==S||b[27]!==w||b[28]!==x||b[29]!==B||b[30]!==D||b[31]!==F||b[32]!==$||b[33]!==G||b[34]!==H||b[35]!==I||b[36]!==J||b[37]!==W||b[38]!==U||b[39]!==K||b[40]!==L||b[41]!==M||b[42]!==N||b[43]!==O||b[44]!==P||b[45]!==Q?(q=l.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:230,children:function(a){return l.jsxs("header",{className:"_aaqw"+(Y?" _aaqx":"")+(Z?" _aggb":"")+(d("PolarisPanavisionQEHelpers").hasDenserMobileWebFeed()?" _ap5a":""),"data-testid":void 0,ref:a,children:[l.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:69,children:function(a){return l.jsx("div",{ref:a,children:l.jsx(z,{analyticsContext:f,coauthorProducers:i,followHashtagInfo:k,headerAvatarSize:n,isPartnershipAd:V,isTagAvatarLink:S,onTagAvatarShowRing:aa,owner:F,sponsors:N})})}}),l.jsxs("div",{className:"_aaqy"+(L&&!Y?" _aaqz":"")+(L&&Y?" _aaq-":"")+(H===!0?" _aaq_":"")+(d("PolarisPanavisionQEHelpers").hasDenserMobileWebFeed()?" _ap5c":""),children:[l.jsxs("div",{className:"_aar0"+(J?" _ad95":"")+(L?" _aar1":""),children:[l.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:10,children:function(a){return l.jsx("div",{className:"x78zum5 x6ikm8r x10wlt62",ref:a,children:l.jsx(A,{adTitle:e,analyticsContext:f,coauthorProducers:i,followHashtagInfo:k,mediaId:B,owner:F,postHeaderMode:$,shouldEllipsisText:I,showVerifiedBadge:K,sponsors:N,suggestionText:O})})}}),!v&&G!=null&&Z&&l.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",position:"relative",children:l.jsx("div",{className:"_ajqd",children:l.jsxs(c("IGDSText.react"),{color:"secondaryText",size:"body",zeroMargin:!0,children:[l.jsx(c("IGDSMiddleDot.react"),{color:"secondaryText"}),l.jsx(c("PolarisTimestamp.react"),{isLong:!1,value:G})]})})}),J===!0&&!t&&l.jsxs("div",{className:"_aar2",children:[l.jsx("div",{className:"_aar3",children:l.jsx(c("IGDSMiddleDot.react"),{color:Z?"secondaryText":void 0})}),l.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:f,borderless:!0,"data-testid":void 0,isInline:!0,userId:F.id,username:(a=F.username)!=null?a:""})]})]}),l.jsx(y,{audioAttributionText:X,clipsAttributionInfo:g,clipsAudioAttributionInfo:h,followHashtagInfo:k,isSponsored:v,location:w,mediaAttributionsData:x,mediaId:B,mediaProductType:D,owner:F,showEligibleForCommissions:W,showOrganicPPL:U,sponsoredLabel:M,sponsors:N,transparencyLabelOwner:P,wearablesAttributionInfo:Q})]}),t&&l.jsx(c("PolarisCloseFriendsLabel.react"),{onClick:C}),R&&l.jsx(c("PolarisMadeWithEditsLabel.react"),{addMargin:!0,showText:!1})]})}}),b[12]=e,b[13]=f,b[14]=X,b[15]=g,b[16]=h,b[17]=i,b[18]=Z,b[19]=k,b[20]=n,b[21]=Y,b[22]=V,b[23]=R,b[24]=t,b[25]=v,b[26]=S,b[27]=w,b[28]=x,b[29]=B,b[30]=D,b[31]=F,b[32]=$,b[33]=G,b[34]=H,b[35]=I,b[36]=J,b[37]=W,b[38]=U,b[39]=K,b[40]=L,b[41]=M,b[42]=N,b[43]=O,b[44]=P,b[45]=Q,b[46]=q):q=b[46];b[47]!==a||b[48]!==q?(r=l.jsx(c("PolarisClickEventLoggerProvider.react"),{children:l.jsx(c("PolarisProfileClickEventLoggerProvider.react"),{onProfileClick:a,children:q})}),b[47]=a,b[48]=q,b[49]=r):r=b[49];return r}function C(){}g["default"]=a}),226);
__d("PolarisPostMediaOverlayInfoFooterCTA.react",["fbt","CometPlaceholder.react","IGDSInfoPanoOutlineIcon.react","IGDSMisinformationPanoOutline24Icon.react","JSResourceForInteraction","PolarisAssetManagerGlyphMapping","PolarisIGCoreIcon.react","PolarisInstagramMediaOverlayFalcoEvent","PolarisMediaOverlayInfoTypes","PolarisMisinformationConstants","PolarisPostFooterCTA.react","justknobx","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["ref"],j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect;b.useMemo;var m=b.useRef,n=b.useState,o=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostMediaOverlayInfoFooterCTA.react"));function p(a,b){var c=a.analyticsContext,e=a.bannerInfo,f=a.entityID,g=e.bannerButton,h=e.overlayLayout,i=e.overlayType;d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.log(function(){return d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.buildPayloadForLog({button:g,containerModule:d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.getLoggableContainerModuleFromAnalyticsContext(c),entityID:f,event:b,overlayLayout:h,overlayType:i})})}function q(a){var b=a.entityID,c=a.onLoggedImpression;p(a,d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.IMPRESSION);c!=null&&c(b)}function r(a){p(a,d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION)}function s(a,b){r(a),b()}function t(a){a=a.bannerInfo;var b=a.bannerButton,e=a.iconAltText;a=a.iconGlyph;var f=b.action_url;b=b.text_color;e=e!=null?h._(/*BTDS*/"{text}",[h._param("text",e)]):d("PolarisMisinformationConstants").POST_FOOTER_CTA_ALT_TEXT;if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.INFO)return f==="com.instagram.misinformation.fact_check_sheet.action"&&c("justknobx")._("2450")?k.jsx(c("IGDSMisinformationPanoOutline24Icon.react"),{alt:e,color:b!=null?b:"ig-primary-icon",size:24}):k.jsx(c("IGDSInfoPanoOutlineIcon.react"),{alt:e,color:b!=null?b:"ig-primary-icon",size:16});else if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.WARNING)return k.jsx(c("PolarisIGCoreIcon.react"),{alt:e,icon:d("PolarisAssetManagerGlyphMapping").ICONS.WARNING_OUTLINE_16_RED5});return null}function a(a){var b=d("react-compiler-runtime").c(45),e,g;b[0]!==a?(g=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,i),b[0]=a,b[1]=e,b[2]=g):(e=b[1],g=b[2]);a=n(!1);var h=a[0],j=a[1];a=n(0);var m=a[0],p=a[1];a=e;var r=a.bannerInfo,v=a["data-testid"],w=a.disableImpressionLogging,x=a.entityID,y=a.forceBottomBorder,z=a.fullWidth;a=a.isForSidecar;var A=r.animationInfo,B=r.bannerButton;r=r.text;var C=A.canAnimateSlideIn,D=A.isHidden;A=B.action;var E=B.action_url,F=B.has_chevron,G=B.is_text_centered,H=B.secondary_text;B=B.text_color;var I=A===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_EXTERNAL_URL?E:void 0,J=u(e),K=J!==x,L;b[3]!==w||b[4]!==h||b[5]!==D||b[6]!==K||b[7]!==e?(J=function(){(K||h===!1)&&w!==!0&&D!==!0?(q(e),j(!0)):K&&j(!1)},L=[w,D,K,h,e,j],b[3]=w,b[4]=h,b[5]=D,b[6]=K,b[7]=e,b[8]=J,b[9]=L):(J=b[8],L=b[9]);l(J,L);b[10]!==A||b[11]!==m||b[12]!==e?(J=A!==d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.NO_OP?function(){return s(e,function(){return p(m+1)})}:void 0,b[10]=A,b[11]=m,b[12]=e,b[13]=J):J=b[13];L=J;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(J=function(a){p(0)},b[14]=J):J=b[14];J=J;var M=e.analyticsContext||"",N;b[15]!==x||b[16]!==M?(N={media_id:x,module:M},b[15]=x,b[16]=M,b[17]=N):N=b[17];x=N;M=x;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(N={"ig.action.navigation.ResumeStoryPlayback":J},b[18]=N):N=b[18];x=N;J=x;N=!C;b[19]!==e?(x=t(e),b[19]=e,b[20]=x):x=b[20];C=!D;F=F!=null?F:!1;G=G===!0?"center":"left";var O;b[21]!==v||b[22]!==I||b[23]!==y||b[24]!==z||b[25]!==a||b[26]!==L||b[27]!==g||b[28]!==H||b[29]!==N||b[30]!==x||b[31]!==C||b[32]!==F||b[33]!==G||b[34]!==r||b[35]!==B?(O=k.jsx(c("PolarisPostFooterCTA.react"),{"data-testid":void 0,disableAnimation:N,externalURL:I,forceBottomBorder:y,fullWidth:z,icon:x,isActive:C,isForSidecar:a,onClick:L,ref:g,secondaryText:H,showChevron:F,text:r,textAlign:G,textThemedColor:B}),b[21]=v,b[22]=I,b[23]=y,b[24]=z,b[25]=a,b[26]=L,b[27]=g,b[28]=H,b[29]=N,b[30]=x,b[31]=C,b[32]=F,b[33]=G,b[34]=r,b[35]=B,b[36]=O):O=b[36];b[37]!==A||b[38]!==E||b[39]!==m||b[40]!==M?(v=A===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_BLOKS_APP&&m>0&&E!=null&&k.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:k.jsx(o,{actionOverrides:J,appId:E,params:M},m)}),b[37]=A,b[38]=E,b[39]=m,b[40]=M,b[41]=v):v=b[41];b[42]!==O||b[43]!==v?(I=k.jsxs(k.Fragment,{children:[O,v]}),b[42]=O,b[43]=v,b[44]=I):I=b[44];return I}function u(a){var b=a.entityID,c=m();l(function(){c.current=b},void 0);return c.current}g["default"]=a}),226);
__d("PolarisPostModalRenderingContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isInModal:!1});function a(){return i(j)}g.PolarisPostModalRenderingContext=j;g.usePolarisPostModalRenderingContext=a}),98);
__d("usePolarisShowFooterCTA",["PolarisPostUtils","polarisGetPostFromGraphMediaInterface","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b,c,e){return i(function(){if(e===!0)return null;if(a==null)return null;var f=a.isSidecar,g=null,h=null;if(f===!0){var i=d("PolarisPostUtils").getCurrentSidecarItemFromPost(a,b);i!=null&&(h=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromSidecarChild(i,c[i.id]===!0),h!=null&&(g=i))}g==null&&(h=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromRootPost(a,c[a.id]===!0),h!=null&&(g=a));return g==null||h==null?null:{bottomBannerInfo:h,isParentPostSidecar:f,itemWithBanner:g}},[b,c,e,a])}g["default"]=a}),98);
__d("PolarisPostOverlayInfoFooterCTA.react",["CometRelay","PolarisPostMediaOverlayInfoFooterCTA.react","PolarisRelayEnvironment","react","react-compiler-runtime","usePolarisShowFooterCTA"],(function(a,b,c,d,e,f,g){"use strict";var h=["currentSidecarIndex","idsWithClearedBlurOverlays","rootPost"],i,j=i||d("react");function k(a){var b=d("react-compiler-runtime").c(8),e=a.analyticsContext,f=a.bottomBannerInfo,g=a.dynamicFooterRef,h=a.idsWithDisabledMediaOverlayInfoImpressionLogging,i=a.isParentPostSidecar,k=a.itemWithBannerID;a=a.onLogOverlayImpression;var l=f.hasMediaCover;l=l||h[k]===!0;b[0]!==e||b[1]!==f||b[2]!==l||b[3]!==g||b[4]!==i||b[5]!==k||b[6]!==a?(h=j.jsx(d("CometRelay").RelayEnvironmentProvider,{environment:c("PolarisRelayEnvironment"),children:j.jsx(c("PolarisPostMediaOverlayInfoFooterCTA.react"),{analyticsContext:e,bannerInfo:f,"data-testid":void 0,disableImpressionLogging:l,entityID:k,isForSidecar:i,onLoggedImpression:a,ref:g})}),b[0]=e,b[1]=f,b[2]=l,b[3]=g,b[4]=i,b[5]=k,b[6]=a,b[7]=h):h=b[7];return h}function a(a){var b=d("react-compiler-runtime").c(8),e,f,g,i;b[0]!==a?(e=a.currentSidecarIndex,f=a.idsWithClearedBlurOverlays,i=a.rootPost,g=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i):(e=b[1],f=b[2],g=b[3],i=b[4]);a=c("usePolarisShowFooterCTA")(i,e,f);b[5]!==a||b[6]!==g?(i=a!=null?j.jsx(k,babelHelpers["extends"]({bottomBannerInfo:a.bottomBannerInfo,isParentPostSidecar:a.isParentPostSidecar,itemWithBannerID:a.itemWithBanner.id},g)):null,b[5]=a,b[6]=g,b[7]=i):i=b[7];return i}g.PolarisPostOverlayInfoFooterCTARenderer=k;g.PolarisPostOverlayInfoFooterCTA=a}),98);
__d("PolarisPostTimestamp.react",["IGDSText.react","PolarisFastLink.react","PolarisIGCoreText","PolarisLinkBuilder","PolarisTimestamp.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.code,f=a.isVideo,g=a.postedAt,h=a.productType;a=a.username;var j;b[0]!==e||b[1]!==f||b[2]!==h||b[3]!==a?(j=d("PolarisLinkBuilder").buildUsernameMediaLink(a,e,{isVideo:f,productType:h}),b[0]=e,b[1]=f,b[2]=h,b[3]=a,b[4]=j):j=b[4];e=j;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(f={navigation_source:"polaris_timestamp"},b[5]=f):f=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(h="x1p4m5qa",b[6]=h):h=b[6];b[7]!==g?(a=i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:i.jsx(c("PolarisTimestamp.react"),{className:h,isLong:!0,value:g})}),b[7]=g,b[8]=a):a=b[8];b[9]!==e||b[10]!==a?(j=i.jsx(c("PolarisIGCoreText"),{display:"block",zeroMargin:!0,children:i.jsx(c("PolarisFastLink.react"),{"data-testid":void 0,href:e,traceParams:f,children:a})}),b[9]=e,b[10]=a,b[11]=j):j=b[11];return j}g["default"]=a}),98);
__d("PolarisPostToastProvider.react",["react","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.useContext,k=d.useMemo,l=d.useRef,m=d.useState,n={ActionText:null,BodyText:null,actionHref:"/",positionStyles:{absolutePositionStyles:{},width:0},postToastContainerElem:null,setActionHref:function(){},setActionText:function(){},setBodyText:function(){},setPositionStyles:function(){},setShowToast:function(){},showToast:!1},o=i.createContext(n);function a(){return j(o)}function b(a){var b=a.ActionText,c=a.BodyText,d=a.actionHref,e=a.setActionHref,f=a.setActionText,g=a.setBodyText;a=a.setShowToast;e(d);f(b);g(c);a(!0)}function e(a){var b=a.children;a=a.ref;var d=m(null),e=d[0],f=d[1];d=m(null);var g=d[0],h=d[1];d=m("");var j=d[0],p=d[1];d=m(n.positionStyles);var q=d[0],r=d[1];d=m(!1);var s=d[0],t=d[1],u=l(null);d=c("useMergeRefs")(u,a);a=k(function(){return{ActionText:e,BodyText:g,actionHref:j,positionStyles:q,postToastContainerElem:u.current,setActionHref:p,setActionText:f,setBodyText:h,setPositionStyles:r,setShowToast:t,showToast:s}},[e,g,j,q,s]);return i.jsx(o.Provider,{value:a,children:b(d)})}e.displayName=e.name+" [from "+f.id+"]";d=e;g.usePostToastContext=a;g.showPostToast=b;g.PostToastProvider=d}),98);
__d("stopPropagation",[],(function(a,b,c,d,e,f){"use strict";function a(a){a.stopPropagation()}f["default"]=a}),66);
__d("usePolarisClipsViewerOverlayInteractionTracking.react",["InstagramODS","PolarisConfig","PolarisIsLoggedIn","PolarisUA","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function i(){if(!d("PolarisUA").isDesktop())return"unknown";if(d("PolarisConfig").isLoggedOutUser())return c("qex")._("1723")===!0?"LOX.test":"LOX.control";else if(d("PolarisIsLoggedIn").isLoggedIn())return c("qex")._("1756")===!0?"LIX.test":"LIX.control";return"unknown"}function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i(),a[0]=b):b=a[0];var e=b;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(a,b){c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.clips_viewer_overlay."+a),c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.clips_viewer_overlay."+a+"."+e),b!=null&&c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.clips_viewer_overlay."+a+"."+e+"."+b)},a[1]=b):b=a[1];a=b;return a}g["default"]=a}),98);
__d("PolarisVideoVolumeControlV2.react",["fbt","CometPressable.react","IGDSVolumeNonePanoFilledIcon.react","IGDSVolumeOffFilledIcon.react","IGDSVolumeOnFilledIcon.react","PolarisIGCoreToast.react","PolarisVideoConstants","PolarisVolumeControlsManager.react","VideoPlayerHooks","react","stopPropagation","usePolarisClipsViewerOverlayInteractionTracking.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useCallback,m=b.useEffect,n=b.useRef,o=b.useState,p={iconContainer:{alignItems:"x6s0dn4",display:"x78zum5",bottom:"x1ey2m1c",justifyContent:"xl56j7k",position:"x10l6tqk",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},iconContainerLarge:{height:"x10w6t97",$$css:!0},iconContainerSmall:{height:"x1fgtraw",$$css:!0}},q=0,r=50,s=100,t=4,u=1500;function a(a){var b=a.absolutePositionToast;b=b===void 0?!0:b;var e=a.backgroundColor,f=a.className,g=a.forceMuteReason,i=a.isDisabled,v=a.onClick;a=a.size;var w=o(!1),x=w[0],y=w[1];w=!(g==null||g==="");var z=n(null),A=n(!1),B=o(!1),C=B[0],D=B[1],E=(j||(j=d("VideoPlayerHooks"))).useController(),F=j.useVolume(),G=d("PolarisVolumeControlsManager.react").useVolumeControls(),H=j.useMuted();B=d("PolarisVolumeControlsManager.react").useVolumeControls();var I=B.setVolume,J=c("usePolarisClipsViewerOverlayInteractionTracking.react")(),K=l(function(a){E.setVolume(a),H&&a>0&&(G.setAudioState(d("PolarisVideoConstants").AUDIO_STATES.on),E.setMuted(!1,"user_initiated")),a===0&&(G.setAudioState(d("PolarisVideoConstants").AUDIO_STATES.off),E.setMuted(!0,"user_initiated"))},[E,H,G]),L=l(function(a){K(a),I(a)},[K,I]),M=l(function(a){a.stopPropagation();if(z.current){var b=z.current.getBoundingClientRect();a=b.bottom-a.clientY;a=Math.max(0,Math.min(1,a/b.height));L(a)}J("volume_slider_click")},[L]),N=l(function(a){if(z.current){var b=z.current.getBoundingClientRect();a=b.bottom-a.clientY;return Math.max(0,Math.min(1,a/b.height))}return 0},[]);m(function(){var a=function(a){A.current===!0&&(a.stopPropagation(),a.preventDefault())};document.addEventListener("click",a,!0);return function(){document.removeEventListener("click",a,!0)}},[]);var O=l(function(a){a.stopPropagation();a.preventDefault();A.current=!0;var b=function(a){a=N(a);K(a)},c=function(a){if(z.current){var d=N(a);L(d)}document.removeEventListener("mousemove",b);document.removeEventListener("mouseup",c);J("volume_slider_drag","end");window.requestAnimationFrame(function(){A.current=!1;if(z.current){var b=z.current.parentElement,c=document.elementFromPoint(a.clientX,a.clientY);b&&!b.contains(c)&&D(!1)}})};document.addEventListener("mousemove",b);document.addEventListener("mouseup",c)},[N,K,J,L]);B=l(function(){i||D(!0),J("volume_slider_hover")},[i,J]);var P=l(function(){A.current||D(!1)},[]),Q=H?q:F*s,R=Math.max(q+t,Math.min(s-t,Q)),S=a==="large"?16:12;S=i?k.jsx(c("IGDSVolumeNonePanoFilledIcon.react"),{alt:h._(/*BTDS*/"Video has no audio"),color:"ig-stroke-on-media","data-testid":void 0,size:S}):G.audioState===d("PolarisVideoConstants").AUDIO_STATES.on?k.jsx(c("IGDSVolumeOnFilledIcon.react"),{alt:h._(/*BTDS*/"Audio is playing"),color:"ig-stroke-on-media","data-testid":void 0,size:S}):k.jsx(c("IGDSVolumeOffFilledIcon.react"),{alt:h._(/*BTDS*/"Audio is muted"),color:"ig-stroke-on-media","data-testid":void 0,size:S});return k.jsxs(k.Fragment,{children:[k.jsx("div",{"aria-label":h._(/*BTDS*/"Adjust volume"),"aria-valuemax":s,"aria-valuemin":q,"aria-valuenow":Q,className:f,onClick:function(a){c("stopPropagation")(a),A.current||M(a)},onMouseEnter:B,onMouseLeave:P,role:"slider",tabIndex:0,children:k.jsxs("div",babelHelpers["extends"]({},{0:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb x1fgtraw xgd8bvy"},8:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb x10w6t97 x1td3qas"},4:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb x1fgtraw xgd8bvy x1jh03n0 x18l40ae"},12:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb x10w6t97 x1td3qas x1jh03n0 x18l40ae"},2:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb x1fgtraw xgd8bvy x1jh03n0 x1nevw86"},10:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb x10w6t97 x1td3qas x1jh03n0 x1nevw86"},6:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb x1fgtraw xgd8bvy x1jh03n0 x1nevw86"},14:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb x10w6t97 x1td3qas x1jh03n0 x1nevw86"},1:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb xgd8bvy x1njnjl6"},9:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb x1td3qas x1njnjl6"},5:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb xgd8bvy x1jh03n0 x18l40ae x1njnjl6"},13:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb x1td3qas x1jh03n0 x18l40ae x1njnjl6"},3:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb xgd8bvy x1jh03n0 x1nevw86 x1njnjl6"},11:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb x1td3qas x1jh03n0 x1nevw86 x1njnjl6"},7:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb xgd8bvy x1jh03n0 x1nevw86 x1njnjl6"},15:{className:"x6s0dn4 xbjudin xnlwouz xpp8er5 xs9wviy x78zum5 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1axc7mb x1td3qas x1jh03n0 x1nevw86 x1njnjl6"}}[!!(a==="large")<<3|!!(e==="solid")<<2|!!(e==="blur")<<1|!!C<<0],{children:[k.jsx("div",babelHelpers["extends"]({},{0:{className:"x6s0dn4 x78zum5 xdt5ytf x5yr21d x13vifvy xg01cxk x10l6tqk xqz5vs7 xh8yej3"},1:{className:"x6s0dn4 x78zum5 xdt5ytf x5yr21d x13vifvy x10l6tqk xqz5vs7 xh8yej3 x1hc1fzr"}}[!!C<<0],{children:k.jsxs("div",{className:"x1ybmbna xjwep3j x1t39747 x1wcsgtt x1pczhz8 x5yr21d x1iymm2a x14vqqas x1n2onr6 x1xc55vz",ref:z,children:[k.jsx("div",{className:"x14hiurz xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1ey2m1c x10l6tqk xh8yej3",style:{height:Q+"%"}}),k.jsx("div",{"aria-hidden":"true",className:"x14hiurz x1c9tyrk xeusxvb x1pahc9y x1ertn4p xlup9mm xtglan8 x1wsgfga x10l6tqk x1kky2od",onMouseDown:function(a){O(a),J("volume_slider_drag","start")},style:{bottom:R+"%"}})]})})),k.jsx(c("CometPressable.react"),{onPress:function(a){if(i){y(!0);return}J("volume_toggle_click",H?"unmute":"mute");H&&F===0&&E.setVolume(r/100);v(a)},overlayDisabled:!0,xstyle:[p.iconContainer,a==="large"?p.iconContainerLarge:p.iconContainerSmall],children:S})]}))}),x&&k.jsx(c("PolarisIGCoreToast.react"),{absolutePosition:b,duration:u,onClose:function(){return y(!1)},wide:!0,children:w?String(g):h._(/*BTDS*/"Video Has No Sound")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("shouldUsePolarisVolumeToggleWithSlider",["PolarisConfig","PolarisIsLoggedIn","PolarisUA","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(!d("PolarisUA").isDesktop())return!1;if(d("PolarisConfig").isLoggedOutUser())return c("qex")._("843")===!0;else if(d("PolarisIsLoggedIn").isLoggedIn())return c("qex")._("1721")===!0;return!1}g["default"]=a}),98);
__d("usePolarisVideoVolumeControls",["PolarisVideoConstants","PolarisVolumeControlsManager.react","VideoPlayerHooks","react","react-compiler-runtime","shouldUsePolarisVolumeToggleWithSlider","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=d("react-compiler-runtime").c(34),e=a.enabled,f=a.isDefaultAudioOnEnabled,g=(i||(i=d("VideoPlayerHooks"))).useController(),h=d("PolarisVolumeControlsManager.react").useVolumeControls(),m=i.usePaused(),n=i.useMuted(),o=c("usePrevious")(n),p=i.useLastMuteReason();a=l(!1);var q=a[0],r=a[1],s=i.useVolume(),t=k(s);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("shouldUsePolarisVolumeToggleWithSlider")(),b[0]=a):a=b[0];var u=a,v;b[1]!==e||b[2]!==n||b[3]!==p||b[4]!==o||b[5]!==h?(a=function(){e&&o!=null&&o!==n&&p==="user_initiated"&&h.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&h.setAudioState(n?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on)},v=[e,n,p,o,h],b[1]=e,b[2]=n,b[3]=p,b[4]=o,b[5]=h,b[6]=a,b[7]=v):(a=b[6],v=b[7]);j(a,v);b[8]!==g||b[9]!==e||b[10]!==m||b[11]!==h.audioState?(a=function(){e&&!m&&h.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&g.setMuted(h.audioState==="off","product_initiated")},v=[e,g,m,h.audioState],b[8]=g,b[9]=e,b[10]=m,b[11]=h.audioState,b[12]=a,b[13]=v):(a=b[12],v=b[13]);j(a,v);b[14]!==e||b[15]!==q||b[16]!==f||b[17]!==n||b[18]!==h?(a=function(){e&&h.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&n&&f&&!q&&(h.setAudioState(d("PolarisVideoConstants").AUDIO_STATES.on),r(!0))},v=[e,q,f,n,h,h.audioState],b[14]=e,b[15]=q,b[16]=f,b[17]=n,b[18]=h,b[19]=a,b[20]=v):(a=b[19],v=b[20]);j(a,v);b[21]!==e||b[22]!==p||b[23]!==s||b[24]!==h?(a=function(){u&&e&&t.current!=null&&t.current!==s&&p==="user_initiated"&&h.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&(t.current=s,h.setVolume(s))},v=[e,s,t,p,h,u],b[21]=e,b[22]=p,b[23]=s,b[24]=h,b[25]=a,b[26]=v):(a=b[25],v=b[26]);j(a,v);b[27]!==g||b[28]!==e||b[29]!==m||b[30]!==h.audioState||b[31]!==h.volume?(a=function(){u&&h.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&e&&!m&&g.setVolume(h.volume)},v=[e,g,m,h.volume,h.audioState,u],b[27]=g,b[28]=e,b[29]=m,b[30]=h.audioState,b[31]=h.volume,b[32]=a,b[33]=v):(a=b[32],v=b[33]);j(a,v);return h.audioState}g["default"]=a}),98);
__d("usePolarisVideoAudioState",["PolarisConfig","PolarisLoggedOutUtils","PolarisRoutePropUtils","PolarisUA","PolarisVideoConstants","VideoPlayerHooks","polarisGetAppPlatform","react","react-compiler-runtime","usePolarisPageID","usePolarisVideoVolumeControls","useRouteReferrer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useContext;function a(a){var b=d("react-compiler-runtime").c(6);a=a.noAudio;var e=c("useRouteReferrer")(),f=c("usePolarisPageID")();f=f==="DirectThreadPage"||f==="DirectInboxPage";e=j(d("PolarisRoutePropUtils").PolarisRoutePropContext).routePropQE.getBool("is_default_audio_on_enabled")&&d("PolarisConfig").isLoggedOutUser()&&d("PolarisUA").isMobile()&&d("PolarisLoggedOutUtils").isLoggedOutCTADismissed()&&(e==null?void 0:e.isBackgroundRoute)!==!0&&(e==null?void 0:e.navigationType)==="initial";var g=(i||(i=d("VideoPlayerHooks"))).useMuted(),h;b[0]!==e||b[1]!==f?(h=e||!d("polarisGetAppPlatform").isIOS()||f,b[0]=e,b[1]=f,b[2]=h):h=b[2];f=h;h=f&&!a;var k;b[3]!==e||b[4]!==h?(k={enabled:h,isDefaultAudioOnEnabled:e},b[3]=e,b[4]=h,b[5]=k):k=b[5];e=c("usePolarisVideoVolumeControls")(k);if(a===!0)return d("PolarisVideoConstants").AUDIO_STATES.none;return!f?g?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on:e}g["default"]=a}),98);
__d("usePolarisPostVideoToggleAudio",["PolarisVideoConstants","VideoPlayerHooks","react","react-compiler-runtime","usePolarisVideoAudioState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(10),e=(i||(i=d("VideoPlayerHooks"))).useController(),f=a.clipsMusicAttributionInfo;a=a.hasAudio;var g=a===!1||(f==null?void 0:f.should_mute_audio)===!0,h;b[0]!==g?(h={noAudio:g},b[0]=g,b[1]=h):h=b[1];var j=c("usePolarisVideoAudioState")(h);b[2]!==j||b[3]!==e?(g=function(){if(j!==d("PolarisVideoConstants").AUDIO_STATES.none){var a=e.getCurrentState();a=a.muted;e.setMuted(!a,"user_initiated")}},b[2]=j,b[3]=e,b[4]=g):g=b[4];h=g;b[5]!==j||b[6]!==f||b[7]!==a||b[8]!==h?(g={audioState:j,clipsMusicAttributionInfo:f,hasAudio:a,toggleAudio:h},b[5]=j,b[6]=f,b[7]=a,b[8]=h,b[9]=g):g=b[9];return g}g["default"]=a}),98);
__d("PolarisPostVideoVolumeControls.react",["PolarisVideoConstants","PolarisVideoVolumeControlV2.react","PolarisVideoVolumeControls.react","react","react-compiler-runtime","shouldUsePolarisVolumeToggleWithSlider","usePolarisPostVideoToggleAudio"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.inPlayerControls;a=a.post;a=c("usePolarisPostVideoToggleAudio")(a);var f=a.audioState,g=a.clipsMusicAttributionInfo;a=a.toggleAudio;g=f===d("PolarisVideoConstants").AUDIO_STATES.none?g==null?void 0:g.should_mute_audio_reason:void 0;var h;b[0]!==g||b[1]!==a?(h={forceMuteReason:g,onClick:a},b[0]=g,b[1]=a,b[2]=h):h=b[2];g=h;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=c("shouldUsePolarisVolumeToggleWithSlider")(),b[3]=h):h=b[3];h=h;b[4]!==f||b[5]!==e||b[6]!==g||b[7]!==a?(h=h?i.jsx(c("PolarisVideoVolumeControlV2.react"),babelHelpers["extends"]({backgroundColor:"solid",className:e===!0?void 0:"x1ey2m1c xtijo5x x14vqqas xbmvrgn xod5an3 x1diwwjn x10l6tqk x1vjfegm",isDisabled:f===d("PolarisVideoConstants").AUDIO_STATES.none,size:"small"},g)):i.jsx(c("PolarisVideoVolumeControls.react"),babelHelpers["extends"]({},g,{audioState:f,inPlayerControls:e,onClick:a})),b[4]=f,b[5]=e,b[6]=g,b[7]=a,b[8]=h):h=b[8];return h}g["default"]=a}),98);
__d("PolarisPostVideoPlayerControls.react",["IGDSBox.react","PolarisPostVideoVolumeControls.react","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.post,f=a.shouldUseVolumeControls;a=a.showVideoControls;if(f===!0){b[0]!==e?(f=i.jsx(c("PolarisPostVideoVolumeControls.react"),{post:e}),b[0]=e,b[1]=f):f=b[1];return f}if(a===!0){b[2]!==e?(f=i.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,noPaddingStart:!0,children:i.jsx(c("PolarisPostVideoVolumeControls.react"),{inPlayerControls:!0,post:e})}),b[2]=e,b[3]=f):f=b[3];a=f;b[4]!==a?(e=i.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:!0,children:i.jsx(c("IGDSBox.react"),{direction:"row",display:"flex",padding:4,width:"100%",children:a})}),b[4]=a,b[5]=e):e=b[5];return e}return null}g["default"]=a}),98);
__d("usePolarisShouldFeedMediaBeFullHeight",["usePolarisIsFeedMobileLayout"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.analyticsContext;var b=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout();return a==="feedPageModal"&&!b}g["default"]=a}),98);
__d("usePolarisShouldCenterCropPosterHeight",["PolarisUA","react-compiler-runtime","usePolarisIsOnFeedPage","usePolarisShouldFeedMediaBeFullHeight"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e,f=d("react-compiler-runtime").c(6),g=c("usePolarisIsOnFeedPage")();e=(e=b.dimensions)==null?void 0:e.height;b=(b=b.dimensions)==null?void 0:b.width;var h;f[0]!==a||f[1]!==e||f[2]!==b?(h={analyticsContext:a,height:e,width:b},f[0]=a,f[1]=e,f[2]=b,f[3]=h):h=f[3];a=c("usePolarisShouldFeedMediaBeFullHeight")(h);e=g&&!a;f[4]!==e?(b=d("PolarisUA").isMobile()||e,f[4]=e,f[5]=b):b=f[5];return b}g["default"]=a}),98);
__d("PolarisPostVideoPlayerWrapper.react",["PolarisVideoHelpers","react","react-compiler-runtime","usePolarisShouldCenterCropPosterHeight"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.analyticsContext,f=a.children;a=a.post;e=c("usePolarisShouldCenterCropPosterHeight")(e,a);a=d("PolarisVideoHelpers").getVideoPaddingPercentFromDimensions(a.dimensions,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="xg10s4p x1n2onr6 xh8yej3",b[0]=e):e=b[0];a=a+"%";var g;b[1]!==a?(g={paddingBottom:a},b[1]=a,b[2]=g):g=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"xyzq4qe x5yr21d x10l6tqk xh8yej3"},b[3]=a):a=b[3];b[4]!==f?(a=i.jsx("div",babelHelpers["extends"]({},a,{children:f})),b[4]=f,b[5]=a):a=b[5];b[6]!==g||b[7]!==a?(f=i.jsx("div",{className:e,style:g,children:a}),b[6]=g,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("PolarisPostViewInsights.react",["fbt","CometPlaceholder.react","CometRouteParams","IGDSButton.react","JSResourceForInteraction","PolarisLinkBuilder","QuickPerformanceLogger","lazyLoadComponent","qex","qpl","react","react-compiler-runtime","useCometRouterDispatcher","useCometRouterState","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect;b.useMemo;var m=b.useState,n=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostViewInsights.react"));function o(a){switch(a){case"com.instagram.insights.media_refresh.videos.ad_bottom_sheet.action":c("vulture")("7l5rY32QVdq-eCD3CAzNcuV8uCQ=");(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39130588,"1610"),0);break;case"com.instagram.insights.media_refresh.videos.bottom_sheet.action":c("vulture")("LX-vsgHyqzB9y-Uv3C3Yr5tIQa0=");(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39130588,"1610"),0);break;case"com.instagram.insights.media_refresh.clips.ad_bottom_sheet.action":c("vulture")("fq4tvnGuHKa8kHQcGSoebUlXHmo=");(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39137013,"1611"),0);break;case"com.instagram.insights.media_refresh.clips.bottom_sheet.action":c("vulture")("UlWm4Cm8PYWtthX5uhCc7mbWzBA=");(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39137013,"1611"),0);break;default:(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39124994,"1612"),0)}}function a(a){var b=d("react-compiler-runtime").c(22),e=a.bloksAppId,g=a.mediaId;a=d("CometRouteParams").useRouteParams();var i=a.show_insights;a=m(Boolean(i));var j=a[0],p=a[1],q=c("useCometRouterDispatcher")(),r=c("useCometRouterState")(),s;b[0]!==i?(a=function(){p(Boolean(i))},s=[i],b[0]=i,b[1]=a,b[2]=s):(a=b[1],s=b[2]);l(a,s);b[3]!==g?(a={media_id:g},b[3]=g,b[4]=a):a=b[4];s=a;a=s;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(s=function(a){p(!1)},b[5]=s):s=b[5];s=s;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(s={"ig.action.navigation.ResumeStoryPlayback":s},b[6]=s):s=b[6];s=s;s=s;var t;b[7]!==e||b[8]!==q||b[9]!==g||b[10]!==(r==null?void 0:r.main)?(t=function(){var a;a=(a=c("qex")._("1542"))!=null?a:!1;a?q==null||q.go(d("PolarisLinkBuilder").buildImmersiveMediaInsightsLink(String(g)),{passthroughProps:{fallbackUrl:r==null?void 0:r.main.route.url},target:"self"}):(p(!0),o(e))},b[7]=e,b[8]=q,b[9]=g,b[10]=r==null?void 0:r.main,b[11]=t):t=b[11];t=t;var u;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._(/*BTDS*/"View insights"),b[12]=u):u=b[12];b[13]!==t?(u=k.jsx(c("IGDSButton.react"),{display:"block",label:u,onClick:t,variant:"primary_link"}),b[13]=t,b[14]=u):u=b[14];b[15]!==e||b[16]!==a||b[17]!==j?(t=j?k.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:k.jsx(n,{actionOverrides:s,appId:e,loadingFallback:k.jsx("div",{}),params:a})}):null,b[15]=e,b[16]=a,b[17]=j,b[18]=t):t=b[18];b[19]!==u||b[20]!==t?(s=k.jsxs("section",{children:[u,t]}),b[19]=u,b[20]=t,b[21]=s):s=b[21];return s}g["default"]=a}),226);
__d("PolarisPostViews.react",["cx","fbt","CometVisualCompletionAttributes","IGDSTextVariants.react","PolarisBigNumber.react","polarisLogAction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState;function m(a){return a===1?i._(/*BTDS*/"{count} view",[i._param("count",a)]):i._(/*BTDS*/"{count} views",[i._param("count",k.jsx(c("PolarisBigNumber.react"),{value:a}))])}m.displayName=m.name+" [from "+f.id+"]";function n(a){return a===1?i._(/*BTDS*/"{count} like",[i._param("count",a)]):i._(/*BTDS*/"{count} likes",[i._param("count",k.jsx(c("PolarisBigNumber.react"),{value:a}))])}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=d("react-compiler-runtime").c(11),c=a.likeCount;a=a.onClose;var e;b[0]!==a?(e=k.jsx("div",{className:"_aaur",onClick:a,role:"button",tabIndex:0}),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("div",{className:"_aaus"}),b[2]=a):a=b[2];var f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx("div",{className:"_aaut"}),b[3]=f):f=b[3];var g="_aauu",h;b[4]!==c?(h=n(c),b[4]=c,b[5]=h):h=b[5];b[6]!==h?(c=k.jsx("div",{className:g,children:h}),b[6]=h,b[7]=c):c=b[7];b[8]!==e||b[9]!==c?(g=k.jsxs("div",{children:[e,a,f,c]}),b[8]=e,b[9]=c,b[10]=g):g=b[10];return g}function a(a){var b=d("react-compiler-runtime").c(17),e=a.analyticsContext,f=a.likeCount;a=a.viewCount;var g=l(!1),h=g[0],i=g[1];b[0]!==e||b[1]!==h?(g=function(){h||c("polarisLogAction")("viewCountClick",{source:e}),i(!h)},b[0]=e,b[1]=h,b[2]=g):g=b[2];g=g;var j="_aauv",n="_aauw",p;b[3]!==a?(p=m(a),b[3]=a,b[4]=p):p=b[4];b[5]!==p?(a=k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{zeroMargin:!0,children:p}),b[5]=p,b[6]=a):a=b[6];b[7]!==g||b[8]!==a?(p=k.jsx("span",babelHelpers["extends"]({className:n,onClick:g,role:"button",tabIndex:0},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:a})),b[7]=g,b[8]=a,b[9]=p):p=b[9];b[10]!==g||b[11]!==f||b[12]!==h?(n=h&&k.jsx(o,{likeCount:f,onClose:g}),b[10]=g,b[11]=f,b[12]=h,b[13]=n):n=b[13];b[14]!==p||b[15]!==n?(a=k.jsxs("div",{className:j,children:[p,n]}),b[14]=p,b[15]=n,b[16]=a):a=b[16];return a}g["default"]=a}),226);
__d("PolarisSidecar_DEPRECATED.react",["IGDSBox.react","PolarisPagerButton.react","PolarisResponsiveBlock.react","PolarisSizing","PolarisStepIndicator.react","PolarisVirtualHSnapScroll.react","getPolarisKeyCommandConfig","polarisLogAction","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=400;a=1;var k=1,l=a+k,m=.75,n={areaClick:null,pagerClick:"click",scroll:"scroll",swipe:null};b=function(a){function b(){var b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=a.call.apply(a,[this].concat(e))||this,b.state={hoveredOver:!1,mediaWidth:b.props.initialMediaWidthGuess||0,sidecarChildIndex:b.props.initialCarouselIndex||0},b.$1=null,b.$2=!1,b.$3={},b.$4=function(a){var c=b.props,d=c.initialCarouselIndex;c=c.numSidecarChildren;b.$1=a;if(d!=null&&d>0&&d<c&&b.$2===!1){(a=b.$1)==null||a.snapToIndex(d);b.$2=!0}b.props.onSetScrollRef&&b.props.onSetScrollRef(b.$1)},b.$5=function(a){b.$2=a},b.$6=function(a){return Math.min(Math.pow(Math.abs(a),.75)*3,j)},b.$9=function(a){b.setState({mediaWidth:a})},b.$10=function(a){a=a.interactionType;a=n[a];a!=null&&!b.$3[a]&&(c("polarisLogAction")("sidecarEngagement",{source:" hscroll",type:a}),b.$3[a]=!0);b.props.onInteract&&b.props.onInteract()},b.$11=function(){var a=b.props,c=a.numSidecarChildren,d=a.onChildIndexChange,e=b.state.sidecarChildIndex,f=(a=(a=b.$1)==null?void 0:a.getCurrentIndex())!=null?a:0;f!==e&&f>=0&&f<c&&b.setState({sidecarChildIndex:f},function(){d&&d(e,f,c)})},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.$7=function(){this.setState({hoveredOver:!0})};e.$8=function(){this.setState({hoveredOver:!1})};e.$12=function(){var a;return i.jsx(c("PolarisStepIndicator.react"),{className:"x6s0dn4 x1oozmrk x1f889gz xrr41r3 xl56j7k x47corl x10l6tqk",numSteps:this.props.numSidecarChildren,selectedStep:this.state.sidecarChildIndex,style:(a=this.props.stepIndicatorStyle)!=null?a:"overlay"})};e.$13=function(){var a=this.props,b=a.dimensions;a=a.numSidecarChildren;if(a===0)return null;a=b.toSorted(function(a,b){a=a.width/a.height;b=b.width/b.height;return a-b})[0];if(!a)return null;b=d("PolarisSizing").getHeightPercent(a);a={paddingBottom:b+"%"};return i.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x1lliihq xdt5ytf x2lah0s xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6",style:a})};e.$14=function(){var a=this.props.dimensions;a=a.filter(function(a){a=a.width/a.height;return a>=m});a=a.toSorted(function(a,b){a=a.width/a.height;b=b.width/b.height;return a-b})[0];if(a==null)return;return a.width/a.height};e.$15=function(){var a=this.props.numSidecarChildren;if(a===0)return null;a=this.$14();return i.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x1lliihq xdt5ytf x2lah0s xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6",style:{aspectRatio:a}})};e.$16=function(a){var b=this;return a==="immersiveViewer"?[d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("mediaViewer","goToNextIndex",function(){var a;(a=b.$1)==null||a.snapToNext()}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("mediaViewer","goToPrevIndex",function(){var a;(a=b.$1)==null||a.snapToPrev()})]:[]};e.render=function(){var a=this,b=this.props,e=b.autoScrollOnFocus,f=b.initialCarouselIndex,g=b.mediaFooter;b=b.numSidecarChildren;var h=c("qex")._("2314")===!0,j=this.state.mediaWidth,m=this.$12(),n=!this.props.hoverTriggeredPager,o=this.$16(this.props.stepIndicatorStyle);return i.jsxs("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s x1o0tod xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x13vifvy x11njtxf",onMouseEnter:function(){a.$7()},onMouseLeave:function(){a.$8()},ref:this.props.containerRef,children:[i.jsxs(c("PolarisResponsiveBlock.react"),{className:"x1lliihq x1n2onr6",onResize:this.$9,children:[h?this.$15():this.$13(),j>0&&i.jsx(c("IGDSBox.react"),{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:i.jsx(c("PolarisVirtualHSnapScroll.react"),{animationDuration:this.$6,autoScrollOnFocus:e,initialIndex:f!=null?f:0,initialNextPagerVisibleGuess:f!=null&&f<b,initialPreviousPagerVisibleGuess:f!=null&&f>0,initialVisibleItemsGuess:l,itemWidth:j,navigationCommands:o,onInteract:this.$10,onVisibilityChange:this.$11,overscan:this.props.renderAllSidecarChildren===!0?b:k,pagerDisabled:!n&&!this.state.hoveredOver,pagerVariant:d("PolarisPagerButton.react").PAGER_BUTTON_VARIANTS.sidecar,scrollRef:this.$4,setScrollRefMounted:this.$5,children:this.props.renderSidecarChildren(this.state.mediaWidth,this.state.sidecarChildIndex,this.$14())})})]}),g,m]})};return b}(i.PureComponent);e=b;g._Sidecar=b;g.Sidecar=e}),98);
__d("PolarisVideoIndicatorIcon.react",["PolarisIsLoggedIn","PolarisLoggedOutUserTagIndicatorWithSheet.react","PolarisUserTagIndicatorWithSheet.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.analyticsContext;a=a.post;var f=a.id;a=a.usertags;if(a!=null&&a.length>0&&e!=="reelsTab"){b[0]!==f||b[1]!==a?(e=d("PolarisIsLoggedIn").isLoggedIn()?i.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{mediaId:f,usertags:a}):i.jsx(c("PolarisLoggedOutUserTagIndicatorWithSheet.react"),{mediaId:f,usertags:a}),b[0]=f,b[1]=a,b[2]=e):e=b[2];return e}return null}g["default"]=a}),98);
__d("XPolarisMobileAllCommentsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/p/{shortcode}/comments/",Object.freeze({enable_persistent_cta:!1}),void 0);b=a;g["default"]=b}),98);
__d("usePolarisNavigateToLogin",["PolarisLinkBuilder","react","react-compiler-runtime","usePolarisDynamicIpadUpsell","usePolarisLoggedOutBlockingEntryPointDialog","usePolarisLoggedOutIntentAction","usePolarisLoggedOutIntentEntryPointDialog","usePolarisLoggedOutPostIntentTapBehavior","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a,b,e){var f=d("react-compiler-runtime").c(18),g=e===void 0?!1:e,h=c("usePolarisLoggedOutIntentAction")();e=c("usePolarisLoggedOutBlockingEntryPointDialog")();var i=e[0],j=e[1];e=c("usePolarisLoggedOutIntentEntryPointDialog")();var k=e[0],l=e[1],m=d("usePolarisLoggedOutPostIntentTapBehavior").usePolarisLoggedOutPostIntentTapBehavior(),n=d("usePolarisDynamicIpadUpsell").usePolarisDesktopExcludingIpad();f[0]!==n||f[1]!==i||f[2]!==h||f[3]!==k||f[4]!==b||f[5]!==a||f[6]!==m||f[7]!==g?(e=function(e){var f;bb6:switch(e){case"comment":f="post_feedback_comment";break bb6;case"direct":c("vulture")("FdzkvwMPjHb2x6ZJmnPM6-jinns=");f="post_feedback_direct";break bb6;case"like":f="post_feedback_like";break bb6;case"save":default:f="post_feedback_save"}if(n)k==null||k({nextUrl:d("PolarisLinkBuilder").buildMediaLink(a),source:f});else if(g===!0){e=m();e!=null?(f==="post_feedback_comment"&&(f="post_comment_view_all"),h({source:f})):i==null||i({nextUrl:d("PolarisLinkBuilder").buildMediaLink(a),source:f})}else h({source:f,username:b})},f[0]=n,f[1]=i,f[2]=h,f[3]=k,f[4]=b,f[5]=a,f[6]=m,f[7]=g,f[8]=e):e=f[8];e=e;var o;f[9]!==n||f[10]!==j||f[11]!==l||f[12]!==m||f[13]!==g?(o=function(){n?l==null||l(!0):g===!0&&m()==null&&(j==null||j(!0))},f[9]=n,f[10]=j,f[11]=l,f[12]=m,f[13]=g,f[14]=o):o=f[14];o=o;var p;f[15]!==e||f[16]!==o?(p=[e,o],f[15]=e,f[16]=o,f[17]=p):p=f[17];return p}g["default"]=a}),98);
__d("usePolarisPostSetURLSidecarIndex",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){return i}function i(a){var b=new URLSearchParams(window.location.search);if(a===b.get("img_index"))return;b.set("img_index",String(a));window.history.replaceState(babelHelpers["extends"]({},history.state),"","?"+b.toString())}g["default"]=a}),98);
__d("usePolarisPostShowSavedToastHandler",["fbt","PolarisLinkBuilder","PolarisPostToastProvider.react","PolarisSavedPostsTypes","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(3),b=d("PolarisPostToastProvider.react").usePostToastContext(),e=c("usePolarisViewer")(),f;a[0]!==b||a[1]!==(e==null?void 0:e.username)?(f=function(){var a;d("PolarisPostToastProvider.react").showPostToast(babelHelpers["extends"]({},b,{ActionText:h._(/*BTDS*/"View your saved posts"),BodyText:h._(/*BTDS*/"Your item has been saved."),actionHref:d("PolarisLinkBuilder").buildUserSavedCollectionLink((a=e==null?void 0:e.username)!=null?a:"",d("PolarisSavedPostsTypes").ALL_POSTS_SAVED_COLLECTION_PATH,d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION)}))},a[0]=b,a[1]=e==null?void 0:e.username,a[2]=f):f=a[2];e==null||e.username;return f}g["default"]=a}),226);
__d("usePolarisVideoPressInteraction",["fbt","VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(i||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(12),c=a.playButtonShowing,e=a.shouldUnmuteOnPlay,f=(j||(j=d("VideoPlayerHooks"))).useController(),g=j.useLastMuteReason();b[0]!==f?(a=function(){f.pause("user_initiated")},b[0]=f,b[1]=a):a=b[1];a=a;var i;b[2]!==f||b[3]!==g||b[4]!==e?(i=function(){f.play("user_initiated"),e&&g!=="user_initiated"&&f.setMuted(!1,"product_initiated")},b[2]=f,b[3]=g,b[4]=e,b[5]=i):i=b[5];i=i;if(c){b[6]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._(/*BTDS*/"Play video"),b[6]=c):c=b[6];b[7]!==i?(c={ariaLabel:c,handler:i,overlayLabel:""},b[7]=i,b[8]=c):c=b[8];return c}b[9]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Pause reel"),b[9]=i):i=b[9];b[10]!==a?(c={ariaLabel:i,handler:a,overlayLabel:""},b[10]=a,b[11]=c):c=b[11];return c}g["default"]=a}),226);
__d("usePolarisVideoShowPlayButton",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=d("VideoPlayerHooks"))).usePlaying(),b=h.usePaused(),c=h.useIsTransitioningToNextLoop();return!a&&b&&!c}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ACSCipherSuiteModule",[],(function(a,b,c,d,e,f){"use strict";b={hash:"SHA-512",name:"HMAC"};c={curveName:"RISTRETTO",macAlgorithm:b,value:1};var g=new Map([[c.value,c]]);function a(a){return g.has(a)?g.get(a):null}f.VOPRF_RISTRETTO_HMACSHA512=c;f.getACSCipherSuiteByValue=a}),66);
__d("ACSTokenHmacUtil",["XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h(a,b).then(function(a){return j(a,c)})}function h(a,b){return d("XPlatReactCrypto").subtleImportKey("raw",b,a,!1,["sign"]).then(function(b){return{algo:a,key:b}})}function i(a){return typeof a.hash==="string"?a.hash:a.hash.name}function j(a,b){var c=a.algo;a=a.key;c={hash:i(c),name:"HMAC"};return d("XPlatReactCrypto").subtleSign(c,a,b).then(function(a){return new Uint8Array(a)})}g.hmac=a}),98);
__d("GetBlobFromInt64BE",["I64","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=new Uint8Array(8);e.reduceRight(function(a,b,c){b=(i||(i=d("I64"))).to_int32(i.mod_(a,i.of_string("256")));e[c]=b;return i.div(a,i.of_string("256"))},a);return(h||(h=b("Promise"))).resolve(c("LSResult")(e.buffer))}g.GetBlobFromInt64BE=a}),98);
__d("LSACSExperimentCapability",[],(function(a,b,c,d,e,f){a=Object.freeze({RETRY_AFTER_TASK_SERIALIZATION_FAILURE_EXPONENTIAL_BACKOFF:0,BUMP_TOKEN_SYNC_TASK_AT_TASK_SERIALIZATION:1,INSERT_PENDING_TASK_PARENT_ROW_WHEN_NO_ACS_TOKENS_AT_TASK_INSERTION:2});f["default"]=a}),66);
__d("LSBeginHandlingFireForgetTasksForQueue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return c[0]=b.createArray(),b.forEach(b.filter(b.db.table(5).fetch(),function(b){return b.queueName===a[0]}),function(a){a=a.item;return c[3]=new b.Map(),c[3].set("label",a.context),c[3].set("payload",a.taskValue),c[3].set("queue_name",a.queueName),c[3].set("task_id",a.taskId),c[3].set("failure_count",b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))?void 0:b.i64.cast([0,0])),c[4]=(c[0].push(c[3]),c[0])})},function(e){return c[1]=new b.Map(),c[1].set("tasks",c[0]),c[1].set("epoch_id",void 0),c[2]=new b.Map(),c[2].set("queue_name",a[0]),c[2].set("next_sync_ms",void 0),c[2].set("work_item_type",b.i64.cast([0,5])),c[2].set("network_payload",c[1]),c[2].set("http_url_override",void 0),c[2].set("skip_realtime_gateway",!1),d[0]=c[2]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreBeginHandlingFireForgetTasksForQueueStoredProcedure";a.__tables__=["pending_fire_and_forget_tasks"];e.exports=a}),null);
__d("LSBeginHandlingFireForgetTasksForQueueStoredProcedure",["LSBeginHandlingFireForgetTasksForQueue","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBeginHandlingFireForgetTasksForQueue"),e.queueName);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSForceTaskExecutionImmediately",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,c[1]=b.i64.of_float(Date.now()),b.i64.lt(c[1],e.minTimeToSyncTimestampMs)?b.forEach(b.db.table(2).fetch([[[a[0]]]]),function(a){var c=a.update;a=a.item;return c({minTimeToSyncTimestampMs:b.i64.cast([0,0]),failureCount:b.i64.add(a.failureCount,b.i64.cast([0,1]))})}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreForceTaskExecutionImmediatelyStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSRemoveUsedTokens",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(309).fetch(),function(a){return b.i64.le(a.redeemLimit,b.i64.cast([0,0]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSAnonymousCredentialsRemoveUsedTokensStoredProcedure";a.__tables__=["secure_acs_tokens"];e.exports=a}),null);
__d("LSGetCurrentTokenPoolState",["LSArrayGetObjectAt","LSRemoveBlindedTokens","LSRemoveUsedTokens"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),d[1]=c.createArray(),c.count(c.filter(c.db.table(307).fetch(),function(b){return b.projectName===a[0]})).then(function(a){return d[2]=a})},function(b){return c.forEach(c.filter(c.db.table(307).fetch(),function(b){return b.projectName===a[0]}),function(a){a=a.item;return d[7]=a.configId,c.i64.gt(d[0],a.expirationTimestampMs)?c.forEach(c.db.table(307).fetch([[[d[7]]]]),function(a){return a["delete"]()}):c.resolve(d[8]=(d[1].push(d[7]),d[1]))})},function(a){return c.storedProcedure(b("LSRemoveUsedTokens"))},function(a){return d[3]=c.i64.cast([0,0]),d[4]=c.i64.of_int32(d[1].length),c.i64.gt(d[4],c.i64.cast([0,0]))?c.loopAsync(d[4],function(a){return d[7]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[1],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(a){return c.count(c.filter(c.db.table(309).fetch(),function(a){return a.configId===d[8]})).then(function(a){return d[10]=a})},function(a){return d[3]=c.i64.add(d[10],d[3]),c.storedProcedure(b("LSRemoveBlindedTokens"),d[8])}])}):c.resolve()},function(a){return c.i64.gt(d[2],c.i64.cast([0,0]))?(d[7]=c.i64.of_int32(d[1].length),d[5]=c.i64.ge(d[7],c.i64.cast([0,1]))):d[5]=void 0,d[5]!==void 0?(d[5]?(c.i64.gt(d[3],c.i64.cast([0,0]))?d[8]=c.i64.cast([0,3]):d[8]=c.i64.cast([0,2]),d[7]=d[8]):d[7]=c.i64.cast([0,1]),d[6]=d[7]):d[6]=c.i64.cast([0,0]),a=[d[6],d[3]],e[0]=a[0],e[1]=a[1]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsGetCurrentTokenPoolStateStoredProcedure";a.__tables__=["secure_acs_configurations","secure_acs_tokens"];e.exports=a}),null);
__d("LSVoprfBlind.nop",["XPlatReactVoprf","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield d("XPlatReactVoprf").loadXPlatReactVoprf());b=a.voprfInstance;a=b.voprfInfo;var e=b.voprfWasm;try{e=e.blind(a,new Uint8Array(c));return[e.blindedElement.buffer,e.blindingFactor.buffer]}catch(a){throw a}finally{d("XPlatReactVoprf").freeVoprfInstance(b)}});function c(b,c,d){return a.apply(this,arguments)}return c}();a.__nop_name__="LSVoprfBlind";g["default"]=a}),98);
__d("LSVoprfCreateNonce.nop",["LSSynchronousPromise","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h=32;a=function(a,b){a=h;b=new Uint8Array(a);d("XPlatReactCrypto").getRandomValues(b);return d("LSSynchronousPromise").makeSynchronousPromise([b.buffer])};a.__nop_name__="LSVoprfCreateNonce";g["default"]=a}),98);
__d("LSTaskSerializerAcsIssueNextSync",["LSBase64Encode.nop","LSGetCurrentTokenPoolState","LSIssueNextSync","LSVoprfBlind.nop","LSVoprfCreateNonce.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.db.table(310).fetch([[[a[0]]]]).next().then(function(a,e){var f=a.done;a=a.value;return f?(function(a){c.logger(a).mustfix(a)}("Request context for the passed task_id was not found"),f=[void 0,void 0,void 0],d[0]=f[0],d[1]=f[1],d[2]=f[2]):(e=a.item,c.sequence([function(a){return d[9]=e.projectName,d[10]=e.maxClientTokenPoolSize,c.storedProcedure(b("LSGetCurrentTokenPoolState"),d[9]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(a){return c.i64.eq(d[4],c.i64.cast([0,0]))||c.i64.eq(d[4],c.i64.cast([0,1]))?c.resolve((d[11]=new c.Map(),d[11].set("project_name",d[9]),d[12]=c.toJSON(d[11]),a=[d[12],c.i64.cast([0,351]),void 0],d[6]=a[0],d[7]=a[1],d[8]=a[2])):c.sequence([function(a){return d[11]=c.i64.of_float(Date.now()),c.islc(c.sortBy(c.filter(c.db.table(307).fetch(),function(a){return a.projectName===d[9]&&c.i64.gt(a.expirationTimestampMs,d[11])}),[["expirationTimestampMs","DESC"]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var a=e.done;e=e.value;return a?(function(a){c.logger(a).mustfix(a)}("A config for the passed project name was not found"),d[16]=new c.Map(),d[16].set("project_name",d[9]),d[16].set("max_client_token_pool_size",d[10]),d[17]=c.toJSON(d[16]),a=[d[17],c.i64.cast([0,362]),void 0],d[12]=a[0],d[13]=a[1],d[14]=a[2]):(f=e.item,c.sequence([function(a){return d[24]=f.configId,d[16]=f.maxEvals,d[26]=f.tokenPollFrequencyMs,d[25]=f.maxClientTokenPoolSize,d[17]=c.i64.sub(d[10],d[5]),d[23]=c.i64.lt(d[16],d[17])?d[16]:d[17],d[18]=c.createArray(),c.i64.gt(d[23],c.i64.cast([0,0]))?c.loopAsync(d[23],function(a){return d[27]=a,c.sequence([function(a){return c.nativeOperation(b("LSVoprfCreateNonce.nop")).then(function(a){return a=a,d[28]=a[0],a})},function(a){return c.blobs.neq(d[28],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSVoprfBlind.nop"),d[28]).then(function(a){return a=a,d[29]=a[0],d[30]=a[1],a})},function(a){return c.blobs.neq(d[29],void 0)?c.blobs.neq(d[30],void 0)?c.sequence([function(a){return d[31]=c.i64.cast([-1,4294967295]),c.db.table(308).peekNextAutoIncrementId().then(function(a){return d[31]=a})},function(a){return c.db.table(308).add({tokenId:void 0,blindedNonce:d[29],blindingFactor:d[30],nonce:d[28],configId:d[24]})},function(a){return c.db.table(308).fetch([[[d[31]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[32]=c.i64.cast([-1,4294967295]):(e=b.item,d[32]=e.tokenId)})},function(a){return c.i64.eq(d[32],c.i64.cast([-1,4294967295]))?c.sequence([function(a){return c.islc(c.db.table(308).fetchDesc([[[{gt:c.i64.cast([0,0])}]]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,e){var a=b.done;b=b.value;return a?d[37]=c.i64.cast([-1,4294967295]):(e=b.item,d[37]=e.tokenId)})},function(a){return d[34]=d[37]}]):c.resolve(d[34]=d[32])},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[29]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[36]=new c.Map(),d[36].set("id",d[34]),d[36].set("data",d[35]==null?"":d[35]),d[37]=(d[18].push(d[36]),d[18])}]):c.resolve():c.resolve()}]):c.resolve()}])}):c.resolve()},function(a){return d[19]=c.i64.of_int32(d[18].length),c.i64.gt(d[19],c.i64.cast([0,0]))?c.resolve((d[27]=new c.Map(),d[27].set("project_name",d[9]),d[27].set("config_id",d[24]),d[27].set("blinded_nonces",d[18]),d[28]=c.toJSON(d[27]),a=[d[28],c.i64.cast([0,354]),void 0],d[20]=a[0],d[21]=a[1],d[22]=a[2])):c.sequence([function(a){return c.i64.neq(d[26],void 0)?c.sequence([function(a){return c.i64.neq(d[25],void 0)?c.sequence([function(a){return function(a){c.logger(a).info(a)}(["Already have the max number of tokens. Scheduling next ACS token sync locally for project: ",d[9]].join("")),c.storedProcedure(b("LSIssueNextSync"),d[25],d[9],d[26],!1)},function(a){return a=[void 0,void 0,void 0],d[30]=a[0],d[31]=a[1],d[32]=a[2],a}]):c.resolve((function(a){c.logger(a).info(a)}(["token_poll_frequency is nonnull but max_client_token_pool_size is null. Already have the max number of tokens. Scheduling the next ACS token sync for project: ",d[9]].join("")),d[33]=new c.Map(),d[33].set("project_name",d[9]),d[33].set("max_client_token_pool_size",d[10]),d[34]=c.toJSON(d[33]),a=[d[34],c.i64.cast([0,362]),void 0],d[30]=a[0],d[31]=a[1],d[32]=a[2]))},function(a){return a=[d[30],d[31],d[32]],d[27]=a[0],d[28]=a[1],d[29]=a[2],a}]):c.resolve((function(a){c.logger(a).info(a)}(["Already have the max number of tokens. Scheduling the next ACS token sync for project: ",d[9]].join("")),d[30]=new c.Map(),d[30].set("project_name",d[9]),d[30].set("max_client_token_pool_size",d[10]),d[31]=c.toJSON(d[30]),a=[d[31],c.i64.cast([0,362]),void 0],d[27]=a[0],d[28]=a[1],d[29]=a[2]))},function(a){return a=[d[27],d[28],d[29]],d[20]=a[0],d[21]=a[1],d[22]=a[2],a}])},function(a){return a=[d[20],d[21],d[22]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return a=[d[12],d[13],d[14]],d[6]=a[0],d[7]=a[1],d[8]=a[2],a}])},function(a){return a=[d[6],d[7],d[8]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}]))})},function(a){return a=[d[0],d[1],d[2]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsTaskSerializerAcsIssueNextSyncStoredProcedure";a.__tables__=["acs_request_context","secure_acs_configurations","secure_acs_blinded_tokens"];e.exports=a}),null);
__d("LSTaskSerializerDeleteChatHistory",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("taskSerializerDeleteChatHistory: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2]):(e=d.item,b.sequence([function(a){return c[8]=e.threadKey,b.db.table(9).fetch([[[c[8]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?(c[9]=b.createArray(),c[10]=(c[9].push("taskSerializerDeleteChatHistory: Thread not found"),c[9]),c[11]=(c[9].push(c[8]),c[9]),c[12]=b.toJSON(c[9]),function(a){b.logger(a).mustfix(a)}(c[12]),d=[void 0,void 0,void 0],c[4]=d[0],c[5]=d[1],c[6]=d[2]):(a.item,b.sequence([function(a){return b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[9]=b.i64.cast([0,1]):(e=d.item,c[14]=e.syncGroup,b.i64.neq(c[14],void 0)?c[13]=c[14]:c[13]=b.i64.cast([0,1]),c[9]=c[13])})},function(a){return c[11]=new b.Map(),c[11].set("thread_key",c[8]),c[11].set("sync_group",c[9]),c[12]=b.toJSON(c[11]),a=[c[12],b.i64.cast([0,903]),void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2]}]))})},function(a){return a=[c[4],c[5],c[6]],c[0]=a[0],c[1]=a[1],c[2]=a[2],a}]))})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxTaskSerializerDeleteChatHistoryStoredProcedure";a.__tables__=["threads_optimistic_context","threads"];e.exports=a}),null);
__d("LSTaskSerializerE2eeMessageIntegrityCheckV2",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,c.i64.cast([0,705]),void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],c.resolve(d)}a.__sproc_name__="LSEncryptedBackupsTaskSerializerE2eeMessageIntegrityCheckV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerE2eeMetadataThreadIntegrityCheck",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,c.i64.cast([0,700]),void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],c.resolve(d)}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTaskSerializerE2eeMetadataThreadIntegrityCheckStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupAction",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,c.i64.cast([0,319]),void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],c.resolve(d)}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupActionStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsLoopingUpload",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsLoopingUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure] LSEncryptedBackupsLoopingUploadPayloadsTable table not found"),d[3]="LSEncryptedBackupsLoopingUploadPayloadsTable table not found",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure] ","",d[3]].join("")),d[2]=c.createArray(),void 0!==void 0?d[10]=(d[2].push(void 0),d[2]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure",d[3],d[2],c.i64.cast([0,3]))},function(a){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[4],d[0])),d[9]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsLoopingUpload] ",d[6],d[7],d[6],d[8],d[6],d[9]].join("")),c.i64.eq(c.i64.mod_(d[5],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsLoopingUpload",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()},function(a){return a=['{"request_id":"unknown","upload_type":"FBN","payload":{"error_code":2,"operation":"","error_message":"","__typename":"MPSUploadFailurePayload"}}',c.i64.cast([0,50043]),void 0],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSQueryLocalPersistenceStoreForBackup.nop",["Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.local_message_persistence_store).filter(function(a){var b=a.offlineThreadingId;a=a.threadId;return a===e&&f===b})));if(c.length===0)return(h||(h=b("Promise"))).resolve([void 0,void 0,!1]);a=c[0];return(h||(h=b("Promise"))).resolve([a.messagePayload,a.messageTimestampMs,!1])});function c(b,c,d,e){return a.apply(this,arguments)}return c}();a.__nop_name__="LSQueryLocalPersistenceStoreForBackup";g["default"]=a}),98);
__d("LSQueryLocalPersistenceStoreSupplementalForBackup.nop",["Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){c=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.local_message_persistence_store_supplemental).filter(function(a){var b=a.supplementalKey,c=a.threadId;a=a.toplevelOfflineThreadingId;return c===e&&a===f&&b===g})));return c==null?(h||(h=b("Promise"))).resolve([void 0,void 0]):(h||(h=b("Promise"))).resolve([c.messagePayload,c.messageTimestampMs])});function c(b,c,d,e,f){return a.apply(this,arguments)}return c}();a.__nop_name__="LSQueryLocalPersistenceStoreSupplementalForBackup";g["default"]=a}),98);
__d("LSQueryLocalPersistenceStoreTagsForBackup.nop",["LSVec","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=":";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){e=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.local_message_persistence_store_tag_index.index("offlineThreadingId")).getKeyRange(g,f)));if(e==null)return(h||(h=b("Promise"))).resolve([c("LSVec").ofArray([])]);a=e.tag;return(h||(h=b("Promise"))).resolve([c("LSVec").ofArray(a.split(i))])});function e(b,c,d,e){return a.apply(this,arguments)}return e}();a.__nop_name__="LSQueryLocalPersistenceStoreTagsForBackup";g["default"]=a}),98);
__d("LSLoadUnencryptedProtobufWithInputs",["LSBase64Encode.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop","LSQueryLocalPersistenceStoreForBackup.nop","LSQueryLocalPersistenceStoreSupplementalForBackup.nop","LSQueryLocalPersistenceStoreTagsForBackup.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadUnencryptedProtobufWithInputs] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.i64.eq(a[0],c.i64.cast([0,1]))?c.sequence([function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[10]=a[0],d[11]=a[1],d[12]=a[2],a})},function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[13]=a[0],a})},function(e){return c.blobs.neq(d[10],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[10]).then(function(a){return a=a,d[16]=a[0],a})},function(b){return d[16]!==void 0?(d[13]!==void 0?(d[21]=new c.Map(),d[21].set("message_tags",d[13]),d[22]=c.toJSON(d[21]),d[19]=d[22]):d[19]=void 0,d[20]=new c.Map(),d[20].set("backup_action",a[0]),d[20].set("protobuf_encrypted",d[16]),d[20].set("supplemental_data_encrypted",void 0),d[20].set("timestamp_ms",a[4]),d[20].set("message_tags",d[19]),b=[d[20],void 0],d[17]=b[0],d[18]=b[1]):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_FORMATTING_FAILED"),d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,68])),d[19].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[19].set("error_message",""),b=[void 0,d[19]],d[17]=b[0],d[18]=b[1]),b=[d[17],d[18]],d[14]=b[0],d[15]=b[1]}]):c.resolve((d[12]?(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_ALREADY_DELETED"),d[18]=new c.Map(),d[18].set("error_code",c.i64.cast([0,70])),d[18].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[18].set("error_message",""),e=[void 0,d[18]],d[16]=e[0],d[17]=e[1]):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_TOPLEVEL_TABLE"),d[18]=new c.Map(),d[18].set("error_code",c.i64.cast([0,63])),d[18].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[18].set("error_message",""),e=[void 0,d[18]],d[16]=e[0],d[17]=e[1]),e=[d[16],d[17]],d[14]=e[0],d[15]=e[1]))},function(a){return a=[d[14],d[15]],d[2]=a[0],d[3]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([0,2]))?c.sequence([function(e){return a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreSupplementalForBackup.nop"),a[1],a[2],a[3]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[16]=a[0],a})},function(e){return c.blobs.neq(d[14],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[3]).then(function(a){return a=a,d[19]=a[0],a})},function(e){return c.blobs.neq(d[19],void 0)?c.sequence([function(a){return d[22]=new c.Map(),d[22].set("sk_ciphertext",d[19]),d[22].set("sk_hash",d[19]),c.nativeOperation(b("LSBase64Encode.nop"),d[14]).then(function(a){return a=a,d[23]=a[0],a})},function(b){return d[23]!==void 0?(d[16]!==void 0?(d[28]=new c.Map(),d[28].set("message_tags",d[16]),d[29]=c.toJSON(d[28]),d[26]=d[29]):d[26]=void 0,d[27]=new c.Map(),d[27].set("backup_action",a[0]),d[27].set("protobuf_encrypted",d[23]),d[27].set("supplemental_data_encrypted",d[22]),d[27].set("timestamp_ms",a[4]),d[27].set("message_tags",d[26]),b=[d[27],void 0],d[24]=b[0],d[25]=b[1]):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_FORMATTING_FAILED"),d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,68])),d[26].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[26].set("error_message",""),b=[void 0,d[26]],d[24]=b[0],d[25]=b[1]),b=[d[24],d[25]],d[20]=b[0],d[21]=b[1]}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error SUPPLEMENTAL_FORMATTING_FAILED"),d[22]=new c.Map(),d[22].set("error_code",c.i64.cast([0,69])),d[22].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[22].set("error_message",""),e=[void 0,d[22]],d[20]=e[0],d[21]=e[1]))},function(a){return a=[d[20],d[21]],d[17]=a[0],d[18]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_SUPPLEMENTAL_TABLE"),d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,64])),d[19].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[19].set("error_message",""),e=[void 0,d[19]],d[17]=e[0],d[18]=e[1]))},function(a){return a=[d[17],d[18]],d[12]=a[0],d[13]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error SUPPLEMENTAL_KEY_NOT_SET_IN_CONTEXT_TABLE"),d[14]=new c.Map(),d[14].set("error_code",c.i64.cast([0,65])),d[14].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[14].set("error_message",""),e=[void 0,d[14]],d[12]=e[0],d[13]=e[1]))},function(a){return a=[d[12],d[13]],d[10]=a[0],d[11]=a[1],a}]):c.resolve((c.i64.eq(a[0],c.i64.cast([0,3]))?(d[14]=new c.Map(),d[14].set("backup_action",a[0]),d[14].set("protobuf_encrypted",void 0),d[14].set("supplemental_data_encrypted",void 0),d[14].set("timestamp_ms",a[4]),d[14].set("message_tags",void 0),e=[d[14],void 0],d[12]=e[0],d[13]=e[1]):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error INVALID_BACKUP_OPERATION"),d[14]=new c.Map(),d[14].set("error_code",c.i64.cast([-1,4294967289])),d[14].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[14].set("error_message",""),e=[void 0,d[14]],d[12]=e[0],d[13]=e[1]),e=[d[12],d[13]],d[10]=e[0],d[11]=e[1]))},function(a){return a=[d[10],d[11]],d[2]=a[0],d[3]=a[1],a}])},function(a){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[4],d[0])),d[9]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadUnencryptedProtobufWithInputs] ",d[6],d[7],d[6],d[8],d[6],d[9]].join("")),c.i64.eq(c.i64.mod_(d[5],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadUnencryptedProtobufWithInputs",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSLoadUnencryptedProtobufBackupSerializedPayloadData",["LSLoadUnencryptedProtobufWithInputs","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){var e;return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadUnencryptedProtobufBackupSerializedPayloadData] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[18]=c.i64.mul(d[1],c.i64.cast([0,1e6])),c.sequence([function(b){return c.db.table(2).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(d[30]=c.i64.of_float(Date.now()),f=[a[0],void 0,void 0,void 0,void 0,c.i64.sub(c.i64.mul(d[30],c.i64.cast([0,1e6])),d[18]),void 0],d[22]=f[0],d[23]=f[1],d[24]=f[2],d[25]=f[3],d[26]=f[4],d[27]=f[5],d[28]=f[6]):(e=b.item,d[30]=c.i64.of_float(Date.now()),f=[a[0],e.queueName,e.enqueueTimestampMs,e.priority,e.firstExecutedTimestampMs,c.i64.sub(c.i64.mul(d[30],c.i64.cast([0,1e6])),d[18]),void 0],d[22]=f[0],d[23]=f[1],d[24]=f[2],d[25]=f[3],d[26]=f[4],d[27]=f[5],d[28]=f[6])})},function(a){return a=[d[22],d[23],d[24],d[25],d[26],d[27],d[28]],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],a}])},function(e){return d[9]=new c.Map(),d[9].set("task_id",d[2]),d[9].set("queue_name",d[3]),d[9].set("enqueue_timestamp_ms",d[4]),d[9].set("priority",d[5]),d[9].set("first_executed_timestamp_ms",d[6]),d[9].set("execution_time_ns",d[7]),d[9].set("echo_encoding_execution_time_ns",d[8]),d[10]=new c.Map(),d[10].set("task_metadata",d[9]),d[10].set("action_type",void 0),d[10].set("content_type",void 0),d[10].set("identifiers",void 0),d[10].set("identifiers_v2",void 0),d[10].set("task_creation_source",void 0),d[10].set("message_payload_source",c.i64.cast([0,2])),c.filter(c.db.table(305).fetch(),function(b){return c.i64.eq(b.pendingBackupTaskId,a[0])}).next().then(function(e,f){var g=e.done;e=e.value;return g?(d[22]=new c.Map(),d[22].set("error_code",c.i64.cast([0,5])),d[22].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufBackupSerializedPayloadDataStoredProcedure"),d[22].set("error_message",""),g=[void 0,d[22],d[10]],d[11]=g[0],d[12]=g[1],d[13]=g[2]):(f=e.item,c.sequence([function(b){var e;return d[39]=f.actThreadId,d[40]=f.toplevelOfflineThreadingId,d[23]=f.messageTimestampMs,d[22]=new c.Map(),d[22].set("backup_id","openEbUploadGenericBackupId"),d[22].set("act_thread_id",d[39]),d[22].set("server_thread_id",d[39]),d[22].set("timestamp",c.i64.to_string(d[23])),d[22].set("otid",d[40]),d[24]=new c.Map(),d[24].set("backup_id","openEbUploadGenericBackupId"),d[24].set("act_thread_id",d[39]),d[24].set("timestamp",c.i64.to_string(d[23])),d[24].set("otid",d[40]),c.sequence([function(b){return c.db.table(2).fetch([[[a[0]]]]).next().then(function(e,f){var b=e.done;e=e.value;return b?(d[49]=c.i64.of_float(Date.now()),b=[a[0],void 0,void 0,void 0,void 0,c.i64.sub(c.i64.mul(d[49],c.i64.cast([0,1e6])),d[18]),void 0],d[41]=b[0],d[42]=b[1],d[43]=b[2],d[44]=b[3],d[45]=b[4],d[46]=b[5],d[47]=b[6]):(f=e.item,d[49]=c.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,c.i64.sub(c.i64.mul(d[49],c.i64.cast([0,1e6])),d[18]),void 0],d[41]=b[0],d[42]=b[1],d[43]=b[2],d[44]=b[3],d[45]=b[4],d[46]=b[5],d[47]=b[6])})},function(a){return a=[d[41],d[42],d[43],d[44],d[45],d[46],d[47]],d[25]=a[0],d[26]=a[1],d[27]=a[2],d[28]=a[3],d[29]=a[4],d[30]=a[5],d[31]=a[6],a}])},function(a){return d[32]=new c.Map(),d[32].set("task_id",d[25]),d[32].set("queue_name",d[26]),d[32].set("enqueue_timestamp_ms",d[27]),d[32].set("priority",d[28]),d[32].set("first_executed_timestamp_ms",d[29]),d[32].set("execution_time_ns",d[30]),d[32].set("echo_encoding_execution_time_ns",d[31]),d[33]=new c.Map(),d[33].set("task_metadata",d[32]),d[33].set("action_type",void 0),d[33].set("content_type",void 0),d[33].set("identifiers",void 0),d[33].set("identifiers_v2",d[24]),d[33].set("task_creation_source",void 0),d[33].set("message_payload_source",c.i64.cast([0,2])),c.storedProcedure(b("LSLoadUnencryptedProtobufWithInputs"),f.backupAction,d[39],d[40],f.supplementalKey,d[23],d[22]).then(function(a){return a=a,d[34]=a[0],d[35]=a[1],a})},function(a){return d[34]!==void 0?(d[41]=new c.Map(),d[41].set("unencrypted_protobuf_backup_payload",d[34]),d[41].set("message_identifiers",d[22]),d[41].set("attachment_backup_payload",f.attachmentPayload),d[41].set("sender_id",f.senderId),d[41].set("extra_data_for_eb_upload",void 0),a=[d[41],void 0,d[33]],d[36]=a[0],d[37]=a[1],d[38]=a[2]):(a=[void 0,d[35],d[33]],d[36]=a[0],d[37]=a[1],d[38]=a[2],a),a=[d[36],d[37],d[38]],d[11]=a[0],d[12]=a[1],d[13]=a[2]}]))})},function(a){return d[15]=c.i64.of_float(Date.now()),d[16]=c.i64.random(),d[19]="Finishing execution. Execution time: ",d[20]=c.i64.to_string(c.i64.sub(d[15],d[0])),d[21]=" ms",d[17]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadUnencryptedProtobufBackupSerializedPayloadData] ",d[17],d[19],d[17],d[20],d[17],d[21]].join("")),c.i64.eq(c.i64.mod_(d[16],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[22]=",",d[23]=c.createArray(),void 0!==void 0?d[24]=(d[23].push(void 0),d[23]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadUnencryptedProtobufBackupSerializedPayloadData",[d[19],d[22],d[20],d[22],d[21]].join(""),d[23],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[11],d[12],d[13]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsLoadUnencryptedProtobufBackupSerializedPayloadDataStoredProcedure";a.__tables__=["pending_tasks","pending_protobuf_backups_context"];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsOpenUpload",["LSArrayGetObjectAt","LSBase64Encode.nop","LSDeserializeFromJsonIntoDictionaryV2.nop","LSLoadUnencryptedProtobufBackupSerializedPayloadData","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsOpenUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSLoadUnencryptedProtobufBackupSerializedPayloadData"),a[0]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],d[4]=a[2],a})},function(a){return d[2]!==void 0?c.sequence([function(a){return d[15]=d[2].get("message_identifiers"),d[16]=d[2].get("unencrypted_protobuf_backup_payload"),d[17]=d[15].get("server_thread_id"),d[18]=d[15].get("timestamp"),d[19]=d[15].get("otid"),d[20]=d[15].get("act_thread_id"),d[21]=new c.Map(),d[21].set("server_thread_key",d[17]),d[21].set("timestamp",d[18]),d[21].set("otid",d[19]),d[21].set("wa_thread_id",c.i64.from_string(d[20])),d[22]=new c.Map(),d[22].set("message_identifiers",d[21]),d[23]=d[2].get("extra_data_for_eb_upload"),d[23]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),d[23]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=new c.Map(),d[34]=d[32].keys(),d[35]=c.i64.of_int32(d[34].length),c.i64.gt(d[35],c.i64.cast([0,0]))?c.loopAsync(d[35],function(a){return d[36]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[34],d[36]).then(function(a){return a=a,d[37]=a[0],d[38]=a[1],a})},function(a){return d[39]=d[32].get(d[37]),d[33].set(d[37],d[39])}])}):c.resolve()},function(a){return d[24]=d[33]}]):c.resolve(d[24]=void 0)},function(a){return d[24]!==void 0?c.sequence([function(a){return d[32]=d[24].get("mt"),d[32]?d[33]=!1:d[33]=!0,d[33]?c.resolve(d[34]=void 0):c.sequence([function(a){return d[36]=new c.Map(),d[37]=d[32].keys(),d[38]=c.i64.of_int32(d[37].length),c.i64.gt(d[38],c.i64.cast([0,0]))?c.loopAsync(d[38],function(a){return d[39]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[37],d[39]).then(function(a){return a=a,d[40]=a[0],d[41]=a[1],a})},function(a){return d[42]=d[32].get(d[40]),d[36].set(d[40],d[42])}])}):c.resolve()},function(a){return d[34]=d[36]}])},function(a){return d[34]!==void 0?(d[36]=c.toJSON(d[34]),d[35]=d[36]):d[35]=void 0,d[25]=d[35]}]):c.resolve(d[25]=void 0)},function(a){return d[26]=d[16].get("supplemental_data_encrypted"),d[26]!==void 0?c.sequence([function(a){return d[32]=d[16].get("protobuf_encrypted"),d[33]=d[16].get("backup_action"),d[34]=d[16].get("timestamp_ms"),d[35]=d[26].get("sk_ciphertext"),c.nativeOperation(b("LSBase64Encode.nop"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[37]=d[26].get("sk_hash"),c.nativeOperation(b("LSBase64Encode.nop"),d[37]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=new c.Map(),d[39].set("supplementary_data_key",void 0),d[39].set("encrypted_protobuf",d[32]),d[39].set("key_value_backup_action",d[33]),d[39].set("protobuf_ts_ms",d[34]),d[39].set("supplemental_key_ciphertext",d[36]),d[39].set("supplemental_key_hash",d[38]),d[39].set("message_tags",d[25]),d[27]=d[39]}]):c.resolve((d[32]=d[16].get("protobuf_encrypted"),d[33]=d[16].get("backup_action"),d[34]=d[16].get("timestamp_ms"),d[35]=new c.Map(),d[35].set("supplementary_data_key",void 0),d[35].set("encrypted_protobuf",d[32]),d[35].set("key_value_backup_action",d[33]),d[35].set("protobuf_ts_ms",d[34]),d[35].set("message_tags",d[25]),d[27]=d[35]))},function(a){return d[22].set("key_value_backup_unencrypted_payload",d[27]),d[28]=d[2].get("sender_id"),d[22].set("sender_id",d[28]),d[29]=d[2].get("attachment_backup_payload"),d[29]!==void 0?d[22].set("attachment_backup_payload",d[29]):0,d[24]!==void 0?c.sequence([function(a){return d[32]=d[24].get("ttd"),d[32]?d[33]=!1:d[33]=!0,d[33]?c.resolve(d[34]=void 0):c.sequence([function(a){return d[36]=new c.Map(),d[37]=d[32].keys(),d[38]=c.i64.of_int32(d[37].length),c.i64.gt(d[38],c.i64.cast([0,0]))?c.loopAsync(d[38],function(a){return d[39]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[37],d[39]).then(function(a){return a=a,d[40]=a[0],d[41]=a[1],a})},function(a){return d[42]=d[32].get(d[40]),d[36].set(d[40],d[42])}])}):c.resolve()},function(a){return d[34]=d[36]}])},function(a){return d[34]!==void 0?(d[36]=c.toJSON(d[34]),d[35]=d[36]):d[35]=void 0,d[30]=d[35]}]):c.resolve(d[30]=void 0)},function(a){return d[30]!==void 0?d[22].set("tags_to_delete",d[30]):0,d[31]=c.toJSON(d[22]),a=[d[31],void 0,d[4]],d[5]=a[0],d[6]=a[1],d[7]=a[2]}]):c.resolve((d[3]?d[15]=!1:d[15]=!0,d[15]?(a=[void 0,void 0,d[4]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a):(a=[void 0,d[3],d[4]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a),a=[d[16],d[17],d[18]],d[5]=a[0],d[6]=a[1],d[7]=a[2]))},function(a){return d[15]=new c.Map(),d[16]=d[15].set("success",d[5]),d[17]=d[15].set("failure",d[6]),d[18]=d[15].set("context",d[7]),d[19]=c.toJSON(d[15]),d[8]=d[19],d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsOpenUpload] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsOpenUpload",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[8],c.i64.cast([0,50048])],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsOpenUploadStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsRestoreWithSerializer",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,void 0,void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],c.resolve(d)}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSDeriveValueSecretRefV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][deriveValueSecretRefV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=a[2].get("message_payload_encryption_keys"),d[3]=d[2].get("encryption_version"),d[4]=d[2].get("epoch_anon_id"),d[5]=d[2].get("epoch_root_key"),d[6]=d[2].get("payload_key"),d[7]=c.createArray(),d[41]=(d[7].push(c.i64.cast([0,6])),d[7]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_anon_id_debug").then(function(a){return a=a,d[8]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[8],void 0,d[4],d[7]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!1:d[10]=!0,d[10]?c.resolve(d[11]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[9],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[11]=d[43]==null?"":d[43]}])},function(a){return d[12]=c.createArray(),d[41]=(d[12].push(c.i64.cast([0,6])),d[12]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_debug").then(function(a){return a=a,d[13]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[13],void 0,d[5],d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!1:d[15]=!0,d[15]?c.resolve(d[16]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[16]=d[43]==null?"":d[43]}])},function(a){return d[17]=c.createArray(),d[41]=(d[17].push(c.i64.cast([0,6])),d[17]),c.nativeOperation(b("LSGetBlobFromString.nop"),"message_key_debug").then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[18],void 0,d[6],d[17]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[20]=!1:d[20]=!0,d[20]?c.resolve(d[21]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[21]=d[43]==null?"":d[43]}])},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[22]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),[d[22]==null?"":d[22],a[0]].join("")).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[24]=c.createArray(),d[41]=(d[24].push(c.i64.cast([0,6])),d[24]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_thread_id_debug").then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[25],void 0,d[23],d[24]).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[26]?d[27]=!1:d[27]=!0,d[27]?c.resolve(d[28]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[26],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[28]=d[43]==null?"":d[43]}])},function(a){return d[29]=":",c.blobs.neq(d[5],void 0)?c.sequence([function(a){return d[41]=c.createArray(),d[47]=(d[41].push(c.i64.cast([0,18])),d[41]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,d[5],d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[42]!==void 0?c.sequence([function(a){return d[47]=c.i64.of_int32(d[42].length),c.i64.ge(d[47],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[42],c.i64.cast([0,0])).then(function(a){return a=a,d[49]=a[0],d[50]=a[1],a})},function(a){return d[48]=d[49]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[50]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",d[50]].join("")),d[49]=c.createArray(),void 0!==void 0?d[51]=(d[49].push(void 0),d[49]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",d[50],d[49],c.i64.cast([0,3]))},function(a){return d[48]=void 0}])},function(a){return d[43]=d[48]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[48]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",d[48]].join("")),d[47]=c.createArray(),void 0!==void 0?d[49]=(d[47].push(void 0),d[47]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",d[48],d[47],c.i64.cast([0,3]))},function(a){return d[43]=void 0}])},function(a){return c.blobs.neq(d[43],void 0)?d[44]=!0:d[44]=!1,d[44]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nativeOperation(b("LSBase64Encode.nop"),d[43]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]!==void 0?d[46]=d[45]:d[46]="encodingfailed",d[30]=d[46]}]):c.resolve(d[30]="null")},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[4]).then(function(a){return a=a,d[31]=a[0],a})},function(e){return d[32]=new c.Map(),d[32].set("encryption_version",d[3]),d[32].set("epoch_anon_id",d[31]==null?"":d[31]),d[32].set("message_encryption_values",[d[11],d[29],d[16],d[29],d[21],d[29],d[28]].join("")),d[32].set("root_key_fingerprint",d[30]),d[32].set("backup_id",a[1]),d[33]=c.toJSON(d[32]),d[34]=new c.Map(),d[34].set("value_secret_ref",d[33]),d[35]=c.i64.of_float(Date.now()),d[36]=c.i64.random(),d[38]="Finishing execution. Execution time: ",d[39]=c.i64.to_string(c.i64.sub(d[35],d[0])),d[40]=" ms",d[37]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][deriveValueSecretRefV2] ",d[37],d[38],d[37],d[39],d[37],d[40]].join("")),c.i64.eq(c.i64.mod_(d[36],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[41]=",",d[42]=c.createArray(),void 0!==void 0?d[43]=(d[42].push(void 0),d[42]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"deriveValueSecretRefV2",[d[38],d[41],d[39],d[41],d[40]].join(""),d[42],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[34],void 0],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsDeriveValueSecretRefV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSGetBlobFromInt64BE.nop",["GetBlobFromInt64BE"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c){return d("GetBlobFromInt64BE").GetBlobFromInt64BE(c)};a.__nop_name__="LSGetBlobFromInt64BE";g["default"]=a}),98);
__d("OrderPreservingEncryption",["FBLogger","LSCryptoUtils","LSSynchronousPromise","Promise","UInt8Array","WACryptoHkdfSync","XPlatReactCrypto","gkx","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){return d("XPlatReactCrypto").getRandomValues(new Uint8Array(32)).buffer}function j(a){var b=a.length;return b%2!==0?"0"+a:a}function k(a){a=BigInt(a);var b=j(a.toString(16));a=b.length;a=a/2;var c=[];for(var d=0;d<a;++d)c.push(d*2);return new Uint8Array(c.map(function(a){var c=a+2;return b.slice(a,c)}).map(function(a){return parseInt(a,16)}))}function l(a){a=a.map(function(a){return a._0});return{_0:d("UInt8Array").concatBytes(a)}}function m(a){return"OPE key has length "+String(a)+", expected  "+String(32)}function n(a,b,e){var f=new ArrayBuffer(0);if(c("gkx")("13860"))try{var g=d("WACryptoHkdfSync").hkdf(a,d("LSCryptoUtils").bufToUint8(f),d("LSCryptoUtils").bufToUint8(b.buffer),e);return d("LSSynchronousPromise").makeSynchronousPromise({_0:g})}catch(a){c("FBLogger")("wmi_eb").mustfix("hkdf failed at OrderPreservingEncryption");throw a}return d("XPlatReactCrypto").subtleImportKey("raw",a.buffer,"HKDF",!1,["deriveKey","deriveBits"]).then(function(a){return d("XPlatReactCrypto").subtleDeriveBits({hash:"SHA-256",info:b.buffer,name:"HKDF",salt:f},a,e*8)}).then(function(a){return{_0:d("LSCryptoUtils").bufToUint8(a)}})}function o(a,b){return{_0:d("LSCryptoUtils").modAddBytes(a._0,b)}}function p(a,e,f,g){var j=f.byteLength;if(j!==32)throw c("FBLogger")("wmi_eb").mustfixThrow(m(j));var k=g.byteLength,p=function(a,b){var c=new Uint8Array(1+k),d=new Uint8Array(k-b).fill(0);c.set([b]);c.set(a.subarray(0,b),1);c.set(d,b+1);return c};if(k>=255)throw c("FBLogger")("wmi_eb").mustfixThrow("Input is too large");j=Array.from(g).map(function(b,c){c=p(g,c);var e=new Uint8Array(a);e[a-1]=b;b=d("LSCryptoUtils").bufToUint8(f);return n(b,c,a).then(function(a){return o(a,e)})}).map(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise);j=(i||(i=c("isPromise")))(j[0])?(h||(h=b("Promise"))).all(j):d("LSSynchronousPromise").makeSynchronousPromise(j);return j.then(function(a){return d("UInt8Array").concatBytes([new Uint8Array([e]),l(a)._0])})}function e(a,b,c,d){d=k(d);return p(a,b,c,d)}g.keyGen=a;g.intStringToBEBytes=k;g.buildKeyLengthErrorMsg=m;g.encryptBigEndianBytes=p;g.encryptIntString=e}),98);
__d("OpeEncrypt",["CryptoLogger","I64","LSResult","OrderPreservingEncryption"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=d("CryptoLogger").CryptoLogger("ope_encrypt");return d("OrderPreservingEncryption").encryptBigEndianBytes((h||(h=d("I64"))).to_int32(e),1,a,new Uint8Array(b)).then(function(a){return c("LSResult")(a.buffer)},function(a){d("CryptoLogger").captureError(f,a).mustfix("OpeEncrypt_impl failed");throw a})}g.OpeEncrypt=a}),98);
__d("LSOpeEncrypt.nop",["OpeEncrypt"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f){return d("OpeEncrypt").OpeEncrypt(c,e,f)};a.__nop_name__="LSOpeEncrypt";g["default"]=a}),98);
__d("TruncateSortKey",["CryptoLogger","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("CryptoLogger").CryptoLogger("truncate_sort_key");function a(a){if(a.byteLength!==8)throw i.mustfixThrow("Bad length on sort key for truncation");var d=new Uint8Array(a);d=d.subarray(0,2);if(d.some(function(a){return a!==0}))throw i.mustfixThrow("Bad prefix on sort key for truncation");return(h||(h=b("Promise"))).resolve(c("LSResult")(a.slice(2)))}g.TruncateSortKey=a}),98);
__d("LSTruncateSortKey.nop",["TruncateSortKey"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c){return d("TruncateSortKey").TruncateSortKey(c)};a.__nop_name__="LSTruncateSortKey";g["default"]=a}),98);
__d("LSEncryptIdentifiersV2",["LSBase64Encode.nop","LSBinaryToHex.nop","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][encryptIdentifiersV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=a[6].get("ocmf_shared_key"),c.nativeOperation(b("LSGetBlobFromString.nop"),a[2]).then(function(a){return a=a,d[3]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[3]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[2],d[4]).then(function(a){return a=a,d[5]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[6]=a[0],a})},function(e){return c.i64.eq(a[0],c.i64.cast([0,2]))&&c.i64.eq(a[1],c.i64.cast([0,2]))?d[7]=a[5]:d[7]=a[3],d[8]=a[6].get("ocmf_shared_key"),c.nativeOperation(b("LSGetBlobFromString.nop"),d[7]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[9]).then(function(a){return a=a,d[10]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[8],d[10]).then(function(a){return a=a,d[11]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[11]).then(function(a){return a=a,d[12]=a[0],a})},function(e){return d[13]=a[6].get("ope_key"),c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[4]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[14]).then(function(a){return a=a,d[15]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[13],d[15],c.i64.cast([0,16])).then(function(a){return a=a,d[16]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[16]).then(function(a){return a=a,d[17]=a[0],a})},function(e){return d[18]=a[6].get("ocmf_shared_key"),c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[19]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[18],d[20]).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[21]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[23]=new c.Map(),d[23].set("backup_id_ocmf_partial",d[6]==null?"":d[6]),d[23].set("act_thread_id_ocmf_partial",d[12]==null?"":d[12]),d[23].set("timestamp_encrypted",d[17]==null?"":d[17]),d[23].set("otid_ocmf_partial",d[22]==null?"":d[22]),d[24]=c.i64.of_float(Date.now()),d[25]=c.i64.random(),d[27]="Finishing execution. Execution time: ",d[28]=c.i64.to_string(c.i64.sub(d[24],d[0])),d[29]=" ms",d[26]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][encryptIdentifiersV2] ",d[26],d[27],d[26],d[28],d[26],d[29]].join("")),c.i64.eq(c.i64.mod_(d[25],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[30]=",",d[31]=c.createArray(),void 0!==void 0?d[32]=(d[31].push(void 0),d[31]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"encryptIdentifiersV2",[d[27],d[30],d[28],d[30],d[29]].join(""),d[31],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[23],void 0],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsEncryptIdentifiersV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSEncryptMessagePayloadV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop","LSSymmetricEncryptionCreateEncryptedString.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][encryptMessagePayloadV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=a[2].get("message_payload_encryption_keys"),d[3]=d[2].get("payload_key"),c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),d[3],c.blobs.of_string(["message_thread","_",a[1]].join("")),a[3]).then(function(a){return a=a,d[4]=a[0],a})},function(e){return d[4]!==void 0?c.sequence([function(a){return d[13]=d[2].get("encryption_version"),d[14]=d[2].get("epoch_anon_id"),d[15]=d[2].get("epoch_root_key"),d[16]=d[2].get("payload_key"),d[17]=c.createArray(),d[45]=(d[17].push(c.i64.cast([0,6])),d[17]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_anon_id_debug").then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[18],void 0,d[14],d[17]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[20]=!1:d[20]=!0,d[20]?c.resolve(d[21]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[21]=d[47]==null?"":d[47]}])},function(a){return d[22]=c.createArray(),d[45]=(d[22].push(c.i64.cast([0,6])),d[22]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_debug").then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[23],void 0,d[15],d[22]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[25]=!1:d[25]=!0,d[25]?c.resolve(d[26]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[24],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[26]=d[47]==null?"":d[47]}])},function(a){return d[27]=c.createArray(),d[45]=(d[27].push(c.i64.cast([0,6])),d[27]),c.nativeOperation(b("LSGetBlobFromString.nop"),"message_key_debug").then(function(a){return a=a,d[28]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[28],void 0,d[16],d[27]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[29]?d[30]=!1:d[30]=!0,d[30]?c.resolve(d[31]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[29],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[31]=d[47]==null?"":d[47]}])},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[15]).then(function(a){return a=a,d[32]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),[d[32]==null?"":d[32],a[1]].join("")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[34]=c.createArray(),d[45]=(d[34].push(c.i64.cast([0,6])),d[34]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_thread_id_debug").then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[35],void 0,d[33],d[34]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[37]=!1:d[37]=!0,d[37]?c.resolve(d[38]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[36],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[38]=d[47]==null?"":d[47]}])},function(a){return d[39]=":",c.blobs.neq(d[15],void 0)?c.sequence([function(a){return d[45]=c.createArray(),d[51]=(d[45].push(c.i64.cast([0,18])),d[45]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,d[15],d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[46]!==void 0?c.sequence([function(a){return d[51]=c.i64.of_int32(d[46].length),c.i64.ge(d[51],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[46],c.i64.cast([0,0])).then(function(a){return a=a,d[53]=a[0],d[54]=a[1],a})},function(a){return d[52]=d[53]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[54]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",d[54]].join("")),d[53]=c.createArray(),void 0!==void 0?d[55]=(d[53].push(void 0),d[53]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",d[54],d[53],c.i64.cast([0,3]))},function(a){return d[52]=void 0}])},function(a){return d[47]=d[52]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[52]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",d[52]].join("")),d[51]=c.createArray(),void 0!==void 0?d[53]=(d[51].push(void 0),d[51]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",d[52],d[51],c.i64.cast([0,3]))},function(a){return d[47]=void 0}])},function(a){return c.blobs.neq(d[47],void 0)?d[48]=!0:d[48]=!1,d[48]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nativeOperation(b("LSBase64Encode.nop"),d[47]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return d[49]!==void 0?d[50]=d[49]:d[50]="encodingfailed",d[40]=d[50]}]):c.resolve(d[40]="null")},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[14]).then(function(a){return a=a,d[41]=a[0],a})},function(b){return d[42]=new c.Map(),d[42].set("encryption_version",d[13]),d[42].set("epoch_anon_id",d[41]==null?"":d[41]),d[42].set("message_encryption_values",[d[21],d[39],d[26],d[39],d[31],d[39],d[38]].join("")),d[42].set("root_key_fingerprint",d[40]),d[42].set("backup_id",a[0]),d[43]=c.toJSON(d[42]),d[44]=new c.Map(),d[44].set("encrypted_message_payload",d[4]),d[44].set("value_secret_ref",d[43]),b=[d[44],void 0],d[5]=b[0],d[6]=b[1]}]):c.resolve((d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,40])),d[13].set("stored_procedure","LSEncryptedBackupsEncryptMessagePayloadV2StoredProcedure"),d[13].set("error_message",""),e=[void 0,d[13]],d[5]=e[0],d[6]=e[1]))},function(a){return d[7]=c.i64.of_float(Date.now()),d[8]=c.i64.random(),d[10]="Finishing execution. Execution time: ",d[11]=c.i64.to_string(c.i64.sub(d[7],d[0])),d[12]=" ms",d[9]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][encryptMessagePayloadV2] ",d[9],d[10],d[9],d[11],d[9],d[12]].join("")),c.i64.eq(c.i64.mod_(d[8],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[13]=",",d[14]=c.createArray(),void 0!==void 0?d[15]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"encryptMessagePayloadV2",[d[10],d[13],d[11],d[13],d[12]].join(""),d[14],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[5],d[6]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsEncryptMessagePayloadV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSLoadAndEncryptProtobufWithInputsV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSLogMebClientEvent.nop","LSQueryLocalPersistenceStoreForBackup.nop","LSQueryLocalPersistenceStoreSupplementalForBackup.nop","LSQueryLocalPersistenceStoreTagsForBackup.nop","LSSymmetricEncryptionCreateEncryptedData.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadAndEncryptProtobufWithInputsV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.i64.eq(a[0],c.i64.cast([0,1]))?c.sequence([function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[10]=a[0],d[11]=a[1],d[12]=a[2],a})},function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[13]=a[0],a})},function(e){return d[14]=new c.Map(),d[14].set("message_tags",d[13]),d[15]=new c.Map(),d[15].set("mt",d[14]),c.blobs.neq(d[10],void 0)?c.sequence([function(e){return d[18]=a[5].get("message_payload_encryption_keys"),d[19]=d[18].get("payload_key"),c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),d[19],c.blobs.of_string(["message_thread","_",a[1]].join("")),d[10]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.blobs.neq(d[20],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[20]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[21]=d[24]}]):c.resolve(d[21]=void 0)},function(e){return d[21]!==void 0?c.sequence([function(a){return d[15]!==void 0?c.sequence([function(a){return d[27]=d[15].get("mt"),d[27]?d[28]=!1:d[28]=!0,d[28]?c.resolve(d[29]=void 0):c.sequence([function(a){return d[31]=new c.Map(),d[32]=d[27].keys(),d[33]=c.i64.of_int32(d[32].length),c.i64.gt(d[33],c.i64.cast([0,0]))?c.loopAsync(d[33],function(a){return d[34]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[32],d[34]).then(function(a){return a=a,d[35]=a[0],d[36]=a[1],a})},function(a){return d[37]=d[27].get(d[35]),d[31].set(d[35],d[37])}])}):c.resolve()},function(a){return d[29]=d[31]}])},function(a){return d[29]!==void 0?(d[31]=c.toJSON(d[29]),d[30]=d[31]):d[30]=void 0,d[24]=d[30]}]):c.resolve(d[24]=void 0)},function(b){return d[15]!==void 0?(d[27]=d[15].get("mooos"),d[25]=d[27]):d[25]=void 0,d[26]=new c.Map(),d[26].set("backup_action",a[0]),d[26].set("protobuf_encrypted",d[21]),d[26].set("supplemental_data_encrypted",void 0),d[26].set("timestamp_ms",a[4]),d[26].set("message_tags",d[24]),d[26].set("serialized_attachment_backup_payload",void 0),d[26].set("maybe_ooo_supplemental_upload",d[25]),b=[d[26],void 0],d[22]=b[0],d[23]=b[1]}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ENCRYPTION_FAILED"),d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,62])),d[24].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[24].set("error_message",""),e=[void 0,d[24]],d[22]=e[0],d[23]=e[1]))},function(a){return a=[d[22],d[23]],d[16]=a[0],d[17]=a[1],a}]):c.resolve((d[12]?(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ALREADY_DELETED"),d[20]=new c.Map(),d[20].set("error_code",c.i64.cast([0,70])),d[20].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[20].set("error_message",""),e=[void 0,d[20]],d[18]=e[0],d[19]=e[1]):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_TOPLEVEL_TABLE"),d[20]=new c.Map(),d[20].set("error_code",c.i64.cast([0,63])),d[20].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[20].set("error_message",""),e=[void 0,d[20]],d[18]=e[0],d[19]=e[1]),e=[d[18],d[19]],d[16]=e[0],d[17]=e[1]))},function(a){return a=[d[16],d[17]],d[2]=a[0],d[3]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([0,2]))?c.sequence([function(e){return a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreSupplementalForBackup.nop"),a[1],a[2],a[3]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[16]=a[0],a})},function(e){return d[17]=new c.Map(),d[17].set("message_tags",d[16]),d[18]=new c.Map(),d[18].set("mt",d[17]),c.blobs.neq(d[14],void 0)?c.sequence([function(e){return a[3]!==void 0?c.sequence([function(e){return d[23]=a[5].get("mailbox_root_key_v2"),c.blobs.neq(d[23],void 0)?c.sequence([function(e){return d[26]=a[5].get("message_payload_encryption_keys"),d[27]=d[26].get("epoch_root_key"),d[28]=c.createArray(),d[41]=(d[28].push(c.i64.cast([0,32])),d[28]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5zdXBwbGVtZW50YWxfcHJmX2tleQ=="),void 0,d[23],d[28]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[29]!==void 0?c.sequence([function(a){return d[41]=c.i64.of_int32(d[29].length),c.i64.ge(d[41],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[29],c.i64.cast([0,0])).then(function(a){return a=a,d[43]=a[0],d[44]=a[1],a})},function(a){return d[42]=d[43]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[44]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[44]].join("")),d[43]=c.createArray(),void 0!==void 0?d[45]=(d[43].push(void 0),d[43]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[44],d[43],c.i64.cast([0,3]))},function(a){return d[42]=void 0}])},function(a){return d[30]=d[42]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[42]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[42]].join("")),d[41]=c.createArray(),void 0!==void 0?d[43]=(d[41].push(void 0),d[41]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[42],d[41],c.i64.cast([0,3]))},function(a){return d[30]=void 0}])},function(a){return c.blobs.neq(d[30],void 0)?d[31]=!0:d[31]=!1,d[31]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d[32]=c.createArray(),d[41]=(d[32].push(c.i64.cast([0,32])),d[32]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5zdXBwbGVtZW50YWxfZW5jX2tleQ=="),void 0,d[27],d[32]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[33]!==void 0?c.sequence([function(a){return d[41]=c.i64.of_int32(d[33].length),c.i64.ge(d[41],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[33],c.i64.cast([0,0])).then(function(a){return a=a,d[43]=a[0],d[44]=a[1],a})},function(a){return d[42]=d[43]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[44]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[44]].join("")),d[43]=c.createArray(),void 0!==void 0?d[45]=(d[43].push(void 0),d[43]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[44],d[43],c.i64.cast([0,3]))},function(a){return d[42]=void 0}])},function(a){return d[34]=d[42]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[42]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[42]].join("")),d[41]=c.createArray(),void 0!==void 0?d[43]=(d[41].push(void 0),d[41]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[42],d[41],c.i64.cast([0,3]))},function(a){return d[34]=void 0}])},function(e){return c.blobs.neq(d[34],void 0)?d[35]=!0:d[35]=!1,d[35]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nativeOperation(b("LSGetBlobFromString.nop"),a[3]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),d[30],d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),d[34],c.blob("c3VwcGxlbWVudGFsX2VuY19hYWQ="),d[36]).then(function(a){return a=a,d[38]=a[0],a})},function(e){return c.blobs.neq(d[38],void 0)?c.sequence([function(e){return d[41]=new c.Map(),d[41].set("sk_ciphertext",d[38]),d[41].set("sk_hash",d[37]),d[42]=a[5].get("message_payload_encryption_keys"),d[43]=d[42].get("payload_key"),c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),d[43],c.blobs.of_string(["message_thread","_",a[1]].join("")),d[14]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.blobs.neq(d[44],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[44]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[45]=d[48]}]):c.resolve(d[45]=void 0)},function(e){return d[45]!==void 0?c.sequence([function(a){return d[18]!==void 0?c.sequence([function(a){return d[51]=d[18].get("mt"),d[51]?d[52]=!1:d[52]=!0,d[52]?c.resolve(d[53]=void 0):c.sequence([function(a){return d[55]=new c.Map(),d[56]=d[51].keys(),d[57]=c.i64.of_int32(d[56].length),c.i64.gt(d[57],c.i64.cast([0,0]))?c.loopAsync(d[57],function(a){return d[58]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[56],d[58]).then(function(a){return a=a,d[59]=a[0],d[60]=a[1],a})},function(a){return d[61]=d[51].get(d[59]),d[55].set(d[59],d[61])}])}):c.resolve()},function(a){return d[53]=d[55]}])},function(a){return d[53]!==void 0?(d[55]=c.toJSON(d[53]),d[54]=d[55]):d[54]=void 0,d[48]=d[54]}]):c.resolve(d[48]=void 0)},function(b){return d[18]!==void 0?(d[51]=d[18].get("mooos"),d[49]=d[51]):d[49]=void 0,d[50]=new c.Map(),d[50].set("backup_action",a[0]),d[50].set("protobuf_encrypted",d[45]),d[50].set("supplemental_data_encrypted",d[41]),d[50].set("timestamp_ms",a[4]),d[50].set("message_tags",d[48]),d[50].set("serialized_attachment_backup_payload",void 0),d[50].set("maybe_ooo_supplemental_upload",d[49]),b=[d[50],void 0],d[46]=b[0],d[47]=b[1]}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ENCRYPTION_FAILED"),d[48]=new c.Map(),d[48].set("error_code",c.i64.cast([0,62])),d[48].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[48].set("error_message",""),e=[void 0,d[48]],d[46]=e[0],d[47]=e[1]))},function(a){return a=[d[46],d[47]],d[39]=a[0],d[40]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error SUPPLEMENTAL_ENCRYPTION_FAILED"),d[41]=new c.Map(),d[41].set("error_code",c.i64.cast([0,66])),d[41].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[41].set("error_message",""),e=[void 0,d[41]],d[39]=e[0],d[40]=e[1]))},function(a){return a=[d[39],d[40]],d[24]=a[0],d[25]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error NULL_MAILBOX_ROOT_KEY_V2"),d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,27])),d[26].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[26].set("error_message",""),e=[void 0,d[26]],d[24]=e[0],d[25]=e[1]))},function(a){return a=[d[24],d[25]],d[21]=a[0],d[22]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error SUPPLEMENTAL_KEY_NOT_SET_IN_CONTEXT_TABLE"),d[23]=new c.Map(),d[23].set("error_code",c.i64.cast([0,65])),d[23].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[23].set("error_message",""),e=[void 0,d[23]],d[21]=e[0],d[22]=e[1]))},function(a){return a=[d[21],d[22]],d[19]=a[0],d[20]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_SUPPLEMENTAL_TABLE"),d[21]=new c.Map(),d[21].set("error_code",c.i64.cast([0,64])),d[21].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[21].set("error_message",""),e=[void 0,d[21]],d[19]=e[0],d[20]=e[1]))},function(a){return a=[d[19],d[20]],d[12]=a[0],d[13]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error SUPPLEMENTAL_KEY_NOT_SET_IN_CONTEXT_TABLE"),d[14]=new c.Map(),d[14].set("error_code",c.i64.cast([0,65])),d[14].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[14].set("error_message",""),e=[void 0,d[14]],d[12]=e[0],d[13]=e[1]))},function(a){return a=[d[12],d[13]],d[10]=a[0],d[11]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([0,4]))?c.sequence([function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],d[16]=a[2],a})},function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[17]=a[0],a})},function(e){return d[18]=new c.Map(),d[18].set("message_tags",d[17]),d[19]=new c.Map(),d[19].set("mt",d[18]),c.blobs.neq(d[14],void 0)?c.sequence([function(e){return d[22]=a[5].get("message_payload_encryption_keys"),d[23]=d[22].get("payload_key"),c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),d[23],c.blobs.of_string(["message_thread","_",a[1]].join("")),d[14]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return c.blobs.neq(d[24],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[24]).then(function(a){return a=a,d[28]=a[0],a})},function(a){return d[25]=d[28]}]):c.resolve(d[25]=void 0)},function(e){return d[25]!==void 0?c.sequence([function(a){return d[19]!==void 0?c.sequence([function(a){return d[31]=d[19].get("mt"),d[31]?d[32]=!1:d[32]=!0,d[32]?c.resolve(d[33]=void 0):c.sequence([function(a){return d[35]=new c.Map(),d[36]=d[31].keys(),d[37]=c.i64.of_int32(d[36].length),c.i64.gt(d[37],c.i64.cast([0,0]))?c.loopAsync(d[37],function(a){return d[38]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[36],d[38]).then(function(a){return a=a,d[39]=a[0],d[40]=a[1],a})},function(a){return d[41]=d[31].get(d[39]),d[35].set(d[39],d[41])}])}):c.resolve()},function(a){return d[33]=d[35]}])},function(a){return d[33]!==void 0?(d[35]=c.toJSON(d[33]),d[34]=d[35]):d[34]=void 0,d[28]=d[34]}]):c.resolve(d[28]=void 0)},function(b){return d[19]!==void 0?(d[31]=d[19].get("mooos"),d[29]=d[31]):d[29]=void 0,d[30]=new c.Map(),d[30].set("backup_action",a[0]),d[30].set("protobuf_encrypted",d[25]),d[30].set("supplemental_data_encrypted",void 0),d[30].set("timestamp_ms",a[4]),d[30].set("message_tags",d[28]),d[30].set("serialized_attachment_backup_payload",void 0),d[30].set("maybe_ooo_supplemental_upload",d[29]),b=[d[30],void 0],d[26]=b[0],d[27]=b[1]}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ENCRYPTION_FAILED"),d[28]=new c.Map(),d[28].set("error_code",c.i64.cast([0,62])),d[28].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[28].set("error_message",""),e=[void 0,d[28]],d[26]=e[0],d[27]=e[1]))},function(a){return a=[d[26],d[27]],d[20]=a[0],d[21]=a[1],a}]):c.resolve((d[16]?(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ALREADY_DELETED"),d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,70])),d[24].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[24].set("error_message",""),e=[void 0,d[24]],d[22]=e[0],d[23]=e[1]):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_TOPLEVEL_TABLE"),d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,63])),d[24].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[24].set("error_message",""),e=[void 0,d[24]],d[22]=e[0],d[23]=e[1]),e=[d[22],d[23]],d[20]=e[0],d[21]=e[1]))},function(a){return a=[d[20],d[21]],d[12]=a[0],d[13]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([0,3]))?c.sequence([function(a){return void 0!==void 0?c.sequence([function(a){return d[19]=(void 0).get("mt"),d[19]?d[20]=!1:d[20]=!0,d[20]?c.resolve(d[21]=void 0):c.sequence([function(a){return d[23]=new c.Map(),d[24]=d[19].keys(),d[25]=c.i64.of_int32(d[24].length),c.i64.gt(d[25],c.i64.cast([0,0]))?c.loopAsync(d[25],function(a){return d[26]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[24],d[26]).then(function(a){return a=a,d[27]=a[0],d[28]=a[1],a})},function(a){return d[29]=d[19].get(d[27]),d[23].set(d[27],d[29])}])}):c.resolve()},function(a){return d[21]=d[23]}])},function(a){return d[21]!==void 0?(d[23]=c.toJSON(d[21]),d[22]=d[23]):d[22]=void 0,d[16]=d[22]}]):c.resolve(d[16]=void 0)},function(b){return void 0!==void 0?(d[19]=(void 0).get("mooos"),d[17]=d[19]):d[17]=void 0,d[18]=new c.Map(),d[18].set("backup_action",a[0]),d[18].set("protobuf_encrypted",void 0),d[18].set("supplemental_data_encrypted",void 0),d[18].set("timestamp_ms",a[4]),d[18].set("message_tags",d[16]),d[18].set("serialized_attachment_backup_payload",void 0),d[18].set("maybe_ooo_supplemental_upload",d[17]),b=[d[18],void 0],d[14]=b[0],d[15]=b[1]}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error UNKNOWN_PROTOBUF_TYPE"),d[16]=new c.Map(),d[16].set("error_code",c.i64.cast([0,60])),d[16].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[16].set("error_message",""),e=[void 0,d[16]],d[14]=e[0],d[15]=e[1]))},function(a){return a=[d[14],d[15]],d[12]=a[0],d[13]=a[1],a}])},function(a){return a=[d[12],d[13]],d[10]=a[0],d[11]=a[1],a}])},function(a){return a=[d[10],d[11]],d[2]=a[0],d[3]=a[1],a}])},function(a){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[4],d[0])),d[9]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadAndEncryptProtobufWithInputsV2] ",d[6],d[7],d[6],d[8],d[6],d[9]].join("")),c.i64.eq(c.i64.mod_(d[5],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadAndEncryptProtobufWithInputsV2",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSLoadAndEncryptProtobufV2",["LSLoadAndEncryptProtobufWithInputsV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadAndEncryptProtobufV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(305).fetch(),function(b){return c.i64.eq(b.pendingBackupTaskId,a[0])}).next().then(function(e,f){var g=e.done;e=e.value;return g?(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure] Returning error PROTOBUF_CONTEXT_ROW_NOT_FOUND"),d[11]=new c.Map(),d[11].set("error_code",c.i64.cast([0,67])),d[11].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure"),d[11].set("error_message",""),g=[void 0,d[11]],d[2]=g[0],d[3]=g[1]):(f=e.item,c.sequence([function(e){return c.storedProcedure(b("LSLoadAndEncryptProtobufWithInputsV2"),f.backupAction,a[2],f.toplevelOfflineThreadingId,f.supplementalKey,f.messageTimestampMs,a[1]).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(a){return a=[d[11],d[12]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadAndEncryptProtobufV2] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadAndEncryptProtobufV2",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure";a.__tables__=["pending_protobuf_backups_context"];e.exports=a}),null);
__d("LSLogWebQpl.nop",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LogWebQplNOP").__setRef("LSLogWebQpl.nop");a=function(a,b,c,d,e,f,g,i){return h.load().then(function(a){return a.call(c,d,e,f,g,i)})};a.__nop_name__="LSLogWebQpl";g["default"]=a}),98);
__d("LSQplAnnotateBool.nop",["EBMarkerIdToQPLEvent","Promise","QPLUserFlow","WAHashStringToNumber","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f,g,i,j){try{a=c("nullthrows")(d("EBMarkerIdToQPLEvent").markerIdToQPLEvent(f));e=d("WAHashStringToNumber").hashStringToNumber(g);c("QPLUserFlow").addAnnotations(a,{bool:(f={},f[i]=j,f)},{instanceKey:e});return(h||(h=b("Promise"))).resolve()}catch(a){return(h||(h=b("Promise"))).resolve()}};a.__nop_name__="LSQplAnnotateBool";g["default"]=a}),98);
__d("LSSerializeBackupPayloadV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSDeriveValueSecretRefV2","LSEncryptIdentifiersV2","LSEncryptMessagePayloadV2","LSGetBlobFromString.nop","LSGetLatestEpochKeys","LSIsEncryptionVersionSecure","LSLoadAndEncryptProtobufV2","LSLogMebClientEvent.nop","LSLogWebQpl.nop","LSQplAnnotateBool.nop","LSQplAnnotateString.nop","LSQplMarkEnd.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(b){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][serializeBackupPayloadV2] Beginning execution."),e[1]=d.i64.of_float(Date.now()),e[19]=d.i64.mul(e[1],d.i64.cast([0,1e6])),e[2]=d.i64.random(),e[6]=d.i64.to_string(e[2]),d.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?e[3]=void 0:(b=a.item,e[3]=b.dataTraceId)})},function(a){return e[3]!==void 0?e[5]=e[3]:e[5]=void 0,e[6]!==void 0?d.nativeOperation(b("LSQplStartTrace.nop"),d.i64.cast([0,637746317]),e[6],!0,e[5]):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkPoint.nop"),d.i64.cast([0,637746317]),e[6],"LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure_start"):d.resolve()},function(a){return d.islc(d.filter(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))||!1}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(a,b){var c=a.done;a=a.value;return c?(e[23]=new d.Map(),e[23].set("error_msg","Expected a nonempty query result"),e[23].set("code",d.i64.cast([0,3])),e[23].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),e[24]=d.createArray(),e[25]=(e[24].push(e[23]),e[24]),c=[void 0,e[24]],e[7]=c[0],e[8]=c[1]):(b=a.item,e[23]=new d.Map(),e[23].set("backup_id",b.backupId),e[23].set("device_public_key_blob",b.devicePublicKeyBlob),e[23].set("device_private_key_blob",b.devicePrivateKeyBlob),e[23].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),e[23].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),e[23].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),e[23].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),e[23].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),e[23].set("ocmf_client_state_blob",b.ocmfClientStateBlob),e[23].set("orf_client_state_v2_blob",void 0),e[23].set("orf_v2_authority_level",void 0),e[23].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),e[23].set("device_id",b.deviceId),e[23].set("backup_tenancy",b.backupTenancy),e[23].set("encryption_version",b.encryptionVersion),e[23].set("revision_version",b.revisionVersion),e[23].set("initialize_restore_result",void 0),e[23].set("device_creation_timestamp_sec",void 0),e[23].set("authority_level",b.authorityLevel),c=[e[23],void 0],e[7]=c[0],e[8]=c[1])})},function(f){return e[10]=new d.Map(),e[10].set("value",e[7]),e[10].set("errors",e[8]),e[11]=e[10].get("value"),e[11]!==void 0?d.sequence([function(f){return e[23]=e[11].get("backup_id"),e[24]=e[11].get("device_public_key_blob"),e[25]=e[11].get("device_private_key_blob"),e[26]=e[11].get("epoch_storage_public_key_blob"),e[27]=e[11].get("epoch_storage_private_key_blob"),e[28]=e[11].get("epoch_auth_public_key_blob"),e[29]=e[11].get("epoch_auth_private_key_blob"),e[30]=e[11].get("mailbox_root_key_blob"),e[31]=e[11].get("ocmf_client_state_blob"),e[32]=e[11].get("orf_client_state_v2_blob"),e[33]=e[11].get("orf_v2_authority_level"),e[34]=e[11].get("oblivious_validation_token_blob"),e[35]=e[11].get("device_id"),e[36]=e[11].get("backup_tenancy"),e[37]=e[11].get("encryption_version"),e[38]=e[11].get("revision_version"),e[39]=e[11].get("initialize_restore_result"),e[40]=e[11].get("device_creation_timestamp_sec"),e[41]=e[11].get("authority_level"),d.i64.neq(e[35],void 0)?d.sequence([function(a){return e[46]=void 0,d.i64.neq(e[46],void 0)?d.resolve(e[47]=e[46]):d.sequence([function(a){return e[55]=d.createArray(),d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[56]=a[0],a})},function(a){return e[56]?e[65]=(e[55].push(d.i64.cast([0,0])),e[55]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[57]=a[0],a})},function(a){return e[57]?e[65]=(e[55].push(d.i64.cast([0,2])),e[55]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[58]=a[0],a})},function(a){return e[58]?e[65]=(e[55].push(d.i64.cast([0,3])),e[55]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[59]=a[0],a})},function(a){return e[59]?e[65]=(e[55].push(d.i64.cast([0,4])),e[55]):0,e[60]=d.createArray(),e[61]=d.i64.of_int32(e[55].length),d.i64.gt(e[61],d.i64.cast([0,0]))?d.loopAsync(e[61],function(a){return e[65]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[55],e[65]).then(function(a){return a=a,e[66]=a[0],e[67]=a[1],a})},function(a){return e[68]=(e[60].push(e[66]),e[60])}])}):d.resolve()},function(a){return d.sequence([function(a){return e[65]=d.createArray(),e[66]=d.i64.of_int32(e[60].length),d.i64.gt(e[66],d.i64.cast([0,0]))?d.loopAsync(e[66],function(a){return e[68]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[60],e[68]).then(function(a){return a=a,e[69]=a[0],e[70]=a[1],a})},function(a){return e[71]=(e[65].push(d.i64.to_string(e[69])),e[65])}])}):d.resolve()},function(a){return e[67]=e[65].join(","),e[62]=e[67]}])},function(a){return e[60].some(function(a){return d.i64.eq(e[37],a)})?e[63]=e[37]:e[63]=void 0,d.i64.neq(e[63],void 0)?e[64]=e[63]:e[64]=void 0,e[47]=e[64]}])},function(f){return d.i64.neq(e[47],void 0)?e[48]=e[47]:e[48]=d.i64.cast([0,0]),d.i64.neq(e[36],void 0)?e[49]=e[36]:e[49]=d.i64.cast([0,1]),d.db.table(177).fetch([[[a[0]]],"fk_pending_tasks"]).next().then(function(f,g){var h=f.done;f=f.value;return h?d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[67]=d.i64.of_float(Date.now()),b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[67],d.i64.cast([0,1e6])),e[19]),void 0],e[55]=b[0],e[56]=b[1],e[57]=b[2],e[58]=b[3],e[59]=b[4],e[60]=b[5],e[61]=b[6]):(f=c.item,e[67]=d.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[67],d.i64.cast([0,1e6])),e[19]),void 0],e[55]=b[0],e[56]=b[1],e[57]=b[2],e[58]=b[3],e[59]=b[4],e[60]=b[5],e[61]=b[6])})},function(a){return e[63]=new d.Map(),e[63].set("task_id",e[55]),e[63].set("queue_name",e[56]),e[63].set("enqueue_timestamp_ms",e[57]),e[63].set("priority",e[58]),e[63].set("first_executed_timestamp_ms",e[59]),e[63].set("execution_time_ns",e[60]),e[63].set("echo_encoding_execution_time_ns",e[61]),e[64]=new d.Map(),e[64].set("task_metadata",e[63]),e[64].set("action_type",void 0),e[64].set("content_type",void 0),e[64].set("identifiers",void 0),e[64].set("identifiers_v2",void 0),e[64].set("task_creation_source",void 0),e[64].set("message_payload_source",d.i64.cast([0,2])),e[65]=new d.Map(),e[65].set("error_code",d.i64.cast([0,5])),e[65].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[65].set("error_message","Pending backup context row not found"),e[65]!==void 0?(e[67]=e[65].get("stored_procedure"),e[68]=e[65].get("error_code"),e[69]=e[65].get("error_message"),e[70]=".",e[71]=[e[67],e[70],d.i64.to_string(e[68]),e[70],e[69]].join(""),e[6]!==void 0?e[71]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[71]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[67]=(void 0).get("stored_procedure"),e[68]=(void 0).get("error_code"),e[69]=(void 0).get("error_message"),e[70]=".",e[71]=[e[67],e[70],d.i64.to_string(e[68]),e[70],e[69]].join(""),e[6]!==void 0?e[71]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[71]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[66]=d.createArray(),a=[void 0,e[65],e[64],e[66]],e[50]=a[0],e[51]=a[1],e[52]=a[2],e[53]=a[3]}]):(g=f.item,d.sequence([function(b){return e[62]=g.actionType,e[63]=g.contentType,e[68]=g.echoContent,e[69]=g.lsTraceId,e[67]=g.echoEncodingLatencyNs,e[66]=g.attachmentPayload,e[70]=g.tamThreadSubtype,e[71]=g.isInstamadillo,e[55]=new d.Map(),e[55].set("backup_id",d.i64.to_string(e[23])),e[55].set("act_thread_id",g.listKey),e[55].set("timestamp",g.sortKey),e[55].set("otid",g.uniqueKey),d.filter(d.db.table(305).fetch(),function(b){return d.i64.eq(b.pendingBackupTaskId,a[0])}).next().then(function(b,c){var a=b.done;b=b.value;return a?e[56]=!1:(c=b.item,e[55].set("supplemental_otid",c.supplementalOfflineThreadingId),e[55].set("deletion_otid",c.deletionOfflineThreadingId),e[56]=!0)})},function(a){return e[65]=d.i64.eq(void 0,void 0),e[6]!==void 0?d.nativeOperation(b("LSQplAnnotateBool.nop"),d.i64.cast([0,637746317]),e[6],"should_run_device_timestamp_sync",e[65]):d.resolve()},function(f){return e[64]=g.error==null?d.i64.cast([0,0]):g.error,[d.i64.cast([0,0]),d.i64.cast([0,32])].some(function(a){return d.i64.eq(e[64],a)})?d.sequence([function(a){return e[72]=e[55].get("act_thread_id"),e[73]=e[55].get("otid"),d.storedProcedure(b("LSGetLatestEpochKeys"),!1).then(function(a){return a=a,e[74]=a[0],e[75]=a[1],a})},function(a){return e[74]!==void 0?d.sequence([function(a){return d.i64.eq(e[63],d.i64.cast([0,1]))?d.sequence([function(a){return e[85]=d.createArray(),e[90]=(e[85].push(d.i64.cast([0,32])),e[85]),d.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",e[72]].join("")).then(function(a){return a=a,e[86]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),e[86],void 0,e[30],e[85]).then(function(a){return a=a,e[87]=a[0],a})},function(a){return e[87]?e[88]=!1:e[88]=!0,e[88]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),e[91]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[91]].join("")),e[90]=d.createArray(),void 0!==void 0?e[92]=(e[90].push(void 0),e[90]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[91],e[90],d.i64.cast([0,3]))},function(a){return e[89]=void 0}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[87],d.i64.cast([0,0])).then(function(a){return a=a,e[90]=a[0],e[91]=a[1],a})},function(a){return e[89]=e[90]}])},function(a){return e[82]=e[89]}]):d.sequence([function(a){return d.i64.eq(e[62],d.i64.cast([0,2]))?d.sequence([function(a){return e[86]=d.createArray(),e[91]=(e[86].push(d.i64.cast([0,32])),e[86]),d.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",e[73]].join("")).then(function(a){return a=a,e[87]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),e[87],void 0,e[30],e[86]).then(function(a){return a=a,e[88]=a[0],a})},function(a){return e[88]?e[89]=!1:e[89]=!0,e[89]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),e[92]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[92]].join("")),e[91]=d.createArray(),void 0!==void 0?e[93]=(e[91].push(void 0),e[91]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[92],e[91],d.i64.cast([0,3]))},function(a){return e[90]=void 0}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[88],d.i64.cast([0,0])).then(function(a){return a=a,e[91]=a[0],e[92]=a[1],a})},function(a){return e[90]=e[91]}])},function(a){return e[85]=e[90]}]):d.resolve(e[85]=void 0)},function(a){return e[82]=e[85]}])},function(a){return d.blobs.neq(e[82],void 0)?d.sequence([function(a){return e[85]=e[74].get("epoch_keys"),e[86]=e[85].get("epoch_anon_id"),e[87]=e[85].get("epoch_root_key"),e[88]=d.createArray(),e[103]=(e[88].push(d.i64.cast([0,32])),e[88]),d.i64.ge(e[48],d.i64.cast([0,3]))?d.resolve(e[89]=void 0):d.sequence([function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),e[72]).then(function(a){return a=a,e[103]=a[0],a})},function(a){return e[89]=e[103]}])},function(a){return d.i64.ge(e[48],d.i64.cast([0,4]))?(e[103]="_",e[90]=["message_key_in_epoch",e[103],d.blobs.to_string(e[86]),e[103],"cipher_version",e[103],d.i64.to_string(e[48]),e[103],"thread",e[103],e[72]==null?"":e[72]].join("")):(d.i64.ge(e[48],d.i64.cast([0,3]))?(e[104]="_",e[103]=["message_key_in_epoch",e[104],d.blobs.to_string(e[86]),e[104],"cipher_version",e[104],d.i64.to_string(e[48]),e[104],"thread",e[104],e[72]==null?"":e[72]].join("")):(d.i64.ge(e[48],d.i64.cast([0,2]))?(e[105]="_",e[104]=["message_key_in_epoch",e[105],d.blobs.to_string(e[86]),e[105],"cipher_version",e[105],d.i64.to_string(e[48])].join("")):e[104]=["message_key_in_epoch","_",d.blobs.to_string(e[86])].join(""),e[103]=e[104]),e[90]=e[103]),d.nativeOperation(b("LSGetBlobFromString.nop"),e[90]).then(function(a){return a=a,e[91]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),e[91],e[89],e[87],e[88]).then(function(a){return a=a,e[92]=a[0],a})},function(a){return e[92]?e[93]=!1:e[93]=!0,e[93]?d.resolve(e[94]=void 0):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[92],d.i64.cast([0,0])).then(function(a){return a=a,e[103]=a[0],e[104]=a[1],a})},function(a){return e[94]=e[103]}])},function(a){return d.filter(d.db.table(169).fetch(),function(a){return d.blobs.eq(a.epochAnonIdBlob,d.blob("MA=="))}).next().then(function(b,c){var a=b.done;b=b.value;return a?(e[103]=new d.Map(),e[103].set("error_msg","Expected a nonempty query result"),e[103].set("code",d.i64.cast([0,3])),e[103].set("src_line","MEBEpochClientUtils.php:556 MEBEpochClientUtils::maybeEpochWithAnonIDFromPersistentEpochsTableDirectly()"),e[104]=d.createArray(),e[105]=(e[104].push(e[103]),e[104]),a=[void 0,e[104]],e[95]=a[0],e[96]=a[1]):(c=b.item,e[103]=new d.Map(),e[103].set("epoch_id",c.epochId),e[103].set("backup_id",c.backupId),e[103].set("epoch_anon_id_blob",c.epochAnonIdBlob),e[103].set("epoch_root_key_blob",c.epochRootKeyBlob),e[103].set("epoch_status",c.epochStatus),e[103].set("epoch_head",c.epochHead),e[103].set("authority_level",c.authorityLevel),a=[e[103],void 0],e[95]=a[0],e[96]=a[1])})},function(a){return e[98]=new d.Map(),e[98].set("value",e[95]),e[98].set("errors",e[96]),e[99]=e[98].get("value"),e[99]!==void 0?d.sequence([function(a){return e[103]=e[99].get("epoch_id"),e[104]=e[99].get("backup_id"),e[105]=e[99].get("epoch_anon_id_blob"),e[106]=e[99].get("epoch_root_key_blob"),e[107]=e[99].get("epoch_status"),e[108]=e[99].get("epoch_head"),e[109]=e[99].get("authority_level"),e[110]=d.createArray(),e[118]=(e[110].push(d.i64.cast([0,32])),e[110]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5zYWx0X21haWxib3hfcm9vdF9rZXlfdjI="),void 0,e[30],e[110]).then(function(a){return a=a,e[111]=a[0],a})},function(a){return e[111]!==void 0?d.sequence([function(a){return e[118]=d.i64.of_int32(e[111].length),d.i64.ge(e[118],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[111],d.i64.cast([0,0])).then(function(a){return a=a,e[120]=a[0],e[121]=a[1],a})},function(a){return e[119]=e[120]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[121]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[121]].join("")),e[120]=d.createArray(),void 0!==void 0?e[122]=(e[120].push(void 0),e[120]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[121],e[120],d.i64.cast([0,3]))},function(a){return e[119]=void 0}])},function(a){return e[112]=e[119]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[119]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[119]].join("")),e[118]=d.createArray(),void 0!==void 0?e[120]=(e[118].push(void 0),e[118]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[119],e[118],d.i64.cast([0,3]))},function(a){return e[112]=void 0}])},function(a){return d.blobs.neq(e[112],void 0)?e[113]=!0:e[113]=!1,e[113]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[114]=d.createArray(),e[118]=(e[114].push(d.i64.cast([0,32])),e[114]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5tYWlsYm94X3Jvb3Rfa2V5X3Yy"),e[112],e[106],e[114]).then(function(a){return a=a,e[115]=a[0],a})},function(a){return e[115]!==void 0?d.sequence([function(a){return e[118]=d.i64.of_int32(e[115].length),d.i64.ge(e[118],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[115],d.i64.cast([0,0])).then(function(a){return a=a,e[120]=a[0],e[121]=a[1],a})},function(a){return e[119]=e[120]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[121]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[121]].join("")),e[120]=d.createArray(),void 0!==void 0?e[122]=(e[120].push(void 0),e[120]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[121],e[120],d.i64.cast([0,3]))},function(a){return e[119]=void 0}])},function(a){return e[116]=e[119]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[119]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[119]].join("")),e[118]=d.createArray(),void 0!==void 0?e[120]=(e[118].push(void 0),e[118]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[119],e[118],d.i64.cast([0,3]))},function(a){return e[116]=void 0}])},function(a){return d.blobs.neq(e[116],void 0)?e[117]=!0:e[117]=!1,e[117]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[100]=e[116]}]):d.sequence([function(a){return e[103]=e[98].get("errors"),e[104]=e[98].get("errors"),function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBEpochClientUtils] Failed to get mailbox_root_key_v2: epoch 0 is not available."),e[106]="Failed to get mailbox_root_key_v2: epoch 0 is not available.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBEpochClientUtils] ","",e[106]].join("")),e[105]=d.createArray(),void 0!==void 0?e[107]=(e[105].push(void 0),e[105]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBEpochClientUtils",e[106],e[105],d.i64.cast([0,3]))},function(a){return e[100]=void 0}])},function(a){return d.blobs.neq(e[94],void 0)?d.sequence([function(a){return d.blobs.neq(e[100],void 0)?d.sequence([function(a){return e[109]=d.createArray(),e[113]=(e[109].push(d.i64.cast([0,32])),e[109]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5mYWxsYmFja19rZXk="),void 0,e[100],e[109]).then(function(a){return a=a,e[110]=a[0],a})},function(a){return e[110]!==void 0?d.sequence([function(a){return e[113]=d.i64.of_int32(e[110].length),d.i64.ge(e[113],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[110],d.i64.cast([0,0])).then(function(a){return a=a,e[115]=a[0],e[116]=a[1],a})},function(a){return e[114]=e[115]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[116]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[116]].join("")),e[115]=d.createArray(),void 0!==void 0?e[117]=(e[115].push(void 0),e[115]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[116],e[115],d.i64.cast([0,3]))},function(a){return e[114]=void 0}])},function(a){return e[111]=e[114]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[114]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[114]].join("")),e[113]=d.createArray(),void 0!==void 0?e[115]=(e[113].push(void 0),e[113]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[114],e[113],d.i64.cast([0,3]))},function(a){return e[111]=void 0}])},function(a){return d.blobs.neq(e[111],void 0)?e[112]=!0:e[112]=!1,e[112]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[103]=e[111]}]):d.resolve(e[103]=void 0)},function(a){return e[104]=e[85].get("epoch_root_key"),e[105]=e[85].get("epoch_anon_id"),e[106]=e[85].get("epoch_id"),e[107]=new d.Map(),e[107].set("payload_key",e[94]),e[107].set("payload_fallback_key",e[103]),e[107].set("encryption_version",e[48]),e[107].set("epoch_root_key",e[104]),e[107].set("epoch_anon_id",e[105]),e[107].set("epoch_id",e[106]),e[108]=new d.Map(),e[108].set("ope_key",e[82]),e[108].set("message_payload_encryption_keys",e[107]),e[108].set("ocmf_shared_key",e[31]),e[108].set("mailbox_base_salt",e[30]),e[108].set("mailbox_root_key_v2",e[100]),a=[e[108],void 0],e[101]=a[0],e[102]=a[1]}]):d.resolve((e[103]=new d.Map(),e[103].set("error_code",d.i64.cast([0,26])),e[103].set("stored_procedure","MEBKeyDeriver"),e[103].set("error_message",""),a=[void 0,e[103]],e[101]=a[0],e[102]=a[1]))},function(a){return a=[e[101],e[102]],e[83]=a[0],e[84]=a[1],a}]):d.resolve((e[85]=new d.Map(),e[85].set("error_code",d.i64.cast([0,25])),e[85].set("stored_procedure","MEBKeyDeriver"),e[85].set("error_message",""),a=[void 0,e[85]],e[83]=a[0],e[84]=a[1]))},function(a){return a=[e[83],e[84]],e[76]=a[0],e[77]=a[1],a}]):d.resolve((a=[void 0,e[75]],e[76]=a[0],e[77]=a[1],a))},function(f){return e[76]!==void 0?d.sequence([function(a){return e[82]=e[55].get("backup_id"),e[83]=e[55].get("act_thread_id"),e[84]=e[55].get("timestamp"),e[85]=e[55].get("otid"),d.storedProcedure(b("LSEncryptIdentifiersV2"),e[62],e[63],e[82],e[83],d.i64.from_string(e[84]),e[85],e[76]).then(function(a){return a=a,e[86]=a[0],e[87]=a[1],a})},function(f){return e[86]!==void 0?d.sequence([function(c){return e[92]=e[55].get("act_thread_id"),d.storedProcedure(b("LSLoadAndEncryptProtobufV2"),a[0],e[76],e[92]).then(function(a){return a=a,e[93]=a[0],e[94]=a[1],a})},function(f){return e[99]=d.i64.eq(e[64],d.i64.cast([0,32]))||!1||c("gkx")("12541")||!1,e[100]=e[93]!==void 0,e[99]&&e[100]?d.sequence([function(a){return e[101]=e[55].get("act_thread_id"),e[102]=e[55].get("backup_id"),d.storedProcedure(b("LSDeriveValueSecretRefV2"),e[101],e[102],e[76]).then(function(a){return a=a,e[103]=a[0],e[104]=a[1],a})},function(c){return e[93]!==void 0?d.sequence([function(c){return e[103]!==void 0?d.sequence([function(a){return e[113]=e[103].get("value_secret_ref"),e[114]=e[86].get("act_thread_id_ocmf_partial"),e[115]=e[86].get("otid_ocmf_partial"),e[116]=e[86].get("timestamp_encrypted"),e[117]=new d.Map(),e[117].set("list_key",e[114]),e[117].set("unique_key",e[115]),e[117].set("sort_key",e[116]),void 0!==void 0?(e[151]=(void 0).get("encrypted_message_payload"),e[152]=(void 0).get("value_secret_ref"),e[153]=new d.Map(),e[153].set("value",e[151]),e[153].set("value_secret_ref",e[152]),e[118]=e[153]):e[118]=void 0,e[119]=new d.Map(),e[119].set("list_item_id",e[117]),e[119].set("list_item",e[118]),e[119].set("action_type",e[62]),e[120]=e[55].get("timestamp"),e[121]=e[55].get("otid"),e[122]=e[55].get("act_thread_id"),e[123]=e[55].get("supplemental_otid"),e[124]=e[55].get("deletion_otid"),e[125]=new d.Map(),e[125].set("timestamp",e[120]),e[125].set("otid",e[121]),e[125].set("wa_thread_id",d.i64.from_string(e[122])),e[125].set("supplemental_otid",e[123]),e[125].set("deletion_otid",e[124]),e[126]=e[76].get("mailbox_base_salt"),d.nativeOperation(b("LSBase64Encode.nop"),e[126]).then(function(a){return a=a,e[127]=a[0],a})},function(a){return e[128]=e[76].get("ocmf_shared_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[128]).then(function(a){return a=a,e[129]=a[0],a})},function(a){return e[130]=new d.Map(),e[130].set("mailbox_root_key",e[127]==null?"":e[127]),e[130].set("ocmf_client_state_blob",e[129]==null?"":e[129]),e[131]=e[86].get("backup_id_ocmf_partial"),e[132]=e[76].get("message_payload_encryption_keys"),e[133]=e[132].get("epoch_id"),e[134]=e[76].get("message_payload_encryption_keys"),e[135]=e[134].get("encryption_version"),e[150]=e[69]==null?"":e[69],e[136]=new d.Map(),e[136].set("mailbox_partial_id",e[131]),e[136].set("action",e[119]),e[136].set("device_id",e[35]),e[136].set("echo_version",d.i64.cast([0,0])),e[136].set("epoch_id",e[133]),e[136].set("trace_id",void 0),e[136].set("encryption_version",e[135]),e[136].set("is_thread",d.i64.eq(e[63],d.i64.cast([0,2]))),e[136].set("raw_identifiers",e[125]),e[136].set("raw_tokens",e[130]),e[136].set("request_id",e[150]),e[136].set("tam_thread_subtype",e[70]==null?d.i64.cast([0,0]):e[70]),e[136].set("is_instamadillo",e[71]==null?!1:e[71]),e[136].set("should_run_device_creation_timestamp_sync",e[65]),e[136].set("value_secret_ref",e[113]),e[136].set("empty_echo_payload_reason",d.i64.cast([0,1])),e[93]!==void 0?d.sequence([function(a){return e[151]=e[93].get("supplemental_data_encrypted"),e[151]!==void 0?d.sequence([function(a){return e[153]=e[93].get("protobuf_encrypted"),e[154]=e[93].get("backup_action"),e[155]=e[93].get("timestamp_ms"),e[156]=e[151].get("sk_ciphertext"),d.nativeOperation(b("LSBase64Encode.nop"),e[156]).then(function(a){return a=a,e[157]=a[0],a})},function(a){return e[158]=e[151].get("sk_hash"),d.nativeOperation(b("LSBase64Encode.nop"),e[158]).then(function(a){return a=a,e[159]=a[0],a})},function(a){return e[160]=e[93].get("message_tags"),e[161]=e[93].get("maybe_ooo_supplemental_upload"),e[162]=new d.Map(),e[162].set("supplementary_data_key",void 0),e[162].set("encrypted_protobuf",e[153]),e[162].set("key_value_backup_action",e[154]),e[162].set("protobuf_ts_ms",e[155]),e[162].set("supplemental_key_ciphertext",e[157]),e[162].set("supplemental_key_hash",e[159]),e[162].set("message_tags",e[160]),e[162].set("maybe_ooo_supplemental_upload",e[161]),e[152]=e[162]}]):d.resolve((e[153]=e[93].get("protobuf_encrypted"),e[154]=e[93].get("backup_action"),e[155]=e[93].get("timestamp_ms"),e[156]=e[93].get("message_tags"),e[157]=new d.Map(),e[157].set("supplementary_data_key",void 0),e[157].set("encrypted_protobuf",e[153]),e[157].set("key_value_backup_action",e[154]),e[157].set("protobuf_ts_ms",e[155]),e[157].set("message_tags",e[156]),e[152]=e[157]))},function(a){return e[136].set("key_value_backup_payload",e[152])}]):d.resolve()},function(a){return e[66]!==void 0?d.resolve(e[136].set("attachment_backup_payload",e[66])):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure] attachment_payload is null."),e[151]="payload_null",e[6]!==void 0?e[151]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"attachment_info",e[151]):d.resolve():d.resolve())},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplAnnotateBool.nop"),d.i64.cast([0,637746317]),e[6],"process_attachments_via_message_upload",!0):d.resolve()},function(a){return e[150]!==void 0?d.nativeOperation(b("LSLogWebQpl.nop"),e[150],d.i64.cast([0,521481602]),"upload_start",d.i64.cast([0,0]),void 0,void 0):d.resolve()},function(b){return e[137]=d.toJSON(e[136]),d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[151]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[152]=void 0:e[152]=e[67],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[151],d.i64.cast([0,1e6])),e[19]),e[152]],e[138]=b[0],e[139]=b[1],e[140]=b[2],e[141]=b[3],e[142]=b[4],e[143]=b[5],e[144]=b[6]):(f=c.item,e[151]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[152]=void 0:e[152]=e[67],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[151],d.i64.cast([0,1e6])),e[19]),e[152]],e[138]=b[0],e[139]=b[1],e[140]=b[2],e[141]=b[3],e[142]=b[4],e[143]=b[5],e[144]=b[6])})},function(a){return e[146]=new d.Map(),e[146].set("task_id",e[138]),e[146].set("queue_name",e[139]),e[146].set("enqueue_timestamp_ms",e[140]),e[146].set("priority",e[141]),e[146].set("first_executed_timestamp_ms",e[142]),e[146].set("execution_time_ns",e[143]),e[146].set("echo_encoding_execution_time_ns",e[144]),e[147]=new d.Map(),e[147].set("task_metadata",e[146]),e[147].set("action_type",e[62]),e[147].set("content_type",e[63]),e[147].set("identifiers",void 0),e[147].set("identifiers_v2",e[55]),e[147].set("task_creation_source",void 0),e[147].set("message_payload_source",d.i64.cast([0,2])),void 0!==void 0?(e[151]=(void 0).get("stored_procedure"),e[152]=(void 0).get("error_code"),e[153]=(void 0).get("error_message"),e[154]=".",e[155]=[e[151],e[154],d.i64.to_string(e[152]),e[154],e[153]].join(""),e[6]!==void 0?e[155]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[155]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[151]=(void 0).get("stored_procedure"),e[152]=(void 0).get("error_code"),e[153]=(void 0).get("error_message"),e[154]=".",e[155]=[e[151],e[154],d.i64.to_string(e[152]),e[154],e[153]].join(""),e[6]!==void 0?e[155]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[155]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!0):d.resolve()},function(a){return e[148]=new d.Map(),e[148].set("payload",e[137]),e[149]=d.createArray(),e[151]=(e[149].push(void 0),e[149]),a=[e[148],void 0,e[147],e[149]],e[109]=a[0],e[110]=a[1],e[111]=a[2],e[112]=a[3]}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[124]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[125]=void 0:e[125]=e[67],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[124],d.i64.cast([0,1e6])),e[19]),e[125]],e[113]=b[0],e[114]=b[1],e[115]=b[2],e[116]=b[3],e[117]=b[4],e[118]=b[5],e[119]=b[6]):(f=c.item,e[124]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[125]=void 0:e[125]=e[67],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[124],d.i64.cast([0,1e6])),e[19]),e[125]],e[113]=b[0],e[114]=b[1],e[115]=b[2],e[116]=b[3],e[117]=b[4],e[118]=b[5],e[119]=b[6])})},function(a){return e[121]=new d.Map(),e[121].set("task_id",e[113]),e[121].set("queue_name",e[114]),e[121].set("enqueue_timestamp_ms",e[115]),e[121].set("priority",e[116]),e[121].set("first_executed_timestamp_ms",e[117]),e[121].set("execution_time_ns",e[118]),e[121].set("echo_encoding_execution_time_ns",e[119]),e[122]=new d.Map(),e[122].set("task_metadata",e[121]),e[122].set("action_type",e[62]),e[122].set("content_type",e[63]),e[122].set("identifiers",void 0),e[122].set("identifiers_v2",e[55]),e[122].set("task_creation_source",void 0),e[122].set("message_payload_source",d.i64.cast([0,2])),e[104]!==void 0?(e[124]=e[104].get("stored_procedure"),e[125]=e[104].get("error_code"),e[126]=e[104].get("error_message"),e[127]=".",e[128]=[e[124],e[127],d.i64.to_string(e[125]),e[127],e[126]].join(""),e[6]!==void 0?e[128]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[128]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[124]=(void 0).get("stored_procedure"),e[125]=(void 0).get("error_code"),e[126]=(void 0).get("error_message"),e[127]=".",e[128]=[e[124],e[127],d.i64.to_string(e[125]),e[127],e[126]].join(""),e[6]!==void 0?e[128]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[128]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[123]=d.createArray(),e[124]=(e[123].push(void 0),e[123]),a=[void 0,e[104],e[122],e[123]],e[109]=a[0],e[110]=a[1],e[111]=a[2],e[112]=a[3]}])},function(a){return a=[e[109],e[110],e[111],e[112]],e[105]=a[0],e[106]=a[1],e[107]=a[2],e[108]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[120]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[121]=void 0:e[121]=e[67],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[120],d.i64.cast([0,1e6])),e[19]),e[121]],e[109]=b[0],e[110]=b[1],e[111]=b[2],e[112]=b[3],e[113]=b[4],e[114]=b[5],e[115]=b[6]):(f=c.item,e[120]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[121]=void 0:e[121]=e[67],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[120],d.i64.cast([0,1e6])),e[19]),e[121]],e[109]=b[0],e[110]=b[1],e[111]=b[2],e[112]=b[3],e[113]=b[4],e[114]=b[5],e[115]=b[6])})},function(a){return e[117]=new d.Map(),e[117].set("task_id",e[109]),e[117].set("queue_name",e[110]),e[117].set("enqueue_timestamp_ms",e[111]),e[117].set("priority",e[112]),e[117].set("first_executed_timestamp_ms",e[113]),e[117].set("execution_time_ns",e[114]),e[117].set("echo_encoding_execution_time_ns",e[115]),e[118]=new d.Map(),e[118].set("task_metadata",e[117]),e[118].set("action_type",e[62]),e[118].set("content_type",e[63]),e[118].set("identifiers",void 0),e[118].set("identifiers_v2",e[55]),e[118].set("task_creation_source",void 0),e[118].set("message_payload_source",d.i64.cast([0,2])),void 0!==void 0?(e[120]=(void 0).get("stored_procedure"),e[121]=(void 0).get("error_code"),e[122]=(void 0).get("error_message"),e[123]=".",e[124]=[e[120],e[123],d.i64.to_string(e[121]),e[123],e[122]].join(""),e[6]!==void 0?e[124]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[124]):d.resolve():d.resolve()):d.resolve()},function(a){return e[94]!==void 0?(e[120]=e[94].get("stored_procedure"),e[121]=e[94].get("error_code"),e[122]=e[94].get("error_message"),e[123]=".",e[124]=[e[120],e[123],d.i64.to_string(e[121]),e[123],e[122]].join(""),e[6]!==void 0?e[124]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[124]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[119]=d.createArray(),e[120]=(e[119].push(e[94]),e[119]),a=[void 0,void 0,e[118],e[119]],e[105]=a[0],e[106]=a[1],e[107]=a[2],e[108]=a[3]}])},function(a){return a=[e[105],e[106],e[107],e[108]],e[95]=a[0],e[96]=a[1],e[97]=a[2],e[98]=a[3],a}]):d.sequence([function(c){return e[99]===!0&&e[100]===!1?d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[116]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[117]=void 0:e[117]=e[67],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[116],d.i64.cast([0,1e6])),e[19]),e[117]],e[105]=b[0],e[106]=b[1],e[107]=b[2],e[108]=b[3],e[109]=b[4],e[110]=b[5],e[111]=b[6]):(f=c.item,e[116]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[117]=void 0:e[117]=e[67],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[116],d.i64.cast([0,1e6])),e[19]),e[117]],e[105]=b[0],e[106]=b[1],e[107]=b[2],e[108]=b[3],e[109]=b[4],e[110]=b[5],e[111]=b[6])})},function(a){return e[113]=new d.Map(),e[113].set("task_id",e[105]),e[113].set("queue_name",e[106]),e[113].set("enqueue_timestamp_ms",e[107]),e[113].set("priority",e[108]),e[113].set("first_executed_timestamp_ms",e[109]),e[113].set("execution_time_ns",e[110]),e[113].set("echo_encoding_execution_time_ns",e[111]),e[114]=new d.Map(),e[114].set("task_metadata",e[113]),e[114].set("action_type",e[62]),e[114].set("content_type",e[63]),e[114].set("identifiers",void 0),e[114].set("identifiers_v2",e[55]),e[114].set("task_creation_source",void 0),e[114].set("message_payload_source",d.i64.cast([0,2])),void 0!==void 0?(e[116]=(void 0).get("stored_procedure"),e[117]=(void 0).get("error_code"),e[118]=(void 0).get("error_message"),e[119]=".",e[120]=[e[116],e[119],d.i64.to_string(e[117]),e[119],e[118]].join(""),e[6]!==void 0?e[120]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[120]):d.resolve():d.resolve()):d.resolve()},function(a){return e[94]!==void 0?(e[116]=e[94].get("stored_procedure"),e[117]=e[94].get("error_code"),e[118]=e[94].get("error_message"),e[119]=".",e[120]=[e[116],e[119],d.i64.to_string(e[117]),e[119],e[118]].join(""),e[6]!==void 0?e[120]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[120]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[115]=d.createArray(),e[116]=(e[115].push(e[94]),e[115]),a=[void 0,void 0,e[114],e[115]],e[101]=a[0],e[102]=a[1],e[103]=a[2],e[104]=a[3]}]):d.sequence([function(c){return d.i64.eq(e[62],d.i64.cast([0,1]))?(e[113]=e[68]===""?void 0:e[68],e[113]!==void 0?(c=[e[113],void 0],e[111]=c[0],e[112]=c[1],c):(e[114]=new d.Map(),e[114].set("error_code",d.i64.cast([0,30])),e[114].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[114].set("error_message",""),c=[void 0,e[114]],e[111]=c[0],e[112]=c[1]),c=[e[111],e[112]],e[105]=c[0],e[106]=c[1]):(c=["",void 0],e[105]=c[0],e[106]=c[1],c),e[105]!==void 0?d.sequence([function(a){return d.i64.eq(e[62],d.i64.cast([0,1]))?d.sequence([function(a){return e[117]=e[55].get("backup_id"),e[118]=e[55].get("act_thread_id"),d.storedProcedure(b("LSEncryptMessagePayloadV2"),e[117],e[118],e[76],e[105]).then(function(a){return a=a,e[119]=a[0],e[120]=a[1],a})},function(a){return a=[e[119],e[120]],e[111]=a[0],e[112]=a[1],a}]):d.resolve((e[117]=new d.Map(),e[117].set("encrypted_message_payload",""),e[117].set("value_secret_ref",""),a=[e[117],void 0],e[111]=a[0],e[112]=a[1]))},function(c){return e[111]!==void 0?d.sequence([function(a){return e[93]!==void 0&&d.i64.eq(e[62],d.i64.cast([0,2]))?d.sequence([function(a){return e[155]=e[55].get("act_thread_id"),e[156]=e[55].get("backup_id"),d.storedProcedure(b("LSDeriveValueSecretRefV2"),e[155],e[156],e[76]).then(function(a){return a=a,e[157]=a[0],e[158]=a[1],a})},function(a){return e[157]!==void 0?(e[160]=e[157].get("value_secret_ref"),e[159]=e[160]):e[159]="",e[117]=e[159]}]):d.resolve(e[117]="")},function(a){return e[118]=e[86].get("act_thread_id_ocmf_partial"),e[119]=e[86].get("otid_ocmf_partial"),e[120]=e[86].get("timestamp_encrypted"),e[121]=new d.Map(),e[121].set("list_key",e[118]),e[121].set("unique_key",e[119]),e[121].set("sort_key",e[120]),e[111]!==void 0?(e[155]=e[111].get("encrypted_message_payload"),e[156]=e[111].get("value_secret_ref"),e[157]=new d.Map(),e[157].set("value",e[155]),e[157].set("value_secret_ref",e[156]),e[122]=e[157]):e[122]=void 0,e[123]=new d.Map(),e[123].set("list_item_id",e[121]),e[123].set("list_item",e[122]),e[123].set("action_type",e[62]),e[124]=e[55].get("timestamp"),e[125]=e[55].get("otid"),e[126]=e[55].get("act_thread_id"),e[127]=e[55].get("supplemental_otid"),e[128]=e[55].get("deletion_otid"),e[129]=new d.Map(),e[129].set("timestamp",e[124]),e[129].set("otid",e[125]),e[129].set("wa_thread_id",d.i64.from_string(e[126])),e[129].set("supplemental_otid",e[127]),e[129].set("deletion_otid",e[128]),e[130]=e[76].get("mailbox_base_salt"),d.nativeOperation(b("LSBase64Encode.nop"),e[130]).then(function(a){return a=a,e[131]=a[0],a})},function(a){return e[132]=e[76].get("ocmf_shared_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[132]).then(function(a){return a=a,e[133]=a[0],a})},function(a){return e[134]=new d.Map(),e[134].set("mailbox_root_key",e[131]==null?"":e[131]),e[134].set("ocmf_client_state_blob",e[133]==null?"":e[133]),e[135]=e[86].get("backup_id_ocmf_partial"),e[136]=e[76].get("message_payload_encryption_keys"),e[137]=e[136].get("epoch_id"),e[138]=e[76].get("message_payload_encryption_keys"),e[139]=e[138].get("encryption_version"),e[154]=e[69]==null?"":e[69],e[140]=new d.Map(),e[140].set("mailbox_partial_id",e[135]),e[140].set("action",e[123]),e[140].set("device_id",e[35]),e[140].set("echo_version",d.i64.cast([0,0])),e[140].set("epoch_id",e[137]),e[140].set("trace_id",void 0),e[140].set("encryption_version",e[139]),e[140].set("is_thread",d.i64.eq(e[63],d.i64.cast([0,2]))),e[140].set("raw_identifiers",e[129]),e[140].set("raw_tokens",e[134]),e[140].set("request_id",e[154]),e[140].set("tam_thread_subtype",e[70]==null?d.i64.cast([0,0]):e[70]),e[140].set("is_instamadillo",e[71]==null?!1:e[71]),e[140].set("should_run_device_creation_timestamp_sync",e[65]),e[140].set("value_secret_ref",e[117]),e[93]!==void 0?d.sequence([function(a){return e[155]=e[93].get("supplemental_data_encrypted"),e[155]!==void 0?d.sequence([function(a){return e[157]=e[93].get("protobuf_encrypted"),e[158]=e[93].get("backup_action"),e[159]=e[93].get("timestamp_ms"),e[160]=e[155].get("sk_ciphertext"),d.nativeOperation(b("LSBase64Encode.nop"),e[160]).then(function(a){return a=a,e[161]=a[0],a})},function(a){return e[162]=e[155].get("sk_hash"),d.nativeOperation(b("LSBase64Encode.nop"),e[162]).then(function(a){return a=a,e[163]=a[0],a})},function(a){return e[164]=e[93].get("message_tags"),e[165]=e[93].get("maybe_ooo_supplemental_upload"),e[166]=new d.Map(),e[166].set("supplementary_data_key",void 0),e[166].set("encrypted_protobuf",e[157]),e[166].set("key_value_backup_action",e[158]),e[166].set("protobuf_ts_ms",e[159]),e[166].set("supplemental_key_ciphertext",e[161]),e[166].set("supplemental_key_hash",e[163]),e[166].set("message_tags",e[164]),e[166].set("maybe_ooo_supplemental_upload",e[165]),e[156]=e[166]}]):d.resolve((e[157]=e[93].get("protobuf_encrypted"),e[158]=e[93].get("backup_action"),e[159]=e[93].get("timestamp_ms"),e[160]=e[93].get("message_tags"),e[161]=new d.Map(),e[161].set("supplementary_data_key",void 0),e[161].set("encrypted_protobuf",e[157]),e[161].set("key_value_backup_action",e[158]),e[161].set("protobuf_ts_ms",e[159]),e[161].set("message_tags",e[160]),e[156]=e[161]))},function(a){return e[140].set("key_value_backup_payload",e[156])}]):d.resolve()},function(a){return e[66]!==void 0?d.resolve(e[140].set("attachment_backup_payload",e[66])):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure] attachment_payload is null."),e[155]="payload_null",e[6]!==void 0?e[155]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"attachment_info",e[155]):d.resolve():d.resolve())},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplAnnotateBool.nop"),d.i64.cast([0,637746317]),e[6],"process_attachments_via_message_upload",!0):d.resolve()},function(a){return e[154]!==void 0?d.nativeOperation(b("LSLogWebQpl.nop"),e[154],d.i64.cast([0,521481602]),"upload_start",d.i64.cast([0,0]),void 0,void 0):d.resolve()},function(b){return e[141]=d.toJSON(e[140]),d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[155]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[156]=void 0:e[156]=e[67],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[155],d.i64.cast([0,1e6])),e[19]),e[156]],e[142]=b[0],e[143]=b[1],e[144]=b[2],e[145]=b[3],e[146]=b[4],e[147]=b[5],e[148]=b[6]):(f=c.item,e[155]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[156]=void 0:e[156]=e[67],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[155],d.i64.cast([0,1e6])),e[19]),e[156]],e[142]=b[0],e[143]=b[1],e[144]=b[2],e[145]=b[3],e[146]=b[4],e[147]=b[5],e[148]=b[6])})},function(a){return e[150]=new d.Map(),e[150].set("task_id",e[142]),e[150].set("queue_name",e[143]),e[150].set("enqueue_timestamp_ms",e[144]),e[150].set("priority",e[145]),e[150].set("first_executed_timestamp_ms",e[146]),e[150].set("execution_time_ns",e[147]),e[150].set("echo_encoding_execution_time_ns",e[148]),e[151]=new d.Map(),e[151].set("task_metadata",e[150]),e[151].set("action_type",e[62]),e[151].set("content_type",e[63]),e[151].set("identifiers",void 0),e[151].set("identifiers_v2",e[55]),e[151].set("task_creation_source",void 0),e[151].set("message_payload_source",d.i64.cast([0,2])),void 0!==void 0?(e[155]=(void 0).get("stored_procedure"),e[156]=(void 0).get("error_code"),e[157]=(void 0).get("error_message"),e[158]=".",e[159]=[e[155],e[158],d.i64.to_string(e[156]),e[158],e[157]].join(""),e[6]!==void 0?e[159]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[159]):d.resolve():d.resolve()):d.resolve()},function(a){return e[94]!==void 0?(e[155]=e[94].get("stored_procedure"),e[156]=e[94].get("error_code"),e[157]=e[94].get("error_message"),e[158]=".",e[159]=[e[155],e[158],d.i64.to_string(e[156]),e[158],e[157]].join(""),e[6]!==void 0?e[159]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[159]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!0):d.resolve()},function(a){return e[152]=new d.Map(),e[152].set("payload",e[141]),e[153]=d.createArray(),e[155]=(e[153].push(e[94]),e[153]),a=[e[152],void 0,e[151],e[153]],e[113]=a[0],e[114]=a[1],e[115]=a[2],e[116]=a[3]}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[128]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[129]=void 0:e[129]=e[67],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[128],d.i64.cast([0,1e6])),e[19]),e[129]],e[117]=b[0],e[118]=b[1],e[119]=b[2],e[120]=b[3],e[121]=b[4],e[122]=b[5],e[123]=b[6]):(f=c.item,e[128]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[129]=void 0:e[129]=e[67],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[128],d.i64.cast([0,1e6])),e[19]),e[129]],e[117]=b[0],e[118]=b[1],e[119]=b[2],e[120]=b[3],e[121]=b[4],e[122]=b[5],e[123]=b[6])})},function(a){return e[125]=new d.Map(),e[125].set("task_id",e[117]),e[125].set("queue_name",e[118]),e[125].set("enqueue_timestamp_ms",e[119]),e[125].set("priority",e[120]),e[125].set("first_executed_timestamp_ms",e[121]),e[125].set("execution_time_ns",e[122]),e[125].set("echo_encoding_execution_time_ns",e[123]),e[126]=new d.Map(),e[126].set("task_metadata",e[125]),e[126].set("action_type",e[62]),e[126].set("content_type",e[63]),e[126].set("identifiers",void 0),e[126].set("identifiers_v2",e[55]),e[126].set("task_creation_source",void 0),e[126].set("message_payload_source",d.i64.cast([0,2])),e[112]!==void 0?(e[128]=e[112].get("stored_procedure"),e[129]=e[112].get("error_code"),e[130]=e[112].get("error_message"),e[131]=".",e[132]=[e[128],e[131],d.i64.to_string(e[129]),e[131],e[130]].join(""),e[6]!==void 0?e[132]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[132]):d.resolve():d.resolve()):d.resolve()},function(a){return e[94]!==void 0?(e[128]=e[94].get("stored_procedure"),e[129]=e[94].get("error_code"),e[130]=e[94].get("error_message"),e[131]=".",e[132]=[e[128],e[131],d.i64.to_string(e[129]),e[131],e[130]].join(""),e[6]!==void 0?e[132]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[132]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[127]=d.createArray(),e[128]=(e[127].push(e[94]),e[127]),a=[void 0,e[112],e[126],e[127]],e[113]=a[0],e[114]=a[1],e[115]=a[2],e[116]=a[3]}])},function(a){return a=[e[113],e[114],e[115],e[116]],e[107]=a[0],e[108]=a[1],e[109]=a[2],e[110]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[122]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[123]=void 0:e[123]=e[67],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[122],d.i64.cast([0,1e6])),e[19]),e[123]],e[111]=b[0],e[112]=b[1],e[113]=b[2],e[114]=b[3],e[115]=b[4],e[116]=b[5],e[117]=b[6]):(f=c.item,e[122]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[123]=void 0:e[123]=e[67],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[122],d.i64.cast([0,1e6])),e[19]),e[123]],e[111]=b[0],e[112]=b[1],e[113]=b[2],e[114]=b[3],e[115]=b[4],e[116]=b[5],e[117]=b[6])})},function(a){return e[119]=new d.Map(),e[119].set("task_id",e[111]),e[119].set("queue_name",e[112]),e[119].set("enqueue_timestamp_ms",e[113]),e[119].set("priority",e[114]),e[119].set("first_executed_timestamp_ms",e[115]),e[119].set("execution_time_ns",e[116]),e[119].set("echo_encoding_execution_time_ns",e[117]),e[120]=new d.Map(),e[120].set("task_metadata",e[119]),e[120].set("action_type",e[62]),e[120].set("content_type",e[63]),e[120].set("identifiers",void 0),e[120].set("identifiers_v2",e[55]),e[120].set("task_creation_source",void 0),e[120].set("message_payload_source",d.i64.cast([0,2])),e[106]!==void 0?(e[122]=e[106].get("stored_procedure"),e[123]=e[106].get("error_code"),e[124]=e[106].get("error_message"),e[125]=".",e[126]=[e[122],e[125],d.i64.to_string(e[123]),e[125],e[124]].join(""),e[6]!==void 0?e[126]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[126]):d.resolve():d.resolve()):d.resolve()},function(a){return e[94]!==void 0?(e[122]=e[94].get("stored_procedure"),e[123]=e[94].get("error_code"),e[124]=e[94].get("error_message"),e[125]=".",e[126]=[e[122],e[125],d.i64.to_string(e[123]),e[125],e[124]].join(""),e[6]!==void 0?e[126]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[126]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[121]=d.createArray(),e[122]=(e[121].push(e[94]),e[121]),a=[void 0,e[106],e[120],e[121]],e[107]=a[0],e[108]=a[1],e[109]=a[2],e[110]=a[3]}])},function(a){return a=[e[107],e[108],e[109],e[110]],e[101]=a[0],e[102]=a[1],e[103]=a[2],e[104]=a[3],a}])},function(a){return a=[e[101],e[102],e[103],e[104]],e[95]=a[0],e[96]=a[1],e[97]=a[2],e[98]=a[3],a}])},function(a){return a=[e[95],e[96],e[97],e[98]],e[88]=a[0],e[89]=a[1],e[90]=a[2],e[91]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[103]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[104]=void 0:e[104]=e[67],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[103],d.i64.cast([0,1e6])),e[19]),e[104]],e[92]=b[0],e[93]=b[1],e[94]=b[2],e[95]=b[3],e[96]=b[4],e[97]=b[5],e[98]=b[6]):(f=c.item,e[103]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[104]=void 0:e[104]=e[67],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[103],d.i64.cast([0,1e6])),e[19]),e[104]],e[92]=b[0],e[93]=b[1],e[94]=b[2],e[95]=b[3],e[96]=b[4],e[97]=b[5],e[98]=b[6])})},function(a){return e[100]=new d.Map(),e[100].set("task_id",e[92]),e[100].set("queue_name",e[93]),e[100].set("enqueue_timestamp_ms",e[94]),e[100].set("priority",e[95]),e[100].set("first_executed_timestamp_ms",e[96]),e[100].set("execution_time_ns",e[97]),e[100].set("echo_encoding_execution_time_ns",e[98]),e[101]=new d.Map(),e[101].set("task_metadata",e[100]),e[101].set("action_type",e[62]),e[101].set("content_type",e[63]),e[101].set("identifiers",void 0),e[101].set("identifiers_v2",e[55]),e[101].set("task_creation_source",void 0),e[101].set("message_payload_source",d.i64.cast([0,2])),e[87]!==void 0?(e[103]=e[87].get("stored_procedure"),e[104]=e[87].get("error_code"),e[105]=e[87].get("error_message"),e[106]=".",e[107]=[e[103],e[106],d.i64.to_string(e[104]),e[106],e[105]].join(""),e[6]!==void 0?e[107]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[107]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[103]=(void 0).get("stored_procedure"),e[104]=(void 0).get("error_code"),e[105]=(void 0).get("error_message"),e[106]=".",e[107]=[e[103],e[106],d.i64.to_string(e[104]),e[106],e[105]].join(""),e[6]!==void 0?e[107]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[107]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[102]=d.createArray(),e[103]=(e[102].push(void 0),e[102]),a=[void 0,e[87],e[101],e[102]],e[88]=a[0],e[89]=a[1],e[90]=a[2],e[91]=a[3]}])},function(a){return a=[e[88],e[89],e[90],e[91]],e[78]=a[0],e[79]=a[1],e[80]=a[2],e[81]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[93]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[94]=void 0:e[94]=e[67],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[93],d.i64.cast([0,1e6])),e[19]),e[94]],e[82]=b[0],e[83]=b[1],e[84]=b[2],e[85]=b[3],e[86]=b[4],e[87]=b[5],e[88]=b[6]):(f=c.item,e[93]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[94]=void 0:e[94]=e[67],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[93],d.i64.cast([0,1e6])),e[19]),e[94]],e[82]=b[0],e[83]=b[1],e[84]=b[2],e[85]=b[3],e[86]=b[4],e[87]=b[5],e[88]=b[6])})},function(a){return e[90]=new d.Map(),e[90].set("task_id",e[82]),e[90].set("queue_name",e[83]),e[90].set("enqueue_timestamp_ms",e[84]),e[90].set("priority",e[85]),e[90].set("first_executed_timestamp_ms",e[86]),e[90].set("execution_time_ns",e[87]),e[90].set("echo_encoding_execution_time_ns",e[88]),e[91]=new d.Map(),e[91].set("task_metadata",e[90]),e[91].set("action_type",e[62]),e[91].set("content_type",e[63]),e[91].set("identifiers",void 0),e[91].set("identifiers_v2",e[55]),e[91].set("task_creation_source",void 0),e[91].set("message_payload_source",d.i64.cast([0,2])),e[77]!==void 0?(e[93]=e[77].get("stored_procedure"),e[94]=e[77].get("error_code"),e[95]=e[77].get("error_message"),e[96]=".",e[97]=[e[93],e[96],d.i64.to_string(e[94]),e[96],e[95]].join(""),e[6]!==void 0?e[97]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[97]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[93]=(void 0).get("stored_procedure"),e[94]=(void 0).get("error_code"),e[95]=(void 0).get("error_message"),e[96]=".",e[97]=[e[93],e[96],d.i64.to_string(e[94]),e[96],e[95]].join(""),e[6]!==void 0?e[97]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[97]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[92]=d.createArray(),e[93]=(e[92].push(void 0),e[92]),a=[void 0,e[77],e[91],e[92]],e[78]=a[0],e[79]=a[1],e[80]=a[2],e[81]=a[3]}])},function(a){return a=[e[78],e[79],e[80],e[81]],e[58]=a[0],e[59]=a[1],e[60]=a[2],e[61]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[84]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[85]=void 0:e[85]=e[67],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[84],d.i64.cast([0,1e6])),e[19]),e[85]],e[72]=b[0],e[73]=b[1],e[74]=b[2],e[75]=b[3],e[76]=b[4],e[77]=b[5],e[78]=b[6]):(f=c.item,e[84]=d.i64.of_float(Date.now()),d.i64.eq(e[67],d.i64.cast([0,0]))||d.i64.eq(e[67],void 0)?e[85]=void 0:e[85]=e[67],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[84],d.i64.cast([0,1e6])),e[19]),e[85]],e[72]=b[0],e[73]=b[1],e[74]=b[2],e[75]=b[3],e[76]=b[4],e[77]=b[5],e[78]=b[6])})},function(a){return e[80]=new d.Map(),e[80].set("task_id",e[72]),e[80].set("queue_name",e[73]),e[80].set("enqueue_timestamp_ms",e[74]),e[80].set("priority",e[75]),e[80].set("first_executed_timestamp_ms",e[76]),e[80].set("execution_time_ns",e[77]),e[80].set("echo_encoding_execution_time_ns",e[78]),e[81]=new d.Map(),e[81].set("task_metadata",e[80]),e[81].set("action_type",e[62]),e[81].set("content_type",e[63]),e[81].set("identifiers",void 0),e[81].set("identifiers_v2",e[55]),e[81].set("task_creation_source",void 0),e[81].set("message_payload_source",d.i64.cast([0,2])),e[82]=new d.Map(),e[82].set("error_code",e[64]),e[82].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[82].set("error_message",""),e[82]!==void 0?(e[84]=e[82].get("stored_procedure"),e[85]=e[82].get("error_code"),e[86]=e[82].get("error_message"),e[87]=".",e[88]=[e[84],e[87],d.i64.to_string(e[85]),e[87],e[86]].join(""),e[6]!==void 0?e[88]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[88]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[84]=(void 0).get("stored_procedure"),e[85]=(void 0).get("error_code"),e[86]=(void 0).get("error_message"),e[87]=".",e[88]=[e[84],e[87],d.i64.to_string(e[85]),e[87],e[86]].join(""),e[6]!==void 0?e[88]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[88]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[83]=d.createArray(),a=[void 0,e[82],e[81],e[83]],e[58]=a[0],e[59]=a[1],e[60]=a[2],e[61]=a[3]}])},function(a){return a=[e[58],e[59],e[60],e[61]],e[50]=a[0],e[51]=a[1],e[52]=a[2],e[53]=a[3],a}]))})},function(a){return a=[e[50],e[51],e[52],e[53]],e[42]=a[0],e[43]=a[1],e[44]=a[2],e[45]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(b,c){var f=b.done;b=b.value;return f?(e[58]=d.i64.of_float(Date.now()),f=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[58],d.i64.cast([0,1e6])),e[19]),void 0],e[46]=f[0],e[47]=f[1],e[48]=f[2],e[49]=f[3],e[50]=f[4],e[51]=f[5],e[52]=f[6]):(c=b.item,e[58]=d.i64.of_float(Date.now()),f=[a[0],c.queueName,c.enqueueTimestampMs,void 0,c.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[58],d.i64.cast([0,1e6])),e[19]),void 0],e[46]=f[0],e[47]=f[1],e[48]=f[2],e[49]=f[3],e[50]=f[4],e[51]=f[5],e[52]=f[6])})},function(a){return e[54]=new d.Map(),e[54].set("task_id",e[46]),e[54].set("queue_name",e[47]),e[54].set("enqueue_timestamp_ms",e[48]),e[54].set("priority",e[49]),e[54].set("first_executed_timestamp_ms",e[50]),e[54].set("execution_time_ns",e[51]),e[54].set("echo_encoding_execution_time_ns",e[52]),e[55]=new d.Map(),e[55].set("task_metadata",e[54]),e[55].set("action_type",void 0),e[55].set("content_type",void 0),e[55].set("identifiers",void 0),e[55].set("identifiers_v2",void 0),e[55].set("task_creation_source",void 0),e[55].set("message_payload_source",d.i64.cast([0,2])),e[56]=new d.Map(),e[56].set("error_code",d.i64.cast([0,24])),e[56].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[56].set("error_message",""),e[56]!==void 0?(e[58]=e[56].get("stored_procedure"),e[59]=e[56].get("error_code"),e[60]=e[56].get("error_message"),e[61]=".",e[62]=[e[58],e[61],d.i64.to_string(e[59]),e[61],e[60]].join(""),e[6]!==void 0?e[62]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[62]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[58]=(void 0).get("stored_procedure"),e[59]=(void 0).get("error_code"),e[60]=(void 0).get("error_message"),e[61]=".",e[62]=[e[58],e[61],d.i64.to_string(e[59]),e[61],e[60]].join(""),e[6]!==void 0?e[62]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[62]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[57]=d.createArray(),a=[void 0,e[56],e[55],e[57]],e[42]=a[0],e[43]=a[1],e[44]=a[2],e[45]=a[3]}])},function(a){return a=[e[42],e[43],e[44],e[45]],e[12]=a[0],e[13]=a[1],e[14]=a[2],e[15]=a[3],a}]):d.sequence([function(b){return e[23]=e[10].get("errors"),e[24]=e[10].get("errors"),d.db.table(2).fetch([[[a[0]]]]).next().then(function(b,c){var f=b.done;b=b.value;return f?(e[37]=d.i64.of_float(Date.now()),f=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[37],d.i64.cast([0,1e6])),e[19]),void 0],e[25]=f[0],e[26]=f[1],e[27]=f[2],e[28]=f[3],e[29]=f[4],e[30]=f[5],e[31]=f[6]):(c=b.item,e[37]=d.i64.of_float(Date.now()),f=[a[0],c.queueName,c.enqueueTimestampMs,void 0,c.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[37],d.i64.cast([0,1e6])),e[19]),void 0],e[25]=f[0],e[26]=f[1],e[27]=f[2],e[28]=f[3],e[29]=f[4],e[30]=f[5],e[31]=f[6])})},function(a){return e[33]=new d.Map(),e[33].set("task_id",e[25]),e[33].set("queue_name",e[26]),e[33].set("enqueue_timestamp_ms",e[27]),e[33].set("priority",e[28]),e[33].set("first_executed_timestamp_ms",e[29]),e[33].set("execution_time_ns",e[30]),e[33].set("echo_encoding_execution_time_ns",e[31]),e[34]=new d.Map(),e[34].set("task_metadata",e[33]),e[34].set("action_type",void 0),e[34].set("content_type",void 0),e[34].set("identifiers",void 0),e[34].set("identifiers_v2",void 0),e[34].set("task_creation_source",void 0),e[34].set("message_payload_source",d.i64.cast([0,2])),e[35]=new d.Map(),e[35].set("error_code",d.i64.cast([0,1])),e[35].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[35].set("error_message",""),e[35]!==void 0?(e[37]=e[35].get("stored_procedure"),e[38]=e[35].get("error_code"),e[39]=e[35].get("error_message"),e[40]=".",e[41]=[e[37],e[40],d.i64.to_string(e[38]),e[40],e[39]].join(""),e[6]!==void 0?e[41]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[41]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[37]=(void 0).get("stored_procedure"),e[38]=(void 0).get("error_code"),e[39]=(void 0).get("error_message"),e[40]=".",e[41]=[e[37],e[40],d.i64.to_string(e[38]),e[40],e[39]].join(""),e[6]!==void 0?e[41]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[41]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[36]=d.createArray(),a=[void 0,e[35],e[34],e[36]],e[12]=a[0],e[13]=a[1],e[14]=a[2],e[15]=a[3]}])},function(a){return e[16]=d.i64.of_float(Date.now()),e[17]=d.i64.random(),e[20]="Finishing execution. Execution time: ",e[21]=d.i64.to_string(d.i64.sub(e[16],e[0])),e[22]=" ms",e[18]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][serializeBackupPayloadV2] ",e[18],e[20],e[18],e[21],e[18],e[22]].join("")),d.i64.eq(d.i64.mod_(e[17],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[23]=",",e[24]=d.createArray(),void 0!==void 0?e[25]=(e[24].push(void 0),e[24]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"serializeBackupPayloadV2",[e[20],e[23],e[21],e[23],e[22]].join(""),e[24],d.i64.cast([0,4]))):d.resolve()},function(a){return a=[e[12],e[13],e[14],e[15]],f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3],a}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure";a.__tables__=["pending_tasks","secure_encrypted_backups_client_state","pending_backups_context_v2","pending_protobuf_backups_context","secure_encrypted_backups_epochs"];d=a;g["default"]=d}),98);
__d("LSTaskSerializerEncryptedBackupsUpload",["LSArrayGetObjectAt","LSLogMebClientEvent.nop","LSSerializeBackupPayloadV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.forEach(c.db.table(177).fetch([[[a[0]]],"fk_pending_tasks"]),function(a){var b=a.update;a.item;return b({backupStatus:c.i64.cast([0,2])})})},function(e){return c.storedProcedure(b("LSSerializeBackupPayloadV2"),a[0]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],a})},function(a){return d[6]=c.createArray(),d[7]=c.i64.of_int32(d[5].length),c.i64.gt(d[7],c.i64.cast([0,0]))?c.loopAsync(d[7],function(a){return d[23]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[5],d[23]).then(function(a){return a=a,d[24]=a[0],d[25]=a[1],a})},function(a){return d[24]!==void 0?d[26]=(d[6].push(d[24]),d[6]):0}])}):c.resolve()},function(a){return d[8]=c.i64.of_int32(d[6].length),c.i64.gt(d[8],c.i64.cast([0,0]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[6],c.i64.cast([0,0])).then(function(a){return a=a,d[23]=a[0],d[24]=a[1],a})},function(a){return d[9]=d[23]}]):c.resolve(d[9]=void 0)},function(a){return d[2]?d[10]=!1:d[10]=!0,d[10]?(d[3]?d[23]=!1:d[23]=!0,d[23]?(a=[void 0,void 0,d[9],d[6],d[4]],d[24]=a[0],d[25]=a[1],d[26]=a[2],d[27]=a[3],d[28]=a[4],a):(a=[void 0,d[3],d[9],d[6],d[4]],d[24]=a[0],d[25]=a[1],d[26]=a[2],d[27]=a[3],d[28]=a[4],a),a=[d[24],d[25],d[26],d[27],d[28]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4]):(d[23]=d[2].get("payload"),a=[d[23],d[3],d[9],d[6],d[4]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4]),d[23]=new c.Map(),d[24]=d[23].set("success",d[11]),d[25]=d[23].set("failure",d[12]),d[26]=d[23].set("protobuf_failure",d[13]),d[27]=d[23].set("protobuf_failures",d[14]),d[28]=d[23].set("context",d[15]),d[29]=c.toJSON(d[23]),d[16]=d[29],d[17]=c.i64.of_float(Date.now()),d[18]=c.i64.random(),d[20]="Finishing execution. Execution time: ",d[21]=c.i64.to_string(c.i64.sub(d[17],d[0])),d[22]=" ms",d[19]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsUpload] ",d[19],d[20],d[19],d[21],d[19],d[22]].join("")),c.i64.eq(c.i64.mod_(d[18],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[23]=",",d[24]=c.createArray(),void 0!==void 0?d[25]=(d[24].push(void 0),d[24]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsUpload",[d[20],d[23],d[21],d[23],d[22]].join(""),d[24],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[16],c.i64.cast([0,50026])],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadStoredProcedure";a.__tables__=["pending_backups_context_v2"];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsUploadProtobufOnly",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[],e=[];return d[0]=new c.Map(),d[0].set("error_code",c.i64.cast([0,802])),d[0].set("stored_procedure","LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadProtobufOnlyStoredProcedure"),d[0].set("error_message",""),d[2]=new c.Map(),d[3]=d[2].set("success",void 0),d[4]=d[2].set("failure",d[0]),d[5]=d[2].set("context",void 0),d[6]=c.toJSON(d[2]),d[1]=d[6],a=[d[1],c.i64.cast([0,50042]),void 0],e[0]=a[0],e[1]=a[1],e[2]=a[2],c.resolve(e)}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadProtobufOnlyStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsUploadSenderBackup",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsUploadSenderBackup] Beginning execution."),d[1]=c.i64.of_float(Date.now()),function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadSenderBackupStoredProcedure] LSEncryptedBackupsMinosEncrypt native op not supported"),d[3]="LSEncryptedBackupsMinosEncrypt native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadSenderBackupStoredProcedure] ","",d[3]].join("")),d[2]=c.createArray(),void 0!==void 0?d[12]=(d[2].push(void 0),d[2]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadSenderBackupStoredProcedure",d[3],d[2],c.i64.cast([0,3]))},function(a){return d[4]=new c.Map(),d[4].set("error_code",c.i64.cast([0,3])),d[4].set("stored_procedure","taskSerializerEncryptedBackupsUploadSenderBackup"),d[4].set("error_message",""),d[12]=new c.Map(),d[13]=d[12].set("success",void 0),d[14]=d[12].set("failure",d[4]),d[15]=d[12].set("context",void 0),d[16]=c.toJSON(d[12]),d[5]=d[16],d[6]=c.i64.of_float(Date.now()),d[7]=c.i64.random(),d[9]="Finishing execution. Execution time: ",d[10]=c.i64.to_string(c.i64.sub(d[6],d[0])),d[11]=" ms",d[8]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsUploadSenderBackup] ",d[8],d[9],d[8],d[10],d[8],d[11]].join("")),c.i64.eq(c.i64.mod_(d[7],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[12]=",",d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsUploadSenderBackup",[d[9],d[12],d[10],d[12],d[11]].join(""),d[13],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[5],c.i64.cast([0,50057]),void 0],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadSenderBackupStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerMuteThreadV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("TaskSerializerMuteThreadV2: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2]):(e=d.item,b.sequence([function(a){return c[8]=e.threadKey,b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?(c[9]=b.createArray(),c[10]=(c[9].push("TaskSerializerMuteThreadV2: Thread not found"),c[9]),c[11]=(c[9].push(c[8]),c[9]),c[12]=b.toJSON(c[9]),function(a){b.logger(a).mustfix(a)}(c[12]),a=[void 0,void 0,void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2]):(e=d.item,b.sequence([function(a){return b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[9]=b.i64.cast([0,1]):(e=d.item,c[14]=e.syncGroup,b.i64.neq(c[14],void 0)?c[13]=c[14]:c[13]=b.i64.cast([0,1]),c[9]=c[13])})},function(a){return c[11]=new b.Map(),c[11].set("thread_key",c[8]),c[11].set("mailbox_type",b.i64.cast([0,0])),c[11].set("mute_expire_time_ms",e.muteExpireTimeMs),c[11].set("sync_group",c[9]),c[12]=b.toJSON(c[11]),a=[c[12],b.i64.cast([0,144]),void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2]}]))})},function(a){return a=[c[4],c[5],c[6]],c[0]=a[0],c[1]=a[1],c[2]=a[2],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxTaskSerializerMuteThreadV2StoredProcedure";a.__tables__=["threads_optimistic_context","threads"];e.exports=a}),null);
__d("LSTaskSerializerRemoveThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("TaskSerializerRemoveThreadV2: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2]):(e=d.item,c[7]=e.removeType,b.i64.neq(c[7],void 0)?(c[8]=new b.Map(),c[8].set("thread_key",e.threadKey),c[8].set("remove_type",c[7]),c[8].set("sync_group",e.syncGroup==null?b.i64.cast([0,1]):e.syncGroup),c[9]=b.toJSON(c[8]),f=[c[9],b.i64.cast([0,146]),void 0],c[4]=f[0],c[5]=f[1],c[6]=f[2]):(d=[void 0,void 0,void 0],c[4]=d[0],c[5]=d[1],c[6]=d[2],d),e=[c[4],c[5],c[6]],c[0]=e[0],c[1]=e[1],c[2]=e[2])})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxTaskSerializerRemoveThreadStoredProcedure";a.__tables__=["threads_optimistic_context"];e.exports=a}),null);
__d("LSTaskSerializerSendMessageV2",["LSSymmetricEncryptionCreateEncryptedString.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(31).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2]):(e=d.item,b.sequence([function(d){return c[11]=e.offlineThreadingId,c[12]=e.messageId,c[23]=e.threadAttributionSource,c[9]=e.platformRef,c[10]=e.platformToken,c[8]=e.replySourceId,c[13]=e.replySourceType,c[22]=e.sendType,c[25]=e.markThreadRead,c[15]=e.initiatingSource,c[16]=e.skipUrlPreviewGen,c[18]=e.textHasLinks,c[19]=e.dataclassParams,c[20]=e.multitabEnv,c[21]=e.metadataDataclass,c[17]=e.richTextFormatType,c[24]=e.subthreadParentMessageId,c[14]=e.isExclusiveToSubthread,b.db.table(12).fetch([[[c[11]]],"optimistic"]).next().then(function(e,f){var d=e.done;e=e.value;return d?(c[26]=b.createArray(),c[27]=(c[26].push("OTID not found"),c[26]),c[28]=(c[26].push(c[11]),c[26]),c[29]=b.toJSON(c[26]),function(a){b.logger(a).mustfix(a)}(c[29]),d=[void 0,void 0,void 0],c[4]=d[0],c[5]=d[1],c[6]=d[2]):(f=e.item,b.sequence([function(d){return c[34]=f.text,c[30]=f.threadKey,c[35]=f.messageId,c[43]=f.senderId,c[32]=f.stickerId,c[37]=f.mentionOffsets,c[38]=f.mentionLengths,c[31]=f.mentionIds,c[39]=f.mentionTypes,c[42]=f.replyType,c[40]=f.isForwarded,c[36]=f.forwardScore,c[41]=f.hotEmojiSize,c[33]=f.metadataDataclass,b.db.table(9).fetch([[[c[30]]]]).next().then(function(e,g){var d=e.done;e=e.value;return d?(c[44]=b.createArray(),c[45]=(c[44].push("thread not found"),c[44]),c[46]=(c[44].push(c[30]),c[44]),c[47]=b.toJSON(c[44]),function(a){b.logger(a).mustfix(a)}(c[47]),d=[void 0,void 0,void 0],c[26]=d[0],c[27]=d[1],c[28]=d[2]):(g=e.item,b.sequence([function(d){return c[51]=g.threadName,c[50]=g.threadKey,c[52]=g.mailboxType,c[44]=g.threadType,c[53]=g.capabilities,c[54]=g.capabilities2,c[55]=g.capabilities3,c[56]=g.capabilities4,c[57]=g.capabilities5,b.db.table(2).fetch([[[a[0]]]]).next().then(function(e,f){var d=e.done;e=e.value;return d?c[45]=!1:(f=e.item,b.sequence([function(d){return b.islc(b.db.table(2).fetch([[[f.queueName]],"queueNameTaskId"]),0,b.i64.to_float(b.i64.cast([0,1]))).next().then(function(e,f){var d=e.done;e=e.value;return d?c[58]=!1:(f=e.item,c[58]=b.i64.eq(f.taskId,a[0]))})},function(a){return c[45]=c[58]}]))})},function(a){return b.i64.eq(g.authorityLevel,b.i64.cast([0,20]))&&(b.i64.eq(c[44],b.i64.cast([0,2]))||b.i64.eq(c[44],b.i64.cast([0,5]))||b.i64.eq(c[44],b.i64.cast([0,26])))&&c[45]?b.sequence([function(a){return c[61]=c[22]==null?b.i64.cast([0,1]):c[22],b.db.table(9).fetch([[[c[30]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[58]=b.i64.cast([0,1]):(e=d.item,c[77]=e.syncGroup,b.i64.neq(c[77],void 0)?c[76]=c[77]:c[76]=b.i64.cast([0,1]),c[58]=c[76])})},function(a){return c[60]=new b.Map(),c[60].set("thread_id",c[30]),c[60].set("otid",c[11]),c[60].set("source",c[23]==null?b.i64.cast([0,0]):c[23]),c[60].set("send_type",b.i64.cast([0,1])),c[60].set("sync_group",c[58]),c[60].set("mark_thread_read",c[25]),b.i64.eq(c[61],b.i64.cast([0,1]))?b.resolve(c[60].set("text",c[34])):b.i64.eq(c[61],b.i64.cast([0,2]))?b.resolve(b.i64.neq(c[32],void 0)?(c[60].set("sticker_id",c[32]),c[60].set("send_type",c[61])):0):b.i64.eq(c[61],b.i64.cast([0,7]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[30],c[35]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[76]=a[0],c[77]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[76]=a[0],c[77]=a[1])})},function(a){return c[76]!==void 0?b.i64.neq(c[77],void 0)?(c[60].set("url",c[76]),c[60].set("attribution_app_id",c[77]),c[60].set("send_type",c[61]),c[33]!==void 0?c[60].set("metadata_dataclass",c[33]):0):0:0}]):b.i64.eq(c[61],b.i64.cast([0,3]))?b.sequence([function(a){return c[60].set("text",c[34]),c[76]=b.createArray(),c[77]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[c[30],c[35]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[78]=a.offlineAttachmentId,c[79]=(c[76].push(b.i64.from_string(a.attachmentFbid)),c[76]),c[78]!==void 0?c[79]=(c[77].push(c[78]),c[77]):0})},function(a){return c[60].set("attachment_fbids",c[76]),b.i64.eq(c[61],b.i64.cast([0,9]))?c[60].set("offline_attachment_ids",c[77]):0,c[60].set("send_type",c[61])}]):b.i64.eq(c[61],b.i64.cast([0,9]))?b.sequence([function(a){return c[60].set("text",c[34]),c[76]=b.createArray(),c[77]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[c[30],c[35]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[78]=a.offlineAttachmentId,c[79]=(c[76].push(b.i64.from_string(a.attachmentFbid)),c[76]),c[78]!==void 0?c[79]=(c[77].push(c[78]),c[77]):0})},function(a){return c[60].set("attachment_fbids",c[76]),b.i64.eq(c[61],b.i64.cast([0,9]))?c[60].set("offline_attachment_ids",c[77]):0,c[60].set("send_type",c[61])}]):b.i64.eq(c[61],b.i64.cast([0,4]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[30],c[35]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[76]=void 0:(d=b.item,c[76]=d.attachmentFbid)})},function(a){return b.db.table(16).fetch([[[c[30],c[35]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[78]=void 0:(d=b.item,c[78]=d.actionUrl)})},function(a){return c[76]!==void 0?(c[60].set("text",c[34]),c[78]!==void 0?c[60].set("url",c[78]):0,c[60].set("forwarded_share_id",c[76]),c[60].set("send_type",c[61])):0}]):b.i64.eq(c[61],b.i64.cast([0,5]))?b.resolve(c[12]!==void 0?(c[60].set("forwarded_msg_id",c[12]),c[60].set("send_type",c[61]),b.i64.neq(c[36],void 0)?c[60].set("forward_score",c[36]):0,c[60].set("strip_forwarded_msg_caption",!1)):0):b.i64.eq(c[61],b.i64.cast([0,6]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[30],c[35]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[76]=a[0],c[77]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[76]=a[0],c[77]=a[1])})},function(a){return c[76]!==void 0?(c[60].set("url",c[76]),c[60].set("text",c[34]),c[60].set("send_type",c[61])):0}]):b.i64.eq(c[61],b.i64.cast([0,11]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[30],c[35]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[76]=a[0],c[77]=a[1],a):(d=b.item,a=[d.actionUrl,d.attributionAppId],c[76]=a[0],c[77]=a[1])})},function(a){return c[76]!==void 0?(c[60].set("url",c[76]),c[60].set("text",c[34]),c[60].set("send_type",c[61])):0}]):b.resolve(b.i64.eq(c[61],b.i64.cast([0,12]))?c[60].set("send_type",c[61]):0)},function(a){return c[72]=c[24]==null?void 0:c[24],c[71]=c[8]===""?void 0:c[8],c[71]!==void 0?b.i64.neq(c[13],void 0)?(c[76]=new b.Map(),c[76].set("reply_source_id",c[71]),c[76].set("reply_source_type",c[13]),c[76].set("reply_type",c[42]==null?b.i64.cast([0,0]):c[42]),c[76].set("reply_source_attachment_id",void 0),c[60].set("reply_metadata",c[76])):0:0,c[72]!==void 0?c[14]!==void 0?(c[76]=new b.Map(),c[76].set("subthread_parent_message_id",c[72]),c[76].set("is_exclusive_to_subthread",c[14]),c[60].set("subthread_data",c[76])):0:0,c[73]=c[31]===""?void 0:c[31],c[73]!==void 0?(c[76]=c[37]===""?void 0:c[37],c[76]!==void 0?(c[77]=c[38]===""?void 0:c[38],c[77]!==void 0?(c[78]=new b.Map(),c[78].set("mention_ids",c[73]),c[78].set("mention_offsets",c[76]),c[78].set("mention_lengths",c[77]),c[78].set("mention_types",c[39]===""?void 0:c[39]),c[60].set("mention_data",c[78])):0):0):0,c[40]!==void 0?c[60].set("is_forwarded",c[40]):0,c[74]=c[9]===""?void 0:c[9],c[74]!==void 0?c[60].set("platform_ref",c[74]):0,c[75]=c[10]===""?void 0:c[10],c[75]!==void 0?c[60].set("platform_token",c[75]):0,[b.i64.cast([0,1]),b.i64.cast([0,2])].some(function(a){return b.i64.eq(c[61],a)})?b.i64.neq(c[41],void 0)?c[60].set("hot_emoji_size",c[41]):0:0,b.i64.neq(c[15],void 0)?c[60].set("initiating_source",c[15]):0,c[16]!==void 0?c[60].set("skip_url_preview_gen",c[16]):0,b.i64.neq(c[17],void 0)?c[60].set("rich_text_format_type",c[17]):0,b.resolve()},function(a){return c[18]!==void 0?c[60].set("text_has_links",c[18]):0,c[19]!==void 0?c[60].set("dataclass_params",c[19]):0,c[20]!==void 0?c[60].set("multitab_env",c[20]):0,c[21]!==void 0?c[60].set("metadata_dataclass",c[21]):0,b.filter(b.db.table(14).fetch([[[c[50],c[43]]]]),function(a){return b.i64.eq(a.threadKey,c[50])&&b.i64.eq(b.i64.cast([0,0]),c[52])&&b.i64.eq(a.contactId,c[43])}).next().then(function(d,e){var a=d.done;d=d.value;return a?c[62]=!1:(e=d.item,b.i64.eq(c[44],b.i64.cast([0,152]))?(c[77]=e.threadRoles,b.i64.lt(b.i64.cast([0,7]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,7]),b.i64.cast([0,9]))?c[78]=!1:c[78]=!b.i64.eq(b.i64.and_(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.cast([0,7]))),c[77]),b.i64.cast([0,0])),c[79]=c[53],c[80]=c[54],c[81]=c[55],c[82]=c[56],c[83]=c[57],c[85]=b.i64.div(b.i64.cast([0,223]),b.i64.cast([0,64])),c[86]=b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.sub(b.i64.cast([0,223]),b.i64.mul(c[85],b.i64.cast([0,64]))))),b.i64.lt(b.i64.cast([0,223]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,223]),b.i64.cast([0,291]))?c[84]=!1:(b.i64.eq(c[85],b.i64.cast([0,0]))?c[87]=!b.i64.eq(b.i64.and_(c[86],c[79]),b.i64.cast([0,0])):(b.i64.eq(c[85],b.i64.cast([0,1]))?c[88]=!b.i64.eq(b.i64.and_(c[86],c[80]),b.i64.cast([0,0])):(b.i64.eq(c[85],b.i64.cast([0,2]))?c[89]=!b.i64.eq(b.i64.and_(c[86],c[81]),b.i64.cast([0,0])):(b.i64.eq(c[85],b.i64.cast([0,3]))?c[90]=!b.i64.eq(b.i64.and_(c[86],c[82]),b.i64.cast([0,0])):(b.i64.eq(c[85],b.i64.cast([0,4]))?c[91]=!b.i64.eq(b.i64.and_(c[86],c[83]),b.i64.cast([0,0])):c[91]=!1,c[90]=c[91]),c[89]=c[90]),c[88]=c[89]),c[87]=c[88]),c[84]=c[87]),c[78]===c[84]?0:(function(a){b.logger(a).mustfix(a)}("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting"),b["throw"]("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting")),c[76]=c[78]):c[76]=!1,c[62]=c[76])})},function(a){return c[62]?c[60].set("perform_action_as_page",!0):0,c[64]=b.createArray(),b.forEach(b.db.table(14).fetch([[[c[30]]]]),function(a){a=a.item;return c[76]=(c[64].push(a.contactId),c[64])})},function(a){return c[65]=new b.Map(),c[65].set("participants",c[64]),c[65].set("send_payload",c[60]),c[51]!==void 0?c[65].set("thread_name",c[51]):0,b.db.table(312).fetch([[[c[30]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[66]=void 0:(d=b.item,c[66]=d.metadata)})},function(a){return c[65].set("thread_metadata",c[66]),b.forEach(b.db.table(9).fetch([[[c[50]]]]),function(a){var b=a.update;a.item;return b({otidOfFirstMessage:f.offlineThreadingId})})},function(a){return c[66]===void 0||!1?(b.i64.eq(c[44],b.i64.cast([0,5]))||b.i64.eq(c[44],b.i64.cast([0,26]))?(function(a){b.logger(a).mustfix(a)}("For Marketplace & community chat subthreads, thread metadata cannot be null"),a=[void 0,void 0,void 0],c[76]=a[0],c[77]=a[1],c[78]=a[2]):(c[79]=b.toJSON(c[65]),a=[c[79],b.i64.cast([0,130]),void 0],c[76]=a[0],c[77]=a[1],c[78]=a[2]),a=[c[76],c[77],c[78]],c[68]=a[0],c[69]=a[1],c[70]=a[2]):(b.i64.eq(c[44],b.i64.cast([0,5]))?(c[79]=b.toJSON(c[65]),a=[c[79],b.i64.cast([0,645]),void 0],c[76]=a[0],c[77]=a[1],c[78]=a[2]):(b.i64.eq(c[44],b.i64.cast([0,2]))?(c[82]=b.toJSON(c[65]),a=[c[82],b.i64.cast([0,787]),void 0],c[79]=a[0],c[80]=a[1],c[81]=a[2]):(c[82]=b.toJSON(c[65]),a=[c[82],b.i64.cast([0,645]),void 0],c[79]=a[0],c[80]=a[1],c[81]=a[2]),a=[c[79],c[80],c[81]],c[76]=a[0],c[77]=a[1],c[78]=a[2]),a=[c[76],c[77],c[78]],c[68]=a[0],c[69]=a[1],c[70]=a[2]),a=[c[68],c[69],c[70]],c[47]=a[0],c[48]=a[1],c[49]=a[2]}]):b.sequence([function(a){return c[61]=c[22]==null?b.i64.cast([0,1]):c[22],b.db.table(9).fetch([[[c[30]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[58]=b.i64.cast([0,1]):(e=d.item,c[71]=e.syncGroup,b.i64.neq(c[71],void 0)?c[70]=c[71]:c[70]=b.i64.cast([0,1]),c[58]=c[70])})},function(a){return c[60]=new b.Map(),c[60].set("thread_id",c[30]),c[60].set("otid",c[11]),c[60].set("source",c[23]==null?b.i64.cast([0,0]):c[23]),c[60].set("send_type",b.i64.cast([0,1])),c[60].set("sync_group",c[58]),c[60].set("mark_thread_read",c[25]),b.i64.eq(c[61],b.i64.cast([0,1]))?b.resolve(c[60].set("text",c[34])):b.i64.eq(c[61],b.i64.cast([0,2]))?b.resolve(b.i64.neq(c[32],void 0)?(c[60].set("sticker_id",c[32]),c[60].set("send_type",c[61])):0):b.i64.eq(c[61],b.i64.cast([0,7]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[30],c[35]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[70]=a[0],c[71]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[70]=a[0],c[71]=a[1])})},function(a){return c[70]!==void 0?b.i64.neq(c[71],void 0)?(c[60].set("url",c[70]),c[60].set("attribution_app_id",c[71]),c[60].set("send_type",c[61]),c[33]!==void 0?c[60].set("metadata_dataclass",c[33]):0):0:0}]):b.i64.eq(c[61],b.i64.cast([0,3]))?b.sequence([function(a){return c[60].set("text",c[34]),c[70]=b.createArray(),c[71]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[c[30],c[35]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[72]=a.offlineAttachmentId,c[73]=(c[70].push(b.i64.from_string(a.attachmentFbid)),c[70]),c[72]!==void 0?c[73]=(c[71].push(c[72]),c[71]):0})},function(a){return c[60].set("attachment_fbids",c[70]),b.i64.eq(c[61],b.i64.cast([0,9]))?c[60].set("offline_attachment_ids",c[71]):0,c[60].set("send_type",c[61])}]):b.i64.eq(c[61],b.i64.cast([0,9]))?b.sequence([function(a){return c[60].set("text",c[34]),c[70]=b.createArray(),c[71]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[c[30],c[35]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[72]=a.offlineAttachmentId,c[73]=(c[70].push(b.i64.from_string(a.attachmentFbid)),c[70]),c[72]!==void 0?c[73]=(c[71].push(c[72]),c[71]):0})},function(a){return c[60].set("attachment_fbids",c[70]),b.i64.eq(c[61],b.i64.cast([0,9]))?c[60].set("offline_attachment_ids",c[71]):0,c[60].set("send_type",c[61])}]):b.i64.eq(c[61],b.i64.cast([0,4]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[30],c[35]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[70]=void 0:(d=b.item,c[70]=d.attachmentFbid)})},function(a){return b.db.table(16).fetch([[[c[30],c[35]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[72]=void 0:(d=b.item,c[72]=d.actionUrl)})},function(a){return c[70]!==void 0?(c[60].set("text",c[34]),c[72]!==void 0?c[60].set("url",c[72]):0,c[60].set("forwarded_share_id",c[70]),c[60].set("send_type",c[61])):0}]):b.i64.eq(c[61],b.i64.cast([0,5]))?b.resolve(c[12]!==void 0?(c[60].set("forwarded_msg_id",c[12]),c[60].set("send_type",c[61]),b.i64.neq(c[36],void 0)?c[60].set("forward_score",c[36]):0,c[60].set("strip_forwarded_msg_caption",!1)):0):b.i64.eq(c[61],b.i64.cast([0,6]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[30],c[35]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[70]=a[0],c[71]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[70]=a[0],c[71]=a[1])})},function(a){return c[70]!==void 0?(c[60].set("url",c[70]),c[60].set("text",c[34]),c[60].set("send_type",c[61])):0}]):b.i64.eq(c[61],b.i64.cast([0,11]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[30],c[35]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[70]=a[0],c[71]=a[1],a):(d=b.item,a=[d.actionUrl,d.attributionAppId],c[70]=a[0],c[71]=a[1])})},function(a){return c[70]!==void 0?(c[60].set("url",c[70]),c[60].set("text",c[34]),c[60].set("send_type",c[61])):0}]):b.resolve(b.i64.eq(c[61],b.i64.cast([0,12]))?c[60].set("send_type",c[61]):0)},function(a){return c[66]=c[24]==null?void 0:c[24],c[65]=c[8]===""?void 0:c[8],c[65]!==void 0?b.i64.neq(c[13],void 0)?(c[70]=new b.Map(),c[70].set("reply_source_id",c[65]),c[70].set("reply_source_type",c[13]),c[70].set("reply_type",c[42]==null?b.i64.cast([0,0]):c[42]),c[70].set("reply_source_attachment_id",void 0),c[60].set("reply_metadata",c[70])):0:0,c[66]!==void 0?c[14]!==void 0?(c[70]=new b.Map(),c[70].set("subthread_parent_message_id",c[66]),c[70].set("is_exclusive_to_subthread",c[14]),c[60].set("subthread_data",c[70])):0:0,c[67]=c[31]===""?void 0:c[31],c[67]!==void 0?(c[70]=c[37]===""?void 0:c[37],c[70]!==void 0?(c[71]=c[38]===""?void 0:c[38],c[71]!==void 0?(c[72]=new b.Map(),c[72].set("mention_ids",c[67]),c[72].set("mention_offsets",c[70]),c[72].set("mention_lengths",c[71]),c[72].set("mention_types",c[39]===""?void 0:c[39]),c[60].set("mention_data",c[72])):0):0):0,c[40]!==void 0?c[60].set("is_forwarded",c[40]):0,c[68]=c[9]===""?void 0:c[9],c[68]!==void 0?c[60].set("platform_ref",c[68]):0,c[69]=c[10]===""?void 0:c[10],c[69]!==void 0?c[60].set("platform_token",c[69]):0,[b.i64.cast([0,1]),b.i64.cast([0,2])].some(function(a){return b.i64.eq(c[61],a)})?b.i64.neq(c[41],void 0)?c[60].set("hot_emoji_size",c[41]):0:0,b.i64.neq(c[15],void 0)?c[60].set("initiating_source",c[15]):0,c[16]!==void 0?c[60].set("skip_url_preview_gen",c[16]):0,b.i64.neq(c[17],void 0)?c[60].set("rich_text_format_type",c[17]):0,b.resolve()},function(a){return c[18]!==void 0?c[60].set("text_has_links",c[18]):0,c[19]!==void 0?c[60].set("dataclass_params",c[19]):0,c[20]!==void 0?c[60].set("multitab_env",c[20]):0,c[21]!==void 0?c[60].set("metadata_dataclass",c[21]):0,b.filter(b.db.table(14).fetch([[[c[50],c[43]]]]),function(a){return b.i64.eq(a.threadKey,c[50])&&b.i64.eq(b.i64.cast([0,0]),c[52])&&b.i64.eq(a.contactId,c[43])}).next().then(function(d,e){var a=d.done;d=d.value;return a?c[62]=!1:(e=d.item,b.i64.eq(c[44],b.i64.cast([0,152]))?(c[71]=e.threadRoles,b.i64.lt(b.i64.cast([0,7]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,7]),b.i64.cast([0,9]))?c[72]=!1:c[72]=!b.i64.eq(b.i64.and_(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.cast([0,7]))),c[71]),b.i64.cast([0,0])),c[73]=c[53],c[74]=c[54],c[75]=c[55],c[76]=c[56],c[77]=c[57],c[79]=b.i64.div(b.i64.cast([0,223]),b.i64.cast([0,64])),c[80]=b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.sub(b.i64.cast([0,223]),b.i64.mul(c[79],b.i64.cast([0,64]))))),b.i64.lt(b.i64.cast([0,223]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,223]),b.i64.cast([0,291]))?c[78]=!1:(b.i64.eq(c[79],b.i64.cast([0,0]))?c[81]=!b.i64.eq(b.i64.and_(c[80],c[73]),b.i64.cast([0,0])):(b.i64.eq(c[79],b.i64.cast([0,1]))?c[82]=!b.i64.eq(b.i64.and_(c[80],c[74]),b.i64.cast([0,0])):(b.i64.eq(c[79],b.i64.cast([0,2]))?c[83]=!b.i64.eq(b.i64.and_(c[80],c[75]),b.i64.cast([0,0])):(b.i64.eq(c[79],b.i64.cast([0,3]))?c[84]=!b.i64.eq(b.i64.and_(c[80],c[76]),b.i64.cast([0,0])):(b.i64.eq(c[79],b.i64.cast([0,4]))?c[85]=!b.i64.eq(b.i64.and_(c[80],c[77]),b.i64.cast([0,0])):c[85]=!1,c[84]=c[85]),c[83]=c[84]),c[82]=c[83]),c[81]=c[82]),c[78]=c[81]),c[72]===c[78]?0:(function(a){b.logger(a).mustfix(a)}("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting"),b["throw"]("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting")),c[70]=c[72]):c[70]=!1,c[62]=c[70])})},function(a){return c[62]?c[60].set("perform_action_as_page",!0):0,c[64]=b.toJSON(c[60]),a=[c[64],b.i64.cast([0,46]),void 0],c[47]=a[0],c[48]=a[1],c[49]=a[2]}])},function(a){return a=[c[47],c[48],c[49]],c[26]=a[0],c[27]=a[1],c[28]=a[2],a}]))})},function(a){return a=[c[26],c[27],c[28]],c[4]=a[0],c[5]=a[1],c[6]=a[2],a}]))})},function(a){return a=[c[4],c[5],c[6]],c[0]=a[0],c[1]=a[1],c[2]=a[2],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxTaskSerializerSendMessageV2StoredProcedure";a.__tables__=["messages_optimistic_context","messages","threads","pending_tasks","attachments","participants","threads_optimistic_metadata"];e.exports=a}),null);
__d("LSTaskSerializerSyncThreadCapabilities",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,void 0,void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],c.resolve(d)}a.__sproc_name__="LSMailboxTaskSerializerSyncThreadCapabilitiesStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIsExperimentCapabilityEnabled.nop",["LSACSExperimentCapability","LSIntEnum","MetaConfig","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("MetaConfig")._("87"),k=c("MetaConfig")._("156");a=function(a,e,f,g){switch((i||(i=d("LSIntEnum"))).toNumber(f)){case c("LSACSExperimentCapability").BUMP_TOKEN_SYNC_TASK_AT_TASK_SERIALIZATION:return(h||(h=b("Promise"))).resolve([k]);case c("LSACSExperimentCapability").INSERT_PENDING_TASK_PARENT_ROW_WHEN_NO_ACS_TOKENS_AT_TASK_INSERTION:return(h||(h=b("Promise"))).resolve([!1]);case c("LSACSExperimentCapability").RETRY_AFTER_TASK_SERIALIZATION_FAILURE_EXPONENTIAL_BACKOFF:return(h||(h=b("Promise"))).resolve([j])}return(h||(h=b("Promise"))).resolve([!1])};a.__nop_name__="LSIsExperimentCapabilityEnabled";g["default"]=a}),98);
__d("LSVoprfHmac.nop",["ACSCipherSuiteModule","ACSTokenHmacUtil","Promise","XPlatReactTextEncoder","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){a=d("ACSCipherSuiteModule").getACSCipherSuiteByValue(d("ACSCipherSuiteModule").VOPRF_RISTRETTO_HMACSHA512.value);if(!a)return(h||(h=b("Promise"))).resolve([void 0]);c=(yield d("ACSTokenHmacUtil").hmac(a.macAlgorithm,new Uint8Array(f).slice(),new(d("XPlatReactTextEncoder").TextEncoder)().encode(e)));return(h||(h=b("Promise"))).resolve([c.buffer])});function c(b,c,d,e){return a.apply(this,arguments)}return c}();a.__nop_name__="LSVoprfHmac";g["default"]=a}),98);
__d("LSTaskSerializerUnauthenticatedTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsExperimentCapabilityEnabled.nop","LSMailboxTaskCompletionApiOnTaskCompletion","LSRemoveUsedTokens","LSVoprfHmac.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return c.db.table(311).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=void 0:(b=a.item,d[0]=b.projectName)})},function(e){return d[0]!==void 0?c.sequence([function(e){return a[1]!==void 0?c.sequence([function(a){return d[9]=c.createArray(),d[10]=c.i64.of_float(Date.now()),c.forEach(c.filter(c.db.table(307).fetch(),function(a){return d[0]===a.projectName&&c.i64.gt(a.expirationTimestampMs,d[10])}),function(a){a=a.item;return d[16]=(d[9].push(a.configId),d[9])})},function(a){return c.sequence([function(a){return d[16]=c.createArray(),d[17]=c.i64.of_int32(d[9].length),c.i64.gt(d[17],c.i64.cast([0,0]))?c.loopAsync(d[17],function(a){return d[19]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[9],d[19]).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],a})},function(a){return d[22]=(d[16].push(d[20]),d[16])}])}):c.resolve()},function(a){return d[18]=d[16].join(","),d[11]=d[18]}])},function(e){return c.filter(c.db.table(309).fetch(),function(a){return d[9].includes(a.configId)&&c.i64.gt(a.redeemLimit,c.i64.cast([0,0]))}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(a){return c.nativeOperation(b("LSIsExperimentCapabilityEnabled.nop"),c.i64.cast([0,0]),d[0]).then(function(a){return a=a,d[16]=a[0],a})},function(e){return d[16]?c.sequence([function(b){return c.db.table(311).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[20]=c.i64.cast([0,0]):(e=b.item,d[20]=e.failureCount)})},function(b){return c.forEach(c.db.table(311).fetch([[[a[0]]]]),function(a){a=a.item;return c.forEach(c.db.table(311).fetch([[[a.taskId]]]),function(a){var b=a.update;a.item;return b({failureCount:c.i64.add(d[20],c.i64.cast([0,1]))})})})},function(a){return a=[void 0,void 0,c.i64.mul(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.mod_(d[20],c.i64.cast([0,7])))),c.i64.cast([0,500]))],d[17]=a[0],d[18]=a[1],d[19]=a[2],a}]):c.sequence([function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[20]=c.createArray(),d[21]=(d[20].push("Unauthenticated Task Serializer: no valid tokens"),d[20]),d[22]=(d[20].push(a[0]),d[20]),d[23]=(d[20].push(d[0]),d[20]),d[24]=c.toJSON(d[20]),function(a){c.logger(a).mustfix(a)}(d[24]),b=[void 0,void 0,void 0],d[17]=b[0],d[18]=b[1],d[19]=b[2]}])},function(a){return a=[d[17],d[18],d[19]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]):(f=e.item,c.sequence([function(e){return d[20]=f.tokenId,c.nativeOperation(b("LSVoprfHmac.nop"),a[2]==null?"":a[2],f.sharedSecret).then(function(a){return a=a,d[16]=a[0],a})},function(e){return c.blobs.neq(d[16],void 0)?c.sequence([function(a){return c.forEach(c.db.table(309).fetch([[[d[20]]]]),function(a){var b=a.update;a=a.item;return b({redeemLimit:c.i64.sub(a.redeemLimit,c.i64.cast([0,1]))})})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[16]).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),f.nonce).then(function(a){return a=a,d[22]=a[0],a})},function(b){return d[23]=new c.Map(),d[23].set("config_id",f.configId),d[23].set("tag",d[21]==null?"":d[21]),d[23].set("aux",d[22]==null?"":d[22]),d[23].set("project_name",d[0]),d[24]=c.toJSON(d[23]),d[25]=new c.Map(),d[25].set("payload",a[2]==null?"":a[2]),d[25].set("token",d[24]),d[26]=c.toJSON(d[25]),b=[d[26],c.i64.from_string(a[1]),void 0],d[17]=b[0],d[18]=b[1],d[19]=b[2]}]):c.sequence([function(a){return c.forEach(c.db.table(309).fetch([[[d[20]]]]),function(a){return a["delete"]()})},function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[21]=c.createArray(),d[22]=(d[21].push("Unauthenticated Task Serializer: hmac failed"),d[21]),d[23]=(d[21].push(a[0]),d[21]),d[24]=c.toJSON(d[21]),function(a){c.logger(a).mustfix(a)}(d[24]),b=[void 0,void 0,void 0],d[17]=b[0],d[18]=b[1],d[19]=b[2]}])},function(a){return a=[d[17],d[18],d[19]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return a=[d[12],d[13],d[14]],d[6]=a[0],d[7]=a[1],d[8]=a[2],a}]):c.sequence([function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[9]=c.createArray(),d[10]=(d[9].push("Unauthenticated Task Serializer: task has no write label"),d[9]),d[11]=(d[9].push(a[0]),d[9]),d[12]=c.toJSON(d[9]),function(a){c.logger(a).mustfix(a)}(d[12]),b=[void 0,void 0,void 0],d[6]=b[0],d[7]=b[1],d[8]=b[2]}])},function(a){return a=[d[6],d[7],d[8]],d[2]=a[0],d[3]=a[1],d[4]=a[2],a}]):c.sequence([function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[6]=c.createArray(),d[7]=(d[6].push("Unauthenticated Task Serializer: anonymous_task_context row not found"),d[6]),d[8]=(d[6].push(a[0]),d[6]),d[9]=c.toJSON(d[6]),function(a){c.logger(a).mustfix(a)}(d[9]),b=[void 0,void 0,void 0],d[2]=b[0],d[3]=b[1],d[4]=b[2]}])},function(a){return c.storedProcedure(b("LSRemoveUsedTokens"))},function(a){return d[0]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSIsExperimentCapabilityEnabled.nop"),c.i64.cast([0,1]),d[0]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[6]?c.sequence([function(a){return c.i64.neq(d[4],void 0)?c.resolve(d[8]=!0):c.sequence([function(a){return d[10]=c.createArray(),d[11]=c.i64.of_float(Date.now()),c.forEach(c.filter(c.db.table(307).fetch(),function(a){return d[0]===a.projectName&&c.i64.gt(a.expirationTimestampMs,d[11])}),function(a){a=a.item;return d[15]=(d[10].push(a.configId),d[10])})},function(a){return c.sequence([function(a){return d[15]=c.createArray(),d[16]=c.i64.of_int32(d[10].length),c.i64.gt(d[16],c.i64.cast([0,0]))?c.loopAsync(d[16],function(a){return d[18]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[10],d[18]).then(function(a){return a=a,d[19]=a[0],d[20]=a[1],a})},function(a){return d[21]=(d[15].push(d[19]),d[15])}])}):c.resolve()},function(a){return d[17]=d[15].join(","),d[12]=d[17]}])},function(a){return c.filter(c.db.table(309).fetch(),function(a){return d[10].includes(a.configId)&&c.i64.gt(a.redeemLimit,c.i64.cast([0,0]))}).next().then(function(a,b){b=a.done;a=a.value;return b?d[13]=!0:(a.item,d[13]=!1)})},function(a){return d[8]=d[13]}])},function(a){return d[8]?c.sequence([function(a){return c.filter(c.db.table(310).fetch(),function(a){return a.projectName===d[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[10]=void 0:(b=a.item,d[10]=b.taskId)})},function(a){return d[9]=d[10]}]):c.resolve(d[9]=void 0)},function(a){return d[7]=d[9]}]):c.resolve(d[7]=void 0)},function(a){return d[5]=d[7]}]):c.resolve(d[5]=void 0)},function(a){return a=[d[2],d[3],d[4],d[5]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsTaskSerializerUnauthenticatedTaskStoredProcedure";a.__tables__=["anonymous_task_context","secure_acs_configurations","secure_acs_tokens","acs_request_context"];e.exports=a}),null);
__d("LSTaskSerializerUpdateThreadName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("taskSerializerUpdateThreadName: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2]):(e=d.item,b.sequence([function(a){return c[8]=e.threadKey,b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?(c[9]=b.createArray(),c[10]=(c[9].push("taskSerializerUpdateThreadName: Thread not found"),c[9]),c[11]=(c[9].push(c[8]),c[9]),c[12]=b.toJSON(c[9]),function(a){b.logger(a).mustfix(a)}(c[12]),a=[void 0,void 0,void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2]):(e=d.item,b.sequence([function(a){return b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[9]=b.i64.cast([0,1]):(e=d.item,c[14]=e.syncGroup,b.i64.neq(c[14],void 0)?c[13]=c[14]:c[13]=b.i64.cast([0,1]),c[9]=c[13])})},function(a){return c[11]=new b.Map(),c[11].set("thread_key",c[8]),c[11].set("thread_name",e.threadName==null?"":e.threadName),c[11].set("sync_group",c[9]),c[12]=b.toJSON(c[11]),a=[c[12],b.i64.cast([0,32]),void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2]}]))})},function(a){return a=[c[4],c[5],c[6]],c[0]=a[0],c[1]=a[1],c[2]=a[2],a}]))})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxTaskSerializerUpdateThreadNameStoredProcedure";a.__tables__=["threads_optimistic_context","threads"];e.exports=a}),null);
__d("LSSerializeTask",["LSForceTaskExecutionImmediately","LSLogMebClientEvent.nop","LSTaskSerializerAcsIssueNextSync","LSTaskSerializerDeleteChatHistory","LSTaskSerializerE2eeMessageIntegrityCheckV2","LSTaskSerializerE2eeMetadataThreadIntegrityCheck","LSTaskSerializerEncryptedBackupAction","LSTaskSerializerEncryptedBackupsLoopingUpload","LSTaskSerializerEncryptedBackupsOpenUpload","LSTaskSerializerEncryptedBackupsRestoreWithSerializer","LSTaskSerializerEncryptedBackupsUpload","LSTaskSerializerEncryptedBackupsUploadProtobufOnly","LSTaskSerializerEncryptedBackupsUploadSenderBackup","LSTaskSerializerMuteThreadV2","LSTaskSerializerRemoveThread","LSTaskSerializerSendMessageV2","LSTaskSerializerSyncThreadCapabilities","LSTaskSerializerUnauthenticatedTask","LSTaskSerializerUpdateThreadName"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return a[1]==="46"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerSendMessageV2"),a[0]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(a){return a=[d[8],c.i64.to_string(d[9]),void 0,void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}]):c.sequence([function(e){return a[1]==="144"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerMuteThreadV2"),a[0]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return a=[d[12],c.i64.to_string(d[13]),void 0,void 0],d[8]=a[0],d[9]=a[1],d[10]=a[2],d[11]=a[3],a}]):c.sequence([function(e){return a[1]==="146"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerRemoveThread"),a[0]).then(function(a){return a=a,d[16]=a[0],d[17]=a[1],a})},function(a){return a=[d[16],c.i64.to_string(d[17]),void 0,void 0],d[12]=a[0],d[13]=a[1],d[14]=a[2],d[15]=a[3],a}]):c.sequence([function(e){return a[1]==="32"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerUpdateThreadName"),a[0]).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],d[22]=a[2],a})},function(a){return a=[d[20],c.i64.to_string(d[21]),void 0,d[22]],d[16]=a[0],d[17]=a[1],d[18]=a[2],d[19]=a[3],a}]):c.sequence([function(e){return a[1]==="362"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerAcsIssueNextSync"),a[0]).then(function(a){return a=a,d[24]=a[0],d[25]=a[1],d[26]=a[2],a})},function(a){return a=[d[24],c.i64.to_string(d[25]),void 0,d[26]],d[20]=a[0],d[21]=a[1],d[22]=a[2],d[23]=a[3],a}]):c.sequence([function(e){return a[1]==="50015"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsRestoreWithSerializer"),a[0]).then(function(a){return a=a,d[28]=a[0],d[29]=a[1],d[30]=a[2],a})},function(a){return a=[d[28],c.i64.to_string(d[29]),void 0,d[30]],d[24]=a[0],d[25]=a[1],d[26]=a[2],d[27]=a[3],a}]):c.sequence([function(e){return a[1]==="319"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupAction"),a[0]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],d[34]=a[2],a})},function(a){return a=[d[32],c.i64.to_string(d[33]),void 0,d[34]],d[28]=a[0],d[29]=a[1],d[30]=a[2],d[31]=a[3],a}]):c.sequence([function(e){return a[1]==="50026"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsUpload"),a[0]).then(function(a){return a=a,d[36]=a[0],d[37]=a[1],a})},function(a){return a=[d[36],c.i64.to_string(d[37]),void 0,void 0],d[32]=a[0],d[33]=a[1],d[34]=a[2],d[35]=a[3],a}]):c.sequence([function(e){return a[1]==="50042"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsUploadProtobufOnly"),a[0]).then(function(a){return a=a,d[40]=a[0],d[41]=a[1],d[42]=a[2],a})},function(a){return a=[d[40],c.i64.to_string(d[41]),void 0,d[42]],d[36]=a[0],d[37]=a[1],d[38]=a[2],d[39]=a[3],a}]):c.sequence([function(e){return a[1]==="700"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerE2eeMetadataThreadIntegrityCheck"),a[0]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],d[46]=a[2],a})},function(a){return a=[d[44],c.i64.to_string(d[45]),void 0,d[46]],d[40]=a[0],d[41]=a[1],d[42]=a[2],d[43]=a[3],a}]):c.sequence([function(e){return a[1]==="705"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerE2eeMessageIntegrityCheckV2"),a[0]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],d[50]=a[2],a})},function(a){return a=[d[48],c.i64.to_string(d[49]),void 0,d[50]],d[44]=a[0],d[45]=a[1],d[46]=a[2],d[47]=a[3],a}]):c.sequence([function(e){return a[1]==="50043"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsLoopingUpload"),a[0]).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],d[54]=a[2],a})},function(a){return a=[d[52],c.i64.to_string(d[53]),void 0,d[54]],d[48]=a[0],d[49]=a[1],d[50]=a[2],d[51]=a[3],a}]):c.sequence([function(e){return a[1]==="50048"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsOpenUpload"),a[0]).then(function(a){return a=a,d[56]=a[0],d[57]=a[1],a})},function(a){return a=[d[56],c.i64.to_string(d[57]),void 0,void 0],d[52]=a[0],d[53]=a[1],d[54]=a[2],d[55]=a[3],a}]):c.sequence([function(e){return a[1]==="160013"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerSyncThreadCapabilities"),a[0]).then(function(a){return a=a,d[60]=a[0],d[61]=a[1],d[62]=a[2],a})},function(a){return a=[d[60],c.i64.to_string(d[61]),void 0,d[62]],d[56]=a[0],d[57]=a[1],d[58]=a[2],d[59]=a[3],a}]):c.sequence([function(e){return a[1]==="903"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerDeleteChatHistory"),a[0]).then(function(a){return a=a,d[64]=a[0],d[65]=a[1],d[66]=a[2],a})},function(a){return a=[d[64],c.i64.to_string(d[65]),void 0,d[66]],d[60]=a[0],d[61]=a[1],d[62]=a[2],d[63]=a[3],a}]):c.sequence([function(e){return a[1]==="50057"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsUploadSenderBackup"),a[0]).then(function(a){return a=a,d[68]=a[0],d[69]=a[1],d[70]=a[2],a})},function(a){return a=[d[68],c.i64.to_string(d[69]),void 0,d[70]],d[64]=a[0],d[65]=a[1],d[66]=a[2],d[67]=a[3],a}]):c.resolve((e=[a[2],a[1],void 0,void 0],d[64]=e[0],d[65]=e[1],d[66]=e[2],d[67]=e[3],e))},function(a){return a=[d[64],d[65],d[66],d[67]],d[60]=a[0],d[61]=a[1],d[62]=a[2],d[63]=a[3],a}])},function(a){return a=[d[60],d[61],d[62],d[63]],d[56]=a[0],d[57]=a[1],d[58]=a[2],d[59]=a[3],a}])},function(a){return a=[d[56],d[57],d[58],d[59]],d[52]=a[0],d[53]=a[1],d[54]=a[2],d[55]=a[3],a}])},function(a){return a=[d[52],d[53],d[54],d[55]],d[48]=a[0],d[49]=a[1],d[50]=a[2],d[51]=a[3],a}])},function(a){return a=[d[48],d[49],d[50],d[51]],d[44]=a[0],d[45]=a[1],d[46]=a[2],d[47]=a[3],a}])},function(a){return a=[d[44],d[45],d[46],d[47]],d[40]=a[0],d[41]=a[1],d[42]=a[2],d[43]=a[3],a}])},function(a){return a=[d[40],d[41],d[42],d[43]],d[36]=a[0],d[37]=a[1],d[38]=a[2],d[39]=a[3],a}])},function(a){return a=[d[36],d[37],d[38],d[39]],d[32]=a[0],d[33]=a[1],d[34]=a[2],d[35]=a[3],a}])},function(a){return a=[d[32],d[33],d[34],d[35]],d[28]=a[0],d[29]=a[1],d[30]=a[2],d[31]=a[3],a}])},function(a){return a=[d[28],d[29],d[30],d[31]],d[24]=a[0],d[25]=a[1],d[26]=a[2],d[27]=a[3],a}])},function(a){return a=[d[24],d[25],d[26],d[27]],d[20]=a[0],d[21]=a[1],d[22]=a[2],d[23]=a[3],a}])},function(a){return a=[d[20],d[21],d[22],d[23]],d[16]=a[0],d[17]=a[1],d[18]=a[2],d[19]=a[3],a}])},function(a){return a=[d[16],d[17],d[18],d[19]],d[12]=a[0],d[13]=a[1],d[14]=a[2],d[15]=a[3],a}])},function(a){return a=[d[12],d[13],d[14],d[15]],d[8]=a[0],d[9]=a[1],d[10]=a[2],d[11]=a[3],a}])},function(a){return a=[d[8],d[9],d[10],d[11]],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}])},function(e){return a[3]?c.sequence([function(a){return d[9]="60009"===d[1]||"60006"===d[1]||"60008"===d[1]||"60011"===d[1]||"765"===d[1]||"1006"===d[1]||"160009"===d[1]||"761"===d[1]||"1018"===d[1]||"632"===d[1]||"384"===d[1]||"384"===d[1],d[9]?d[1]!==void 0?(d[15]=["Deidentified task is being executed through the 'identified' path. Canceling task with label: ",d[1]].join(""),function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSCoreSerializeTaskStoredProcedure] ","",d[15]].join("")),d[14]=c.createArray(),void 0!==void 0?d[16]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSCoreSerializeTaskStoredProcedure",d[15],d[14],c.i64.cast([0,3]))):c.resolve():c.resolve()},function(a){return c.resolve(d[8]=!1)},function(a){return d[9]||d[8]?(a=[void 0,void 0,void 0,void 0],d[10]=a[0],d[11]=a[1],d[12]=a[2],d[13]=a[3],a):(a=[d[0],d[1],d[2],d[3]],d[10]=a[0],d[11]=a[1],d[12]=a[2],d[13]=a[3],a),a=[d[10],d[11],d[12],d[13]],d[4]=a[0],d[5]=a[1],d[6]=a[2],d[7]=a[3]}]):c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerUnauthenticatedTask"),a[0],d[1],d[0]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],d[10]=a[2],d[11]=a[3],a})},function(a){return c.i64.neq(d[11],void 0)?c.storedProcedure(b("LSForceTaskExecutionImmediately"),d[11]):c.resolve()},function(a){return a=[d[8],c.i64.to_string(d[9]),void 0,d[10]],d[4]=a[0],d[5]=a[1],d[6]=a[2],d[7]=a[3],a}])},function(a){return a=[d[4],d[5],d[6],d[7]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreSerializeTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSerializeTaskStoredProcedure",["LSSerializeTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSerializeTask"),e.taskId,e.taskLabel,e.taskValue,e.requiresAuthentication);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSBeginHandlingPendingTasksForQueue2",["I64","LSFactory","LSIntEnum","LSPendingTasksPluginType","LSSerializeTaskStoredProcedure","LSShape","LSVec","Promise","ReQL","XPlatReactCrypto","asyncToGeneratorRuntime","gkx","isNativeTask","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=500,l=3e4,m=5,n=(e=c("qex")._("4835"))!=null?e:50,o=7;function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield a.lightspeed_task_context.get(b));return a==null||a.requiresAuthentication});return q.apply(this,arguments)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.pending_tasks.index("queueNameTaskId")).getKeyRange(b)));return a==null?{context:void 0,failureCount:(i||(i=d("I64"))).neg_one,httpUrlOverride:void 0,minTimeToSyncTimestampMs:i.neg_one,pluginType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").LS_BROKER),queueName:""}:a});return s.apply(this,arguments)}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange(b)));return a==null?0:(i||(i=d("I64"))).to_float(a.lastSyncRequestTimestampMs)});return u.apply(this,arguments)}function v(a,b,c){b=(i||(i=d("I64"))).equal(a.failureCount,(i||(i=d("I64"))).zero)||b;if(b)return 0;b=(i||(i=d("I64"))).to_float(a.failureCount)>o?(i||(i=d("I64"))).to_float(a.failureCount)-o:(i||(i=d("I64"))).to_float(a.failureCount);a=Math.min((1<<Math.min(b-1,o))*k,l);b=c+a;return Math.max(b-Date.now(),0)}function w(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(i||(i=d("I64"))).add(i.lsl_(i.of_float(a[0]),32),i.of_float(a[1]))}function x(){var a=(i||(i=d("I64"))).of_float(Date.now());return i.and_(i.or_(i.lsl_(a,22),i.and_(w(),i.castExn([0,4194303]))),i.castExn([2147483647,4294967295]))}function y(a,b){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=x(),e=(yield a.network_requests.get(b,(i||(i=d("I64"))).neg_one));e==null?yield a.network_requests.add({epochId:c,failureCount:(i||(i=d("I64"))).zero,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.of_float(Date.now()),syncDatabaseId:i.neg_one,taskQueueName:b}):yield a.network_requests.put(babelHelpers["extends"]({},e,{epochId:c,lastSyncRequestTimestampMs:(i||(i=d("I64"))).of_float(Date.now())}));return c});return z.apply(this,arguments)}function A(a,b){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange(b).filter(function(a){return a.epochId!=null})))!=null});return B.apply(this,arguments)}function C(a,b,c){var e=(i||(i=d("I64"))).to_float(a.minTimeToSyncTimestampMs),f=Date.now();e=e-f;f=e<=0;return f?v(a,b,c):e}function D(a){return a.httpUrlOverride!=null||(i||(i=d("I64"))).to_float(a.failureCount)>o}function E(a){return a.timeoutTimestampMs!=null?(i||(i=d("I64"))).to_float(a.timeoutTimestampMs)<=Date.now():!1}function F(a){return a===90..toString()||a===130..toString()||a===153..toString()}function G(a,b,c,d,e){e=e===0?void 0:e;return{failureCount:e,label:a,payload:b,queueName:c,taskId:d}}function H(a,b,c){return I.apply(this,arguments)}function I(){I=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){a=(yield c("LSSerializeTaskStoredProcedure")(c("LSFactory")(a),{requiresAuthentication:e,taskId:b.taskId,taskLabel:b.context,taskValue:b.taskValue}));e=a[0];var f=a[1];a[2];a=a[3];if(e==null){if(a!=null)return{minRetryDelayMs:a};return}return G(f,e,b.queueName,b.taskId,(i||(i=d("I64"))).to_float(b.failureCount))});return I.apply(this,arguments)}function J(a,b,c){return K.apply(this,arguments)}function K(){K=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){if(b.context==null){yield a.pending_tasks["delete"](b.taskId);return}var d=E(b);if(d){yield a.pending_tasks["delete"](b.taskId);return}return H(a,b,c)});return K.apply(this,arguments)}function L(a,b){b=b>=(c("gkx")("26373")&&a===String(207)?n:m)||F(a);return!b}function M(a,b){return N.apply(this,arguments)}function N(){N=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield a.pending_tasks.get(b.taskId));c!=null&&(i||(i=d("I64"))).equal(b.firstExecutedTimestampMs,(i||(i=d("I64"))).zero)&&(yield a.pending_tasks.put(babelHelpers["extends"]({},c,{firstExecutedTimestampMs:(i||(i=d("I64"))).of_float(Date.now())})))});return N.apply(this,arguments)}function O(a,b){return P.apply(this,arguments)}function P(){P=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){if(c.length===0)return{epochId:void 0,tasks:[]};var e=[],f=c[0].httpUrlOverride,g=(yield (h||(h=b("Promise"))).all(c.map(function(b){return p(a,b.taskId)}))).some(Boolean);for(c of c){var j=c.httpUrlOverride===f,k=(yield p(a,c.taskId))===g;yield M(a,c);if(!j||!k)break;j=(yield J(a,c,g));if(j!=null&&j.payload!=null)e.push(j);else if((j==null?void 0:j.minRetryDelayMs)!=null){k=(yield a.pending_tasks.get(c.taskId));if(k!=null){yield a.pending_tasks.put(babelHelpers["extends"]({},k,{failureCount:(i||(i=d("I64"))).add((k=k.failureCount)!=null?k:(i||(i=d("I64"))).zero,i.one),minTimeToSyncTimestampMs:i.add(j.minRetryDelayMs,i.of_float(Date.now()))}))}}else yield a.pending_tasks["delete"](c.taskId);if(!L(c.context,e.length))break}return{epochId:void 0,tasks:e}});return P.apply(this,arguments)}function Q(a,b,c,d,e){return R.apply(this,arguments)}function R(){R=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e){e===void 0&&(e=!0);b=(yield O(a,b));var f=b.tasks;if(f.length===0)return{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:void 0,queueName:c,skipRealtimeGateway:!1,workItemType:4};if(e===!0){f=(yield y(a,c));b.epochId=f}e=(yield r(a,c));return{httpUrlOverride:e.httpUrlOverride,networkPayload:b,nextSyncMs:void 0,queueName:c,skipRealtimeGateway:D(e),workItemType:d}});return R.apply(this,arguments)}function S(a,b,c){return T.apply(this,arguments)}function T(){T=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield r(a,b)),g=(yield t(a,b));f=C(f,e,g);e=f!==0;if(e)return[{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:f,queueName:b,skipRealtimeGateway:!1,workItemType:3}];g=[];e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.pending_tasks.index("queueNameTaskId")).getKeyRange(b)));f=e.filter(c("isNativeTask"));if(f.length>0){f=(yield Q(a,f,b,2,c("gkx")("4778")===!0));g.push(f)}f=e.filter(function(a){return!c("isNativeTask")(a)});if(f.length>0){e=(yield Q(a,f,b,1));g.push(e)}return g});return T.apply(this,arguments)}function U(a,b,c){return V.apply(this,arguments)}function V(){V=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var d=!(yield A(a,b));return d?S(a,b,c):[{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:void 0,queueName:b,skipRealtimeGateway:!1,workItemType:4}]});return V.apply(this,arguments)}function a(a,b){return W.apply(this,arguments)}function W(){W=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.ignoreSoftDelay;b=b.queueName;a=(yield U(a,b,e));return a.map(function(a){var b;return d("LSShape").ofRecord({network_payload:d("LSShape").ofRecord({epoch_id:(b=a.networkPayload)==null?void 0:b.epochId,tasks:c("LSVec").ofArray(((b=(b=a.networkPayload)==null?void 0:b.tasks)!=null?b:[]).map(function(a){var b;return d("LSShape").ofRecord({failure_count:a.failureCount!=null?(i||(i=d("I64"))).of_float(a.failureCount):void 0,label:(b=a.label)!=null?b:void 0,payload:a.payload,queue_name:a.queueName,task_id:a.taskId})}))}),next_sync_ms:a.nextSyncMs!=null?(i||(i=d("I64"))).of_float(a.nextSyncMs):void 0,queue_name:a.queueName,skip_realtime_gateway:a.skipRealtimeGateway,work_item_type:(j||(j=d("LSIntEnum"))).ofNumber(a.workItemType)})})});return W.apply(this,arguments)}a._updateTaskIfNeeded=M;a._getHeadOfNormalQueue=r;a._lastSyncRequestTimestampForQueue=t;a._exponentialBackoffForNormalQueue=v;a._generateNewEpoch=x;a._openNewEpochForQueue=y;a._isEpochOpenForQueue=A;a._calculateDelayForNormalQueue=C;a._queueShouldSkipRealtimeGateway=D;a._isNativeTask=c("isNativeTask");a._taskIsTimedOut=E;a._taskShouldStopBatching=F;a._buildTaskPayloadExpressionForNormalTaskWithParameters=G;a._buildTaskPayloadExpressionForValidatedNormalTask=H;a._buildTaskPayloadExpressionForUnvalidatedNormalTask=J;a._workForNormalQueueWithoutDelay=Q;a._workForNormalQueueWithClosedEpoch=S;a._buildWorkForNormalQueue=U;a._buildNetworkPayloadShapeForTasks=O;a._canContinueBatchingForQueue=L;g["default"]=a}),98);
__d("LSCookie",["$InternalEnum","Cookie","CookieCore","CurrentEnvironment","CurrentMessengerUser","FBLogger","I64","LSE2EEMetadataSyncGroupUtils","LSIntEnum","MessengerLogHistory","MqttWebDeviceID","ReQL","SortedAsyncIterable","isPromise","isStringNullOrEmpty","pageID","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=b("$InternalEnum")({SYNCING:"1",NOT_SYNCING:"0"}),l=d("MessengerLogHistory").getInstance("client_init"),m=c("CurrentEnvironment").instagramdotcom?"igd_ls":"m_ls",n={c:{},d:c("MqttWebDeviceID").clientID,s:k.NOT_SYNCING,u:c("pageID")};function o(a){function b(a){d("CookieCore").setWithDomain_FOR_MESSENGER_LS_ONLY(m,JSON.stringify(a),window.location.hostname)}var e=c("Cookie").get(m);if(e==null){var f;b((f={},f[d("CurrentMessengerUser").getIDorEIMU()]=a,f));return}f=JSON.parse(e);if(f.u==null){b(babelHelpers["extends"]({},f,(e={},e[d("CurrentMessengerUser").getIDorEIMU()]=a,e)))}else{b((f={},f[d("CurrentMessengerUser").getIDorEIMU()]=a,f))}}function a(){c("Cookie").clear(m)}function p(a){if(typeof a!=="object")return null;if(a==null)return null;var b=a.c,c=a.d,d=a.s;a=a.u;d=typeof d==="string"?k.cast(d):null;b=typeof b==="object"&&b!=null?Object.entries(b).reduce(function(a,b){var c=b[0];b=b[1];if(a==null||typeof b!=="string")return null;a[c]=b;return a},{}):null;if(typeof c!=="string")return null;if(d==null)return null;if(b==null)return null;return typeof a!=="string"?null:{c:b,d:c,s:d,u:a}}function q(){var a=c("Cookie").get(m);if(c("isStringNullOrEmpty")(a))return n;a=JSON.parse(a);var b=d("CurrentMessengerUser").getIDorEIMU(),e=p(a);a=typeof a==="object"&&a!=null?p(a[b]):null;return(b=a!=null?a:e)!=null?b:n}function r(a){var b=q();if(b.u!==c("pageID"))return;var e={};a.forEach(function(a){a[0];a=a[1];var b=a.currentCursor;a=a.groupId;b!=null&&(e[(i||(i=d("I64"))).to_string(a)]=b)});l.debug("Updated sync cookie to set syncing=false, saving latest cursors");o(babelHelpers["extends"]({},b,{c:e,s:k.NOT_SYNCING}))}var s=[1,2,d("LSE2EEMetadataSyncGroupUtils").shouldAlwaysResetE2EEMetadata()?null:95];function e(a){var b=d("SortedAsyncIterable").toArray(d("ReQL").union.apply(void 0,s.map(function(b){return b==null?d("ReQL").empty():d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(b))})));if((h||(h=c("isPromise")))(b)){c("promiseDone")(b.then(function(a){r(a)}));return}r(b)}function f(){try{var a=q();l.debug("Updated sync cookie to set syncing=true");o(babelHelpers["extends"]({},a,{s:k.SYNCING,u:c("pageID")}))}catch(a){c("FBLogger")("messenger_web").catching(a).warn("[LS] Failed to sync cookie")}}g.Status=k;g.DEFAULT_COOKIE=n;g.clear=a;g.get=q;g.syncBeforeUnload=e;g.setSyncing=f}),98);
__d("LSDataTraceFlushDeferred",["MetaConfig","Promise","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("LSDataTraceFlush").__setRef("LSDataTraceFlushDeferred");function a(a){if(!c("MetaConfig")._("62"))return(h||(h=b("Promise"))).resolve(function(){});else return i.load().then(function(b){return b.flushExpiredDataTraces(a)})}g.watchForExpiredTraces=a}),98);
__d("LSDatabaseProviderType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return g(a.persistenceTypes)}function g(a){return a.includes("indexeddb")}f.isProviderPersisted=a;f.hasPersistentType=g}),66);
__d("LSDatascriptEvaluatorMaybeDeferred",["cr:6542"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:6542")}),98);
__d("LSTruncateTableAndSetShowError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(a){return b.forEach(b.db.table(115).fetch(),function(a){return a["delete"]()})},function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(115).add({statusId:b.i64.cast([0,0]),timestampMs:c[0],errorShouldBeShown:a[0]})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSConnectivityTruncateTableAndSetShowErrorStoredProcedure";a.__tables__=["user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSDeleteAllAndInsertConnectivityStatus",["LSTruncateTableAndSetShowError"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.forEach(c.db.table(114).fetch(),function(a){return a["delete"]()})},function(b){return d[0]=c.i64.of_float(Date.now()),c.db.table(114).add({statusId:void 0,timestampMs:d[0],internetConnectionState:a[0]})},function(d){return c.storedProcedure(b("LSTruncateTableAndSetShowError"),c.i64.neq(a[0],c.i64.cast([0,1])))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSConnectivityDeleteAllAndInsertConnectivityStatusStoredProcedure";a.__tables__=["connectivity_status"];e.exports=a}),null);
__d("LSDeleteAllAndInsertConnectivityStatusStoredProcedure",["LSDeleteAllAndInsertConnectivityStatus","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSDeleteAllAndInsertConnectivityStatus"),e.internetConnectionState);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSEagerlyLoadOnMessenger",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.eagerlyLoadOnMessenger=a}),66);
__d("LSSyncStoredProcedureUtils",["I64","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c=c!=null?(h||(h=d("I64"))).of_float(Date.now()+c):b.minTimeToSyncTimestampMs;yield a.pending_tasks.put(babelHelpers["extends"]({},b,{failureCount:(h||(h=d("I64"))).add(b.failureCount,h.one),minTimeToSyncTimestampMs:c}))});return j.apply(this,arguments)}function a(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.pending_tasks.index("queueNameTaskId")).getKeyRange(b)));if(b==null)return;return i(a,b,c)});return k.apply(this,arguments)}function c(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield a.network_requests.get(b,c));if(b==null)return;yield a.network_requests.put(babelHelpers["extends"]({},b,{failureCount:(h||(h=d("I64"))).add(b==null?void 0:b.failureCount,h.one)}))});return l.apply(this,arguments)}function e(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield a.network_requests.get(b,c));if(b==null)return;yield a.network_requests.put(babelHelpers["extends"]({},b,{epochId:void 0,networkTaskIdentifier:void 0}))});return m.apply(this,arguments)}g.incrementPendingTaskFailureCount=i;g.incrementPendingTasksTaskFailureCount=a;g.incrementNetworkRequestsTaskFailureCount=c;g.closeEpoch=e}),98);
__d("LSHandleTaskSendFailureForQueue2",["I64","LSSyncStoredProcedureUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield d("LSSyncStoredProcedureUtils").incrementPendingTasksTaskFailureCount(a,b,c),yield d("LSSyncStoredProcedureUtils").incrementNetworkRequestsTaskFailureCount(a,b,(h||(h=d("I64"))).neg_one),yield d("LSSyncStoredProcedureUtils").closeEpoch(a,b,h.neg_one)});return i.apply(this,arguments)}g["default"]=a}),98);
__d("LSHandleTaskSendSuccessForQueue2",["I64","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield a.network_requests.get(b,(h||(h=d("I64"))).neg_one));if(c==null||c.epochId==null)return;yield a.network_requests["delete"](b,h.neg_one)});return i.apply(this,arguments)}g["default"]=a}),98);
__d("LSInternetConnectionState",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_CONNECTED:0,CONNECTED:1});f["default"]=a}),66);
__d("LSPlatformDefaultUnderlyingApi",["Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return c("emptyFunction")}function d(){return(h||(h=b("Promise"))).resolve()}e={cleanup:c("emptyFunction"),logEvent:function(a){},onConnectionStatusChange:a,onReconnect:a,publish:d,subscribe:a};g["default"]=e}),98);
__d("LSPlatformDeviceId",["ChannelClientID","FBLogger","LSCookie","MqttWebDeviceID","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){if(c("gkx")("21118"))return c("MqttWebDeviceID").clientID;else return c("ChannelClientID").getID()}b=h();function a(a){a==null&&c("FBLogger")("messenger_web").info("Missed provider type for deviceId");return a==="persisted"?d("LSCookie").get().d:h()}g.deviceId=b;g.getDeviceIdForProviderType=a}),98);
__d("LSStreamGroupRef",["I64","LSMailboxInitialSyncCursor"],(function(a,b,c,d,e,f,g){"use strict";var h,i={connectionStatusChangeHandler:null,current:null,currentStreamGroupId:null,publishBuffer:new Map(),reconnectHandler:null,status:"Disconnected",subscribers:new Map()};function a(){if((h||(h=d("I64"))).equal((h||(h=d("I64"))).of_int32(1),d("LSMailboxInitialSyncCursor").syncChannel))return"mqtt";return i.current==null||i.current.streamGroupLoggingContext.sgTransportId==null?"null":i.current.streamGroupLoggingContext.sgTransportId}function b(){return i.status}g.streamGroupRef=i;g.getTransportId=a;g.getTransportStatus=b}),98);
__d("MessengerPWAVersionForUserAgent",["isMessengerPWA","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(!c("justknobx")._("3005"))return void 0;var a=c("isMessengerPWA")();if(!a)return void 0;a=(a=new URL(window.location.href).searchParams.get("__pwa"))!=null?a:"1.0.0";return a}g["default"]=a}),98);
__d("LSPlatformRealtimeTransport",["I64","LSDynamicDependencies","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSShape","LSStreamGroupRef","MessengerPWAVersionForUserAgent","NetworkStatus","Promise","QuickPerformanceLogger","Random","clearTimeout","promiseDone","qex","qpl","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("qpl")._(701246226,"1285"),m=d("LSMailboxInitialSyncCursor").isWebApp&&((e=c("qex")._("2093"))!=null?e:!1);f="LSPlatformRealtimeTransport.NotConnected";var n="LSPlatformRealtimeTransport.Timeout";function o(a){var b=new Map();return{getAll:function(){return Array.from(b.values())},getOrStart:function(c){var d=c.toString(),e=b.get(d);e==null&&(e=a(c),b.set(d,e));return e}}}function p(a){}function a(a,e,f){var g=new Map(),q={contents:p},r=new Set(),s=new Map(),t=[],u=o(function(b){b=a(b,f);t.push(b.subscribe(function(a){var b=JSON.parse(a),e=d("LSDynamicDependencies").downloadBootloaderDependencies(b.sp,b.nop,b.ntop);a=b.request_id;var f;if(a!=null){var h=g.get(a);if(h==null)f=!1;else{c("clearTimeout")(h.timeoutId);h.resolve({downloadTask:e,payload:b,type:"taskresponse"});g["delete"](a);a=h.instanceKey;(k||(k=c("QuickPerformanceLogger"))).markerPoint(l,"response",{instanceKey:a});k.markerAnnotate(l,{string:{isWebApp:String(d("LSMailboxInitialSyncCursor").isWebApp),networkStatus:String(c("NetworkStatus").isOnline()),streamGroupId:d("LSStreamGroupRef").getTransportId(),streamGroupStatus:d("LSStreamGroupRef").getTransportStatus(),syncOverDGW:String(d("LSMailboxInitialSyncCursor").syncOverDGW)}},{instanceKey:a});k.markerEnd(l,2,a);f=!0}}else f=!1;if(!f){Array.from(s.entries()).forEach(function(a){return a[1](e,b)});return}}));t.push(b.onReconnect(function(a){return q.contents(a)}));t.push(b.onConnectionStatusChange(function(a){r.forEach(function(b){return b(a)})}));return b});m?(u.getOrStart((i||(i=d("LSIntEnum"))).unwrapIntEnum((j||(j=d("I64"))).of_int32(3))),u.getOrStart(i.unwrapIntEnum(j.of_int32(1)))):u.getOrStart((i||(i=d("LSIntEnum"))).unwrapIntEnum(d("LSMailboxInitialSyncCursor").syncChannel));return{cleanup:function(){t.forEach(function(a){return a()}),u.getAll().forEach(function(a){return a.cleanup()})},logEvent:function(a){u.getAll().forEach(function(b){return b.logEvent(a)})},onConnectionStatusChange:function(a){r.add(a);return function(){r["delete"](a)}},onReconnect:function(a){q.contents=a;return function(){q.contents=p}},publish:function(a){var f=a.databaseType,m=a.payload,o=a.queueName,p=a.requestId,q=a.syncChannel,r=a.type_;return new(h||(h=b("Promise")))(function(a,b){var h=u.getOrStart((i||(i=d("LSIntEnum"))).unwrapIntEnum(q));if((j||(j=d("I64"))).equal(r,(i||(i=d("LSIntEnum"))).ofNumber(3))){var s=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);(k||(k=c("QuickPerformanceLogger"))).markerStart(l,s);k.markerPoint(l,"publish",{instanceKey:s});var t=c("setTimeout")(function(){h.logEvent("Timeout");var a=g.get(p);(k||(k=c("QuickPerformanceLogger"))).markerPoint(l,"timeout",{instanceKey:s});k.markerEnd(l,3,s);a!=null&&(g["delete"](p),a.reject({RE_EXN_ID:n}));return b({RE_EXN_ID:n})},3e4);g.set(p,{instanceKey:s,queueName:o,reject:b,resolve:a,timeoutId:t,timestamp:Date.now()})}t=c("MessengerPWAVersionForUserAgent")();c("promiseDone")(h.publish(d("LSJson").stringify(d("LSShape").ofRecord(babelHelpers["extends"]({app_id:e,payload:m},t!=null?{pwa_version:t}:{},{request_id:p,type:r}))),r,f),function(){if(!(j||(j=d("I64"))).equal(r,(i||(i=d("LSIntEnum"))).ofNumber(3)))return a({type:"noresponseexpected"})},function(a){b(a)})})},subscribeToNonTaskResponses:function(a){var b={};s.set(b,a);return function(){s["delete"](b)}}}}g.NotConnected=f;g.Timeout=n;g.LSPlatformRealtimeTransport=a}),98);
__d("shouldStubUnderlyingTransport",["ExecutionEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return!(h||(h=c("ExecutionEnvironment"))).canUseDOM&&!(h||(h=c("ExecutionEnvironment"))).isInWorker}g["default"]=a}),98);
__d("LSPlatformMqttRealtimeTransport",["I64","LSIntEnum","LSPlatformDefaultUnderlyingApi","LSPlatformRealtimeTransport","Promise","promiseDone","shouldStubUnderlyingTransport"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){return[{payload:JSON.stringify({ls_fdid:"",ls_sv:a}),qos:1,topic:"/ls_app_settings"}]}function l(a){var e={contents:a.getConnectionState()},f={contents:function(){}},g={contents:new(j||(j=b("Promise")))(function(a,b){f.contents=a})},k={onMQTTStateChanged:function(a){a==="Connected"?f.contents():a==="Disconnected"&&e.contents==="Connected"&&(g.contents=new(j||(j=b("Promise")))(function(a,b){f.contents=a})),e.contents=a}};e.contents==="Connected"&&f.contents();a.subscribeChannelEvents(k);return[function(){a.unsubscribeChannelEvents(k)},function(e,f,k){return g.contents.then(function(){return new(j||(j=b("Promise")))(function(b,g){c("promiseDone")(a.publish("/ls_req",e,{listener:{onEvent:function(a){if(a==="NOT_CONNECTED")return g({RE_EXN_ID:d("LSPlatformRealtimeTransport").NotConnected})}},qos:(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(4))?0:1,skipBuffer:!1}),function(){return b()},function(a){if(a.message==="Publish Timed Out")return g({RE_EXN_ID:d("LSPlatformRealtimeTransport").Timeout});else return g(a)})})})}]}var m={contents:void 0};function a(a,b,d){if(c("shouldStubUnderlyingTransport")())return c("LSPlatformDefaultUnderlyingApi");var e=d.getInstance(b),f={getPublishMessages:function(){return k(a)}};e.registerExtraConnectPayloadProvider(f);var g={onMQTTStateChanged:function(a){var b=m.contents;if(b!=null)return b(a)}};e.subscribeChannelEvents(g);var h=e.subscribe("/ls_foreground_state",function(){});b=l(e);var i=b[0];b=b[1];return{cleanup:function(){e.unregisterExtraConnectPayloadProvider(f),d.shutdownAndClear(),e.unsubscribeChannelEvents(g),h(),i()},logEvent:function(a){},onConnectionStatusChange:function(a){m.contents=a;return function(){m.contents=void 0}},onReconnect:function(a){var b={contents:e.getConnectionState()},c={contents:b.contents==="Connected"},d={onMQTTStateChanged:function(d){d==="Connected"&&(c.contents&&b.contents!=="Connected"&&a(1),c.contents=!0),b.contents=d}};e.subscribeChannelEvents(d);return function(){e.unsubscribeChannelEvents(d)}},publish:b,subscribe:function(a){return e.subscribe("/ls_resp",function(b){return a(b)})}}}g["default"]=a}),98);
__d("LSPlatformRequestId",[],(function(a,b,c,d,e,f){"use strict";var g=4;function a(){var a=g;g+=1;return a}b={generate:a};f["default"]=b}),66);
__d("LSPlatformRequestScheduler",["clearTimeout","justknobx","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=Math.pow(2,31)-1;a=function(){function a(){this.requests=new Map()}var b=a.prototype;b.schedule=function(a,b,d){var e=this.requests.get(b);e!=null&&c("clearTimeout")(e);e=c("justknobx")._("4435")?Math.min(d,h):d;this.requests.set(b,c("setTimeout")(a,e))};b.cleanup=function(){this.requests.forEach(function(a){return c("clearTimeout")(a)})};return a}();g["default"]=a}),98);
__d("LSPlatformServerResponseHandler",["FBLogger","Promise","asyncToGeneratorRuntime","clearTimeout","nullthrows","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i="executeFirstBlockForSyncTransaction";a=function(){function a(a){this.eval=a,this.currentlyRunning=new Map()}var d=a.prototype;d.evalWhenReady=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var d;try{yield a,d=c("setTimeout")(function(){c("FBLogger")("messenger_web").mustfix("waited longer than 30 seconds to eval sync script")},3e4),yield this.eval(b)}finally{c("clearTimeout")(d)}});function d(b,c){return a.apply(this,arguments)}return d}();d.$1=function(a){var c=this.currentlyRunning.get(a);c==null&&(c=(h||(h=b("Promise"))).resolve(),this.currentlyRunning.set(a,c));return c};a.getSyncScriptType=function(a){var b;if(!((b=a.sp)!=null&&b.includes(i)))return{status:"non-transactional"};b=function(){try{var b;return(b=JSON.parse(a.syncScript))==null?void 0:b.step}catch(a){return null}}();if(!Array.isArray(b)){c("FBLogger")("messenger_web").warn("Sync payload appears invalid.");return{status:"non-transactional"}}b=[b];while(b.length){var d=c("nullthrows")(b.shift());for(d of d)if(Array.isArray(d)){if(d[0]===5&&d[1]===i&&Array.isArray(d[2]))return{status:"transactional",syncGroup:parseInt(d[2][1],10)};b.push(d)}}return{status:"err"}};d.maybeEvalInOrderReceived=function(b,d){var e,f=this,g=a.getSyncScriptType(d),h=0;switch(g.status){case"err":c("FBLogger")("messenger_web").warn("Sync script sync group parsing failed: employed sprocs were %s",JSON.stringify((e=d.sp)!=null?e:void 0));break;case"non-transactional":return this.evalWhenReady(b,d);case"transactional":h=g.syncGroup;break}e=this.$1(h);g=e.then(function(){return f.evalWhenReady(b,babelHelpers["extends"]({},d,{priority:"sync_script"}))})["catch"](function(a){f.currentlyRunning["delete"](h);throw a});this.currentlyRunning.set(h,g);return g};return a}();g["default"]=a}),98);
__d("LSPlatformTaskSyncGroupId",[],(function(a,b,c,d,e,f){"use strict";a=-1;b=a;f["default"]=b}),66);
__d("MWPBeginHandlingPendingTasksForQueue",["LSBeginHandlingFireForgetTasksForQueueStoredProcedure","LSBeginHandlingPendingTasksForQueue2","LSFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d){var e=d.fireAndForgetTask,g=d.ignoreSoftDelay,h=d.queueName;d=(yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(e===!0){var b=(yield c("LSBeginHandlingFireForgetTasksForQueueStoredProcedure")(c("LSFactory")(a),{queueName:h}));b=b[0];return[b]}return c("LSBeginHandlingPendingTasksForQueue2")(a,{ignoreSoftDelay:g,queueName:h})});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":37"));return d});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MWPlatformTaskUtils",["FBLogger","I64","JSScheduler","MetaConfig","Promise","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e){function f(){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield a(e)}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Failed to calculate work for task queue %s",e.queueName)}});return g.apply(this,arguments)}if((j||(j=d("I64"))).gt(e.priority,(j||(j=d("I64"))).zero)&&c("MetaConfig")._("78")){var h=function(){f()};(i||(i=c("JSScheduler"))).scheduleLoggingPriCallback(h)}else c("promiseDone")(f())}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{yield a(b)}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Failed to calculate work for fire forget queue %s",b.queueName)}});return m.apply(this,arguments)}function a(a,c){var e=new Set(),f=[],g=[];g.push(a.tables.pending_tasks.index("queueNameTaskId").subscribe(function(a,b){var c;if(b.operation==="delete"){e.add(a[0]);return}a=b.operation==="put"&&b.prevValue==null||b.operation==="add";c=b.operation==="put"&&(j||(j=d("I64"))).compare(b.value.failureCount,(c=(c=b.prevValue)==null?void 0:c.failureCount)!=null?c:(j||(j=d("I64"))).zero)>0;(a||c)&&e.add(b.value.queueName);(b.operation==="add"&&b.value.dataTraceId==null||b.value.dataTraceId==="")&&f.push(b.value)}));g.push(a.tables.network_requests.subscribe(function(a,b){a=a[0];if(a==="")return;b.operation==="delete"?e.add(a):b.value.epochId==null&&e.add(a)}));g.push(a.subscribeToCommit(function(){var g=Array.from(e);e.clear();f=[];g.forEach(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.pending_tasks.index("queueNameTaskId")).bounds({gte:[b]})));b!=null&&k(c,b)});return function(a){return e.apply(this,arguments)}}())}));return g}function e(a,e){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.pending_tasks))),c=new Set();for(b of b){if(c.has(b.queueName))continue;c.add(b.queueName);k(e,b)}})())}function n(a,e){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var g=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.pending_fire_and_forget_tasks)));yield (h||(h=b("Promise"))).all(g.map(function(a){return l(e,a)}));c("promiseDone")(a.runInTransaction(function(a){return(h||(h=b("Promise"))).all(g.map(function(b){return a.pending_fire_and_forget_tasks["delete"](b.taskId)}))},"readwrite","background",void 0,f.id+":196"))})())}function o(a,b){var c=!1,d=[];d.push(a.tables.pending_fire_and_forget_tasks.subscribe(function(a,b){if(b.operation==="delete")return;a=b.operation==="put"&&b.prevValue==null||b.operation==="add";a&&(c=!0)}));d.push(a.subscribeToCommit(function(){c&&n(a,b),c=!1}));return d}g.checkQueuesWhenPendingTaskTableUpdates=a;g.checkAllPendingTasksForWork=e;g.checkAllFireForgetTasksForWork=n;g.checkQueuesWhenPendingFireForgetTaskTableUpdates=o}),98);
__d("LSPlatformTaskSystemTransport",["CurrentMessengerUser","FBLogger","I64","JSResourceForInteraction","JSScheduler","LSDatabaseProviderType","LSHandleTaskSendFailureForQueue2","LSHandleTaskSendSuccessForQueue2","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSPlatformTaskSyncGroupId","LSShape","LSVec","MWPBeginHandlingPendingTasksForQueue","MWPBumpEntityKey","MWPlatformTaskUtils","Promise","ReQL","asyncToGeneratorRuntime","cr:4031","cr:6668","gkx","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=500,m=c("JSResourceForInteraction")("publishLSPlatformDeidentifiedPayload").__setRef("LSPlatformTaskSystemTransport"),n=new Set([632,765,60011,1006,1018].map(function(a){return a.toString()}));a=function(){function a(a,e,f,g){var h=this;this.key="ls";this.$8=!1;this.$18=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield c("MWPBeginHandlingPendingTasksForQueue")(h.$1,{ignoreSoftDelay:b,queueName:a}));for(a of b)yield h.$17(d("LSShape").toRecord(a))});return function(b,c){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;this.$4=g;this.$8=d("LSDatabaseProviderType").isProviderPersisted(a);this.$5=new(c("LSPlatformRequestScheduler"))();this.$6=new(c("LSPlatformServerResponseHandler"))(f);this.$7=this.$9();this.$10()}var e=a.prototype;e.$11=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var d=a.filter(function(a){return a.label!=null&&n.has(a.label)});if(d.length<a.length){d.length>0&&c("FBLogger")("maw_ohai").mustfix("Deidentifed tasks label %s sent together with normal tasks",d[0].label);a=(yield this.$2.publish(b));return a}a=d[0];d=(yield m.load());d=(yield d(babelHelpers["extends"]({},b,{taskLabel:a.label})));return d});function d(b,c){return a.apply(this,arguments)}return d}();e.$12=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield this.$1.runInTransaction(function(b){return c("LSHandleTaskSendFailureForQueue2")(b,a)},"readwrite",void 0,void 0,f.id+":150")});function d(b){return a.apply(this,arguments)}return d}();e.$13=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield this.$1.runInTransaction(function(b){return c("LSHandleTaskSendSuccessForQueue2")(b,a)},"readwrite","background",void 0,f.id+":159")});function d(b){return a.apply(this,arguments)}return d}();e.$14=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=c("LSVec").toArray(a.tasks).slice(0).map(function(a){return d("LSShape").toRecord(a)});a=a[0];if(a==null)return;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(this.$1.tables.pending_tasks).getKeyRange(a.task_id)));return a==null?void 0:a.dataTraceId});function e(b){return a.apply(this,arguments)}return e}();e.$15=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;if(a.network_payload==null)return;var g=d("LSShape").toRecord(a.network_payload);(k||(k=c("JSScheduler"))).scheduleLoggingPriCallback(function(){return g&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSending(g.tasks))});var i=this.$4;try{yield (j||(j=b("Promise"))).all(c("LSVec").toArray(g.tasks).map(function(a){return d("LSShape").toRecord(a)}).map(function(b){var g=c("LSPlatformRequestId").generate();return f.$11([b],{databaseType:c("LSPlatformTaskSyncGroupId"),payload:d("LSJson").stringify(d("LSShape").ofRecord({label:b.label,payload:b.payload,version:i})),queueName:a.queue_name,requestId:g,syncChannel:d("LSMailboxInitialSyncCursor").taskChannel,type_:(h||(h=d("I64"))).of_int32(e)})}))}catch(a){}});function e(b,c){return a.apply(this,arguments)}return e}();e.$16=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(a.network_payload==null)return;var f=d("LSShape").toRecord(a.network_payload),g=c("LSVec").toArray(f.tasks).map(function(a){return d("LSShape").toRecord(a)}),j=(yield this.$14(f));(k||(k=c("JSScheduler"))).scheduleLoggingPriCallback(function(){return f&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSending(f.tasks))});var l=c("LSPlatformRequestId").generate(),m,n=c("qex")._("2071");if(n!=null&&n!=="default"){var o=n+"."+(i||(i=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").taskChannel)+"."+e.toString();d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",o)}try{m=(yield this.$11(g,{databaseType:c("LSPlatformTaskSyncGroupId"),payload:d("LSJson").stringify(d("LSShape").ofRecord(babelHelpers["extends"]({},f,{version_id:this.$4},j==null?{}:{data_trace_id:j}))),queueName:a.queue_name,requestId:l,syncChannel:d("LSMailboxInitialSyncCursor").taskChannel,type_:(h||(h=d("I64"))).of_int32(e)}))}catch(b){if(n!=null&&n!=="default"){o=n+"."+(i||(i=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").taskChannel)+"."+e.toString();d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",o+".exception");b.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",o+".exception.timeout"):b.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",o+".exception.notconnected")}b.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_timeout"):b.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected?(d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_notconnected"),c("FBLogger")("messenger_web").warn("Publishing a task to the server not connected")):(d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_generic"),c("FBLogger")("messenger_web").warn("Error while publishing a task for request: %s, error %s",e,JSON.stringify(b)));yield this.$12(a.queue_name)}if(m!=null&&m.type==="taskresponse")try{j=m.downloadTask;var p=m.payload;l={experiments:p.ex,sp:p.sp,syncScript:p.payload,target:p.target,taskNames:g.map(function(a){return a.label}).filter(Boolean)};this.$8||c("gkx")("10470")?yield this.$6.evalWhenReady(j,l):yield this.$3(l);yield this.$13(a.queue_name);(k||(k=c("JSScheduler"))).scheduleLoggingPriCallback(function(){return f&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSent(f.tasks,p.payload))})}catch(b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","handle_task_failure"),c("FBLogger")("messenger_web").catching(b).mustfix("Encountered an error while processing a task response via realtime transport"),yield this.$12(a.queue_name)}});function e(b,c){return a.apply(this,arguments)}return e}();e.decideWhatToDoWithTask=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){var h=this,i=(yield c("MWPBeginHandlingPendingTasksForQueue")(a,{fireAndForgetTask:g,ignoreSoftDelay:!1,queueName:e,transportKey:f}));c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){for(var a of i)yield h.$17(d("LSShape").toRecord(a))})())});function e(b,c,d,e){return a.apply(this,arguments)}return e}();e.$17=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=this.$5,f=this.$18;function g(a,b){e.schedule(function(){c("promiseDone")(f(a,!1))},a,b!=null?(h||(h=d("I64"))).to_float(b):l)}var i=(h||(h=d("I64"))).to_int32(a.work_item_type);switch(i){case 1:yield this.$16(a,3);break;case 5:yield this.$15(a,4);break;case 3:g(a.queue_name,a.next_sync_ms);break;case 2:yield b("cr:4031").handleLSWork(this.$1,a,d("CurrentMessengerUser").getAccountID());break;case 4:break;default:c("FBLogger")("messenger_web").warn("Unknown Task type of %s",i)}});function e(b){return a.apply(this,arguments)}return e}();e.$9=function(){var a=this,e=this.$1;return this.$2.onReconnect(function(g){if(d("LSMailboxInitialSyncCursor").isWebApp&&3===g&&c("qex")._("2082")===!0)return;c("promiseDone")(e.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).bounds({gte:d("ReQL").key("")})));yield (j||(j=b("Promise"))).all(e.map(function(b){b=b.taskQueueName;return c("LSHandleTaskSendFailureForQueue2")(a,b)}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":473"));a.$10()})};e.$10=function(){var a=this;d("MWPlatformTaskUtils").checkAllPendingTasksForWork(this.$1,function(b){b=b.queueName;return a.decideWhatToDoWithTask(a.$1,b)})};e.cleanup=function(){this.$7()};return a}();g["default"]=a}),98);
__d("LSProgramTarget",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({DASM:1,JS:2,JSON:3});c=a;f["default"]=c}),66);
__d("LSVersion",[],(function(a,b,c,d,e,f){e.exports="31485834987728002"}),null);
__d("MWPlatformTaskSystem",["LSPlatformRequestScheduler","MWPlatformTaskUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var e=this;this.$1=a;this.$2=b;this.$3=new(c("LSPlatformRequestScheduler"))();this.$4=d("MWPlatformTaskUtils").checkQueuesWhenPendingTaskTableUpdates(a,function(b){var c=b.queueName;b=b.transportKey;return e.$6(a,c,b,!1)});this.$5=d("MWPlatformTaskUtils").checkQueuesWhenPendingFireForgetTaskTableUpdates(a,function(b){var c=b.queueName;b=b.transportKey;return e.$6(a,c,b,!0)});this.$7()}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){yield this.$2.decideWhatToDoWithTask(a,b,c,d)});function c(b,c,d,e){return a.apply(this,arguments)}return c}();e.$7=function(){var a=this;d("MWPlatformTaskUtils").checkAllPendingTasksForWork(this.$1,function(b){b=b.queueName;return a.$6(a.$1,b)})};e.cleanup=function(){this.$4.forEach(function(a){return a()}),this.$5.forEach(function(a){return a()}),this.$2.cleanup()};return a}();g["default"]=a}),98);
__d("getMWLSRegion",["MessengerWebRegion"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("MessengerWebRegion").regionNullable;return a==null?"":a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBLSResignCdnUrlDeferred",["gkx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("EBLSResignCdnUrl").__setRef("EBLSResignCdnUrlDeferred");function a(a){return h.load().then(function(b){if(c("gkx")("12896"))return b.ebdbResignCdnUrlWithGraphQL(a);else return b.DEPRECATED_eblsResignCdnUrlWithGraphQL(a)})}g.eblsResignCdnUrlWithGraphQL=a}),98);
__d("EncryptedBackupsDYIFileUtils",["FBLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="media";f="messages.zip";function i(){if(navigator.storage!=null&&navigator.storage.getDirectory!=null)return navigator.storage.getDirectory();throw c("FBLogger")("wmi_eb").mustfixThrow("Storage management API is not supported. Please try one of the supported browsers.")}function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield i());return a.getDirectoryHandle(h,{create:!0})});return j.apply(this,arguments)}function d(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){a=(yield a.getFileHandle(b,{create:!0}));try{b=(yield a.createSyncAccessHandle());b.write(d);b.flush();b.close()}catch(e){if(e instanceof Error){if(e instanceof TypeError)try{b=(yield a.createWritable());yield b.write(d);yield b.close();return}catch(a){if(a instanceof Error){if(a instanceof TypeError)throw c("FBLogger")("wmi_eb").mustfixThrow("Write operation is not supported. Please try one of the supported browsers.");throw c("FBLogger")("wmi_eb").mustfixThrow("Failed to write using writable: %e",a.message)}throw a}throw c("FBLogger")("wmi_eb").mustfixThrow("Failed to write using sync access handle: %s",e.message)}throw e}});return k.apply(this,arguments)}function e(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield a.getFileHandle(b));try{var d=(yield a.createSyncAccessHandle()),e=new ArrayBuffer(d.getSize());d.read(e);d.close();return new Blob([e])}catch(d){if(d instanceof Error){if(d instanceof TypeError)return a.getFile();throw c("FBLogger")("wmi_eb").mustfixThrow("Failed to read file %s, %s",b,d.message)}throw d}});return l.apply(this,arguments)}g.DyiMediaFolder=h;g.DyiArchiveFilename=f;g.getRootFolderHandle=i;g.getMediaFolderHandle=a;g.writeFile=d;g.readFile=e}),98);
__d("MAWThreadKeyUtils",["I64","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=d("I64"))).to_string(a)}function b(a){return a}function e(a){c("vulture")("9DZDuAw4Bd5gY57CNHpZSR8vpLc=");return a}function f(a){return(h||(h=d("I64"))).of_string(a)}function i(a){return a}g.stringThreadKeyFromThreadKey=a;g.toStringThreadKey=b;g.stringThreadKeyFromString=e;g.stringThreadKeyToI64=f;g.stringThreadKeyToString=i}),98);
__d("EncryptedBackupsDYIGenerateThreadMetadata",["CurrentUser","EncryptedBackupsDYISingleton","I64","IGDWebUtils","LSMessagingThreadTypeUtil","MAWThreadKeyUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){return d("IGDWebUtils").isOnInstagramWeb()?(k||(k=d("I64"))).of_string(c("CurrentUser").getEIMU()):(k||(k=d("I64"))).of_string(c("CurrentUser").getAccountID())}function m(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(d("MAWThreadKeyUtils").stringThreadKeyToI64(b)))}function n(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b))}function a(a,b){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.contacts).filter(function(a){return b.has((k||(k=d("I64"))).to_string(a.id))}))}function o(a,b){var c;return(c=d("ReQL")).toArrayAsync(c.leftJoin(c.fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(b),c.fromTableAscending(a.tables.contacts,["name"])))}function p(a){return d("LSMessagingThreadTypeUtil").isOneToOne(a)||d("LSMessagingThreadTypeUtil").isOpenOneToOne(a)}function q(a,b,c){if(c!=null&&c.trim()!=="")return c+"_"+b;switch(a.length){case 0:return"Thread_"+b;case 1:return a[0]+"_"+b;case 2:return a[0]+"and"+a[1]+"_"+b;case 3:return""+a[0]+a[1]+"and"+a[2]+"_"+b;case 4:return""+a[0]+a[1]+a[2]+"and1other_"+b;default:return""+a[0]+a[1]+a[2]+"and"+(a.length-3)+"others_"+b}}function r(a,b,c,d,e,f){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g){var i=[],j=[f];f=(yield m(c,a));if(f!=null)if(p(f.threadType)){var l=b.getThreadIdForThreadKey(a);if(l==null){b.getLogger().WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Cannot find thread id for thread key ",""])),a);return}l=(yield n(c,(k||(k=d("I64"))).of_string(l)));(l==null?void 0:l.id)!=null&&(l==null?void 0:l.name)!=null&&b.setContactNameForContactId((k||(k=d("I64"))).to_string(l.id),l.name);l=(l==null?void 0:l.name)||"Unknown User";i.push(l);j.push(l);b.setThreadMetaDataByThreadKey(a,j,q(i,g,f.threadName))}else{l=(yield o(c,f.threadKey));l.forEach(function(a){var c=a[0];a=a[1];(c==null?void 0:c.contactId)!=null&&(a==null?void 0:a.name)!=null&&b.setContactNameForContactId((k||(k=d("I64"))).to_string(c.contactId),a.name);if(!(k||(k=d("I64"))).equal(c.contactId,e)){c=(a==null?void 0:a.name)||"Unknown User";i.push(c);j.push(c)}});b.setThreadMetaDataByThreadKey(a,j,q(i,g,f.threadName))}else b.setThreadMetaDataByThreadKey(a,j,q(i,g))});return s.apply(this,arguments)}function e(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c,e=d("EncryptedBackupsDYISingleton").getSingleton(),f=e.getLogger(),g=(yield e.getDB()),h=(yield n(g,l())),m=(c=h==null?void 0:h.id)!=null?c:(k||(k=d("I64"))).zero,o=(c=h==null?void 0:h.name)!=null?c:"Me";e.setContactNameForContactId((k||(k=d("I64"))).to_string(m),o);return a.reduce(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield a;a=e.getThreadIdForThreadKey(b);a==null&&void f.WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Cannot find thread id for thread key ",""])),b);return r(b,e,g,m,o,c)});return function(b,c,d){return a.apply(this,arguments)}}(),(j||(j=b("Promise"))).resolve())});return t.apply(this,arguments)}g.getAllUnmappedContacts=a;g.EncryptedBackupsDYIGenerateThreadMetadata=e}),98);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("fflate-0.6.10",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){var a,b="";try{a={}.Worker}catch(a){}g["default"]=a?function(c,d,e,f,g){var h=!1,i=new a(c+b,{eval:!0}).on("error",function(a){return g(a,null)}).on("message",function(a){return g(null,a)}).on("exit",function(a){a&&!h&&g(new Error("exited with code "+a),null)});i.postMessage(e,f);i.terminate=function(){h=!0;return a.prototype.terminate.call(i)};return i}:function(a,b,c,d,e){setImmediate(function(){return e(new Error("async operations unsupported - update to Node 12+ (or Node 10-11 with the --experimental-worker CLI flag)"),null)});a=function(){};return{terminate:a,postMessage:a}}}var j=!1;function k(){j||(j=!0,i());return h.exports}var l={},m={exports:l};function n(){var a=k(),b=Uint8Array,c=Uint16Array,d=Uint32Array,e=new b([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),f=new b([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),g=new b([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=function(a,b){var e=new c(31);for(var f=0;f<31;++f)e[f]=b+=1<<a[f-1];a=new d(e[30]);for(var f=1;f<30;++f)for(b=e[f];b<e[f+1];++b)a[b]=b-e[f]<<5|f;return[e,a]},i=h(e,2),j=i[0],m=i[1];j[28]=258,m[258]=28;i=h(f,0);var n=i[0],o=i[1],p=new c(32768);for(h=0;h<32768;++h){i=(h&43690)>>>1|(h&21845)<<1;i=(i&52428)>>>2|(i&13107)<<2;i=(i&61680)>>>4|(i&3855)<<4;p[h]=((i&65280)>>>8|(i&255)<<8)>>>1}var q=function(a,b,d){var e=a.length,f=0,g=new c(b);for(;f<e;++f)++g[a[f]-1];var h=new c(b);for(f=0;f<b;++f)h[f]=h[f-1]+g[f-1]<<1;if(d){g=new c(1<<b);d=15-b;for(f=0;f<e;++f)if(a[f]){var i=f<<4|a[f],j=b-a[f],k=h[a[f]-1]++<<j;for(j=k|(1<<j)-1;k<=j;++k)g[p[k]>>>d]=i}}else{g=new c(e);for(f=0;f<e;++f)a[f]&&(g[f]=p[h[a[f]-1]++]>>>15-a[f])}return g},r=new b(288);for(h=0;h<144;++h)r[h]=8;for(h=144;h<256;++h)r[h]=9;for(h=256;h<280;++h)r[h]=7;for(h=280;h<288;++h)r[h]=8;var s=new b(32);for(h=0;h<32;++h)s[h]=5;var t=q(r,9,0),u=q(r,9,1),v=q(s,5,0),w=q(s,5,1),x=function(a){var b=a[0];for(var c=1;c<a.length;++c)a[c]>b&&(b=a[c]);return b},y=function(a,b,c){var d=b/8|0;return(a[d]|a[d+1]<<8)>>(b&7)&c},z=function(a,b){var c=b/8|0;return(a[c]|a[c+1]<<8|a[c+2]<<16)>>(b&7)},aa=function(a){return(a/8|0)+(a&7&&1)},A=function(a,e,f){(e==null||e<0)&&(e=0);(f==null||f>a.length)&&(f=a.length);var g=new(a instanceof c?c:a instanceof d?d:b)(f-e);g.set(a.subarray(e,f));return g},B=function(a,c,d){var h=a.length;if(!h||d&&!d.l&&h<5)return c||new b(0);var i=!c||d,k=!d||d.i;d||(d={});c||(c=new b(h*3));var l=function(a){var d=c.length;if(a>d){d=new b(Math.max(d*2,a));d.set(c);c=d}},m=d.f||0,o=d.p||0,p=d.b||0,r=d.l,s=d.d,t=d.m,v=d.n,B=h*8;do{if(!r){d.f=m=y(a,o,1);var C=y(a,o+1,3);o+=3;if(!C){var D=aa(o)+4,E=a[D-4]|a[D-3]<<8,F=D+E;if(F>h){if(k)throw"unexpected EOF";break}i&&l(p+E);c.set(a.subarray(D,F),p);d.b=p+=E,d.p=o=F*8;continue}else if(C==1)r=u,s=w,t=9,v=5;else if(C==2){E=y(a,o,31)+257;F=y(a,o+10,15)+4;C=E+y(a,o+5,31)+1;o+=14;var G=new b(C),H=new b(19);for(var I=0;I<F;++I)H[g[I]]=y(a,o+I*3,7);o+=F*3;F=x(H);var J=(1<<F)-1;H=q(H,F,1);for(var I=0;I<C;){F=H[y(a,o,J)];o+=F&15;var D=F>>>4;if(D<16)G[I++]=D;else{F=0;var K=0;D==16?(K=3+y(a,o,3),o+=2,F=G[I-1]):D==17?(K=3+y(a,o,7),o+=3):D==18&&(K=11+y(a,o,127),o+=7);while(K--)G[I++]=F}}D=G.subarray(0,E);K=G.subarray(E);t=x(D);v=x(K);r=q(D,t,1);s=q(K,v,1)}else throw"invalid block type";if(o>B){if(k)throw"unexpected EOF";break}}i&&l(p+131072);J=(1<<t)-1;H=(1<<v)-1;C=o;for(;;C=o){F=r[z(a,o)&J];G=F>>>4;o+=F&15;if(o>B){if(k)throw"unexpected EOF";break}if(!F)throw"invalid length/literal";if(G<256)c[p++]=G;else if(G==256){C=o,r=null;break}else{E=G-254;if(G>264){var I=G-257;D=e[I];E=y(a,o,(1<<D)-1)+j[I];o+=D}F=s[z(a,o)&H];G=F>>>4;if(!F)throw"invalid distance";o+=F&15;K=n[G];if(G>3){D=f[G];K+=z(a,o)&(1<<D)-1,o+=D}if(o>B){if(k)throw"unexpected EOF";break}i&&l(p+131072);F=p+E;for(;p<F;p+=4)c[p]=c[p-K],c[p+1]=c[p+1-K],c[p+2]=c[p+2-K],c[p+3]=c[p+3-K];p=F}}d.l=r,d.p=C,d.b=p;r&&(m=1,d.m=t,d.d=s,d.n=v)}while(!m);return p==c.length?c:A(c,0,p)},C=function(a,b,c){c<<=b&7;b=b/8|0;a[b]|=c;a[b+1]|=c>>>8},D=function(a,b,c){c<<=b&7;b=b/8|0;a[b]|=c;a[b+1]|=c>>>8;a[b+2]|=c>>>16},E=function(a,d){var e=[];for(var f=0;f<a.length;++f)a[f]&&e.push({s:f,f:a[f]});a=e.length;var g=e.slice();if(!a)return[L,0];if(a==1){var h=new b(e[0].s+1);h[e[0].s]=1;return[h,1]}e.sort(function(a,b){return a.f-b.f});e.push({s:-1,f:25001});h=e[0];var i=e[1],j=0,k=1,l=2;e[0]={s:-1,f:h.f+i.f,l:h,r:i};while(k!=a-1)h=e[e[j].f<e[l].f?j++:l++],i=e[j!=k&&e[j].f<e[l].f?j++:l++],e[k++]={s:-1,f:h.f+i.f,l:h,r:i};h=g[0].s;for(var f=1;f<a;++f)g[f].s>h&&(h=g[f].s);var m=new c(h+1);i=F(e[k-1],m,0);if(i>d){var f=0;j=0;l=i-d;h=1<<l;g.sort(function(a,b){return m[b.s]-m[a.s]||a.f-b.f});for(;f<a;++f){e=g[f].s;if(m[e]>d)j+=h-(1<<i-m[e]),m[e]=d;else break}j>>>=l;while(j>0){k=g[f].s;m[k]<d?j-=1<<d-m[k]++-1:++f}for(;f>=0&&j;--f){e=g[f].s;m[e]==d&&(--m[e],++j)}i=d}return[new b(m),i]},F=function(a,b,c){return a.s==-1?Math.max(F(a.l,b,c+1),F(a.r,b,c+1)):b[a.s]=c},G=function(a){var b=a.length;while(b&&!a[--b]);var d=new c(++b),e=0,f=a[0],g=1,h=function(a){d[e++]=a};for(var i=1;i<=b;++i)if(a[i]==f&&i!=b)++g;else{if(!f&&g>2){for(;g>138;g-=138)h(32754);g>2&&(h(g>10?g-11<<5|28690:g-3<<5|12305),g=0)}else if(g>3){h(f),--g;for(;g>6;g-=6)h(8304);g>2&&(h(g-3<<5|8208),g=0)}while(g--)h(f);g=1;f=a[i]}return[d.subarray(0,e),b]},H=function(a,b){var c=0;for(var d=0;d<b.length;++d)c+=a[d]*b[d];return c},I=function(a,b,c){var d=c.length;b=aa(b+2);a[b]=d&255;a[b+1]=d>>>8;a[b+2]=a[b]^255;a[b+3]=a[b+1]^255;for(var e=0;e<d;++e)a[b+e+4]=c[e];return(b+4+d)*8},J=function(a,b,d,h,i,j,k,l,m,n,o){C(b,o++,d);++i[256];d=E(i,15);var p=d[0];d=d[1];var u=E(j,15),w=u[0];u=u[1];var x=G(p),y=x[0];x=x[1];var z=G(w),aa=z[0];z=z[1];var A=new c(19);for(var B=0;B<y.length;++B)A[y[B]&31]++;for(var B=0;B<aa.length;++B)A[aa[B]&31]++;var F=E(A,7),J=F[0];F=F[1];var K=19;for(;K>4&&!J[g[K-1]];--K);var L=n+5<<3,M=H(i,r)+H(j,s)+k;i=H(i,p)+H(j,w)+k+14+3*K+H(A,J)+(2*A[16]+3*A[17]+7*A[18]);if(L<=M&&L<=i)return I(b,o,a.subarray(m,m+n));C(b,o,1+(i<M)),o+=2;if(i<M){j=q(p,d,0),k=p,A=q(w,u,0),L=w;a=q(J,F,0);C(b,o,x-257);C(b,o+5,z-1);C(b,o+10,K-4);o+=14;for(var B=0;B<K;++B)C(b,o+3*B,J[g[B]]);o+=3*K;m=[y,aa];for(n=0;n<2;++n){i=m[n];for(var B=0;B<i.length;++B){M=i[B]&31;C(b,o,a[M]),o+=J[M];M>15&&(C(b,o,i[B]>>>5&127),o+=i[B]>>>12)}}}else j=t,k=r,A=v,L=s;for(var B=0;B<l;++B)if(h[B]>255){M=h[B]>>>18&31;D(b,o,j[M+257]),o+=k[M+257];M>7&&(C(b,o,h[B]>>>23&31),o+=e[M]);d=h[B]&31;D(b,o,A[d]),o+=L[d];d>3&&(D(b,o,h[B]>>>5&8191),o+=f[d])}else D(b,o,j[h[B]]),o+=k[h[B]];D(b,o,j[256]);return o+k[256]},K=new d([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),L=new b(0),M=function(a,g,h,i,j,k){var l=a.length,n=new b(i+l+5*(1+Math.ceil(l/7e3))+j),p=n.subarray(i,n.length-j),q=0;if(!g||l<8)for(var r=0;r<=l;r+=65535){var s=r+65535;s<l?q=I(p,q,a.subarray(r,s)):(p[r]=k,q=I(p,q,a.subarray(r,l)))}else{s=K[g-1];g=s>>>13;s=s&8191;var t=(1<<h)-1,u=new c(32768),v=new c(t+1),w=Math.ceil(h/3),x=2*w;h=function(b){return(a[b]^a[b+1]<<w^a[b+2]<<x)&t};var y=new d(25e3),z=new c(288),B=new c(32),C=0,D=0,r=0,E=0,F=0,G=0;for(;r<l;++r){var H=h(r),M=r&32767,N=v[H];u[M]=N;v[H]=M;if(F<=r){var O=l-r;if((C>7e3||E>24576)&&O>423){q=J(a,p,0,y,z,B,D,E,G,r-G,q);E=C=D=0,G=r;for(var P=0;P<286;++P)z[P]=0;for(var P=0;P<30;++P)B[P]=0}var Q=2,R=0,ba=s,S=M-N&32767;if(O>2&&H==h(r-S)){H=Math.min(g,O)-1;var ca=Math.min(32767,r);O=Math.min(258,O);while(S<=ca&&--ba&&M!=N){if(a[r+Q]==a[r+Q-S]){var T=0;for(;T<O&&a[r+T]==a[r+T-S];++T);if(T>Q){Q=T,R=S;if(T>H)break;T=Math.min(S,T-2);var da=0;for(var P=0;P<T;++P){var U=r-S+P+32768&32767,V=u[U];V=U-V+32768&32767;V>da&&(da=V,N=U)}}}M=N,N=u[M];S+=M-N+32768&32767}}if(R){y[E++]=268435456|m[Q]<<18|o[R];V=m[Q]&31;U=o[R]&31;D+=e[V]+f[U];++z[257+V];++B[U];F=r+Q;++C}else y[E++]=a[r],++z[a[r]]}}q=J(a,p,k,y,z,B,D,E,G,r-G,q);!k&&q&7&&(q=I(p,q+1,L))}return A(n,0,i+aa(q)+j)},N=function(){var a=new Int32Array(256);for(var b=0;b<256;++b){var c=b,d=9;while(--d)c=(c&1&&-306674912)^c>>>1;a[b]=c}return a}(),O=function(){var a=-1;return{p:function(b){var c=a;for(var d=0;d<b.length;++d)c=N[c&255^b[d]]^c>>>8;a=c},d:function(){return~a}}},P=function(){var a=1,b=0;return{p:function(c){var d=a,e=b,f=c.length;for(var g=0;g!=f;){var h=Math.min(g+2655,f);for(;g<h;++g)e+=d+=c[g];d=(d&65535)+15*(d>>16),e=(e&65535)+15*(e>>16)}a=d,b=e},d:function(){a%=65521,b%=65521;return(a&255)<<24|a>>>8<<16|(b&255)<<8|b>>>8}}},Q=function(a,b,c,d,e){return M(a,b.level==null?6:b.level,b.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(a.length)))*1.5):12+b.mem,c,d,!e)},R=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},ba=function(b,c,a){var d=b();b=b.toString();b=b.slice(b.indexOf("[")+1,b.lastIndexOf("]")).replace(/ /g,"").split(",");for(var e=0;e<d.length;++e){var f=d[e],g=b[e];if(typeof f=="function"){c+=";"+g+"=";var h=f.toString();if(f.prototype)if(h.indexOf("[native code]")!=-1){var i=h.indexOf(" ",8)+1;c+=h.slice(i,h.indexOf("(",i))}else{c+=h;for(i in f.prototype)c+=";"+g+".prototype."+i+"="+f.prototype[i].toString()}else c+=h}else a[g]=f}return[c,a]},S=[],ca=function(a){var e=[];for(var f in a)(a[f]instanceof b||a[f]instanceof c||a[f]instanceof d)&&e.push((a[f]=new a[f].constructor(a[f])).buffer);return e},T=function(c,d,e,f){var b;if(!S[e]){var g="",h={},i=c.length-1;for(var j=0;j<i;++j)b=ba(c[j],g,h),g=b[0],h=b[1];S[e]=ba(c[i],g,h)}b=R({},S[e][1]);return a["default"](S[e][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+d.toString()+"}",e,b,ca(b),f)},da=function(){return[b,c,d,e,f,g,j,n,u,w,p,q,x,y,z,aa,A,B,za,ha,ia]},U=function(){return[b,c,d,e,f,g,m,o,t,r,v,s,p,K,L,q,C,D,E,F,G,H,I,J,aa,A,M,Q,wa,ha]},V=function(){return[ma,pa,Z,O,N]},ea=function(){return[na,oa]},fa=function(){return[qa,Z,P]},ga=function(){return[ra]},ha=function(a){return postMessage(a,[a.buffer])},ia=function(a){return a&&a.size&&new b(a.size)},ja=function(a,b,c,d,e,f){var g=T(c,d,e,function(b,a){g.terminate(),f(b,a)});g.postMessage([a,b],b.consume?[a.buffer]:[]);return function(){g.terminate()}},W=function(a){a.ondata=function(a,b){return postMessage([a,b],[a.buffer])};return function(b){return a.push(b.data[0],b.data[1])}},ka=function(a,b,c,d,e){var f,g=T(a,d,e,function(a,c){a?(g.terminate(),b.ondata.call(b,a)):(c[1]&&g.terminate(),b.ondata.call(b,a,c[0],c[1]))});g.postMessage(c);b.push=function(a,c){if(f)throw"stream finished";if(!b.ondata)throw"no stream handler";g.postMessage([a,f=c],[a.buffer])};b.terminate=function(){g.terminate()}},X=function(a,b){return a[b]|a[b+1]<<8},Y=function(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16|a[b+3]<<24)>>>0},la=function(a,b){return Y(a,b)+Y(a,b+4)*4294967296},Z=function(a,b,c){for(;c;++b)a[b]=c,c>>>=8},ma=function(a,b){var c=b.filename;a[0]=31,a[1]=139,a[2]=8,a[8]=b.level<2?4:b.level==9?2:0,a[9]=3;b.mtime!=0&&Z(a,4,Math.floor(new Date(b.mtime||Date.now())/1e3));if(c){a[3]=8;for(b=0;b<=c.length;++b)a[b+10]=c.charCodeAt(b)}},na=function(a){if(a[0]!=31||a[1]!=139||a[2]!=8)throw"invalid gzip data";var b=a[3],c=10;b&4&&(c+=a[10]|(a[11]<<8)+2);for(var d=(b>>3&1)+(b>>4&1);d>0;d-=!a[c++]);return c+(b&2)},oa=function(a){var b=a.length;return(a[b-4]|a[b-3]<<8|a[b-2]<<16|a[b-1]<<24)>>>0},pa=function(a){return 10+(a.filename&&a.filename.length+1||0)},qa=function(a,b){b=b.level;b=b==0?0:b<6?1:b==9?3:2;a[0]=120,a[1]=b<<6|(b?32-2*b:1)},ra=function(a){if((a[0]&15)!=8||a[0]>>>4>7||(a[0]<<8|a[1])%31)throw"invalid zlib data";if(a[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function sa(a,b){!b&&typeof a=="function"&&(b=a,a={});this.ondata=b;return a}var ta=function(){function a(a,b){!b&&typeof a=="function"&&(b=a,a={}),this.ondata=b,this.o=a||{}}a.prototype.p=function(a,b){this.ondata(Q(a,this.o,0,0,!b),b)};a.prototype.push=function(a,b){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=b;this.p(a,b||!1)};return a}();l.Deflate=ta;var ua=function(){function a(a,b){ka([U,function(){return[W,ta]}],this,sa.call(this,a,b),function(a){a=new ta(a.data);onmessage=W(a)},6)}return a}();l.AsyncDeflate=ua;function va(a,b,c){c||(c=b,b={});if(typeof c!="function")throw"no callback";return ja(a,b,[U],function(a){return ha(wa(a.data[0],a.data[1]))},0,c)}l.deflate=va;function wa(a,b){return Q(a,b||{},0,0)}l.deflateSync=wa;var $=function(){function a(a){this.s={},this.p=new b(0),this.ondata=a}a.prototype.e=function(a){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var c=this.p.length,d=new b(c+a.length);d.set(this.p),d.set(a,c),this.p=d};a.prototype.c=function(a){this.d=this.s.i=a||!1;a=this.s.b;var b=B(this.p,this.o,this.s);this.ondata(A(b,a,this.s.b),this.d);this.o=A(b,this.s.b-32768),this.s.b=this.o.length;this.p=A(this.p,this.s.p/8|0),this.s.p&=7};a.prototype.push=function(a,b){this.e(a),this.c(b)};return a}();l.Inflate=$;var xa=function(){function a(a){this.ondata=a,ka([da,function(){return[W,$]}],this,0,function(){var a=new $();onmessage=W(a)},7)}return a}();l.AsyncInflate=xa;function ya(a,b,c){c||(c=b,b={});if(typeof c!="function")throw"no callback";return ja(a,b,[da],function(a){return ha(za(a.data[0],ia(a.data[1])))},1,c)}l.inflate=ya;function za(a,b){return B(a,b)}l.inflateSync=za;var Aa=function(){function a(a,b){this.c=O(),this.l=0,this.v=1,ta.call(this,a,b)}a.prototype.push=function(a,b){ta.prototype.push.call(this,a,b)};a.prototype.p=function(a,b){this.c.p(a);this.l+=a.length;a=Q(a,this.o,this.v&&pa(this.o),b&&8,!b);this.v&&(ma(a,this.o),this.v=0);b&&(Z(a,a.length-8,this.c.d()),Z(a,a.length-4,this.l));this.ondata(a,b)};return a}();l.Gzip=Aa;l.Compress=Aa;i=function(){function a(a,b){ka([U,V,function(){return[W,ta,Aa]}],this,sa.call(this,a,b),function(a){a=new Aa(a.data);onmessage=W(a)},8)}return a}();l.AsyncGzip=i;l.AsyncCompress=i;function Ba(a,b,c){c||(c=b,b={});if(typeof c!="function")throw"no callback";return ja(a,b,[U,V,function(){return[Ca]}],function(a){return ha(Ca(a.data[0],a.data[1]))},2,c)}l.gzip=Ba;l.compress=Ba;function Ca(a,b){b||(b={});var c=O(),d=a.length;c.p(a);a=Q(a,b,pa(b),8);var e=a.length;return ma(a,b),Z(a,e-8,c.d()),Z(a,e-4,d),a}l.gzipSync=Ca;l.compressSync=Ca;var Da=function(){function a(a){this.v=1,$.call(this,a)}a.prototype.push=function(a,b){$.prototype.e.call(this,a);if(this.v){a=this.p.length>3?na(this.p):4;if(a>=this.p.length&&!b)return;this.p=this.p.subarray(a),this.v=0}if(b){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}$.prototype.c.call(this,b)};return a}();l.Gunzip=Da;var Ea=function(){function a(a){this.ondata=a,ka([da,ea,function(){return[W,$,Da]}],this,0,function(){var a=new Da();onmessage=W(a)},9)}return a}();l.AsyncGunzip=Ea;function Fa(a,b,c){c||(c=b,b={});if(typeof c!="function")throw"no callback";return ja(a,b,[da,ea,function(){return[Ga]}],function(a){return ha(Ga(a.data[0]))},3,c)}l.gunzip=Fa;function Ga(a,c){return B(a.subarray(na(a),-8),c||new b(oa(a)))}l.gunzipSync=Ga;var Ha=function(){function a(a,b){this.c=P(),this.v=1,ta.call(this,a,b)}a.prototype.push=function(a,b){ta.prototype.push.call(this,a,b)};a.prototype.p=function(a,b){this.c.p(a);a=Q(a,this.o,this.v&&2,b&&4,!b);this.v&&(qa(a,this.o),this.v=0);b&&Z(a,a.length-4,this.c.d());this.ondata(a,b)};return a}();l.Zlib=Ha;h=function(){function a(a,b){ka([U,fa,function(){return[W,ta,Ha]}],this,sa.call(this,a,b),function(a){a=new Ha(a.data);onmessage=W(a)},10)}return a}();l.AsyncZlib=h;function Ia(a,b,c){c||(c=b,b={});if(typeof c!="function")throw"no callback";return ja(a,b,[U,fa,function(){return[Ja]}],function(a){return ha(Ja(a.data[0],a.data[1]))},4,c)}l.zlib=Ia;function Ja(a,b){b||(b={});var c=P();c.p(a);a=Q(a,b,2,4);return qa(a,b),Z(a,a.length-4,c.d()),a}l.zlibSync=Ja;var Ka=function(){function a(a){this.v=1,$.call(this,a)}a.prototype.push=function(a,b){$.prototype.e.call(this,a);if(this.v){if(this.p.length<2&&!b)return;this.p=this.p.subarray(2),this.v=0}if(b){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}$.prototype.c.call(this,b)};return a}();l.Unzlib=Ka;var La=function(){function a(a){this.ondata=a,ka([da,ga,function(){return[W,$,Ka]}],this,0,function(){var a=new Ka();onmessage=W(a)},11)}return a}();l.AsyncUnzlib=La;function Ma(a,b,c){c||(c=b,b={});if(typeof c!="function")throw"no callback";return ja(a,b,[da,ga,function(){return[Na]}],function(a){return ha(Na(a.data[0],ia(a.data[1])))},5,c)}l.unzlib=Ma;function Na(a,b){return B((ra(a),a.subarray(2,-4)),b)}l.unzlibSync=Na;var Oa=function(){function a(a){this.G=Da,this.I=$,this.Z=Ka,this.ondata=a}a.prototype.push=function(a,c){if(!this.ondata)throw"no stream handler";if(!this.s){if(this.p&&this.p.length){var d=new b(this.p.length+a.length);d.set(this.p),d.set(a,this.p.length)}else this.p=a;if(this.p.length>2){var e=this;d=function(){e.ondata.apply(e,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(d):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(d):new this.Z(d);this.s.push(this.p,c);this.p=null}}else this.s.push(a,c)};return a}();l.Decompress=Oa;i=function(){function a(a){this.G=Ea,this.I=xa,this.Z=La,this.ondata=a}a.prototype.push=function(a,b){Oa.prototype.push.call(this,a,b)};return a}();l.AsyncDecompress=i;function Pa(a,b,c){c||(c=b,b={});if(typeof c!="function")throw"no callback";return a[0]==31&&a[1]==139&&a[2]==8?Fa(a,b,c):(a[0]&15)!=8||a[0]>>4>7||(a[0]<<8|a[1])%31?ya(a,b,c):Ma(a,b,c)}l.decompress=Pa;function Qa(a,b){return a[0]==31&&a[1]==139&&a[2]==8?Ga(a,b):(a[0]&15)!=8||a[0]>>4>7||(a[0]<<8|a[1])%31?za(a,b):Na(a,b)}l.decompressSync=Qa;var Ra=function(a,c,d,e){for(var f in a){var g=a[f],h=c+f;g instanceof b?d[h]=[g,e]:Array.isArray(g)?d[h]=[g[0],R(e,g[1])]:Ra(g,h+"/",d,e)}},Sa=typeof TextEncoder!="undefined"&&new TextEncoder(),Ta=typeof TextDecoder!="undefined"&&new TextDecoder(),Ua=0;try{Ta.decode(L,{stream:!0}),Ua=1}catch(a){}var Va=function(a){for(var b="",c=0;;){var d=a[c++],e=(d>127)+(d>223)+(d>239);if(c+e>a.length)return[b,A(a,c-1)];!e?b+=String.fromCharCode(d):e==3?(d=((d&15)<<18|(a[c++]&63)<<12|(a[c++]&63)<<6|a[c++]&63)-65536,b+=String.fromCharCode(55296|d>>10,56320|d&1023)):e&1?b+=String.fromCharCode((d&31)<<6|a[c++]&63):b+=String.fromCharCode((d&15)<<12|(a[c++]&63)<<6|a[c++]&63)}};Ba=function(){function a(a){this.ondata=a,Ua?this.t=new TextDecoder():this.p=L}a.prototype.push=function(a,c){if(!this.ondata)throw"no callback";c=!!c;if(this.t){this.ondata(this.t.decode(a,{stream:!0}),c);if(c){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}return}if(!this.p)throw"stream finished";var d=new b(this.p.length+a.length);d.set(this.p);d.set(a,this.p.length);a=Va(d);d=a[0];a=a[1];if(c){if(a.length)throw"invalid utf-8 data";this.p=null}else this.p=a;this.ondata(d,c)};return a}();l.DecodeUTF8=Ba;h=function(){function a(a){this.ondata=a}a.prototype.push=function(a,b){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata(Wa(a),this.d=b||!1)};return a}();l.EncodeUTF8=h;function Wa(a,c){if(c){var d=new b(a.length);for(var e=0;e<a.length;++e)d[e]=a.charCodeAt(e);return d}if(Sa)return Sa.encode(a);d=a.length;var f=new b(a.length+(a.length>>1)),g=0,h=function(a){f[g++]=a};for(var e=0;e<d;++e){if(g+5>f.length){var i=new b(g+8+(d-e<<1));i.set(f);f=i}i=a.charCodeAt(e);i<128||c?h(i):i<2048?(h(192|i>>6),h(128|i&63)):i>55295&&i<57344?(i=65536+(i&1023<<10)|a.charCodeAt(++e)&1023,h(240|i>>18),h(128|i>>12&63),h(128|i>>6&63),h(128|i&63)):(h(224|i>>12),h(128|i>>6&63),h(128|i&63))}return A(f,0,g)}l.strToU8=Wa;function Xa(a,b){if(b){b="";for(var c=0;c<a.length;c+=16384)b+=String.fromCharCode.apply(null,a.subarray(c,c+16384));return b}else if(Ta)return Ta.decode(a);else{c=Va(a);b=c[0];a=c[1];if(a.length)throw"invalid utf-8 data";return b}}l.strFromU8=Xa;var Ya=function(a){return a==1?3:a<6?2:a==9?1:0},Za=function(a,b){return b+30+X(a,b+26)+X(a,b+28)},$a=function(a,b,c){var d=X(a,b+28),e=Xa(a.subarray(b+46,b+46+d),!(X(a,b+8)&2048));d=b+46+d;var f=Y(a,b+20);c=c&&f==4294967295?ab(a,d):[f,Y(a,b+24),Y(a,b+42)];f=c[0];var g=c[1];c=c[2];return[X(a,b+10),f,g,e,d+X(a,b+30)+X(a,b+32),c]},ab=function(a,b){for(;X(a,b)!=1;b+=4+X(a,b+2));return[la(a,b+12),la(a,b+4),la(a,b+20)]},bb=function(a){var b=0;if(a)for(var c in a){var d=a[c].length;if(d>65535)throw"extra field too long";b+=d+4}return b},cb=function(b,c,d,e,f,g,h,i){var a=e.length,j=d.extra,k=i&&i.length,l=bb(j);Z(b,c,h!=null?33639248:67324752),c+=4;h!=null&&(b[c++]=20,b[c++]=d.os);b[c]=20,c+=2;b[c++]=d.flag<<1|(g==null&&8),b[c++]=f&&8;b[c++]=d.compression&255,b[c++]=d.compression>>8;f=new Date(d.mtime==null?Date.now():d.mtime);var m=f.getFullYear()-1980;if(m<0||m>119)throw"date not in range 1980-2099";Z(b,c,m<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>>1),c+=4;g!=null&&(Z(b,c,d.crc),Z(b,c+4,g),Z(b,c+8,d.size));Z(b,c+12,a);Z(b,c+14,l),c+=16;h!=null&&(Z(b,c,k),Z(b,c+6,d.attrs),(Z(b,c+10,h),c+=14));b.set(e,c);c+=a;if(l)for(m in j){f=j[m];g=f.length;Z(b,c,+m);Z(b,c+2,g);b.set(f,c+4),c+=4+g}k&&(b.set(i,c),c+=k);return c},db=function(a,b,c,d,e){Z(a,b,101010256),Z(a,b+8,c),Z(a,b+10,c),Z(a,b+12,d),Z(a,b+16,e)},eb=function(){function a(a){this.filename=a,this.c=O(),this.size=0,this.compression=0}a.prototype.process=function(a,b){this.ondata(null,a,b)};a.prototype.push=function(a,b){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(a);this.size+=a.length;b&&(this.crc=this.c.d());this.process(a,b||!1)};return a}();l.ZipPassThrough=eb;Ia=function(){function a(a,b){var c=this;b||(b={});eb.call(this,a);this.d=new ta(b,function(a,b){c.ondata(null,a,b)});this.compression=8;this.flag=Ya(b.level)}a.prototype.process=function(a,b){try{this.d.push(a,b)}catch(a){this.ondata(a,null,b)}};a.prototype.push=function(a,b){eb.prototype.push.call(this,a,b)};return a}();l.ZipDeflate=Ia;i=function(){function a(a,b){var c=this;b||(b={});eb.call(this,a);this.d=new ua(b,function(a,b,d){c.ondata(a,b,d)});this.compression=8;this.flag=Ya(b.level);this.terminate=this.d.terminate}a.prototype.process=function(a,b){this.d.push(a,b)};a.prototype.push=function(a,b){eb.prototype.push.call(this,a,b)};return a}();l.AsyncZipDeflate=i;Pa=function(){function a(a){this.ondata=a,this.u=[],this.d=1}a.prototype.add=function(c){var d=this;if(this.d&2)throw"stream finished";var e=Wa(c.filename),a=e.length,f=c.comment,g=f&&Wa(f);f=a!=c.filename.length||g&&f.length!=g.length;var h=a+bb(c.extra)+30;if(a>65535)throw"filename too long";a=new b(h);cb(a,0,c,e,f);var i=[a],j=function(){for(var a=0,b=i;a<b.length;a++){var c=b[a];d.ondata(null,c,!1)}i=[]},k=this.d;this.d=0;var l=this.u.length,m=R(c,{f:e,u:f,o:g,t:function(){c.terminate&&c.terminate()},r:function(){j();if(k){var a=d.u[l+1];a?a.r():d.d=1}k=1}}),n=0;c.ondata=function(a,e,f){if(a)d.ondata(a,e,f),d.terminate();else{n+=e.length;i.push(e);if(f){a=new b(16);Z(a,0,134695760);Z(a,4,c.crc);Z(a,8,n);Z(a,12,c.size);i.push(a);m.c=n,m.b=h+n+16,m.crc=c.crc,m.size=c.size;k&&m.r();k=1}else k&&j()}};this.u.push(m)};a.prototype.end=function(){var a=this;if(this.d&2){if(this.d&1)throw"stream finishing";throw"stream finished"}this.d?this.e():this.u.push({r:function(){if(!(a.d&1))return;a.u.splice(-1,1);a.e()},t:function(){}});this.d=3};a.prototype.e=function(){var c=0,d=0,e=0;for(var f=0,a=this.u;f<a.length;f++){var g=a[f];e+=46+g.f.length+bb(g.extra)+(g.o?g.o.length:0)}a=new b(e+22);for(var f=0,h=this.u;f<h.length;f++){var g=h[f];cb(a,c,g,g.f,g.u,g.c,d,g.o);c+=46+g.f.length+bb(g.extra)+(g.o?g.o.length:0),d+=g.b}db(a,c,this.u.length,e,d);this.ondata(null,a,!0);this.d=2};a.prototype.terminate=function(){for(var b=0,a=this.u;b<a.length;b++){var c=a[b];c.t()}this.d=2};return a}();l.Zip=Pa;function fb(a,c,d){d||(d=c,c={});if(typeof d!="function")throw"no callback";var e={};Ra(a,"",e,c);var f=Object.keys(e),g=f.length,h=0,i=0,j=g,k=new Array(g),l=[],m=function(){for(var a=0;a<l.length;++a)l[a]()},n=function(){var a=new b(i+22),c=h,e=i-h;i=0;for(var f=0;f<j;++f){var g=k[f];try{var l=g.c.length;cb(a,i,g,g.f,g.u,l);var m=30+g.f.length+bb(g.extra),n=i+m;a.set(g.c,n);cb(a,h,g,g.f,g.u,l,i,g.m),h+=16+m+(g.m?g.m.length:0),i=n+l}catch(a){return d(a,null)}}db(a,h,k.length,e,c);d(null,a)};g||n();a=function(b){var c=f[b],a=e[c],j=a[0],o=a[1],p=O(),q=j.length;p.p(j);var r=Wa(c),s=r.length,t=o.comment,u=t&&Wa(t),v=u&&u.length,w=bb(o.extra),x=o.level==0?0:8;a=function(a,e){if(a)m(),d(a,null);else{a=e.length;k[b]=R(o,{size:q,crc:p.d(),c:e,f:r,m:u,u:s!=c.length||u&&t.length!=v,compression:x});h+=30+s+w+a;i+=76+2*(s+w)+(v||0)+a;--g||n()}};s>65535&&a("filename too long",null);if(!x)a(null,j);else if(q<16e4)try{a(null,wa(j,o))}catch(b){a(b,null)}else l.push(va(j,o,a))};for(c=0;c<j;++c)a(c);return m}l.zip=fb;function gb(c,d){d||(d={});var e={},f=[];Ra(c,"",e,d);c=0;d=0;for(var g in e){var a=e[g],h=a[0];a=a[1];var i=a.level==0?0:8,j=Wa(g),k=j.length,l=a.comment,m=l&&Wa(l),n=m&&m.length,o=bb(a.extra);if(k>65535)throw"filename too long";var p=i?wa(h,a):h,q=p.length,r=O();r.p(h);f.push(R(a,{size:h.length,crc:r.d(),c:p,f:j,m:m,u:k!=g.length||m&&l.length!=n,o:c,compression:i}));c+=30+k+o+q;d+=76+2*(k+o)+(n||0)+q}a=new b(d+22);h=c;r=d-c;for(p=0;p<f.length;++p){var j=f[p];cb(a,j.o,j,j.f,j.u,j.c.length);m=30+j.f.length+bb(j.extra);a.set(j.c,j.o+m);cb(a,c,j,j.f,j.u,j.c.length,j.o,j.m),c+=16+m+(j.m?j.m.length:0)}db(a,c,f.length,r,h);return a}l.zipSync=gb;var hb=function(){function a(){}a.prototype.push=function(a,b){this.ondata(null,a,b)};a.compression=0;return a}();l.UnzipPassThrough=hb;Qa=function(){function a(){var a=this;this.i=new $(function(b,c){a.ondata(null,b,c)})}a.prototype.push=function(a,b){try{this.i.push(a,b)}catch(c){this.ondata(c,a,b)}};a.compression=8;return a}();l.UnzipInflate=Qa;Ba=function(){function a(a,b){var c=this;b<32e4?this.i=new $(function(a,b){c.ondata(null,a,b)}):(this.i=new xa(function(a,b,d){c.ondata(a,b,d)}),this.terminate=this.i.terminate)}a.prototype.push=function(a,b){this.i.terminate&&(a=A(a,0)),this.i.push(a,b)};a.compression=8;return a}();l.AsyncUnzipInflate=Ba;h=function(){function a(a){this.onfile=a,this.k=[],this.o={0:hb},this.p=L}a.prototype.push=function(a,c){var d=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(this.c>0){var e=Math.min(this.c,a.length),f=a.subarray(0,e);this.c-=e;this.d?this.d.push(f,!this.c):this.k[0].push(f);a=a.subarray(e);if(a.length)return this.push(a,c)}else{f=0;var g=0;e=void 0;var h=void 0;!this.p.length?h=a:!a.length?h=this.p:(h=new b(this.p.length+a.length),(h.set(this.p),h.set(a,this.p.length)));var i=h.length,j=this.c;a=j&&this.d;var k=function(){var a=Y(h,g);if(a==67324752){f=1,e=g;l.d=null;l.c=0;var b=X(h,g+6),c=X(h,g+8),k=b&2048;b=b&8;var m=X(h,g+26),n=X(h,g+28);if(i>g+30+m+n){var o=[];l.k.unshift(o);f=2;var p=Y(h,g+18),q=Y(h,g+22),r=Xa(h.subarray(g+30,g+=30+m),!k);p==4294967295?(m=b?[-2]:ab(h,g),p=m[0],q=m[1]):b&&(p=-1);g+=n;l.c=p;var s,t={name:r,compression:c,start:function(){if(!t.ondata)throw"no callback";if(!p)t.ondata(null,L,!0);else{var a=d.o[c];if(!a)throw"unknown compression type "+c;s=p<0?new a(r):new a(r,p,q);s.ondata=function(c,b,a){t.ondata(c,b,a)};for(var a=0,b=o;a<b.length;a++){var e=b[a];s.push(e,!1)}d.k[0]==o&&d.c?d.d=s:s.push(L,!0)}},terminate:function(){s&&s.terminate&&s.terminate()}};p>=0&&(t.size=p,t.originalSize=q);l.onfile(t)}return"break"}else if(j)if(a==134695760){e=g+=12+(j==-2&&8),f=3,l.c=0;return"break"}else if(a==33639248){e=g-=4,f=3,l.c=0;return"break"}},l=this;for(;g<i-4;++g){var m=k();if(m==="break")break}this.p=L;if(j<0){m=f?h.subarray(0,e-12-(j==-2&&8)-(Y(h,e-16)==134695760&&4)):h.subarray(0,g);a?a.push(m,!!f):this.k[+(f==2)].push(m)}if(f&2)return this.push(h.subarray(g),c);this.p=h.subarray(g)}if(c){if(this.c)throw"invalid zip file";this.p=null}};a.prototype.register=function(a){this.o[a.compression]=a};return a}();l.Unzip=h;function ib(a,c){if(typeof c!="function")throw"no callback";var d=[],e=function(){for(var a=0;a<d.length;++a)d[a]()},f={},g=a.length-22;for(;Y(a,g)!=101010256;--g)if(!g||a.length-g>65558){c("invalid zip file",null);return}var h=X(a,g+8);h||c(null,{});var i=h,j=Y(a,g+16),k=j==4294967295;if(k){g=Y(a,g-12);if(Y(a,g)!=101075792){c("invalid zip file",null);return}i=h=Y(a,g+32);j=Y(a,g+48)}g=function(g){g=$a(a,j,k);var i=g[0],l=g[1],m=g[2],n=g[3],o=g[4];g=g[5];g=Za(a,g);j=o;o=function(a,b){a?(e(),c(a,null)):(f[n]=b,--h||c(null,f))};if(!i)o(null,A(a,g,g+l));else if(i==8){g=a.subarray(g,g+l);if(l<32e4)try{o(null,za(g,new b(m)))}catch(a){o(a,null)}else d.push(ya(g,{size:m},o))}else o("unknown compression type "+i,null)};for(var l=0;l<i;++l)g(l);return e}l.unzip=ib;function jb(c){var d={},e=c.length-22;for(;Y(c,e)!=101010256;--e)if(!e||c.length-e>65558)throw"invalid zip file";var f=X(c,e+8);if(!f)return{};var g=Y(c,e+16),h=g==4294967295;if(h){e=Y(c,e-12);if(Y(c,e)!=101075792)throw"invalid zip file";f=Y(c,e+32);g=Y(c,e+48)}for(e=0;e<f;++e){var a=$a(c,g,h),i=a[0],j=a[1],k=a[2],l=a[3],m=a[4];a=a[5];a=Za(c,a);g=m;if(!i)d[l]=A(c,a,a+j);else if(i==8)d[l]=za(c.subarray(a,a+j),new b(k));else throw"unknown compression type "+i}return d}l.unzipSync=jb}var o=!1;function p(){o||(o=!0,n());return m.exports}function a(a){switch(a){case void 0:return p()}}e.exports=a}),null);
__d("fflate",["fflate-0.6.10"],(function(a,b,c,d,e,f){e.exports=b("fflate-0.6.10")()}),null);
__d("EncryptedBackupsDYIZipUtils",["EncryptedBackupsDYIFileUtils","asyncToGeneratorRuntime","fflate"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;function a(a,b,c,d,e,f){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g){var n=(yield d("EncryptedBackupsDYIFileUtils").getRootFolderHandle());n=(yield n.getFileHandle("messages.zip",{create:!0}));e("stream_file_start");var p=(yield n.createWritable({keepExisting:!1,mode:"exclusive"}));n=new(d("fflate").Zip)();var q=0;n.ondata=function(a,b,d){if(a){c.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Generic stream error"])));e("stream_file_error");g(a);return}q++;q%1e3===0&&c.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Writing chunk #",""])),q);p.write(b)["catch"](function(a){c.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Error during data event"]))),e("stream_file_error"),g(a)});d&&(c.LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Finished ZIP file generation. Saving the results"]))),e("stream_file_end"),e("write_file_start"),p.close().then(function(){e("write_file_end"),c.LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Closed the writing stream"]))),f()})["catch"](function(a){c.ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Error during end event"]))),e("write_file_error"),g(a)}))};for(a of a){var r=a.threadName+".json";r=new(d("fflate").ZipDeflate)(r,{level:9});var s=new TextEncoder().encode(JSON.stringify(a,null,2));n.add(r);r.push(s,!0)}for(r of b)yield o(n,r);n.end()});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.split("/").pop(),e=(yield d("EncryptedBackupsDYIFileUtils").getMediaFolderHandle());e=(yield d("EncryptedBackupsDYIFileUtils").readFile(e,c!=null?c:b));c=(yield e.arrayBuffer());e=new Uint8Array(c);c=new(d("fflate").ZipPassThrough)(b);a.add(c);c.push(e,!0)});return p.apply(this,arguments)}g.generateZipFile=a}),98);
__d("EncryptedBackupsDYISingleton",["EncryptedBackupsDYIFileUtils","EncryptedBackupsDYIGenerateThreadMetadata","EncryptedBackupsDYISingletonFactory","EncryptedBackupsDYITypes","EncryptedBackupsDYIZipUtils","FBLogger","I64","LSIntEnum","MAWBridge","MAWQplProxy","WAHashUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=["senderId"],i,j,k,l,m,n,o,p,q,r,s,t,u,v=null;function w(){try{return WorkerGlobalScope!==void 0&&self instanceof WorkerGlobalScope}catch(a){return!1}}function a(a,b,e){if(v==null)switch(a){case d("EncryptedBackupsDYITypes").EncryptedBackupsDYIConfig.Armadillo:if(w())throw c("FBLogger")("wmi_eb").mustfixThrow("EncryptedBackupsDYISingleton for Armadillo can only be initialised in the main thread");v=d("EncryptedBackupsDYISingletonFactory").getMAWEncryptedBackupsDYISingleton(b,e);break;case d("EncryptedBackupsDYITypes").EncryptedBackupsDYIConfig.Instamadillo:if(!w())throw c("FBLogger")("wmi_eb").mustfixThrow("EncryptedBackupsDYISingleton for Instamadillo can only be initialised in the worker");v=d("EncryptedBackupsDYISingletonFactory").getIGDEncryptedBackupsDYISingleton(b,e);break}}function e(){if(v==null)throw c("FBLogger")("wmi_eb").mustfixThrow("EncryptedBackupsDYISingleton is not initialised. Please call EncryptedBackupsDYISingleton.initSingleton() first.");return v}var x=function(){function a(a,b,c,d){this.$5=new Map(),this.$6=new Set(),this.$7=new Set(),this.$8=new Map(),this.$9=new Map(),this.$10=new Map(),this.$11=new Map(),this.$12=new Map(),this.$1=a,this.$2=b,this.$3=c,this.$4=d}var c=a.prototype;c.getDB=function(){return this.$1()};c.getLogger=function(){return this.$4};c.getAllMediaUrls=function(){return Array.from(this.$5.values())};c.$13=function(a){return this.$5.get(a)};c.setMediaUrlByPlainTextHash=function(a,b){if(this.$5.has(a))return;this.$5.set(a,b)};c.addThreadKeyToThreadsRestoreInProgress=function(a){this.$6.add(a)};c.isThreadRestoreInProgressForThreadKey=function(a){return this.$6.has(a)};c.deleteThreadKeyFromThreadsRestoreInProgress=function(a){this.$6["delete"](a),this.$4.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Finished handling message range queries for thread with thread key ",". "," threads left"])),a,this.$6.size),this.$14()&&(this.$4.LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["DYI flow complete - generating output"]))),void this.$15())};c.isThreadsRestoreComplete=function(){return this.$6.size===0};c.addPlaintextHashToAttachmentDownloadsInProgress=function(a){this.$7.add(a),this.$4.LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Started processing attachment with plaintext hash ","."])),d("WAHashUtils").sanitisePlaintextHash(a))};c.deletePlaintextHashFromAttachmentDownloadsInProgress=function(a){this.$7["delete"](a),this.$4.LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Finished processing attachment with plaintext hash ",". "," attachments left"])),d("WAHashUtils").sanitisePlaintextHash(a),this.$7.size),this.$7.size<30&&this.$4.LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Remaining attachments: ",""])),Array.from(this.$7).map(d("WAHashUtils").sanitisePlaintextHash).join(", ")),this.$14()&&(this.$4.LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["DYI flow complete - generating output"]))),void this.$15())};c.isAttachmentDownloadInProgressForPlaintextHash=function(a){return this.$7.has(a)};c.isAttachmentDownloadCompleteForPlaintextHash=function(a){return!!this.$5.get(a)};c.isAttachmentDownloadComplete=function(){return this.$7.size===0};c.setMessagesByThreadKey=function(a,b,c){a=this.getMessagesByThreadKey(a);a.set(b,c)};c.getMessagesByThreadKey=function(a){this.$16(a)||this.$8.set(a,new Map());return this.$8.get(a)};c.$16=function(a){return this.$8.has(a)};c.hasMessage=function(a,b){a=this.$8.get(a);return a==null?!1:a.has(b)};c.getThreadIdForThreadKey=function(a){return this.$10.get(a)};c.getThreadKeyForThreadId=function(a){return this.$11.get(a)};c.setThreadMapping=function(a,b){this.$10.set(a,b),this.$11.set(b,a)};c.setThreadMetaDataByThreadKey=function(a,b,c){this.$9.set(a,{participants:b,threadName:c})};c.getThreadMetadataMap=function(){return this.$9};c.setContactNameForContactId=function(a,b){this.$12.set(a,b)};c.getContactNameForContactId=function(a){return this.$12.get(a)};c.getContactNameMap=function(){return this.$12};c.getOutput=function(){var a=this;return Array.from(this.getThreadMetadataMap(),function(b){var c=b[0];b=b[1];var d=a.$16(c);d=d?Array.from(a.getMessagesByThreadKey(c),function(b){b[0];b=b[1];return babelHelpers["extends"]({},b,{media:Array.from(b.media,function(b){b=a.$13(b);return{uri:b!=null?"./"+b:"Failed to download media"}})})}):[];d=d.map(function(b){var c=b.senderId,d=babelHelpers.objectWithoutPropertiesLoose(b,h);if(c!=null&&d.senderName==="Unknown User"){c=a.getContactNameForContactId(c);if(c!=null)return babelHelpers["extends"]({},d,{senderName:c})}return b});c=d.sort(function(a,b){return typeof a.timestamp==="number"&&typeof b.timestamp==="number"?a.timestamp-b.timestamp:0});return babelHelpers["extends"]({},b,{messages:c})})};c.$14=function(){return this.isAttachmentDownloadComplete()&&this.isThreadsRestoreComplete()};c.$17=function(a){switch(a){case 0:return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.InProgress;case 1:return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Completed;case 2:return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed;case-1:default:return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.NotStarted}};c.updateDYIStatus=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield this.getDB());yield c.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield b.encrypted_backups_dyi_backup_restore_status.put({currentStatus:(t||(t=d("LSIntEnum"))).ofNumber(a),pk:(u||(u=d("I64"))).zero})});return function(a){return c.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":521");d("MAWBridge").getBridge().fireAndForget("event","updateDYIStatus",{qplEvent:this.$2,qplInstanceKeyE2E:(c=this.$3)!=null?c:void 0,status:this.$17(a)})});function c(b){return a.apply(this,arguments)}return c}();c.$18=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this,b=new Set();this.getContactNameMap().forEach(function(a,c){a==="Unknown User"&&b.add(c)});var c=(yield this.getDB());c=(yield d("EncryptedBackupsDYIGenerateThreadMetadata").getAllUnmappedContacts(c,b));c.forEach(function(b){var c=(u||(u=d("I64"))).to_string(b.id);a.setContactNameForContactId(c,b.name)});this.$4.LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Fetched remaining contact names, total of "," contacts"])),this.getContactNameMap().size.toString())});function c(){return a.apply(this,arguments)}return c}();c.$15=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;this.logDYIQPLPoint("complete_dyi_flow_start");yield this.$18();this.$4.LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Generating output"])));var c=this.getOutput(),e=Array.from(this.$5.values());this.$4.LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Generating zip file"])));yield d("EncryptedBackupsDYIZipUtils").generateZipFile(c,e,this.$4,function(b,c){a.logDYIQPLPoint(b,c)},b("asyncToGeneratorRuntime").asyncToGenerator(function*(){a.logDYIQPLPoint("complete_dyi_flow_end"),yield a.updateDYIStatus(1),void a.clear()}),function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){a.$4.ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate zip file: ",""])),b),a.logDYIQPLPoint("complete_dyi_flow_error"),yield a.updateDYIStatus(2),void a.clear()});return function(a){return c.apply(this,arguments)}}())});function c(){return a.apply(this,arguments)}return c}();c.exitDYIEarly=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b!=null&&this.$4.LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["DYI Exiting Early - Found "," instamadillo threads"])),b),this.logDYIQPLPoint("dyi_exit_early",{"int":{dyi_threads:b}}),yield this.updateDYIStatus(a?2:1),void this.clear()});function c(b,c){return a.apply(this,arguments)}return c}();c.clear=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this.$5=new Map();this.$6=new Set();this.$7=new Set();this.$8=new Map();this.$9=new Map();var a=(yield d("EncryptedBackupsDYIFileUtils").getRootFolderHandle());yield a.removeEntry(d("EncryptedBackupsDYIFileUtils").DyiMediaFolder,{recursive:!0})});function c(){return a.apply(this,arguments)}return c}();c.logDYIQPLPoint=function(a,b){this.$3!=null&&d("MAWQplProxy").sendQplPointThroughBridge(this.$2,a,{annotations:b,instanceKey:this.$3})};return a}();g.initSingleton=a;g.getSingleton=e;g.EncryptedBackupsDYISingleton=x}),98);
__d("EncryptedBackupsDYISingletonFactory",["EncryptedBackupsDYISingleton","WATagsLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return new(d("EncryptedBackupsDYISingleton").EncryptedBackupsDYISingleton)(a,c("qpl")._(521478596,"1329"),b,d("WATagsLogger").TAGS(["labyrinth_web","labyrinth_dyi",b==null?"":b.toString()]))}function b(a,b){return new(d("EncryptedBackupsDYISingleton").EncryptedBackupsDYISingleton)(a,c("qpl")._(521479842,"2163"),b,d("WATagsLogger").TAGS(["igd_labyrinth_web","igd_dyi",b==null?"":b.toString()]))}g.getMAWEncryptedBackupsDYISingleton=a;g.getIGDEncryptedBackupsDYISingleton=b}),98);
__d("EncryptedBackupsDYIMediaDownloadHandlers",["EncryptedBackupsDYIFileUtils","EncryptedBackupsDYISingleton","FBLogger","Promise","WAResultOrError","asyncToGeneratorRuntime","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){f=(yield d("EncryptedBackupsDYIFileUtils").getMediaFolderHandle());b=b.split("/")[1];b=c("uuidv4")()+"."+b;yield d("EncryptedBackupsDYIFileUtils").writeFile(f,b,e);f=d("EncryptedBackupsDYISingleton").getSingleton();f.setMediaUrlByPlainTextHash(a,d("EncryptedBackupsDYIFileUtils").DyiMediaFolder+"/"+b);f.deletePlaintextHashFromAttachmentDownloadsInProgress(a);return d("WAResultOrError").makeResult()});return function(b,c,d,e){return a.apply(this,arguments)}}();e=function(){c("FBLogger")("wmi_eb").debug("[DYIMediaPreviewHandler] Skipping previews for DYI");return(h||(h=b("Promise"))).resolve(d("WAResultOrError").makeResult())};g.DYIMediaDownloadHandler=a;g.DYIMediaPreviewHandler=e}),98);
__d("MAWMediaPreviewDownloadManager",["WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";var h=1e4,i=[],j=new Map();function a(a){if(j.has(a))return;l();var b=new(d("WAResolvable").Resolvable)();j.set(a,b);i.push(a)}function b(a,b){var c=j.get(a);if(c==null)return;c.reject(b);k(a)}function c(a){return j.get(a)}function k(a){j["delete"](a)}function l(){if(i.length>=h){var a=i.shift();a!=null&&j["delete"](a)}}function e(){i=[],j.clear()}g.markMediaPreviewAsDownloading=a;g.markMediaPreviewAsFailed=b;g.getMediaPreviewDownloadingResolvable=c;g.removeMediaPreviewDownloadingResolvable=k;g.clear=e}),98);
__d("MAWHandleMediaPreviewBeforeDownloadApi",["MAWMediaPreviewDownloadManager","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){d("MAWMediaPreviewDownloadManager").markMediaPreviewAsDownloading(a);return(h||(h=b("Promise"))).resolve()};g.handleMediaPreviewBeforeDownload=a}),98);
__d("MAWHandleMediaPreviewDownloadApi",["MAWBridgeTypesCreators","MAWDbMediaTxns","MAWDbMsgTxns","MAWDexieTable","MAWIndexedDb","MAWLoggerUtils","MAWMediaAfterTxns","MAWMediaDownloadStatus","MAWMediaDownloadStatusForUI","MAWMediaPreviewDownloadManager","MAWMediaUtils","MAWTransactionMode","MWFBLogger","WACryptoSha256","WAHashUtils","WAResultOrError","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("MWFBLogger").MWMediaLogger().tags([d("MAWLoggerUtils").Tag.MediaDownload,d("MAWLoggerUtils").Tag.MessageReceive,"MediaPreview"]);a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=d("WAHashUtils").toPlaintextHash(yield d("WACryptoSha256").sha256(b));d("MAWMediaDownloadStatusForUI").sendMediaDownloadStatusToUI({details:"handle_media_download",hash:a,status:c("MAWMediaDownloadStatus").DOWNLOADING,type:"preview"});var h=d("MAWMediaPreviewDownloadManager").getMediaPreviewDownloadingResolvable(a);h!=null&&(h.resolve(new Blob([b],{type:"image/jpeg"})),d("MAWMediaPreviewDownloadManager").removeMediaPreviewDownloadingResolvable(a));return k(a,g,b,e,f)});return function(b,c,d,e){return a.apply(this,arguments)}}();var k=d("MAWIndexedDb").makeMsgrTransactor({chunk:(e=d("MAWTransactionMode")).READWRITE,media:e.READWRITE,messages:e.READONLY,threads:e.READONLY},"handleMediaPreviewDownload",function(a){return function(b,e,f,g,k){return d("MAWDexieTable").dexieAll([d("MAWDbMediaTxns").maybeGetMediaFromPlaintextHash(a,b),d("MAWDbMsgTxns").maybeGetMsgByProtocolMsgId(a,k)]).then(function(k){var l=k[0],m=k[1];j.DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Handling preview for main hash ","... preview hash ","..."])),d("WAHashUtils").sanitisePlaintextHash(b),d("WAHashUtils").sanitisePlaintextHash(e));if(l==null){d("MAWMediaDownloadStatusForUI").sendMediaDownloadStatusToUI({details:"missing_media_on_save",hash:b,status:c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,type:"preview"});j.WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Main media for preview is null. Type: ",""])),g);return d("WAResultOrError").makeError("missing-media-on-save")}k=function(){switch(g){case"image":return a.media.update(l.mediaId,babelHelpers["extends"]({},l,{validatedImageInfo:babelHelpers["extends"]({},l.validatedImageInfo,{jpegThumbnail:f})}));case"video":return a.media.update(l.mediaId,babelHelpers["extends"]({},l,{validatedVideoInfo:babelHelpers["extends"]({},l.validatedVideoInfo,{jpegThumbnail:f})}));default:g;return d("MAWDexieTable").dexieResolve()}};d("MAWMediaDownloadStatusForUI").sendMediaDownloadStatusToUI({details:"handle_media_download_success",hash:b,status:c("MAWMediaDownloadStatus").SUCCESS,type:"preview"});return k().then(function(){return a.messages.where("msgId").anyOf(l.msgIds).toArray().then(function(b){return a.threads.where("jid").anyOf(b.map(function(a){return a.threadJid})).toArray().then(function(c){return d("MAWDexieTable").dexieAll(c.map(function(c){var e=d("MAWMediaUtils").createHdTypesForBridgeMedia(b);c=d("MAWBridgeTypesCreators").createBridgeMedia({chatJid:c.jid,filteredMsgIds:d("MAWBridgeTypesCreators").getMsgIdsFilteredByJid(b,c.jid),hasMediaForUI:!0,hdTypes:e,media:l,sortOrderMs:m==null?void 0:m.sortOrderMs});return d("MAWMediaAfterTxns").handleNewMediaAfterTxnWithBridgeMedia(a,c,b)})).then(function(){return d("WAResultOrError").makeResult()})})})})})}});g.handleMediaPreviewDownload=a}),98);
__d("MAWHandleMediaPreviewDownloadAsFailedApi",["MAWMediaPreviewDownloadManager","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,c){d("MAWMediaPreviewDownloadManager").markMediaPreviewAsFailed(a,c);return(h||(h=b("Promise"))).resolve()};g.handleMediaPreviewDownloadFailed=a}),98);
__d("MebWAMediaDownloader",["MAWHandleMediaPreviewBeforeDownloadApi","MAWHandleMediaPreviewDownloadApi","MAWHandleMediaPreviewDownloadAsFailedApi","WAAPI","WAIsMediaExpiredError","WALogger","WAStartMediaDownloadQplFlow","WATimeUtils","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){function a(a,b,c){this.mediaDownloadMetadata=a,this.downloadCallbacks=b,this.waApiDownloadCall=c}var e=a.prototype;e.handle=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b=this.mediaDownloadMetadata.mediaEntry.mediaKeyTimestamp;if(b==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][WAMediaDownloader] Cannot download media - missing mediaKeyTimestamp"])));return this.handleError()}b=!d("WATimeUtils").happenedWithin(b,29*d("WATimeUtils").DAY_SECONDS);a=(a=this.mediaDownloadMetadata.isUrlRenewed)!=null?a:!1;if(!a&&(b||c("gkx")("23960"))){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] downloading media from MI directly"])));return this.handleUrlExpired()}a=this.mediaDownloadMetadata;b=a.hash;var e=a.mediaEntry;a=a.protocolMsgId;b=(yield this.waApiDownloadCall(b,e,a));if(b.success)return this.downloadCallbacks.onDownloadSuccess({mimeType:b.value.mimeType,plaintext:b.value.plaintext});if(d("WAIsMediaExpiredError").isMediaExpiredError(b.error))return this.handleUrlExpired();else return this.handleError()});function e(){return a.apply(this,arguments)}return e}();e.handleUrlExpired=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;yield this.downloadCallbacks.onUrlExpired();return(a=this.mediaDownloadHandler)==null?void 0:a.handle()});function c(){return a.apply(this,arguments)}return c}();e.handleError=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;yield this.downloadCallbacks.onDownloadError();return(a=this.mediaDownloadHandler)==null?void 0:a.handle()});function c(){return a.apply(this,arguments)}return c}();e.getDownloadMetadata=function(){return this.mediaDownloadMetadata};e.setNextHandler=function(a){this.mediaDownloadHandler=a};return a}();e=function(a,b,e){var f=d("WAStartMediaDownloadQplFlow").startMediaDownloadQplFlow({downloadEntry:"MebWAMediaDownloader",msgType:null,protocolMsgId:e,triggerUIView:null});return c("WAAPI").downloadMedia({downloadMediaMetric:f,handleMediaPreviewBeforeDownload:d("MAWHandleMediaPreviewBeforeDownloadApi").handleMediaPreviewBeforeDownload,handleMediaPreviewDownload:d("MAWHandleMediaPreviewDownloadApi").handleMediaPreviewDownload,handleMediaPreviewDownloadFailed:d("MAWHandleMediaPreviewDownloadAsFailedApi").handleMediaPreviewDownloadFailed,hash:a,mediaEntry:b,protocolMsgId:e})};g.MebWAMediaDownloader=a;g.MebWADownloadMediaFromWorker=e}),98);
__d("EncryptedBackupsDYIMessageProcessingUtils",["EncryptedBackupsDYIMediaDownloadHandlers","EncryptedBackupsDYISingleton","FBLogger","MAWBridge","MAWFrontendMediaUtils","MebWAMediaDownloader","Promise","WAHashUtils","WAJids","WALongInt","WAMediaUtils","WAProgressiveJpegGetScanLengths","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r;function a(a,b){return{isUnsent:!1,media:new Set(),reactions:[],senderName:s(a),text:"",timestamp:b!=null?b:0,type:""}}function s(a){var b=d("EncryptedBackupsDYISingleton").getSingleton(),c="Unknown User";if(a!=null){b=b.getContactNameForContactId(a);b!=null&&(c=b)}return c}function e(a,b,c,d){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=d("EncryptedBackupsDYISingleton").getSingleton(),h=g.getLogger(),i=h.TAGS([d("WAHashUtils").sanitisePlaintextHash(a)]);c("FBLogger")("wmi_eb").tags(["labyrinth_dyi"]).debug("Sending the media download bridge call for plaintext hash: %s",d("WAHashUtils").sanitisePlaintextHash(a));f=(yield d("MAWBridge").getBridge().sendAndReceive("backend","dyiDownloadMediaV2",{mediaEntry:f,plaintextHash:a,protocolMsgId:b,sortOrderMs:e}));c("FBLogger")("wmi_eb").tags(["labyrinth_dyi"]).debug("Received the media download result from the bridge for plaintext hash: %s, success: %s, error: %s",d("WAHashUtils").sanitisePlaintextHash(a),f.success?"true":"false",f.error);if(f.success){e=f.value;var j=e.unvalidatedMimeType;e=e.validatedResult;j=e.skipValidation?j:e.mimeType;j=(yield d("EncryptedBackupsDYIMediaDownloadHandlers").DYIMediaDownloadHandler(a,j,e.validatedPlaintext,b));if(!j.success){i.WARN(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Failed to save media: ",", ",""])),j.error,j.payload);h.ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Failed to save media: ",", ",""])),j.error,j.payload);g.deletePlaintextHashFromAttachmentDownloadsInProgress(a);return}}else{i.WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Failed to download media: ",", ",""])),f.error,f.payload);h.ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Failed to download media: ",", ",""])),f.error,f.payload);g.deletePlaintextHashFromAttachmentDownloadsInProgress(a);return}});return t.apply(this,arguments)}function f(a,c,e,f,g,n,o,p,q,s,t){var u=d("EncryptedBackupsDYISingleton").getSingleton(),v=u.getLogger(),w=v.TAGS([d("WAHashUtils").sanitisePlaintextHash(q)]),x={author:d("WAJids").toMsgrUserJid(o),chat:d("WAJids").toMsgrUserJid(g),externalId:p},y={hash:q,isUrlRenewed:!1,mediaEntry:f,protocolMsgId:x,sortOrderMs:s};o={onDownloadError:function(){w.WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to download media"])));v.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Failed to download media"])));u.deletePlaintextHashFromAttachmentDownloadsInProgress(y.hash);return(r||(r=b("Promise"))).resolve()},onDownloadSuccess:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){w.LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Successfully downloaded media"])));var b=a.mimeType;a=a.plaintext;yield d("EncryptedBackupsDYIMediaDownloadHandlers").DYIMediaDownloadHandler(y.hash,b,a,x)});function c(b){return a.apply(this,arguments)}return c}(),onUrlExpired:function(){w.LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Media CDN URL has expired and should be renewed"])));return(r||(r=b("Promise"))).resolve()}};var z=new(d("MebWAMediaDownloader").MebWAMediaDownloader)(y,o,a),A=f.serverMediaType;f=f.objectId;if(A!=null&&f!=null&&typeof s==="number"){c={backupEntFbid:c,deliveryObjectId:f,hash:q,mediaType:A,messageId:p,productType:e,sortOrder:s,threadId:g,threadKey:n};f={onResignCdnUrlFailure:function(a){w.WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Failed to resign CDN URL: ",""])),a.message);v.ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Failed to resign CDN URL: ",""])),a.message);u.deletePlaintextHashFromAttachmentDownloadsInProgress(y.hash);return(r||(r=b("Promise"))).resolve()},onResignCdnUrlSuccess:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){});function c(){return a.apply(this,arguments)}return c}()};q=t(c,f);z.setNextHandler(q);q.setNextHandler(new(d("MebWAMediaDownloader").MebWAMediaDownloader)(y,o,a))}void z.handle()}function u(a,b,c){var e,f,g,h;e=(e=a.integral)==null||(e=e.transport)==null||(e=e.ancillary)==null?void 0:e.mimetype;if(e==null)return d("WAResultOrError").makeError("mime-type-missing");e=d("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(e,b).serverMediaType;if(e==null)return d("WAResultOrError").makeError("server-media-type-missing");b=(b=a.integral)==null||(b=b.transport)==null||(b=b.integral)==null?void 0:b.directPath;if(b==null)return d("WAResultOrError").makeError("direct-path-missing");f=(f=a.integral)==null||(f=f.transport)==null||(f=f.integral)==null?void 0:f.fileSha256;if(f==null)return d("WAResultOrError").makeError("plaintext-hash-missing");g=d("WALongInt").maybeNumber((g=a.integral)==null||(g=g.transport)==null||(g=g.integral)==null?void 0:g.mediaKeyTimestamp);if(g==null)return d("WAResultOrError").makeError("media-key-timestamp-missing");var i;if(((h=a.ancillary)==null?void 0:h.scanLengths)!=null&&((h=a.ancillary)==null?void 0:h.scansSidecar)!=null){h=a.ancillary;var j=h.scanLengths;h=h.scansSidecar;i={scanLengths:j.map(d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength),sidecar:h}}var k;if(((j=a.integral)==null||(j=j.transport)==null||(j=j.ancillary)==null||(j=j.thumbnail)==null?void 0:j.downloadableThumbnail)!=null){h=a.integral.transport.ancillary.thumbnail.downloadableThumbnail;j=h.directPath;var l=h.fileEncSha256,m=h.fileSha256,n=h.mediaKey,o=h.mediaKeyTimestamp;h=h.objectId;k={directPath:j,fileEncSha256:l,fileSha256:m,mediaKey:n,mediaKeyTimestamp:d("WALongInt").maybeNumber(o),objectId:h}}o={directPath:b,downloadableThumbnail:k,fileEncSha256:(j=a.integral)==null||(j=j.transport)==null||(j=j.integral)==null?void 0:j.fileEncSha256,filename:c,fileSha256:f,mediaKey:(l=a.integral)==null||(l=l.transport)==null||(l=l.integral)==null?void 0:l.mediaKey,mediaKeyTimestamp:d("WATimeUtils").castToUnixTime(g),objectId:(m=a.integral)==null||(m=m.transport)==null||(m=m.ancillary)==null?void 0:m.objectId,progressiveJpegDetails:i,serverMediaType:e,size:d("WALongInt").maybeNumber((n=a.integral)==null||(n=n.transport)==null||(n=n.ancillary)==null?void 0:n.fileLength)};return d("WAResultOrError").makeResult(d("WAMediaUtils").rawDataToMediaEntry(o))}g.buildBaseDyiMessage=a;g.getSenderName=s;g.downloadMediaWithMediaManager=e;g.startMediaDownloadChain=f;g.decodeMediaEntryFromAttachmentPayload=u}),98);
__d("IndexedDbPolyfills",[],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(){this.$1=new Map()}var b=a.prototype;b.emit=function(a){var b=this.$1.get(a);for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];if(b!==void 0)for(var f of b)f.apply(void 0,d);var g=this["on"+a];g!=null&&g.apply(void 0,d)};b.addEventListener=function(a,b,c){var d=this;c===void 0&&(c={});c=c;c=c.signal;var e=this.$1.get(a);e===void 0&&(e=new Set(),this.$1.set(a,e));e.add(b);c!=null&&(c.onabort=function(){d.removeEventListener(a,b)})};b.removeEventListener=function(a,b){a=this.$1.get(a);if(a===void 0)return;a["delete"](b)};return a}();a=function(){return function(a,b){a=this.openCursor(a!=null?a:null);var c=[],d=new g();a.onsuccess=function(a){a=a.target.result;if(a!=null&&(b===void 0||c.length<b))c.push(a.value),a["continue"]();else{d.result=c;d.onsuccess==null||d.onsuccess({target:{readyState:"done",result:c}});return}};a.onerror=function(a){d.onerror==null||d.onerror(a)};return d}};b=typeof window!=="undefined"?window:self;typeof b.IDBObjectStore!=="undefined"&&b.IDBObjectStore.prototype.getAll===void 0&&(b.IDBObjectStore.prototype.getAll=a());f.IDBRequest=g;f.getAll=a}),66);
__d("MAWCatQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29559957360285299"}),null);
__d("MAWCatQuery.instagram.graphql",["MAWCatQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SecureMessageOverWACATGraphResult",kind:"LinkedField",name:"secure_message_over_wa_cat_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_serialized_cat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expiration_time_in_seconds",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWCatQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWCatQuery",selections:a},params:{id:b("MAWCatQuery_instagramRelayOperation"),metadata:{},name:"MAWCatQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWKeychain",["MWEARKeychainV3"],(function(a,b,c,d,e,f,g){"use strict";a={getDbEncryptionKey:d("MWEARKeychainV3").getDbEncryptionKey,getLatestVersion:d("MWEARKeychainV3").getLatestVersion,init:d("MWEARKeychainV3").init};g["default"]=a}),98);
__d("MWSetupDBEncryption",["BrowserLockManager","ExecutionEnvironment","FBLogger","MAWEncryptionIndexedDbV2","MAWKeychain","MWEARKeychainV3","Promise","WAResultOrError","asyncToGeneratorRuntime","getErrorSafe","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a,b){return b()};function a(a){j=a}var k="mw_ear_db";function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("MAWEncryptionIndexedDbV2").makeEncryptionDB(a);return yield j("init_setup_keychain",function(){return c("MAWKeychain").init("global_ear",a)})}catch(e){var b=e instanceof Error?e:c("getErrorSafe")(e);c("FBLogger")("messenger_web").catching(b).mustfix("[%s] EAR setup error",String(a));return d("WAResultOrError").DEPRECATED_makeError("keychain-setup-failure",b)}});return m.apply(this,arguments)}function n(a){if(d("MAWEncryptionIndexedDbV2").getEncryptionDB()!=null&&d("MWEARKeychainV3").isKeychainInitialised("global_ear"))return(i||(i=b("Promise"))).resolve(d("WAResultOrError").makeResult(d("MWEARKeychainV3").getLatestVersion("global_ear")));if(c("BrowserLockManager")!=null)return new(i||(i=b("Promise")))(function(d,e){c("promiseDone")(c("BrowserLockManager").request(k,b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var b=(yield l(a));d(b)}catch(a){e(a)}})),function(a){},function(a){e(a)})});else return l(a)}function e(a,c){c===void 0&&(c=function(a){return!0});var d=null;return function(e){d==null&&(d=a(e).then(function(a){d=c(a)?(i||(i=b("Promise"))).resolve(a):null;return a})["catch"](function(a){d=null;throw a}));return d}}f=e(function(a){return n(a)},function(a){return(a==null?void 0:a.success)===!0});e=(h||(h=c("ExecutionEnvironment"))).isInWorker?f:n;g.setPerformanceMeasurementTool=a;g.init=e}),98);
__d("MAWDBKeychain",["BrowserLockManager","EARInitType","ExecutionEnvironment","FBLogger","MAWCurrentUser","MAWDexie","MAWIndexedDbMetadata","MWEARKeychainV3","MWSetupDBEncryption","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=["id"],i,j,k="encryptionMetaV3",l=function(a){a===void 0&&(a=d("MWEARKeychainV3").logMawInitPoint);a("maw_ear_check_mawdb_start");var b=d("MAWCurrentUser").getID();b=d("MAWIndexedDbMetadata").dbName(b);b=new(c("MAWDexie"))(b,{addons:[]});return b.open().then(function(b){a("maw_ear_check_mawdb_end");return b})["catch"]("NoSuchDatabaseError",function(){a("maw_ear_check_mawdb_no_db");return null})["catch"](function(b){a("maw_ear_check_mawdb_error");throw b})};e=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=d("MWEARKeychainV3").logMawInitPoint);var e=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b;try{b=(yield l(a));if(!b){c("FBLogger")("messenger_web").info("MAWDB is missing for MAW EAR worker init.");a("maw_ear_new_user");return{isNewUser:!0,reinitEAR:!0,useMawEAR:!0}}if(!b.backendDB().objectStoreNames.contains(k)){b.close();c("FBLogger")("messenger_web").info("MAW EAR is missing for MAW EAR worker init.");a("maw_ear_missing_ear_table");return{reinitEAR:!0,useMawEAR:!0}}var e=(yield n(b.backendDB()));e.length===0&&(c("FBLogger")("messenger_web").info("Migrating global EAR to MAW EAR"),a("maw_ear_migrating"),yield m(b.backendDB()));d("MWEARKeychainV3").setNamespaceSourceDbWithoutMarkingDbReady("maw_ear",b.backendDB());a("maw_ear_init_keychain");e=(yield d("MWEARKeychainV3").init("maw_ear",c("EARInitType").MAW_INIT,a));if(e.success===!1){if(e.payload!=null)throw e.payload;throw c("FBLogger")("messenger_web").mustfixThrow("Failed to init MAW EAR Keychain.")}a("maw_ear_success");c("FBLogger")("messenger_web").info("MAW EAR worker successfully initialised.");return{useMawEAR:!0}}finally{d("MWEARKeychainV3").setNamespaceSourceDbWithoutMarkingDbReady("maw_ear",null);(e=b)==null||e.close()}});return function(){return e.apply(this,arguments)}}();return new(j||(j=b("Promise")))(function(a,b){if(c("BrowserLockManager")!=null)return c("BrowserLockManager").request("mawdb_keychain_init_ear",function(){return e().then(a)["catch"](b)});else return e().then(a)["catch"](b)})["catch"](function(b){a("maw_ear_failure");throw c("FBLogger")("messenger_web").catching(b).mustfixThrow("Failed to init MAW EAR Worker.")})});return function(b){return a.apply(this,arguments)}}();var m=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=(yield d("MWSetupDBEncryption").init(c("EARInitType").MAW_INIT));if(!e.success){if(e.payload!=null)throw e.payload;throw c("FBLogger")("messenger_web").mustfixThrow("Failed to init global EAR.")}e=d("MWEARKeychainV3").getKeychain("global_ear");if(e.databaseEncryptionKeys.size===0)throw c("FBLogger")("messenger_web").mustfixThrow("Global EAR data is missing.");var f=Array.from(e.databaseEncryptionKeys.entries()).map(function(a){a[0];a=a[1].dbEntry;a.id;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return a});return new(j||(j=b("Promise")))(function(b,c){var d=a.transaction(k,"readwrite");f.forEach(function(a){d.objectStore(k).add(a)});d.onerror=function(){return c(d.error)};d.oncomplete=function(){return b()}})});return function(b){return a.apply(this,arguments)}}();function n(a){return new(j||(j=b("Promise")))(function(b,c){var d=a.transaction(k,"readonly"),e=d.objectStore(k).getAll();e.onsuccess=function(){return b(e.result)};e.onerror=function(){return c(e.error)}})}function a(a,b){if(a.encryptionMetaV3!=null){var e=d("MWEARKeychainV3").getKeychainInitStatus("maw_ear");if(e==="none"&&b!=null){d("MWEARKeychainV3").logMawInitPoint("maw_ear_populate_unstored_key");a.encryptionMetaV3.add(b);return}e=d("MWEARKeychainV3").isKeychainSettled("maw_ear")?"maw_ear":"global_ear";var f=Array.from(d("MWEARKeychainV3").getKeychain(e).databaseEncryptionKeys).map(function(a){a[0];a=a[1].dbEntry;return a});if(f.length>0)c("FBLogger")("messenger_web").info("DB re-populated after external DB deletion. Namespace: %s. isWorker: %s",e,(i||(i=c("ExecutionEnvironment"))).isInWorker),a.encryptionMetaV3.bulkPut(f),d("MWEARKeychainV3").setNamespaceSourceDbAndMarkAsReady("maw_ear",a.db.backendDB());else throw c("FBLogger")("messenger_web").mustfixThrow("No encryption keys to populate MAWDB. Namespace: %s. HasUnstoredKey: %s. isWorker: %s",e,Boolean(b),(i||(i=c("ExecutionEnvironment"))).isInWorker)}}g.STORENAME=k;g.checkMawDbExists=l;g.initEAR=e;g.getEncryptionKeys=n;g.onDbPopulateMAWKeychain=a}),98);
__d("MAWUnstoredQuotedMsgUtils",["FBLogger","MAWMsgType","WAJids","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)return;var b=a.content;a=a.remoteJid;var e;switch(b.type){case d("MAWMsgType").MSG_TYPE.TEXT:e=j(b);break;case d("MAWMsgType").MSG_TYPE.IMAGE:e=k(b);break;case d("MAWMsgType").MSG_TYPE.VIDEO:e=l(b);break;case d("MAWMsgType").MSG_TYPE.PTT:e=m(b);break;case d("MAWMsgType").MSG_TYPE.GIF:e=n(b);break;case d("MAWMsgType").MSG_TYPE.STICKER:e=o(b);break;case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:e=q(b);break;case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:e=r(b);break;case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:e=s(b);break;case d("WAMsgType").NOTE_REPLY:e=p(b);break;case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:e=t(b);break;default:b.type;throw c("FBLogger")("messenger_web").mustfixThrow("For flow")}return{content:e,remoteJid:a}}function i(a){if(d("WAJids").isAuthorSystem(a.author))throw c("FBLogger")("messenger_web").mustfixThrow("A system message cannot be quoted");return{author:a.author,externalId:a.externalId,ts:a.ts}}function j(a){return babelHelpers["extends"]({},i(a),{msgContent:a.msgContent,type:d("MAWMsgType").MSG_TYPE.TEXT})}function k(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.IMAGE})}function l(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.VIDEO})}function m(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.PTT})}function n(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.GIF})}function o(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.STICKER})}function p(a){return babelHelpers["extends"]({},i(a),{expirationTs:a.expirationTs,msgContent:a.msgContent,type:d("WAMsgType").NOTE_REPLY})}function q(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE})}function r(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.UNAVAILABLE})}function s(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL})}function t(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH})}function a(a){return{quote:h(a.quote)}}g.getWithQuoteMsg=a}),98);
__d("MAWUnstoredTypedMsgUtils",["MAWAdminMsgType","MAWDbMsg","MAWMsgType","MAWRavenUtils","MAWUnstoredQuotedMsgUtils","WAJids"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return{ack:a.ack,author:a.id.author,ebTimestampMs:a.ebTimestampMs,externalId:a.id.externalId,reportingMeta:a.reportingMeta,serverTs:a.serverTs,ts:a.ts}}function i(a){return{forwardingScore:a.forwardingScore,isForwarded:a.isForwarded}}function j(a){return{ephemeralSetting:k(a.ephemeralSetting),messageDeleteTs:a.deleteTs,messageExpirationTs:a.expirationTs}}function k(a){if(a==null)return;return{ephemeralExpirationInSec:a.expirationTs,ephemeralLastUpdatedOrSetTimestamp:a.updatedTs}}function a(a,b){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,collapsibleId:a.collapsibleId,isCollapsed:a.isCollapsed,msgContent:{commands:b.commands,content:(a=b.sentWithMessage)!=null?a:"",mentionedJids:b.mentionedJids},type:d("MAWMsgType").MSG_TYPE.XMA,xmaMessageType:b.targetType})}function b(a){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,editCount:0,msgContent:a.msgContent,specialTextSize:a.specialTextSize,type:d("MAWMsgType").MSG_TYPE.TEXT})}function c(a){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,plaintextHash:(a=a.mediaId)!=null?a:void 0,type:d("MAWMsgType").MSG_TYPE.IMAGE})}function e(a){return babelHelpers["extends"]({},h(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,ravenEphemeralMediaState:d("MAWRavenUtils").getEphemeralMediaState(a.ravenEphemeralMediaState),ravenEphemeralType:a.ravenEphemeralType,ravenMediaType:a.ravenMediaType,type:d("MAWMsgType").MSG_TYPE.RAVEN})}function f(a){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,plaintextHash:(a=a.mediaId)!=null?a:void 0,type:d("MAWMsgType").MSG_TYPE.VIDEO})}function l(a){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,type:d("MAWMsgType").MSG_TYPE.PTT})}function m(a){return{adminMsgContent:a.adminMsgContent,adminType:a.adminType}}function n(a){return babelHelpers["extends"]({},h(a),{altIndex:void 0,author:d("WAJids").AUTHOR_SYSTEM,msgContent:m(a.msgContent),type:d("MAWMsgType").MSG_TYPE.ADMIN})}function o(a){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,plaintextHash:(a=a.mediaId)!=null?a:void 0,type:d("MAWMsgType").MSG_TYPE.GIF})}function p(a){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,plaintextHash:(a=a.mediaId)!=null?a:void 0,type:d("MAWMsgType").MSG_TYPE.STICKER})}function q(a){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,type:d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE})}function r(a){return babelHelpers["extends"]({},h(a),{altIndex:d("MAWDbMsg").FUTUREPROOF_ALT_INDEX,msgContent:a.msgContent,type:d("MAWMsgType").MSG_TYPE.FUTUREPROOF})}function s(a){return babelHelpers["extends"]({},h(a),{altIndex:void 0,ebTimestampMs:a.ebTimestampMs,revokedExternalId:a.revokedExternalId,type:d("MAWMsgType").MSG_TYPE.REVOKED})}function t(a){return{adminMsgContent:a.adminMsgContent,adminType:a.adminType}}function u(a){return babelHelpers["extends"]({},h(a),{altIndex:void 0,msgContent:t(a.msgContent),type:d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN})}function v(a){return{adminMsgContent:a.adminMsgContent,adminType:a.adminType,screenshotActionType:a.screenshotActionType,version:a.version}}function w(a){return babelHelpers["extends"]({},h(a),{altIndex:void 0,msgContent:v(a.msgContent),type:d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION})}function x(a){return{adminType:a.adminType,authorName:a.authorName}}function y(a){return babelHelpers["extends"]({},h(a),{altIndex:void 0,msgContent:x(a.msgContent),type:d("MAWMsgType").MSG_TYPE.ICDC_ALERT})}function z(a){return babelHelpers["extends"]({},h(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,type:d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE})}function A(a,b){b=b.receiverFetchId;return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,receiverFetchId:b,type:d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH})}function B(a,b){var c=a.id.author===d("WAJids").AUTHOR_ME;b=[b.name];c||b.unshift(a.id.author!==d("WAJids").AUTHOR_ME&&a.id.author!==d("WAJids").AUTHOR_SYSTEM?d("WAJids").userIdFromJid(a.id.author):a.id.author);c=c?d("MAWAdminMsgType").CURRENT_USER_CREATED_POLL:d("MAWAdminMsgType").PARTICIPANT_CREATED_POLL;return babelHelpers["extends"]({},h(a),{altIndex:void 0,msgContent:{adminMsgContent:b,adminType:c,version:1},type:d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE})}function C(a){return babelHelpers["extends"]({},h(a),{altIndex:void 0,type:d("MAWMsgType").MSG_TYPE.GROUP_POLL_UPDATE})}g.getXMAMsg=a;g.getTextMsg=b;g.getImageMsg=c;g.getRavenMsg=e;g.getVideoMsg=f;g.getPttMsg=l;g.getAdminMsg=n;g.getGifMsg=o;g.getStickerMsg=p;g.getDocumentFileMsg=q;g.getFutureproofMsg=r;g.getRevokedMsg=s;g.getEphemeralSettingAdminMsg=u;g.getEphemeralScreenshotActionMsg=w;g.getICDCAlertMsg=y;g.getBumpExistingMessageMsg=z;g.getReceiverFetchMsg=A;g.getGroupPollCreateMsg=B;g.getGroupPollUpdateMsg=C}),98);
__d("MAWUnstoredMsgUtils",["FBLogger","MAWMsgType","MAWUnstoredTypedMsgUtils","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.unstoredGroupPollCreateInfo,e=a.unstoredMsg,f=a.unstoredReceiverFetchInfo;a=a.unstoredXMA;if(e==null)return null;switch(e.type){case d("MAWMsgType").MSG_TYPE.TEXT:return d("MAWUnstoredTypedMsgUtils").getTextMsg(e);case d("MAWMsgType").MSG_TYPE.IMAGE:return d("MAWUnstoredTypedMsgUtils").getImageMsg(e);case d("MAWMsgType").MSG_TYPE.VIDEO:return d("MAWUnstoredTypedMsgUtils").getVideoMsg(e);case d("MAWMsgType").MSG_TYPE.PTT:return d("MAWUnstoredTypedMsgUtils").getPttMsg(e);case d("MAWMsgType").MSG_TYPE.ADMIN:return d("MAWUnstoredTypedMsgUtils").getAdminMsg(e);case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:return d("MAWUnstoredTypedMsgUtils").getFutureproofMsg(e);case d("MAWMsgType").MSG_TYPE.REVOKED:return d("MAWUnstoredTypedMsgUtils").getRevokedMsg(e);case d("MAWMsgType").MSG_TYPE.GIF:return d("MAWUnstoredTypedMsgUtils").getGifMsg(e);case d("MAWMsgType").MSG_TYPE.STICKER:return d("MAWUnstoredTypedMsgUtils").getStickerMsg(e);case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:return d("MAWUnstoredTypedMsgUtils").getDocumentFileMsg(e);case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:return d("MAWUnstoredTypedMsgUtils").getEphemeralSettingAdminMsg(e);case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:return d("MAWUnstoredTypedMsgUtils").getEphemeralScreenshotActionMsg(e);case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:return d("MAWUnstoredTypedMsgUtils").getICDCAlertMsg(e);case d("MAWMsgType").MSG_TYPE.XMA:if((a==null?void 0:a.xma)==null)throw c("FBLogger")("messenger_web").mustfixThrow("XMA content cannot be parsed without XMA payload");return d("MAWUnstoredTypedMsgUtils").getXMAMsg(e,a==null?void 0:a.xma);case d("MAWMsgType").MSG_TYPE.RAVEN:return d("MAWUnstoredTypedMsgUtils").getRavenMsg(e);case d("MAWMsgType").MSG_TYPE.RAVEN_ACTION:case d("MAWMsgType").MSG_TYPE.REACTION:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return null;case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return d("MAWUnstoredTypedMsgUtils").getBumpExistingMessageMsg(e);case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:if(f==null)throw c("FBLogger")("messenger_web").mustfixThrow("Receiver Fetch Info cannot be null for Receiver Fetch Msg");return d("MAWUnstoredTypedMsgUtils").getReceiverFetchMsg(e,f);case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:if(!c("qex")._("3169"))throw c("FBLogger")("messenger_web").mustfixThrow("Group polls are not yet supported");if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("Poll Create Info cannot be null for Poll Create Msg");return d("MAWUnstoredTypedMsgUtils").getGroupPollCreateMsg(e,b);case d("MAWMsgType").MSG_TYPE.GROUP_POLL_UPDATE:if(!c("qex")._("3169"))throw c("FBLogger")("messenger_web").mustfixThrow("Group polls are not yet supported");return d("MAWUnstoredTypedMsgUtils").getGroupPollUpdateMsg(e);default:e.type;return null}}function b(a){if(a==null)return null;switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:return d("MAWUnstoredTypedMsgUtils").getTextMsg(a);case d("MAWMsgType").MSG_TYPE.GIF:return d("MAWUnstoredTypedMsgUtils").getGifMsg(a);case d("MAWMsgType").MSG_TYPE.STICKER:return d("MAWUnstoredTypedMsgUtils").getStickerMsg(a);default:return null}}function e(a){a=a.unstoredMsg;if(!a||a.type!==d("MAWMsgType").MSG_TYPE.REACTION)return null;a=a;return{ack:a.ack,author:a.id.author,externalId:a.id.externalId,groupingKey:a.groupingKey,reaction:a.reaction,reactToAuthor:a.reactToAuthor,reactToExternalId:a.reactToExternalId,senderTimestampMs:a.senderTimestampMs,threadJid:a.id.chat,ts:a.ts}}function f(a){a=a.unstoredMsg;if(!a||a.type!==d("MAWMsgType").MSG_TYPE.RAVEN_ACTION)return null;a=a;return{ack:a.ack,actionTimestamp:a.actionTimestamp,actionType:a.actionType,author:a.id.author,externalId:a.id.externalId,ravenActionToMsgExternalId:a.ravenActionToMsgExternalId,ts:a.ts,type:a.type}}function h(a){a=a.unstoredIncomingGroupInvite;return!a?null:babelHelpers["extends"]({},a)}function i(a){return a==null?null:{ack:a.ack,author:a.id.author,editMsgContent:a.editMsgContent,externalId:a.id.externalId,originalMsgExternalId:a.originalMsgExternalId,reportingMeta:a.reportingMeta,serverTs:a.serverTs,specialTextSize:a.specialTextSize,ts:a.ts,type:a.type}}function j(a){a=a.unstoredReceiverFetchInfo;return a==null?null:babelHelpers["extends"]({},a,{type:"sticker"})}function k(a){a=a.unstoredGroupPollCreateInfo;return a==null?null:babelHelpers["extends"]({},a,{latestSenderTimestampsMs:new Map()})}function l(a){a=a.unstoredGroupPollUpdateInfo;return a==null?null:{encryptedMessage:a.pollUpdateMessage}}g.getUnstoredMsg=a;g.getUnstoredAssociatedMsg=b;g.getUnstoredReaction=e;g.getUnstoredRavenActionMsg=f;g.getGroupInvite=h;g.getUnstoredEditActionMsg=i;g.getUnstoredReceiverFetchInfo=j;g.getUnstoredGroupPollCreateInfo=k;g.getUnstoredDbGroupPollUpdateInfo=l}),98);
__d("MAWUnstoredMediaUtils",["MAWUnstoredMsgUtils","WASortedLists"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null?null:{accessibilitySummaryText:a.accessibilitySummaryText,mediaEntry:a.mediaEntry,mediaType:a.mediaType,msgIds:d("WASortedLists").emptySet(),plaintextHash:a.plaintextHash,size:a.size,ts:a.ts,validatedAudioInfo:a.validatedAudioInfo,validatedDocumentFileInfo:a.validatedDocumentFileInfo,validatedImageInfo:a.validatedImageInfo,validatedVideoInfo:a.validatedVideoInfo}}function a(a){a=a.unstoredXMA;if(a==null)return;var b=a.unstoredAssociatedMedia,c=a.unstoredAssociatedMsg,e=a.unstoredFavicon,f=a.unstoredHeaderMedia,g=a.unstoredPreviews;a=a.xma;return{unstoredAssociatedMedia:(b=h(b))!=null?b:void 0,unstoredAssociatedMsg:(b=d("MAWUnstoredMsgUtils").getUnstoredAssociatedMsg(c))!=null?b:void 0,unstoredDbXMA:{author:a.author,contentRef:a.contentRef,ctas:a.ctas,defaultCTA:a.defaultCTA,externalId:a.externalId,headerTitle:a.headerTitle,isTombstoned:a.isTombstoned,maxSubtitleNumOfLines:a.maxSubtitleNumOfLines,maxTitleNumOfLines:a.maxTitleNumOfLines,overlayDescription:a.overlayDescription,overlayIconGlyph:a.overlayIconGlyph,overlayTitle:a.overlayTitle,subtitleText:a.subtitleText,targetExpiringAtSec:a.targetExpiringAtSec,targetId:a.targetId,targetType:a.targetType,targetUsername:a.targetUsername,threadJid:a.threadJid,titleText:a.titleText,xmaDataclass:a.xmaDataclass,xmaLayoutType:a.xmaLayoutType},unstoredFavicon:(c=h(e))!=null?c:void 0,unstoredHeaderMedia:(b=h(f))!=null?b:void 0,unstoredPreviews:g?g.map(function(a){return h(a)}).filter(Boolean):void 0}}g.getUnstoredMedia=h;g.getUnstoredXMA=a}),98);
__d("MAWUnstoredContentToUnstoredDbContentUtils",["MAWUnstoredMediaUtils","MAWUnstoredMsgUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=(b=d("MAWUnstoredMsgUtils")).getUnstoredMsg(a),e=d("MAWUnstoredMediaUtils").getUnstoredMedia(a.unstoredMedia),f=b.getUnstoredReaction(a),g=b.getUnstoredRavenActionMsg(a),h=d("MAWUnstoredMediaUtils").getUnstoredXMA(a),i=b.getGroupInvite(a),j=b.getUnstoredEditActionMsg(a.unstoredEditMsg),k=b.getUnstoredReceiverFetchInfo(a),l=b.getUnstoredGroupPollCreateInfo(a);b=b.getUnstoredDbGroupPollUpdateInfo(a);if(i==null)return{contentTypeForLogging:a.contentTypeForLogging,unstoredDbEditActionMsg:j,unstoredDbGroupPollCreateInfo:l,unstoredDbGroupPollUpdateInfo:b,unstoredDbMedia:e,unstoredDbMsg:c,unstoredDbRavenActionMsg:g,unstoredDbReaction:f,unstoredDbReceiverFetchInfo:k,unstoredXMA:h,xmaTargetTypeForLogging:a.xmaTargetTypeForLogging};else return{contentTypeForLogging:a.contentTypeForLogging,unstoredDbEditActionMsg:j,unstoredDbGroupPollCreateInfo:l,unstoredDbGroupPollUpdateInfo:b,unstoredDbMedia:e,unstoredDbMsg:c,unstoredDbRavenActionMsg:g,unstoredDbReaction:f,unstoredDbReceiverFetchInfo:k,unstoredIncomingDbGroupInvite:i,unstoredXMA:h,xmaTargetTypeForLogging:a.xmaTargetTypeForLogging}}g.unstoredContentToUnstoredDbContent=a}),98);
__d("MAWHandleEchoProtobufsRestoreApi",["EBLogger","EchoMessageMediaFieldUtils","EncryptedBackupsDYIMessageProcessingUtils","LSMEBTaskCreationSource","MAWJids","MAWMsg","MAWMsgType","MAWODSProxy","MAWUnstoredContentToUnstoredDbContentUtils","MessageBackupSupplementalKeyGenerator","WAAckLevel","WAArmadilloApplication.pb","WAArmadilloBackupMessage.pb","WABase64","WAConsumerApplication.pb","WAHashUtils","WAJids","WAMediaTransport.pb","WAMsgApplication.pb","WAMsgType","WAOdsEnums","WAParseMediaTransportProtocol","WAParseMessageApplication","WAStanzaUtils","WATimeUtils","decodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=d("EBLogger").EBLogger().tags(["ProtobufRestore"]);function a(a){var b=a.isMediaGalleryRestore,e=a.taskSource;b!=null&&b?(d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.EB_RESTORE,key:"is_media_gallery_restore_param"}),D.WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["isMediaGalleryRestore is deprecated. Consider using taskSource insted"]))),b=c("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE):b=e!=null?e:c("LSMEBTaskCreationSource").UNKNOWN;return babelHelpers["extends"]({},a,{isMediaGalleryRestore:void 0,taskSource:b})}function E(a,b,c){c={author:c,chat:b,externalId:a};return c}function F(a,b,c,e,f,g,h,n,o,p,q,r,s,t,u,v){if(a===d("MAWMsgType").MSG_TYPE.TEXT)if(h==null){D.MUSTFIX(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Text content cannot be null for msg type text - unable to restore msg"])));return}else{h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,msgContent:{content:h,mentionedJids:n!=null?n.map(d("WAJids").validateUserJid).filter(Boolean):void 0},ts:b,type:d("MAWMsgType").MSG_TYPE.TEXT};return h}else if(a===d("MAWMsgType").MSG_TYPE.VIDEO){n={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.VIDEO};return n}else if(a===d("MAWMsgType").MSG_TYPE.GIF){h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.GIF};return h}else if(a===d("MAWMsgType").MSG_TYPE.IMAGE){n={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.IMAGE};return n}else if(a===d("MAWMsgType").MSG_TYPE.STICKER){h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.STICKER};return h}else if(a===d("MAWMsgType").MSG_TYPE.PTT){n={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.PTT};return n}else if(a===d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE){h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE};return h}else if(a===d("MAWMsgType").MSG_TYPE.XMA){n={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,ts:b,type:d("MAWMsgType").MSG_TYPE.XMA};return n}else if(a===d("MAWMsgType").MSG_TYPE.REVOKED){if(o==null){D.MUSTFIX(j||(j=babelHelpers.taggedTemplateLiteralLoose(["No revoked msg external id found for revoked msg"])));return}h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,ebTimestampMs:null,id:e,msgContent:void 0,revokedExternalId:o,ts:b,type:d("MAWMsgType").MSG_TYPE.REVOKED,unsendMsgContentDeleteTs:b};return h}else if(a===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE){n={ack:d("WAAckLevel").ACK.SENT,id:e,ts:b,type:d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE};return n}else if(a===d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH){o={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,ts:b,type:d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH};return o}else if(a===d("MAWMsgType").MSG_TYPE.RAVEN){if(p==null){D.MUSTFIX(k||(k=babelHelpers.taggedTemplateLiteralLoose(["No raven msg ephemeral type found for raven msg"])));return}if(q==null){D.MUSTFIX(l||(l=babelHelpers.taggedTemplateLiteralLoose(["No raven msg media type found for raven msg"])));return}h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,id:e,mediaId:r,ravenEphemeralMediaState:d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN,ravenEphemeralType:p,ravenMediaType:q,ts:b,type:d("MAWMsgType").MSG_TYPE.RAVEN};return h}else if(a===d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE){if(s==null||t==null||u==null||v==null){D.MUSTFIX(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] One of the mandatory fields is missing for the group poll creation msg"])));return}n={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,id:e,ts:b,type:d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE};return n}}function b(a,b,c,e,f){var g,h,i=a.metadata,j=a.msgType;if(i==null){D.MUSTFIX(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Missing required metadata, unable to create db msg from protobuf"])));return}if(j==null){D.MUSTFIX(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Missing required msg type, unable to create db msg from protobuf"])));return}var k=i.messageId;i=i.senderId;g=(g=a.decodedPayload)==null?void 0:g.text;h=(h=a.decodedPayload)==null?void 0:h.mentionedJid;if(k==null){D.MUSTFIX(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Missing required message id, unable to create db msg from protobuf"])));return}if(i==null){D.MUSTFIX(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Missing required author, unable to create db msg from protobuf"])));return}var l=d("WATimeUtils").castMilliSecondsToUnixTime(a.sortOrderMs);i=d("MAWJids").toUserJid(i);var m=d("WAStanzaUtils").toStanzaId(k),t=i===c?d("WAJids").AUTHOR_ME:i,u=E(m,b,i);if(a.editMsgData.length>0){var v=l;a.editMsgData.forEach(function(a){var b;if(a.ts>v&&((b=a.editMsgContent.message)==null?void 0:b.text)!=null){v=a.ts;g=(b=a.editMsgContent.message)==null?void 0:b.text;h=(b=a.editMsgContent.message)==null?void 0:b.mentionedJid}})}u=F(j,l,t,u,a.isForwarded,a.forwardingScore,g,h,a.revokedMsgExternalId,a.ravenMsgEphemeralType,a.ravenMsgMediaType,(l=a.ravenUnstoredMedia)==null?void 0:l.plaintextHash,(t=a.groupPollInfo)==null?void 0:t.encKey,(u=a.groupPollInfo)==null?void 0:u.name,(l=a.groupPollInfo)==null?void 0:l.options,(t=a.groupPollInfo)==null?void 0:t.selectableOptionsCount);if(u==null){D.MUSTFIX(r||(r=babelHelpers.taggedTemplateLiteralLoose(["Missing required fields, unable to create db msg from protobuf for thread jid "," and otid ",""])),b,m);return}var w;if(a.xmaData!=null&&((l=a.xmaData)==null?void 0:l.targetType)!=null){l={author:i,externalId:m,targetType:(t=a.xmaData)==null?void 0:t.targetType,threadJid:b};w={unstoredAssociatedMedia:void 0,unstoredAssociatedMsg:void 0,unstoredFavicon:void 0,unstoredHeaderMedia:void 0,unstoredPreviews:void 0,xma:l}}i={unstoredGroupPollCreateInfo:a.groupPollInfo,unstoredMedia:void 0,unstoredMsg:u,unstoredQuotedMedia:void 0,unstoredReceiverFetchInfo:a.receiverFetchInfo,unstoredXMA:w};u.type===d("MAWMsgType").MSG_TYPE.RAVEN&&a.ravenUnstoredMedia!=null&&(i.unstoredMedia=a.ravenUnstoredMedia);t=d("MAWUnstoredContentToUnstoredDbContentUtils").unstoredContentToUnstoredDbContent(i);if(t.unstoredDbMsg!=null){b=t.unstoredDbMsg;b.sortOrderMs=a.sortOrderMs;b.serverTs=d("WATimeUtils").castToUnixTime(a.sortOrderMs/1e3);a.noteReply!=null&&(b.quote={content:a.noteReply,remoteJid:void 0});l=e.get(k);b.author!=null&&c===b.author&&b.author!==d("WAJids").AUTHOR_SYSTEM&&(b.author=d("WAJids").AUTHOR_ME);l!=null&&(b.quoteExternalId=d("WAStanzaUtils").toStanzaId(l));j===d("MAWMsgType").MSG_TYPE.TEXT&&(b.editCount=a.editMsgData.length);u={author:b.author,stanzaId:m,unstoredDbContent:t};t.unstoredDbMedia!=null&&f!=null&&f.set(m,t.unstoredDbMedia);return u}D.MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Failed to create db msg from protobuf"])))}function G(a){switch(a){case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.IMAGE_JPEG;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.GIF;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.STICKER;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.AUDIO_MP4;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.AUDIO_WAV;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.XMA_IMAGE:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.IMAGE_JPEG;default:return null}}function H(a){switch(a){case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE:return d("EchoMessageMediaFieldUtils").AttachmentType.IMAGE;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF:return d("EchoMessageMediaFieldUtils").AttachmentType.GIF;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER:return d("EchoMessageMediaFieldUtils").AttachmentType.STICKER;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO:return d("EchoMessageMediaFieldUtils").AttachmentType.VIDEO;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO:return d("EchoMessageMediaFieldUtils").AttachmentType.PTT;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.XMA_IMAGE:return d("EchoMessageMediaFieldUtils").AttachmentType.XMA;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.DOCUMENT:return d("EchoMessageMediaFieldUtils").AttachmentType.DOCUMENT;default:return null}}function I(a){var b;switch(a){case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE:b="image/jpeg";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO:b="audio/wav";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO:b="video/mp4";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF:b="image/gif";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER:b="image/webp";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.XMA_IMAGE:b="image/jpeg";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.DOCUMENT:b="application/octet-stream";break;default:D.MUSTFIX(t||(t=babelHelpers.taggedTemplateLiteralLoose(["Unsupported media type, cannot get mimetype for attachment"])))}return b}function J(a,b,c){var e,f,g,h,i,j,k,l,m,n;b=b;var o=a.ancillary,p=a.integral,q=p==null||(e=p.transport)==null||(e=e.integral)==null?void 0:e.fileSha256,r=p==null||(f=p.transport)==null||(f=f.integral)==null?void 0:f.fileEncSha256,s=p==null||(g=p.transport)==null||(g=g.integral)==null?void 0:g.mediaKey,t=(p==null||(h=p.transport)==null||(h=h.integral)==null?void 0:h.mediaKeyTimestamp)!=null?typeof (p==null||(i=p.transport)==null?void 0:i.integral.mediaKeyTimestamp)==="number"?p==null||(j=p.transport)==null?void 0:j.integral.mediaKeyTimestamp:void 0:void 0,w=o==null?void 0:o.gifPlayback;w!=null&&w&&(b=d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF);w=p==null||(k=p.transport)==null||(k=k.ancillary)==null||(k=k.thumbnail)==null?void 0:k.thumbnailHeight;var x=p==null||(l=p.transport)==null||(l=l.ancillary)==null||(l=l.thumbnail)==null?void 0:l.thumbnailWidth,y=G(b),z=H(b);if(z===null){D.MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Invalid attachment type, cannot restore attachment"])));return}a=d("EncryptedBackupsDYIMessageProcessingUtils").decodeMediaEntryFromAttachmentPayload(a,z===d("EchoMessageMediaFieldUtils").AttachmentType.XMA,c);a.success||D.WARN(v||(v=babelHelpers.taggedTemplateLiteralLoose(["Cannot generate media entry data, ",""])),a.error);z={attachmentObjectId:p==null||(m=p.transport)==null||(m=m.ancillary)==null?void 0:m.objectId,attachmentType:z,directPath:p==null||(n=p.transport)==null||(n=n.integral)==null?void 0:n.directPath,encryptedHash:r!=null?d("WAHashUtils").toPlaintextHash(r):void 0,filename:c,height:o==null?void 0:o.height,mediaEntryData:a.value,mediaKey:s!=null?d("WABase64").encodeB64UrlSafe(s):void 0,mediaKeyTimestamp:t,mediaPlayableDuration:o==null?void 0:o.seconds,plaintextHash:q!=null?d("WAHashUtils").toPlaintextHash(q):void 0,width:o==null?void 0:o.width,xAttachmentType:b,xContentType:"full"};p=I(b);p!=null&&(z.mediaContentType=p);y!=null&&(z.previewContentType=y,z.previewContentHeight=w,z.previewContentWidth=x);return d("EchoMessageMediaFieldUtils").convertMediaMetadataDetailsToMediaMetadata(z,"protobuf")}function K(a,b,c){var e;b=J(a,b,c);if(b==null)return{mediaMetadata:void 0,previewMetadata:null};c=a.integral;a=null;c=c==null||(e=c.transport)==null||(e=e.ancillary)==null||(e=e.thumbnail)==null?void 0:e.downloadableThumbnail;if(c!=null){var f=c.fileSha256,g=c.fileEncSha256,h=c.mediaKey,i=typeof c.mediaKeyTimestamp==="number"?c.mediaKeyTimestamp:void 0;a={attachmentObjectId:c.objectId,attachmentType:d("EchoMessageMediaFieldUtils").AttachmentType.IMAGE,directPath:c.directPath,encryptedHash:g!=null?d("WAHashUtils").toPlaintextHash(g):void 0,filename:void 0,height:void 0,mediaKey:h!=null?d("WABase64").encodeB64UrlSafe(h):void 0,mediaKeyTimestamp:i,mediaPlayableDuration:void 0,plaintextHash:f!=null?d("WAHashUtils").toPlaintextHash(f):void 0,width:void 0,xAttachmentType:d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.MESSENGER_PREVIEW,xContentType:"preview"};return{mediaMetadata:b,previewMetadata:d("EchoMessageMediaFieldUtils").convertMediaMetadataDetailsToMediaMetadata(a,"protobuf")}}return{mediaMetadata:b,previewMetadata:null}}function L(a,b,c,e,f,g){g===void 0&&(g=null),b!=null&&a!=null&&(c.push({mediaMetadata:b,mediaRestoreType:e,previewMetadata:g}),f.set(d("WAStanzaUtils").toStanzaId(a),c))}function M(a){switch(a){case 0:return d("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE;case 1:return d("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY;case 2:return d("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT;default:return void 0}}function N(a,b,c,e,f,g,h,i,j,k,l){var m,n,o,p,q,r,s,t,u,v=P(a,g,h,i),B=v==null||(m=v.obj.payload)==null?void 0:m.content,C={editMsgData:[],externalId:e,forwardingScore:(n=v==null||(o=v.metadata)==null?void 0:o.forwardingScore)!=null?n:0,isForwarded:(n=v==null||(p=v.metadata)==null?void 0:p.isForwarded)!=null?n:!1,metadata:a.metadata,reactionData:[],sortOrderMs:b,unknownFieldCount:a.$$unknownFieldCount},E=[];if(B!=null){if(B.messageText!=null){C.msgType=d("MAWMsgType").MSG_TYPE.TEXT;C.decodedPayload=B.messageText;return C}else if(B.extendedContentMessage!=null){C.msgType=d("MAWMsgType").MSG_TYPE.XMA;C.xmaData=B.extendedContentMessage;if(((n=B.extendedContentMessage)==null?void 0:n.headerImage)!=null){n=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAMediaTransport.pb").ImageTransportSpec,(b=B.extendedContentMessage)==null?void 0:b.headerImage.payload);b=J(n,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);L(e,b,E,"xma_header",j)}if(((n=B.extendedContentMessage)==null?void 0:n.favicon)!=null){n=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAMediaTransport.pb").ImageTransportSpec,(b=B.extendedContentMessage)==null?void 0:b.favicon.payload);b=J(n,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);L(e,b,E,"xma_favicon",j)}if(((n=B.extendedContentMessage)==null?void 0:n.previews)!=null){(b=B.extendedContentMessage)==null||b.previews.forEach(function(a){a=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAMediaTransport.pb").ImageTransportSpec,a.payload);a=J(a,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);C.mediaMetadata=a;L(e,a,E,"xma_preview",j)})}return C}else if(B.audioMessage!=null){b=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").AudioTransportSpec,(n=B.audioMessage)==null||(n=n.audio)==null?void 0:n.payload);n=J(b,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO);C.msgType=d("MAWMsgType").MSG_TYPE.PTT;C.mediaMetadata=n;L(e,n,E,"attachment",j);return C}else if(B.videoMessage!=null){b=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").VideoTransportSpec,(b=B.videoMessage)==null||(b=b.video)==null?void 0:b.payload);b=K(b,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO);var F=b.mediaMetadata;b=b.previewMetadata;n=F;n!=null&&n.xAttachmentType===d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF?C.msgType=d("MAWMsgType").MSG_TYPE.GIF:C.msgType=d("MAWMsgType").MSG_TYPE.VIDEO;C.mediaMetadata=n;L(e,n,E,"attachment",j,b);return C}else if(B.imageMessage!=null){b=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").ImageTransportSpec,(F=B.imageMessage)==null||(F=F.image)==null?void 0:F.payload);F=K(b,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);b=F.mediaMetadata;F=F.previewMetadata;n=b;C.msgType=d("MAWMsgType").MSG_TYPE.IMAGE;C.mediaMetadata=n;L(e,n,E,"attachment",j,F);return C}else if(B.stickerMessage!=null){F=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").StickerTransportSpec,(b=B.stickerMessage)==null||(b=b.sticker)==null?void 0:b.payload);if(((b=F.integral)==null?void 0:b.receiverFetchId)!=null){b=d("WAParseMediaTransportProtocol").parseStickerReceiverFetchInfo(F);if(b==null){D.MUSTFIX(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[MAWHandleEchoProtobufsRestoreApi] consumerMessage has no sticker receiver fetch info"])));return C}C.msgType=d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH;C.receiverFetchInfo=b;return C}n=J(F,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER);C.msgType=d("MAWMsgType").MSG_TYPE.STICKER;C.mediaMetadata=n;L(e,n,E,"attachment",j);return C}else if(B.documentMessage!=null){F=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").DocumentTransportSpec,(b=B.documentMessage)==null||(b=b.document)==null?void 0:b.payload);n=J(F,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.DOCUMENT,(b=B.documentMessage)==null?void 0:b.fileName);C.msgType=d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE;C.mediaMetadata=n;L(e,n,E,"attachment",j);return C}}else if((v==null||(q=v.obj.payload)==null||(q=q.applicationData)==null?void 0:q.revoke)!=null){var G;F=v==null||(G=v.obj.payload)==null||(G=G.applicationData)==null||(G=G.revoke)==null||(G=G.key)==null?void 0:G.id;if(F==null)D.MUSTFIX(x||(x=babelHelpers.taggedTemplateLiteralLoose(["Unable to retrieve revoked message external id"])));else{C.revokedMsgExternalId=d("WAStanzaUtils").toStanzaId(F);C.msgType=d("MAWMsgType").MSG_TYPE.REVOKED;return C}}if((v==null||(r=v.obj.payload)==null||(r=r.content)==null?void 0:r.bumpExistingMessage)!=null){var H;B=v==null||(H=v.obj.payload)==null||(H=H.content)==null?void 0:H.bumpExistingMessage;F=(b=B.key)==null?void 0:b.id;F!=null&&(h.has(F)||g.add(F),i.set(e,F));h=(b=B.key)==null?void 0:b.participant;if(h==null){h=(g=B.key)==null?void 0:g.remoteJid}if(h==null)D.MUSTFIX(y||(y=babelHelpers.taggedTemplateLiteralLoose(["No author found for original message that was bumped - unable to restore"])));else{i=d("WAJids").unsafeCoerceToUserJid(h);F=i===c?d("WAJids").AUTHOR_ME:i;k.set(d("WAStanzaUtils").toStanzaId(e),F);C.msgType=d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE;return C}}if((v==null||(s=v.obj)==null||(s=s.payload)==null||(s=s.content)==null?void 0:s.noteReplyMessage)!=null){var I;b=v==null||(I=v.obj)==null||(I=I.payload)==null||(I=I.content)==null?void 0:I.noteReplyMessage;B=b.noteTimestampMs;g=b.noteText;i=(h=a.metadata)==null?void 0:h.senderId;if(B!=null&&typeof B==="number"&&i!=null&&f!=null){k=d("MAWJids").toUserJid(i);F=d("MAWJids").toUserJid(f);a=F===k?c:F;h={author:a===c?d("WAJids").AUTHOR_ME:a,externalId:d("WAStanzaUtils").toStanzaId(e),ts:d("WATimeUtils").castMilliSecondsToUnixTime(B),type:d("WAMsgType").NOTE_REPLY};if((g==null?void 0:g.text)!=null){i={content:g==null?void 0:g.text,mentionedJids:g==null?void 0:g.mentionedJid.map(function(a){return d("MAWJids").toUserJid(a)})};h.msgContent=i}C.noteReply=h}if(b.textContent!=null){C.msgType=d("MAWMsgType").MSG_TYPE.TEXT;C.decodedPayload=b.textContent;return C}else if(b.stickerContent!=null){f=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").StickerTransportSpec,b.stickerContent.payload);n=J(f,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER);C.msgType=d("MAWMsgType").MSG_TYPE.STICKER;C.mediaMetadata=n;L(e,n,E,"attachment",j);return C}else if(b.videoContent!=null){k=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").VideoTransportSpec,b.videoContent.payload);n=J(k,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO);n!=null&&n.xAttachmentType===d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF?C.msgType=d("MAWMsgType").MSG_TYPE.GIF:C.msgType=d("MAWMsgType").MSG_TYPE.VIDEO;C.mediaMetadata=n;L(e,n,E,"attachment",j);return C}}if((v==null||(t=v.obj)==null||(t=t.payload)==null||(t=t.content)==null?void 0:t.ravenMessageMsgr)!=null){var N,Q,R;C.ravenMsgEphemeralType=M(v==null||(N=v.obj)==null||(N=N.payload)==null||(N=N.content)==null||(N=N.ravenMessageMsgr)==null?void 0:N.ephemeralType);if((v==null||(Q=v.obj)==null||(Q=Q.payload)==null||(Q=Q.content)==null||(Q=Q.ravenMessageMsgr)==null?void 0:Q.imageMessage)!=null){if(l==null||!l){var S;C.ravenUnstoredMedia=d("WAParseMediaTransportProtocol").decodeImageTransport(v==null||(S=v.obj)==null||(S=S.payload)==null||(S=S.content)==null||(S=S.ravenMessageMsgr)==null||(S=S.imageMessage)==null?void 0:S.payload,d("WATimeUtils").castMilliSecondsToUnixTime(C.sortOrderMs),"image")}C.ravenMsgMediaType=d("MAWMsg").MAWRavenMsgMediaType.IMAGE}else if((v==null||(R=v.obj)==null||(R=R.payload)==null||(R=R.content)==null||(R=R.ravenMessageMsgr)==null?void 0:R.videoMessage)!=null){if(l==null||!l){var T;F=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAMediaTransport.pb").VideoTransportSpec,v==null||(T=v.obj)==null||(T=T.payload)==null||(T=T.content)==null||(T=T.ravenMessageMsgr)==null||(T=T.videoMessage)==null?void 0:T.payload);c=d("WAParseMediaTransportProtocol").parseVideoMsg(F,d("WATimeUtils").castMilliSecondsToUnixTime(C.sortOrderMs),!1);c!=null?C.ravenUnstoredMedia=c:D.MUSTFIX(z||(z=babelHelpers.taggedTemplateLiteralLoose(["Decoded raven video unstored message is null - unable to restore"])))}C.ravenMsgMediaType=d("MAWMsg").MAWRavenMsgMediaType.VIDEO}C.msgType=d("MAWMsgType").MSG_TYPE.RAVEN;return C}else if((v==null||(u=v.obj)==null||(u=u.payload)==null||(u=u.content)==null?void 0:u.pollCreationMessage)!=null){C.msgType=d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE;a=v.obj.payload.content.pollCreationMessage;B=a.encKey;g=a.name;i=a.options;h=a.selectableOptionsCount;B!=null&&g!=null&&i!=null&&(C.groupPollInfo={encKey:B,name:g,options:i.map(function(a){a=a.optionName;return a}).filter(Boolean),selectableOptionsCount:h||0});return C}v!=null&&O(C,v.obj);D.MUSTFIX(A||(A=babelHelpers.taggedTemplateLiteralLoose(["Unable to retrieve decoded protobuf from backup message - unsupported message type"])));return C}function O(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;(b==null||(c=b.payload)==null||(c=c.content)==null?void 0:c.locationMessage)!=null&&(a.futureProofMessageType="locationMessage");(b==null||(d=b.payload)==null||(d=d.content)==null?void 0:d.liveLocationMessage)!=null&&(a.futureProofMessageType="liveLocationMessage");(b==null||(e=b.payload)==null||(e=e.content)==null?void 0:e.pollUpdateMessage)!=null&&(a.futureProofMessageType="pollUpdateMessage");(b==null||(f=b.payload)==null||(f=f.content)==null?void 0:f.viewOnceMessage)!=null&&(a.futureProofMessageType="viewOnceMessage");(b==null||(g=b.payload)==null||(g=g.content)==null?void 0:g.contactMessage)!=null&&(a.futureProofMessageType="contactMessage");(b==null||(h=b.payload)==null||(h=h.content)==null?void 0:h.extendedTextMessage)!=null&&(a.futureProofMessageType="extendedTextMessage");(b==null||(i=b.payload)==null||(i=i.content)==null?void 0:i.groupInviteMessage)!=null&&(a.futureProofMessageType="groupInviteMessage");(b==null||(j=b.payload)==null||(j=j.content)==null?void 0:j.commonSticker)!=null&&(a.futureProofMessageType="commonSticker");(b==null||(k=b.payload)==null||(k=k.content)==null?void 0:k.screenshotAction)!=null&&(a.futureProofMessageType="screenshotAction");(b==null||(l=b.payload)==null||(l=l.content)==null?void 0:l.extendedMessageContentWithSear)!=null&&(a.futureProofMessageType="extendedMessageContentWithSear");(b==null||(m=b.payload)==null||(m=m.content)==null?void 0:m.imageGalleryMessage)!=null&&(a.futureProofMessageType="imageGalleryMessage");(b==null||(n=b.payload)==null||(n=n.content)==null?void 0:n.paymentsTransactionMessage)!=null&&(a.futureProofMessageType="paymentsTransactionMessage");(b==null||(o=b.payload)==null||(o=o.applicationData)==null?void 0:o.metadataSync)!=null&&(a.futureProofMessageType="metadataSync");(b==null||(p=b.payload)==null||(p=p.applicationData)==null?void 0:p.aiBotResponse)!=null&&(a.futureProofMessageType="aiBotResponse")}function P(a,b,c,e){var f;f=(f=a.metadata)==null?void 0:f.messageId;a=d("decodeProtobuf").decodeProtobuf(d("WAMsgApplication.pb").MessageApplicationSpec,a.encryptedTransportMessage);var g=d("WAParseMessageApplication").parseMessageApplication(a);if(g.type==="error"){D.MUSTFIX(B||(B=babelHelpers.taggedTemplateLiteralLoose(["Message contains unparseable message application - unable to restore message"])));return}a=a.metadata;var h=a==null?void 0:a.quotedMessage;h=h==null?void 0:h.stanzaId;f!=null&&h!=null&&(c.has(h)||b.add(h),e.set(f,h));if(g.subprotocolType==="armadillo"){c=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAArmadilloApplication.pb").ArmadilloSpec,g.payload);return{metadata:a,obj:c}}else if(g.subprotocolType==="consumerMessage")return{metadata:a,obj:d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAConsumerApplication.pb").ConsumerApplicationSpec,g.payload)}}function e(a,b,c,d,e,f,g,h,i){return a.map(function(a){return Q(a,b,c,d,e,f,g,h,i)})}function Q(a,b,c,e,f,g,h,i,j){g===void 0&&(g=new Map());var k=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,a.toplevelProtobuf.decryptedProtobuf);k=N(k,a.toplevelProtobuf.protobufTimestampMS,b,a.otid,c,e,f,g,h,i,j);c=a.supplementalProtobufs;for(h of c){i=h[0];j=h[1];c=d("MessageBackupSupplementalKeyGenerator").parseIdentifierString(i);d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_EB_DECODE_MESSAGE_PROTOBUF_SUPPLEMENTAL,key:c.type});var l=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,j.decryptedProtobuf);if(l.encryptedTransportMessage==null)continue;switch(c.type){case"raven_action_message":var m=P(l,e,f,g),n=c.senderJid;n=n===b?d("WAJids").AUTHOR_ME:n;if(m!=null){var o,p,q;m=m.obj;o=(o=m.payload)==null||(o=o.content)==null||(o=o.ravenActionNotifMessage)==null?void 0:o.actionTimestamp;p=(p=m.payload)==null||(p=p.content)==null||(p=p.ravenActionNotifMessage)==null?void 0:p.actionType;if(o!=null&&p!=null&&typeof o==="number"&&((q=m.payload)==null||(q=q.content)==null||(q=q.ravenActionNotifMessage)==null||(q=q.key)==null?void 0:q.id)!=null){m=d("WAStanzaUtils").toStanzaId((q=m.payload)==null||(q=q.content)==null||(q=q.ravenActionNotifMessage)==null||(q=q.key)==null?void 0:q.id);if(((q=l.metadata)==null?void 0:q.timestampMs)!=null&&typeof ((q=l.metadata)==null?void 0:q.timestampMs)==="number"&&((q=l.metadata)==null?void 0:q.messageId)!=null){var r;q=(q=l.metadata)==null?void 0:q.messageId;r=d("WATimeUtils").castMilliSecondsToUnixTime((r=l.metadata)==null?void 0:r.timestampMs);q=d("WAStanzaUtils").toStanzaId(q);p=p===0?d("MAWMsg").MAWRavenActionNotifType.PLAYED:p===1?d("MAWMsg").MAWRavenActionNotifType.SCREENSHOTTED:d("MAWMsg").MAWRavenActionNotifType.FORCE_DISABLED;o={ack:d("WAAckLevel").ACK.RECEIVED,actionTimestamp:d("WATimeUtils").castMilliSecondsToUnixTime(o),actionType:p,author:n,externalId:q,ravenActionToMsgExternalId:m,ts:r,type:d("MAWMsgType").MSG_TYPE.RAVEN_ACTION};k.ravenActionUnstoredMsg=o}}}break;case"reaction":n=(p=l.metadata)==null?void 0:p.messageId;m=(q=P(l,e,f,g))==null||(q=q.obj.payload)==null||(q=q.content)==null?void 0:q.reactionMessage;r=d("WAJids").extractUserId(c.senderJid);m!=null&&r!=null&&k.reactionData.push({reaction:m,reactionExternalId:n,senderId:r,ts:d("WATimeUtils").castMilliSecondsToUnixTime(j.protobufTimestampMS)});break;case"edit":p=(o=P(l,e,f,g))==null||(o=o.obj.payload)==null||(o=o.content)==null?void 0:o.editMessage;m=(q=l.metadata)==null?void 0:q.senderId;if(p!=null){r=(n=p.key)==null?void 0:n.id;j=p.timestampMs;if(r!=null&&j!=null&&m!=null&&typeof j==="number"){o=d("MAWJids").toUserJid(m);q=o===b?d("WAJids").AUTHOR_ME:o;k.editMsgData.push({author:q,editMsgContent:p,externalId:d("WAStanzaUtils").toStanzaId(k.externalId),originalMsgExternalId:d("WAStanzaUtils").toStanzaId(r),ts:d("WATimeUtils").castMilliSecondsToUnixTime(j)})}}break;case"poll_update":n=P(l,e,f,g);if(n==null)continue;o=(m=n.obj.payload)==null||(m=m.content)==null?void 0:m.pollUpdateMessage;if(o!=null){q={externalId:d("WAStanzaUtils").toStanzaId(c.rawIdentifierString)};o.addOption!=null&&(q.addOption=o.addOption);o.vote!=null&&(q.vote=o.vote);o.pollCreationMessageKey!=null&&(q.pollCreationMessageKey=o.pollCreationMessageKey);k.groupPollUpdateData!=null?k.groupPollUpdateData.push(q):k.groupPollUpdateData=[q]}break;case"unknown":p=i.split(":");r=p[0];D.MUSTFIX(C||(C=babelHelpers.taggedTemplateLiteralLoose(["Unknown supplemental identifier. Identifier prefix: ",". Parts: ",""])),r||"null",p.length);break;default:c.type}}f.add(a.otid);return k}g.removeDeprecatedProtobufRestoreArgs=a;g.createUnstoredDbContentFromProtobufObject=b;g.decodeProtobufArray=e;g.decodeDecryptedMessageProtobuf=Q}),98);
__d("MAWEBUnstoredDbMsgUtils",["EBLogger","MAWHandleEBRestoreWithHIM","MAWHandleEchoProtobufsRestoreApi","MAWMessageSortOrderUtils","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("EBLogger").EBLogger().tags(["restore","MAWEBUnstoredDbMsgUtils"]);function a(a,b,c,e){var f=c!=null?c:b!=null?d("WAJids").unsafeCoerceToChatJid(b):void 0;if(f==null){j.mustfix("threadId and chatJid are both null - cannot convert protobuf to unstoredDbMsg");return[]}return d("MAWHandleEchoProtobufsRestoreApi").decodeProtobufArray(a,e,void 0,new Set(),new Set(),new Map(),new Map(),new Map(),!0).map(function(a){var b;if((a==null||(b=a.metadata)==null?void 0:b.messageId)!=null)try{var c=d("MAWHandleEchoProtobufsRestoreApi").createUnstoredDbContentFromProtobufObject(a,f,e,new Map(),void 0);if(c!=null&&c.unstoredDbContent.unstoredDbMsg!=null){c=c.unstoredDbContent.unstoredDbMsg;var g=d("MAWMessageSortOrderUtils").generateAuthoritativeMessageSortOrder(c);c.sortOrderMs=g;return c}}catch(b){j.MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to convert protobuf to unstored db message: type: "," error: ",""])),a.msgType,b.message)}return null}).filter(Boolean)}function b(a,b){return d("MAWHandleEBRestoreWithHIM").convertEchoMessages(a,b).map(function(a){var b;if(a==null||a.length===0||((b=a[0].decodedMsg)==null?void 0:b.unstoredDbMsg)==null){j!=null&&j.MUSTFIX(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Failed to convert echo message to unstored db message"])));return null}return(b=a[0].decodedMsg)==null?void 0:b.unstoredDbMsg}).filter(Boolean)}g.getUnstoredDbMsgFromProtobuf=a;g.getUnstoredDbMsgFromEcho=b}),98);
__d("MAWGetReStoreDBError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){function b(b){var c;c=a.call(this,b)||this;c.message=b;c.name="MAWGetReStoreDBError";return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("WACryptoAesGcm",["WABinary","WACryptoDependencies","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d,e){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){f===void 0&&(f=16);b={name:"AES-GCM",iv:k(b),tagLength:f*8};e!=null&&(b.additionalData=k(e));return d("WACryptoDependencies").getCrypto().subtle.encrypt(b,yield j(a),c)});return h.apply(this,arguments)}function c(a,b,c,d,e){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){f===void 0&&(f=16);b={name:"AES-GCM",iv:k(b),tagLength:f*8};e!=null&&(b.additionalData=k(e));return d("WACryptoDependencies").getCrypto().subtle.decrypt(b,yield j(a),c)});return i.apply(this,arguments)}function j(a){return d("WACryptoDependencies").getCrypto().subtle.importKey("raw",a,"AES-GCM",!1,["encrypt","decrypt"])}function k(a){if(a instanceof Uint8Array)return a;if(typeof a==="string"){var b=new(d("WABinary").Binary)();b.writeString(a);return b.readByteArrayView()}return new Uint8Array(a)}g.gcmEncrypt=a;g.gcmDecrypt=c}),98);
__d("WAUseCaseSecret",["$InternalEnum","WABinary","WACryptoHkdf"],(function(a,b,c,d,e,f,g){"use strict";c=b("$InternalEnum")({POLL_VOTE:"Poll Vote",ENC_REACTION:"Enc Reaction",ENC_COMMENT:"Enc Comment",REPORT_TOKEN:"Report Token",EVENT_RESPONSE:"Event Response",EVENT_EDIT_ENCRYPTED:"Event Edit"});var h=32;function a(a){var b=a.messageSecret,c=a.stanzaId,e=a.parentMsgOriginalSender,f=a.modificationSender;a=a.modificationType;c=d("WABinary").Binary.build(c,e,f,a).readBuffer();return d("WACryptoHkdf").extractAndExpand(b instanceof ArrayBuffer?new Uint8Array(b):b,c,h)}g.UseCaseSecretModificationType=c;g.createUseCaseSecret=a}),98);
__d("MAWGroupPollsDualEncryptionUtils",["MAWDbPoll","WABase64","WAConsumerApplication.pb","WACryptoAesGcm","WACryptoSha256","WAResultOrError","WAUseCaseSecret","asyncToGeneratorRuntime","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){if(a.encIv==null||a.encPayload==null)return d("WAResultOrError").makeError("invalid_poll_enc_value");var e=a.encIv;a=a.encPayload;try{b=(yield d("WACryptoAesGcm").gcmDecrypt(b,e,a,c));return d("WAResultOrError").makeResult(b)}catch(a){return d("WAResultOrError").DEPRECATED_makeError("decryption_error",a)}});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){try{var e=self.crypto.getRandomValues(new Uint8Array(12));b=(yield d("WACryptoAesGcm").gcmEncrypt(b,e,a,c));return d("WAResultOrError").makeResult({encIv:e.buffer,encPayload:b})}catch(a){return d("WAResultOrError").DEPRECATED_makeError("encryption_error",a)}});return k.apply(this,arguments)}function l(a,b){a=a+"\0"+b;return new TextEncoder().encode(a).buffer}function a(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.pollCreationMessageKey,e=b.pollCreationSenderJid,f=b.pollCreationStanzaId,g=b.pollUpdateSenderJid;b=b.pollUpdateStanzaId;c=(yield d("WAUseCaseSecret").createUseCaseSecret({messageSecret:c,modificationSender:g,modificationType:d("WAUseCaseSecret").UseCaseSecretModificationType.POLL_VOTE,parentMsgOriginalSender:e,stanzaId:f}));e=l(b,g);f=d("encodeProtobuf").encodeProtobuf(d("WAConsumerApplication.pb").ConsumerApplication$PollVoteMessageSpec,a).readBuffer();return j(f,c,e)});return m.apply(this,arguments)}function c(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.pollCreationMessageKey,e=b.pollCreationSenderJid,f=b.pollCreationStanzaId,g=b.pollUpdateSenderJid;b=b.pollUpdateStanzaId;c=(yield d("WAUseCaseSecret").createUseCaseSecret({messageSecret:c,modificationSender:g,modificationType:d("WAUseCaseSecret").UseCaseSecretModificationType.POLL_VOTE,parentMsgOriginalSender:e,stanzaId:f}));e=l(b,g);f=(yield h(a,c,e));if(!f.success)return f;try{return d("WAResultOrError").makeResult(d("decodeProtobuf").decodeProtobuf(d("WAConsumerApplication.pb").ConsumerApplication$PollVoteMessageSpec,f.value))}catch(a){return d("WAResultOrError").DEPRECATED_makeError("protobuf_decode_error",a)}});return n.apply(this,arguments)}function e(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.pollCreationMessageKey,e=b.pollCreationSenderJid,f=b.pollCreationStanzaId,g=b.pollUpdateSenderJid;b=b.pollUpdateStanzaId;c=(yield d("WAUseCaseSecret").createUseCaseSecret({messageSecret:c,modificationSender:g,modificationType:d("WAUseCaseSecret").UseCaseSecretModificationType.POLL_VOTE,parentMsgOriginalSender:e,stanzaId:f}));e=l(b,g);f=d("encodeProtobuf").encodeProtobuf(d("WAConsumerApplication.pb").ConsumerApplication$PollAddOptionMessageSpec,a).readBuffer();return j(f,c,e)});return o.apply(this,arguments)}function f(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.pollCreationMessageKey,e=b.pollCreationSenderJid,f=b.pollCreationStanzaId,g=b.pollUpdateSenderJid;b=b.pollUpdateStanzaId;c=(yield d("WAUseCaseSecret").createUseCaseSecret({messageSecret:c,modificationSender:g,modificationType:d("WAUseCaseSecret").UseCaseSecretModificationType.POLL_VOTE,parentMsgOriginalSender:e,stanzaId:f}));e=l(b,g);f=(yield h(a,c,e));if(!f.success)return f;try{return d("WAResultOrError").makeResult(d("decodeProtobuf").decodeProtobuf(d("WAConsumerApplication.pb").ConsumerApplication$PollAddOptionMessageSpec,f.value))}catch(a){return d("WAResultOrError").DEPRECATED_makeError("protobuf_decode_error",a)}});return p.apply(this,arguments)}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WACryptoSha256").sha256(new TextEncoder("utf8").encode(a)));return s(a)});return r.apply(this,arguments)}function s(a){return d("MAWDbPoll").convertStringToOptionHash(d("WABase64").encodeB64(a))}g.encryptGroupPollVote=a;g.decryptGroupPollVote=c;g.encryptGroupPollAddOption=e;g.decryptGroupPollAddOption=f;g.getHashForOptionName=q;g.getBase64EncodedHash=s}),98);
__d("MAWIsRTCCallXmaEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("16666")}g.isRTCCallXmaEnabled=a}),98);
__d("MAWLoadDbMigrationVersion",["MAWCurrentUser","MAWDBMigrationUtils","MAWDbAppMeta","MAWDbObjEncryption","MAWIndexedDbMetadata","MWFBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=d("MWFBLogger").MWLogger().tags(["db","MAWLoadDbMigrationVersion"]);function a(a){var c=d("MAWCurrentUser").getID(),e=d("MAWIndexedDbMetadata").dbName(c);return new(n||(n=b("Promise")))(function(b){if(!indexedDB){b();return}var c=indexedDB.open(e);c.onupgradeneeded=function(a){a.target.transaction.abort();a=a.target.result;o.DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] "," onupgradeneeded - closing db"])),e);a==null||a.close();b()};c.onsuccess=function(c){var e=c.target.result;if(e==null){b();return}try{c=e.transaction("appMeta","readonly");c.onerror=function(a){o.DEBUG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] Transaction error: ",""])),(a=a.target.error)==null?void 0:a.message);e.close();b()};c=c.objectStore("appMeta");c=c.get(d("MAWDbAppMeta").AppMetaKeysEnum.dbMigrationVersion);c.onerror=function(a){o.DEBUG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] Request error: ",""])),(a=a.target.error)==null?void 0:a.message);e.close();b()};c.onsuccess=function(c){e.close();c=c.target.result;if(c!=null){c=d("MAWDbObjEncryption").decryptDbObj(babelHelpers["extends"]({},c),"appMeta",a);c=c.value.dbMigrationVersion;c!=null&&(d("MAWDBMigrationUtils").mawDbMigrationVersion.version=c)}b()}}catch(a){o.DEBUG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] Error accessing appMeta: ",""])),a.message),e.close(),b()}};c.onerror=function(a){var c;o.DEBUG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] "," error ",""])),e,a==null||(c=a.target)==null||(c=c.error)==null?void 0:c.message);b()};c.onblocked=function(a){a=a.target.result;o.DEBUG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] "," blocked"])),e);a==null||a.close()}})}g["default"]=a}),98);
__d("MAWReStoreDbSetup",["FBLogger","MAWGetReStoreDBError","asyncToGeneratorRuntime","cr:10742","cr:2924","cr:3535"],(function(a,b,c,d,e,f,g){"use strict";var h;h=(h=(h=b("cr:3535"))!=null?h:b("cr:10742"))!=null?h:b("cr:2924");var i=h==null?void 0:h.createDB,j;function a(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield j);a==null||a.closeDb==null||a.closeDb();j=null});return k.apply(this,arguments)}function d(){if(i==null)throw c("FBLogger")("messenger_web").mustfixThrow("Unexpected invocation of OneDB");j==null&&(j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield i());yield a.runInTransaction(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){}),"readwrite",void 0,void 0,f.id+":44");return a}catch(a){throw new(c("MAWGetReStoreDBError"))("Failed to get ReStore DB: "+a)}})());return j}function e(){return i!=null}g.closeDB=a;g.getDB=d;g.shouldUseReStoreDb=e}),98);
__d("MAWReStoreDb",["FBLogger","MAWIndexedDb","MAWReStoreDbSetup","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(c("gkx")("3577"))try{var a=(yield d("MAWReStoreDbSetup").getDB());return a}catch(a){throw c("FBLogger")("igd_web").blameToPreviousFrame().catching(a).mustfixThrow("Failed to get ReStore DB: %s",arguments[0])}h==null&&(d("MAWIndexedDb").willSetupDB()?h=d("MAWIndexedDb").getDB().then(function(){return d("MAWReStoreDbSetup").getDB()}):h=d("MAWReStoreDbSetup").getDB());return h});return i.apply(this,arguments)}function e(){return d("MAWReStoreDbSetup").shouldUseReStoreDb()}g.getDB=a;g.shouldUseReStoreDb=e}),98);
__d("MAWWorkerPersistedDataService",["FBLogger","MAWBridge","MAWCacheServiceUtils"],(function(a,b,c,d,e,f,g){"use strict";var h="maw_persisted_data_service_broadcast",i=function(){if(!d("MAWCacheServiceUtils").globalScope.BroadcastChannel){c("FBLogger")("messenger_e2ee_web").warn("BroadcastChannel is not supported in this browser");return null}return new(d("MAWCacheServiceUtils").globalScope.BroadcastChannel)(h)},j=function(){function a(){this.$1=i()}var b=a.prototype;b.emitBroadcastChannelMessageToUI=function(a,b,c,e){b={cache:b,instanceKey:e,namespace:a,source:c};this.$1==null?d("MAWBridge").getBridge().fireAndForget("event","broadcastChannelFallback",{event:{data:b},namespace:h}):this.$1.postMessage(b)};return a}(),k=null;a=function(){k==null&&(k=new j());return k};g.MAW_PERSISTED_DATA_SERVICE_BROADCAST_CHANNEL=h;g.getMAWPersistedDataServiceBroadcastChannel=i;g.getMAWWorkerPersistedDataService=a}),98);
__d("MWPMiniSearch",["minisearch"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a={fuzzy:0,prefix:!0};return{fields:["content"],searchOptions:a}}function a(a){a===void 0&&(a=function(){return{}});var b;function d(){b=new(c("minisearch"))(babelHelpers["extends"]({},h(),a()))}return{getInstance:function(){b==null&&d();return b}}}g.createMiniSearchSingleton=a}),98);
__d("MediaDownloadMediator",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a,b){g.set(a,b)}function c(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c;yield (c=g.get(a))==null?void 0:c["continue"](b);g["delete"](a)});return h.apply(this,arguments)}function d(a,b){var c;void ((c=g.get(a))==null?void 0:c.handleError(b));g["delete"](a)}f.mapDeliveryObjectIdToMediaDownloader=a;f.handleNewCDNUrlFromMI=c;f.handleMIDownloadFailure=d}),66);
__d("MessagesRangesV2ExternalIds",[],(function(a,b,c,d,e,f){"use strict";a="";b="9999999999999999";f.MIN_EXTERNAL_ID=a;f.MAX_EXTERNAL_ID=b}),66);
__d("ReStoreLocalStorageQuotaExceed",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="Failed to execute 'setItem' on 'Storage'",i="ReStoreLocalStorageQuotaExceed";function j(){try{var a=window.localStorage,b=[],d=[];if(a!=null&&a.length!==0)for(var e in a){b.length===0&&d.length===0&&(e.includes("falco_queue_log")&&d.push(e));if(!Object.prototype.hasOwnProperty.call(a,e))continue;var f=((a[e]||"").length+e.length)*2;f/1024>2e3&&b.push(e)}c("FBLogger")("messenger_web").mustfix(h+": QuotaExceeded - trying to clean up %s or %s",b.join(","),d.join(","));return b.length!==0?b:d}catch(a){c("FBLogger")("messenger_web").mustfix("Error getting local storage big values for cleanup.");return[]}}function a(){try{var a=window.localStorage,b=j();b.forEach(function(b){a.removeItem(b)})}catch(a){c("FBLogger")("maw_db").mustfix("Couldn't remove vals from localStorage",a)}}b=function(a){function b(b){var c;b=h+": "+b+"; Keys to delete: "+j().join(",");c=a.call(this,b)||this;c.message=b;c.name=i;return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.getLocalStorageValuesToRemoveOnExceed=j;g.clearLocalStorageBigValues=a;g.ReStoreLocalStorageQuotaExceed=b}),98);
__d("WAAPIMetrics",["WAGlobals","WAJids","WAPREList","WAPREMetrics"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c===void 0&&(c={});return function(){var d=h(b,c);for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return a.apply(void 0,[d].concat(f)).then(function(a){d.endSuccess();return a})["catch"](function(a){d.endFail("error",{string:{error:""+a.toString()}});throw a})}}function b(a,b,c){c===void 0&&(c={});return function(){var d=h(b,c);return a.apply(void 0,arguments).then(function(a){d.endSuccess();return a})["catch"](function(a){d.endFail("error",{string:{error:""+a.toString()}});throw a})}}function h(a,b){b===void 0&&(b={});var c=null;try{c=d("WAGlobals").getDependencies().isEmployee()&&d("WAGlobals").getDependencies().isUseridAnnotationEnabled()?d("WAJids").extractUserId(d("WAGlobals").getMyUserJid()).slice(-5):null}catch(a){}return d("WAPREMetrics").startMetric(d("WAPREList").PRE_METRIC.WA_JOB_MANAGER,babelHelpers["extends"]({},b,{string:babelHelpers["extends"]({},(b=(b=b)==null?void 0:b.string)!=null?b:{},{name:a,userHash:c})}))}g.withMetrics=a;g.withMetricWrapper=b}),98);
__d("WAAPIDeferred",["WAAPIMetrics","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=(a=c("requireDeferred"))("WADbPersonalSenderKeyStatusTxns").__setRef("WAAPIDeferred"),i=a("WADbRegistrationApi").__setRef("WAAPIDeferred"),j=a("WADownloadMedia").__setRef("WAAPIDeferred"),k=a("WAGenerateAndUploadPreKeys").__setRef("WAAPIDeferred"),l=a("WAGetCurrentUserDeviceList").__setRef("WAAPIDeferred"),m=a("WAGetDevices").__setRef("WAAPIDeferred"),n=a("WAGetIdentityKeys").__setRef("WAAPIDeferred"),o=a("WANotifyDeviceChange").__setRef("WAAPIDeferred"),p=a("WAPublishMessage").__setRef("WAAPIDeferred"),q=a("WAQueryGroups").__setRef("WAAPIDeferred"),r=a("WARemoveCurrentDevice").__setRef("WAAPIDeferred"),s=a("WARemoveDevice").__setRef("WAAPIDeferred"),t=a("WASendAppDataFanoutProtocol").__setRef("WAAPIDeferred"),u=a("WASendMsgUtilV2").__setRef("WAAPIDeferred"),v=a("WASendPing").__setRef("WAAPIDeferred"),w=a("WASyncAbProps").__setRef("WAAPIDeferred"),x=a("WAUploadMedia").__setRef("WAAPIDeferred");b={getCurrentUserDeviceList:function(){return l.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.getCurrentUserDeviceList,"getCurrentUserDeviceList")()})},syncAbProps:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return w.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.syncAbProps,"syncAbProps").apply(void 0,b)})},generateAndUploadPreKeys:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return k.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.generateAndUploadPreKeys,"generateAndUploadPreKeys",{bool:{deferred_load:!0}}).apply(void 0,b)})},getDevicesBeforeSend:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return u.load().then(function(a){a=a.getDevicesBeforeSend;return d("WAAPIMetrics").withMetrics(a,"getDevicesBeforeSend",{bool:{deferred_load:!0}}).apply(void 0,b)})},getIdentityKeys:function(){return n.load().then(function(a){a=a.getIdentityKeysInWorker;return d("WAAPIMetrics").withMetrics(a,"getIdentityKeys",{bool:{deferred_load:!0}})()})},publishMessage:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return p.load().then(function(a){a=a.publishMessage;return d("WAAPIMetrics").withMetricWrapper(a,"publishMessage",{bool:{deferred_load:!0}}).apply(void 0,b)})},sendChatMessage:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return u.load().then(function(a){a=a.sendChatMessage;return d("WAAPIMetrics").withMetrics(a,"sendChatMessage",{bool:{deferred_load:!0}}).apply(void 0,b)})},updateClockSkew:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return v.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.updateClockSkew,"updateClockSkew",{bool:{deferred_load:!0}}).apply(void 0,b)})},queryGroups:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return q.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.queryGroups,"queryGroups",{bool:{deferred_load:!0}}).apply(void 0,b.concat([!1]))})},queryGroupsForce:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return q.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.queryGroups,"queryGroups",{bool:{deferred_load:!0}}).apply(void 0,b.concat([!0]))})},getDevices:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return m.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.getDevices,"getDevices",{bool:{deferred_load:!0}}).apply(void 0,b)})},removeDevice:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return s.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.removeDevice,"=>",{bool:{deferred_load:!0}}).apply(void 0,b)})},removeCurrentDevice:function(){return r.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.removeCurrentDevice,"removeCurrentDevice",{bool:{deferred_load:!0}})()})},notifyDeviceChange:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return o.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.notifyDeviceChange,"notifyDeviceChange",{bool:{deferred_load:!0}}).apply(void 0,b)})},saveLastSessionDeviceWasLinkedTo:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return i.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.saveLastSessionDeviceWasLinkedTo,"saveLastSessionDeviceWasLinkedTo").apply(void 0,b)})},sendAppData:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return t.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.sendAppDataToDevicesProtocol,"sendAppData",{bool:{deferred_load:!0}}).apply(void 0,b)})},setRotateSenderKeyToTrue:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return h.load().then(function(a){return d("WAAPIMetrics").withMetrics(function(b,c){return a.bulkSetRotateSenderKeyToTrue(c)},"setRotateSenderKeyToTrue").apply(void 0,b)})},uploadMedia:function(a){return x.load().then(function(b){return b.uploadMedia(a)})},downloadMedia:function(a){return j.load().then(function(b){return b.downloadMedia(a)})},cachedDownloadFullMediaOnly:function(a){return j.load().then(function(b){return b.cachedDownloadFullMediaOnly(a)})}};e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("Base64",[],(function(a,b,c,d,e,f){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function h(a){a=a.charCodeAt(0)<<16|a.charCodeAt(1)<<8|a.charCodeAt(2);return String.fromCharCode(g.charCodeAt(a>>>18),g.charCodeAt(a>>>12&63),g.charCodeAt(a>>>6&63),g.charCodeAt(a&63))}var i=">___?456789:;<=_______\0\x01\x02\x03\x04\x05\x06\x07\b\t\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19______\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123";function j(a){a=i.charCodeAt(a.charCodeAt(0)-43)<<18|i.charCodeAt(a.charCodeAt(1)-43)<<12|i.charCodeAt(a.charCodeAt(2)-43)<<6|i.charCodeAt(a.charCodeAt(3)-43);return String.fromCharCode(a>>>16,a>>>8&255,a&255)}var k={encode:function(a){a=unescape(encodeURI(a));var b=(a.length+2)%3;a=(a+"\0\0".slice(b)).replace(/[\s\S]{3}/g,h);return a.slice(0,a.length+b-2)+"==".slice(b)},decode:function(a){a=a.replace(/[^A-Za-z0-9+\/]/g,"");var b=a.length+3&3;a=(a+"AAA".slice(b)).replace(/..../g,j);a=a.slice(0,a.length+b-3);try{return decodeURIComponent(escape(a))}catch(a){throw new Error("Not valid UTF-8")}},encodeObject:function(a){return k.encode(JSON.stringify(a))},decodeObject:function(a){return JSON.parse(k.decode(a))},encodeNums:function(a){return String.fromCharCode.apply(String,a.map(function(a){return g.charCodeAt((a|-(a>63?1:0))&-(a>0?1:0)&63)}))}};a=k;f["default"]=a}),66);
__d("CacheStorage",["ErrorGuard","ExecutionEnvironment","WebStorage","cr:6943","cr:8958","emptyFunction","err"],(function(a,b,c,d,e,f,g){var h,i,j,k="_@_",l="3b",m="CacheStorageVersion",n={length:0,getItem:a=c("emptyFunction"),setItem:a,clear:a,removeItem:a,key:a};d=function(){function a(a){this._store=a}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){var a=[];for(var b=0;b<this._store.length;b++){var c=this._store.key(b);c!=null&&a.push(c)}return a};b.get=function(a){return this._store.getItem(a)};b.set=function(a,b){this._store.setItem(a,b)};b.remove=function(a){this._store.removeItem(a)};b.clear=function(){this._store.clear()};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d!=null&&d.startsWith(a)&&this.remove(d)}};return a}();e=function(a){function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getLocalStorage())!=null?b:n)||this}babelHelpers.inheritsLoose(b,a);b.available=function(){return!!(h||(h=c("WebStorage"))).getLocalStorage()};return b}(d);g=function(a){function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getSessionStorage())!=null?b:n)||this}babelHelpers.inheritsLoose(b,a);b.available=function(){return!!(h||(h=c("WebStorage"))).getSessionStorage()};return b}(d);var o=function(){function a(){this._store={}}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){return Object.keys(this._store)};b.get=function(a){return this._store[a]===void 0?null:this._store[a]};b.set=function(a,b){this._store[a]=b};b.remove=function(a){a in this._store&&delete this._store[a]};b.clear=function(){this._store={}};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};a.available=function(){return!0};return a}(),p={memory:o,localstorage:e,sessionstorage:g};a=function(){function a(a,d){this._changeCallbacks=[];this._key_prefix="_cs_";this._exception=null;d&&(this._key_prefix=d);a==="AUTO"||!a?d="memory":d=a;d&&(!p[d]||!p[d].available()?((i||(i=c("ExecutionEnvironment"))).canUseDOM,this._backend=new o()):this._backend=new p[d]());a=this.useBrowserStorage();a&&b("cr:6943").listen(window,"storage",this._onBrowserValueChanged.bind(this));d=a?this._backend.getStore().getItem(m):this._backend.getStore()[m];d!==l&&this.clearOwnKeys()}var d=a.prototype;d.useBrowserStorage=function(){return this._backend.getStore()===(h||(h=c("WebStorage"))).getLocalStorage()||this._backend.getStore()===(h||(h=c("WebStorage"))).getSessionStorage()};d.addValueChangeCallback=function(a){var b=this;this._changeCallbacks.push(a);return{remove:function(){b._changeCallbacks.slice(b._changeCallbacks.indexOf(a),1)}}};d._onBrowserValueChanged=function(a){this._changeCallbacks&&String(a.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(b){b(a.key,a.oldValue,a.newValue)})};d.keys=function(){var a=this,b=[];(j||(j=c("ErrorGuard"))).guard(function(){if(a._backend){var c=a._backend.keys(),d=a._key_prefix.length;for(var e=0;e<c.length;e++)c[e].substr(0,d)==a._key_prefix&&b.push(c[e].substr(d))}},{name:"CacheStorage"})();return b};d.set=function(d,e,f){if(this._backend){if(this.useBrowserStorage()&&a._persistentWritesDisabled){this._exception=c("err")("writes disabled");return!1}var g;typeof e==="string"?g=k+e:!f?(g={__t:Date.now(),__v:e},g=b("cr:8958").stringify(g)):g=b("cr:8958").stringify(e);f=this._backend;e=this._key_prefix+d;d=!0;var h=null;while(d)try{h=null,f.set(e,g),d=!1}catch(a){h=a;var i=f.keys().length;this._evictCacheEntries();d=f.keys().length<i}if(h!==null){this._exception=h;return!1}else{this._exception=null;return!0}}this._exception=c("err")("no back end");return!1};d.getLastSetExceptionMessage=function(){return this._exception?this._exception.message:null};d.getLastSetException=function(){return this._exception};d.getStorageKeyCount=function(){var a=this._backend;return a?a.keys().length:0};d._evictCacheEntries=function(){var c=[],d=this._backend;d.keys().forEach(function(e){if(e===m)return;var g=d.get(e);if(g===void 0){d.remove(e);return}if(a._hasMagicPrefix(g))return;try{g=b("cr:8958").parse(g,f.id)}catch(a){d.remove(e);return}g&&g.__t!==void 0&&g.__v!==void 0&&c.push([e,g.__t])});c.sort(function(a,b){return a[1]-b[1]});for(var e=0;e<Math.ceil(c.length/2);e++)d.remove(c[e][0])};d.get=function(d,e){var g;if(this._backend){(j||(j=c("ErrorGuard"))).applyWithGuard(function(){g=this._backend.get(this._key_prefix+d)},this,[],{onError:function(){g=null},name:"CacheStorage:get"});if(g!=null)if(a._hasMagicPrefix(g))g=g.substr(k.length);else try{g=b("cr:8958").parse(g,f.id),g&&g.__t!==void 0&&g.__v!==void 0&&(g=g.__v)}catch(a){g=void 0}else g=void 0}g===void 0&&e!==void 0&&(g=e,this.set(d,g));return g};d.remove=function(a){this._backend&&(j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+a],{name:"CacheStorage:remove"})};d._setVersion=function(){var a=this;(j||(j=c("ErrorGuard"))).applyWithGuard(function(){a.useBrowserStorage()?a._backend.getStore().setItem(m,l):a._backend.getStore()[m]=l},this,[],{name:"CacheStorage:setVersion"})};d.clear=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clear,this._backend,[],{name:"CacheStorage:clear"}),this._setVersion())};d.clearOwnKeys=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clearWithPrefix,this._backend,[this._key_prefix],{name:"CacheStorage:clearOwnKeys"}),this._setVersion())};a.getAllStorageTypes=function(){return Object.keys(p)};a._hasMagicPrefix=function(a){return a.substr(0,k.length)===k};a.disablePersistentWrites=function(){a._persistentWritesDisabled=!0};return a}();a._persistentWritesDisabled=!1;f.exports=a}),34);
__d("TWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(b){b===void 0&&(b=a.DEFAULT_BYTE_BUFFER_SIZE),this.$1=new DataView(new ArrayBuffer(b)),this.$2=0}var b=a.prototype;b.write=function(a){this.$2+a.length>this.$1.byteLength&&this.$3(this.$2+a.length);for(var b=0;b<a.length;b++)this.$1.setUint8(this.$2+b,a[b]);this.$2+=a.length;return a.length};b.writeByte=function(a){this.$2+1>this.$1.byteLength&&this.$3(this.$2+1);this.$1.setUint8(this.$2,a);this.$2++;return 1};b.writeFloatBE=function(a){this.$2+Float32Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float32Array.BYTES_PER_ELEMENT);this.$1.setFloat32(this.$2,a);this.$2+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$2+Float64Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float64Array.BYTES_PER_ELEMENT);this.$1.setFloat64(this.$2,a);this.$2+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){var a=new Uint8Array(this.$1.buffer,0,this.$2);return a};b.currentSize=function(){return this.$2};b.getUnderlyingDataView=function(){return this.$1};b.$3=function(a){a=a*2;if(!Number.isSafeInteger(a))throw new Error("unable to resize");a=new DataView(new ArrayBuffer(a));for(var b=0;b<this.$2;b++)a.setUint8(b,this.$1.getUint8(b));this.$1=a};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();a.DEFAULT_BYTE_BUFFER_SIZE=16;f["default"]=a}),66);
__d("StringToUtf8",["TWriteBuffer"],(function(a,b,c,d,e,f,g){a=function(a){var b=new(c("TWriteBuffer"))(a.length),d;for(var e=0;e<a.length;e++){d=a.charCodeAt(e);if(d<128)b.writeByte(d);else if(d<2048)b.writeByte(d>>6|192),b.writeByte(d&63|128);else if((d&64512)==55296){if(e+1>=a.length)throw new Error("UTF-16 string is truncated: ["+d.toString(16)+"]");if((a.charCodeAt(e+1)&64512)!==56320)throw new Error("Invalid UTF-16 string: ["+d.toString(16)+", "+a.charCodeAt(e+1).toString(16)+"]");d=65536+((d&1023)<<10)+(a.charCodeAt(++e)&1023);b.writeByte(d>>18|240);b.writeByte(d>>12&63|128);b.writeByte(d>>6&63|128);b.writeByte(d&63|128)}else b.writeByte(d>>12|224),b.writeByte(d>>6&63|128),b.writeByte(d&63|128)}return b.toByteArray()};g.StringToUtf8=a}),98);
__d("ThriftTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,STRUCT:12,MAP:13,SET:14,LIST:15,FLOAT:19});b=a;f["default"]=b}),66);
__d("Utf8ToString",[],(function(a,b,c,d,e,f){var g=function(a,b){throw new Error(a+": ["+b.map(function(a){return a.toString(16)}).toString()+"]")},h=function(a){g("Invalid UTF-8 sequence",a)},i=function(a,b){g("Not enough bytes for "+a+"-byte sequence",b)};a=function(a){var b=0,c=[];while(b<a.length){var d=a[b++];if(d<128)c.push(String.fromCharCode(d));else if(d>=128&&d<194)h([d]);else if(d>=194&&d<224){b>=a.length&&i(2,[d]);var e=a[b++];(e&192)!==128&&h([d,e]);c.push(String.fromCharCode((d&31)<<6|e&63))}else if(d>=240&&d<245){b+2>=a.length&&i(4,[d]);e=a[b++];var f=a[b++],g=a[b++];(d==240&&(!(e>=144&&e<192)||(f&192)!==128||(g&192)!==128)||d>=241&&d<244&&((e&192)!==128||(f&192)!==128||(g&192)!==128)||d==244&&(!(e>=128&&e<144)||(f&192)!==128||(g&192)!==128))&&h([d,e,f,g]);e=((d&7)<<18|(e&63)<<12|(f&63)<<6|g&63)-65536;c.push(String.fromCharCode(55296+(e>>10)));c.push(String.fromCharCode(56320+(e&1023)))}else if(d>=245)h([d]);else{b+1>=a.length&&i(3,[d]);f=a[b++];g=a[b++];d==224?f>=160&&f<192||h([d,f,g]):d>=225&&d<237?f>=128&&f<192||h([d,f,g]):d==237?f>=128&&f<160||h([d,f,g]):d>=238&&d<240&&(f>=128&&f<192||h([d,f,g]));g>=128&&g<192||h([d,f,g]);c.push(String.fromCharCode((d&15)<<12|(f&63)<<6|g&63))}}return c.join("")};f.Utf8ToString=a}),66);
__d("jsbi",[],(function(a,b,c,d,e,f){(function(a,b){"object"==typeof f&&"undefined"!=typeof e?e.exports=b():"function"==typeof define&&define.amd?define(b):a.JSBI=b()})(this,function(){"use strict";function a(b){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},a(b)}function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function d(a,b,d){return b&&c(a.prototype,b),d&&c(a,d),a}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&g(a,b)}function f(a){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},f(a)}function g(a,b){return g=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},g(a,b)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function i(){return i=h()?Reflect.construct:function(a,b,c){var d=[null];d.push.apply(d,b);b=Function.bind.apply(a,d);a=new b;return c&&g(a,c.prototype),a},i.apply(null,arguments)}function j(a){return-1!==Function.toString.call(a).indexOf("[native code]")}function k(a){var b="function"==typeof Map?new Map:void 0;return k=function(a){function c(){return i(a,arguments,f(this).constructor)}if(null===a||!j(a))return a;if("function"!=typeof a)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof b){if(b.has(a))return b.get(a);b.set(a,c)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),g(c,a)},k(a)}function l(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function m(a,b){return b&&("object"==typeof b||"function"==typeof b)?b:l(a)}var n=function(c){var h=Math.abs,i=Math.max,j=Math.imul,k=Math.clz32;function g(a,c){if(b(this,g),a>g.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return a=m(this,f(g).call(this,a)),a.sign=c,a}return e(g,c),d(g,[{key:"toDebugString",value:function(){var a=["BigInt["],b=!0,c=!1,d=void 0;try{for(var e,e,f=this[Symbol.iterator]();!(b=(e=f.next()).done);b=!0)e=e.value,a.push((e?(e>>>0).toString(16):e)+", ")}catch(a){c=!0,d=a}finally{try{b||null==f["return"]||f["return"]()}finally{if(c)throw d}}return a.push("]"),a.join("")}},{key:"toString",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>a||36<a)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(a&a-1)?g.__toStringBasePowerOfTwo(this,a):g.__toStringGeneric(this,a,!1)}},{key:"__copy",value:function(){for(var a=new g(this.length,this.sign),b=0;b<this.length;b++)a[b]=this[b];return a}},{key:"__trim",value:function(){for(var a=this.length,b=this[a-1];0===b;)a--,b=this[a-1],this.pop();return 0===a&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var a=0;a<this.length;a++)this[a]=0}},{key:"__clzmsd",value:function(){return k(this[this.length-1])}},{key:"__inplaceMultiplyAdd",value:function(a,b,c){c>this.length&&(c=this.length);for(var d=65535&a,a=a>>>16,e=0,f=65535&b,b=b>>>16,i=0;i<c;i++){var n=this.__digit(i),m=65535&n;n=n>>>16;var o=j(m,d);m=j(m,a);var p=j(n,d);n=j(n,a);var q=f+(65535&o);o=b+e+(q>>>16)+(o>>>16)+(65535&m)+(65535&p);f=(m>>>16)+(p>>>16)+(65535&n)+(o>>>16),e=f>>>16,f&=65535,b=n>>>16;this.__setDigit(i,65535&q|o<<16)}if(0!==e||0!==f||0!==b)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(a,b,c){for(var d,e=0,f=0;f<c;f++)d=this.__halfDigit(b+f)+a.__halfDigit(f)+e,e=d>>>16,this.__setHalfDigit(b+f,d);return e}},{key:"__inplaceSub",value:function(a,b,c){var d=0;if(1&b){b>>=1;for(var e=this.__digit(b),f=65535&e,k=0;k<c-1>>>1;k++){var l=a.__digit(k),m=(e>>>16)-(65535&l)-d;d=1&m>>>16,this.__setDigit(b+k,m<<16|65535&f),e=this.__digit(b+k+1),f=(65535&e)-(l>>>16)-d,d=1&f>>>16}m=a.__digit(k);l=(e>>>16)-(65535&m)-d;d=1&l>>>16,this.__setDigit(b+k,l<<16|65535&f);if(b+k+1>=this.length)throw new RangeError("out of bounds");0==(1&c)&&(e=this.__digit(b+k+1),f=(65535&e)-(m>>>16)-d,d=1&f>>>16,this.__setDigit(b+a.length,4294901760&e|65535&f))}else{b>>=1;for(l=0;l<a.length-1;l++){k=this.__digit(b+l);m=a.__digit(l);e=(65535&k)-(65535&m)-d;d=1&e>>>16;f=(k>>>16)-(m>>>16)-d;d=1&f>>>16,this.__setDigit(b+l,f<<16|65535&e)}k=this.__digit(b+l);m=a.__digit(l);f=(65535&k)-(65535&m)-d;d=1&f>>>16;e=0;0==(1&c)&&(e=(k>>>16)-(m>>>16)-d,d=1&e>>>16),this.__setDigit(b+l,e<<16|65535&f)}return d}},{key:"__inplaceRightShift",value:function(a){if(0!==a){for(var b,c=this.__digit(0)>>>a,d=this.length-1,e=0;e<d;e++)b=this.__digit(e+1),this.__setDigit(e,b<<32-a|c),c=b>>>a;this.__setDigit(d,c)}}},{key:"__digit",value:function(a){return this[a]}},{key:"__unsignedDigit",value:function(a){return this[a]>>>0}},{key:"__setDigit",value:function(a,b){this[a]=0|b}},{key:"__setDigitGrow",value:function(a,b){this[a]=0|b}},{key:"__halfDigitLength",value:function(){var a=this.length;return 65535>=this.__unsignedDigit(a-1)?2*a-1:2*a}},{key:"__halfDigit",value:function(a){return 65535&this[a>>>1]>>>((1&a)<<4)}},{key:"__setHalfDigit",value:function(a,b){var c=a>>>1,d=this.__digit(c);a=1&a?65535&d|b<<16:4294901760&d|65535&b;this.__setDigit(c,a)}}],[{key:"BigInt",value:function(b){var c=Math.floor,d=Number.isFinite;if("number"==typeof b){if(0===b)return g.__zero();if((0|b)===b)return 0>b?g.__oneDigit(-b,!0):g.__oneDigit(b,!1);if(!d(b)||c(b)!==b)throw new RangeError("The number "+b+" cannot be converted to BigInt because it is not an integer");return g.__fromDouble(b)}if("string"==typeof b){d=g.__fromString(b);if(null===d)throw new SyntaxError("Cannot convert "+b+" to a BigInt");return d}if("boolean"==typeof b)return!0===b?g.__oneDigit(1,!1):g.__zero();if("object"===a(b)){if(b.constructor===g)return b;c=g.__toPrimitive(b);return g.BigInt(c)}throw new TypeError("Cannot convert "+b+" to a BigInt")}},{key:"toNumber",value:function(a){var b=a.length;if(0===b)return 0;if(1===b){var c=a.__unsignedDigit(0);return a.sign?-c:c}c=a.__digit(b-1);var d=k(c),e=32*b-d;if(1024<e)return a.sign?-Infinity:1/0;e=e-1;c=c;b=b-1;d=d+1;var f=32===d?0:c<<d;f>>>=12;var h=d-12,i=12<=d?0:c<<20+d;d=20+d;0<h&&0<b&&(b--,c=a.__digit(b),f|=c>>>32-h,i=c<<h,d=h),0<d&&0<b&&(b--,c=a.__digit(b),i|=c>>>32-d,d-=32);h=g.__decideRounding(a,d,b,c);if((1===h||0===h&&1==(1&i))&&(i=i+1>>>0,0===i&&(f++,0!=f>>>20&&(f=0,e++,1023<e))))return a.sign?-Infinity:1/0;d=a.sign?-2147483648:0;return e=e+1023<<20,g.__kBitConversionInts[1]=d|e|f,g.__kBitConversionInts[0]=i,g.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(a){if(0===a.length)return a;var b=a.__copy();return b.sign=!a.sign,b}},{key:"bitwiseNot",value:function(a){return a.sign?g.__absoluteSubOne(a).__trim():g.__absoluteAddOne(a,!0)}},{key:"exponentiate",value:function(a,b){if(b.sign)throw new RangeError("Exponent must be positive");if(0===b.length)return g.__oneDigit(1,!1);if(0===a.length)return a;if(1===a.length&&1===a.__digit(0))return a.sign&&0==(1&b.__digit(0))?g.unaryMinus(a):a;if(1<b.length)throw new RangeError("BigInt too big");b=b.__unsignedDigit(0);if(1===b)return a;if(b>=g.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===a.length&&2===a.__digit(0)){var c=1+(b>>>5),d=a.sign&&0!=(1&b);d=new g(c,d);d.__initializeDigits();var e=1<<(31&b);return d.__setDigit(c-1,e),d}c=null;e=a;for(0!=(1&b)&&(c=a),b>>=1;0!==b;b>>=1)e=g.multiply(e,e),0!=(1&b)&&(null===c?c=e:c=g.multiply(c,e));return c}},{key:"multiply",value:function(a,b){if(0===a.length)return a;if(0===b.length)return b;var c=a.length+b.length;32<=a.__clzmsd()+b.__clzmsd()&&c--;c=new g(c,a.sign!==b.sign);c.__initializeDigits();for(var d=0;d<a.length;d++)g.__multiplyAccumulate(b,a.__digit(d),c,d);return c.__trim()}},{key:"divide",value:function(a,b){if(0===b.length)throw new RangeError("Division by zero");if(0>g.__absoluteCompare(a,b))return g.__zero();var c=a.sign!==b.sign,d=b.__unsignedDigit(0);if(1===b.length&&65535>=d){if(1===d)return c===a.sign?a:g.unaryMinus(a);d=g.__absoluteDivSmall(a,d,null)}else d=g.__absoluteDivLarge(a,b,!0,!1);return d.sign=c,d.__trim()}},{key:"remainder",value:function(a,b){if(0===b.length)throw new RangeError("Division by zero");if(0>g.__absoluteCompare(a,b))return a;var c=b.__unsignedDigit(0);if(1===b.length&&65535>=c){if(1===c)return g.__zero();c=g.__absoluteModSmall(a,c);return 0===c?g.__zero():g.__oneDigit(c,a.sign)}c=g.__absoluteDivLarge(a,b,!1,!0);return c.sign=a.sign,c.__trim()}},{key:"add",value:function(a,b){var c=a.sign;return c===b.sign?g.__absoluteAdd(a,b,c):0<=g.__absoluteCompare(a,b)?g.__absoluteSub(a,b,c):g.__absoluteSub(b,a,!c)}},{key:"subtract",value:function(a,b){var c=a.sign;return c===b.sign?0<=g.__absoluteCompare(a,b)?g.__absoluteSub(a,b,c):g.__absoluteSub(b,a,!c):g.__absoluteAdd(a,b,c)}},{key:"leftShift",value:function(a,b){return 0===b.length||0===a.length?a:b.sign?g.__rightShiftByAbsolute(a,b):g.__leftShiftByAbsolute(a,b)}},{key:"signedRightShift",value:function(a,b){return 0===b.length||0===a.length?a:b.sign?g.__leftShiftByAbsolute(a,b):g.__rightShiftByAbsolute(a,b)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(a,b){return 0>g.__compareToBigInt(a,b)}},{key:"lessThanOrEqual",value:function(a,b){return 0>=g.__compareToBigInt(a,b)}},{key:"greaterThan",value:function(a,b){return 0<g.__compareToBigInt(a,b)}},{key:"greaterThanOrEqual",value:function(a,b){return 0<=g.__compareToBigInt(a,b)}},{key:"equal",value:function(a,b){if(a.sign!==b.sign)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a.__digit(c)!==b.__digit(c))return!1;return!0}},{key:"notEqual",value:function(a,b){return!g.equal(a,b)}},{key:"bitwiseAnd",value:function(a,b){if(!a.sign&&!b.sign)return g.__absoluteAnd(a,b).__trim();if(a.sign&&b.sign){var c=i(a.length,b.length)+1;c=g.__absoluteSubOne(a,c);var d=g.__absoluteSubOne(b);return c=g.__absoluteOr(c,d,c),g.__absoluteAddOne(c,!0,c).__trim()}if(a.sign){d=[b,a];a=d[0],b=d[1]}return g.__absoluteAndNot(a,g.__absoluteSubOne(b)).__trim()}},{key:"bitwiseXor",value:function(a,b){if(!a.sign&&!b.sign)return g.__absoluteXor(a,b).__trim();if(a.sign&&b.sign){var c=i(a.length,b.length);c=g.__absoluteSubOne(a,c);var d=g.__absoluteSubOne(b);return g.__absoluteXor(c,d,c).__trim()}d=i(a.length,b.length)+1;if(a.sign){c=[b,a];a=c[0],b=c[1]}c=g.__absoluteSubOne(b,d);return c=g.__absoluteXor(c,a,c),g.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(a,b){var c=i(a.length,b.length);if(!a.sign&&!b.sign)return g.__absoluteOr(a,b).__trim();if(a.sign&&b.sign){var d=g.__absoluteSubOne(a,c),e=g.__absoluteSubOne(b);return d=g.__absoluteAnd(d,e,d),g.__absoluteAddOne(d,!0,d).__trim()}if(a.sign){e=[b,a];a=e[0],b=e[1]}d=g.__absoluteSubOne(b,c);return d=g.__absoluteAndNot(d,a,d),g.__absoluteAddOne(d,!0,d).__trim()}},{key:"asIntN",value:function(a,b){if(0===b.length)return b;if(0===a)return g.__zero();if(a>=g.__kMaxLengthBits)return b;var c=a+31>>>5;if(b.length<c)return b;var d=b.__unsignedDigit(c-1),e=1<<(31&a-1);if(b.length===c&&d<e)return b;if(!((d&e)===e))return g.__truncateToNBits(a,b);if(!b.sign)return g.__truncateAndSubFromPowerOfTwo(a,b,!0);if(0==(d&e-1)){for(var f=c-2;0<=f;f--)if(0!==b.__digit(f))return g.__truncateAndSubFromPowerOfTwo(a,b,!1);return b.length===c&&d===e?b:g.__truncateToNBits(a,b)}return g.__truncateAndSubFromPowerOfTwo(a,b,!1)}},{key:"asUintN",value:function(a,b){if(0===b.length)return b;if(0===a)return g.__zero();if(b.sign){if(a>g.__kMaxLengthBits)throw new RangeError("BigInt too big");return g.__truncateAndSubFromPowerOfTwo(a,b,!1)}if(a>=g.__kMaxLengthBits)return b;var c=a+31>>>5;if(b.length<c)return b;var d=31&a;if(b.length==c){if(0==d)return b;c=b.__digit(c-1);if(0==c>>>d)return b}return g.__truncateToNBits(a,b)}},{key:"ADD",value:function(a,b){if(a=g.__toPrimitive(a),b=g.__toPrimitive(b),"string"==typeof a)return"string"!=typeof b&&(b=b.toString()),a+b;if("string"==typeof b)return a.toString()+b;if(a=g.__toNumeric(a),b=g.__toNumeric(b),g.__isBigInt(a)&&g.__isBigInt(b))return g.add(a,b);if("number"==typeof a&&"number"==typeof b)return a+b;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(a,b){return g.__compare(a,b,0)}},{key:"LE",value:function(a,b){return g.__compare(a,b,1)}},{key:"GT",value:function(a,b){return g.__compare(a,b,2)}},{key:"GE",value:function(a,b){return g.__compare(a,b,3)}},{key:"EQ",value:function(b,c){for(;;){if(g.__isBigInt(b))return g.__isBigInt(c)?g.equal(b,c):g.EQ(c,b);if("number"==typeof b){if(g.__isBigInt(c))return g.__equalToNumber(c,b);if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("string"==typeof b){if(g.__isBigInt(c))return b=g.__fromString(b),null!==b&&g.equal(b,c);if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("boolean"==typeof b){if(g.__isBigInt(c))return g.__equalToNumber(c,+b);if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("symbol"===a(b)){if(g.__isBigInt(c))return!1;if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("object"===a(b)){if("object"===a(c)&&c.constructor!==g)return b==c;b=g.__toPrimitive(b)}else return b==c}}},{key:"NE",value:function(a,b){return!g.EQ(a,b)}},{key:"__zero",value:function(){return new g(0,!1)}},{key:"__oneDigit",value:function(a,b){b=new g(1,b);return b.__setDigit(0,a),b}},{key:"__decideRounding",value:function(a,b,c,d){if(0<b)return-1;if(0>b)b=-b-1;else{if(0===c)return-1;c--,d=a.__digit(c),b=31}b=1<<b;if(0==(d&b))return-1;if(b-=1,0!=(d&b))return 1;for(;0<c;)if(c--,0!==a.__digit(c))return 1;return 0}},{key:"__fromDouble",value:function(a){g.__kBitConversionDouble[0]=a;var b,c=2047&g.__kBitConversionInts[1]>>>20;c=c-1023;var d=(c>>>5)+1;a=new g(d,0>a);var e=1048575&g.__kBitConversionInts[1]|1048576,f=g.__kBitConversionInts[0],k=20;c=31&c;var n=0;if(c<k){var m=k-c;n=m+32,b=e>>>m,e=e<<32-m|f>>>m,f<<=32-m}else if(c===k)n=32,b=e,e=f;else{m=c-k;n=32-m,b=e<<m|f>>>32-m,e=f<<m}a.__setDigit(d-1,b);for(c=d-2;0<=c;c--)0<n?(n-=32,b=e,e=f):b=0,a.__setDigit(c,b);return a.__trim()}},{key:"__isWhitespace",value:function(a){return!!(13>=a&&9<=a)||(159>=a?32==a:131071>=a?160==a||5760==a:196607>=a?(a&=131071,10>=a||40==a||41==a||47==a||95==a||4096==a):65279==a)}},{key:"__fromString",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=0,d=a.length,e=0;if(e===d)return g.__zero();for(var f=a.charCodeAt(e);g.__isWhitespace(f);){if(++e===d)return g.__zero();f=a.charCodeAt(e)}if(43===f){if(++e===d)return null;f=a.charCodeAt(e),c=1}else if(45===f){if(++e===d)return null;f=a.charCodeAt(e),c=-1}if(0===b){if(b=10,48===f){if(++e===d)return g.__zero();if(f=a.charCodeAt(e),88===f||120===f){if(b=16,++e===d)return null;f=a.charCodeAt(e)}else if(79===f||111===f){if(b=8,++e===d)return null;f=a.charCodeAt(e)}else if(66===f||98===f){if(b=2,++e===d)return null;f=a.charCodeAt(e)}}}else if(16===b&&48===f){if(++e===d)return g.__zero();if(f=a.charCodeAt(e),88===f||120===f){if(++e===d)return null;f=a.charCodeAt(e)}}for(;48===f;){if(++e===d)return g.__zero();f=a.charCodeAt(e)}var m=d-e,i=g.__kMaxBitsPerChar[b],j=g.__kBitsPerCharTableMultiplier-1;if(m>1073741824/i)return null;var k=i*m+j>>>g.__kBitsPerCharTableShift,l=new g(k+31>>>5,!1),n=10>b?b:10,o=10<b?b-10:0;if(0==(b&b-1)){i>>=g.__kBitsPerCharTableShift;var p=[],q=[],r=!1;do{for(var s,t=0,u=0;;){if(void 0,f-48>>>0<n)s=f-48;else if((32|f)-97>>>0<o)s=(32|f)-87;else{r=!0;break}if(u+=i,t=t<<i|s,++e===d){r=!0;break}if(f=a.charCodeAt(e),32<u+i)break}p.push(t),q.push(u)}while(!r);g.__fillFromParts(l,p,q)}else{l.__initializeDigits();var v=!1,w=0;do{for(var x,y=0,z=1;;){if(void 0,f-48>>>0<n)x=f-48;else if((32|f)-97>>>0<o)x=(32|f)-87;else{v=!0;break}var A=z*b;if(4294967295<A)break;if(z=A,y=y*b+x,w++,++e===d){v=!0;break}f=a.charCodeAt(e)}j=32*g.__kBitsPerCharTableMultiplier-1;var B=i*w+j>>>g.__kBitsPerCharTableShift+5;l.__inplaceMultiplyAdd(z,y,B)}while(!v)}if(e!==d){if(!g.__isWhitespace(f))return null;for(e++;e<d;e++)if(f=a.charCodeAt(e),!g.__isWhitespace(f))return null}return 0!==c&&10!==b?null:(l.sign=-1===c,l.__trim())}},{key:"__fillFromParts",value:function(a,b,c){for(var d=0,e=0,f=0,k=b.length-1;0<=k;k--){var l=b[k],m=c[k];e|=l<<f,f+=m,32===f?(a.__setDigit(d++,e),f=0,e=0):32<f&&(a.__setDigit(d++,e),f-=32,e=l>>>m-f)}if(0!==e){if(d>=a.length)throw new Error("implementation bug");a.__setDigit(d++,e)}for(;d<a.length;d++)a.__setDigit(d,0)}},{key:"__toStringBasePowerOfTwo",value:function(a,b){var c=a.length,d=b-1;d=(85&d>>>1)+(85&d),d=(51&d>>>2)+(51&d),d=(15&d>>>4)+(15&d);d=d;b=b-1;var e=a.__digit(c-1),f=k(e);f=0|(32*c-f+d-1)/d;if(a.sign&&f++,268435456<f)throw new Error("string too long");for(var h=Array(f),f=f-1,l=0,n=0,o=0;o<c-1;o++){var p=a.__digit(o),q=(l|p<<n)&b;h[f--]=g.__kConversionChars[q];q=d-n;for(l=p>>>q,n=32-q;n>=d;)h[f--]=g.__kConversionChars[l&b],l>>>=d,n-=d}p=(l|e<<n)&b;for(h[f--]=g.__kConversionChars[p],l=e>>>d-n;0!==l;)h[f--]=g.__kConversionChars[l&b],l>>>=d;if(a.sign&&(h[f--]="-"),-1!==f)throw new Error("implementation bug");return h.join("")}},{key:"__toStringGeneric",value:function(a,b,c){var d=a.length;if(0===d)return"";if(1===d){var e=a.__unsignedDigit(0).toString(b);return!1===c&&a.sign&&(e="-"+e),e}e=32*d-k(a.__digit(d-1));d=g.__kMaxBitsPerChar[b];d=d-1;e=e*g.__kBitsPerCharTableMultiplier;e+=d-1,e=0|e/d;var f;d=e+1>>1;e=g.exponentiate(g.__oneDigit(b,!1),g.__oneDigit(d,!1));var h=e.__unsignedDigit(0);if(1===e.length&&65535>=h){f=new g(a.length,!1),f.__initializeDigits();for(var i,j=0,l=2*a.length-1;0<=l;l--)i=j<<16|a.__halfDigit(l),f.__setHalfDigit(l,0|i/h),j=0|i%h;i=j.toString(b)}else{h=g.__absoluteDivLarge(a,e,!0,!0);f=h.quotient;l=h.remainder.__trim();i=g.__toStringGeneric(l,b,!0)}f.__trim();for(j=g.__toStringGeneric(f,b,!0);i.length<d;)i="0"+i;return!1===c&&a.sign&&(j="-"+j),j+i}},{key:"__unequalSign",value:function(a){return a?-1:1}},{key:"__absoluteGreater",value:function(a){return a?-1:1}},{key:"__absoluteLess",value:function(a){return a?1:-1}},{key:"__compareToBigInt",value:function(a,b){var c=a.sign;if(c!==b.sign)return g.__unequalSign(c);a=g.__absoluteCompare(a,b);return 0<a?g.__absoluteGreater(c):0>a?g.__absoluteLess(c):0}},{key:"__compareToNumber",value:function(a,b){if(!0|b){var c=a.sign,d=0>b;if(c!==d)return g.__unequalSign(c);if(0===a.length){if(d)throw new Error("implementation bug");return 0===b?0:-1}if(1<a.length)return g.__absoluteGreater(c);d=h(b);var e=a.__unsignedDigit(0);return e>d?g.__absoluteGreater(c):e<d?g.__absoluteLess(c):0}return g.__compareToDouble(a,b)}},{key:"__compareToDouble",value:function(a,b){if(b!==b)return b;if(b===1/0)return-1;if(b===-Infinity)return 1;var c=a.sign;if(c!==0>b)return g.__unequalSign(c);if(0===b)throw new Error("implementation bug: should be handled elsewhere");if(0===a.length)return-1;g.__kBitConversionDouble[0]=b;b=2047&g.__kBitConversionInts[1]>>>20;if(2047==b)throw new Error("implementation bug: handled elsewhere");b=b-1023;if(0>b)return g.__absoluteGreater(c);var d=a.length,e=a.__digit(d-1),f=k(e),l=32*d-f;b=b+1;if(l<b)return g.__absoluteLess(c);if(l>b)return g.__absoluteGreater(c);b=1048576|1048575&g.__kBitConversionInts[1];var m=g.__kBitConversionInts[0],o=20;f=31-f;if(f!==(l-1)%31)throw new Error("implementation bug");var p;l=0;if(f<o){var q=o-f;l=q+32,p=b>>>q,b=b<<32-q|m>>>q,m<<=32-q}else if(f===o)l=32,p=b,b=m;else{q=f-o;l=32-q,p=b<<q|m>>>32-q,b=m<<q}if(e>>>=0,p>>>=0,e>p)return g.__absoluteGreater(c);if(e<p)return g.__absoluteLess(c);for(f=d-2;0<=f;f--){0<l?(l-=32,p=b>>>0,b=m,m=0):p=0;o=a.__unsignedDigit(f);if(o>p)return g.__absoluteGreater(c);if(o<p)return g.__absoluteLess(c)}if(0!==b||0!==m){if(0===l)throw new Error("implementation bug");return g.__absoluteLess(c)}return 0}},{key:"__equalToNumber",value:function(a,b){return b|0===b?0===b?0===a.length:1===a.length&&a.sign===0>b&&a.__unsignedDigit(0)===h(b):0===g.__compareToDouble(a,b)}},{key:"__comparisonResultToBool",value:function(a,b){switch(b){case 0:return 0>a;case 1:return 0>=a;case 2:return 0<a;case 3:return 0<=a}throw new Error("unreachable")}},{key:"__compare",value:function(a,b,c){if(a=g.__toPrimitive(a),b=g.__toPrimitive(b),"string"==typeof a&&"string"==typeof b)switch(c){case 0:return a<b;case 1:return a<=b;case 2:return a>b;case 3:return a>=b}if(g.__isBigInt(a)&&"string"==typeof b)return b=g.__fromString(b),null!==b&&g.__comparisonResultToBool(g.__compareToBigInt(a,b),c);if("string"==typeof a&&g.__isBigInt(b))return a=g.__fromString(a),null!==a&&g.__comparisonResultToBool(g.__compareToBigInt(a,b),c);if(a=g.__toNumeric(a),b=g.__toNumeric(b),g.__isBigInt(a)){if(g.__isBigInt(b))return g.__comparisonResultToBool(g.__compareToBigInt(a,b),c);if("number"!=typeof b)throw new Error("implementation bug");return g.__comparisonResultToBool(g.__compareToNumber(a,b),c)}if("number"!=typeof a)throw new Error("implementation bug");if(g.__isBigInt(b))return g.__comparisonResultToBool(g.__compareToNumber(b,a),2^c);if("number"!=typeof b)throw new Error("implementation bug");return 0===c?a<b:1===c?a<=b:2===c?a>b:3===c?a>=b:void 0}},{key:"__absoluteAdd",value:function(a,b,c){if(a.length<b.length)return g.__absoluteAdd(b,a,c);if(0===a.length)return a;if(0===b.length)return a.sign===c?a:g.unaryMinus(a);var d=a.length;(0===a.__clzmsd()||b.length===a.length&&0===b.__clzmsd())&&d++;for(var d=new g(d,c),c=0,e=0;e<b.length;e++){var f=b.__digit(e),h=a.__digit(e),m=(65535&h)+(65535&f)+c;h=(h>>>16)+(f>>>16)+(m>>>16);c=h>>>16,d.__setDigit(e,65535&m|h<<16)}for(;e<a.length;e++){f=a.__digit(e);m=(65535&f)+c;h=(f>>>16)+(m>>>16);c=h>>>16,d.__setDigit(e,65535&m|h<<16)}return e<d.length&&d.__setDigit(e,c),d.__trim()}},{key:"__absoluteSub",value:function(a,b,c){if(0===a.length)return a;if(0===b.length)return a.sign===c?a:g.unaryMinus(a);for(var c=new g(a.length,c),d=0,e=0;e<b.length;e++){var f=a.__digit(e),l=b.__digit(e),m=(65535&f)-(65535&l)-d;d=1&m>>>16;f=(f>>>16)-(l>>>16)-d;d=1&f>>>16,c.__setDigit(e,65535&m|f<<16)}for(;e<a.length;e++){l=a.__digit(e);m=(65535&l)-d;d=1&m>>>16;f=(l>>>16)-d;d=1&f>>>16,c.__setDigit(e,65535&m|f<<16)}return c.__trim()}},{key:"__absoluteAddOne",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length;null===c?c=new g(d,b):c.sign=b;for(var e=!0,f=0;f<d;f++){var k=a.__digit(f),l=-1===k;e&&(k=0|k+1),e=l,c.__setDigit(f,k)}return e&&c.__setDigitGrow(d,1),c}},{key:"__absoluteSubOne",value:function(a,b){var c=a.length;b=b||c;for(var d=new g(b,!1),e=!0,f=0;f<c;f++){var k=a.__digit(f),l=0===k;e&&(k=0|k-1),e=l,d.__setDigit(f,k)}for(l=c;l<b;l++)d.__setDigit(l,0);return d}},{key:"__absoluteAnd",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;if(d<e){f=d;var m=a,n=d;a=b,e,b=m,n}var k=f;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)&b.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteAndNot",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;d<e&&(f=d);var k=d;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)&~b.__digit(l));for(;l<d;l++)c.__setDigit(l,a.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteOr",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;if(d<e){f=d;var m=a,n=d;a=b,d=e,b=m,n}var k=d;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)|b.__digit(l));for(;l<d;l++)c.__setDigit(l,a.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteXor",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;if(d<e){f=d;var m=a,n=d;a=b,d=e,b=m,n}var k=d;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)^b.__digit(l));for(;l<d;l++)c.__setDigit(l,a.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteCompare",value:function(a,b){var c=a.length-b.length;if(0!=c)return c;for(c=a.length-1;0<=c&&a.__digit(c)===b.__digit(c);)c--;return 0>c?0:a.__unsignedDigit(c)>b.__unsignedDigit(c)?1:-1}},{key:"__multiplyAccumulate",value:function(a,b,c,d){if(0!==b){for(var e=65535&b,b=b>>>16,f=0,g=0,k=0,l=0;l<a.length;l++,d++){var m=c.__digit(d),n=65535&m,o=m>>>16,p=a.__digit(l),q=65535&p;p=p>>>16;var r=j(q,e);q=j(q,b);var s=j(p,e);p=j(p,b);n+=g+(65535&r),o+=k+f+(n>>>16)+(r>>>16)+(65535&q)+(65535&s),f=o>>>16,g=(q>>>16)+(s>>>16)+(65535&p)+f,f=g>>>16,g&=65535,k=p>>>16,m=65535&n|o<<16,c.__setDigit(d,m)}for(;0!==f||0!==g||0!==k;d++){r=c.__digit(d);q=(65535&r)+g;s=(r>>>16)+(q>>>16)+k+f;g=0,k=0,f=s>>>16,r=65535&q|s<<16,c.__setDigit(d,r)}}}},{key:"__internalMultiplyAdd",value:function(a,b,c,d,e){for(var c=c,f=0,h=0;h<d;h++){var l=a.__digit(h),m=j(65535&l,b),n=(65535&m)+f+c;c=n>>>16;l=j(l>>>16,b);m=(65535&l)+(m>>>16)+c;c=m>>>16,f=l>>>16,e.__setDigit(h,m<<16|65535&n)}if(e.length>d)for(e.__setDigit(d++,c+f);d<e.length;)e.__setDigit(d++,0);else if(0!==c+f)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(a,b,c){null===c&&(c=new g(a.length,!1));for(var d=0,e=2*a.length-1;0<=e;e-=2){var f=(d<<16|a.__halfDigit(e))>>>0,k=0|f/b;d=0|f%b,f=(d<<16|a.__halfDigit(e-1))>>>0;var l=0|f/b;d=0|f%b,c.__setDigit(e>>>1,k<<16|l)}return c}},{key:"__absoluteModSmall",value:function(a,b){for(var c,d=0,e=2*a.length-1;0<=e;e--)c=(d<<16|a.__halfDigit(e))>>>0,d=0|c%b;return d}},{key:"__absoluteDivLarge",value:function(a,b,c,d){var f=b.__halfDigitLength(),e=b.length,n=a.__halfDigitLength()-f,i=null;c&&(i=new g(n+2>>>1,!1),i.__initializeDigits());var l=new g(f+2>>>1,!1);l.__initializeDigits();var m=g.__clz16(b.__halfDigit(f-1));0<m&&(b=g.__specialLeftShift(b,m,0));for(var a=g.__specialLeftShift(a,m,1),k=b.__halfDigit(f-1),o=0,n=n;0<=n;n--){var p=65535,q=a.__halfDigit(n+f);if(q!==k){q=(q<<16|a.__halfDigit(n+f-1))>>>0;p=0|q/k;for(var q=0|q%k,r=b.__halfDigit(f-2),s=a.__halfDigit(n+f-2);j(p,r)>>>0>(q<<16|s)>>>0&&(p--,q+=k,!(65535<q)););}g.__internalMultiplyAdd(b,p,0,e,l);r=a.__inplaceSub(l,n,f+1);0!==r&&(r=a.__inplaceAdd(b,n,f),a.__setHalfDigit(n+f,a.__halfDigit(n+f)+r),p--),c&&(1&n?o=p<<16:i.__setDigit(n>>>1,o|p))}return d?(a.__inplaceRightShift(m),c?{quotient:i,remainder:a}:a):c?i:void 0}},{key:"__clz16",value:function(a){return k(a)-16}},{key:"__specialLeftShift",value:function(a,b,c){var e=a.length,d=new g(e+c,!1);if(0===b){for(var f=0;f<e;f++)d.__setDigit(f,a.__digit(f));return 0<c&&d.__setDigit(e,0),d}for(var j,f=0,l=0;l<e;l++)j=a.__digit(l),d.__setDigit(l,j<<b|f),f=j>>>32-b;return 0<c&&d.__setDigit(e,f),d}},{key:"__leftShiftByAbsolute",value:function(a,b){b=g.__toShiftAmount(b);if(0>b)throw new RangeError("BigInt too big");var c=b>>>5;b=31&b;var d=a.length,e=0!==b&&0!=a.__digit(d-1)>>>32-b,f=d+c+(e?1:0),m=new g(f,a.sign);if(0===b){for(var n=0;n<c;n++)m.__setDigit(n,0);for(;n<f;n++)m.__setDigit(n,a.__digit(n-c))}else{for(n=0,f=0;f<c;f++)m.__setDigit(f,0);for(var o,f=0;f<d;f++)o=a.__digit(f),m.__setDigit(f+c,o<<b|n),n=o>>>32-b;if(e)m.__setDigit(d+c,n);else if(0!==n)throw new Error("implementation bug")}return m.__trim()}},{key:"__rightShiftByAbsolute",value:function(a,b){var c=a.length,d=a.sign;b=g.__toShiftAmount(b);if(0>b)return g.__rightShiftByMaximum(d);var e=b>>>5;b=31&b;var f=c-e;if(0>=f)return g.__rightShiftByMaximum(d);var i=!1;if(d)if(0!=(a.__digit(e)&(1<<b)-1))i=!0;else for(var m=0;m<e;m++)if(0!==a.__digit(m)){i=!0;break}if(i&&0===b){m=a.__digit(c-1);0==~m&&f++}m=new g(f,d);if(0===b)for(f=e;f<c;f++)m.__setDigit(f-e,a.__digit(f));else{for(var n,d=a.__digit(e)>>>b,f=c-e-1,c=0;c<f;c++)n=a.__digit(c+e+1),m.__setDigit(c,n<<32-b|d),d=n>>>b;m.__setDigit(f,d)}return i&&(m=g.__absoluteAddOne(m,!0,m)),m.__trim()}},{key:"__rightShiftByMaximum",value:function(a){return a?g.__oneDigit(1,!0):g.__zero()}},{key:"__toShiftAmount",value:function(a){if(1<a.length)return-1;a=a.__unsignedDigit(0);return a>g.__kMaxLengthBits?-1:a}},{key:"__toPrimitive",value:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==a(b))return b;if(b.constructor===g)return b;var d=b[Symbol.toPrimitive];if(d){var e=d(c);if("object"!==a(e))return e;throw new TypeError("Cannot convert object to primitive value")}var f=b.valueOf;if(f){var k=f.call(b);if("object"!==a(k))return k}var l=b.toString;if(l){var m=l.call(b);if("object"!==a(m))return m}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(a){return g.__isBigInt(a)?a:+a}},{key:"__isBigInt",value:function(b){return"object"===a(b)&&b.constructor===g}},{key:"__truncateToNBits",value:function(a,b){for(var c=a+31>>>5,d=new g(c,b.sign),c=c-1,e=0;e<c;e++)d.__setDigit(e,b.__digit(e));e=b.__digit(c);if(0!=(31&a)){b=32-(31&a);e=e<<b>>>b}return d.__setDigit(c,e),d.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(a,b,c){for(var d=Math.min,e=a+31>>>5,c=new g(e,c),f=0,e=e-1,h=0,d=d(e,b.length);f<d;f++){var j=b.__digit(f),l=0-(65535&j)-h;h=1&l>>>16;j=0-(j>>>16)-h;h=1&j>>>16,c.__setDigit(f,65535&l|j<<16)}for(;f<e;f++)c.__setDigit(f,0|-h);l=e<b.length?b.__digit(e):0;j=31&a;if(0===j){d=0-(65535&l)-h;h=1&d>>>16;f=0-(l>>>16)-h;b=65535&d|f<<16}else{a=32-j;l=l<<a>>>a;d=1<<32-a;f=(65535&d)-(65535&l)-h;h=1&f>>>16;j=(d>>>16)-(l>>>16)-h;b=65535&f|j<<16,b&=d-1}return c.__setDigit(e,b),c.__trim()}},{key:"__digitPow",value:function(a,b){for(var c=1;0<b;)1&b&&(c*=a),b>>>=1,a*=a;return c}}]),g}(k(Array));return n.__kMaxLength=33554432,n.__kMaxLengthBits=n.__kMaxLength<<5,n.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],n.__kBitsPerCharTableShift=5,n.__kBitsPerCharTableMultiplier=1<<n.__kBitsPerCharTableShift,n.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.__kBitConversionBuffer=new ArrayBuffer(8),n.__kBitConversionDouble=new Float64Array(n.__kBitConversionBuffer),n.__kBitConversionInts=new Int32Array(n.__kBitConversionBuffer),n})}),null);
__d("TCompactProtocolPolyfill",["StringToUtf8","ThriftTypes","Utf8ToString","jsbi"],(function(a,b,c,d,e,f,g){var h,i=Object.freeze({CT_STOP:0,CT_BOOLEAN_TRUE:1,CT_BOOLEAN_FALSE:2,CT_BYTE:3,CT_I16:4,CT_I32:5,CT_I64:6,CT_DOUBLE:7,CT_BINARY:8,CT_LIST:9,CT_SET:10,CT_MAP:11,CT_STRUCT:12,CT_FLOAT:13}),j=Object.freeze({NONE:-1,CT_BOOLEAN_TRUE:i.CT_BOOLEAN_TRUE,CT_BOOLEAN_FALSE:i.CT_BOOLEAN_FALSE}),k=[i.CT_STOP,0,i.CT_BOOLEAN_TRUE,i.CT_BYTE,i.CT_DOUBLE,0,i.CT_I16,0,i.CT_I32,0,i.CT_I64,i.CT_BINARY,i.CT_STRUCT,i.CT_MAP,i.CT_SET,i.CT_LIST,0,0,0,i.CT_FLOAT],l=Math.pow(2,7)-1,m=-1*Math.pow(2,7),n=Math.pow(2,15)-1,o=-1*Math.pow(2,15),p=Math.pow(2,31)-1,q=-1*Math.pow(2,31),r=Math.pow(2,32)-1,s=(a=c("jsbi")).BigInt("9223372036854775807"),t=a.BigInt("-9223372036854775808"),u=a.BigInt("18446744073709551615"),v=a.BigInt(63),w=a.BigInt(1),x=a.BigInt(0),y=a.BigInt(7),z=a.BigInt(70),A=a.BigInt(127),B=a.BigInt(128),C=Math.pow(2,4);b=function(){function a(a){this.$4=null,this.$5=null,this.$1=a,this.$2=[],this.$3=0,this.$6=new DataView(new ArrayBuffer(1))}var b=a.prototype;b.readStructBegin=function(){this.$2.push(this.$3),this.$3=0};b.readStructEnd=function(){this.$3=this.$2.pop();return 0};b.writeStructBegin=function(a){this.$2.push(this.$3);this.$3=0;return 0};b.writeStructEnd=function(){this.$3=this.$2.pop();return 0};b.writeFieldBegin=function(a){if(a.ftype===(h||(h=c("ThriftTypes"))).BOOL){this.$4={fid:a.fid,fname:a.fname,ftype:a.ftype};return 0}else return this.$7(a,j.NONE)};b.writeListBegin=function(a){return this.$8(a)};b.writeListEnd=function(){return 0};b.writeSetBegin=function(a){return this.$8(a)};b.writeSetEnd=function(){return 0};b.writeMapBegin=function(a){var b=0;if(a.size===0)b+=this.$1.writeByte(0);else{b+=this.writeVarint32(a.size);if(a.ktype!=null&&a.vtype!=null)b+=this.$1.writeByte(this.$9(a.ktype)<<4|this.$9(a.vtype));else throw new Error("received invalid map info: "+JSON.stringify(a))}return b};b.writeMapEnd=function(){return 0};b.$7=function(a,b){var c=0;b=b===j.NONE?this.$9(a.ftype):b;a.fid>this.$3&&a.fid-this.$3<=C-1?c+=this.$1.writeByte(a.fid-this.$3<<4|b):(c+=this.$1.writeByte(b),c+=this.writeI16(a.fid));this.$3=a.fid;return c};b.$8=function(a){var b=0,c=this.$9(a.etype);a.size<=C-2?b+=this.$1.writeByte(a.size<<4|c):(b+=this.$1.writeByte(240|c),b+=this.writeVarint32(a.size));return b};b.readFieldBegin=function(){var a=this.$1.readByte(),b=a&15;if(b===(h||(h=c("ThriftTypes"))).STOP)return{ftype:(h||(h=c("ThriftTypes"))).STOP,fid:0};a=(a&240)>>>4;var d;a===0?d=this.readI16():d=this.$3+a;a=this.$10(b);(b===i.CT_BOOLEAN_TRUE||b===i.CT_BOOLEAN_FALSE)&&(this.$5=b===i.CT_BOOLEAN_TRUE);this.$3=d;return{ftype:a,fid:d}};b.readListBegin=function(){return this.$11()};b.readListEnd=function(){return 0};b.readSetBegin=function(){return this.$11()};b.readSetEnd=function(){return 0};b.readMapBegin=function(){var a=this.readVarint32();if(a>0){var b=this.$1.readByte(),c=this.$12(b>>4,"readMapBegin:key");b=this.$12(b&15,"readMapBegin:value");return{ktype:this.$10(c),vtype:this.$10(b),size:a}}return{size:a}};b.readMapEnd=function(){return 0};b.$12=function(a,b){if(a<0||a>13)throw new Error(b+" read invalid compact type: "+a);return a};b.$11=function(){var a=this.$1.readByte(),b=this.$12(a&15,"_readListOrSetBegin");b=this.$10(b);a=a>>4&15;a===15&&(a=this.readVarint32());return{etype:b,size:a}};b.readFieldEnd=function(){return 0};b.readByte=function(){this.$6.setUint8(0,this.$1.readByte());return this.$6.getInt8(0)};b.writeByte=function(a){if(a<m||a>l)throw new Error("byte to write is out of range: "+a);this.$6.setInt8(0,a);return this.$1.writeByte(this.$6.getUint8(0))};b.readFloat=function(){return this.$1.readFloatBE()};b.writeFloat=function(a){return this.$1.writeFloatBE(a)};b.readDouble=function(){return this.$1.readDoubleBE()};b.writeDouble=function(a){return this.$1.writeDoubleBE(a)};b.writeString=function(a){return this.writeBinary(d("StringToUtf8").StringToUtf8(a))};b.skip=function(a){switch(a){case(h||(h=c("ThriftTypes"))).STOP:return;case(h||(h=c("ThriftTypes"))).BOOL:this.readBool();break;case(h||(h=c("ThriftTypes"))).BYTE:this.readByte();break;case(h||(h=c("ThriftTypes"))).DOUBLE:this.readDouble();break;case(h||(h=c("ThriftTypes"))).I16:this.readI16();break;case(h||(h=c("ThriftTypes"))).I32:this.readI32();break;case(h||(h=c("ThriftTypes"))).I64:this.readI64();break;case(h||(h=c("ThriftTypes"))).STRING:this.readString();break;case(h||(h=c("ThriftTypes"))).STRUCT:this.readStructBegin();var b;while(!0){b=this.readFieldBegin();if(b.ftype===(h||(h=c("ThriftTypes"))).STOP)break;this.skip(b.ftype)}this.readStructEnd();break;case(h||(h=c("ThriftTypes"))).MAP:b=this.readMapBegin();if(b.size>0&&b.ktype!=null&&b.vtype!=null){var d=b.ktype,e=b.vtype;for(var f=0;f<b.size;f++)this.skip(d),this.skip(e)}break;case(h||(h=c("ThriftTypes"))).SET:case(h||(h=c("ThriftTypes"))).LIST:f=this.$11();for(d=0;d<f.size;d++)this.skip(f.etype);break;case(h||(h=c("ThriftTypes"))).FLOAT:this.readFloat();break;default:throw new Error("encoutered unknow thrift type: "+a+" in skip")}};b.toByteArray=function(){return this.$1.toByteArray()};b.writeFieldEnd=function(){return 0};b.writeFieldStop=function(){return this.$1.writeByte((h||(h=c("ThriftTypes"))).STOP)};b.writeI16=function(a){if(a<o||a>n)throw new Error("trying to write i16 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};b.readI16=function(){var a=this.zigzagToI32(this.readVarint32());if(a<o||a>n)throw new Error("read invalid i16: "+a);return a};b.writeI32=function(a){if(a<q||a>p)throw new Error("i32 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};b.readI32=function(){return this.zigzagToI32(this.readVarint32())};b.writeI64=function(a){return this.writeVarint64(this.i64ToZigzag(a))};b.readI64=function(){return this.zigzagToI64(this.readVarint64())};b.readBool=function(){var a;this.$5!=null?(a=this.$5,this.$5=null):a=this.$1.readByte()===i.CT_BOOLEAN_TRUE;return a};b.writeBool=function(a){var b=0;this.$4!=null?(b+=this.$7(this.$4,a?j.CT_BOOLEAN_TRUE:j.CT_BOOLEAN_FALSE),this.$4=null):b+=this.$1.writeByte(a?i.CT_BOOLEAN_TRUE:i.CT_BOOLEAN_FALSE);return b};b.readBinary=function(){var a=this.readVarint32();return a===0?new Uint8Array(0):this.$1.readBytes(a)};b.writeBinary=function(a){var b=0;b+=this.writeVarint32(a.length);b+=this.$1.write(a);return b};b.i32ToZigzag=function(a){if(a<q||a>p)throw new Error("number: "+a+" is out of range of i32");return(a<<1^(a<0?4294967295:0))>>>0};b.zigzagToI32=function(a){if(a<0||a>r)throw new Error("number: "+a+" is out of range of uint32");return a>>>1^-1*(a&1)};b.i64ToZigzag=function(a){if(c("jsbi").greaterThan(a,s)||c("jsbi").lessThan(a,t))throw new Error("i64 out of range: "+a.toString());return c("jsbi").bitwiseXor(c("jsbi").signedRightShift(a,v),c("jsbi").leftShift(a,w))};b.zigzagToI64=function(a){if(c("jsbi").lessThan(a,0)||c("jsbi").greaterThan(a,u))throw new Error("invalid uint64: "+a.toString());return c("jsbi").equal(c("jsbi").bitwiseAnd(a,w),w)?c("jsbi").bitwiseNot(c("jsbi").signedRightShift(a,w)):c("jsbi").signedRightShift(a,w)};b.writeVarint32=function(a){if(a<0||a>r)throw new Error("writeVarint32 received out of range uint32: "+a);a=a;var b=0;while(!0)if(a>>>7===0){this.$1.writeByte(a);b++;break}else this.$1.writeByte(a&127|128),b++,a>>>=7;return b};b.readVarint32=function(){var a=0,b=0,c;while(!0){c=this.$1.readByte();a=(a|(c&127)<<b)>>>0;b+=7;if((c&128)==0){if(b===35&&(c&240)!=0)throw new Error("result exceeded 32 bit limit");break}if(b>28)throw new Error("result exceeded 32 bit limit")}return a};b.writeVarint64=function(a){if(c("jsbi").lessThan(a,x)||c("jsbi").greaterThan(a,u))throw new Error("invalid uint64: "+a.toString());a=a;var b=0;while(!0)if(c("jsbi").equal(c("jsbi").signedRightShift(a,y),x)){this.$1.writeByte(c("jsbi").toNumber(a));b++;break}else{var d,e=(d=c("jsbi")).toNumber(d.bitwiseOr(d.bitwiseAnd(a,A),B));this.$1.writeByte(e);b++;a=d.signedRightShift(a,y)}return b};b.readVarint64=function(){var a=x,b=x,d;while(!0){var e;d=(e=c("jsbi")).BigInt(this.$1.readByte());a=e.bitwiseOr(a,e.leftShift(e.bitwiseAnd(d,A),b));b=e.add(b,y);if(c("jsbi").equal(c("jsbi").bitwiseAnd(d,B),x)){if(c("jsbi").equal(b,z)&&c("jsbi").notEqual(d,w))throw new Error("result exceeded 64 bit limit");break}if(c("jsbi").greaterThan(b,v))throw new Error("result exceeded 64 bit limit")}return a};b.readString=function(){return d("Utf8ToString").Utf8ToString(this.readBinary())};b.getLastFieldId=function(){return this.$3};b.getLastField=function(){return this.$2};b.getBooleanFieldInfo=function(){return this.$4};b.getBooleanValue=function(){return this.$5};b.$9=function(a){return k[a]};b.$10=function(a){switch(a){case i.CT_STOP:return(h||(h=c("ThriftTypes"))).STOP;case i.CT_BOOLEAN_FALSE:case i.CT_BOOLEAN_TRUE:return(h||(h=c("ThriftTypes"))).BOOL;case i.CT_BYTE:return(h||(h=c("ThriftTypes"))).BYTE;case i.CT_I16:return(h||(h=c("ThriftTypes"))).I16;case i.CT_I32:return(h||(h=c("ThriftTypes"))).I32;case i.CT_I64:return(h||(h=c("ThriftTypes"))).I64;case i.CT_DOUBLE:return(h||(h=c("ThriftTypes"))).DOUBLE;case i.CT_FLOAT:return(h||(h=c("ThriftTypes"))).FLOAT;case i.CT_BINARY:return(h||(h=c("ThriftTypes"))).STRING;case i.CT_LIST:return(h||(h=c("ThriftTypes"))).LIST;case i.CT_SET:return(h||(h=c("ThriftTypes"))).SET;case i.CT_MAP:return(h||(h=c("ThriftTypes"))).MAP;case i.CT_STRUCT:return(h||(h=c("ThriftTypes"))).STRUCT;default:throw new Error("don't know what type")}};return a}();g["default"]=b}),98);
__d("TNoOpWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=0}var b=a.prototype;b.write=function(a){this.$1+=a.length;return a.length};b.writeByte=function(a){this.$1++;return 1};b.writeFloatBE=function(a){this.$1+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$1+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){throw new Error("operation not supported")};b.currentSize=function(){return this.$1};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("TReadBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a,this.$2=0}var b=a.prototype;b.readByte=function(){if(this.$2<this.$1.length)return this.$1[this.$2++];throw new Error("no available byte to read")};b.readBytes=function(a){if(a<0)throw new Error("cannot readBytes of negative length: "+a);if(a+this.$2>this.$1.length)throw new Error("not enough bytes to read");var b=new Uint8Array(this.$1.buffer,this.$3(),a);this.$2+=a;return b};b.readFloatBE=function(){if(Float32Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat32(this.$3());this.$2+=Float32Array.BYTES_PER_ELEMENT;return a};b.readDoubleBE=function(){if(Float64Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat64(this.$3());this.$2+=Float64Array.BYTES_PER_ELEMENT;return a};b.$3=function(){return this.$2+this.$1.byteOffset};b.getCurrentCursor=function(){return this.$2};b.writeByte=function(a){throw new Error("operation not supported")};b.write=function(a){throw new Error("operation not supported")};b.toByteArray=function(){throw new Error("operation not supported")};b.writeFloatBE=function(a){throw new Error("operation not supported")};b.writeDoubleBE=function(a){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("CompactSerializerPolyfill",["TCompactProtocolPolyfill","TNoOpWriteBuffer","TReadBuffer","TWriteBuffer"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a=new(c("TReadBuffer"))(a);a=new(c("TCompactProtocolPolyfill"))(a);return b(a)}function a(a,b,c){try{return h(a,b)}catch(a){c!=null&&c(a)}return null}function i(a,b,d){d===void 0&&(d=!1);if(d){d=new(c("TNoOpWriteBuffer"))();var e=new(c("TCompactProtocolPolyfill"))(d);b(a,e);e=new(c("TWriteBuffer"))(d.currentSize())}else e=new(c("TWriteBuffer"))();d=new(c("TCompactProtocolPolyfill"))(e);b(a,d);return d.toByteArray()}function b(a,b,c,d){c===void 0&&(c=!1);try{return i(a,b,c)}catch(a){d!=null&&d(a)}return null}g.deserialize=h;g.deserializeNoThrow=a;g.serialize=i;g.serializeNoThrow=b}),98);
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","cr:8958"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function d(d){var e;e=a.call(this)||this;e.$CrossWindowEventEmitter$p_2=d;e.$CrossWindowEventEmitter$p_1=new(c("CacheStorage"))("localstorage",d+":");e.$CrossWindowEventEmitter$p_1.addValueChangeCallback(function(c,d,f){d=c.split(":")[1];try{c=b("cr:8958").parse(f)}catch(a){c=void 0}if(c&&c.__v){(f=a.prototype.emit).call.apply(f,[e,d].concat(c.__v))}});return e}babelHelpers.inheritsLoose(d,a);var e=d.prototype;e.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];this.emitRemote.apply(this,[b].concat(e));(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};e.emitRemote=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$CrossWindowEventEmitter$p_1.set(a,c)};return d}(c("EventEmitter"));g["default"]=a}),98);
__d("DGWAuth",["$InternalEnum","err"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({TEST:"0:0",FACEBOOK:"1:0",INTERNALFB:"2:0",OCULUS:"3:0",ENTERPRISEFB:"7:0",RECRUITINGFB:"8:0",INSTAGRAM:"6:0",HORIZON_WEB:"12:0",SPARK_WEB:"13:0",ABRA:"15:0",GUEST:"19:0"});function a(a){if(a==="TEST")return h.TEST;else if(a==="FACEBOOK")return h.FACEBOOK;else if(a==="INTERNALFB")return h.INTERNALFB;else if(a==="OCULUS")return h.OCULUS;else if(a==="ENTERPRISEFB")return h.ENTERPRISEFB;else if(a==="RECRUITINGFB")return h.RECRUITINGFB;else if(a==="INSTAGRAM")return h.INSTAGRAM;else if(a==="HORIZON_WEB")return h.HORIZON_WEB;else if(a==="SPARK_WEB")return h.SPARK_WEB;else if(a==="ABRA")return h.ABRA;else if(a==="GUEST")return h.GUEST;else throw c("err")("failed to convert string ("+a+") to DGWAuth Type")}function d(a){if(a===h.FACEBOOK)return"FACEBOOK";else if(a===h.INTERNALFB)return"INTERNALFB";else if(a===h.OCULUS)return"OCULUS";else if(a===h.ENTERPRISEFB)return"ENTERPRISEFB";else if(a===h.RECRUITINGFB)return"RECRUITINGFB";else if(a===h.INSTAGRAM)return"INSTAGRAM";else if(a===h.HORIZON_WEB)return"HORIZON_WEB";else if(a===h.SPARK_WEB)return"SPARK_WEB";else if(a===h.ABRA)return"ABRA";else if(a===h.GUEST)return"GUEST";else return"TEST"}g.DGWAuth=h;g.fromStringToDGWAuth=a;g.fromDGWAuthToString=d}),98);
__d("EventListenerImplForCacheStorage",["CometEventListener"],(function(a,b,c,d,e,f){"use strict";f["default"]=b("CometEventListener")}),66);
__d("IrisSubscribeCheckerUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){if(typeof window!=="undefined"){var a;a=(a=window.location)==null?void 0:a.hostname;if(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")return!1}return!0}f.getIrisSubscribeCheckerInitialRunningState=a}),66);
__d("MqttEnvWebSocket",[],(function(a,b,c,d,e,f){"use strict";function a(a){return new WebSocket(a)}f.createWebSocket=a}),66);
__d("MqttEnv",["MqttEnvWebSocket","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";b=Object.freeze({mqtt_waterfall_log_client_sampling:1,mqtt_ws_polling_enabled:3,mqtt_lp_use_fetch:9,mqtt_fast_lp:11,mqtt_lp_no_delay:12,mqtt_enable_publish_over_polling:13,mqttweb_global_connection_counter:15});e=function(){function a(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}var b=a.prototype;b.random=function(){return this.$1!=null?this.$1():Math.random()};b.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};b.setIsUserLoggedInNow=function(a){this.$2=a};b.clearTimeout=function(a){if(this.$3!=null){this.$3(a);return}c("clearTimeout")(a)};b.setTimeout=function(a,b){for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return this.$4!=null?this.$4.apply(null,arguments):c("setTimeout").apply(null,arguments)};b.getLoggerInstance=function(){return this.$5!=null?this.$5():h.getInstance()};b.genGk=function(a){return this.$6!=null?this.$6(a):!1};b.createSocket=function(a,b){return this.$7!=null?this.$7(a,b):d("MqttEnvWebSocket").createWebSocket(a)};b.scheduleCallback=function(a){return this.$8!=null?this.$8(a):a()};b.scheduleLoggingCallback=function(a){return this.$9!=null?this.$9(a):a()};b.configRead=function(a,b){return this.$10!=null?this.$10(a,b):b};b.configWrite=function(a,b){this.$11!=null&&this.$11(a,b)};b.initialize=function(a,b,c,d,e,f,g,h,i,j,k){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$10=j,this.$11=k};return a}();var h=function(){function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){};b.eventLogPull=function(a){};b.eventLogPullFinish=function(a){};b.eventLogDisconnect=function(a){};b.eventLogOutgoingPublish=function(a){};b.eventLogIncomingPublish=function(a){};b.eventLogPublishTimeout=function(a){};b.eventLogMiscellaneousError=function(a){};b.logIfLoggedOut=function(){};b.logError=function(a){};b.logErrorWarn=function(a){};b.logWarn=function(a){};b.debugTrace=function(a){};b.bumpCounter=function(a){};b.getBrowserConnectivity=function(){return!0};return a}(),i=new e();function a(a){i.setIsUserLoggedInNow(a)}g.MqttGkNames=b;g.Env=i;g.setIsUserLoggedInNow=a}),98);
__d("IrisSubscribeChecker",["IrisSubscribeCheckerUtils","MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=null,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=d("IrisSubscribeCheckerUtils").getIrisSubscribeCheckerInitialRunningState(),this.$7=0,this.$8=a}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=d("MqttEnv").Env.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onConnectionDisconnect=function(){};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(d("MqttEnv").Env.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();g["default"]=a}),98);
__d("MqttGlobalStreamCounter",["CrossWindowEventEmitter","MqttEnv","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={totalConnectionStreams:0};this.broadcastChannel=new(c("CrossWindowEventEmitter"))("MqttGlobalStreamCounter");this.broadcastChannel.addListener("count-updated",function(b){b=JSON.parse(String(b));var c=!1;a.otherTabs.has(b.key)||(c=!0);b.event==="DELETE"?a.otherTabs["delete"](b.key):b.event==="UPDATE"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$1())});this.tabID=c("uuidv4")()}var b=a.prototype;b.streamRequested=function(){this.thisTab.totalConnectionStreams++,this.$1()};b.streamClosed=function(){this.thisTab.totalConnectionStreams>0&&(this.thisTab.totalConnectionStreams--,this.$1())};b.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:"DELETE"};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.getGlobalState=function(){var a={totalConnectionStreams:this.thisTab.totalConnectionStreams};this.otherTabs.forEach(function(b){a.totalConnectionStreams+=b.totalConnectionStreams});return a};b.$1=function(){var a={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.isEnabled=function(){return!0};return a}();var h=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter)?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{totalConnectionStreams:-1}},isEnabled:function(){return!1}};b=function(){return h};g.getInstance=b}),98);
__d("MqttAnalyticsHook",["MqttEnv","MqttGlobalStreamCounter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=d("MqttGlobalStreamCounter").getInstance(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$1.bumpCounter("session_start"),d("MqttEnv").Env.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt"),this.$2.streamRequested()};b.onConnectFailure=function(){this.$4++,this.$1.bumpCounter("ws_connect_failure"),this.$1.debugTrace("connect","Connect failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")};b.onConnectSuccess=function(){this.$3===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$3++,this.$1.bumpCounter("ws_connect_success")};b.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")};b.onConnectionDisconnect=function(){this.$2.streamClosed()};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter("ws_publish."+a)};b.onMessage=function(a){this.$1.bumpCounter("message_arrived."+a)};b.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")};b.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send"),this.$2.streamRequested()};b.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$5===0&&this.$1.bumpCounter("polling_first_success"),this.$5++};b.onPollResponse=function(a){this.$1.bumpCounter("lp.message_arrived."+a)};b.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish"),this.$2.streamRequested()};b.onPollRequestFailed=function(a){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+a),this.$6++,this.$1.debugTrace("PollRequest","Request failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onPollShutdownAbort=function(){this.$2.streamClosed()};b.onTabClose=function(){this.$2.tabClosed()};return a}();g["default"]=a}),98);
__d("MqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt==null||a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure==null||a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected==null||a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess==null||a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost==null||a.onConnectionLost()})};b.onConnectionDisconnect=function(){this.$1.forEach(function(a){a.onConnectionDisconnect==null||a.onConnectionDisconnect()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe==null||b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe==null||b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish==null||b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage==null||b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal==null||a.onWSFatal()})};return a}();f["default"]=a}),66);
__d("MqttProtocolUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function b(a,b){b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{offset:b,value:c}}function c(a){a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function e(a,b){return 256*a[b]+a[b+1]}function f(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function i(a,b,c,d){d=h(b,c,d);j(a,c,d);return d+b}function j(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function k(a,b,c){var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}var l=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$5=c,this.$6=d,this.$4=!1}var b=a.prototype;b.$7=function(){var a=this;this.$4?(this.$4=!1,this.$5(),this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},this.$2()*1e3)):this.$6()};b.reset=function(){var a=this;this.$4=!0;this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null);var b=this.$1()*1e3;b>0&&(this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},b))};b.cancel=function(){this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null)};return a}();g.UTF8Length=f;g.convertStringToUTF8=j;g.concatBuffers=a;g.decodeMultiByteInt=b;g.convertUTF8ToString=k;g.encodeMultiByteInt=c;g.writeUInt16BE=h;g.readUInt16BE=e;g.writeString=i;g.Pinger=l}),98);
__d("MqttUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h(a,"sid",b.toString())}function b(a,b){var c=a;b.forEach(function(a,b){c=h(c,b,a)});return c}function h(a,b,c){if(a.indexOf("?")>0)return a+"&"+b+"="+c;else return a+"?"+b+"="+c}function c(){return Math.floor(d("MqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)}function i(a,b,c){var e=arguments.length>1?a.then(b,c):a;e.then(null,function(a){d("MqttEnv").Env.setTimeout(function(){if(a instanceof Error)throw a;else throw new Error("promiseDone")},0)})}function e(a,b,c,e){var f=!1;d("MqttEnv").Env.setTimeout(function(){f||(f=!0,c(new Error("promise timeout")))},e);i(a,function(a){f||(f=!0,b(a))},function(a){f||(f=!0,c(a))})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})}g.endpointWithSessionId=a;g.endpointWithExtraParameters=b;g.endpointWithExtraParameter=h;g.generateSessionId=c;g.promiseDone=i;g.promiseDoneWithTimeout=e;g.sprintf=f}),98);
__d("MqttProtocolCodec",["MqttProtocolUtils","MqttUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14}),i=[0,6,77,81,73,115,100,112,3];function j(a,b){b=b;var e=b,f=a[b],g=f>>4;b+=1;var i=d("MqttProtocolUtils").decodeMultiByteInt(a,b);if(i==null)return{position:e,wireMessage:null};b=i.offset;i=b+i.value;if(i>a.length)return{position:e,wireMessage:null};var j;switch(g){case h.CONNACK:e=a[b++];e=!!(e&1);var o=a[b++];j=new m(e,o);break;case h.PUBLISH:e=f&15;o=e>>1&3;f=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;var r=d("MqttProtocolUtils").convertUTF8ToString(a,b,f);b+=f;f=null;o===1&&(f=d("MqttProtocolUtils").readUInt16BE(a,b),b+=2);var s=p.createWithBytes(a.subarray(b,i)),t=(e&1)===1;e=(e&8)===8;j=new q(r,s,o,f,t,e);break;case h.PINGREQ:j=new k("PINGREQ");break;case h.PINGRESP:j=new k("PINGRESP");break;case h.PUBACK:case h.UNSUBACK:r=d("MqttProtocolUtils").readUInt16BE(a,b);j=new n(g===h.PUBACK?"PUBACK":"UNSUBACK",r);break;case h.SUBACK:s=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;o=a.subarray(b,i);j=new l(s,o);break;default:throw c("err")(d("MqttUtils").sprintf("Invalid MQTT message type %s.",g))}return{position:i,wireMessage:j}}function a(a){var b=[],c=0;while(c<a.length){var d=j(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}b=function(){function a(a){this.messageType=h[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var k=function(a){function b(b){return a.call(this,b)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return b}(b);e=function(a){function b(){return a.call(this,"DISCONNECT")||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(d("MqttProtocolUtils").encodeMultiByteInt(0),1);return b};return b}(b);var l=function(a){function b(b,c){var d;d=a.call(this,"SUBACK")||this;d.messageIdentifier=b;d.returnCode=c;return d}babelHelpers.inheritsLoose(b,a);return b}(b),m=function(a){function b(b,c){var d;d=a.call(this,"CONNACK")||this;d.sessionPresent=b;d.returnCode=c;return d}babelHelpers.inheritsLoose(b,a);return b}(b),n=function(a){function b(b,c){b=a.call(this,b)||this;b.messageIdentifier=c;return b}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=d("MqttProtocolUtils").encodeMultiByteInt(b),e=c.length+1;b=new ArrayBuffer(b+e);var f=new Uint8Array(b);f[0]=a;f.set(c,1);e=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,e);return b};return b}(b);f=function(a){function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.encode=function(){var a,b=(this.messageType&15)<<4,c=i.length+3;c+=(a=d("MqttProtocolUtils")).UTF8Length(this.clientId)+2;c+=a.UTF8Length(this.connectOptions.userName)+2;var e=a.encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=b;b=1;f.set(e,1);b+=e.length;f.set(i,b);b+=i.length;e=2|128;f[b++]=e;b=a.writeUInt16BE(this.connectOptions.getKeepAliveIntervalSeconds(),f,b);b=a.writeString(this.clientId,a.UTF8Length(this.clientId),f,b);b=a.writeString(this.connectOptions.userName,a.UTF8Length(this.connectOptions.userName),f,b);return c};return b}(b);var o=function(a){function b(b,c,e,f){var g;g=a.call(this,b)||this;g.topic=c;if(e<0&&e>1||e===1&&f==null)throw new TypeError(d("MqttUtils").sprintf("Argument Invalid. qos: %s messageType: %s.",e,b));g.qos=e;g.messageIdentifier=f;return g}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4;a|=2;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=2+b+2;this.messageType===h.SUBSCRIBE&&(c+=1);var e=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;a=1;f.set(e,1);a+=e.length;this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,a));a=d("MqttProtocolUtils").writeString(this.topic,b,f,a);this.messageType===h.SUBSCRIBE&&this.qos!=null&&(f[a++]=this.qos);return c};return b}(b),p=function(){function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(d("MqttProtocolUtils").UTF8Length(b)));d("MqttProtocolUtils").convertStringToUTF8(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=d("MqttProtocolUtils").convertUTF8ToString(b,0,b.length);return new a(c,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),q=function(a){function b(b,c,d,e,f,g){var h;h=a.call(this,"PUBLISH")||this;h.topic=b;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&a!=1;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=b+2,e=this.qos===0?0:2;c+=e;e=this.payloadMessage.bytes();c+=e.byteLength;var f=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+f.length+c);var g=new Uint8Array(c);g[0]=a;g.set(f,1);a=1+f.length;a=d("MqttProtocolUtils").writeString(this.topic,b,g,a);this.qos!==0&&this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,g,a));g.set(e,a);return c};return b}(b),r=p.createWithString,s=p.createWithBytes;b={Base:b,ConnAck:m,Connect:f,Disconnect:e,Ping:k,PubAckUnsubAck:n,Publish:q,Subscription:o};g.MESSAGE_TYPE=h;g.decodeMessage=j;g.decodeByteMessages=a;g.Message=p;g.createMessageWithString=r;g.createMessageWithBytes=s;g.WireMessage=b}),98);
__d("MqttTypes",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c){this.errorCode=a,this.errorName=b,this.errorMessage=c};b=Object.freeze({APP_DISCONNECT:new a(7,"APP_DISCONNECT","Disconnect initiated by app"),BROWSER_CLOSE:new a(11,"BROWSER_CLOSE","Browser closed"),CONNACK_FAILURE:new a(5,"CONNACK_FAILURE","Connection failure due to connack"),CONNECT_TIMEOUT:new a(4,"CONNECT_TIMEOUT","Connect timed out"),INVALID_DATA_TYPE:new a(3,"INVALID_DATA_TYPE","Received non-arraybuffer from socket."),PING_TIMEOUT:new a(6,"PING_TIMEOUT","Ping timeout"),RECONNECT:new a(10,"RECONNECT","Reconnecting"),SERVER_DISCONNECT:new a(8,"SERVER_DISCONNECT","Disconnect message sent my server"),SOCKET_CLOSE:new a(9,"SOCKET_CLOSE","Socket connection closed"),SOCKET_ERROR:new a(1,"SOCKET_ERROR","Socket error"),SOCKET_MESSAGE:new a(2,"SOCKET_MESSAGE","Unable to parse invalid socket message")});c=function(a,b){this.mqttError=a,this.connAck=b};d=function(a){function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));f.MqttError=a;f.MqttErrors=b;f.ConnectFailure=c;f.MqttChannelError=d}),66);
__d("MqttProtocolClient",["ErrorSerializer","MqttEnv","MqttProtocolCodec","MqttProtocolUtils","MqttTypes","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=6e4;a=function(){function a(a){var b=this;this.$12=function(a,c,e){c===void 0&&(c=null);b.$9.bumpCounter("protocol.debug.disconnect.internal."+a.errorName);b.$9.bumpCounter("protocol.debug.disconnect.internal");var f=b.$5,g=b.$2,h=g.onConnectFailure,i=g.onConnectionLost;b.setConnected(!1);b.$14();f?d("MqttEnv").Env.scheduleCallback(function(){i(a,c)}):d("MqttEnv").Env.scheduleCallback(function(){h(b.$11,new(d("MqttTypes").ConnectFailure)(a,e!=null?e:-1),c)})};this.$13=function(a){var c=b.$6;if(c==null){b.$9.bumpCounter("protocol.socket_send.failed.socket_null.<message type>");return 0}if(c.readyState!==c.OPEN){b.$9.bumpCounter("protocol.socket_send.failed.socket_not_open.<message type>");return 0}a=a.encode();var d=a.byteLength;c.send(a);return d};this.$3=a;this.$2={getKeepAliveIntervalSeconds:function(){return 10},getKeepAliveTimeoutSeconds:function(){return 10},ignoreSubProtocol:!1,mqttVersion:3,onConnectFailure:function(a,b,c){},onConnection:function(){},onConnectionLost:function(a,b){},onConnectSuccess:function(a){},onMessageArrived:function(a,b,c){},onMessageDelivered:function(a){},userName:""};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=d("MqttEnv").Env.getLoggerInstance();this.$11=0}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw c("err")("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$7=d("MqttEnv").Env.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$12(d("MqttTypes").MqttErrors.CONNECT_TIMEOUT)},h*1e3);this.$6=d("MqttEnv").Env.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$9.debugTrace("Socket-Open","MQTTProtocolClient Socket Open"),b.$11=b.$13(new(d("MqttProtocolCodec").WireMessage.Connect)(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$12(d("MqttTypes").MqttErrors.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=d("MqttProtocolUtils").concatBuffers(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=d("MqttProtocolCodec").decodeByteMessages(a);var c=a.messages;b.$10=a.remaining;for(a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,d("MqttTypes").MqttErrors.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter("protocol.error.onmessage.parse"),b.$12(d("MqttTypes").MqttErrors.SOCKET_MESSAGE,a.message)}};this.$6.onerror=function(a){b.$9.bumpCounter("protocol.error.socket");b.$9.debugTrace("Socket-Error","MQTTProtocolClient Socket Error");a=typeof a==="object"&&a!=null&&"error"in a&&!("message"in a)?a.error:a;b.$12(d("MqttTypes").MqttErrors.SOCKET_ERROR,c("ErrorSerializer").toReadableMessage(c("getErrorSafe")(a)))};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),a.wasClean||b.$9.debugTrace("Socket-Unclean-Close","MQTTProtocolClient error code: "+a.code+" reason: "+a.reason),b.$12(d("MqttTypes").MqttErrors.SOCKET_CLOSE,a.code+" : "+a.reason)};this.$8!=null&&this.$8.cancel();this.$8=new(d("MqttProtocolUtils").Pinger)(a.getKeepAliveIntervalSeconds,a.getKeepAliveTimeoutSeconds,this.$13.bind(this,new(d("MqttProtocolCodec").WireMessage.Ping)("PINGREQ")),function(a,c){return b.$12(d("MqttTypes").MqttErrors.PING_TIMEOUT,a,c)})};b.$14=function(){var a=this;this.setConnected(!1);this.$8!=null&&this.$8.cancel();this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$6!=null&&(this.$6.onopen=function(b){a.$9.debugTrace("Socket Open After Teardown","Socket opening after teardown")},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(b){a.$9.debugTrace("Socket Close After Teardown","code: "+b.code+", reason: "+b.reason)},this.$6.close(),this.$6=null);this.$2.onConnectSuccess=function(a){};this.$2.onConnectFailure=function(a,b){};this.$2.onConnection=function(){};this.$2.onConnectionLost=function(a){};this.$2.onMessageArrived=function(a,b,c){};this.$2.onMessageDelivered=function(a){}};b.disconnect=function(a){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$14();return}this.$13(new(d("MqttProtocolCodec").WireMessage.Disconnect)());this.$9.bumpCounter("protocol.debug.disconnect");this.$12(a)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw c("err")("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("SUBSCRIBE",a,0,this.$15());this.$13(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw c("err")("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("UNSUBSCRIBE",a,0,this.$15());this.$13(a)};b.publish=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithString(b),c)};b.publishBinary=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithBytes(b),c)};b.$16=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var e=this.$15();a=new(d("MqttProtocolCodec").WireMessage.Publish)(a,b,c,e);this.$13(a);return e};b.$15=function(){++this.$4===i&&(this.$4=1);return this.$4};b.handleMessage=function(a){var b=this;switch(a.messageType){case d("MqttProtocolCodec").MESSAGE_TYPE.CONNACK:this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);if(a instanceof d("MqttProtocolCodec").WireMessage.ConnAck){var e=a;if(e.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode");this.setConnected(!1);this.$12(d("MqttTypes").MqttErrors.CONNACK_FAILURE,"connack code="+e.returnCode,e.returnCode);return}d("MqttEnv").Env.scheduleCallback(function(){b.$2.onConnectSuccess(b.$11)});this.$8!=null&&this.$8.reset()}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH:if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){var f=a;d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageArrived(f.topic,f.payloadMessage,f.qos)});e=f.messageIdentifier;this.$9.bumpCounter("protocol.publish.received");if(f.qos===1&&e!=null){e=new(d("MqttProtocolCodec").WireMessage.PubAckUnsubAck)("PUBACK",e);this.$13(e)}}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBACK:if(a instanceof d("MqttProtocolCodec").WireMessage.PubAckUnsubAck){e=a;var g=e.messageIdentifier;this.$9.bumpCounter("protocol.puback.received");d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageDelivered(g)})}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PINGRESP:this.$8!=null&&this.$8.reset();break;case d("MqttProtocolCodec").MESSAGE_TYPE.DISCONNECT:this.$12(d("MqttTypes").MqttErrors.SERVER_DISCONNECT);break;case d("MqttProtocolCodec").MESSAGE_TYPE.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case d("MqttProtocolCodec").MESSAGE_TYPE.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(c("err")("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};return a}();g["default"]=a}),98);
__d("MqttPublishListener",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NOT_CONNECTED:"NOT_CONNECTED",PUBLISH_ERROR:"PUBLISH_ERROR",QUEUED:"QUEUED",SENT:"SENT",ACKED:"ACKED",NOT_ACKED:"NOT_ACKED"});f.MqttPublishEvent=a}),66);
__d("MqttUserNameUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null?a:typeof document==="object"&&document&&document.hasFocus&&document.hasFocus()}function b(){return navigator.userAgent}f.getMqttForegroundStatus=a;f.getUserAgent=b}),66);
__d("MqttUserName",["MqttUserNameUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,e,f,g,h,i,j,k,l,m){h===void 0&&(h=null),i===void 0&&(i=""),j===void 0&&(j="websocket"),k===void 0&&(k=null),l===void 0&&(l=null),m===void 0&&(m=null),this.$1=a,this.$2=b,this.$3=c,this.$4=e,this.$5=f,this.$6=g,this.$7=d("MqttUserNameUtils").getMqttForegroundStatus(),this.$8=h,this.$9=i,this.$10=j,this.$11=k,this.$12=l,this.$13=m}var b=a.prototype;b.gen=function(a,b,c,e){e===void 0&&(e=[]);var f=d("MqttUserNameUtils").getMqttForegroundStatus(this.$7);c=c.map(function(a){a={isBase64Publish:!1,messageId:a.messageId,payload:a.payload,qos:a.qos,topic:a.topic};typeof a.payload!=="string"&&(a.payload=btoa(String.fromCharCode.apply(null,a.payload)),a.isBase64Publish=!0);return a});f={a:d("MqttUserNameUtils").getUserAgent(),asi:this.$13,aid:this.$5,aids:this.$12!=null?Object.fromEntries(this.$12):null,chat_on:this.$6,cp:this.$3,ct:this.$10,d:this.$4,dc:"",ecp:this.$2,fg:f,gas:this.$8,mqtt_sid:"",no_auto_fg:!0,p:this.$11,pack:e,php_override:this.$9,pm:c,s:a,st:b,u:this.$1};return JSON.stringify(f)};b.setForegroundState=function(a){this.$7=a};b.setChatVisibility=function(a){this.$6=a};b.getEndpointCapabilities=function(){return this.$2};b.getDeviceId=function(){return this.$4};b.setEndpointCapabilities=function(a){this.$2=a};b.getIsGuestAuthStringPresent=function(){return this.$8!==null};return a}();g["default"]=a}),98);
__d("MqttConnection",["MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=15,j=15,k=1,l=1,m=64,n="publish",o="subscribe",p="unsubscribe",q=function(a){},r=18e4,s=5*1e3,t=15,u=21;a=function(){function a(){var a=this;this.$38=function(){return a.$20};this.$39=function(){return a.$21};this.$8=!1;this.$10=d("MqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$17=new Set();this.$24=new Map();this.$12=0;this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$8=!1;this.$5="";this.$6=new(c("MqttUserName"))("",0,1,"",0,!0);this.$9=0;this.$18=0;this.$19=!1;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$25=!1;this.$26=!1;this.$27=new(c("MqttConnectionHookCollection"))();this.$4=function(){return[]};this.$20=i;this.$21=j;this.$22=null;this.$23=0}var e=a.prototype;e.run=function(a){var b=this,c=a.endpoint,d=a.extraConnectMessageProvider,e=a.mqttUserName,f=a.onJSError,g=a.onMessageReceived,h=a.onStateChange;a=a.subscribedTopics;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=h;this.$3=g;this.$5=c;this.$6=e;this.$8=!0;this.$18=Date.now();this.$12=0;this.$13=0;this.$2=f||q;a&&a.forEach(function(a){return b.$17.add(a)});this.$4=d;this.$20=i;this.$21=j;this.$28()};e.shutdown=function(a){this.$29(a),this.$30("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};e.subscribe=function(a){this.$17.add(a);this.ensureConnected(o)&&this.$31(a);return!0};e.publish=function(a,b,c,d){return this.$32(a,b,c,d)};e.publishBinary=function(a,b,c,d){return this.$32(a,b,c,d)};e.$32=function(a,e,f,g){var i={reject:function(a){},resolve:function(){}};g!=null&&(i.listener=g);var j=new(h||(h=b("Promise")))(function(a,b){i.resolve=a,i.reject=b}),k=this.ensureConnected(n);!k?(g==null||g.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED),i.reject(c("err")("Client disconnected"))):this.$33(a,e,f,i);return j};e.unsubscribe=function(a){this.$17["delete"](a);this.ensureConnected(p)&&this.$34(a);return!0};e.addHook=function(a){this.$27.addHook(a)};e.removeHook=function(a){this.$27.removeHook(a)};e.isRunning=function(){return this.$8};e.getSessionId=function(){return this.$9};e.hasFatal=function(){return this.$25};e.hasConnectSuccess=function(){return this.$26};e.canPublish=function(){return this.ensureConnected("canPublish")};e.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};e.connectionState=function(){return this.$11};e.mqttStateFromConnectionState=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("err")("Unknown state "+a)};e.testOnlyGetSubscribedTopics=function(){return this.$17};e.getDisconnectCount=function(){return this.$23};e.$29=function(a){this.$8&&this.$7!=null&&(this.$35("Disconnected"),this.$7!=null&&(this.$7.disconnect(a),this.$27.onConnectionDisconnect()),this.$7=null)};e.$36=function(a){if(this.$11==="Connected"&&a==="Disconnected"&&this.$18===0){this.$18=Date.now();return}if(a==="Connecting"&&this.$18!==0&&!this.$19){this.$10.bumpCounter("protocol.reconnectstarted");this.$19=!0;return}if(a==="Connected"&&this.$18!==0){a=Date.now()-this.$18;switch(Math.floor(a/3e4)){case 0:this.$10.bumpCounter("protocol.reconnectedwithin30s");break;case 1:this.$10.bumpCounter("protocol.reconnectedwithin60s");break;case 2:this.$10.bumpCounter("protocol.reconnectedwithin90s");break;case 3:this.$10.bumpCounter("protocol.reconnectedwithin120s");break;default:this.$10.bumpCounter("protocol.reconnectedmorethan120s");break}this.$18=0;this.$19=!1;return}};e.$35=function(a){a!==this.$11&&(this.$10.debugTrace("MQTTConnection-updateState","State changed to: "+a),this.$36(a),this.$11=a,this.$1(a))};e.$28=function(){var a=this;if(!this.$8)return;this.$11!=="Disconnected"&&this.$10.debugTrace("Reconnect","Current State not disconnected: "+this.$11);this.$35("Connecting");var b=Date.now(),e=this.$10.getBrowserConnectivity();this.$9=d("MqttUtils").generateSessionId();var f=Array.from(this.$17),g=d("MqttUtils").endpointWithSessionId(this.$5,this.$9);g=d("MqttUtils").endpointWithExtraParameter(g,"cid",this.$6.getDeviceId());try{this.$7=new(c("MqttProtocolClient"))(g);var h=this.$37(),i=h.map(function(a){return a.topic});g=this.$6.gen(this.$9,f,h);this.$7!=null&&(this.$13+=1,this.$7.connect({getKeepAliveIntervalSeconds:this.$38,getKeepAliveTimeoutSeconds:this.$39,ignoreSubProtocol:!0,mqttVersion:3,onConnectFailure:function(c,d,g){return a.$40(d,b,a.$18,f,i,e,c,g)},onConnection:function(){return a.$41(h,f)},onConnectionLost:function(b,c){return a.$42(b,c)},onConnectSuccess:function(c){return a.$43(b,a.$18,f,i,e,c)},onMessageArrived:function(b,c,d){return a.$44(b,c,d)},onMessageDelivered:function(b){return a.$45(b)},userName:g}),this.$10.bumpCounter("protocol.connectattempt"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"),this.$27.onConnectAttempt())}catch(a){this.$10.bumpCounter("js_error_in_init_exception"),this.$35("Disconnected"),this.$46(!1,!1,b,this.$18,f,[],e,null,14,"init error - "+a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$27.onWSFatal(),this.$47(new(d("MqttTypes").MqttChannelError)(!1,"ws_js_error",a),"client_init")}};e.$37=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};e.$31=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("#doSubscribe","Subscribing to "+a);this.$27.onSubscribe(a);this.$10.bumpCounter("protocol.subscribe");return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a),this.$10.bumpCounter("protocol.subscribe.error")}return!1};e.$34=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("#doUnsubscribe","Unsubscribing to "+a);this.$27.onUnsubscribe(a);this.$10.bumpCounter("protocol.unsubscribe");return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1};e.$33=function(a,b,c,e){if(this.$7!=null)try{var f;typeof b==="string"?f=this.$7.publish(a,b,c):f=this.$7.publishBinary(a,b,c);this.$10.bumpCounter("protocol.publish");b=f!=null?f:"null";this.$10.debugTrace("#doPublish","publish "+a+" with messageId:"+b+" qos:"+c);this.$27.onPublish(a);(b=e.listener)==null||b.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT);f!=null?(this.$10.bumpCounter("publish.ack_expected"),this.$24.set(f,e)):e.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);e.reject(b);this.$10.bumpCounter("protocol.publish.error");return!1}else return!1};e.$48=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$29(d("MqttTypes").MqttErrors.RECONNECT);this.$30("reconnect");this.$49();this.$9=-1;this.$16=0;a=a;a==null&&(a=k*Math.pow(2,this.$12));a=Math.max(a,l);a=Math.min(a,m);a=a*(1e3+d("MqttEnv").Env.random()*200);this.$10.debugTrace("#scheduleReconnect","Reconnect in "+a+" ms");this.$22=d("MqttEnv").Env.setTimeout(function(){b.$28()},a);this.$12+=1};e.$49=function(){var a=Date.now()-this.$16,b=this.$16!==0&&a>s,c=this.$12>t;(b||c)&&(this.$12=0);this.$16!==0&&a<=s&&this.$10.bumpCounter("short_lived_session");c&&this.$10.bumpCounter("connection_attempt_limit")};e.$46=function(a,b,c,d,e,f,g,h,i,j){a?this.$14++:this.$15++;var k=Date.now();this.$10.eventLogConnect({ackReceived:b,attemptNumber:this.$13,connectionState:this.mqttStateFromConnectionState(this.$11),connectionStatus:a,disconnectCount:this.$23,duration:k-c,errorCode:i,errorMessage:j,failTotal:this.$15,hostname:this.$5,messageSizeBytes:h,osConnectivity:g,publishes:f,sessionID:this.$9,subscribedTopics:e,successTotal:this.$14,total_duration:k-d});a&&(this.$13=0)};e.$40=function(a,b,c,d,e,f,g,h){var i=a.mqttError;h=h!=null?i.errorMessage+" - "+h:i.errorMessage;this.$10.debugTrace("connect","Connect failed "+h);this.$10.bumpCounter("protocol.onconnectfailure");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure");this.$27.onConnectFailure();this.$46(!1,a.connAck!==-1,b,c,d,e,f,g,i.errorCode,h);if(a.connAck!=null){this.$10.bumpCounter("protocol.connect_failure."+a.connAck);if(a.connAck===u){this.$48(r);return}}this.$48()};e.$41=function(a,b){var c=this;this.$10.bumpCounter("protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$27.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection");b.forEach(function(a){c.$27.onSubscribe(a)});a.forEach(function(a){c.$27.onPublish(a.topic)});this.$35("TransportConnected")};e.$43=function(a,b,c,d,e,f){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),this.$27.onConnectSuccess(),this.$26=!0,this.$35("Connected"),this.$46(!0,!0,a,b,c,d,e,f),this.$50(c),this.$16=Date.now()};e.$42=function(a,b){this.$10.bumpCounter("protocol.onconnectionlost");this.$23++;if(a.errorCode){b=b!=null?a.errorMessage+" - "+b:a.errorMessage;this.$10.eventLogDisconnect({disconnectCount:this.$23,duration:Date.now()-this.$16,errorCode:a.errorCode,errorMessage:b,sessionID:this.$9})}this.$10.debugTrace("connect","connection lost");this.$27.onConnectionLost();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost");this.$48()};e.$44=function(a,b,c){this.$10.bumpCounter("protocol.onmessagearrived");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$27.onMessage(a);try{this.$3(a,b,c)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};e.$45=function(a){this.$10.bumpCounter("protocol.onmessagedelivered");var b=a!=null?a:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+b+"}");if(a==null)return;b=this.$24.get(a);if(b==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$24["delete"](a);(a=b.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.ACKED);b.resolve();this.$10.bumpCounter("publish.ack_received")};e.$30=function(a){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+a),this.$24.forEach(function(b,e,f){(e=b.listener)==null||e.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_ACKED);b.reject(c("err")(a))}),this.$24.clear()};e.$50=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$17.has(a)||b.unsubscribe(a)});a=new Set(this.$17);a.forEach(function(a){c.has(a)||b.subscribe(a)})};e.$47=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");this.$25=!0;var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};e.setRunning_OnlyForTests=function(a){this.$8=a};return a}();g["default"]=a}),98);
__d("MqttWebSocketUtils",[],(function(a,b,c,d,e,f){"use strict";function b(){return"WebSocket"in a&&a.WebSocket!=null&&"CLOSING"in a.WebSocket.prototype}f.hasWSSupport=b}),66);
__d("isFastRefreshEnabledForCurrentDomain",[],(function(a,b,c,d,e,f){"use strict";function a(){return!1}f["default"]=a}),66);
__d("MqttChannel",["ChannelClientID","IrisSubscribeChecker","MetaConfig","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","MqttWebSocketUtils","Promise","Run","err","isFastRefreshEnabledForCurrentDomain","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=29125;a=function(){function a(a){var b=this,e=a.endpoint,f=a.pollingEndpoint,g=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;var m=a.guestAuthString;m=m===void 0?null:m;var n=a.phpOverride;n=n===void 0?"":n;var o=a.clientType;o=o===void 0?"websocket":o;var p=a.deviceId;p=p===void 0?c("ChannelClientID").getID():p;var q=a.pageId;q=q===void 0?null:q;var r=a.assetIds;r=r===void 0?null:r;a=a.appSpecificInfo;a=a===void 0?null:a;this.$11=d("MqttEnv").Env.getLoggerInstance();this.$11.setAppId(h);this.$12=new(c("MqttUserName"))(g,j,k,p,h,l,m,n,o,q,r,a);this.$1=e;this.$2=f;this.$5="Disconnected";this.$7="LPInactive";this.$6="Disconnected";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new Map();this.$10=new(c("MqttConnection"))();this.$13=null;this.$16=new(c("MqttAnalyticsHook"))();this.$15=new Map();this.$14=[];if(!d("MqttEnv").Env.isUserLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()&&(m==null||m=="")){this.$11.bumpCounter("logged_out_init");return}this.$10.addHook(this.$16);this.$10.addHook(new(c("IrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$17(i);this.$18()}var e=a.prototype;e.$17=function(a){var b=this;if(this.$10.isRunning()){this.$19("run","Connection started calling run again");return}if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled))if(c("MetaConfig")._("15")){this.$19("MqttChannel","Websocket disabled, will do long polling only");return}else if(!d("MqttWebSocketUtils").hasWSSupport()){this.$19("MqttChannel","Websocket Unavailable, will do long polling only");this.$11.bumpCounter("ws_unavailable_polling");return}this.$10.run({endpoint:this.$1,extraConnectMessageProvider:function(){return b.$20()},mqttUserName:this.$12,onJSError:function(a){b.$21(a)},onMessageReceived:function(a,c,d){b.$22(a,c,d)},onStateChange:function(a){b.$23(a)},subscribedTopics:a});this.$24()};e.$24=function(){var a=this;d("Run").onUnload(function(){a.$25(d("MqttTypes").MqttErrors.BROWSER_CLOSE)})};e.shutdown=function(){this.$25(d("MqttTypes").MqttErrors.APP_DISCONNECT)};e.$25=function(a){this.$10&&this.$10.shutdown(a),this.$13&&this.$13.shutdown(),this.$16.onTabClose()};e.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.publishBinary=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.$26=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});var e;c.qos===0?e=this.$27(a,b,c.listener):e=this.$28(a,b,c);d("MqttUtils").promiseDone(e,function(){},function(a){(a=c.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR)});return e};e.$27=function(a,b,c){return this.$29(a,b,0,c,1,null)};e.$28=function(a,c,e){var f={reject:function(a){},resolve:function(){}},g=new(h||(h=b("Promise")))(function(a,b){f.resolve=a,f.reject=b}),i=d("MqttEnv").Env.random();c={ack:f,attempt:0,options:e,payload:c,publishToken:i,startTime:Date.now(),timeoutId:null,topic:a};if(e.skipBuffer)if(this.$10.connectionState()==="Connecting"){this.$14.push(c);(a=e.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED)}else this.$30(c);else{c.timeoutId=this.$31(i);this.$15.set(i,c);(a=e.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED);this.$32(c)}return g};e.$30=function(a){a.attempt+=1,d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};e.$32=function(a){var b=this;a.attempt+=1;d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){return b.$33(a)},function(a){})};e.$29=function(a,b,e,f,g,h){var i=this,j,k,l=this.getConnectionState(),m=Date.now();!this.$10.canPublish()&&this.$13&&this.$13.canPublish()?(typeof b==="string"?j=this.$13.publish(a,b,e):j=this.$13.publishBinary(a,b,e),k="lp",f!=null&&(j=j.then(function(){return f.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT)})),this.$11.bumpCounter("try_publish_lp")):(typeof b==="string"?j=this.$10.publish(a,b,e,f):j=this.$10.publishBinary(a,b,e,f),k="ws",this.$11.bumpCounter("try_publish_ws"));c("promiseDone")(j,function(){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!0,thisAttemptStartTime:m,topic:a})},function(c){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:c!=null?c.toString():null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!1,thisAttemptStartTime:m,topic:a})});return j};e.subscribe=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeBinary=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$9.get(a);!d?(d=[b],this.$9.set(a,d)):d.push(b);return function(){var d=c.$9.get(a)||[];d=d.filter(function(a){return a!==b});c.$9.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeChannelEvents=function(a){var b=this;this.$3.push(a);return function(){b.unsubscribeChannelEvents(a)}};e.unsubscribeChannelEvents=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};e.registerExtraConnectPayloadProvider=function(a){var b=this;this.$19("MqttChannel","registerExtraConnectPayloadProvider called");this.$4.add(a);if(this.$10.isRunning()){a=a.getPublishMessages();a.forEach(function(a){typeof a.payload==="string"?b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0}):b.publishBinary(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};e.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};e.unsubscribeAll=function(a){this.$10.unsubscribe(a),this.$8["delete"](a),this.$9["delete"](a)};e.getConnectionState=function(){return this.$5};e.getLongPollingStatus=function(){return this.$7};e.getEndpoint=function(){return this.$1};e.addHook=function(a){this.$10.addHook(a)};e.removeHook=function(a){this.$10.removeHook(a)};e.testOnlyMessageReceived=function(a,b){this.$22(a,b,-1)};e.$34=function(a){var b=this.$15.get(a);b!=null&&b.timeoutId!=null&&d("MqttEnv").Env.clearTimeout(b.timeoutId);this.$15["delete"](a)};e.$31=function(a){var b=this;return d("MqttEnv").Env.setTimeout(function(a){var d=b.$15.get(a);if(!d)return;var e=d.topic;b.$11.bumpCounter("publish_timeout."+e);b.$11.debugTrace("publish_timeout","Timeout publishing topic: "+e+" publishToken: "+a);b.$34(a);d.ack.reject(c("err")("Publish Timed Out"))},i,a)};e.$33=function(a){var b=a.publishToken,c=this.$15.get(b);if(!c)return;this.$34(b);a.ack.resolve();this.$11.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);this.$11.bumpCounter("publish_success."+a.topic)};e.$22=function(a,b,c){var d=this.$8.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadString.length*2,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(d of d)try{d(b.payloadString)}catch(a){this.$11.logError(a,"Listener exception"),this.$11.bumpCounter("listener_error")}d=this.$9.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadBytes.length,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no binary listeners");else for(c of d)try{c(b.payloadBytes)}catch(a){this.$11.logError(a,"Binary Listener exception"),this.$11.bumpCounter("listener_error")}};e.$21=function(a){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?this.$11.bumpCounter("recoverable_error_skipped"):this.$11.bumpCounter("unrecoverable_error_skipped");return}a.isRecoverable?this.$11.bumpCounter("recoverable_error_not_skipped"):this.$11.bumpCounter("unrecoverable_error_not_skipped");this.$35(a)};e.$36=function(a){this.$35(a)};e.$35=function(a){for(var b of this.$3)b.onJSError&&b.onJSError(a)};e.$37=function(){var a=this;this.$14.forEach(function(b){a.$30(b),a.$11.bumpCounter("publish_from_temp_buffer."+b.topic)});this.$14=[];this.$15.forEach(function(b,c,d){a.$32(b),a.$11.bumpCounter("publish_from_buffer."+b.topic)})};e.$23=function(a){a==="Connecting"?(this.$14.forEach(function(a){a.ack.reject(c("err")("Client Reconnecting - "+a.topic))}),this.$14=[]):a==="TransportConnected"&&this.$37(),this.$19("_changeState","Connection state = "+a),this.$38(a,this.$7)};e.$39=function(a,b){this.$13&&this.$13.canPublish()&&this.$37(),this.$19("_changeLPStatus","LP status = "+a+", LP Request status = "+b),this.$38(this.$6,a)};e.$38=function(a,b){var c=this.$10.mqttStateFromConnectionState(a);this.$13&&this.$13.canPublish()&&(c="Connected");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$40(c))};e.$40=function(a){for(var b of this.$3)b.onMQTTStateChanged(a)};e.$20=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$11.logError(b,"ConnectPayload provider exception"),a.$11.bumpCounter("connectPayloadProvider_error")}});return b};e.$18=function(){var a=this;d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)&&this.$2&&this.$2!=""&&c("requireDeferred")("MqttLongPollingRunner").__setRef("MqttChannel").onReady(function(b){b=new b(a.$2,a.$12,a.$10.hasFatal(),a.$10.hasConnectSuccess(),function(b,c,d){return a.$22(b,c,d)},function(){var b=Array.from(a.$8.keys()),c=Array.from(a.$9.keys());return Array.from(new Set(b.concat(c)))},function(){return a.$20()},function(b){a.$36(b)},function(b,c){a.$39(b,c)});b.start();a.$10.addHook(b);b.addHook(a.$16);a.$13=b;a.$11.debugTrace("MqttChannel","longPollingRunner loaded")})};e.$19=function(a,b){this.$11.debugTrace(a,"Mqtt channel: "+b)};e.setForegroundState=function(a){this.$12&&this.$12.setForegroundState(a)};e.setChatVisibility=function(a){this.$12&&this.$12.setChatVisibility(a)};e.getEndpointCapabilities=function(){return this.$12.getEndpointCapabilities()};e.setEndpointCapabilities=function(a){this.$12.setEndpointCapabilities(a)};e.getConnection_OnlyForTests=function(){return this.$10};return a}();g["default"]=a}),98);
__d("MqttConfig",["MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MqttWebConfig")}),98);
__d("MqttEnvConfigStorage",["WebStorage"],(function(a,b,c,d,e,f,g){var h,i="mqtt:";function a(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();if(d){d=d.getItem(i+a);if(d!=null)return d}return b}function b(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();d&&(b==null?d.removeItem(i+a):(h||(h=c("WebStorage"))).setItemGuarded(d,i+a,b))}g.configRead=a;g.configWrite=b}),98);
__d("MqttUnifiedClientConnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744057");b=d("FalcoLoggerInternal").create("mqtt_unified_client_connect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientDisconnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744058");b=d("FalcoLoggerInternal").create("mqtt_unified_client_disconnect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientIncomingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744059");b=d("FalcoLoggerInternal").create("mqtt_unified_client_incoming_publish",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientOutgoingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744060");b=d("FalcoLoggerInternal").create("mqtt_unified_client_outgoing_publish",a);e=b;g["default"]=e}),98);
__d("MqttWsClientTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MqttWsClientLoggerConfig")}),null);
__d("MqttLogger",["ChannelClientID","FBLogger","LogHistory","MetaConfig","MqttEnv","MqttGlobalStreamCounter","MqttUnifiedClientConnectFalcoEvent","MqttUnifiedClientDisconnectFalcoEvent","MqttUnifiedClientIncomingPublishFalcoEvent","MqttUnifiedClientOutgoingPublishFalcoEvent","MqttWsClientTypedLoggerLite","NetworkStatus","ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("MetaConfig")._("99"),j="mqtt_client",k=100,l="WEBSOCKET",m=typeof window!=="undefined"?window:self,n=null,o={CLIENT_ERROR:"mqtt_client_error",CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish",PUBLISH_TIMEOUT:"mqtt_qos1_publish_timeout",SOCKET_DISCONNECT:"mqtt_protocol_error"},p={CONNECT:"connect",DISCONNECT:"disconnect",INCOMING_PUBLISH:"incoming_publish",OUTGOING_PUBLISH:"outgoing_publish"};a=function(){function a(a){this.$1=d("LogHistory").getInstance(j),this.$2=0,this.$3=Date.now(),this.$4=c("ChannelClientID").getID(),this.$7(),this.$5=d("MqttGlobalStreamCounter").getInstance(),this.$5.isEnabled()||(this.$5=null),this.$6=a}a.getInstance=function(b){n||(n=new a(b));return n};var b=a.prototype;b.setAppId=function(a){this.$2===0&&(this.$2=a)};b.eventLogConnect=function(a){var b=a.ackReceived,d=a.attemptNumber,e=a.connectionState,f=a.connectionStatus,g=a.disconnectCount,h=a.duration,i=a.errorMessage,j=a.failTotal,k=a.hostname,m=a.messageSizeBytes,n=a.osConnectivity,q=a.sessionID,r=a.successTotal;a=a.total_duration;var s=f?"success":"failed";this.bumpCounter(o.CONNECT+"."+s);s=r/(r+j);r=n&&this.getBrowserConnectivity();var t={acked:b,attempt_number:d.toString(),client_type:l,connection_state:e,disconnect_count:g.toString(),duration:h.toString(),error:i,event_type:p.CONNECT,extra_data:{connect_success_rate:s.toString(),device_id:this.$4,hostname:k,connectionStatus:f.toString(),exposure:(j=this.$6)!=null?j:""},os_connectivity:r,payload_size:m==null?void 0:m.toString(),session_id:q.toString(),total_duration:a.toString(),ws_count:(n=this.$5)==null?void 0:n.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){c("MqttUnifiedClientConnectFalcoEvent").log(function(){return t})})};b.eventLogPull=function(a){var b=a.duration,c=a.errorMessage,e=a.hostname,f=a.pullEventName,g=a.sessionID;a=a.status;a={connection_status:a,device_id:this.$4,duration:b,error_message:c,hostname:e,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),session_id:g};this.$9(f,a)};b.eventLogPullFinish=function(a){var b=a.duration,c=a.errorMessage,e=a.publishReceived,f=a.publishSent,g=a.pullEventName;a=a.sessionID;b={device_id:this.$4,duration:b,error_message:c,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),publish_received:e,publish_sent:f,session_id:a};this.$9(g,b)};b.eventLogDisconnect=function(a){var b=a.disconnectCount,d=a.duration,e=a.errorMessage;a=a.sessionID;this.bumpCounter(o.DISCONNECT);var f={client_type:l,connection_state:"Disconnected",disconnect_count:b.toString(),duration:d.toString(),error:e,event_type:p.DISCONNECT,extra_data:{device_id:this.$4,exposure:(b=this.$6)!=null?b:""},os_connectivity:this.getBrowserConnectivity(),session_id:a.toString(),ws_count:(d=this.$5)==null?void 0:d.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){c("MqttUnifiedClientDisconnectFalcoEvent").log(function(){return f})})};b.eventLogOutgoingPublish=function(a){var b=a.attempt,d=a.connectionState,e=a.disconnectCount,f=a.errorMessage,g=a.firstAttemptStartTime,h=a.payloadSizeBytes,i=a.protocol,j=a.qos,k=a.sessionID,m=a.success,n=a.thisAttemptStartTime;a=a.topic;this.bumpCounter(o.PUBLISH+"."+a);var q=Date.now(),r={acked:j===1?m:null,attempt_number:b.toString(),client_type:l,connection_state:d,disconnect_count:e.toString(),duration:(q-n).toString(),error:f,event_type:p.OUTGOING_PUBLISH,extra_data:{device_id:this.$4,protocol:i},os_connectivity:this.getBrowserConnectivity(),payload_size:h.toString(),qos:j.toString(),session_id:k.toString(),topic:a,total_duration:g!=null?(q-g).toString():null};this.$8(function(){c("MqttUnifiedClientIncomingPublishFalcoEvent").log(function(){return r})})};b.eventLogIncomingPublish=function(a){var b=a.connectionState,d=a.disconnectCount,e=a.payloadSizeBytes,f=a.qos,g=a.sessionID;a=a.topic;var h={client_type:l,connection_state:b,disconnect_count:d.toString(),event_type:p.INCOMING_PUBLISH,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),payload_size:e.toString(),qos:f.toString(),session_id:g.toString(),topic:a};b=a=="/webrtc"||a=="/rtc_multi";this.$10(function(){c("MqttUnifiedClientOutgoingPublishFalcoEvent").log(function(){return h})},50,b)};b.logError=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).mustfix(b)}catch(a){}})};b.logErrorWarn=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).warn(b)}catch(a){}})};b.logWarn=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.warn(a,b)}catch(a){}})};b.debugTrace=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.debug(a,b)}catch(a){}})};b.bumpCounter=function(a){var b=this;if(!d("Random").coinflip(k))return;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.$2!==0&&(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",b.$2+"."+a,k),(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",a,k)})};b.$9=function(a,b,e){var f=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a;b.app_id=f.$2;b.online=f.$11();var d=JSON.stringify(b);f.$1.log(a,d,{weight:e});a!==o.DISCONNECT&&c("MqttWsClientTypedLoggerLite").log(b)})};b.$10=function(a,b,c){i&&b!==0?c=c||d("Random").coinflip(b):c=!0;c&&d("MqttEnv").Env.scheduleCallback(a)};b.$8=function(a){this.$10(a,0,!1)};b.$11=function(){return m.navigator&&m.navigator.onLine!==void 0?m.navigator.onLine:!1};b.getBrowserConnectivity=function(){return c("NetworkStatus").isOnline()};b.$7=function(){var a=this;if(m.navigator&&m.navigator.onLine!==void 0){var b=function(b){b=b.online;b||a.bumpCounter("browser_disconnect")};c("NetworkStatus").onChange(b)}};return a}();g["default"]=a}),98);
__d("MqttEnvGk",["MqttEnv","MqttLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MqttEnv").MqttGkNames.mqtt_waterfall_log_client_sampling:return c("gkx")("21119");case d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled:return!0;case d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch:return c("gkx")("21120");case d("MqttEnv").MqttGkNames.mqtt_fast_lp:return!1;case d("MqttEnv").MqttGkNames.mqtt_lp_no_delay:return c("gkx")("21122");case d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling:return c("gkx")("21123");case d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter:return c("gkx")("21124");default:c("MqttLogger").getInstance().logError(new Error("unknown gk"),"Unknown GK value "+a);return!1}}g["default"]=a}),98);
__d("MqttEnvInitializer",["CurrentMessengerUser","MqttEnv","MqttEnvConfigStorage","MqttEnvGk","MqttLogger","Random","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("MqttEnv").Env.initialize(c("Random").random,d("CurrentMessengerUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance()},c("MqttEnvGk"),a!=null?a:null,null,null,d("MqttEnvConfigStorage").configRead,d("MqttEnvConfigStorage").configWrite)}b={genGk:c("MqttEnvGk"),initialize:a};g["default"]=b}),98);
__d("FBMqttChannel",["MqttChannel","MqttConfig","MqttEnvInitializer"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();b=new(c("MqttChannel"))({appId:(a=c("MqttConfig")).appID,capabilities:a.capabilities,chatVisibility:!1,clientCapabilities:a.clientCapabilities,endpoint:a.endpoint,initialSubscribedTopics:a.subscribedTopics,phpOverride:a.hostNameOverride,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid});g["default"]=b}),98);
__d("FbtLogging",["cr:1094907","cr:8828"],(function(a,b,c,d,e,f,g){"use strict";a=b("cr:1094907")==null?void 0:b("cr:1094907").logImpression;c=b("cr:8828")==null?void 0:b("cr:8828").logImpressionV2;g.logImpression=a;g.logImpressionV2=c}),98);
__d("IGDOverLSMqttChannel",["CurrentUser","Env","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c("MqttEnvInitializer").initialize();function j(a){d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);var b=c("CurrentUser").getAppID()==null?936619743392459:Number(c("CurrentUser").getAppID());return new(c("MqttChannel"))({appId:b,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!0,clientCapabilities:c("MqttWebConfig").clientCapabilities,clientType:"cookie_auth",deviceId:a,endpoint:(i||(i=c("Env"))).ig_mqtt_wss_endpoint||"wss://edge-chat.instagram.com/chat",initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:(i||(i=c("Env"))).ig_mqtt_polling_endpoint||"https://edge-chat.instagram.com/mqtt/pull",userFbid:c("CurrentUser").getPossiblyNonFacebookUserID()})}var k=null,l;function m(a){k==null&&(k=j(a));a=k;l==null||l(a);return a}function a(){return new(h||(h=b("Promise")))(function(a){k?a(m()):l=function(b){a(b)}})}function e(){k!=null&&(k.shutdown(),k=null)}g.getInstance=m;g.waitAndGetInstance=a;g.shutdownAndClear=e}),98);
__d("IntlQtEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1848815");b=d("FalcoLoggerInternal").create("intl_qt_event",a);e=b;g["default"]=e}),98);
__d("PromiseResult",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(){var a=this;this.promise=new(g||(g=b("Promise")))(function(b,c){a.$1=b,a.$2=c})}var c=a.prototype;c.resolve=function(a){this.$1(a)};c.reject=function(a){this.$2(a)};return a}();f["default"]=a}),66);
__d("MqttFetchClient",["MqttEnv","MqttProtocolCodec","MqttUserName","MqttUtils","Promise","PromiseResult"],(function(a,b,c,d,e,f,g){"use strict";var h,i="fetch_pull",j="fetch_pull_finish",k="fetch_",l=6e4,m="action",n="chunked",o="send",p="true",q=5,r=20,s=10,t=5e3,u=typeof window!=="undefined"?window:self;a=function(){function a(){this.$1="",this.$2=d("MqttEnv").Env.getLoggerInstance(),this.$3=0,this.$4="",this.$5=new(c("MqttUserName"))("",0,1,"",0,!0),this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){},this.$10=0,this.$11=0,this.$12=0,this.$13=0,this.$14="Ready",this.$15=[],this.$16=[],this.$17=null,this.$18=!1,this.$19=0}a.isSupported=function(){return typeof u.fetch==="function"};var e=a.prototype;e.run=function(a,b,c,e,f,g,h,i){var j=this;this.$1=d("MqttUtils").endpointWithSessionId(a,b);this.$3=b;this.$4=c;this.$5=e;this.$6=f;this.$7=g;this.$8=h;this.$9=i;d("MqttEnv").Env.setTimeout(function(){return j.$20()},0)};e.isTopicSupported=function(a){return!0};e.publish=function(a,b){return this.$21(a,b)};e.publishBinary=function(a,b){return this.$21(a,b)};e.$21=function(a,d){if(this.$14!=="ReceivingData"){this.$2.bumpCounter(k+"publish."+a+".invalidstate");return(h||(h=b("Promise"))).reject("not connected")}else{this.$2.bumpCounter(k+"publish."+a+".publish");var e=new(c("PromiseResult"))();a={topic:a,payload:d,promiseResult:e};this.$15.push(a);this.$22();return e.promise}};e.abort=function(){this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){}};e.$23=function(a){var b=this;a.forEach(function(a){b.$2.bumpCounter(k+"publish."+a.topic+".resolved"),a.promiseResult.resolve()});this.$12+=a.length};e.$24=function(a,b){var c=this;a.forEach(function(a){c.$2.bumpCounter(k+"publish."+a.topic+".rejected"),a.promiseResult.reject(b)})};e.$25=function(a,b,c,d){var e=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request failed. Publishes:"+e+", retry:"+c);this.$2.bumpCounter(k+"publish_request_failed");this.$14!=="ReceivingData"||c===q?(this.$24(a,d),this.$18=!1,this.$2.bumpCounter(k+"publish_request_failed_final"),this.$22()):this.$26(a,b,c+1)};e.$27=function(a,b,c,d){if(!d.ok){this.$2.bumpCounter(k+"publish_request_failed.http."+d.status);if(d.status===409){this.$19++;if(this.$19>=s){this.$2.bumpCounter(k+"409_reset");this.$28(new Error("Too many 409 errors"));return}}this.$25(a,b,c,this.$29(d));return}this.$2.bumpCounter(k+"publish_request_success");b=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request success. Publishes:"+b+", retry:"+c);this.$23(a);this.$18=!1;this.$22()};e.$22=function(){if(this.$14!=="ReceivingData")return;if(this.$18)return;if(this.$15.length===0&&this.$16.length===0)return;this.$18=!0;var a=this.$15.slice(0,r);this.$15=this.$15.slice(r,this.$15.length);this.$17!=null&&d("MqttEnv").Env.clearTimeout(this.$17);this.$17=null;var b=this.$16.slice(0,r);this.$16=this.$16.slice(r,this.$16.length);this.$26(a,b,0)};e.$26=function(a,b,c){var e=this,f=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request sent. Publishes:"+f+", retry:"+c);f=d("MqttUtils").endpointWithExtraParameter(this.$1,m,o);var g=a.map(function(a){return{topic:a.topic,payload:a.payload,qos:0,messageId:d("MqttEnv").Env.random()}});g=this.$5.gen(this.$3,[],g,b);this.$2.bumpCounter(k+"publish_request");d("MqttUtils").promiseDoneWithTimeout(u.fetch(f,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:g,keepalive:!1}),function(d){return e.$27(a,b,c,d)},function(d){return e.$25(a,b,c,d)},l)};e.$30=function(a){a=a.message;this.$2.debugTrace("FetchClient","Fetch request failed with error:"+a);this.$9(a);this.$31(!1,a);this.$2.bumpCounter(k+"error");this.$14="Error"};e.$32=function(a){var b=this;this.$2.debugTrace("FetchClient","Fetch response data received");a=d("MqttProtocolCodec").decodeByteMessages(new Uint8Array(a));a=a.messages;var c=a.filter(function(a){return a.messageType===d("MqttProtocolCodec").MESSAGE_TYPE.PINGREQ});a=a.filter(function(a){return a.messageType===d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH}).map(function(a){if(!(a instanceof d("MqttProtocolCodec").WireMessage.Publish))return{};a=a;a.qos===1&&a.messageIdentifier!=null&&(b.$16.push(a.messageIdentifier),b.$17==null&&(b.$17=d("MqttEnv").Env.setTimeout(function(){b.$22()},t)));return{topic:a.topic,payload:a.payloadMessage,qos:a.qos}});for(var e of a){var f;this.$2.bumpCounter(k+"response_"+((f=e.topic)!=null?f:"void"))}a&&a.length>0&&(this.$13+=a.length,this.$7(a));c&&c.length>0&&this.$33()};e.$33=function(){this.$2.debugTrace("FetchClient","Got server ping request"),this.$2.bumpCounter(k+"ping")};e.$28=function(a){this.$2.debugTrace("FetchClient","Fetch request ended: "+a.toString()),this.$2.bumpCounter(k+"done"),this.$34(a.message),this.$8(),this.$14="Done"};e.$35=function(a,b,c){var e=this;if(c!=null)try{this.$32(c)}catch(a){this.$28(a);this.$2.bumpCounter(k+"dataDecodeException");return}if(b){this.$28(new Error("EOF"));return}d("MqttUtils").promiseDone(a.read(),function(c){var b=c.done;c=c.value;return e.$35(a,b,c)},function(a){return e.$28(a)})};e.$36=function(a){if(!a.ok){this.$2.bumpCounter(k+"error.http."+a.status);this.$30(this.$29(a));return}a=a.body;if(!a){this.$30(new Error("Empty body"));return}a=a.getReader();this.$6();this.$2.bumpCounter(k+"success");this.$31(!0,null);this.$11=Date.now();this.$14="ReceivingData";this.$2.debugTrace("FetchClient","Fetch request success");this.$35(a,!1,null)};e.$34=function(a){this.$2.eventLogPullFinish({pullEventName:j,sessionID:this.$3,duration:Date.now()-this.$11,errorMessage:a,publishReceived:this.$13,publishSent:this.$12})};e.$31=function(a,b){this.$2.eventLogPull({pullEventName:i,sessionID:this.$3,status:a,duration:Date.now()-this.$10,hostname:this.$1,errorMessage:b})};e.$20=function(){var a=this;if(this.$14!=="Ready")return;this.$2.debugTrace("FetchClient","Sending fetch request");this.$2.bumpCounter(k+"request");this.$10=Date.now();var b=d("MqttUtils").endpointWithExtraParameter(this.$1,n,p);d("MqttUtils").promiseDoneWithTimeout(u.fetch(b,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:this.$4,keepalive:!1}),function(b){return a.$36(b)},function(b){return a.$30(b)},l)};e.$29=function(a){return new Error("Http error, status="+a.status)};return a}();g["default"]=a}),98);
__d("MqttLongPollingClient",["MqttEnv","MqttProtocolCodec","MqttUserName","Promise","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f,g){"use strict";var h,i=120*1e3,j="simple_pull",k="longpolling_";a=function(){function a(){this.$3="",this.$4=0,this.$2=d("MqttEnv").Env.getLoggerInstance(),this.$1="Ready",this.$5="",this.$6=new(c("MqttUserName"))("",0,1,"",0,!0),this.$7=function(){},this.$8=function(a){},this.$9=function(){},this.$10=function(a){},this.$11=0,this.$12=null,this.$13=new Set(["/t_ms","/messenger_sync_get_diffs","/messenger_sync_create_queue","/webrtc","/rtc_multi"])}var e=a.prototype;e.run=function(a,b,c,d,e,f,g,h){this.$3=a,this.$4=b,this.$5=c,this.$6=d,this.$7=e,this.$8=f,this.$9=g,this.$10=h,this.$14(this.$5)};e.isTopicSupported=function(a){return this.$13.has(a)};e.publish=function(a,c){return(h||(h=b("Promise"))).reject("not supported")};e.publishBinary=function(a,c){return(h||(h=b("Promise"))).reject("not supported")};e.abort=function(){this.$12!=null&&this.$12.abort("Disconnected")};e.$15=function(a,b){if(this.$1===a)return;this.$1=a;a==="Error"&&b!=null&&this.$10(b);this.$2.debugTrace("LongPollingClient","_changeStatus : "+a)};e.$16=function(a){if(this.$1!=="RequestSend")return;if(!a){this.$17("EmptyResponse",null);return}this.$7();this.$2.bumpCounter(k+"success");this.$18(!0,null);this.$15("ResponseReceived");a=d("MqttProtocolCodec").decodeByteMessages(new Uint8Array(a));a=a.messages.filter(function(a){return a instanceof d("MqttProtocolCodec").WireMessage.Publish}).map(function(a){if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){a=a;return{topic:a.topic,payload:a.payloadMessage,qos:a.qos}}else return{}});this.$8(a);this.$9()};e.$17=function(a,b){b=b!=null?b.message:"null";this.$2.debugTrace("LongPollingClient Error","Poll failed with error:"+a+", errorMsg:"+b);this.$18(!1,a+":"+b);this.$2.bumpCounter(k+"error."+a);this.$15("Error",a)};e.$18=function(a,b){this.$2.eventLogPull({pullEventName:j,sessionID:this.$4,status:a,duration:Date.now()-this.$11,hostname:this.$3,errorMessage:b})};e.$14=function(a){var b=this;if(this.$1!=="Ready"||this.$12)return;this.$2.bumpCounter(k+"request");try{this.$11=Date.now(),this.$12=new(c("XHRRequest"))(this.$3).setResponseType("arraybuffer").setRawData(a).setTransportBuilder(c("getCrossOriginTransport").withCredentials).setResponseHandler(function(a){return b.$16(a)}).setNetworkFailureHandler(function(a){b.$17("Network",a)}).setErrorHandler(function(a){b.$17("Error",a)}).setAbortHandler(function(a){b.$17("Abort",null)}).setTimeoutHandler(function(){b.$17("Timeout",null)}).setTimeout(i).send(),this.$15("RequestSend")}catch(a){this.$17("Error",a)}};return a}();g["default"]=a}),98);
__d("MqttLongPollingHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onPollRequestSent=function(){this.$1.forEach(function(a){a.onPollRequestSent()})};b.onPollRequestSuccess=function(){this.$1.forEach(function(a){a.onPollRequestSuccess()})};b.onPollResponse=function(a){this.$1.forEach(function(b){b.onPollResponse(a)})};b.onPollFinish=function(){this.$1.forEach(function(a){a.onPollFinish()})};b.onPollRequestFailed=function(a){this.$1.forEach(function(b){b.onPollRequestFailed(a)})};b.onPollShutdownAbort=function(){this.$1.forEach(function(a){a.onPollShutdownAbort()})};return a}();f["default"]=a}),66);
__d("exponentialBackoff",["MqttEnv"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=null);var c=null,e=0;function f(){for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];var i=function(){a.apply(b,g)};if(c===null){var j=Math.max(0,Math.pow(2,Math.min(e,6))*(1e3+d("MqttEnv").Env.random()*100)-2e3);c=d("MqttEnv").Env.setTimeout(function(){i(),c=null},j)}e++}f.reset=function(){e=0,c!=null&&(d("MqttEnv").Env.clearTimeout(c),c=null)};f.isPending=function(){return c!=null};return f}g["default"]=a}),98);
__d("MqttLongPollingRunner",["MqttEnv","MqttFetchClient","MqttLongPollingClient","MqttLongPollingHookCollection","MqttTypes","MqttUtils","MqttWebSocketUtils","Promise","exponentialBackoff"],(function(a,b,c,d,e,f,g){"use strict";var h,i=4,j=1e3,k=3e3,l="mqtt_should_longpoll",m="last_lp",n="yes",o="no";a=function(){function a(a,b,e,f,g,h,i,j,k){var l=this;this.$23=function(){try{if(!l.$30())return;l.$5.debugTrace("LongPollingRunner","_startPollingIfNecessary called");var a=l.$31();l.$14=a;var b=l.$9(),c=l.$10();b=b.filter(function(b){return a.isTopicSupported(b)});c=c.filter(function(b){return a.isTopicSupported(b.topic)});if(b.length===0&&c.length===0){l.$5.debugTrace("LongPollingRunner","Poll skipped, nothing to do");l.$14=null;d("MqttEnv").Env.setTimeout(function(){l.$23()},1e3);return}var e=d("MqttUtils").generateSessionId();a.run(l.$6,e,l.$7.gen(e,b,c),l.$7,function(){return l.$32()},function(a){return l.$33(a)},function(){return l.$34()},function(a){return l.$35(a)});l.$19.onPollRequestSent();e=b.join(",");b=c.map(function(a){return a.topic}).join(",");l.$5.debugTrace("LongPollingRunner","Making a poll request to "+l.$6+". SubscribedTopics:"+e+". Publishes:"+b)}catch(a){a&&l.$5.logErrorWarn(a,"lp_js_error"),l.$11(new(d("MqttTypes").MqttChannelError)(!1,"js error lp",a)),l.$35("lp_js_error")}};this.$6=a;this.$7=b;this.$1=f;this.$2=0;this.$3=e;this.$4=d("MqttWebSocketUtils").hasWSSupport();this.$5=d("MqttEnv").Env.getLoggerInstance();this.$8=g;this.$9=h;this.$10=i;this.$11=j;this.$12=k;this.$13=!1;this.$14=null;this.$15="LPInactive";this.$16="NotSent";this.$17=0;this.$19=new(c("MqttLongPollingHookCollection"))();this.$18=c("exponentialBackoff")(this.$23,this);this.$20=0;this.$21=o;a=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch);b=c("MqttFetchClient").isSupported();a?this.$5.bumpCounter("fetch_gk_pass"):this.$5.bumpCounter("fetch_gk_fail");b?this.$5.bumpCounter("fetch_api_supported"):this.$5.bumpCounter("fetch_api_not_supported");this.$22=a&&b}var e=a.prototype;e.addHook=function(a){this.$19.addHook(a)};e.start=function(){var a=this;this.$21=d("MqttEnv").Env.configRead(m,o);this.$5.debugTrace("LongPollingRunner","Runner loaded, last status "+this.$21);this.$20=Date.now();this.$23();d("MqttEnv").Env.setTimeout(function(){a.$23()},j+100);d("MqttEnv").Env.setTimeout(function(){a.$23()},k+100)};e.shutdown=function(){this.$5.debugTrace("LongPollingRunner","Shutdown called"),this.$14&&this.$14.abort(),this.$19.onPollShutdownAbort(),this.$14=null};e.canPublish=function(){return this.$15==="LPActive"&&this.$16==="ReceivingData"};e.publish=function(a,b,c){return this.$24(a,b)};e.publishBinary=function(a,b,c){return this.$24(a,b)};e.$24=function(a,c){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling)&&(this.$14&&this.$14.isTopicSupported(a)))if(typeof c==="string")return this.$14.publish(a,c);else return this.$14.publishBinary(a,c);return(h||(h=b("Promise"))).reject()};e.onConnectAttempt=function(){};e.onConnectFailure=function(){this.$2++,this.$23()};e.onConnected=function(){};e.onConnectSuccess=function(){this.$1=!0,d("MqttEnv").Env.configWrite(m,null)};e.onConnectionLost=function(){};e.onConnectionDisconnect=function(){};e.onSubscribe=function(a){};e.onUnsubscribe=function(a){};e.onPublish=function(a){};e.onMessage=function(a){};e.onWSFatal=function(){this.$3=!0,this.$23()};e.getStatus=function(){return this.$15};e.getRequestStatus=function(){return this.$16};e.$25=function(a){a!==this.$15&&(this.$5.debugTrace("LongPollingRunner","status changed to "+a+" from "+this.$15),this.$15=a,this.$12(this.$15,this.$16))};e.$26=function(a){if(!this.$22)return;a!==this.$16&&(this.$5.debugTrace("LongPollingRunner","request status changed to "+a+" from "+this.$16),this.$16=a,this.$12(this.$15,this.$16))};e.$27=function(){this.$17=0};e.$28=function(){this.$17++,this.$17>=i&&this.$25("LPError")};e.$29=function(){var a,b=(a=d("MqttEnv")).Env.genGk(a.MqttGkNames.mqtt_lp_no_delay),c=a.Env.genGk(a.MqttGkNames.mqtt_ws_polling_enabled);a=a.Env.genGk(a.MqttGkNames.mqtt_fast_lp);this.$5.debugTrace("LongPollingRunner","_shouldPoll? pollNow:"+String(b)+" enabled:"+String(c)+" fastPoll:"+String(a)+" hasWSSupport:"+String(this.$4)+" hasWsSuccessBefore:"+String(this.$1)+" failureCount:"+this.$2+" wsFatal:"+String(this.$3));if(!c)return!1;if(b){this.$5.bumpCounter(l+".nd");return!0}if(!this.$4){this.$5.bumpCounter(l+".na");return!0}if(this.$3){this.$5.bumpCounter(l+".fatal");return!0}if(this.$1)return!1;if(a){c=Date.now()-this.$20;if(this.$21===n){if(this.$2>=1)return!0;if(c>j){this.$5.bumpCounter(l+".fastdelay");return!0}}else if(c>k){this.$5.bumpCounter(l+".regulardelay");return!0}}if(this.$2>=3){this.$5.bumpCounter(l+".failure");return!0}return!1};e.$30=function(){if(this.$14!=null)return!1;var a=this.$29();!this.$13&&a&&(this.$5.bumpCounter("polling_kickin"),this.$13=!0,this.$25("LPActive"),this.$27());this.$13&&!a&&(this.$5.bumpCounter("polling_stopped"),this.$13=!1,this.$25("LPInactive"),this.$27());return a};e.$31=function(){if(this.$22){this.$5.debugTrace("LongPollingRunner","Creating polling client using Fetch API");return new(c("MqttFetchClient"))()}else{this.$5.debugTrace("LongPollingRunner","Creating regular Polling client");return new(c("MqttLongPollingClient"))()}};e.$32=function(){this.$5.debugTrace("LongPollingRunner","Poll success"),this.$19.onPollRequestSuccess(),this.$18.reset(),this.$25("LPActive"),this.$27(),d("MqttEnv").Env.configWrite(m,n),this.$26("ReceivingData")};e.$33=function(a){var b=a.map(function(a){return a.topic}).join(",");this.$5.debugTrace("LongPollingRunner","Poll response received, message received:"+b);for(b of a)this.$19.onPollResponse(b.topic),this.$8(b.topic,b.payload,b.qos)};e.$34=function(){this.$5.debugTrace("LongPollingRunner","Poll finish"),this.$19.onPollFinish(),this.$14&&this.$14.abort(),this.$14=null,this.$23(),this.$26("NotSent")};e.$35=function(a){this.$19.onPollRequestFailed(a),this.$14&&this.$14.abort(),this.$14=null,this.$18(),this.$28(),this.$26("NotSent")};return a}();g["default"]=a}),98);
__d("ZenonSignalingProtocol",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({MW:"mw",MWPP:"mw++"});c=a;f["default"]=c}),66);
__d("bumpVultureJSHash",["ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){(h||(h=d("ODS"))).bumpEntityKey(7506,"vulture_js",a,b)}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/yKsQCAUqcFZ/
 */
__d("dexie-4.0.1",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():(b=typeof globalThis!=="undefined"?globalThis:b||self,b.Dexie=c())})(this,function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return b(a,c)};function c(a,c){if(typeof c!=="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");b(a,c);function d(){this.constructor=a}a.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d())}var d=function(){d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return d.apply(this,arguments)};function e(a,b,c){if(c||arguments.length===2)for(var d=0,e=b.length,f;d<e;d++)(f||!(d in b))&&(f||(f=Array.prototype.slice.call(b,0,d)),f[d]=b[d]);return a.concat(f||Array.prototype.slice.call(b))}var f=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:a,g=Object.keys,h=Array.isArray;typeof Promise!=="undefined"&&!f.Promise&&(f.Promise=Promise);function i(a,b){if(typeof b!=="object")return a;g(b).forEach(function(c){a[c]=b[c]});return a}var j=Object.getPrototypeOf,k={}.hasOwnProperty;function l(a,b){return k.call(a,b)}function m(a,b){typeof b==="function"&&(b=b(j(a))),(typeof Reflect==="undefined"?g:Reflect.ownKeys)(b).forEach(function(c){o(a,c,b[c])})}var n=Object.defineProperty;function o(a,b,c,d){n(a,b,i(c&&l(c,"get")&&typeof c.get==="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function p(a){return{from:function(b){a.prototype=Object.create(b.prototype);o(a.prototype,"constructor",a);return{extend:m.bind(null,a.prototype)}}}}var q=Object.getOwnPropertyDescriptor;function r(a,b){var c=q(a,b);return c||(c=j(a))&&r(c,b)}var s=[].slice;function t(a,b,c){return s.call(a,b,c)}function u(a,b){return b(a)}function v(a){if(!a)throw new Error("Assertion Failed")}function aa(a){f.setImmediate?setImmediate(a):setTimeout(a,0)}function ba(a,b){return a.reduce(function(a,c,d){c=b(c,d);c&&(a[c[0]]=c[1]);return a},{})}function w(a,b){if(typeof b==="string"&&l(a,b))return a[b];if(!b)return a;if(typeof b!=="string"){var c=[];for(var d=0,e=b.length;d<e;++d){var f=w(a,b[d]);c.push(f)}return c}f=b.indexOf(".");if(f!==-1){d=a[b.substr(0,f)];return d==null?void 0:w(d,b.substr(f+1))}return void 0}function x(a,b,c){if(!a||b===void 0)return;if("isFrozen"in Object&&Object.isFrozen(a))return;if(typeof b!=="string"&&"length"in b){v(typeof c!=="string"&&"length"in c);for(var d=0,e=b.length;d<e;++d)x(a,b[d],c[d])}else{d=b.indexOf(".");if(d!==-1){e=b.substr(0,d);d=b.substr(d+1);if(d==="")c===void 0?h(a)&&!isNaN(parseInt(e))?a.splice(e,1):delete a[e]:a[e]=c;else{var f=a[e];(!f||!l(a,e))&&(f=a[e]={});x(f,d,c)}}else c===void 0?h(a)&&!isNaN(parseInt(b))?a.splice(b,1):delete a[b]:a[b]=c}}function ca(a,b){typeof b==="string"?x(a,b,void 0):"length"in b&&[].map.call(b,function(b){x(a,b,void 0)})}function da(a){var b={};for(var c in a)l(a,c)&&(b[c]=a[c]);return b}var ea=[].concat;function fa(a){return ea.apply([],a)}var y="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(fa([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(b){return b+a+"Array"})}))).filter(function(a){return f[a]}),ga=new Set(y.map(function(a){return f[a]}));function ha(a){var b={};for(var c in a)if(l(a,c)){var d=a[c];b[c]=!d||typeof d!=="object"||ga.has(d.constructor)?d:ha(d)}return b}function ia(a){for(var b in a)if(l(a,b))return!1;return!0}var ja=null;function z(a){ja=new WeakMap();a=ka(a);ja=null;return a}function ka(a){if(!a||typeof a!=="object")return a;var b=ja.get(a);if(b)return b;if(h(a)){b=[];ja.set(a,b);for(var c=0,d=a.length;c<d;++c)b.push(ka(a[c]))}else if(ga.has(a.constructor))b=a;else{c=j(a);b=c===Object.prototype?{}:Object.create(c);ja.set(a,b);for(d in a)l(a,d)&&(b[d]=ka(a[d]))}return b}var la={}.toString;function ma(a){return la.call(a).slice(8,-1)}var na=typeof Symbol!=="undefined"?Symbol.iterator:"@@iterator",oa=typeof na==="symbol"?function(a){var b;return a!=null&&(b=a[na])&&b.apply(a)}:function(){return null};function A(a,b){b=a.indexOf(b);b>=0&&a.splice(b,1);return b>=0}var pa={};function B(a){var b,c,d,e;if(arguments.length===1){if(h(a))return a.slice();if(this===pa&&typeof a==="string")return[a];if(e=oa(a)){c=[];while(d=e.next(),!d.done)c.push(d.value);return c}if(a==null)return[a];b=a.length;if(typeof b==="number"){c=new Array(b);while(b--)c[b]=a[b];return c}return[a]}b=arguments.length;c=new Array(b);while(b--)c[b]=arguments[b];return c}var qa=typeof Symbol!=="undefined"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1};y=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"];var C=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"];y=y.concat(C);var ra={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function sa(a,b){this.name=a,this.message=b}p(sa).from(Error).extend({toString:function(){return this.name+": "+this.message}});function ta(a,b){return a+". Errors: "+Object.keys(b).map(function(a){return b[a].toString()}).filter(function(a,b,c){return c.indexOf(a)===b}).join("\n")}function ua(a,b,c,d){this.failures=b,this.failedKeys=d,this.successCount=c,this.message=ta(a,b)}p(ua).from(sa);function va(a,b){this.name="BulkError",this.failures=Object.keys(b).map(function(a){return b[a]}),this.failuresByPos=b,this.message=ta(a,this.failures)}p(va).from(sa);var wa=y.reduce(function(a,b){return a[b]=b+"Error",a},{}),xa=sa,D=y.reduce(function(b,c){var d=c+"Error";function a(a,b){this.name=d,!a?(this.message=ra[c]||d,this.inner=null):typeof a==="string"?(this.message="".concat(a).concat(b?"\n "+b:""),this.inner=b||null):typeof a==="object"&&(this.message="".concat(a.name," ").concat(a.message),this.inner=a)}p(a).from(xa);b[c]=a;return b},{});D.Syntax=SyntaxError;D.Type=TypeError;D.Range=RangeError;var ya=C.reduce(function(a,b){a[b+"Error"]=D[b];return a},{});function za(a,b){if(!a||a instanceof sa||a instanceof TypeError||a instanceof SyntaxError||!a.name||!ya[a.name])return a;b=new ya[a.name](b||a.message,a);"stack"in a&&o(b,"stack",{get:function(){return this.inner.stack}});return b}C=y.reduce(function(a,b){["Syntax","Type","Range"].indexOf(b)===-1&&(a[b+"Error"]=D[b]);return a},{});C.ModifyError=ua;C.DexieError=sa;C.BulkError=va;function E(){}function Aa(a){return a}function Ba(a,b){return a==null||a===Aa?b:function(c){return b(a(c))}}function F(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function Ca(a,b){return a===E?b:function(){var c=a.apply(this,arguments);c!==void 0&&(arguments[0]=c);var d=this.onsuccess,e=this.onerror;this.onsuccess=null;this.onerror=null;var f=b.apply(this,arguments);d&&(this.onsuccess=this.onsuccess?F(d,this.onsuccess):d);e&&(this.onerror=this.onerror?F(e,this.onerror):e);return f!==void 0?f:c}}function Da(a,b){return a===E?b:function(){a.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null;b.apply(this,arguments);c&&(this.onsuccess=this.onsuccess?F(c,this.onsuccess):c);d&&(this.onerror=this.onerror?F(d,this.onerror):d)}}function Ea(a,b){return a===E?b:function(c){var d=a.apply(this,arguments);i(c,d);var e=this.onsuccess,f=this.onerror;this.onsuccess=null;this.onerror=null;var g=b.apply(this,arguments);e&&(this.onsuccess=this.onsuccess?F(e,this.onsuccess):e);f&&(this.onerror=this.onerror?F(f,this.onerror):f);return d===void 0?g===void 0?void 0:g:i(d,g)}}function Fa(a,b){return a===E?b:function(){return b.apply(this,arguments)===!1?!1:a.apply(this,arguments)}}function Ga(a,b){return a===E?b:function(){var c=a.apply(this,arguments);if(c&&typeof c.then==="function"){var d=this,e=arguments.length,f=new Array(e);while(e--)f[e]=arguments[e];return c.then(function(){return b.apply(d,f)})}return b.apply(this,arguments)}}var G=typeof location!=="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ha(a,b){G=a}var Ia={},Ja=100;y=typeof Promise==="undefined"?[]:function(){var a=Promise.resolve();if(typeof crypto==="undefined"||!crypto.subtle)return[a,j(a),a];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,j(b),a]}();var Ka=y[0],H=y[1];y=y[2];H=H&&H.then;var La=Ka&&Ka.constructor,Ma=!!y;function Na(){queueMicrotask(db)}var Oa=function(a,b){Ua.push([a,b]),Qa&&(Na(),Qa=!1)},Pa=!0,Qa=!0,Ra=[],Sa=[],Ta=Aa,I={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:E,pgp:!1,env:{},finalize:E},J=I,Ua=[],Va=0,Wa=[];function K(a){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");this._listeners=[];this._lib=!1;var b=this._PSD=J;if(typeof a!=="function"){if(a!==Ia)throw new TypeError("Not a function");this._state=arguments[1];this._value=arguments[2];this._state===!1&&$a(this,this._value);return}this._state=null;this._value=null;++b.ref;Za(this,a)}var Xa={get:function(){var a=J,b=ob;function c(c,d){var e=this,f=!a.global&&(a!==J||b!==ob),g=f&&!O(),h=new K(function(b,h){bb(e,new Ya(wb(c,a,f,g),wb(d,a,f,g),b,h,a))});this._consoleTask&&(h._consoleTask=this._consoleTask);return h}c.prototype=Ia;return c},set:function(a){o(this,"then",a&&a.prototype===Ia?Xa:{get:function(){return a},set:Xa.set})}};m(K.prototype,{then:Xa,_then:function(a,b){bb(this,new Ya(null,null,a,b,J))},"catch":function(b){if(arguments.length===1)return this.then(null,b);var a=arguments[0],c=arguments[1];return typeof a==="function"?this.then(null,function(b){return b instanceof a?c(b):kb(b)}):this.then(null,function(b){return b&&b.name===a?c(b):kb(b)})},"finally":function(a){return this.then(function(b){return K.resolve(a()).then(function(){return b})},function(b){return K.resolve(a()).then(function(){return kb(b)})})},timeout:function(a,b){var c=this;return a<Infinity?new K(function(d,e){var f=setTimeout(function(){return e(new D.Timeout(b))},a);c.then(d,e)["finally"](clearTimeout.bind(null,f))}):this}});typeof Symbol!=="undefined"&&Symbol.toStringTag&&o(K.prototype,Symbol.toStringTag,"Dexie.Promise");I.env=ub();function Ya(a,b,c,d,e){this.onFulfilled=typeof a==="function"?a:null,this.onRejected=typeof b==="function"?b:null,this.resolve=c,this.reject=d,this.psd=e}m(K,{all:function(){var a=B.apply(null,arguments).map(rb);return new K(function(b,c){a.length===0&&b([]);var d=a.length;a.forEach(function(e,f){return K.resolve(e).then(function(c){a[f]=c,--d||b(a)},c)})})},resolve:function(a){if(a instanceof K)return a;if(a&&typeof a.then==="function")return new K(function(b,c){a.then(b,c)});var b=new K(Ia,!0,a);return b},reject:kb,race:function(){var a=B.apply(null,arguments).map(rb);return new K(function(b,c){a.map(function(a){return K.resolve(a).then(b,c)})})},PSD:{get:function(){return J},set:function(a){return J=a}},totalEchoes:{get:function(){return ob}},newPSD:N,usePSD:vb,scheduler:{get:function(){return Oa},set:function(a){Oa=a}},rejectionMapper:{get:function(){return Ta},set:function(a){Ta=a}},follow:function(a,b){return new K(function(c,d){return N(function(b,c){var d=J;d.unhandleds=[];d.onunhandled=c;d.finalize=F(function(){var a=this;hb(function(){a.unhandleds.length===0?b():c(a.unhandleds[0])})},d.finalize);a()},b,c,d)})}});La&&(La.allSettled&&o(K,"allSettled",function(){var a=B.apply(null,arguments).map(rb);return new K(function(b){a.length===0&&b([]);var c=a.length,d=new Array(c);a.forEach(function(a,e){return K.resolve(a).then(function(a){return d[e]={status:"fulfilled",value:a}},function(a){return d[e]={status:"rejected",reason:a}}).then(function(){return--c||b(d)})})})}),La.any&&typeof AggregateError!=="undefined"&&o(K,"any",function(){var a=B.apply(null,arguments).map(rb);return new K(function(b,c){a.length===0&&c(new AggregateError([]));var d=a.length,e=new Array(d);a.forEach(function(a,f){return K.resolve(a).then(function(a){return b(a)},function(a){e[f]=a,--d||c(new AggregateError(e))})})})}));function Za(a,b){try{b(function(b){if(a._state!==null)return;if(b===a)throw new TypeError("A promise cannot be resolved with itself.");var c=a._lib&&eb();b&&typeof b.then==="function"?Za(a,function(a,c){b instanceof K?b._then(a,c):b.then(a,c)}):(a._state=!0,a._value=b,ab(a));c&&fb()},$a.bind(null,a))}catch(b){$a(a,b)}}function $a(a,b){Sa.push(b);if(a._state!==null)return;var c=a._lib&&eb();b=Ta(b);a._state=!1;a._value=b;ib(a);ab(a);c&&fb()}function ab(a){var b=a._listeners;a._listeners=[];for(var c=0,d=b.length;c<d;++c)bb(a,b[c]);c=a._PSD;--c.ref||c.finalize();Va===0&&(++Va,Oa(function(){--Va===0&&gb()},[]))}function bb(a,b){if(a._state===null){a._listeners.push(b);return}var c=a._state?b.onFulfilled:b.onRejected;if(c===null)return(a._state?b.resolve:b.reject)(a._value);++b.psd.ref;++Va;Oa(cb,[c,a,b])}function cb(a,b,c){try{var d,e=b._value;!b._state&&Sa.length&&(Sa=[]);d=G&&b._consoleTask?b._consoleTask.run(function(){return a(e)}):a(e);!b._state&&Sa.indexOf(e)===-1&&jb(b);c.resolve(d)}catch(a){c.reject(a)}finally{--Va===0&&gb(),--c.psd.ref||c.psd.finalize()}}function db(){vb(I,function(){eb()&&fb()})}function eb(){var a=Pa;Pa=!1;Qa=!1;return a}function fb(){var a,b,c;do while(Ua.length>0){a=Ua;Ua=[];c=a.length;for(b=0;b<c;++b){var d=a[b];d[0].apply(null,d[1])}}while(Ua.length>0);Pa=!0;Qa=!0}function gb(){var a=Ra;Ra=[];a.forEach(function(a){a._PSD.onunhandled.call(null,a._value,a)});a=Wa.slice(0);var b=a.length;while(b)a[--b]()}function hb(a){function b(){a(),Wa.splice(Wa.indexOf(b),1)}Wa.push(b);++Va;Oa(function(){--Va===0&&gb()},[])}function ib(a){Ra.some(function(b){return b._value===a._value})||Ra.push(a)}function jb(a){var b=Ra.length;while(b)if(Ra[--b]._value===a._value){Ra.splice(b,1);return}}function kb(a){return new K(Ia,!1,a)}function L(a,b){var c=J;return function(){var d=eb(),e=J;try{P(c,!0);return a.apply(this,arguments)}catch(a){b&&b(a)}finally{P(e,!1),d&&fb()}}}var M={awaits:0,echoes:0,id:0},lb=0,mb=[],nb=0,ob=0,pb=0;function N(b,a,c,d){var e=J,f=Object.create(e);f.parent=e;f.ref=0;f.global=!1;f.id=++pb;I.env;f.env=Ma?{Promise:K,PromiseProp:{value:K,configurable:!0,writable:!0},all:K.all,race:K.race,allSettled:K.allSettled,any:K.any,resolve:K.resolve,reject:K.reject}:{};a&&i(f,a);++e.ref;f.finalize=function(){--this.parent.ref||this.parent.finalize()};a=vb(f,b,c,d);f.ref===0&&f.finalize();return a}function qb(){M.id||(M.id=++lb);++M.awaits;M.echoes+=Ja;return M.id}function O(){if(!M.awaits)return!1;--M.awaits===0&&(M.id=0);M.echoes=M.awaits*Ja;return!0}(""+H).indexOf("[native code]")===-1&&(qb=O=E);function rb(a){if(M.echoes&&a&&a.constructor===La){qb();return a.then(function(a){O();return a},function(a){O();return Q(a)})}return a}function sb(a){++ob,(!M.echoes||--M.echoes===0)&&(M.echoes=M.awaits=M.id=0),mb.push(J),P(a,!0)}function tb(){var a=mb[mb.length-1];mb.pop();P(a,!1)}function P(a,b){var c=J;(b?M.echoes&&(!nb++||a!==J):nb&&(!--nb||a!==J))&&queueMicrotask(b?sb.bind(null,a):tb);if(a===J)return;J=a;c===I&&(I.env=ub());if(Ma){b=I.env.Promise;var d=a.env;(c.global||a.global)&&(Object.defineProperty(f,"Promise",d.PromiseProp),b.all=d.all,b.race=d.race,b.resolve=d.resolve,b.reject=d.reject,d.allSettled&&(b.allSettled=d.allSettled),d.any&&(b.any=d.any))}}function ub(){var a=f.Promise;return Ma?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function vb(a,b,c,d,e){var f=J;try{P(a,!0);return b(c,d,e)}finally{P(f,!1)}}function wb(a,b,c,d){return typeof a!=="function"?a:function(){var e=J;c&&qb();P(b,!0);try{return a.apply(this,arguments)}finally{P(e,!1),d&&queueMicrotask(O)}}}function xb(a){Promise===La&&M.echoes===0?nb===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}var Q=K.reject;function yb(a,b,c,d){if(!a.idbdb||!a._state.openComplete&&!J.letThrough&&!a._vip){if(a._state.openComplete)return Q(new D.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return Q(new D.DatabaseClosed());a.open()["catch"](E)}return a._state.dbReadyPromise.then(function(){return yb(a,b,c,d)})}else{var e=a._createTransaction(b,c,a._dbSchema);try{e.create(),a._state.PR1398_maxLoop=3}catch(e){if(e.name===wa.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0){a.close({disableAutoOpen:!1});return a.open().then(function(){return yb(a,b,c,d)})}return Q(e)}return e._promise(b,function(a,b){return N(function(){J.trans=e;return d(a,b,e)})}).then(function(a){if(b==="readwrite")try{e.idbtrans.commit()}catch(a){}return b==="readonly"?a:e._completion.then(function(){return a})})}}Ka="4.0.1";var zb=String.fromCharCode(65535),Ab=-Infinity,R="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Bb="String expected.",Cb=[],Db="__dbnames",Eb="readonly",Fb="readwrite";function Gb(a,b){return a?b?function(){return a.apply(this,arguments)&&b.apply(this,arguments)}:a:b}var Hb={type:3,lower:-Infinity,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ib(a){return typeof a==="string"&&!/\./.test(a)?function(b){b[a]===void 0&&a in b&&(b=z(b),delete b[a]);return b}:function(a){return a}}function Jb(){throw D.Type()}function S(a,b){try{var c=Mb(a),d=Mb(b);if(c!==d){if(c==="Array")return 1;if(d==="Array")return-1;if(c==="binary")return 1;if(d==="binary")return-1;if(c==="string")return 1;if(d==="string")return-1;if(c==="Date")return 1;return d!=="Date"?NaN:-1}switch(c){case"number":case"Date":case"string":return a>b?1:a<b?-1:0;case"binary":return Lb(Nb(a),Nb(b));case"Array":return Kb(a,b)}}catch(a){}return NaN}function Kb(a,b){var c=a.length,d=b.length,e=c<d?c:d;for(var f=0;f<e;++f){var g=S(a[f],b[f]);if(g!==0)return g}return c===d?0:c<d?-1:1}function Lb(a,b){var c=a.length,d=b.length,e=c<d?c:d;for(var f=0;f<e;++f)if(a[f]!==b[f])return a[f]<b[f]?-1:1;return c===d?0:c<d?-1:1}function Mb(a){var b=typeof a;if(b!=="object")return b;if(ArrayBuffer.isView(a))return"binary";b=ma(a);return b==="ArrayBuffer"?"binary":b}function Nb(a){if(a instanceof Uint8Array)return a;return ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var Ob=function(){function a(){}a.prototype._trans=function(b,c,d){var e=this._tx||J.trans,f=this.name,a=G&&typeof console!=="undefined"&&console.createTask&&console.createTask("Dexie: ".concat(b==="readonly"?"read":"write"," ").concat(this.name));function g(b,d,a){if(!a.schema[f])throw new D.NotFound("Table "+f+" not part of transaction");return c(a.idbtrans,a)}var h=eb();try{var i=e&&e.db._novip===this.db._novip?e===J.trans?e._promise(b,g,d):N(function(){return e._promise(b,g,d)},{trans:e,transless:J.transless||J}):yb(this.db,b,[this.name],g);a&&(i._consoleTask=a,i=i["catch"](function(a){console.trace(a);return Q(a)}));return i}finally{h&&fb()}};a.prototype.get=function(a,b){var c=this;if(a&&a.constructor===Object)return this.where(a).first(b);return a==null?Q(new D.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return c.core.get({trans:b,key:a}).then(function(a){return c.hook.reading.fire(a)})}).then(b)};a.prototype.where=function(a){if(typeof a==="string")return new this.db.WhereClause(this,a);if(h(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var b=g(a);if(b.length===1)return this.where(b[0]).equals(a[b[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(a){if(a.compound&&b.every(function(b){return a.keyPath.indexOf(b)>=0})){for(var c=0;c<b.length;++c)if(b.indexOf(a.keyPath[c])===-1)return!1;return!0}return!1}).sort(function(a,b){return a.keyPath.length-b.keyPath.length})[0];if(c&&this.db._maxKey!==zb){var d=c.keyPath.slice(0,b.length);return this.where(d).equals(d.map(function(b){return a[b]}))}!c&&G&&!1;var e=this.schema.idxByName,f=this.db._deps.indexedDB;function i(a,b){return f.cmp(a,b)===0}d=b.reduce(function(b,c){var d=b[0];b=b[1];var f=e[c],g=a[c];return[d||f,d||!f?Gb(b,f&&f.multi?function(a){a=w(a,c);return h(a)&&a.some(function(a){return i(g,a)})}:function(a){return i(g,w(a,c))}):b]},[null,null]);var j=d[0];d=d[1];return j?this.where(j.name).equals(a[j.keyPath]).filter(d):c?this.filter(d):this.where(b).equals("")};a.prototype.filter=function(a){return this.toCollection().and(a)};a.prototype.count=function(a){return this.toCollection().count(a)};a.prototype.offset=function(a){return this.toCollection().offset(a)};a.prototype.limit=function(a){return this.toCollection().limit(a)};a.prototype.each=function(a){return this.toCollection().each(a)};a.prototype.toArray=function(a){return this.toCollection().toArray(a)};a.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))};a.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,h(a)?"[".concat(a.join("+"),"]"):a))};a.prototype.reverse=function(){return this.toCollection().reverse()};a.prototype.mapToClass=function(a){var b=this,d=b.db,e=b.name;this.schema.mappedClass=a;a.prototype instanceof Jb&&(a=function(a){c(b,a);function b(){return a!==null&&a.apply(this,arguments)||this}Object.defineProperty(b.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0});b.prototype.table=function(){return e};return b}(a));var f=new Set();for(b=a.prototype;b;b=j(b))Object.getOwnPropertyNames(b).forEach(function(a){return f.add(a)});b=function(b){if(!b)return b;var c=Object.create(a.prototype);for(var d in b)if(!f.has(d))try{c[d]=b[d]}catch(a){}return c};this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook);this.schema.readHook=b;this.hook("reading",b);return a};a.prototype.defineClass=function(){function a(a){i(this,a)}return this.mapToClass(a)};a.prototype.add=function(a,b){var c=this,d=this.schema.primKey,e=d.auto,f=d.keyPath,g=a;f&&e&&(g=Ib(f)(a));return this._trans("readwrite",function(a){return c.core.mutate({trans:a,type:"add",keys:b!=null?[b]:null,values:[g]})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):a.lastResult}).then(function(b){if(f)try{x(a,f,b)}catch(a){}return b})};a.prototype.update=function(a,b){if(typeof a==="object"&&!h(a)){var c=w(a,this.schema.primKey.keyPath);return c===void 0?Q(new D.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(c).modify(b)}else return this.where(":id").equals(a).modify(b)};a.prototype.put=function(a,b){var c=this,d=this.schema.primKey,e=d.auto,f=d.keyPath,g=a;f&&e&&(g=Ib(f)(a));return this._trans("readwrite",function(a){return c.core.mutate({trans:a,type:"put",values:[g],keys:b!=null?[b]:null})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):a.lastResult}).then(function(b){if(f)try{x(a,f,b)}catch(a){}return b})};a.prototype["delete"]=function(a){var b=this;return this._trans("readwrite",function(c){return b.core.mutate({trans:c,type:"delete",keys:[a]})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):void 0})};a.prototype.clear=function(){var a=this;return this._trans("readwrite",function(b){return a.core.mutate({trans:b,type:"deleteRange",range:Hb})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):void 0})};a.prototype.bulkGet=function(a){var b=this;return this._trans("readonly",function(c){return b.core.getMany({keys:a,trans:c}).then(function(a){return a.map(function(a){return b.hook.reading.fire(a)})})})};a.prototype.bulkAdd=function(b,c,d){var e=this,a=Array.isArray(c)?c:void 0;d=d||(a?void 0:c);var f=d?d.allKeys:void 0;return this._trans("readwrite",function(c){var d=e.schema.primKey,g=d.auto;d=d.keyPath;if(d&&a)throw new D.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==b.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var h=b.length;g=d&&g?b.map(Ib(d)):b;return e.core.mutate({trans:c,type:"add",keys:a,values:g,wantResults:f}).then(function(a){var b=a.numFailures,c=a.results,d=a.lastResult;a=a.failures;c=f?c:d;if(b===0)return c;throw new va("".concat(e.name,".bulkAdd(): ").concat(b," of ").concat(h," operations failed"),a)})})};a.prototype.bulkPut=function(b,c,d){var e=this,a=Array.isArray(c)?c:void 0;d=d||(a?void 0:c);var f=d?d.allKeys:void 0;return this._trans("readwrite",function(c){var d=e.schema.primKey,g=d.auto;d=d.keyPath;if(d&&a)throw new D.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==b.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var h=b.length;g=d&&g?b.map(Ib(d)):b;return e.core.mutate({trans:c,type:"put",keys:a,values:g,wantResults:f}).then(function(a){var b=a.numFailures,c=a.results,d=a.lastResult;a=a.failures;c=f?c:d;if(b===0)return c;throw new va("".concat(e.name,".bulkPut(): ").concat(b," of ").concat(h," operations failed"),a)})})};a.prototype.bulkUpdate=function(b){var c=this,d=this.core,a=b.map(function(a){return a.key}),e=b.map(function(a){return a.changes}),f=[];return this._trans("readwrite",function(g){return d.getMany({trans:g,keys:a,cache:"clone"}).then(function(h){var i=[],j=[];b.forEach(function(a,b){var d=a.key;a=a.changes;var e=h[b];if(e){for(var g=0,k=Object.keys(a);g<k.length;g++){var l=k[g],m=a[l];if(l===c.schema.primKey.keyPath){if(S(m,d)!==0)throw new D.Constraint("Cannot update primary key in bulkUpdate()")}else x(e,l,m)}f.push(b);i.push(d);j.push(e)}});var k=i.length;return d.mutate({trans:g,type:"put",keys:i,values:j,updates:{keys:a,changeSpecs:e}}).then(function(a){var b=a.numFailures;a=a.failures;if(b===0)return k;for(var d=0,e=Object.keys(a);d<e.length;d++){var g=e[d],h=f[Number(g)];if(h!=null){var i=a[g];delete a[g];a[h]=i}}throw new va("".concat(c.name,".bulkUpdate(): ").concat(b," of ").concat(k," operations failed"),a)})})})};a.prototype.bulkDelete=function(a){var b=this,c=a.length;return this._trans("readwrite",function(c){return b.core.mutate({trans:c,type:"delete",keys:a})}).then(function(a){var d=a.numFailures,e=a.lastResult;a=a.failures;if(d===0)return e;throw new va("".concat(b.name,".bulkDelete(): ").concat(d," of ").concat(c," operations failed"),a)})};return a}();function Pb(a){var b={},c=function(d,e){if(e){var c=arguments.length,f=new Array(c-1);while(--c)f[c-1]=arguments[c];b[d].subscribe.apply(null,f);return a}else if(typeof d==="string")return b[d]};c.addEventType=f;for(var d=1,e=arguments.length;d<e;++d)f(arguments[d]);return c;function f(a,d,e){if(typeof a==="object")return i(a);d||(d=Fa);e||(e=E);var f={subscribers:[],fire:e,subscribe:function(a){f.subscribers.indexOf(a)===-1&&(f.subscribers.push(a),f.fire=d(f.fire,a))},unsubscribe:function(a){f.subscribers=f.subscribers.filter(function(b){return b!==a}),f.fire=f.subscribers.reduce(d,e)}};b[a]=c[a]=f;return f}function i(a){g(a).forEach(function(b){var c=a[b];if(h(c))f(b,a[b][0],a[b][1]);else if(c==="asap")var d=f(b,Aa,function(){var a=arguments.length,b=new Array(a);while(a--)b[a]=arguments[a];d.subscribers.forEach(function(a){aa(function(){a.apply(null,b)})})});else throw new D.InvalidArgument("Invalid event config")})}}function Qb(a,b){p(b).from({prototype:a});return b}function Rb(a){return Qb(Ob.prototype,function(b,c,d){this.db=a,this._tx=d,this.name=b,this.schema=c,this.hook=a._allTables[b]?a._allTables[b].hook:Pb(null,{creating:[Ca,E],reading:[Ba,Aa],updating:[Ea,E],deleting:[Da,E]})})}function Sb(a,b){return!(a.filter||a.algorithm||a.or)&&(b?a.justLimit:!a.replayFilter)}function Tb(a,b){a.filter=Gb(a.filter,b)}function Ub(a,b,c){var d=a.replayFilter;a.replayFilter=d?function(){return Gb(d(),b())}:b;a.justLimit=c&&!d}function Vb(a,b){a.isMatch=Gb(a.isMatch,b)}function Wb(a,b){if(a.isPrimKey)return b.primaryKey;var c=b.getIndexByKeyPath(a.index);if(!c)throw new D.Schema("KeyPath "+a.index+" on object store "+b.name+" is not indexed");return c}function Xb(a,b,c){var d=Wb(a,b.schema);return b.openCursor({trans:c,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:d,range:a.range}})}function Yb(a,b,c,d){var e=a.replayFilter?Gb(a.filter,a.replayFilter()):a.filter;if(!a.or)return Zb(Xb(a,d,c),Gb(a.algorithm,e),b,!a.keysOnly&&a.valueMapper);else{var f={},g=function(a,c,d){if(!e||e(c,d,function(a){return c.stop(a)},function(a){return c.fail(a)})){var g=c.primaryKey,h=""+g;h==="[object ArrayBuffer]"&&(h=""+new Uint8Array(g));l(f,h)||(f[h]=!0,b(a,c,d))}};return Promise.all([a.or._iterate(g,c),Zb(Xb(a,d,c),a.algorithm,g,!a.keysOnly&&a.valueMapper)])}}function Zb(a,b,c,d){var e=d?function(a,b,e){return c(d(a),b,e)}:c,f=L(e);return a.then(function(a){if(a)return a.start(function(){var c=function(){return a["continue"]()};(!b||b(a,function(a){return c=a},function(b){a.stop(b),c=E},function(b){a.fail(b),c=E}))&&f(a.value,a,function(a){return c=a});c()})})}y=Symbol();var $b=function(){function a(a){Object.assign(this,a)}a.prototype.execute=function(a){var b;b=(b=this.replacePrefix)===null||b===void 0?void 0:b[0];return b&&typeof a==="string"&&a.startsWith(b)?this.replacePrefix[1]+a.substring(b.length):a};return a}(),ac=function(){function a(){}a.prototype._read=function(a,b){var c=this._ctx;return c.error?c.table._trans(null,Q.bind(null,c.error)):c.table._trans("readonly",a).then(b)};a.prototype._write=function(a){var b=this._ctx;return b.error?b.table._trans(null,Q.bind(null,b.error)):b.table._trans("readwrite",a,"locked")};a.prototype._addAlgorithm=function(a){var b=this._ctx;b.algorithm=Gb(b.algorithm,a)};a.prototype._iterate=function(a,b){return Yb(this._ctx,a,b,this._ctx.table.core)};a.prototype.clone=function(a){var b=Object.create(this.constructor.prototype),c=Object.create(this._ctx);a&&i(c,a);b._ctx=c;return b};a.prototype.raw=function(){this._ctx.valueMapper=null;return this};a.prototype.each=function(a){var b=this._ctx;return this._read(function(c){return Yb(b,a,c,b.table.core)})};a.prototype.count=function(a){var b=this;return this._read(function(a){var c=b._ctx,d=c.table.core;if(Sb(c,!0))return d.count({trans:a,query:{index:Wb(c,d.schema),range:c.range}}).then(function(a){return Math.min(a,c.limit)});else{var e=0;return Yb(c,function(){++e;return!1},a,d).then(function(){return e})}}).then(a)};a.prototype.sortBy=function(a,b){var c=a.split(".").reverse(),d=c[0],e=c.length-1;function f(a,b){return b?f(a[c[b]],b-1):a[d]}var g=this._ctx.dir==="next"?1:-1;function h(a,b){a=f(a,e);b=f(b,e);return a<b?-g:a>b?g:0}return this.toArray(function(a){return a.sort(h)}).then(b)};a.prototype.toArray=function(a){var b=this;return this._read(function(a){var c=b._ctx;if(c.dir==="next"&&Sb(c,!0)&&c.limit>0){var d=c.valueMapper,e=Wb(c,c.table.core.schema);return c.table.core.query({trans:a,limit:c.limit,values:!0,query:{index:e,range:c.range}}).then(function(a){a=a.result;return d?a.map(d):a})}else{var f=[];return Yb(c,function(a){return f.push(a)},a,c.table.core).then(function(){return f})}},a)};a.prototype.offset=function(a){var b=this._ctx;if(a<=0)return this;b.offset+=a;Sb(b)?Ub(b,function(){var b=a;return function(a,c){if(b===0)return!0;if(b===1){--b;return!1}c(function(){a.advance(b),b=0});return!1}}):Ub(b,function(){var b=a;return function(){return--b<0}});return this};a.prototype.limit=function(a){this._ctx.limit=Math.min(this._ctx.limit,a);Ub(this._ctx,function(){var b=a;return function(a,c,d){--b<=0&&c(d);return b>=0}},!0);return this};a.prototype.until=function(a,b){Tb(this._ctx,function(c,d,e){if(a(c.value)){d(e);return b}else return!0});return this};a.prototype.first=function(a){return this.limit(1).toArray(function(a){return a[0]}).then(a)};a.prototype.last=function(a){return this.reverse().first(a)};a.prototype.filter=function(a){Tb(this._ctx,function(b){return a(b.value)});Vb(this._ctx,a);return this};a.prototype.and=function(a){return this.filter(a)};a.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)};a.prototype.reverse=function(){this._ctx.dir=this._ctx.dir==="prev"?"next":"prev";this._ondirectionchange&&this._ondirectionchange(this._ctx.dir);return this};a.prototype.desc=function(){return this.reverse()};a.prototype.eachKey=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;return this.each(function(b,c){a(c.key,c)})};a.prototype.eachUniqueKey=function(a){this._ctx.unique="unique";return this.eachKey(a)};a.prototype.eachPrimaryKey=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;return this.each(function(b,c){a(c.primaryKey,c)})};a.prototype.keys=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.key)}).then(function(){return c}).then(a)};a.prototype.primaryKeys=function(a){var b=this._ctx;if(b.dir==="next"&&Sb(b,!0)&&b.limit>0)return this._read(function(a){var c=Wb(b,b.table.core.schema);return b.table.core.query({trans:a,values:!1,limit:b.limit,query:{index:c,range:b.range}})}).then(function(a){a=a.result;return a}).then(a);b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.primaryKey)}).then(function(){return c}).then(a)};a.prototype.uniqueKeys=function(a){this._ctx.unique="unique";return this.keys(a)};a.prototype.firstKey=function(a){return this.limit(1).keys(function(a){return a[0]}).then(a)};a.prototype.lastKey=function(a){return this.reverse().firstKey(a)};a.prototype.distinct=function(){var a=this._ctx;a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var b={};Tb(this._ctx,function(a){a=a.primaryKey.toString();var c=l(b,a);b[a]=!0;return!c});return this};a.prototype.modify=function(a){var b=this,c=this._ctx;return this._write(function(d){var e;if(typeof a==="function")e=a;else{var f=g(a),h=f.length;e=function(b){var c=!1;for(var d=0;d<h;++d){var e=f[d],g=a[e],i=w(b,e);g instanceof $b?(x(b,e,g.execute(i)),c=!0):i!==g&&(x(b,e,g),c=!0)}return c}}var i=c.table.core,j=i.schema.primaryKey,k=j.outbound,l=j.extractKey,m=b.db._options.modifyChunkSize||200,n=[],o=0,p=[],q=function(a,b){var c=b.failures;b=b.numFailures;o+=a-b;for(a=0,b=g(c);a<b.length;a++){var d=b[a];n.push(c[d])}};return b.clone().primaryKeys().then(function(b){var f=function(g){var h=Math.min(m,b.length-g);return i.getMany({trans:d,keys:b.slice(g,g+h),cache:"immutable"}).then(function(j){var n=[],o=[],p=k?[]:null,r=[];for(var s=0;s<h;++s){var t=j[s],u={value:z(t),primKey:b[g+s]};e.call(u,u.value,u)!==!1&&(u.value==null?r.push(b[g+s]):!k&&S(l(t),l(u.value))!==0?(r.push(b[g+s]),n.push(u.value)):(o.push(u.value),k&&p.push(b[g+s])))}var v=Sb(c)&&c.limit===Infinity&&(typeof a!=="function"||a===bc)&&{index:c.index,range:c.range};return Promise.resolve(n.length>0&&i.mutate({trans:d,type:"add",values:n}).then(function(a){for(var b in a.failures)r.splice(parseInt(b),1);q(n.length,a)})).then(function(){return(o.length>0||v&&typeof a==="object")&&i.mutate({trans:d,type:"put",keys:p,values:o,criteria:v,changeSpec:typeof a!=="function"&&a}).then(function(a){return q(o.length,a)})}).then(function(){return(r.length>0||v&&a===bc)&&i.mutate({trans:d,type:"delete",keys:r,criteria:v}).then(function(a){return q(r.length,a)})}).then(function(){return b.length>g+h&&f(g+m)})})};return f(0).then(function(){if(n.length>0)throw new ua("Error modifying one or more objects",n,o,p);return b.length})})})};a.prototype["delete"]=function(){var a=this._ctx,b=a.range;return Sb(a)&&(a.isPrimKey||b.type===3)?this._write(function(c){var d=a.table.core.schema.primaryKey,e=b;return a.table.core.count({trans:c,query:{index:d,range:e}}).then(function(b){return a.table.core.mutate({trans:c,type:"deleteRange",range:e}).then(function(a){var c=a.failures;a.lastResult;a.results;a=a.numFailures;if(a)throw new ua("Could not delete some values",Object.keys(c).map(function(a){return c[a]}),b-a);return b-a})})}):this.modify(bc)};return a}(),bc=function(a,b){return b.value=null};function cc(a){return Qb(ac.prototype,function(b,c){this.db=a;var d=Hb,e=null;if(c)try{d=c()}catch(a){e=a}c=b._ctx;b=c.table;var f=b.hook.reading.fire;this._ctx={table:b,index:c.index,isPrimKey:!c.index||b.schema.primKey.keyPath&&c.index===b.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:Infinity,error:e,or:c.or,valueMapper:f!==Aa?f:null}})}function dc(a,b){return a<b?-1:a===b?0:1}function ec(a,b){return a>b?-1:a===b?0:1}function T(a,b,c){a=a instanceof lc?new a.Collection(a):a;a._ctx.error=c?new c(b):new TypeError(b);return a}function fc(a){return new a.Collection(a,function(){return kc("")}).limit(0)}function gc(a){return a==="next"?function(a){return a.toUpperCase()}:function(a){return a.toLowerCase()}}function hc(a){return a==="next"?function(a){return a.toLowerCase()}:function(a){return a.toUpperCase()}}function ic(b,c,d,e,a,f){var g=Math.min(b.length,e.length),h=-1;for(var i=0;i<g;++i){var j=c[i];if(j!==e[i]){if(a(b[i],d[i])<0)return b.substr(0,i)+d[i]+d.substr(i+1);if(a(b[i],e[i])<0)return b.substr(0,i)+e[i]+d.substr(i+1);return h>=0?b.substr(0,h)+c[h]+d.substr(h+1):null}a(b[i],j)<0&&(h=i)}if(g<e.length&&f==="next")return b+d.substr(b.length);return g<b.length&&f==="prev"?b.substr(0,d.length):h<0?null:b.substr(0,h)+e[h]+d.substr(h+1)}function jc(a,b,c,d){var e,f,g,h,i,j,k,l=c.length;if(!c.every(function(a){return typeof a==="string"}))return T(a,Bb);function m(a){e=gc(a);f=hc(a);g=a==="next"?dc:ec;var b=c.map(function(a){return{lower:f(a),upper:e(a)}}).sort(function(a,b){return g(a.lower,b.lower)});h=b.map(function(a){return a.upper});i=b.map(function(a){return a.lower});j=a;k=a==="next"?"":d}m("next");a=new a.Collection(a,function(){return U(h[0],i[l-1]+d)});a._ondirectionchange=function(a){m(a)};var n=0;a._addAlgorithm(function(a,c,d){var e=a.key;if(typeof e!=="string")return!1;var m=f(e);if(b(m,i,n))return!0;else{var o=null;for(var p=n;p<l;++p){var q=ic(e,m,h[p],i[p],g,j);q===null&&o===null?n=p+1:(o===null||g(o,q)>0)&&(o=q)}o!==null?c(function(){a["continue"](o+k)}):c(d);return!1}});return a}function U(a,b,c,d){return{type:2,lower:a,upper:b,lowerOpen:c,upperOpen:d}}function kc(a){return{type:1,lower:a,upper:a}}var lc=function(){function a(){}Object.defineProperty(a.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0});a.prototype.between=function(a,b,c,d){c=c!==!1;d=d===!0;try{return this._cmp(a,b)>0||this._cmp(a,b)===0&&(c||d)&&!(c&&d)?fc(this):new this.Collection(this,function(){return U(a,b,!c,!d)})}catch(a){return T(this,R)}};a.prototype.equals=function(a){return a==null?T(this,R):new this.Collection(this,function(){return kc(a)})};a.prototype.above=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(a,void 0,!0)})};a.prototype.aboveOrEqual=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(a,void 0,!1)})};a.prototype.below=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(void 0,a,!1,!0)})};a.prototype.belowOrEqual=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(void 0,a)})};a.prototype.startsWith=function(a){return typeof a!=="string"?T(this,Bb):this.between(a,a+zb,!0,!0)};a.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):jc(this,function(a,b){return a.indexOf(b[0])===0},[a],zb)};a.prototype.equalsIgnoreCase=function(a){return jc(this,function(a,b){return a===b[0]},[a],"")};a.prototype.anyOfIgnoreCase=function(){var a=B.apply(pa,arguments);return a.length===0?fc(this):jc(this,function(a,b){return b.indexOf(a)!==-1},a,"")};a.prototype.startsWithAnyOfIgnoreCase=function(){var a=B.apply(pa,arguments);return a.length===0?fc(this):jc(this,function(a,b){return b.some(function(b){return a.indexOf(b)===0})},a,zb)};a.prototype.anyOf=function(){var a=this,b=B.apply(pa,arguments),c=this._cmp;try{b.sort(c)}catch(a){return T(this,R)}if(b.length===0)return fc(this);var d=new this.Collection(this,function(){return U(b[0],b[b.length-1])});d._ondirectionchange=function(d){c=d==="next"?a._ascending:a._descending,b.sort(c)};var e=0;d._addAlgorithm(function(a,d,f){var g=a.key;while(c(g,b[e])>0){++e;if(e===b.length){d(f);return!1}}if(c(g,b[e])===0)return!0;else{d(function(){a["continue"](b[e])});return!1}});return d};a.prototype.notEqual=function(a){return this.inAnyRange([[Ab,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})};a.prototype.noneOf=function(){var a=B.apply(pa,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch(a){return T(this,R)}var b=a.reduce(function(a,b){return a?a.concat([[a[a.length-1][1],b]]):[[Ab,b]]},null);b.push([a[a.length-1],this.db._maxKey]);return this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})};a.prototype.inAnyRange=function(c,d){var e=this,a=this._cmp,f=this._ascending,g=this._descending,h=this._min,i=this._max;if(c.length===0)return fc(this);if(!c.every(function(a){return a[0]!==void 0&&a[1]!==void 0&&f(a[0],a[1])<=0}))return T(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",D.InvalidArgument);var j=!d||d.includeLowers!==!1,k=d&&d.includeUppers===!0;function b(b,c){var d=0,e=b.length;for(;d<e;++d){var f=b[d];if(a(c[0],f[1])<0&&a(c[1],f[0])>0){f[0]=h(f[0],c[0]);f[1]=i(f[1],c[1]);break}}d===e&&b.push(c);return b}var l=f;function m(a,b){return l(a[0],b[0])}var n;try{n=c.reduce(b,[]),n.sort(m)}catch(a){return T(this,R)}var o=0,p=k?function(a){return f(a,n[o][1])>0}:function(a){return f(a,n[o][1])>=0},q=j?function(a){return g(a,n[o][0])>0}:function(a){return g(a,n[o][0])>=0};function r(a){return!p(a)&&!q(a)}var s=p;d=new this.Collection(this,function(){return U(n[0][0],n[n.length-1][1],!j,!k)});d._ondirectionchange=function(a){a==="next"?(s=p,l=f):(s=q,l=g),n.sort(m)};d._addAlgorithm(function(a,b,c){var d=a.key;while(s(d)){++o;if(o===n.length){b(c);return!1}}if(r(d))return!0;else if(e._cmp(d,n[o][1])===0||e._cmp(d,n[o][0])===0)return!1;else{b(function(){l===f?a["continue"](n[o][0]):a["continue"](n[o][1])});return!1}});return d};a.prototype.startsWithAnyOf=function(){var a=B.apply(pa,arguments);if(!a.every(function(a){return typeof a==="string"}))return T(this,"startsWithAnyOf() only works with strings");return a.length===0?fc(this):this.inAnyRange(a.map(function(a){return[a,a+zb]}))};return a}();function mc(a){return Qb(lc.prototype,function(b,c,d){this.db=a;this._ctx={table:b,index:c===":id"?null:c,or:d};this._cmp=this._ascending=S;this._descending=function(a,b){return S(b,a)};this._max=function(a,b){return S(a,b)>0?a:b};this._min=function(a,b){return S(a,b)<0?a:b};this._IDBKeyRange=a._deps.IDBKeyRange;if(!this._IDBKeyRange)throw new D.MissingAPI()})}function V(a){return L(function(b){nc(b);a(b.target.error);return!1})}function nc(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var oc="storagemutated",pc="x-storagemutated-1",W=Pb(null,oc),qc=function(){function a(){}a.prototype._lock=function(){v(!J.global);++this._reculock;this._reculock===1&&!J.global&&(J.lockOwnerFor=this);return this};a.prototype._unlock=function(){v(!J.global);if(--this._reculock===0){J.global||(J.lockOwnerFor=null);while(this._blockedFuncs.length>0&&!this._locked()){var a=this._blockedFuncs.shift();try{vb(a[1],a[0])}catch(a){}}}return this};a.prototype._locked=function(){return this._reculock&&J.lockOwnerFor!==this};a.prototype.create=function(a){var b=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;v(!this.idbtrans);if(!a&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new D.DatabaseClosed(d);case"MissingAPIError":throw new D.MissingAPI(d.message,d);default:throw new D.OpenFailed(d)}if(!this.active)throw new D.TransactionInactive();v(this._completion._state===null);a=this.idbtrans=a||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):c.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}));a.onerror=L(function(c){nc(c),b._reject(a.error)});a.onabort=L(function(c){nc(c),b.active&&b._reject(new D.Abort(a.error)),b.active=!1,b.on("abort").fire(c)});a.oncomplete=L(function(){b.active=!1,b._resolve(),"mutatedParts"in a&&W.storagemutated.fire(a.mutatedParts)});return this};a.prototype._promise=function(a,b,c){var d=this;if(a==="readwrite"&&this.mode!=="readwrite")return Q(new D.ReadOnly("Transaction is readonly"));if(!this.active)return Q(new D.TransactionInactive());if(this._locked())return new K(function(e,f){d._blockedFuncs.push([function(){d._promise(a,b,c).then(e,f)},J])});else if(c)return N(function(){var a=new K(function(a,c){d._lock();var e=b(a,c,d);e&&e.then&&e.then(a,c)});a["finally"](function(){return d._unlock()});a._lib=!0;return a});else{var e=new K(function(a,c){var e=b(a,c,d);e&&e.then&&e.then(a,c)});e._lib=!0;return e}};a.prototype._root=function(){return this.parent?this.parent._root():this};a.prototype.waitFor=function(a){var b=this._root(),c=K.resolve(a);if(b._waitingFor)b._waitingFor=b._waitingFor.then(function(){return c});else{b._waitingFor=c;b._waitingQueue=[];var d=b.idbtrans.objectStore(b.storeNames[0]);(function a(){++b._spinCount;while(b._waitingQueue.length)b._waitingQueue.shift()();b._waitingFor&&(d.get(-Infinity).onsuccess=a)})()}var e=b._waitingFor;return new K(function(a,d){c.then(function(c){return b._waitingQueue.push(L(a.bind(null,c)))},function(a){return b._waitingQueue.push(L(d.bind(null,a)))})["finally"](function(){b._waitingFor===e&&(b._waitingFor=null)})})};a.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new D.Abort()))};a.prototype.table=function(a){var b=this._memoizedTables||(this._memoizedTables={});if(l(b,a))return b[a];var c=this.schema[a];if(!c)throw new D.NotFound("Table "+a+" not part of transaction");c=new this.db.Table(a,c,this);c.core=this.db.core.table(a);b[a]=c;return c};return a}();function rc(a){return Qb(qc.prototype,function(b,c,d,e,f){var g=this;this.db=a;this.mode=b;this.storeNames=c;this.schema=d;this.chromeTransactionDurability=e;this.idbtrans=null;this.on=Pb(this,"complete","error","abort");this.parent=f||null;this.active=!0;this._reculock=0;this._blockedFuncs=[];this._resolve=null;this._reject=null;this._waitingFor=null;this._waitingQueue=null;this._spinCount=0;this._completion=new K(function(a,b){g._resolve=a,g._reject=b});this._completion.then(function(){g.active=!1,g.on.complete.fire()},function(a){var b=g.active;g.active=!1;g.on.error.fire(a);g.parent?g.parent._reject(a):b&&g.idbtrans&&g.idbtrans.abort();return Q(a)})})}function sc(a,b,c,d,e,f,g){return{name:a,keyPath:b,unique:c,multi:d,auto:e,compound:f,src:(c&&!g?"&":"")+(d?"*":"")+(e?"++":"")+tc(b)}}function tc(a){return typeof a==="string"?a:a?"["+[].join.call(a,"+")+"]":""}function uc(a,b,c){return{name:a,primKey:b,indexes:c,mappedClass:null,idxByName:ba(c,function(a){return[a.name,a]})}}function vc(a){return a.length===1?a[0]:a}var wc=function(a){try{a.only([[]]);wc=function(){return[[]]};return[[]]}catch(a){wc=function(){return zb};return zb}};function xc(a){if(a==null)return function(){return void 0};else if(typeof a==="string")return yc(a);else return function(b){return w(b,a)}}function yc(a){var b=a.split(".");if(b.length===1)return function(b){return b[a]};else return function(b){return w(b,a)}}function zc(a){return[].slice.call(a)}var Ac=0;function Bc(a){return a==null?":id":typeof a==="string"?a:"[".concat(a.join("+"),"]")}function Cc(a,b,c){function d(a,b){var c=zc(a.objectStoreNames);return{schema:{name:a.name,tables:c.map(function(a){return b.objectStore(a)}).map(function(a){var b=a.keyPath,c=a.autoIncrement,d=h(b),e=b==null,f={};e={name:a.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:e,compound:d,keyPath:b,autoIncrement:c,unique:!0,extractKey:xc(b)},indexes:zc(a.indexNames).map(function(b){return a.index(b)}).map(function(b){var c=b.name,d=b.unique,e=b.multiEntry;b=b.keyPath;var a=h(b);c={name:c,compound:a,keyPath:b,unique:d,multiEntry:e,extractKey:xc(b)};f[Bc(b)]=c;return c}),getIndexByKeyPath:function(a){return f[Bc(a)]}};f[":id"]=e.primaryKey;b!=null&&(f[Bc(b)]=e.primaryKey);return e})},hasGetAll:c.length>0&&"getAll"in b.objectStore(c[0])&&!(typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function e(a){if(a.type===3)return null;if(a.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var c=a.lower,d=a.upper,e=a.lowerOpen;a=a.upperOpen;c=c===void 0?d===void 0?null:b.upperBound(d,!!a):d===void 0?b.lowerBound(c,!!e):b.bound(c,d,!!e,!!a);return c}function f(b){var c=b.name;function d(d){var f=d.trans,b=d.type,a=d.keys,g=d.values,h=d.range;return new Promise(function(d,i){d=L(d);i=f.objectStore(c);var j=i.keyPath==null,k=b==="put"||b==="add";if(!k&&b!=="delete"&&b!=="deleteRange")throw new Error("Invalid operation type: "+b);var l=(a||g||{length:1}).length;if(a&&g&&a.length!==g.length)throw new Error("Given keys array must have same length as given values array.");if(l===0)return d({numFailures:0,failures:{},results:[],lastResult:void 0});var m,n=[],o=[],p=0,q=function(a){++p,nc(a)};if(b==="deleteRange"){if(h.type===4)return d({numFailures:p,failures:o,results:[],lastResult:void 0});h.type===3?n.push(m=i.clear()):n.push(m=i["delete"](e(h)))}else{j=k?j?[g,a]:[g,null]:[a,null];var r=j[0];j=j[1];if(k)for(k=0;k<l;++k)n.push(m=j&&j[k]!==void 0?i[b](r[k],j[k]):i[b](r[k])),m.onerror=q;else for(k=0;k<l;++k)n.push(m=i[b](r[k])),m.onerror=q}var s=function(c){c=c.target.result;n.forEach(function(a,b){return a.error!=null&&(o[b]=a.error)});d({numFailures:p,failures:o,results:b==="delete"?a:n.map(function(a){return a.result}),lastResult:c})};m.onerror=function(a){q(a),s(a)};m.onsuccess=s})}function a(b){var d=b.trans,f=b.values,a=b.query,g=b.reverse,h=b.unique;return new Promise(function(b,i){b=L(b);var j=a.index,k=a.range,l=d.objectStore(c);l=j.isPrimaryKey?l:l.index(j.name);j=g?h?"prevunique":"prev":h?"nextunique":"next";var m=f||!("openKeyCursor"in l)?l.openCursor(e(k),j):l.openKeyCursor(e(k),j);m.onerror=V(i);m.onsuccess=L(function(a){var c=m.result;if(!c){b(null);return}c.___id=++Ac;c.done=!1;var e=c["continue"].bind(c),f=c.continuePrimaryKey;f&&(f=f.bind(c));var g=c.advance.bind(c);a=function(){throw new Error("Cursor not started")};var h=function(){throw new Error("Cursor not stopped")};c.trans=d;c.stop=c["continue"]=c.continuePrimaryKey=c.advance=a;c.fail=L(i);c.next=function(){var a=this,b=1;return this.start(function(){return b--?a["continue"]():a.stop()}).then(function(){return a})};c.start=function(a){var b=new Promise(function(a,b){a=L(a),m.onerror=V(b),c.fail=b,c.stop=function(b){c.stop=c["continue"]=c.continuePrimaryKey=c.advance=h,a(b)}}),d=function(){if(m.result)try{a()}catch(a){c.fail(a)}else c.done=!0,c.start=function(){throw new Error("Cursor behind last entry")},c.stop()};m.onsuccess=L(function(a){m.onsuccess=d,d()});c["continue"]=e;c.continuePrimaryKey=f;c.advance=g;d();return b};b(c)},i)})}function f(a){return function(b){return new Promise(function(f,g){f=L(f);var h=b.trans,i=b.values,j=b.limit,d=b.query,k=j===Infinity?void 0:j,l=d.index;d=d.range;h=h.objectStore(c);h=l.isPrimaryKey?h:h.index(l.name);l=e(d);if(j===0)return f({result:[]});if(a){d=i?h.getAll(l,k):h.getAllKeys(l,k);d.onsuccess=function(a){return f({result:a.target.result})};d.onerror=V(g)}else{var m=0,n=i||!("openKeyCursor"in h)?h.openCursor(l):h.openKeyCursor(l),o=[];n.onsuccess=function(a){a=n.result;if(!a)return f({result:o});o.push(i?a.value:a.primaryKey);if(++m===j)return f({result:o});a["continue"]()};n.onerror=V(g)}})}}return{name:c,schema:b,mutate:d,getMany:function(b){var d=b.trans,a=b.keys;return new Promise(function(b,e){b=L(b);var f=d.objectStore(c),g=a.length,h=new Array(g),i=0,j=0,k=function(a){a=a.target;(h[a._pos]=a.result)!=null;++j===i&&b(h)};e=V(e);for(var l=0;l<g;++l){var m=a[l];m!=null&&(m=f.get(a[l]),m._pos=l,m.onsuccess=k,m.onerror=e,++i)}i===0&&b(h)})},get:function(a){var b=a.trans,d=a.key;return new Promise(function(a,e){a=L(a);var f=b.objectStore(c);f=f.get(d);f.onsuccess=function(b){return a(b.target.result)};f.onerror=V(e)})},query:f(g),openCursor:a,count:function(b){var a=b.query,d=b.trans,f=a.index,g=a.range;return new Promise(function(a,b){var h=d.objectStore(c);h=f.isPrimaryKey?h:h.index(f.name);var i=e(g);i=i?h.count(i):h.count();i.onsuccess=L(function(b){return a(b.target.result)});i.onerror=V(b)})}}}d=d(a,c);c=d.schema;var g=d.hasGetAll;d=c.tables.map(function(a){return f(a)});var i={};d.forEach(function(a){return i[a.name]=a});return{stack:"dbcore",transaction:a.transaction.bind(a),table:function(a){var b=i[a];if(!b)throw new Error("Table '".concat(a,"' not found"));return i[a]},MIN_KEY:-Infinity,MAX_KEY:wc(b),schema:c}}function Dc(a,b){return b.reduce(function(a,b){b=b.create;return d(d({},a),b(a))},a)}function Ec(a,b,c,d){var e=c.IDBKeyRange;c.indexedDB;c=Dc(Cc(b,e,d),a.dbcore);return{dbcore:c}}function Fc(a,b){var c=b.db;c=Ec(a._middlewares,c,a._deps,b);a.core=c.dbcore;a.tables.forEach(function(b){var c=b.name;a.core.schema.tables.some(function(a){return a.name===c})&&(b.core=a.core.table(c),a[c]instanceof a.Table&&(a[c].core=b.core))})}function Gc(a,b,c,d){c.forEach(function(c){var e=d[c];b.forEach(function(b){var d=r(b,c);(!d||"value"in d&&d.value===void 0)&&(b===a.Transaction.prototype||b instanceof a.Transaction?o(b,c,{get:function(){return this.table(c)},set:function(a){n(this,c,{value:a,writable:!0,configurable:!0,enumerable:!0})}}):b[c]=new a.Table(c,e))})})}function Hc(a,b){b.forEach(function(b){for(var c in b)b[c]instanceof a.Table&&delete b[c]})}function Ic(a,b){return a._cfg.version-b._cfg.version}function Jc(a,b,c,d){var e=a._dbSchema;c.objectStoreNames.contains("$meta")&&!e.$meta&&(e.$meta=uc("$meta",Wc("")[0],[]),a._storeNames.push("$meta"));var f=a._createTransaction("readwrite",a._storeNames,e);f.create(c);f._completion["catch"](d);var h=f._reject.bind(f),i=J.transless||J;N(function(){J.trans=f;J.transless=i;if(b===0)g(e).forEach(function(a){Oc(c,a,e[a].primKey,e[a].indexes)}),Fc(a,c),K.follow(function(){return a.on.populate.fire(f)})["catch"](h);else{Fc(a,c);return Lc(a,f,b).then(function(b){return Mc(a,b,f,c)})["catch"](h)}})}function Kc(a,b){Pc(a._dbSchema,b);b.db.version%10===0&&!b.objectStoreNames.contains("$meta")&&b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var c=Sc(a,a.idbdb,b);Vc(a,a._dbSchema,b);c=Nc(c,a._dbSchema);a=function(a){if(a.change.length||a.recreate)return{value:void 0};var c=b.objectStore(a.name);a.add.forEach(function(a){G&&!1,Rc(c,a)})};for(var d=0,c=c.change;d<c.length;d++){var e=c[d];e=a(e);if(typeof e==="object")return e.value}}function Lc(a,b,c){if(b.storeNames.includes("$meta"))return b.table("$meta").get("version").then(function(a){return a!=null?a:c});else return K.resolve(c)}function Mc(a,b,c,d){var e=[],f=a._versions,h=a._dbSchema=Sc(a,a.idbdb,d);f=f.filter(function(a){return a._cfg.version>=b});if(f.length===0)return K.resolve();f.forEach(function(f){e.push(function(){var e=h,i=f._cfg.dbschema;Vc(a,e,d);Vc(a,i,d);h=a._dbSchema=i;var j=Nc(e,i);j.add.forEach(function(a){Oc(d,a[0],a[1].primKey,a[1].indexes)});j.change.forEach(function(a){if(a.recreate)throw new D.Upgrade("Not yet support for changing primary key");else{var b=d.objectStore(a.name);a.add.forEach(function(a){return Rc(b,a)});a.change.forEach(function(a){b.deleteIndex(a.name),Rc(b,a)});a.del.forEach(function(a){return b.deleteIndex(a)})}});var k=f._cfg.contentUpgrade;if(k&&f._cfg.version>b){Fc(a,d);c._memoizedTables={};var l=da(i);j.del.forEach(function(a){l[a]=e[a]});Hc(a,[a.Transaction.prototype]);Gc(a,[a.Transaction.prototype],g(l),l);c.schema=l;var m=qa(k);m&&qb();var n;i=K.follow(function(){n=k(c);if(n&&m){var a=O.bind(null,null);n.then(a,a)}});return n&&typeof n.then==="function"?K.resolve(n):i.then(function(){return n})}}),e.push(function(b){var d=f._cfg.dbschema;Qc(d,b);Hc(a,[a.Transaction.prototype]);Gc(a,[a.Transaction.prototype],a._storeNames,a._dbSchema);c.schema=a._dbSchema}),e.push(function(b){a.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(a.idbdb.version/10)===f._cfg.version?(a.idbdb.deleteObjectStore("$meta"),delete a._dbSchema.$meta,a._storeNames=a._storeNames.filter(function(a){return a!=="$meta"})):b.objectStore("$meta").put(f._cfg.version,"version"))})});function i(){return e.length?K.resolve(e.shift()(c.idbtrans)).then(i):K.resolve()}return i().then(function(){Pc(h,d)})}function Nc(a,b){var c={del:[],add:[],change:[]},d;for(d in a)b[d]||c.del.push(d);for(d in b){var e=a[d],f=b[d];if(!e)c.add.push([d,f]);else{var g={name:d,def:f,recreate:!1,del:[],add:[],change:[]};if(""+(e.primKey.keyPath||"")!==""+(f.primKey.keyPath||"")||e.primKey.auto!==f.primKey.auto)g.recreate=!0,c.change.push(g);else{e=e.idxByName;f=f.idxByName;var h;for(h in e)f[h]||g.del.push(h);for(h in f){var i=e[h],j=f[h];!i?g.add.push(j):i.src!==j.src&&g.change.push(j)}(g.del.length>0||g.add.length>0||g.change.length>0)&&c.change.push(g)}}}return c}function Oc(a,b,c,d){var e=a.db.createObjectStore(b,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});d.forEach(function(a){return Rc(e,a)});return e}function Pc(a,b){g(a).forEach(function(c){b.db.objectStoreNames.contains(c)||(G&&!1,Oc(b,c,a[c].primKey,a[c].indexes))})}function Qc(a,b){[].slice.call(b.db.objectStoreNames).forEach(function(c){return a[c]==null&&b.db.deleteObjectStore(c)})}function Rc(a,b){a.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function Sc(a,b,c){var d={};a=t(b.objectStoreNames,0);a.forEach(function(a){var b=c.objectStore(a),e=b.keyPath,f=sc(tc(e),e||"",!0,!1,!!b.autoIncrement,e&&typeof e!=="string",!0),g=[];for(var h=0;h<b.indexNames.length;++h){var i=b.index(b.indexNames[h]);e=i.keyPath;i=sc(i.name,e,!!i.unique,!!i.multiEntry,!1,e&&typeof e!=="string",!1);g.push(i)}d[a]=uc(a,f,g)});return d}function Tc(a,b,c){a.verno=b.version/10;c=a._dbSchema=Sc(a,b,c);a._storeNames=t(b.objectStoreNames,0);Gc(a,[a._allTables],g(c),c)}function Uc(a,b){b=Sc(a,a.idbdb,b);b=Nc(b,a._dbSchema);return!(b.add.length||b.change.some(function(a){return a.add.length||a.change.length}))}function Vc(a,b,c){var d=c.db.objectStoreNames;for(var e=0;e<d.length;++e){var g=d[e],h=c.objectStore(g);a._hasGetAll="getAll"in h;for(var i=0;i<h.indexNames.length;++i){var j=h.indexNames[i],k=h.index(j).keyPath;k=typeof k==="string"?k:"["+t(k).join("+")+"]";if(b[g]){var l=b[g].idxByName[k];l&&(l.name=j,delete b[g].idxByName[k],b[g].idxByName[j]=l)}}}typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function Wc(a){return a.split(",").map(function(a,b){a=a.trim();var c=a.replace(/([&*]|\+\+)/g,""),d=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return sc(c,d||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),h(d),b===0)})}var Xc=function(){function a(){}a.prototype._parseStoresSpec=function(a,b){g(a).forEach(function(c){if(a[c]!==null){var d=Wc(a[c]),e=d.shift();e.unique=!0;if(e.multi)throw new D.Schema("Primary key cannot be multi-valued");d.forEach(function(a){if(a.auto)throw new D.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new D.Schema("Index must have a name and cannot be an empty string")});b[c]=uc(c,e,d)}})};a.prototype.stores=function(a){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?i(this._cfg.storesSource,a):a;a=b._versions;var c={},d={};a.forEach(function(a){i(c,a._cfg.storesSource),d=a._cfg.dbschema={},a._parseStoresSpec(c,d)});b._dbSchema=d;Hc(b,[b._allTables,b,b.Transaction.prototype]);Gc(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],g(d),d);b._storeNames=g(d);return this};a.prototype.upgrade=function(a){this._cfg.contentUpgrade=Ga(this._cfg.contentUpgrade||E,a);return this};return a}();function Yc(a){return Qb(Xc.prototype,function(b){this.db=a,this._cfg={version:b,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Zc(a,b){var c=a._dbNamesDB;c||(c=a._dbNamesDB=new Y(Db,{addons:[],indexedDB:a,IDBKeyRange:b}),c.version(1).stores({dbnames:"name"}));return c.table("dbnames")}function $c(a){return a&&typeof a.databases==="function"}function ad(a){var b=a.indexedDB;a=a.IDBKeyRange;return $c(b)?Promise.resolve(b.databases()).then(function(a){return a.map(function(a){return a.name}).filter(function(a){return a!==Db})}):Zc(b,a).toCollection().primaryKeys()}function bd(a,b){var c=a.indexedDB;a=a.IDBKeyRange;!$c(c)&&b!==Db&&Zc(c,a).put({name:b})["catch"](E)}function cd(a,b){var c=a.indexedDB;a=a.IDBKeyRange;!$c(c)&&b!==Db&&Zc(c,a)["delete"](b)["catch"](E)}function dd(a){return N(function(){J.letThrough=!0;return a()})}function ed(){var a=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!a||!indexedDB.databases)return Promise.resolve();var b;return new Promise(function(a){var c=function(){return indexedDB.databases()["finally"](a)};b=setInterval(c,100);c()})["finally"](function(){return clearInterval(b)})}function fd(a){return!("from"in a)}var X=function(a,b){if(this)i(this,arguments.length?{d:1,from:a,to:arguments.length>1?b:a}:{d:0});else{var c=new X();a&&"d"in a&&i(c,a);return c}};m(X.prototype,(H={add:function(a){hd(this,a);return this},addKey:function(a){gd(this,a,a);return this},addKeys:function(a){var b=this;a.forEach(function(a){return gd(b,a,a)});return this}},H[na]=function(){return jd(this)},H));function gd(a,b,c){var d=S(b,c);if(isNaN(d))return;if(d>0)throw RangeError();if(fd(a))return i(a,{from:b,to:c,d:1});d=a.l;var e=a.r;if(S(c,a.from)<0){d?gd(d,b,c):a.l={from:b,to:c,d:1,l:null,r:null};return kd(a)}if(S(b,a.to)>0){e?gd(e,b,c):a.r={from:b,to:c,d:1,l:null,r:null};return kd(a)}S(b,a.from)<0&&(a.from=b,a.l=null,a.d=e?e.d+1:1);S(c,a.to)>0&&(a.to=c,a.r=null,a.d=a.l?a.l.d+1:1);b=!a.r;d&&!a.l&&hd(a,d);e&&b&&hd(a,e)}function hd(a,b){function c(a,b){var d=b.from,e=b.to,f=b.l;b=b.r;gd(a,d,e);f&&c(a,f);b&&c(a,b)}fd(b)||c(a,b)}function id(a,b){b=jd(b);var c=b.next();if(c.done)return!1;var d=c.value;a=jd(a);var e=a.next(d.from),f=e.value;while(!c.done&&!e.done){if(S(f.from,d.to)<=0&&S(f.to,d.from)>=0)return!0;S(d.from,f.from)<0?d=(c=b.next(f.from)).value:f=(e=a.next(d.from)).value}return!1}function jd(a){var b=fd(a)?null:{s:0,n:a};return{next:function(a){var c=arguments.length>0;while(b)switch(b.s){case 0:b.s=1;if(c)while(b.n.l&&S(a,b.n.from)<0)b={up:b,n:b.n.l,s:1};else while(b.n.l)b={up:b,n:b.n.l,s:1};case 1:b.s=2;if(!c||S(a,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3;b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function kd(a){var b;b=(((b=a.r)===null||b===void 0?void 0:b.d)||0)-(((b=a.l)===null||b===void 0?void 0:b.d)||0);b=b>1?"r":b<-1?"l":"";if(b){var c=b==="r"?"l":"r",e=d({},a),f=a[b];a.from=f.from;a.to=f.to;a[b]=f[b];e[b]=f[c];a[c]=e;e.d=ld(e)}a.d=ld(a)}function ld(a){var b=a.r;a=a.l;return(b?a?Math.max(b.d,a.d):b.d:a?a.d:0)+1}function md(a,b){g(b).forEach(function(c){a[c]?hd(a[c],b[c]):a[c]=ha(b[c])});return a}function nd(a,b){return a.all||b.all||Object.keys(a).some(function(c){return b[c]&&id(b[c],a[c])})}var od={},pd={},qd=!1;function rd(a,b){md(pd,a),qd||(qd=!0,setTimeout(function(){qd=!1;var a=pd;pd={};sd(a,!1)},0))}function sd(a,b){b===void 0&&(b=!1);var c=new Set();if(a.all)for(var d=0,e=Object.values(od);d<e.length;d++){var f=e[d];td(f,a,c,b)}else for(e in a){d=/^idb\:\/\/(.*)\/(.*)\//.exec(e);if(d){var g=d[1];d=d[2];var f=od["idb://".concat(g,"/").concat(d)];f&&td(f,a,c,b)}}c.forEach(function(a){return a()})}function td(a,b,c,d){var e=[];for(var f=0,g=Object.entries(a.queries.query);f<g.length;f++){var h=g[f],i=h[0];h=h[1];var j=[];for(var k=0,h=h;k<h.length;k++){var l=h[k];nd(b,l.obsSet)?l.subscribers.forEach(function(a){return c.add(a)}):d&&j.push(l)}d&&e.push([i,j])}if(d)for(l=0,k=e;l<k.length;l++){h=k[l];var i=h[0],j=h[1];a.queries.query[i]=j}}function ud(a){var b=a._state,c=a._deps.indexedDB;if(b.isBeingOpened||a.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?Q(b.dbOpenError):a});b.isBeingOpened=!0;b.dbOpenError=null;b.openComplete=!1;var d=b.openCanceller,e=Math.round(a.verno*10),f=!1;function g(){if(b.openCanceller!==d)throw new D.DatabaseClosed("db.open() was cancelled")}var h=b.dbReadyResolve,i=null,j=!1,k=function(){return new K(function(d,h){g();if(!c)throw new D.MissingAPI();var l=a.name,m=b.autoSchema||!e?c.open(l):c.open(l,e);if(!m)throw new D.MissingAPI();m.onerror=V(h);m.onblocked=L(a._fireOnBlocked);m.onupgradeneeded=L(function(d){i=m.transaction;if(b.autoSchema&&!a._options.allowEmptyDB){m.onerror=nc;i.abort();m.result.close();var e=c.deleteDatabase(l);e.onsuccess=e.onerror=L(function(){h(new D.NoSuchDatabase("Database ".concat(l," doesnt exist")))})}else{i.onerror=V(h);e=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;j=e<1;a.idbdb=m.result;f&&Kc(a,i);Jc(a,e/10,i,h)}},h);m.onsuccess=L(function(){i=null;var c=a.idbdb=m.result,g=t(c.objectStoreNames);if(g.length>0)try{g=c.transaction(vc(g),"readonly");if(b.autoSchema)Tc(a,c,g);else{Vc(a,a._dbSchema,g);if(!Uc(a,g)&&!f){c.close();e=c.version+1;f=!0;return d(k())}}Fc(a,g)}catch(a){}Cb.push(a);c.onversionchange=L(function(c){b.vcFired=!0,a.on("versionchange").fire(c)});c.onclose=L(function(b){a.on("close").fire(b)});j&&bd(a._deps,l);d()},h)})["catch"](function(a){switch(a===null||a===void 0?void 0:a.name){case"UnknownError":if(b.PR1398_maxLoop>0){b.PR1398_maxLoop--;return k()}break;case"VersionError":if(e>0){e=0;return k()}break}return K.reject(a)})};return K.race([d,(typeof navigator==="undefined"?K.resolve():ed()).then(k)]).then(function(){g();b.onReadyBeingFired=[];return K.resolve(dd(function(){return a.on.ready.fire(a.vip)})).then(function c(){if(b.onReadyBeingFired.length>0){var d=b.onReadyBeingFired.reduce(Ga,E);b.onReadyBeingFired=[];return K.resolve(dd(function(){return d(a.vip)})).then(c)}})})["finally"](function(){b.openCanceller===d&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)})["catch"](function(c){b.dbOpenError=c;try{i&&i.abort()}catch(a){}d===b.openCanceller&&a._close();return Q(c)})["finally"](function(){b.openComplete=!0,h()}).then(function(){if(j){var b={};a.tables.forEach(function(c){c.schema.indexes.forEach(function(d){d.name&&(b["idb://".concat(a.name,"/").concat(c.name,"/").concat(d.name)]=new X(-Infinity,[[[]]]))}),b["idb://".concat(a.name,"/").concat(c.name,"/")]=b["idb://".concat(a.name,"/").concat(c.name,"/:dels")]=new X(-Infinity,[[[]]])});W(oc).fire(b);sd(b,!0)}return a})}function vd(a){var b=function(b){return a.next(b)},c=function(b){return a["throw"](b)},d=f(b),e=f(c);function f(a){return function(b){b=a(b);var c=b.value;return b.done?c:!c||typeof c.then!=="function"?h(c)?Promise.all(c).then(d,e):d(c):c.then(d,e)}}return f(b)()}function wd(a,b,c){var d=arguments.length;if(d<2)throw new D.InvalidArgument("Too few arguments");var e=new Array(d-1);while(--d)e[d-1]=arguments[d];c=e.pop();var f=fa(e);return[a,f,c]}function xd(a,b,c,d,e){return K.resolve().then(function(){var f=J.transless||J,g=a._createTransaction(b,c,a._dbSchema,d);g.explicit=!0;f={trans:g,transless:f};if(d)g.idbtrans=d.idbtrans;else try{g.create(),g.idbtrans._explicit=!0,a._state.PR1398_maxLoop=3}catch(d){if(d.name===wa.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0){a.close({disableAutoOpen:!1});return a.open().then(function(){return xd(a,b,c,null,e)})}return Q(d)}var h=qa(e);h&&qb();var i;f=K.follow(function(){i=e.call(g,g);if(i)if(h){var a=O.bind(null,null);i.then(a,a)}else typeof i.next==="function"&&typeof i["throw"]==="function"&&(i=vd(i))},f);return(i&&typeof i.then==="function"?K.resolve(i).then(function(a){return g.active?a:Q(new D.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return i})).then(function(a){d&&g._resolve();return g._completion.then(function(){return a})})["catch"](function(a){g._reject(a);return Q(a)})})}function yd(a,b,c){a=h(a)?a.slice():[a];for(var d=0;d<c;++d)a.push(b);return a}function zd(a){return d(d({},a),{table:function(b){var c=a.table(b);b=c.schema;var e={},f=[];function g(a,b,c){var h=Bc(a),i=e[h]=e[h]||[],j=a==null?0:typeof a==="string"?1:a.length,k=b>0;h=d(d({},c),{name:k?"".concat(h,"(virtual-from:").concat(c.name,")"):c.name,lowLevelIndex:c,isVirtual:k,keyTail:b,keyLength:j,extractKey:xc(a),unique:!k&&c.unique});i.push(h);h.isPrimaryKey||f.push(h);if(j>1){k=j===2?a[0]:a.slice(0,j-1);g(k,b+1,c)}i.sort(function(a,b){return a.keyTail-b.keyTail});return h}var h=g(b.primaryKey.keyPath,0,b.primaryKey);e[":id"]=[h];for(var i=0,j=b.indexes;i<j.length;i++){var k=j[i];g(k.keyPath,0,k)}function l(a){a=e[Bc(a)];return a&&a[0]}function m(b,c){return{type:b.type===1?2:b.type,lower:yd(b.lower,b.lowerOpen?a.MAX_KEY:a.MIN_KEY,c),lowerOpen:!0,upper:yd(b.upper,b.upperOpen?a.MIN_KEY:a.MAX_KEY,c),upperOpen:!0}}function n(b){var a=b.query.index;return a.isVirtual?d(d({},b),{query:{index:a.lowLevelIndex,range:m(b.query.range,a.keyTail)}}):b}k=d(d({},c),{schema:d(d({},b),{primaryKey:h,indexes:f,getIndexByKeyPath:l}),count:function(a){return c.count(n(a))},query:function(a){return c.query(n(a))},openCursor:function(d){var b=d.query.index,e=b.keyTail,f=b.isVirtual,g=b.keyLength;if(!f)return c.openCursor(d);function h(b){function c(c){c!=null?b["continue"](yd(c,d.reverse?a.MAX_KEY:a.MIN_KEY,e)):d.unique?b["continue"](b.key.slice(0,g).concat(d.reverse?a.MIN_KEY:a.MAX_KEY,e)):b["continue"]()}c=Object.create(b,{"continue":{value:c},continuePrimaryKey:{value:function(d,c){b.continuePrimaryKey(yd(d,a.MAX_KEY,e),c)}},primaryKey:{get:function(){return b.primaryKey}},key:{get:function(){var a=b.key;return g===1?a[0]:a.slice(0,g)}},value:{get:function(){return b.value}}});return c}return c.openCursor(n(d)).then(function(a){return a&&h(a)})}});return k}})}var Ad={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:zd};function Bd(a,b,c,d){c=c||{};d=d||"";g(a).forEach(function(e){if(!l(b,e))c[d+e]=void 0;else{var f=a[e],g=b[e];if(typeof f==="object"&&typeof g==="object"&&f&&g){var h=ma(f),i=ma(g);h!==i?c[d+e]=b[e]:h==="Object"?Bd(f,g,c,d+e+"."):f!==g&&(c[d+e]=b[e])}else f!==g&&(c[d+e]=b[e])}});g(b).forEach(function(e){l(a,e)||(c[d+e]=b[e])});return c}function Cd(a,b){return b.type==="delete"?b.keys:b.keys||b.values.map(a.extractKey)}var Dd={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return d(d({},a),{table:function(b){var c=a.table(b),f=c.schema.primaryKey,g=d(d({},c),{mutate:function(a){var g=J.trans,h=g.table(b).hook,i=h.deleting,j=h.creating,k=h.updating;switch(a.type){case"add":if(j.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"put":if(j.fire===E&&k.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"delete":if(i.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"deleteRange":if(i.fire===E)break;return g._promise("readwrite",function(){return n(a)},!0)}return c.mutate(a);function m(b){var g=J.trans,a=b.keys||Cd(f,b);if(!a)throw new Error("Keys missing");b=b.type==="add"||b.type==="put"?d(d({},b),{keys:a}):d({},b);b.type!=="delete"&&(b.values=e([],b.values,!0));b.keys&&(b.keys=e([],b.keys,!0));return Ed(c,b,a).then(function(d){var e=a.map(function(a,c){var e=d[c],h={onerror:null,onsuccess:null};if(b.type==="delete")i.fire.call(h,a,e,g);else if(b.type==="add"||e===void 0){var m=j.fire.call(h,a,b.values[c],g);a==null&&m!=null&&(a=m,b.keys[c]=a,f.outbound||x(b.values[c],f.keyPath,a))}else{m=Bd(e,b.values[c]);var n=k.fire.call(h,m,a,e,g);if(n){var o=b.values[c];Object.keys(n).forEach(function(a){l(o,a)?o[a]=n[a]:x(o,a,n[a])})}}return h});return c.mutate(b).then(function(c){var f=c.failures,g=c.results,h=c.numFailures;c=c.lastResult;for(var i=0;i<a.length;++i){var j=g?g[i]:a[i],k=e[i];j==null?k.onerror&&k.onerror(f[i]):k.onsuccess&&k.onsuccess(b.type==="put"&&d[i]?b.values[i]:j)}return{failures:f,results:g,numFailures:h,lastResult:c}})["catch"](function(a){e.forEach(function(b){return b.onerror&&b.onerror(a)});return Promise.reject(a)})})}function n(a){return o(a.trans,a.range,1e4)}function o(a,b,e){return c.query({trans:a,values:!1,query:{index:f,range:b},limit:e}).then(function(c){var f=c.result;return m({type:"delete",keys:f,trans:a}).then(function(c){if(c.numFailures>0)return Promise.reject(c.failures[0]);if(f.length<e)return{failures:[],numFailures:0,lastResult:void 0};else return o(a,d(d({},b),{lower:f[f.length-1],lowerOpen:!0}),e)})})}}});return g}})}};function Ed(a,b,c){return b.type==="add"?Promise.resolve([]):a.getMany({trans:b.trans,keys:c,cache:"immutable"})}function Fd(a,b,c){try{if(!b)return null;if(b.keys.length<a.length)return null;var d=[];for(var e=0,f=0;e<b.keys.length&&f<a.length;++e){if(S(b.keys[e],a[f])!==0)continue;d.push(c?z(b.values[e]):b.values[e]);++f}return d.length===a.length?d:null}catch(a){return null}}var Gd={stack:"dbcore",level:-1,create:function(a){return{table:function(b){var c=a.table(b);return d(d({},c),{getMany:function(a){if(!a.cache)return c.getMany(a);var b=Fd(a.keys,a.trans._cache,a.cache==="clone");return b?K.resolve(b):c.getMany(a).then(function(b){a.trans._cache={keys:a.keys,values:a.cache==="clone"?z(b):b};return b})},mutate:function(a){a.type!=="add"&&(a.trans._cache=null);return c.mutate(a)}})}}}};function Hd(a,b){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function Id(a,b){switch(a){case"query":return b.values&&!b.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var Jd={stack:"dbcore",level:0,name:"Observability",create:function(a){var b=a.schema.name,c=new X(a.MIN_KEY,a.MAX_KEY);return d(d({},a),{transaction:function(b,c,d){if(J.subscr&&c!=="readonly")throw new D.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(J.querier));return a.transaction(b,c,d)},table:function(e){var f=a.table(e),i=f.schema,j=i.primaryKey,k=j.extractKey,l=j.outbound,m=d(d({},f),{mutate:function(g){var k=g.trans,l=g.mutatedParts||(g.mutatedParts={}),m=function(a){a="idb://".concat(b,"/").concat(e,"/").concat(a);return l[a]||(l[a]=new X())},n=m(""),o=m(":dels"),d=g.type,p=g.type==="deleteRange"?[g.range]:g.type==="delete"?[g.keys]:g.values.length<50?[Cd(j,g).filter(function(a){return a}),g.values]:[],a=p[0];p=p[1];var q=g.trans._cache;if(h(a)){n.addKeys(a);d=d==="delete"||a.length===p.length?Fd(a,q):null;d||o.addKeys(a);(d||p)&&Kd(m,i,d,p)}else if(a){q={from:a.lower,to:a.upper};o.add(q);n.add(q)}else n.add(c),o.add(c),i.indexes.forEach(function(a){return m(a.name).add(c)});return f.mutate(g).then(function(b){a&&(g.type==="add"||g.type==="put")&&n.addKeys(b.results);k.mutatedParts=md(k.mutatedParts||{},l);return b})}}),n=function(b){b=b.query;var c=b.index;b=b.range;return[c,new X((c=b.lower)!==null&&c!==void 0?c:a.MIN_KEY,(c=b.upper)!==null&&c!==void 0?c:a.MAX_KEY)]},o={get:function(a){return[j,new X(a.key)]},getMany:function(a){return[j,new X().addKeys(a.keys)]},count:n,query:n,openCursor:n};g(o).forEach(function(a){m[a]=function(g){var h=J.subscr,i=!!h,j=Hd(J,f)&&Id(a,g),m=j?g.obsSet={}:h;if(i){var n=function(a){a="idb://".concat(b,"/").concat(e,"/").concat(a);return m[a]||(m[a]=new X())},p=n(""),q=n(":dels"),r=o[a](g),s=r[0],t=r[1];a==="query"&&s.isPrimaryKey&&!g.values?q.add(t):n(s.name||"").add(t);if(!s.isPrimaryKey)if(a==="count")q.add(c);else{var u=a==="query"&&l&&g.values&&f.query(d(d({},g),{values:!1}));return f[a].apply(this,arguments).then(function(b){if(a==="query"){if(l&&g.values)return u.then(function(a){a=a.result;p.addKeys(a);return b});var c=g.values?b.result.map(k):b.result;g.values?p.addKeys(c):q.addKeys(c)}else if(a==="openCursor"){var d=b,e=g.values;return d&&Object.create(d,{key:{get:function(){q.addKey(d.primaryKey);return d.key}},primaryKey:{get:function(){var a=d.primaryKey;q.addKey(a);return a}},value:{get:function(){e&&p.addKey(d.primaryKey);return d.value}}})}return b})}}return f[a].apply(this,arguments)}});return m}})}};function Kd(a,b,c,d){function e(b){var e=a(b.name||"");function f(a){return a!=null?b.extractKey(a):null}var g=function(a){return b.multiEntry&&h(a)?a.forEach(function(a){return e.addKey(a)}):e.addKey(a)};(c||d).forEach(function(a,b){a=c&&f(c[b]);b=d&&f(d[b]);S(a,b)!==0&&(a!=null&&g(a),b!=null&&g(b))})}b.indexes.forEach(e)}function Ld(a,b,c){if(c.numFailures===0)return b;if(b.type==="deleteRange")return null;a=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;if(c.numFailures===a)return null;a=d({},b);h(a.keys)&&(a.keys=a.keys.filter(function(a,b){return!(b in c.failures)}));"values"in a&&h(a.values)&&(a.values=a.values.filter(function(a,b){return!(b in c.failures)}));return a}function Md(a,b){return b.lower===void 0?!0:b.lowerOpen?S(a,b.lower)>0:S(a,b.lower)>=0}function Nd(a,b){return b.upper===void 0?!0:b.upperOpen?S(a,b.upper)<0:S(a,b.upper)<=0}function Od(a,b){return Md(a,b)&&Nd(a,b)}function Pd(a,b,c,d,e,f){if(!c||c.length===0)return a;var g=b.query.index,i=g.multiEntry,j=b.query.range;d=d.schema.primaryKey;var k=d.extractKey,l=g.extractKey,m=(g.lowLevelIndex||g).extractKey;d=c.reduce(function(a,c){var d=a,e=c.type==="add"||c.type==="put"?c.values.filter(function(a){a=l(a);return i&&h(a)?a.some(function(a){return Od(a,j)}):Od(a,j)}).map(function(a){a=z(a);f&&Object.freeze(a);return a}):[];switch(c.type){case"add":d=a.concat(b.values?e:e.map(function(a){return k(a)}));break;case"put":var g=new X().addKeys(c.values.map(function(a){return k(a)}));d=a.filter(function(a){a=b.values?k(a):a;return!id(new X(a),g)}).concat(b.values?e:e.map(function(a){return k(a)}));break;case"delete":var m=new X().addKeys(c.keys);d=a.filter(function(a){a=b.values?k(a):a;return!id(new X(a),m)});break;case"deleteRange":var n=c.range;d=a.filter(function(a){return!Od(k(a),n)});break}return d},a);if(d===a)return a;d.sort(function(a,b){return S(m(a),m(b))||S(k(a),k(b))});b.limit&&b.limit<Infinity&&(d.length>b.limit?d.length=b.limit:a.length===b.limit&&d.length<b.limit&&(e.dirty=!0));return f?Object.freeze(d):d}function Qd(a,b){return S(a.lower,b.lower)===0&&S(a.upper,b.upper)===0&&!!a.lowerOpen===!!b.lowerOpen&&!!a.upperOpen===!!b.upperOpen}function Rd(a,b,c,d){if(a===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;a=S(a,b);if(a===0){if(c&&d)return 0;if(c)return 1;if(d)return-1}return a}function Sd(a,b,c,d){if(a===void 0)return b!==void 0?1:0;if(b===void 0)return-1;a=S(a,b);if(a===0){if(c&&d)return 0;if(c)return-1;if(d)return 1}return a}function Td(a,b){return Rd(a.lower,b.lower,a.lowerOpen,b.lowerOpen)<=0&&Sd(a.upper,b.upper,a.upperOpen,b.upperOpen)>=0}function Ud(b,c,a,d){b=od["idb://".concat(b,"/").concat(c)];if(!b)return[];c=b.queries[a];if(!c)return[null,!1,b,null];var e=d.query?d.query.index.name:null;c=c[e||""];if(!c)return[null,!1,b,null];switch(a){case"query":e=c.find(function(a){return a.req.limit===d.limit&&a.req.values===d.values&&Qd(a.req.query.range,d.query.range)});if(e)return[e,!0,b,c];a=c.find(function(a){var b="limit"in a.req?a.req.limit:Infinity;return b>=d.limit&&(d.values?a.req.values:!0)&&Td(a.req.query.range,d.query.range)});return[a,!1,b,c];case"count":e=c.find(function(a){return Qd(a.req.query.range,d.query.range)});return[e,!!e,b,c]}}function Vd(a,b,c,d){a.subscribers.add(c),d.addEventListener("abort",function(){a.subscribers["delete"](c),a.subscribers.size===0&&Wd(a,b)})}function Wd(a,b){setTimeout(function(){a.subscribers.size===0&&A(b,a)},3e3)}var Xd={stack:"dbcore",level:0,name:"Cache",create:function(a){var b=a.schema.name,c=d(d({},a),{transaction:function(c,d,e){var f=a.transaction(c,d,e);if(d==="readwrite"){var g=new AbortController();e=g.signal;var h=function(e){return function(){g.abort();if(d==="readwrite"){var h=new Set();for(var i=0,j=c;i<j.length;i++){var k=j[i],l=od["idb://".concat(b,"/").concat(k)];if(l){k=a.table(k);var m=l.optimisticOps.filter(function(a){return a.trans===f});if(f._explicit&&e&&f.mutatedParts)for(var n=0,o=Object.values(l.queries.query);n<o.length;n++){var p=o[n];for(var q=0,r=p.slice();q<r.length;q++){var s=r[q];nd(s.obsSet,f.mutatedParts)&&(A(p,s),s.subscribers.forEach(function(a){return h.add(a)}))}}else if(m.length>0){l.optimisticOps=l.optimisticOps.filter(function(a){return a.trans!==f});for(q=0,r=Object.values(l.queries.query);q<r.length;q++){var p=r[q];for(n=0,o=p.slice();n<o.length;n++){var s=o[n];if(s.res!=null&&f.mutatedParts)if(e&&!s.dirty){l=Object.isFrozen(s.res);l=Pd(s.res,s.req,m,k,s,l);s.dirty?(A(p,s),s.subscribers.forEach(function(a){return h.add(a)})):l!==s.res&&(s.res=l,s.promise=K.resolve({result:l}))}else s.dirty&&A(p,s),s.subscribers.forEach(function(a){return h.add(a)})}}}}}h.forEach(function(a){return a()})}}};f.addEventListener("abort",h(!1),{signal:e});f.addEventListener("error",h(!1),{signal:e});f.addEventListener("complete",h(!0),{signal:e})}return f},table:function(c){var e=a.table(c),f=e.schema.primaryKey,g=d(d({},e),{mutate:function(a){var g=J.trans;if(f.outbound||g.db._options.cache==="disabled"||g.explicit)return e.mutate(a);var h=od["idb://".concat(b,"/").concat(c)];if(!h)return e.mutate(a);g=e.mutate(a);(a.type==="add"||a.type==="put")&&(a.values.length>=50||Cd(f,a).some(function(a){return a==null}))?g.then(function(b){var c=d(d({},a),{values:a.values.map(function(a,c){var e;e=((e=f.keyPath)===null||e===void 0?void 0:e.includes("."))?z(a):d({},a);x(e,f.keyPath,b.results[c]);return e})});c=Ld(h,c,b);h.optimisticOps.push(c);queueMicrotask(function(){return a.mutatedParts&&rd(a.mutatedParts)})}):(h.optimisticOps.push(a),a.mutatedParts&&rd(a.mutatedParts),g.then(function(b){if(b.numFailures>0){A(h.optimisticOps,a);b=Ld(h,a,b);b&&h.optimisticOps.push(b);a.mutatedParts&&rd(a.mutatedParts)}}),g["catch"](function(){A(h.optimisticOps,a),a.mutatedParts&&rd(a.mutatedParts)}));return g},query:function(a){var d;if(!Hd(J,e)||!Id("query",a))return e.query(a);var f=((d=J.trans)===null||d===void 0?void 0:d.db._options.cache)==="immutable";d=J;var g=d.requery;d=d.signal;var h=Ud(b,c,"query",a),i=h[0],j=h[1],k=h[2],l=h[3];if(i&&j)i.obsSet=a.obsSet;else{h=e.query(a).then(function(a){var b=a.result;i&&(i.res=b);if(f){for(var c=0,d=b.length;c<d;++c)Object.freeze(b[c]);Object.freeze(b)}else a.result=z(b);return a})["catch"](function(a){l&&i&&A(l,i);return Promise.reject(a)});i={obsSet:a.obsSet,promise:h,subscribers:new Set(),type:"query",req:a,dirty:!1};l?l.push(i):(l=[i],k||(k=od["idb://".concat(b,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map(),optimisticOps:[],unsignaledParts:{}}),k.queries.query[a.query.index.name||""]=l)}Vd(i,l,g,d);return i.promise.then(function(b){return{result:Pd(b.result,a,k===null||k===void 0?void 0:k.optimisticOps,e,i,f)}})}});return g}});return c}};function Yd(a,b){return new Proxy(a,{get:function(a,c,d){return c==="db"?b:Reflect.get(a,c,d)}})}var Y=function(){function a(b,c){var e=this;this._middlewares={};this.verno=0;var f=a.dependencies;this._options=c=d({addons:a.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},c);this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange};f=c.addons;this._dbSchema={};this._versions=[];this._storeNames=[];this._allTables={};this.idbdb=null;this._novip=this;var g={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:E,dbReadyPromise:null,cancelOpen:E,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};g.dbReadyPromise=new K(function(a){g.dbReadyResolve=a});g.openCanceller=new K(function(a,b){g.cancelOpen=b});this._state=g;this.name=b;this.on=Pb(this,"populate","blocked","versionchange","close",{ready:[Ga,E]});this.on.ready.subscribe=u(this.on.ready.subscribe,function(b){return function(c,d){a.vip(function(){var a=e._state;if(a.openComplete)a.dbOpenError||K.resolve().then(c),d&&b(c);else if(a.onReadyBeingFired)a.onReadyBeingFired.push(c),d&&b(c);else{b(c);var f=e;d||b(function a(){f.on.ready.unsubscribe(c),f.on.ready.unsubscribe(a)})}})}});this.Collection=cc(this);this.Table=Rb(this);this.Transaction=rc(this);this.Version=Yc(this);this.WhereClause=mc(this);this.on("versionchange",function(a){a.newVersion>0?!1:!1,e.close({disableAutoOpen:!1})});this.on("blocked",function(a){!a.newVersion||a.newVersion<a.oldVersion?!1:!1});this._maxKey=wc(c.IDBKeyRange);this._createTransaction=function(a,b,c,d){return new e.Transaction(a,b,c,e._options.chromeTransactionDurability,d)};this._fireOnBlocked=function(a){e.on("blocked").fire(a),Cb.filter(function(a){return a.name===e.name&&a!==e&&!a._state.vcFired}).map(function(b){return b.on("versionchange").fire(a)})};this.use(Gd);this.use(Xd);this.use(Jd);this.use(Ad);this.use(Dd);var h=new Proxy(this,{get:function(a,b,c){if(b==="_vip")return!0;if(b==="table")return function(a){return Yd(e.table(a),h)};var d=Reflect.get(a,b,c);if(d instanceof Ob)return Yd(d,h);if(b==="tables")return d.map(function(a){return Yd(a,h)});return b==="_createTransaction"?function(){var a=d.apply(this,arguments);return Yd(a,h)}:d}});this.vip=h;f.forEach(function(a){return a(e)})}a.prototype.version=function(a){if(isNaN(a)||a<.1)throw new D.Type("Given version is not a positive number");a=Math.round(a*10)/10;if(this.idbdb||this._state.isBeingOpened)throw new D.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var b=this._versions,c=b.filter(function(b){return b._cfg.version===a})[0];if(c)return c;c=new this.Version(a);b.push(c);b.sort(Ic);c.stores({});this._state.autoSchema=!1;return c};a.prototype._whenReady=function(a){var b=this;return this.idbdb&&(this._state.openComplete||J.letThrough||this._vip)?a():new K(function(a,c){if(b._state.openComplete)return c(new D.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen){c(new D.DatabaseClosed());return}b.open()["catch"](E)}b._state.dbReadyPromise.then(a,c)}).then(a)};a.prototype.use=function(a){var b=a.stack,c=a.create,d=a.level;a=a.name;a&&this.unuse({stack:b,name:a});var e=this._middlewares[b]||(this._middlewares[b]=[]);e.push({stack:b,create:c,level:d==null?10:d,name:a});e.sort(function(a,b){return a.level-b.level});return this};a.prototype.unuse=function(a){var b=a.stack,c=a.name,d=a.create;b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(a){return d?a.create!==d:c?a.name!==c:!1}));return this};a.prototype.open=function(){var a=this;return vb(I,function(){return ud(a)})};a.prototype._close=function(){var a=this._state,b=Cb.indexOf(this);b>=0&&Cb.splice(b,1);if(this.idbdb){try{this.idbdb.close()}catch(a){}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new K(function(b){a.dbReadyResolve=b}),a.openCanceller=new K(function(b,c){a.cancelOpen=c}))};a.prototype.close=function(a){a=a===void 0?{disableAutoOpen:!0}:a;a=a.disableAutoOpen;var b=this._state;a?(b.isBeingOpened&&b.cancelOpen(new D.DatabaseClosed()),this._close(),b.autoOpen=!1,b.dbOpenError=new D.DatabaseClosed()):(this._close(),b.autoOpen=this._options.autoOpen||b.isBeingOpened,b.openComplete=!1,b.dbOpenError=null)};a.prototype["delete"]=function(a){var b=this;a===void 0&&(a={disableAutoOpen:!0});var c=arguments.length>0&&typeof arguments[0]!=="object",d=this._state;return new K(function(e,f){var g=function(){b.close(a);var c=b._deps.indexedDB.deleteDatabase(b.name);c.onsuccess=L(function(){cd(b._deps,b.name),e()});c.onerror=V(f);c.onblocked=b._fireOnBlocked};if(c)throw new D.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(g):g()})};a.prototype.backendDB=function(){return this.idbdb};a.prototype.isOpen=function(){return this.idbdb!==null};a.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"};a.prototype.hasFailed=function(){return this._state.dbOpenError!==null};a.prototype.dynamicallyOpened=function(){return this._state.autoSchema};Object.defineProperty(a.prototype,"tables",{get:function(){var a=this;return g(this._allTables).map(function(b){return a._allTables[b]})},enumerable:!1,configurable:!0});a.prototype.transaction=function(){var a=wd.apply(this,arguments);return this._transaction.apply(this,a)};a.prototype._transaction=function(a,b,c){var d=this,e=J.trans;(!e||e.db!==this||a.indexOf("!")!==-1)&&(e=null);var f=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");var g,h;try{h=b.map(function(a){a=a instanceof d.Table?a.name:a;if(typeof a!=="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return a});if(a=="r"||a===Eb)g=Eb;else if(a=="rw"||a==Fb)g=Fb;else throw new D.InvalidArgument("Invalid transaction mode: "+a);if(e){if(e.mode===Eb&&g===Fb)if(f)e=null;else throw new D.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");e&&h.forEach(function(a){if(e&&e.storeNames.indexOf(a)===-1)if(f)e=null;else throw new D.SubTransaction("Table "+a+" not included in parent transaction.")});f&&e&&!e.active&&(e=null)}}catch(a){return e?e._promise(null,function(b,c){c(a)}):Q(a)}var i=xd.bind(null,this,g,h,e,c);return e?e._promise(g,i,"lock"):J.trans?vb(J.transless,function(){return d._whenReady(i)}):this._whenReady(i)};a.prototype.table=function(a){if(!l(this._allTables,a))throw new D.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]};return a}(),Zd=typeof Symbol!=="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",$d=function(){function a(a){this._subscribe=a}a.prototype.subscribe=function(a,b,c){return this._subscribe(!a||typeof a==="function"?{next:a,error:b,complete:c}:a)};a.prototype[Zd]=function(){return this};return a}(),ae;try{ae={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch(a){ae={indexedDB:null,IDBKeyRange:null}}function be(a){var b=!1,c,d=new $d(function(d){var e=qa(a);function f(b){var c=eb();try{e&&qb();b=N(a,b);e&&(b=b["finally"](O));return b}finally{c&&fb()}}var g=!1,h,i={},j={},k={get closed(){return g},unsubscribe:function(){if(g)return;g=!0;h&&h.abort();l&&W.storagemutated.unsubscribe(o)}};d.start&&d.start(k);var l=!1,m=function(){return xb(p)};function n(){return nd(j,i)}var o=function(a){md(i,a),n()&&m()},p=function(){if(g||!ae.indexedDB)return;i={};var e={};h&&h.abort();h=new AbortController();var k={subscr:e,signal:h.signal,requery:m,querier:a,trans:null},n=f(k);Promise.resolve(n).then(function(a){b=!0;c=a;if(g||k.signal.aborted)return;i={};j=e;!ia(j)&&!l&&(W(oc,o),l=!0);xb(function(){return!g&&d.next&&d.next(a)})},function(a){b=!1,["DatabaseClosedError","AbortError"].includes(a===null||a===void 0?void 0:a.name)||(g||xb(function(){if(g)return;d.error&&d.error(a)}))})};setTimeout(m,0);return k});d.hasValue=function(){return b};d.getValue=function(){return c};return d}var ce=Y;m(ce,d(d({},C),{"delete":function(a){a=new ce(a,{addons:[]});return a["delete"]()},exists:function(a){return new ce(a,{addons:[]}).open().then(function(a){a.close();return!0})["catch"]("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return ad(ce.dependencies).then(a)}catch(a){return Q(new D.MissingAPI())}},defineClass:function(){function a(a){i(this,a)}return a},ignoreTransaction:function(a){return J.trans?vb(J.transless,a):a()},vip:dd,async:function(a){return function(){try{var b=vd(a.apply(this,arguments));return!b||typeof b.then!=="function"?K.resolve(b):b}catch(a){return Q(a)}}},spawn:function(a,b,c){try{a=vd(a.apply(c,b||[]));return!a||typeof a.then!=="function"?K.resolve(a):a}catch(a){return Q(a)}},currentTransaction:{get:function(){return J.trans||null}},waitFor:function(a,b){a=K.resolve(typeof a==="function"?ce.ignoreTransaction(a):a).timeout(b||6e4);return J.trans?J.trans.waitFor(a):a},Promise:K,debug:{get:function(){return G},set:function(a){Ha(a)}},derive:p,extend:i,props:m,override:u,Events:Pb,on:W,liveQuery:be,extendObservabilitySet:md,getByKeyPath:w,setByKeyPath:x,delByKeyPath:ca,shallowClone:da,deepClone:z,getObjectDiff:Bd,cmp:S,asap:aa,minKey:Ab,addons:[],connections:Cb,errnames:wa,dependencies:ae,cache:od,semVer:Ka,version:Ka.split(".").map(function(a){return parseInt(a)}).reduce(function(a,b,c){return a+b/Math.pow(10,c*2)})}));ce.maxKey=wc(ce.dependencies.IDBKeyRange);typeof dispatchEvent!=="undefined"&&typeof addEventListener!=="undefined"&&(W(oc,function(a){if(!Z){a=new CustomEvent(pc,{detail:a});Z=!0;dispatchEvent(a);Z=!1}}),addEventListener(pc,function(a){a=a.detail;Z||de(a)}));function de(a){var b=Z;try{Z=!0,W.storagemutated.fire(a),sd(a,!0)}finally{Z=b}}var Z=!1,$,ee=function(){};typeof BroadcastChannel!=="undefined"&&(ee=function(){$=new BroadcastChannel(pc),$.onmessage=function(a){return a.data&&de(a.data)}},ee(),typeof $.unref==="function"&&$.unref(),W(oc,function(a){Z||$.postMessage(a)}));typeof addEventListener!=="undefined"&&(addEventListener("pagehide",function(a){if(!Y.disableBfCache&&a.persisted){G&&!1;$===null||$===void 0?void 0:$.close();for(var a=0,b=Cb;a<b.length;a++){var c=b[a];c.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(a){!Y.disableBfCache&&a.persisted&&(G&&!1,ee(),de({all:new X(-Infinity,[[]])}))}));function fe(a,b){return new $b({replacePrefix:[a,b]})}K.rejectionMapper=za;Ha(G);H=Object.freeze({__proto__:null,Dexie:Y,liveQuery:be,Entity:Jb,cmp:S,PropModSymbol:y,PropModification:$b,replacePrefix:fe,"default":Y,RangeSet:X,mergeRanges:hd,rangesOverlap:id});d(Y,H,{"default":Y});return Y})}var j=!1;function k(){j||(j=!0,i());return h.exports}function b(a){switch(a){case void 0:return k()}}e.exports=b}),null);
__d("dexie_maw-next",["dexie-4.0.1"],(function(a,b,c,d,e,f){e.exports=b("dexie-4.0.1")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("minisearch-3.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():(b=typeof globalThis!=="undefined"?globalThis:b||self,b.MiniSearch=c())})(this,function(){var a=function(){a=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return a.apply(this,arguments)};function b(a){var b=typeof Symbol==="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length==="number")return{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e}function d(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(c(arguments[b]));return a}var e="ENTRIES",f="KEYS",g="VALUES",h="",i=function(){function a(a,b){var c=a._tree,d=Object.keys(c);this.set=a;this._type=b;this._path=d.length>0?[{node:c,keys:d}]:[]}a.prototype.next=function(){var a=this.dive();this.backtrack();return a};a.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var a=j(this._path),b=a.node;a=a.keys;if(j(a)===h)return{done:!1,value:this.result()};this._path.push({node:b[j(a)],keys:Object.keys(b[j(a)])});return this.dive()};a.prototype.backtrack=function(){if(this._path.length===0)return;j(this._path).keys.pop();if(j(this._path).keys.length>0)return;this._path.pop();this.backtrack()};a.prototype.key=function(){return this.set._prefix+this._path.map(function(a){a=a.keys;return j(a)}).filter(function(a){return a!==h}).join("")};a.prototype.value=function(){return j(this._path).node[h]};a.prototype.result=function(){if(this._type===g)return this.value();return this._type===f?this.key():[this.key(),this.value()]};a.prototype[Symbol.iterator]=function(){return this};return a}(),j=function(a){return a[a.length-1]},k=0,l=1,m=2,n=3,o=function(a,b,d){var e=[{distance:0,i:0,key:"",node:a}],f={},g=[];a=function(){var a=e.pop(),i=a.node,j=a.distance,k=a.key,l=a.i,m=a.edit;Object.keys(i).forEach(function(n){if(n===h){var o=j+(b.length-l),a=c(f[k]||[null,Infinity],2);a=a[1];o<=d&&o<a&&(f[k]=[i[n],o])}else p(b,n,d-j,l,m,g).forEach(function(a){var c=a.distance,b=a.i;a=a.edit;e.push({node:i[n],distance:j+c,key:k+n,i:b,edit:a})})})};while(e.length>0)a();return f},p=function(a,b,c,d,e,f){f.push({distance:0,ia:d,ib:0,edit:e});d=[];while(f.length>0){e=f.pop();var g=e.distance,h=e.ia,i=e.ib;e=e.edit;if(i===b.length){d.push({distance:g,i:h,edit:e});continue}if(a[h]===b[i])f.push({distance:g,ia:h+1,ib:i+1,edit:k});else{if(g>=c)continue;e!==m&&f.push({distance:g+1,ia:h,ib:i+1,edit:n});h<a.length&&(e!==n&&f.push({distance:g+1,ia:h+1,ib:i,edit:m}),e!==n&&e!==m&&f.push({distance:g+1,ia:h+1,ib:i+1,edit:l}))}}return d},q=function(){function a(a,b){a===void 0&&(a={}),b===void 0&&(b=""),this._tree=a,this._prefix=b}a.prototype.atPrefix=function(d){var b;if(!d.startsWith(this._prefix))throw new Error("Mismatched prefix");var e=c(r(this._tree,d.slice(this._prefix.length)),2),f=e[0];e=e[1];if(f===void 0){e=c(y(e),2);var g=e[0],i=e[1];e=Object.keys(g).find(function(a){return a!==h&&a.startsWith(i)});if(e!==void 0)return new a((b={},b[e.slice(i.length)]=g[e],b),d)}return new a(f||{},d)};a.prototype.clear=function(){delete this._size,this._tree={}};a.prototype["delete"]=function(a){delete this._size;return v(this._tree,a)};a.prototype.entries=function(){return new i(this,e)};a.prototype.forEach=function(d){var e,a;try{for(var f=b(this),g=f.next();!g.done;g=f.next()){var h=c(g.value,2),i=h[0];h=h[1];d(i,h,this)}}catch(a){e={error:a}}finally{try{g&&!g.done&&(a=f["return"])&&a.call(f)}finally{if(e)throw e.error}}};a.prototype.fuzzyGet=function(a,b){return o(this._tree,a,b)};a.prototype.get=function(a){a=s(this._tree,a);return a!==void 0?a[h]:void 0};a.prototype.has=function(a){a=s(this._tree,a);return a!==void 0&&a.hasOwnProperty(h)};a.prototype.keys=function(){return new i(this,f)};a.prototype.set=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b;return this};Object.defineProperty(a.prototype,"size",{get:function(){var a=this;if(this._size)return this._size;this._size=0;this.forEach(function(){a._size+=1});return this._size},enumerable:!1,configurable:!0});a.prototype.update=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b(a[h]);return this};a.prototype.values=function(){return new i(this,g)};a.prototype[Symbol.iterator]=function(){return this.entries()};a.from=function(e){var f,d,g=new a();try{for(var h=b(e),i=h.next();!i.done;i=h.next()){e=c(i.value,2);var j=e[0];e=e[1];g.set(j,e)}}catch(a){f={error:a}}finally{try{i&&!i.done&&(d=h["return"])&&d.call(h)}finally{if(f)throw f.error}}return g};a.fromObject=function(b){return a.from(Object.entries(b))};return a}(),r=function(a,b,c){c===void 0&&(c=[]);if(b.length===0||a==null)return[a,c];var d=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});if(d===void 0){c.push([a,b]);return r(void 0,"",c)}c.push([a,d]);return r(a[d],b.slice(d.length),c)},s=function(a,b){if(b.length===0||a==null)return a;var c=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});return c===void 0?void 0:s(a[c],b.slice(c.length))},t=function(b,c){var a;if(c.length===0||b==null)return b;var d=Object.keys(b).find(function(a){return a!==h&&c.startsWith(a)});if(d===void 0){var e=Object.keys(b).find(function(a){return a!==h&&a.startsWith(c[0])});if(e===void 0)b[c]={};else{var f=u(c,e);b[f]=(a={},a[e.slice(f.length)]=b[e],a);delete b[e];return t(b[f],c.slice(f.length))}return b[c]}return t(b[d],c.slice(d.length))},u=function(a,b,c,d,e){c===void 0&&(c=0);d===void 0&&(d=Math.min(a.length,b.length));e===void 0&&(e="");if(c>=d)return e;return a[c]!==b[c]?e:u(a,b,c+1,d,e+a[c])},v=function(a,b){a=c(r(a,b),2);b=a[0];a=a[1];if(b===void 0)return;delete b[h];var d=Object.keys(b);d.length===0&&w(a);d.length===1&&x(a,d[0],b[d[0]])},w=function(b){if(b.length===0)return;var a=c(y(b),2),d=a[0];a=a[1];delete d[a];Object.keys(d).length===0&&w(b.slice(0,-1))},x=function(a,b,d){if(a.length===0)return;a=c(y(a),2);var e=a[0];a=a[1];e[a+b]=d;delete e[a]},y=function(a){return a[a.length-1]},z,A="or",B="and",C=function(){function b(b){if((b===null||b===void 0?void 0:b.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');this._options=a(a(a({},J),b),{searchOptions:a(a({},K),b.searchOptions||{})});this._index=new q();this._documentCount=0;this._documentIds={};this._fieldIds={};this._fieldLength={};this._averageFieldLength={};this._nextId=0;this._storedFields={};this.addFields(this._options.fields)}b.prototype.add=function(b){var c=this,a=this._options,d=a.extractField,e=a.tokenize,f=a.processTerm,g=a.fields;a=a.idField;var h=d(b,a);if(h==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');var i=this.addDocumentId(h);this.saveStoredFields(i,b);g.forEach(function(a){var g=d(b,a);if(g==null)return;g=e(g.toString(),a);c.addFieldLength(i,c._fieldIds[a],c.documentCount-1,g.length);g.forEach(function(b){b=f(b,a);b&&c.addTerm(c._fieldIds[a],i,b)})})};b.prototype.addAll=function(a){var b=this;a.forEach(function(a){return b.add(a)})};b.prototype.addAllAsync=function(a,b){var c=this;b===void 0&&(b={});b=b.chunkSize;var d=b===void 0?10:b;b={chunk:[],promise:Promise.resolve()};a=a.reduce(function(a,e,f){var b=a.chunk;a=a.promise;b.push(e);if((f+1)%d===0)return{chunk:[],promise:a.then(function(){return new Promise(function(a){return setTimeout(a,0)})}).then(function(){return c.addAll(b)})};else return{chunk:b,promise:a}},b);var e=a.chunk;b=a.promise;return b.then(function(){return c.addAll(e)})};b.prototype.remove=function(b){var d=this,a=this._options,e=a.tokenize,f=a.processTerm,g=a.extractField,h=a.fields;a=a.idField;var i=g(b,a);if(i==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');a=c(Object.entries(this._documentIds).find(function(a){a=c(a,2);a[0];a=a[1];return i===a})||[],1);var j=a[0];if(j==null)throw new Error("MiniSearch: cannot remove document with ID "+i+": it is not in the index");h.forEach(function(a){var c=g(b,a);if(c==null)return;c=e(c.toString(),a);c.forEach(function(b){b=f(b,a);b&&d.removeTerm(d._fieldIds[a],j,b)})});delete this._storedFields[j];delete this._documentIds[j];this._documentCount-=1};b.prototype.removeAll=function(a){var b=this;if(a)a.forEach(function(a){return b.remove(a)});else if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");else this._index=new q(),this._documentCount=0,this._documentIds={},this._fieldLength={},this._averageFieldLength={},this._storedFields={},this._nextId=0};b.prototype.search=function(d,e){var f=this;e===void 0&&(e={});var b=this._options,g=b.tokenize,h=b.processTerm;b=b.searchOptions;var i=a(a({tokenize:g,processTerm:h},b),e);g=i.tokenize;var j=i.processTerm;h=g(d).map(function(a){return j(a)}).filter(function(a){return!!a});b=h.map(H(i));e=b.map(function(a){return f.executeQuery(a,i)});g=this.combineResults(e,i.combineWith);return Object.entries(g).reduce(function(d,a){a=c(a,2);var e=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;a={id:f._documentIds[e],terms:I(a),score:b,match:g};Object.assign(a,f._storedFields[e]);(i.filter==null||i.filter(a))&&d.push(a);return d},[]).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};b.prototype.autoSuggest=function(b,d){d===void 0&&(d={});d=a(a({},L),d);b=this.search(b,d).reduce(function(c,a){var b=a.score;a=a.terms;var d=a.join(" ");c[d]==null?c[d]={score:b,terms:a,count:1}:(c[d].score+=b,c[d].count+=1);return c},{});return Object.entries(b).map(function(a){a=c(a,2);var d=a[0];a=a[1];var b=a.score,e=a.terms;a=a.count;return{suggestion:d,terms:e,score:b/a}}).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};Object.defineProperty(b.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0});b.loadJSON=function(a,c){if(c==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return b.loadJS(JSON.parse(a),c)};b.getDefault=function(a){if(J.hasOwnProperty(a))return D(J,a);else throw new Error('MiniSearch: unknown option "'+a+'"')};b.loadJS=function(a,c){var d=a.index,e=a.documentCount,f=a.nextId,g=a.documentIds,h=a.fieldIds,i=a.fieldLength,j=a.averageFieldLength;a=a.storedFields;c=new b(c);c._index=new q(d._tree,d._prefix);c._documentCount=e;c._nextId=f;c._documentIds=g;c._fieldIds=h;c._fieldLength=i;c._averageFieldLength=j;c._fieldIds=h;c._storedFields=a||{};return c};b.prototype.executeQuery=function(b,d){var e=this;d=a(a({},this._options.searchOptions),d);var f=(d.fields||this._options.fields).reduce(function(c,d){var b;return a(a({},c),(b={},b[d]=D(c,d)||1,b))},d.boost||{}),g=d.boostDocument;d=d.weights;d=a(a({},K.weights),d);var h=d.fuzzy,i=d.prefix;d=this.termResults(b.term,f,g,this._index.get(b.term));if(!b.fuzzy&&!b.prefix)return d;var j=[d];b.prefix&&this._index.atPrefix(b.term).forEach(function(a,c){var d=.3*(a.length-b.term.length)/a.length;j.push(e.termResults(a,f,g,c,i,d))});if(b.fuzzy){d=b.fuzzy===!0?.2:b.fuzzy;d=d<1?Math.round(b.term.length*d):d;Object.entries(this._index.fuzzyGet(b.term,d)).forEach(function(a){a=c(a,2);var b=a[0];a=c(a[1],2);var d=a[0];a=a[1];a=a/b.length;j.push(e.termResults(b,f,g,d,h,a))})}return j.reduce(E[A],{})};b.prototype.combineResults=function(a,b){b===void 0&&(b=A);if(a.length===0)return{};b=b.toLowerCase();return a.reduce(E[b],null)||{}};b.prototype.toJSON=function(){return{index:this._index,documentCount:this._documentCount,nextId:this._nextId,documentIds:this._documentIds,fieldIds:this._fieldIds,fieldLength:this._fieldLength,averageFieldLength:this._averageFieldLength,storedFields:this._storedFields}};b.prototype.termResults=function(a,b,d,e,f,g){var h=this;g===void 0&&(g=0);return e==null?{}:Object.entries(b).reduce(function(f,b){b=c(b,2);var i=b[0],j=b[1],k=h._fieldIds[i];b=e[k]||{ds:{}};var l=b.df;b=b.ds;Object.entries(b).forEach(function(b){b=c(b,2);var e=b[0];b=b[1];var m=d?d(h._documentIds[e],a):1;if(!m)return;var n=h._fieldLength[e][k]/h._averageFieldLength[k];f[e]=f[e]||{score:0,match:{},terms:[]};f[e].terms.push(a);f[e].match[a]=D(f[e].match,a)||[];f[e].score+=m*G(b,l,h._documentCount,n,j,g);f[e].match[a].push(i)});return f},{})};b.prototype.addTerm=function(b,c,d){this._index.update(d,function(d){d=d||{};var e=d[b]||{df:0,ds:{}};e.ds[c]==null&&(e.df+=1);e.ds[c]=(e.ds[c]||0)+1;return a(a({},d),(d={},d[b]=e,d))})};b.prototype.removeTerm=function(b,c,d){var e=this;if(!this._index.has(d)){this.warnDocumentChanged(c,b,d);return}this._index.update(d,function(f){var g=f[b];if(g==null||g.ds[c]==null){e.warnDocumentChanged(c,b,d);return f}if(g.ds[c]<=1){if(g.df<=1){delete f[b];return f}g.df-=1}if(g.ds[c]<=1){delete g.ds[c];return f}g.ds[c]-=1;return a(a({},f),(f={},f[b]=g,f))});Object.keys(this._index.get(d)).length===0&&this._index["delete"](d)};b.prototype.warnDocumentChanged=function(a,b,d){if(console==null||emptyFunction==null)return;a=Object.entries(this._fieldIds).find(function(a){a=c(a,2);a[0];a=a[1];return a===b})[0]};b.prototype.addDocumentId=function(a){var b=this._nextId.toString(36);this._documentIds[b]=a;this._documentCount+=1;this._nextId+=1;return b};b.prototype.addFields=function(a){var b=this;a.forEach(function(a,c){b._fieldIds[a]=c})};b.prototype.addFieldLength=function(a,b,c,d){this._averageFieldLength[b]=this._averageFieldLength[b]||0;var e=this._averageFieldLength[b]*c+d;this._fieldLength[a]=this._fieldLength[a]||{};this._fieldLength[a][b]=d;this._averageFieldLength[b]=e/(c+1)};b.prototype.saveStoredFields=function(b,c){var d=this,a=this._options,e=a.storeFields,f=a.extractField;if(e==null||e.length===0)return;this._storedFields[b]=this._storedFields[b]||{};e.forEach(function(a){var e=f(c,a);if(e===void 0)return;d._storedFields[b][a]=e})};return b}(),D=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0},E=(z={},z[A]=function(a,b){return Object.entries(b).reduce(function(e,a){a=c(a,2);var f=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;e[f]==null?e[f]={score:b,match:g,terms:a}:(e[f].score+=b,e[f].score*=1.5,(b=e[f].terms).push.apply(b,d(a)),Object.assign(e[f].match,g));return e},a||{})},z[B]=function(b,e){return b==null?e:Object.entries(e).reduce(function(g,e){e=c(e,2);var h=e[0];e=e[1];var f=e.score,i=e.match;e=e.terms;if(b[h]===void 0)return g;g[h]=g[h]||{};g[h].score=b[h].score+f;g[h].match=a(a({},b[h].match),i);g[h].terms=d(b[h].terms,e);return g},{})},z),F=function(a,b,c){return a*Math.log(c/b)},G=function(a,b,c,d,e,f){e=e/(1+.333*e*f);return e*F(a,b,c)/d},H=function(a){return function(b,c,d){var e=typeof a.fuzzy==="function"?a.fuzzy(b,c,d):a.fuzzy||!1;c=typeof a.prefix==="function"?a.prefix(b,c,d):a.prefix===!0;return{term:b,fuzzy:e,prefix:c}}},I=function(a){return a.filter(function(b,c,a){return a.indexOf(b)===c})},J={idField:"id",extractField:function(a,b){return a[b]},tokenize:function(a,b){return a.split(M)},processTerm:function(a,b){return a.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[]},K={combineWith:A,prefix:!1,fuzzy:!1,boost:{},weights:{fuzzy:.9,prefix:.75}},L={prefix:function(a,b,c){return b===c.length-1}},M=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;return C})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("minisearch",["minisearch-3.0.2"],(function(a,b,c,d,e,f){e.exports=b("minisearch-3.0.2")()}),null);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceType",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("I64")).of_string("13");g.armadilloMessageSend=a}),98);
__d("LSCryptoUtils",["FBLogger","XPlatReactTextDecoder","XPlatReactTextEncoder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new Uint8Array(a)}function h(a){var b=new(d("XPlatReactTextEncoder").TextEncoder)();return b.encode(a)}function i(a){var b=new(d("XPlatReactTextDecoder").TextDecoder)();return b.decode(a)}function b(a){return i(new Uint8Array(a))}function e(a){return h(a).buffer}function f(a,b){var d=a.byteLength,e=b.byteLength;if(d!==e)throw c("FBLogger")("messenger_web").mustfixThrow("[LS] Mismatched lengths for modAdd, %d != %d",d,e);var f=new Uint8Array(d);new Uint8Array(d).reduceRight(function(c,d,e){d=a[e];var g=b[e];d=d+g+c;g=d>255?[d-256,1]:[d,0];f[e]=g[0];return g[1]},0);return f}g.bufToUint8=a;g.strToUint8=h;g.uint8ToStr=i;g.bufToStr=b;g.strToBuf=e;g.modAddBytes=f}),98);
__d("LSMaxInt32",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("I64")).of_int32(2147483647);g["default"]=a}),98);
__d("WACryptoHkdfSync",["WABinary","WACryptoSha256HmacBuilder","err"],(function(a,b,c,d,e,f,g){"use strict";var h=32,i=new Uint8Array(h),j=255*h;function k(a,b){return new(d("WACryptoSha256HmacBuilder").Sha256HMacBuilder)(b!=null?b:i).update(a).finish()}function l(a,b,e){e===void 0&&(e=new Uint8Array(0));if(b<0||b>j)throw c("err")("HKDF::expand given bad length "+b);var f=Math.ceil(b/h),g=new Uint8Array(0),i=new(d("WABinary").Binary)();for(var k=1;k<=f;k++)g=new(d("WACryptoSha256HmacBuilder").Sha256HMacBuilder)(a).update(d("WABinary").Binary.build(g,e,k).readByteArrayView()).finish(),i.writeByteArray(g);return i.readByteArrayView(b)}function a(a,b,c,d){return l(k(a,b),d,c)}g.hkdf=a}),98);
__d("CreateDerivedKeys",["CryptoLogger","I64","LSCryptoUtils","LSMaxInt32","LSSynchronousPromise","LSVec","Promise","RetUtil","WACryptoHkdfSync","XPlatReactCrypto","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f,g){var j=d("CryptoLogger").CryptoLogger("create_derived_keys");if(g.length<1||g.some(function(a){return(i||(i=d("I64"))).gt(a,c("LSMaxInt32"))})){j.mustfix("Invalid key lengths for derive keys");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(void 0))}var k=g.map((i||(i=d("I64"))).to_int32),l=g.map(i.to_int32).reduce(function(a,b){return a+b},0),m=function(a){var b=[],e=0;for(var f=0,g=k.length;f<g;++f){var h=e+k[f];b.push(a.slice(e,h).buffer);e=h}return d("RetUtil").getNullableRetResult(c("LSVec").ofArray(b))};if(c("gkx")("13860"))try{g=d("WACryptoHkdfSync").hkdf(d("LSCryptoUtils").bufToUint8(f),d("LSCryptoUtils").bufToUint8(e!=null?e:new Uint8Array(10).buffer),d("LSCryptoUtils").bufToUint8(a),l);return d("LSSynchronousPromise").makeSynchronousPromise(m(g))}catch(a){d("CryptoLogger").captureError(j,a).mustfix("hkdf failed at LSCreateDerivedKeys.nop");return d("LSSynchronousPromise").makeSynchronousPromise(d("RetUtil").getNullableRetResult())}return d("XPlatReactCrypto").subtleImportKey("raw",f,"HKDF",!1,["deriveBits"]).then(function(b){return d("XPlatReactCrypto").subtleDeriveBits({hash:"SHA-256",info:a,name:"HKDF",salt:e!=null?e:new Uint8Array(10).buffer},b,l*8)}).then(function(a){a=new Uint8Array(a);return m(a)})["catch"](function(a){j.catching(a).mustfix("Failed to create derived keys");return d("RetUtil").getNullableRetResult()})}g.CreateDerivedKeys=a}),98);
__d("EBDBConsistencyApi",["$InternalEnum","EBDB","FBLogger","I64","QPLUserFlow","ReQL","asyncToGeneratorRuntime","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"],j=null;function a(){return j}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{var e=(yield d("EBDB").getEBDB()),g=BigInt((h||(h=d("I64"))).to_string(b));yield e.runInTransaction(["device_state"],"readwrite",function(b){return b.stores.device_state.bulkPut([{deviceId:g,env:a}])},"EBDB - AddDevice",f.id+":53");j=g}catch(a){c("FBLogger")("wmi_eb").catching(a).mustfix("Error on EBDB - AddDevice")}});return l.apply(this,arguments)}function m(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_client_state)).then(function(a){return a==null?void 0:a.deviceId})}function e(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(d!=null)return k(b,d);try{d=(yield m(a));if(d==null)return;return k(b,d)}catch(a){c("FBLogger")("wmi_eb").catching(a).mustfix("Error on fetching secure_encrypted_backups_client_state")}});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){c("QPLUserFlow").addPoint(e,"track_overprompting_start");try{var g=(yield d("EBDB").getEBDB()),h=!1;yield g.runInTransaction(["device_state"],"readwrite",function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=(yield b.stores.device_state.get(a));(b==null?void 0:b.deviceId)!=null&&(h=!0)});return function(a){return c.apply(this,arguments)}}(),"EBDB - AddDevice",f.id+":104");c("QPLUserFlow").addAnnotations(e,{bool:{overprompting:h}});c("QPLUserFlow").addPoint(e,"track_overprompting_end")}catch(a){c("QPLUserFlow").addPoint(e,"track_overprompting_fail"),c("FBLogger")("wmi_eb").catching(a).mustfix("Error on track overpropting")}});return p.apply(this,arguments)}var q=b("$InternalEnum")({Disabled:0,EbsmInconsistent:1,EbdbInconsistent:2,Enabled:3,Inconsistent:4});function r(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield m(a));a=a!=null?BigInt((h||(h=d("I64"))).to_string(a)):null;if(a==null&&j==null)return q.Disabled;else if(a==null&&j!=null)return q.EbsmInconsistent;else if(a!=null&&j==null)return q.EbdbInconsistent;else if(a===j)return q.Enabled;else return q.Inconsistent});return s.apply(this,arguments)}function t(a,b,c,d){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d,e){var f=1/c("justknobx")._("3914");if(Math.random()>=f)return;f=c("qpl")._(521471316,"2831");try{c("QPLUserFlow").start(f);a=(yield r(a));e!=null&&c("QPLUserFlow").addAnnotations(f,e());c("QPLUserFlow").endSuccess(f,{annotations:{"int":{consistency:a,env:b,operation:d}}})}catch(a){c("QPLUserFlow").endFailure(f,"error"),c("FBLogger")("wmi_eb").catching(a).mustfix("Error on trackConsistency in %s",b)}});return u.apply(this,arguments)}function v(){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("EBDB").clearDeviceState(),j=null});return w.apply(this,arguments)}var x;function y(a,b){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){x!=null&&x();yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.encrypted_backups)).then(function(a){a!=null&&((a==null?void 0:a.backupId)==null||(a==null?void 0:a.isUserOptedOut)===!0)&&void v()})["catch"](function(a){c("FBLogger")("wmi_eb").catching(a).mustfix("EBDBApi: EBLS error on fetching data from encrypted_backups")});x=a.tables.encrypted_backups.subscribe(function(a,b){b.operation!=="delete"&&((b.value.backupId==null||b.value.isUserOptedOut===!0)&&void v())});var e=(yield d("EBDB").getEBDB()),g=(yield e.runInTransaction(["device_state"],"readonly",function(a){return a.stores.device_state.get(b)},"EBDB - readDeviceState",f.id+":245")["catch"](function(a){c("FBLogger")("wmi_eb").catching(a).mustfix("EBDB error: fetching device_state")}));j=A(g==null?void 0:g.deviceId);if(j==null){g=(yield m(a));if(g==null)return;var i=BigInt((h||(h=d("I64"))).to_string(g));j=i;yield e.runInTransaction(["device_state"],"readwrite",function(a){return a.stores.device_state.bulkPut([{deviceId:i,env:b}])},"EBDB - writeDeviceState",f.id+":267")["catch"](function(a){c("FBLogger")("wmi_eb").catching(a).mustfix("EBDB error: write device_state")})}});return z.apply(this,arguments)}function A(a){if(a==null)return;if(typeof a==="bigint")return a;if(typeof a==="number")return BigInt(a);if(typeof a==="string")try{return BigInt(a)}catch(a){c("FBLogger")("wmi_eb").catching(a).mustfix("EBDBApi: Parsing string as BigInt");void v();return}if(Array.isArray(a))try{return BigInt((h||(h=d("I64"))).to_string(a))}catch(a){c("FBLogger")("wmi_eb").catching(a).mustfix("EBDBApi: Parsing I64 as BigInt");void v();return}c("FBLogger")("wmi_eb").mustfix("EBDBApi: Parsing unknown as BigInt %s",String(a));void v()}g.EB_STORES=i;g.getDeviceId=a;g.addNewDevice=e;g.trackOverprompting=o;g.EBConsistencyResult=q;g.checkRegistrationConsistency=r;g.trackConsistency=t;g.clearDeviceState=v;g.startListeningDeviceRegistrations=y}),98);
__d("EBEncryptMessageTypes",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a){return a}function c(a){return a}function d(a){return a}function e(a){return a}function g(a){return a}function h(a){return a}function i(a){return a}function j(a){return a}function k(a){return a}function l(a){return a}function m(a){return a}function n(a){return a}f.unsafeCastToAAD=a;f.unsafeCastToSecretKey=b;f.unsafeCastToPlaintext=c;f.unsafeCastToCiphertext=d;f.unsafeCastToMsgData=e;f.unsafeCastToMacKey=g;f.unsafeCastToHmac=h;f.unsafeCastToEBCreateDerivedKeysIkm=i;f.unsafeCastToEBCreateDerivedKeysInfo=j;f.unsafeCastToEBCreateDerivedKeysSalt=k;f.unsafeCastToEBCreateDerivedKeyLength=l;f.unsafeCastToEBDerivedKey=m;f.castEBDerivedKeyToArrayBuffer=n}),66);
__d("EBLogger",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return c("FBLogger")("wmi_eb",a)};g.EBLogger=a}),98);
__d("EBSMAPI",["EBDeps","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){if(i!=null)return i;i=d("EBDeps").getDeps().getEBSMAPI();return i}a={addDeviceWithEBKeys:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;return(a=(yield j())).addDeviceWithEBKeys.apply(a,arguments)});function c(){return a.apply(this,arguments)}return c}(),addDeviceWithRecoveryCode:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;return(a=(yield j())).addDeviceWithRecoveryCode.apply(a,arguments)});function c(){return a.apply(this,arguments)}return c}(),deleteMailbox:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;return(a=(yield j())).deleteMailbox.apply(a,arguments)});function c(){return a.apply(this,arguments)}return c}(),fetchBackupIds:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;return(a=(yield j())).fetchBackupIds.apply(a,arguments)});function c(){return a.apply(this,arguments)}return c}(),generateRecoveryCode:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;return(a=(yield j())).generateRecoveryCode.apply(a,arguments)});function c(){return a.apply(this,arguments)}return c}(),getEBState:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return(yield j()).getEBState()});function c(){return a.apply(this,arguments)}return c}(),getLSVirtualDevices:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(yield j()).getLSVirtualDevices(a)});function c(b){return a.apply(this,arguments)}return c}(),initializeBackup:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;return(a=(yield j())).initializeBackup.apply(a,arguments)});function c(){return a.apply(this,arguments)}return c}(),isEbEnabled:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;return(a=(yield j())).isEbEnabled.apply(a,arguments)});function c(){return a.apply(this,arguments)}return c}(),optOutOfBackup:function(){return(h||(h=b("Promise"))).resolve()},otcAddDevice:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;return(a=(yield j())).otcAddDevice.apply(a,arguments)});function c(){return a.apply(this,arguments)}return c}()};c=a;g["default"]=c}),98);
__d("MWEncryptedBackupsFirstRestoreUpsellTime",["EBAPIWorkerCheck","FBLogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_encrypted_backups_restore_upsell_first_impression_time_key";function a(){var a=Date.now().toString();if(d("EBAPIWorkerCheck").runningInWorker())return k(a);if(!d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported())return a;try{var b;b=(b=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:b.getItem(i);if(b==null){var e;(e=(h||(h=c("WebStorage"))).getLocalStorage())==null||e.setItem(i,a);return a}return b}catch(b){c("FBLogger")("wmi_eb").warn("[labyrinth][web] Failed to set EB session identifier due to %s",b);return a}}var j=null;function k(a){j==null&&(j=a);return j}g.getFirstRestoreUpsellTime=a;g.getFirstRestoreUpsellTimeForEBLS=k}),98);
__d("EBSMMainthreadAPI",["EBDeps","EBGating","EBSMWorkerThreadAPI","MAWBridgeSendAndReceive","MWEncryptedBackupsFirstRestoreUpsellTime","Promise","QPLFlow","WebSession","gkx","justknobx","qpl","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("EBAddDeviceWithRecoveryCode").__setRef("EBSMMainthreadAPI"),j=c("requireDeferred")("EBFetchBackupIds").__setRef("EBSMMainthreadAPI");a=babelHelpers["extends"]({},c("EBSMWorkerThreadAPI"),{addDeviceWithRecoveryCode:function(){for(var a=arguments.length,e=new Array(a),g=0;g<a;g++)e[g]=arguments[g];if(e.length===0||e[0]==null)return(h||(h=b("Promise"))).reject("Missing args");var j=d("QPLFlow").startQPLFlow(c("qpl")._(521473756,"2768"),{annotations:{bool:{isBackendSetupOnStart:d("EBDeps").getDeps().isBackendSetupSuccessful(),isEBAddDeviceWithKeys:!1}},timeoutInMs:c("justknobx")._("2444")});if(c("gkx")("17731")&&e.length>0&&e[0]!=null)return d("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","addDeviceWithRecoveryCodeInWorker",{qplInstanceKeyMainthread:j.getQPLAttrs().instanceKey,recoveryCode:e[0].recoveryCode,userId:e[0].userId});else return i.load().then(function(a){return a.addDeviceWithRecoveryCode(babelHelpers["extends"]({},e[0],{qplFlow:j}))})},fetchBackupIds:function(a,b){var e=d("QPLFlow").startQPLFlow(c("qpl")._(521471024,"2275"),{annotations:{string:{ebSessionIdentifier:d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime(),fetchBackupIdsVersion:"msys",sessionTabId:d("WebSession").getId(),source:a}}});if(d("EBGating").isFetchBackupIdsFromWorker()){e.addPoint("eb_fetch_backup_ids_bridge_call_start");return d("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","fetchBackupIdsInWorker",{qplInstanceKeyMainthread:e.getQPLAttrs().instanceKey,source:a})}else return j.load().then(function(b){return b.fetchBackupIds(a,e)})}});e=a;g["default"]=e}),98);
__d("EncryptedBackupsSymmetricEncryptionUtils",[],(function(a,b,c,d,e,f){"use strict";a=16;b=28;c=16;d=128;f.hChaCha20SubKeyNonceLengthInBytes=a;f.totalNonceLengthInBytes=b;f.aesGcmTagLengthInBytes=c;f.aesGcmTagLength=d}),66);
__d("HChaCha20",["err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}a.fromHexString=function(a){var b=a.match(/[A-Fa-f0-9]{1,2}/g);if(a.length===0||a.length%2!==0||b==null)throw c("err")('The string "'+a+'" is not valid hex.');return new Uint8Array(b.map(function(a){return parseInt(a,16)}))};a.bufferToUint32Array=function(a){var b=new DataView(a),c=[];a=a.byteLength/4;for(var d=0;d<a;d++)c.push(new DataView(b.buffer.slice(d*4,d*4+4)).getInt32(0));return Uint32Array.from(c)};a.rotate=function(a,b){a=a&4294967295;b=b&31;return(a<<b|a>>>32-b)>>>0};a.quarterRound=function(b,c,d,e){b=b;c=c;d=d;e=e;b=b+c&4294967295;e=a.rotate(e^b,16);d=d+e&4294967295;c=a.rotate(c^d,12);b=b+c&4294967295;e=a.rotate(e^b,8);d=d+e&4294967295;c=a.rotate(c^d,7);return[b>>>0,c>>>0,d>>>0,e>>>0]};var b=a.prototype;b.createHCtx=function(b,d){var e=new Uint32Array(16),f=a.fromHexString("657870616e642033322d62797465206b");if(f.byteLength!==16)throw c("err")("Could not create context. Invalid constant buffer length of "+f.byteLength+". Expected a length of 16");else if(b.byteLength!==32)throw c("err")("Could not create context. Invalid key buffer length of "+b.byteLength+". Expected a length of 32");else if(d.byteLength!==16)throw c("err")("Could not create context. Invalid nonce buffer length of "+d.byteLength+". Expected a length of 16");f=a.bufferToUint32Array(f.buffer);b=a.bufferToUint32Array(b);d=a.bufferToUint32Array(d);e.set(f);e.set(b,f.length);e.set(d,f.length+b.length);return e.buffer};b.hChaCha20Bytes=function(b,c){c=new DataView(this.createHCtx(c,b));b=c.getInt32(0);var d=c.getInt32(1<<2),e=c.getInt32(2<<2),f=c.getInt32(3<<2),g=c.getInt32(4<<2),h=c.getInt32(5<<2),i=c.getInt32(6<<2),j=c.getInt32(7<<2),k=c.getInt32(8<<2),l=c.getInt32(9<<2),m=c.getInt32(10<<2),n=c.getInt32(11<<2),o=c.getInt32(12<<2),p=c.getInt32(13<<2),q=c.getInt32(14<<2);c=c.getInt32(15<<2);for(var r=0;r<10;r++){var s=a.quarterRound(b,g,k,o);b=s[0];g=s[1];k=s[2];o=s[3];s=a.quarterRound(d,h,l,p);d=s[0];h=s[1];l=s[2];p=s[3];s=a.quarterRound(e,i,m,q);e=s[0];i=s[1];m=s[2];q=s[3];s=a.quarterRound(f,j,n,c);f=s[0];j=s[1];n=s[2];c=s[3];s=a.quarterRound(b,h,m,c);b=s[0];h=s[1];m=s[2];c=s[3];s=a.quarterRound(d,i,n,o);d=s[0];i=s[1];n=s[2];o=s[3];s=a.quarterRound(e,j,k,p);e=s[0];j=s[1];k=s[2];p=s[3];s=a.quarterRound(f,g,l,q);f=s[0];g=s[1];l=s[2];q=s[3]}return Uint32Array.from([b,d,e,f,o,p,q,c]).buffer};return a}();g.HChaCha20=a}),98);
__d("PakeCpaceUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.buffer.slice(a.byteOffset,a.byteLength+a.byteOffset)}function b(a,b){var c=new a.VectorInt();b.forEach(function(a){c.push_back(a)});return c}f.typedArrayToBuffer=a;f.uint8ArrayToVectorInt=b}),66);
__d("Hmac_v2",["CryptoLogger","LSResult","PakeCpaceUtils","Promise","WACryptoSha256HmacBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e){try{a=new(d("WACryptoSha256HmacBuilder").Sha256HMacBuilder)(new Uint8Array(a)).update(new Uint8Array(e)).finish();return(h||(h=b("Promise"))).resolve(c("LSResult")(d("PakeCpaceUtils").typedArrayToBuffer(a)))}catch(a){d("CryptoLogger").captureError(d("CryptoLogger").CryptoLogger("hmac_v2"),a).mustfix("Crypto signing failed: data length: %s, was_timeout: %s",e==null?void 0:e.byteLength,!1);throw a}};g["default"]=a}),98);
__d("LSBinaryToHex.nop",["LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,d,e){a=Array.from(new Uint8Array(e));d=a.map(function(a){return a.toString(16).padStart(2,"0")});e=d.join("").toUpperCase();return(h||(h=b("Promise"))).resolve(c("LSResult")(e))};a.__nop_name__="LSBinaryToHex";g["default"]=a}),98);
__d("LSCreateDerivedKeys.nop",["CreateDerivedKeys","LSVec"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e,f,g,h){return d("CreateDerivedKeys").CreateDerivedKeys(e,f,g,c("LSVec").toArray(h))};a.__nop_name__="LSCreateDerivedKeys";g["default"]=a}),98);
__d("LSDataTraceType",[],(function(a,b,c,d,e,f){a=Object.freeze({TASK:1,SYNC:2,RECEIVE_MSG:3,RICH_MEDIA_SEND:4,RICH_MEDIA_DOWNLOAD:5,TASK_CLIENT_MODE:6,ENCRYPTED_BACKUPS_FETCH_BACKUP_STATUS:69,ENCRYPTED_BACKUPS_INIT:70,ENCRYPTED_BACKUPS_ADD_DEVICE:71,ENCRYPTED_BACKUPS_UPLOAD:72,ENCRYPTED_BACKUPS_RESTORE:73,ENCRYPTED_BACKUPS_DELETE_BACKUP:75,ENCRYPTED_BACKUPS_CREATE_EXTRA_VIRTUAL_DEVICE:76,ENCRYPTED_BACKUPS_QR_ADD_DEVICE:77,ENCRYPTED_BACKUPS_SYNC_EPOCHS:78,ENCRYPTED_BACKUPS_OPEN_EPOCH:79,ENCRYPTED_BACKUPS_OPT_OUT_OF_BACKUP:80,ENCRYPTED_BACKUPS_MEDIA_BACKUP:81,ENCRYPTED_BACKUPS_MEDIA_RESTORE:82,ENCRYPTED_BACKUPS_THIRD_PARTY_ID_GENERATION:83,ENCRYPTED_BACKUPS_FETCH_BACKUPS_METADATA:86,ENCRYPTED_BACKUPS_REMOVE_VIRTUAL_DEVICE:87,ENCRYPTED_BACKUPS_QR_ADD_DEVICE_RECEIVER:88,ENCRYPTED_BACKUPS_DERIVE_AND_STORE_EPOCHS:89,ENCRYPTED_BACKUPS_GET_OPEN_EPOCH_KEYS:90,ENCRYPTED_BACKUPS_END_TO_END_THREAD_RESTORE:190,SAP_VESTA_REGISTRATION:251,SAP_VESTA_LOGIN:252,ENCRYPTED_BACKUPS_SHADOW_FETCH_BACKUP_STATUS:197,ENCRYPTED_BACKUPS_SHADOW_INIT:198,ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE:199,ENCRYPTED_BACKUPS_SHADOW_UPLOAD:200,ENCRYPTED_BACKUPS_SHADOW_RESTORE:201,ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP:203,ENCRYPTED_BACKUPS_SHADOW_CREATE_EXTRA_VIRTUAL_DEVICE:204,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE:205,ENCRYPTED_BACKUPS_SHADOW_SYNC_EPOCHS:206,ENCRYPTED_BACKUPS_SHADOW_OPEN_EPOCH:207,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE_RECEIVER:216,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_UPSERT_VERSION_DATA:240,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_DELETE_VERSION_DATA:241,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_SYNC_VERSION_DATA:242,ENCRYPTED_BACKUPS_MESSAGE_INTEGRITY_CHECKER:243});f["default"]=a}),66);
__d("LSIssueNewEbTaskAndGetTaskIDV2",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],void 0,void 0,c.i64.cast([0,0]),a[3],a[4],void 0,a[5],a[7]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueNewEbTaskAndGetTaskIDV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSFetchBackupIds",["LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFetchBackupIdsStoredProcedure] Beginning execution."),d[11]=c.i64.cast([0,0]),d[7]=d[11],d[8]=new c.Map(),d[8].set("backup_tenancy",a[0]),d[8].set("trace_id",void 0),d[9]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",c.i64.cast([0,50008]),d[9],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,d[7]).then(function(a){return a=a,d[10]=a[0],a})},function(a){return d[1]=c.i64.of_float(Date.now()),d[2]=c.i64.random(),d[4]="Finishing execution. Execution time: ",d[5]=c.i64.to_string(c.i64.sub(d[1],d[0])),d[6]=" ms",d[3]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsFetchBackupIdsStoredProcedure] ",d[3],d[4],d[3],d[5],d[3],d[6]].join("")),c.i64.eq(c.i64.mod_(d[2],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[7]=",",d[8]=c.createArray(),void 0!==void 0?d[9]=(d[8].push(void 0),d[8]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFetchBackupIdsStoredProcedure",[d[4],d[7],d[5],d[7],d[6]].join(""),d[8],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsFetchBackupIdsStoredProcedure";a.__tables__=["encrypted_backups"];e.exports=a}),null);
__d("LSFetchBackupIdsStoredProcedure",["LSFetchBackupIds","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFetchBackupIds"),e.backupTenancy,e.traceId,e.isUiBlocking);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSGetBlobFromString.nop",["CryptoLogger","LSResult","LSSynchronousPromise","XPlatReactTextEncoder"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e){a=new(d("XPlatReactTextEncoder").TextEncoder)();try{b=a.encode(e).buffer;return d("LSSynchronousPromise").makeSynchronousPromise(c("LSResult")(b))}catch(b){a=d("CryptoLogger").CryptoLogger("get_blob_from_string");a.catching(b).mustfix(b.message?b.message:"Error in get blob from string.");throw b}};a.__nop_name__="LSGetBlobFromString";g["default"]=a}),98);
__d("LSGetLatestEpochKeys",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][getLatestEpochKeys] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]="",d[3]=void 0,d[4]=void 0,d[5]=void 0,a[0]?c.resolve(0):(d[15]=void 0,c.i64.neq(d[15],void 0)?c.sequence([function(a){return c.count(c.db.table(169).fetch([[[d[15]]]])).then(function(a){return d[16]=a})},function(a){return c.i64.le(d[16],c.i64.cast([0,1]))?c.sequence([function(a){return c.db.table(169).fetch([[[d[15]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[26]=new c.Map(),d[26].set("error_msg","Expected a nonempty query result"),d[26].set("code",c.i64.cast([0,3])),d[26].set("src_line","MEBEpochClientUtils.php:313 MEBEpochClientUtils::requireEpochReturnShapeFromPersistentEpochsTableDirectly()"),d[27]=c.createArray(),d[28]=(d[27].push(d[26]),d[27]),e=[void 0,d[27]],d[22]=e[0],d[23]=e[1]):(b=a.item,d[26]=new c.Map(),d[26].set("epoch_id",b.epochId),d[26].set("backup_id",b.backupId),d[26].set("epoch_anon_id_blob",b.epochAnonIdBlob),d[26].set("epoch_root_key_blob",b.epochRootKeyBlob),d[26].set("epoch_status",b.epochStatus),d[26].set("epoch_head",b.epochHead),d[26].set("authority_level",b.authorityLevel),e=[d[26],void 0],d[22]=e[0],d[23]=e[1])})},function(a){return d[25]=new c.Map(),d[25].set("value",d[22]),d[25].set("errors",d[23]),d[17]=d[25]}]):c.resolve((d[22]=new c.Map(),d[22].set("error_msg","Expected at most one result"),d[22].set("code",c.i64.cast([0,4])),d[22].set("src_line","MEBEpochClientUtils.php:313 MEBEpochClientUtils::requireEpochReturnShapeFromPersistentEpochsTableDirectly()"),d[23]=c.createArray(),d[25]=(d[23].push(d[22]),d[23]),d[24]=new c.Map(),d[24].set("value",void 0),d[24].set("errors",d[23]),d[17]=d[24]))},function(a){return d[18]=d[17].get("value"),d[18]!==void 0?(d[22]=d[18].get("epoch_id"),d[23]=d[18].get("backup_id"),d[24]=d[18].get("epoch_anon_id_blob"),d[25]=d[18].get("epoch_root_key_blob"),d[26]=d[18].get("epoch_status"),d[27]=d[18].get("epoch_head"),d[28]=d[18].get("authority_level"),d[29]=d[17],d[19]=d[29]):(d[22]=d[17].get("errors"),d[23]=d[17].get("errors"),d[24]=new c.Map(),d[24].set("value",void 0),d[24].set("errors",d[22]),d[19]=d[24]),d[20]=d[19].get("value"),d[20]!==void 0?(d[22]=d[20].get("epoch_id"),d[23]=d[20].get("backup_id"),d[24]=d[20].get("epoch_anon_id_blob"),d[25]=d[20].get("epoch_root_key_blob"),d[26]=d[20].get("epoch_status"),d[27]=d[20].get("epoch_head"),d[28]=d[20].get("authority_level"),d[2]=c.blobs.to_string(d[24]),d[3]=d[22],d[4]=d[25],c.blobs.neq(d[27],void 0)?d[5]=d[27]:0,d[21]=!0):(d[22]=d[19].get("errors"),d[23]=d[19].get("errors"),d[21]=!1)}]):c.resolve())},function(b){return c.i64.neq(d[3],void 0)?c.resolve(0):c.sequence([function(b){return d[15]=void 0,d[16]="",d[17]=void 0,d[18]=void 0,c.forEach(c.filter(c.db.table(169).fetch(),function(b){return a[0]||c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[20]=c.blobs.to_string(a.epochAnonIdBlob),c.i64.eq([0,d[20].length],[0,d[16].length])?d[19]=d[20]>d[16]:d[19]=c.i64.gt([0,d[20].length],[0,d[16].length]),d[19]?(d[15]=a.epochId,d[16]=d[20],d[17]=a.epochRootKeyBlob,d[18]=a.epochHead):0})},function(a){return c.i64.neq(d[15],void 0)?(d[2]=d[16],d[3]=d[15],d[4]=d[17],c.blobs.neq(d[18],void 0)?d[5]=d[18]:0,d[19]=c.i64.of_float(Date.now()),0):0}])},function(a){return d[11]=c.blobs.of_string(d[2]),c.i64.neq(d[3],void 0)?(c.blobs.neq(d[11],void 0)?(c.blobs.neq(d[4],void 0)?(d[19]=new c.Map(),d[19].set("epoch_id",d[3]),d[19].set("epoch_root_key",d[4]),d[19].set("epoch_anon_id",d[11]),d[19].set("epoch_head",d[5]),d[20]=new c.Map(),d[20].set("epoch_keys",d[19]),a=[d[20],void 0],d[17]=a[0],d[18]=a[1]):(d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,402])),d[19].set("error_message","failed to query latest epoch"),d[19].set("stored_procedure","LSEncryptedBackupsGetLatestEpochKeysStoredProcedure"),a=[void 0,d[19]],d[17]=a[0],d[18]=a[1]),a=[d[17],d[18]],d[15]=a[0],d[16]=a[1]):(d[17]=new c.Map(),d[17].set("error_code",c.i64.cast([0,403])),d[17].set("error_message","failed to query latest epoch"),d[17].set("stored_procedure","LSEncryptedBackupsGetLatestEpochKeysStoredProcedure"),a=[void 0,d[17]],d[15]=a[0],d[16]=a[1]),a=[d[15],d[16]],d[6]=a[0],d[7]=a[1]):(d[15]=new c.Map(),d[15].set("error_code",c.i64.cast([0,400])),d[15].set("error_message","failed to query latest epoch"),d[15].set("stored_procedure","LSEncryptedBackupsGetLatestEpochKeysStoredProcedure"),a=[void 0,d[15]],d[6]=a[0],d[7]=a[1]),d[8]=c.i64.of_float(Date.now()),d[9]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[8],d[0])),d[14]=" ms",d[10]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][getLatestEpochKeys] ",d[10],d[12],d[10],d[13],d[10],d[14]].join("")),c.i64.eq(c.i64.mod_(d[9],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"getLatestEpochKeys",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[6],d[7]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsGetLatestEpochKeysStoredProcedure";a.__tables__=["secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSGetNextEpochAnonId.nop",["CryptoLogger","LSCryptoUtils","LSResult","Promise","XPlatReactTextDecoder"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){a=d("LSCryptoUtils").strToBuf("0");if(f!=null){e=f;if(e.byteLength===0)f=a;else{var g=new(d("XPlatReactTextDecoder").TextDecoder)();g=g.decode(e);e=Number.parseInt(g,10);g=e+1;f=d("LSCryptoUtils").strToBuf(String(g))}}else f=a;return(h||(h=b("Promise"))).resolve(c("LSResult")(f))["catch"](function(a){d("CryptoLogger").captureError(d("CryptoLogger").CryptoLogger("get_next_epoch_anonid"),a).mustfix("Getting next epoch anon id failed");throw a})};a.__nop_name__="LSGetNextEpochAnonId";g["default"]=a}),98);
__d("LSHmac_v2.nop",["Hmac_v2"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,d,e){return c("Hmac_v2")(d,e)};a.__nop_name__="LSHmac_v2";g["default"]=a}),98);
__d("LSLoadThreadPkFromThreadId",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadThreadPkFromThreadId] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(173).fetch(),function(b){return c.i64.to_string(b.jid)===a[0]}).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,100])),d[13].set("stored_procedure","LSEncryptedBackupsLoadThreadPkFromThreadIdStoredProcedure"),d[13].set("error_message",""),e=[void 0,d[13]],d[2]=e[0],d[3]=e[1]):(b=a.item,e=[b.clientThreadPk,void 0],d[2]=e[0],d[3]=e[1])})},function(a){return c.i64.neq(d[2],void 0)?(a=[d[2],d[3]],d[5]=a[0],d[6]=a[1],a):(d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,7])),d[13].set("stored_procedure","LSEncryptedBackupsLoadThreadPkFromThreadIdStoredProcedure"),d[13].set("error_message",""),c.i64.neq(void 0,void 0)?(a=[void 0,d[13]],d[14]=a[0],d[15]=a[1],a):(d[16]=new c.Map(),d[16].set("error_code",c.i64.cast([0,100])),d[16].set("stored_procedure","LSEncryptedBackupsLoadThreadPkFromThreadIdStoredProcedure"),d[16].set("error_message",""),a=[void 0,d[16]],d[14]=a[0],d[15]=a[1]),a=[d[14],d[15]],d[5]=a[0],d[6]=a[1]),d[7]=c.i64.of_float(Date.now()),d[8]=c.i64.random(),d[10]="Finishing execution. Execution time: ",d[11]=c.i64.to_string(c.i64.sub(d[7],d[0])),d[12]=" ms",d[9]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadThreadPkFromThreadId] ",d[9],d[10],d[9],d[11],d[9],d[12]].join("")),c.i64.eq(c.i64.mod_(d[8],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[13]=",",d[14]=c.createArray(),void 0!==void 0?d[15]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadThreadPkFromThreadId",[d[10],d[13],d[11],d[13],d[12]].join(""),d[14],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[5],d[6]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsLoadThreadPkFromThreadIdStoredProcedure";a.__tables__=["mi_act_mapping_table"];e.exports=a}),null);
__d("LSIssueMessageRangeQueryTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLoadThreadPkFromThreadId","LSLogMebClientEvent.nop","LSQplAnnotateString.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueMessageRangeQueryTask] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[11]=c.i64.gt(a[1],c.i64.cast([0,0]))&&c.i64.gt(a[5],c.i64.cast([0,0])),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[15]=new c.Map(),d[15].set("error_msg","Expected a nonempty query result"),d[15].set("code",c.i64.cast([0,3])),d[15].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[16]=c.createArray(),d[17]=(d[16].push(d[15]),d[16]),e=[void 0,d[16]],d[2]=e[0],d[3]=e[1]):(b=a.item,d[15]=new c.Map(),d[15].set("backup_id",b.backupId),d[15].set("device_public_key_blob",b.devicePublicKeyBlob),d[15].set("device_private_key_blob",b.devicePrivateKeyBlob),d[15].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[15].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[15].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[15].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[15].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[15].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[15].set("orf_client_state_v2_blob",void 0),d[15].set("orf_v2_authority_level",void 0),d[15].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[15].set("device_id",b.deviceId),d[15].set("backup_tenancy",b.backupTenancy),d[15].set("encryption_version",b.encryptionVersion),d[15].set("revision_version",b.revisionVersion),d[15].set("initialize_restore_result",void 0),d[15].set("device_creation_timestamp_sec",void 0),d[15].set("authority_level",b.authorityLevel),e=[d[15],void 0],d[2]=e[0],d[3]=e[1])})},function(e){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(e){return d[15]=d[6].get("backup_id"),d[16]=d[6].get("device_public_key_blob"),d[17]=d[6].get("device_private_key_blob"),d[18]=d[6].get("epoch_storage_public_key_blob"),d[19]=d[6].get("epoch_storage_private_key_blob"),d[20]=d[6].get("epoch_auth_public_key_blob"),d[21]=d[6].get("epoch_auth_private_key_blob"),d[22]=d[6].get("mailbox_root_key_blob"),d[23]=d[6].get("ocmf_client_state_blob"),d[24]=d[6].get("orf_client_state_v2_blob"),d[25]=d[6].get("orf_v2_authority_level"),d[26]=d[6].get("oblivious_validation_token_blob"),d[27]=d[6].get("device_id"),d[28]=d[6].get("backup_tenancy"),d[29]=d[6].get("encryption_version"),d[30]=d[6].get("revision_version"),d[31]=d[6].get("initialize_restore_result"),d[32]=d[6].get("device_creation_timestamp_sec"),d[33]=d[6].get("authority_level"),c.i64.neq(d[27],void 0)?c.sequence([function(a){return d[35]=void 0,c.i64.neq(d[35],void 0)?c.resolve(d[36]=d[35]):c.sequence([function(a){return d[41]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[42]?d[51]=(d[41].push(c.i64.cast([0,0])),d[41]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[43]?d[51]=(d[41].push(c.i64.cast([0,2])),d[41]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[44]?d[51]=(d[41].push(c.i64.cast([0,3])),d[41]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[51]=(d[41].push(c.i64.cast([0,4])),d[41]):0,d[46]=c.createArray(),d[47]=c.i64.of_int32(d[41].length),c.i64.gt(d[47],c.i64.cast([0,0]))?c.loopAsync(d[47],function(a){return d[51]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[41],d[51]).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],a})},function(a){return d[54]=(d[46].push(d[52]),d[46])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[51]=c.createArray(),d[52]=c.i64.of_int32(d[46].length),c.i64.gt(d[52],c.i64.cast([0,0]))?c.loopAsync(d[52],function(a){return d[54]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[46],d[54]).then(function(a){return a=a,d[55]=a[0],d[56]=a[1],a})},function(a){return d[57]=(d[51].push(c.i64.to_string(d[55])),d[51])}])}):c.resolve()},function(a){return d[53]=d[51].join(","),d[48]=d[53]}])},function(a){return d[46].some(function(a){return c.i64.eq(d[29],a)})?d[49]=d[29]:d[49]=void 0,c.i64.neq(d[49],void 0)?d[50]=d[49]:d[50]=void 0,d[36]=d[50]}])},function(e){return c.i64.neq(d[36],void 0)?d[37]=d[36]:d[37]=c.i64.cast([0,0]),c.i64.neq(d[28],void 0)?d[38]=d[28]:d[38]=c.i64.cast([0,1]),c.storedProcedure(b("LSLoadThreadPkFromThreadId"),a[0]).then(function(a){return a=a,d[39]=a[0],d[40]=a[1],a})},function(e){return c.i64.neq(d[39],void 0)?d[11]?c.sequence([function(a){return d[41]=c.i64.random(),d[42]=void 0==null?c.i64.to_string(d[41]):void 0,d[42]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,679677570]),d[42],!0,void 0):c.resolve()},function(a){return d[42]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,679677570]),d[42],"issue_task"):c.resolve()},function(a){return d[42]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679677570]),d[42],"request_type","ENCRYPTED_BACKUPS_MESSAGE_SURROUNDING_QUERY"):c.resolve()},function(e){return c.i64.eq(d[38],c.i64.cast([0,3]))?d[43]=c.i64.cast([0,4]):d[43]=c.i64.cast([0,0]),d[44]=new c.Map(),d[44].set("act_thread_id",a[0]),d[44].set("request_id",d[42]),d[44].set("tam_thread_subtype",d[43]),d[44].set("source",a[6]),c.nativeOperation(b("LSBase64Encode.nop"),d[23]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[22]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[47]=new c.Map(),d[47].set("ocmf_client_state_blob",d[45]==null?"":d[45]),d[47].set("mailbox_root_key",d[46]==null?"":d[46]),d[48]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[59]=(d[48].push(a.epochId),d[48])})},function(a){return d[57]="Queried locally available epochs. Count: ",d[49]=c.i64.of_int32(d[48].length),d[58]=c.i64.to_string(d[49]),d[50]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[50],d[57],d[50],d[58]].join("")),c.resolve()},function(e){return d[51]=new c.Map(),d[51].set("device_id",d[27]),d[51].set("raw_tokens",d[47]),d[51].set("locally_available_epochs",d[48]),d[52]=new c.Map(),d[52].set("reference_timestamp",a[2]),d[52].set("server_thread_key",void 0),d[52].set("device_context",d[51]),d[52].set("source",a[6]),d[53]=new c.Map(),d[53].set("restore_context",d[44]),d[53].set("success",d[52]),d[54]=d[53].get("restore_context"),d[55]=d[54].get("act_thread_id"),d[56]=c.toJSON(d[53]),c.storedProcedure(b("LSIssueNewTask"),["encrypted_backups_restore",":",d[55]].join(""),c.i64.cast([0,50031]),d[56],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.i64.gt(a[1],c.i64.cast([0,0]))?c.sequence([function(e){return a[4]!==void 0?c.sequence([function(e){return[c.i64.cast([0,21]),c.i64.cast([0,83]),c.i64.cast([0,87])].some(function(b){return c.i64.eq(a[6],b)})?c.resolve(d[59]=a[4]):c.sequence([function(a){return d[60]=c.i64.random(),d[61]=void 0==null?c.i64.to_string(d[60]):void 0,d[61]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,679677570]),d[61],!0,void 0):c.resolve()},function(a){return d[61]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,679677570]),d[61],"issue_task"):c.resolve()},function(a){return d[61]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679677570]),d[61],"request_type","ENCRYPTED_BACKUPS_MESSAGE_RANGE_QUERY"):c.resolve()},function(a){return d[59]=d[61]}])},function(a){return d[41]=d[59]}]):c.sequence([function(a){return d[59]=c.i64.random(),d[60]=void 0==null?c.i64.to_string(d[59]):void 0,d[60]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,679677570]),d[60],!0,void 0):c.resolve()},function(a){return d[60]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,679677570]),d[60],"issue_task"):c.resolve()},function(a){return d[60]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679677570]),d[60],"request_type","ENCRYPTED_BACKUPS_MESSAGE_RANGE_QUERY"):c.resolve()},function(a){return d[41]=d[60]}])},function(e){return c.i64.eq(d[38],c.i64.cast([0,3]))?d[42]=c.i64.cast([0,4]):d[42]=c.i64.cast([0,0]),a[7]===!0?d[43]=!0:d[43]=!1,d[44]=new c.Map(),d[44].set("act_thread_id",a[0]),d[44].set("request_id",d[41]),d[44].set("tam_thread_subtype",d[42]),d[44].set("reference_id",void 0),d[44].set("source",a[6]),c.nativeOperation(b("LSBase64Encode.nop"),d[23]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[22]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[47]=new c.Map(),d[47].set("ocmf_client_state_blob",d[45]==null?"":d[45]),d[47].set("mailbox_root_key",d[46]==null?"":d[46]),d[48]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[59]=(d[48].push(a.epochId),d[48])})},function(a){return d[57]="Queried locally available epochs. Count: ",d[49]=c.i64.of_int32(d[48].length),d[58]=c.i64.to_string(d[49]),d[50]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[50],d[57],d[50],d[58]].join("")),c.resolve()},function(e){return d[51]=new c.Map(),d[51].set("device_id",d[27]),d[51].set("raw_tokens",d[47]),d[51].set("locally_available_epochs",d[48]),d[52]=new c.Map(),d[52].set("reference_timestamp",a[2]),d[52].set("direction",c.i64.cast([0,1])),d[52].set("server_thread_key",void 0),d[52].set("device_context",d[51]),d[52].set("source",a[6]),d[52].set("include_offset",d[43]),d[53]=new c.Map(),d[53].set("restore_context",d[44]),d[53].set("success",d[52]),d[53].set("queue_name",void 0),d[54]=d[53].get("queue_name"),d[54]!==void 0?d[55]=d[54]:(d[59]=d[53].get("restore_context"),d[60]=d[59].get("act_thread_id"),d[55]=["encrypted_backups_restore",":",d[60]].join("")),d[56]=c.toJSON(d[53]),c.storedProcedure(b("LSIssueNewTask"),d[55],c.i64.cast([0,50030]),d[56],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.sequence([function(e){return a[4]!==void 0?c.sequence([function(e){return[c.i64.cast([0,21]),c.i64.cast([0,83]),c.i64.cast([0,87])].some(function(b){return c.i64.eq(a[6],b)})?c.resolve(d[59]=a[4]):c.sequence([function(a){return d[60]=c.i64.random(),d[61]=void 0==null?c.i64.to_string(d[60]):void 0,d[61]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,679677570]),d[61],!0,void 0):c.resolve()},function(a){return d[61]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,679677570]),d[61],"issue_task"):c.resolve()},function(a){return d[61]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679677570]),d[61],"request_type","ENCRYPTED_BACKUPS_MESSAGE_RANGE_QUERY"):c.resolve()},function(a){return d[59]=d[61]}])},function(a){return d[41]=d[59]}]):c.sequence([function(a){return d[59]=c.i64.random(),d[60]=void 0==null?c.i64.to_string(d[59]):void 0,d[60]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,679677570]),d[60],!0,void 0):c.resolve()},function(a){return d[60]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,679677570]),d[60],"issue_task"):c.resolve()},function(a){return d[60]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679677570]),d[60],"request_type","ENCRYPTED_BACKUPS_MESSAGE_RANGE_QUERY"):c.resolve()},function(a){return d[41]=d[60]}])},function(e){return c.i64.eq(d[38],c.i64.cast([0,3]))?d[42]=c.i64.cast([0,4]):d[42]=c.i64.cast([0,0]),a[7]===!0?d[43]=!0:d[43]=!1,d[44]=new c.Map(),d[44].set("act_thread_id",a[0]),d[44].set("request_id",d[41]),d[44].set("tam_thread_subtype",d[42]),d[44].set("reference_id",void 0),d[44].set("source",a[6]),c.nativeOperation(b("LSBase64Encode.nop"),d[23]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[22]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[47]=new c.Map(),d[47].set("ocmf_client_state_blob",d[45]==null?"":d[45]),d[47].set("mailbox_root_key",d[46]==null?"":d[46]),d[48]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[59]=(d[48].push(a.epochId),d[48])})},function(a){return d[57]="Queried locally available epochs. Count: ",d[49]=c.i64.of_int32(d[48].length),d[58]=c.i64.to_string(d[49]),d[50]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[50],d[57],d[50],d[58]].join("")),c.resolve()},function(e){return d[51]=new c.Map(),d[51].set("device_id",d[27]),d[51].set("raw_tokens",d[47]),d[51].set("locally_available_epochs",d[48]),d[52]=new c.Map(),d[52].set("reference_timestamp",a[2]),d[52].set("direction",c.i64.cast([0,2])),d[52].set("server_thread_key",void 0),d[52].set("device_context",d[51]),d[52].set("source",a[6]),d[52].set("include_offset",d[43]),d[53]=new c.Map(),d[53].set("restore_context",d[44]),d[53].set("success",d[52]),d[53].set("queue_name",void 0),d[54]=d[53].get("queue_name"),d[54]!==void 0?d[55]=d[54]:(d[59]=d[53].get("restore_context"),d[60]=d[59].get("act_thread_id"),d[55]=["encrypted_backups_restore",":",d[60]].join("")),d[56]=c.toJSON(d[53]),c.storedProcedure(b("LSIssueNewTask"),d[55],c.i64.cast([0,50030]),d[56],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.sequence([function(e){return d[11]?(d[43]=new c.Map(),d[43].set("error_code",c.i64.cast([0,100])),d[43].set("error_message",""),d[43].set("stored_procedure","issueMessageRangeQueryTask"),d[44]=new c.Map(),d[44].set("act_thread_id",a[0]),d[45]=new c.Map(),d[45].set("restore_context",d[44]),d[45].set("failure",d[43]),d[46]=d[45].get("restore_context"),d[47]=d[46].get("act_thread_id"),d[48]=c.toJSON(d[45]),c.storedProcedure(b("LSIssueNewTask"),["encrypted_backups_restore",":",d[47]].join(""),c.i64.cast([0,50031]),d[48],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[55]=new c.Map(),d[55].set("error_msg","Expected a nonempty query result"),d[55].set("code",c.i64.cast([0,3])),d[55].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[56]=c.createArray(),d[57]=(d[56].push(d[55]),d[56]),e=[void 0,d[56]],d[43]=e[0],d[44]=e[1]):(b=a.item,d[55]=new c.Map(),d[55].set("backup_id",b.backupId),d[55].set("device_public_key_blob",b.devicePublicKeyBlob),d[55].set("device_private_key_blob",b.devicePrivateKeyBlob),d[55].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[55].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[55].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[55].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[55].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[55].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[55].set("orf_client_state_v2_blob",void 0),d[55].set("orf_v2_authority_level",void 0),d[55].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[55].set("device_id",b.deviceId),d[55].set("backup_tenancy",b.backupTenancy),d[55].set("encryption_version",b.encryptionVersion),d[55].set("revision_version",b.revisionVersion),d[55].set("initialize_restore_result",void 0),d[55].set("device_creation_timestamp_sec",void 0),d[55].set("authority_level",b.authorityLevel),e=[d[55],void 0],d[43]=e[0],d[44]=e[1])})},function(a){return d[46]=new c.Map(),d[46].set("value",d[43]),d[46].set("errors",d[44]),d[47]=d[46].get("value"),d[47]!==void 0?c.sequence([function(a){return d[55]=d[47].get("backup_id"),d[56]=d[47].get("device_public_key_blob"),d[57]=d[47].get("device_private_key_blob"),d[58]=d[47].get("epoch_storage_public_key_blob"),d[59]=d[47].get("epoch_storage_private_key_blob"),d[60]=d[47].get("epoch_auth_public_key_blob"),d[61]=d[47].get("epoch_auth_private_key_blob"),d[62]=d[47].get("mailbox_root_key_blob"),d[63]=d[47].get("ocmf_client_state_blob"),d[64]=d[47].get("orf_client_state_v2_blob"),d[65]=d[47].get("orf_v2_authority_level"),d[66]=d[47].get("oblivious_validation_token_blob"),d[67]=d[47].get("device_id"),d[68]=d[47].get("backup_tenancy"),d[69]=d[47].get("encryption_version"),d[70]=d[47].get("revision_version"),d[71]=d[47].get("initialize_restore_result"),d[72]=d[47].get("device_creation_timestamp_sec"),d[73]=d[47].get("authority_level"),c.i64.neq(d[67],void 0)?c.sequence([function(a){return d[75]=void 0,c.i64.neq(d[75],void 0)?c.resolve(d[76]=d[75]):c.sequence([function(a){return d[79]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[80]=a[0],a})},function(a){return d[80]?d[89]=(d[79].push(c.i64.cast([0,0])),d[79]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[81]?d[89]=(d[79].push(c.i64.cast([0,2])),d[79]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[82]=a[0],a})},function(a){return d[82]?d[89]=(d[79].push(c.i64.cast([0,3])),d[79]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[83]=a[0],a})},function(a){return d[83]?d[89]=(d[79].push(c.i64.cast([0,4])),d[79]):0,d[84]=c.createArray(),d[85]=c.i64.of_int32(d[79].length),c.i64.gt(d[85],c.i64.cast([0,0]))?c.loopAsync(d[85],function(a){return d[89]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[79],d[89]).then(function(a){return a=a,d[90]=a[0],d[91]=a[1],a})},function(a){return d[92]=(d[84].push(d[90]),d[84])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[89]=c.createArray(),d[90]=c.i64.of_int32(d[84].length),c.i64.gt(d[90],c.i64.cast([0,0]))?c.loopAsync(d[90],function(a){return d[92]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[84],d[92]).then(function(a){return a=a,d[93]=a[0],d[94]=a[1],a})},function(a){return d[95]=(d[89].push(c.i64.to_string(d[93])),d[89])}])}):c.resolve()},function(a){return d[91]=d[89].join(","),d[86]=d[91]}])},function(a){return d[84].some(function(a){return c.i64.eq(d[69],a)})?d[87]=d[69]:d[87]=void 0,c.i64.neq(d[87],void 0)?d[88]=d[87]:d[88]=void 0,d[76]=d[88]}])},function(a){return c.i64.neq(d[76],void 0)?d[77]=d[76]:d[77]=c.i64.cast([0,0]),c.i64.neq(d[68],void 0)?d[78]=d[68]:d[78]=c.i64.cast([0,1]),d[74]=d[67]}]):c.resolve(d[74]=void 0)},function(a){return d[48]=d[74]}]):c.resolve((d[55]=d[46].get("errors"),d[56]=d[46].get("errors"),d[48]=void 0))},function(e){return d[49]=new c.Map(),d[49].set("error_code",c.i64.cast([0,100])),d[49].set("error_message",void 0==null?"":void 0),d[49].set("stored_procedure","issueMessageRangeQueryTask"),d[50]=new c.Map(),d[50].set("act_thread_id",a[0]),d[50].set("source",a[6]),d[50].set("restore_operation_type",c.i64.cast([0,2])),d[50].set("request_id",a[4]),d[50].set("device_id",d[48]),d[51]=new c.Map(),d[51].set("restore_context",d[50]),d[51].set("failure",d[49]),d[52]=d[51].get("queue_name"),d[52]!==void 0?d[53]=d[52]:(d[55]=d[51].get("restore_context"),d[56]=d[55].get("act_thread_id"),d[53]=["encrypted_backups_restore",":",d[56]].join("")),d[54]=c.toJSON(d[51]),c.storedProcedure(b("LSIssueNewTask"),d[53],c.i64.cast([0,50030]),d[54],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(e){return d[42]="threak pk not found for jid",d[42]!==void 0?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",d[42]].join("")),d[43]=c.createArray(),a[4]!==void 0?d[44]=(d[43].push(a[4]),d[43]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure",d[42],d[43],c.i64.cast([0,3]))):c.resolve()},function(a){return d[11]?d[41]=c.i64.cast([0,5]):d[41]=c.i64.cast([0,2])}])},function(a){return d[34]=!0}]):c.sequence([function(e){return d[11]?(d[37]=new c.Map(),d[37].set("error_code",c.i64.cast([0,1])),d[37].set("error_message",""),d[37].set("stored_procedure","issueMessageRangeQueryTask"),d[38]=new c.Map(),d[38].set("act_thread_id",a[0]),d[39]=new c.Map(),d[39].set("restore_context",d[38]),d[39].set("failure",d[37]),d[40]=d[39].get("restore_context"),d[41]=d[40].get("act_thread_id"),d[42]=c.toJSON(d[39]),c.storedProcedure(b("LSIssueNewTask"),["encrypted_backups_restore",":",d[41]].join(""),c.i64.cast([0,50031]),d[42],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[49]=new c.Map(),d[49].set("error_msg","Expected a nonempty query result"),d[49].set("code",c.i64.cast([0,3])),d[49].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[50]=c.createArray(),d[51]=(d[50].push(d[49]),d[50]),e=[void 0,d[50]],d[37]=e[0],d[38]=e[1]):(b=a.item,d[49]=new c.Map(),d[49].set("backup_id",b.backupId),d[49].set("device_public_key_blob",b.devicePublicKeyBlob),d[49].set("device_private_key_blob",b.devicePrivateKeyBlob),d[49].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[49].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[49].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[49].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[49].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[49].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[49].set("orf_client_state_v2_blob",void 0),d[49].set("orf_v2_authority_level",void 0),d[49].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[49].set("device_id",b.deviceId),d[49].set("backup_tenancy",b.backupTenancy),d[49].set("encryption_version",b.encryptionVersion),d[49].set("revision_version",b.revisionVersion),d[49].set("initialize_restore_result",void 0),d[49].set("device_creation_timestamp_sec",void 0),d[49].set("authority_level",b.authorityLevel),e=[d[49],void 0],d[37]=e[0],d[38]=e[1])})},function(a){return d[40]=new c.Map(),d[40].set("value",d[37]),d[40].set("errors",d[38]),d[41]=d[40].get("value"),d[41]!==void 0?c.sequence([function(a){return d[49]=d[41].get("backup_id"),d[50]=d[41].get("device_public_key_blob"),d[51]=d[41].get("device_private_key_blob"),d[52]=d[41].get("epoch_storage_public_key_blob"),d[53]=d[41].get("epoch_storage_private_key_blob"),d[54]=d[41].get("epoch_auth_public_key_blob"),d[55]=d[41].get("epoch_auth_private_key_blob"),d[56]=d[41].get("mailbox_root_key_blob"),d[57]=d[41].get("ocmf_client_state_blob"),d[58]=d[41].get("orf_client_state_v2_blob"),d[59]=d[41].get("orf_v2_authority_level"),d[60]=d[41].get("oblivious_validation_token_blob"),d[61]=d[41].get("device_id"),d[62]=d[41].get("backup_tenancy"),d[63]=d[41].get("encryption_version"),d[64]=d[41].get("revision_version"),d[65]=d[41].get("initialize_restore_result"),d[66]=d[41].get("device_creation_timestamp_sec"),d[67]=d[41].get("authority_level"),c.i64.neq(d[61],void 0)?c.sequence([function(a){return d[69]=void 0,c.i64.neq(d[69],void 0)?c.resolve(d[70]=d[69]):c.sequence([function(a){return d[73]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[74]=a[0],a})},function(a){return d[74]?d[83]=(d[73].push(c.i64.cast([0,0])),d[73]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[75]=a[0],a})},function(a){return d[75]?d[83]=(d[73].push(c.i64.cast([0,2])),d[73]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[76]=a[0],a})},function(a){return d[76]?d[83]=(d[73].push(c.i64.cast([0,3])),d[73]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[77]=a[0],a})},function(a){return d[77]?d[83]=(d[73].push(c.i64.cast([0,4])),d[73]):0,d[78]=c.createArray(),d[79]=c.i64.of_int32(d[73].length),c.i64.gt(d[79],c.i64.cast([0,0]))?c.loopAsync(d[79],function(a){return d[83]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[73],d[83]).then(function(a){return a=a,d[84]=a[0],d[85]=a[1],a})},function(a){return d[86]=(d[78].push(d[84]),d[78])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[83]=c.createArray(),d[84]=c.i64.of_int32(d[78].length),c.i64.gt(d[84],c.i64.cast([0,0]))?c.loopAsync(d[84],function(a){return d[86]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[78],d[86]).then(function(a){return a=a,d[87]=a[0],d[88]=a[1],a})},function(a){return d[89]=(d[83].push(c.i64.to_string(d[87])),d[83])}])}):c.resolve()},function(a){return d[85]=d[83].join(","),d[80]=d[85]}])},function(a){return d[78].some(function(a){return c.i64.eq(d[63],a)})?d[81]=d[63]:d[81]=void 0,c.i64.neq(d[81],void 0)?d[82]=d[81]:d[82]=void 0,d[70]=d[82]}])},function(a){return c.i64.neq(d[70],void 0)?d[71]=d[70]:d[71]=c.i64.cast([0,0]),c.i64.neq(d[62],void 0)?d[72]=d[62]:d[72]=c.i64.cast([0,1]),d[68]=d[61]}]):c.resolve(d[68]=void 0)},function(a){return d[42]=d[68]}]):c.resolve((d[49]=d[40].get("errors"),d[50]=d[40].get("errors"),d[42]=void 0))},function(e){return d[43]=new c.Map(),d[43].set("error_code",c.i64.cast([0,1])),d[43].set("error_message",void 0==null?"":void 0),d[43].set("stored_procedure","issueMessageRangeQueryTask"),d[44]=new c.Map(),d[44].set("act_thread_id",a[0]),d[44].set("source",a[6]),d[44].set("restore_operation_type",c.i64.cast([0,2])),d[44].set("request_id",a[4]),d[44].set("device_id",d[42]),d[45]=new c.Map(),d[45].set("restore_context",d[44]),d[45].set("failure",d[43]),d[46]=d[45].get("queue_name"),d[46]!==void 0?d[47]=d[46]:(d[49]=d[45].get("restore_context"),d[50]=d[49].get("act_thread_id"),d[47]=["encrypted_backups_restore",":",d[50]].join("")),d[48]=c.toJSON(d[45]),c.storedProcedure(b("LSIssueNewTask"),d[47],c.i64.cast([0,50030]),d[48],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(e){return d[36]="backup not found",d[36]!==void 0?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",d[36]].join("")),d[37]=c.createArray(),a[4]!==void 0?d[38]=(d[37].push(a[4]),d[37]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure",d[36],d[37],c.i64.cast([0,3]))):c.resolve()},function(a){return d[11]?d[35]=c.i64.cast([0,5]):d[35]=c.i64.cast([0,2]),d[34]=!1}])},function(a){return d[7]=d[34]}]):c.sequence([function(e){return d[15]=d[5].get("errors"),d[16]=d[5].get("errors"),d[11]?(d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,1])),d[19].set("error_message",""),d[19].set("stored_procedure","issueMessageRangeQueryTask"),d[20]=new c.Map(),d[20].set("act_thread_id",a[0]),d[21]=new c.Map(),d[21].set("restore_context",d[20]),d[21].set("failure",d[19]),d[22]=d[21].get("restore_context"),d[23]=d[22].get("act_thread_id"),d[24]=c.toJSON(d[21]),c.storedProcedure(b("LSIssueNewTask"),["encrypted_backups_restore",":",d[23]].join(""),c.i64.cast([0,50031]),d[24],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[31]=new c.Map(),d[31].set("error_msg","Expected a nonempty query result"),d[31].set("code",c.i64.cast([0,3])),d[31].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[32]=c.createArray(),d[33]=(d[32].push(d[31]),d[32]),e=[void 0,d[32]],d[19]=e[0],d[20]=e[1]):(b=a.item,d[31]=new c.Map(),d[31].set("backup_id",b.backupId),d[31].set("device_public_key_blob",b.devicePublicKeyBlob),d[31].set("device_private_key_blob",b.devicePrivateKeyBlob),d[31].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[31].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[31].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[31].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[31].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[31].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[31].set("orf_client_state_v2_blob",void 0),d[31].set("orf_v2_authority_level",void 0),d[31].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[31].set("device_id",b.deviceId),d[31].set("backup_tenancy",b.backupTenancy),d[31].set("encryption_version",b.encryptionVersion),d[31].set("revision_version",b.revisionVersion),d[31].set("initialize_restore_result",void 0),d[31].set("device_creation_timestamp_sec",void 0),d[31].set("authority_level",b.authorityLevel),e=[d[31],void 0],d[19]=e[0],d[20]=e[1])})},function(a){return d[22]=new c.Map(),d[22].set("value",d[19]),d[22].set("errors",d[20]),d[23]=d[22].get("value"),d[23]!==void 0?c.sequence([function(a){return d[31]=d[23].get("backup_id"),d[32]=d[23].get("device_public_key_blob"),d[33]=d[23].get("device_private_key_blob"),d[34]=d[23].get("epoch_storage_public_key_blob"),d[35]=d[23].get("epoch_storage_private_key_blob"),d[36]=d[23].get("epoch_auth_public_key_blob"),d[37]=d[23].get("epoch_auth_private_key_blob"),d[38]=d[23].get("mailbox_root_key_blob"),d[39]=d[23].get("ocmf_client_state_blob"),d[40]=d[23].get("orf_client_state_v2_blob"),d[41]=d[23].get("orf_v2_authority_level"),d[42]=d[23].get("oblivious_validation_token_blob"),d[43]=d[23].get("device_id"),d[44]=d[23].get("backup_tenancy"),d[45]=d[23].get("encryption_version"),d[46]=d[23].get("revision_version"),d[47]=d[23].get("initialize_restore_result"),d[48]=d[23].get("device_creation_timestamp_sec"),d[49]=d[23].get("authority_level"),c.i64.neq(d[43],void 0)?c.sequence([function(a){return d[51]=void 0,c.i64.neq(d[51],void 0)?c.resolve(d[52]=d[51]):c.sequence([function(a){return d[55]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[56]?d[65]=(d[55].push(c.i64.cast([0,0])),d[55]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[57]?d[65]=(d[55].push(c.i64.cast([0,2])),d[55]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[58]=a[0],a})},function(a){return d[58]?d[65]=(d[55].push(c.i64.cast([0,3])),d[55]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[59]=a[0],a})},function(a){return d[59]?d[65]=(d[55].push(c.i64.cast([0,4])),d[55]):0,d[60]=c.createArray(),d[61]=c.i64.of_int32(d[55].length),c.i64.gt(d[61],c.i64.cast([0,0]))?c.loopAsync(d[61],function(a){return d[65]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[55],d[65]).then(function(a){return a=a,d[66]=a[0],d[67]=a[1],a})},function(a){return d[68]=(d[60].push(d[66]),d[60])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[65]=c.createArray(),d[66]=c.i64.of_int32(d[60].length),c.i64.gt(d[66],c.i64.cast([0,0]))?c.loopAsync(d[66],function(a){return d[68]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[60],d[68]).then(function(a){return a=a,d[69]=a[0],d[70]=a[1],a})},function(a){return d[71]=(d[65].push(c.i64.to_string(d[69])),d[65])}])}):c.resolve()},function(a){return d[67]=d[65].join(","),d[62]=d[67]}])},function(a){return d[60].some(function(a){return c.i64.eq(d[45],a)})?d[63]=d[45]:d[63]=void 0,c.i64.neq(d[63],void 0)?d[64]=d[63]:d[64]=void 0,d[52]=d[64]}])},function(a){return c.i64.neq(d[52],void 0)?d[53]=d[52]:d[53]=c.i64.cast([0,0]),c.i64.neq(d[44],void 0)?d[54]=d[44]:d[54]=c.i64.cast([0,1]),d[50]=d[43]}]):c.resolve(d[50]=void 0)},function(a){return d[24]=d[50]}]):c.resolve((d[31]=d[22].get("errors"),d[32]=d[22].get("errors"),d[24]=void 0))},function(e){return d[25]=new c.Map(),d[25].set("error_code",c.i64.cast([0,1])),d[25].set("error_message",void 0==null?"":void 0),d[25].set("stored_procedure","issueMessageRangeQueryTask"),d[26]=new c.Map(),d[26].set("act_thread_id",a[0]),d[26].set("source",a[6]),d[26].set("restore_operation_type",c.i64.cast([0,2])),d[26].set("request_id",a[4]),d[26].set("device_id",d[24]),d[27]=new c.Map(),d[27].set("restore_context",d[26]),d[27].set("failure",d[25]),d[28]=d[27].get("queue_name"),d[28]!==void 0?d[29]=d[28]:(d[31]=d[27].get("restore_context"),d[32]=d[31].get("act_thread_id"),d[29]=["encrypted_backups_restore",":",d[32]].join("")),d[30]=c.toJSON(d[27]),c.storedProcedure(b("LSIssueNewTask"),d[29],c.i64.cast([0,50030]),d[30],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(e){return d[18]="backup not found",d[18]!==void 0?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",d[18]].join("")),d[19]=c.createArray(),a[4]!==void 0?d[20]=(d[19].push(a[4]),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure",d[18],d[19],c.i64.cast([0,3]))):c.resolve()},function(a){return d[11]?d[17]=c.i64.cast([0,5]):d[17]=c.i64.cast([0,2]),d[7]=!1}])},function(a){return d[8]=c.i64.of_float(Date.now()),d[9]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[8],d[0])),d[14]=" ms",d[10]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRangeQueryTask] ",d[10],d[12],d[10],d[13],d[10],d[14]].join("")),c.i64.eq(c.i64.mod_(d[9],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueMessageRangeQueryTask",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSMEBTaskCreationSource",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,TEST_ONLY:0,TAM:1,MEM:2,RETROACTIVE_BACKUP:3,TAM_WEB:4,ACT_MESSAGE_DELETE:5,ACT_THREAD_DELETE:6,ACT_UPDATE_ATTACHMENT:7,TAM_PERSISTENCE_TASK:8,TAM_XMA_TOMBSTONE:9,MEM_RECEIVE:10,MEM_SEND:11,MEM_PEER_SYNC:12,MEM_RECEIVE_PROTOBUF:13,MEM_SEND_PROTOBUF:14,MEM_PEER_SYNC_PROTOBUF:15,EB_ADD_DEVICE:21,OPTIMISTIC_THREAD_CREATE_VIA_SHIM:22,ACT_THREAD_INSERT_VIA_SHIM:23,MI_THREAD_INSERT_VIA_SHIM:24,POINT_QUERY_FROM_EB:25,MESSENGER_SEARCH:26,ACT_MESSAGE_RANGE_TASK_HANDLER:27,POINT_QUERY_ON_FULLY_LOADED_THREAD:28,THREAD_CUTOVER:29,HYBRID_THREAD_VERIFY_OR_CREATE_VIA_SHIM:30,BURNER_INTERNAL_LOAD_TESTING_FRAMEWORK:31,THREAD_GALLERY_RESTORE:32,ACT_SURROUNDING_QUERY:33,EB_SNAPSHOT_RESTORE:34,PROTOBUF_RESTORE:39,FTS_INDEX_EB_MESSAGES:40,INSTAMADILLO_DYI:41,MESSENGER_MESSAGE_LIST_PAGINATION:45,DELTA_GENERIC_MESSAGE_SYNC:55,MEDIA_GALLERY_RESTORE:57,EB_PROTOBUF_RESTORE_NO_OP:58,NEW_MEMBER_EXPORT:59,THREAD_POINT_QUERY:76,EB_RESTORE_REPLIED_MESSAGES_AFTER_RANGE_RESTORE:35,REPL_TESTING:36,EB_POINT_QUERY_IN_ACT:37,EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES:38,IGD_DYI:42,FTS_INDEX_EB_MESSAGES_WEB:43,BULK_QUERY_FOR_SEARCH_RESULT:44,MSGR_DYI:46,EB_RESTORE_ON_REGISTRATION:47,EB_RESTORE_ON_OFFLINE_QUEUE_COUNT_LIMIT:48,EB_POINT_QUERY_RESTORE_ON_ACK_DROP:49,EB_POINT_QUERY_RESTORE_ON_DECRYPTION_FAILURE:50,EB_POINT_QUERY_RESTORE_ON_UNAVAILABLE_DEVICE:51,EB_RANGE_QUERY_RESTORE_ON_THREAD_SESSION_ACTIVATE:52,EB_POINT_QUERY_PINNED_MESSAGES:53,EB_POINT_QUERY_RESTORE_PROTOBUF:54,EB_POINT_QUERY_IN_ACT_REACTIONS:56,EB_POINT_QUERY_BUMP_MESSAGES:60,EB_POINT_QUERY_IN_ACT_FOR_INCOMING_RETRY_RECEIPT:61,EB_POINT_QUERY_IN_ACT_FOR_REPORTING:62,EB_POINT_QUERY_IN_ACT_FOR_MESSAGE_STATUS_UPDATE:63,EB_POINT_QUERY_IN_ACT_FOR_REPL_TEST:64,EB_POINT_QUERY_IN_ACT_FOR_FACEBOOK_APP_NSE_NOTIFICATION_RENDERING:65,EB_POINT_QUERY_IN_ACT_FOR_MESSAGE_EXPORT_HANDLING:66,EB_POINT_QUERY_IN_ACT_FOR_TAM_ACT_PROXY:67,EB_POINT_QUERY_IN_ACT_FOR_REALTIME_INCOMING_MESSAGE:68,EB_POINT_QUERY_IN_ACT_FOR_REALTIME_INCOMING_AI_BOT_MESSAGE:69,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_PERSISTENCE:70,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_INDEXING:71,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_NEW_MEMBER_HYDRATION:72,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_ECHO_TO_PROTO_CONVERSION:73,EB_POINT_QUERY_IN_ACT_FOR_PENDING_MESSAGE_RECOVERY_HISTORICAL_FUTURE_PROOF:74,EB_POINT_QUERY_IN_ACT_FOR_PENDING_MESSAGE_RECOVERY_REALTIME_BLOCKED:75,EB_POINT_QUERY_TO_FETCH_SENDER_DEVICE_KEYS:77,RESONANCE_UTILS:80,MPS_RESTORE_REVERB_RESTORE:81,REPORTING:82,CLIENT_MESSAGE_TRUNCATION:83,CALLING_XMA:84,EB_ACT_ATTACHMENT_RESTORE:85,EB_MEB_ATTACHMENT_ACCESS_CONTROL_RESTORE:86,FORCE_CLIENT_MESSAGE_TRUNCATION:87});f["default"]=a}),66);
__d("OcmfClientMap",["CryptoLogger","LSCryptoUtils","Promise","requireDeferred","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("ristretto255").__setRef("OcmfClientMap");a=function(a,c){c=d("tweetnacl").hash(d("LSCryptoUtils").bufToUint8(c));return(h||(h=b("Promise"))).all([c,i.load()]).then(function(b){var c=b[0];b=b[1];c=b.fromHash(new Uint8Array(c));b=b.scalarMult(new Uint8Array(a),c);return b.buffer})["catch"](function(a){d("CryptoLogger").captureError(d("CryptoLogger").CryptoLogger("ocmf_client_map"),a).mustfix("Failed OcmfClientMap.");throw a})};g["default"]=a}),98);
__d("LSOcmfClientMap.nop",["LSResult","OcmfClientMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,d,e){return c("OcmfClientMap")(d,e).then(function(a){return c("LSResult")(a)})};a.__nop_name__="LSOcmfClientMap";g["default"]=a}),98);
__d("UInt8Array",["XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.length;if(!(b>0&&b%2===0&&/^[\da-f]+$/gi.test(a)))return;var c=[];for(var d=0,b=b/2|0;d<b;++d){var e=parseInt(a.substring(d<<1,(d<<1)+2|0),16);c.push(e)}return new Uint8Array(c)}function b(a){return d("XPlatReactCrypto").getRandomValues(new Uint8Array(a)).buffer}function c(a){a=a.filter(function(a){return a.byteLength!==0});var b=a.reduce(function(a,b){return a+b.byteLength|0},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.byteLength|0},0);return c}g.fromHexString=a;g.getBufferWithRandomValuesFromLength=b;g.concatBytes=c}),98);
__d("PublicKeyEncryptionUtils",["Promise","UInt8Array","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){}function c(a){if(a!=null)return a;else return new Uint8Array(0).buffer}function e(a,b,c,e,f){return d("UInt8Array").concatBytes([a,b,c,e,f]).buffer}function f(a,b,c,e){return d("XPlatReactCrypto").subtleImportKey("raw",a.buffer,"HKDF",!1,["deriveKey"]).then(function(a){return d("XPlatReactCrypto").subtleDeriveKey({hash:"SHA-256",info:c,name:"HKDF",salt:b},a,{length:256,name:"AES-GCM"},!1,[e])})}var i="key length is not "+32;function j(a,b){if(a.length!==32)return b(i)}function k(a){return new(h||(h=b("Promise")))(function(b,c){j(a,c);return b()})}var l=32;g.assertValidCurvePoint=a;g.getSalt=c;g.concatAad=e;g.getAesKey=f;g.testKeyLength=j;g.assertKeyLength=k;g.keyLength=l}),98);
__d("PublicEncryptionCreateDecryptedData",["CryptoLogger","Promise","PublicKeyEncryptionUtils","RetUtil","XPlatReactCrypto","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("PublicKeyCrypto").__setRef("PublicEncryptionCreateDecryptedData"),j=c("requireDeferred")("X25519").__setRef("PublicEncryptionCreateDecryptedData");function k(a,b){var c=1+d("PublicKeyEncryptionUtils").keyLength+16;a=a.length;a<1+d("PublicKeyEncryptionUtils").keyLength+16&&b("CipherText length is "+a+", < "+c)}function l(a,b,c){b=b[0];if(b!==a)return c("Unexpected version "+b)}function m(a){return new(h||(h=b("Promise")))(function(b,c){l(1,a,c);k(a,c);return b()})}function n(a,c){return new(h||(h=b("Promise")))(function(b,e){d("PublicKeyEncryptionUtils").assertValidCurvePoint(a,e);d("PublicKeyEncryptionUtils").assertValidCurvePoint(c,e);return b()})}function a(a,c,e,f,g,k){var l=new Uint8Array(g),o=new Uint8Array([1]),p=d("PublicKeyEncryptionUtils").getSalt(f),q=new Uint8Array(a),r=new Uint8Array(e),s=new Uint8Array(c),t=new Uint8Array(k);return(h||(h=b("Promise"))).all([d("PublicKeyEncryptionUtils").assertKeyLength(q),d("PublicKeyEncryptionUtils").assertKeyLength(s),d("PublicKeyEncryptionUtils").assertKeyLength(r)]).then(function(){return m(t)}).then(function(){return j.load()}).then(function(a){var c=t.slice(1,d("PublicKeyEncryptionUtils").keyLength+1),e=a.publicKeyFromBytes(c,a.KeyPurpose.Encryption);return n(e,r).then(function(){var f=d("PublicKeyEncryptionUtils").concatAad(o,r,q,c,l),g=function(c,d,f){c=a.publicKeyFromBytes(c,a.KeyPurpose.Encryption);d=a.publicKeyFromBytes(d,a.KeyPurpose.Encryption);f=a.secretKeyFromBytes(f,a.KeyPurpose.Encryption);return c==null||d==null||f==null||e==null?(h||(h=b("Promise"))).resolve():(h||(h=b("Promise"))).resolve([c,d,f,e])};return g(q,r,s).then(function(a){if(a==null)return;return{ephemeralPub:a[3],innerAad:f,receiverPriv:a[2],receiverPub:a[0],senderPub:a[1]}})})}).then(function(a){if(a==null)return;var b=a.ephemeralPub,c=a.receiverPriv,e=a.senderPub,f=a.innerAad;return i.load().then(function(a){return a.receiverDeriveSharedSecret(c,b,e)}).then(function(a){if(a==null)return null;else return d("PublicKeyEncryptionUtils").getAesKey(a,p,f,"decrypt")}).then(function(a){if(a==null)return;var b=new Uint8Array(12).buffer,c=t.slice(d("PublicKeyEncryptionUtils").keyLength+1).buffer;return d("XPlatReactCrypto").subtleDecrypt({additionalData:f,iv:new Uint8Array(b),name:"AES-GCM",tagLength:128},a,c)})}).then(function(a){return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(a))})["catch"](function(a){var c=d("CryptoLogger").CryptoLogger("public_encryption_create_decrypted_data");d("CryptoLogger").captureError(c,a).mustfix("Creation of decrypted data for public encryption failed");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(void 0))})}g["default"]=a}),98);
__d("LSPublicEncryptionCreateDecryptedData.nop",["PublicEncryptionCreateDecryptedData"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,d,e,f,g,h,i){return c("PublicEncryptionCreateDecryptedData")(d,e,f,g,h,i)};a.__nop_name__="LSPublicEncryptionCreateDecryptedData";g["default"]=a}),98);
__d("LSStoreEpoch",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return c[1]="Storing newly derived epoch ",c[2]=b.blobs.to_string(a[2]),c[3]=" authority_level:",c[4]=b.i64.to_string(a[5]),c[5]=" status:",c[6]=b.i64.to_string(a[4]),c[0]="",function(a){b.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsStoreEpochStoredProcedure] ",c[0],c[1],c[0],c[2],c[0],c[3],c[0],c[4],c[0],c[5],c[0],c[6]].join("")),b.resolve()},function(c){return function(a){b.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsStoreEpochStoredProcedure] Storing epoch in epochs table (regular execution)"),b.filter(b.db.table(169).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.epochId,a[0])&&b.i64.gt(c.authorityLevel,a[5])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(169).put({epochId:a[0],backupId:a[1],epochAnonIdBlob:a[2],epochRootKeyBlob:a[3],epochStatus:a[4],epochHead:a[7],authorityLevel:a[5]}):0})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSEncryptedBackupsStoreEpochStoredProcedure";a.__tables__=["secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("SymmetricEncryptionPaddingUtils",["XPlatReactTextEncoder"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a<10)return 10-a;var b=Math.floor(Math.log2(a)),c=Math.floor(Math.log2(b))+1;b=b-c;c=(1<<b)-1;b=a+c&(c^-1);return b-a}function i(a){var b=Uint32Array.BYTES_PER_ELEMENT,c=a.byteLength,d=h(c);d=b+c+d;d=new DataView(new ArrayBuffer(d));d.setUint32(0,c);c=new Uint8Array(d.buffer);c.set(new Uint8Array(a),b);return c.buffer}function a(a){var b=new(d("XPlatReactTextEncoder").TextEncoder)();b=b.encode(a).buffer;return i(b)}function b(a){var b=Uint32Array.BYTES_PER_ELEMENT,c=new DataView(a);if(c.byteLength<b)return;var d=a.byteLength;c=c.getUint32(0);d=d-b;if(c>=0&&c<=d)return a.slice(b,b+c)}g.getPaddingLength=h;g.padData=i;g.pad=a;g.stripPadding=b}),98);
__d("SymmetricEncryptionCreateDecryptedData",["CryptoLogger","EncryptedBackupsSymmetricEncryptionUtils","HChaCha20","Promise","RetUtil","SymmetricEncryptionPaddingUtils","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("CryptoLogger").CryptoLogger("symmetric_encryption_create_decrypted_data");a=function(a,c,e){if(e.byteLength<d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes+d("EncryptedBackupsSymmetricEncryptionUtils").aesGcmTagLengthInBytes){i.mustfix("cipher text is invalid");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())}e=new Uint8Array(e);var f=e.slice(0,d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes),g=new(d("HChaCha20").HChaCha20)(),j=e.slice(d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes).buffer;e=g.hChaCha20Bytes(f.slice(0,d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer,a);return d("XPlatReactCrypto").subtleImportKey("raw",e,"AES-GCM",!1,["decrypt"]).then(function(a){return d("XPlatReactCrypto").subtleDecrypt({additionalData:c,iv:new Uint8Array(f.slice(d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer),name:"AES-GCM",tagLength:d("EncryptedBackupsSymmetricEncryptionUtils").aesGcmTagLength},a,j)}).then(function(a){a=d("SymmetricEncryptionPaddingUtils").stripPadding(a);a==null&&i.mustfix("Failed to strip padding for symmetric decryption");return d("RetUtil").getNullableRetResult(a)})["catch"](function(a){d("CryptoLogger").captureError(i,a).mustfix("symmetric data decryption failed");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())})};g["default"]=a}),98);
__d("LSSymmetricEncryptionCreateDecryptedData.nop",["EBEncryptMessageTypes","SymmetricEncryptionCreateDecryptedData"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e,f,g){return c("SymmetricEncryptionCreateDecryptedData")(d("EBEncryptMessageTypes").unsafeCastToSecretKey(e),d("EBEncryptMessageTypes").unsafeCastToAAD(f),d("EBEncryptMessageTypes").unsafeCastToCiphertext(g))};a.__nop_name__="LSSymmetricEncryptionCreateDecryptedData";g["default"]=a}),98);
__d("LSSymmetricEncryptionCreateDecryptedString.nop",["Base64Utils","CryptoLogger","LSResult","LSSymmetricEncryptionCreateDecryptedData.nop","XPlatReactTextDecoder"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return c("LSResult")(a)}a=function(a,b,e,f,g){var i=d("CryptoLogger").CryptoLogger("symmetric_encryption_create_decrypted_string");g=d("Base64Utils").toArrayBuffer(g);return c("LSSymmetricEncryptionCreateDecryptedData.nop")(a,b,e,f,g).then(function(a){a=a[0];return a}).then(function(a){return a==null?h():h(new(d("XPlatReactTextDecoder").TextDecoder)().decode(a))})["catch"](function(a){d("CryptoLogger").captureError(i,a).mustfix("symmetric string decryption failed");return h()})};a.__nop_name__="LSSymmetricEncryptionCreateDecryptedString";g["default"]=a}),98);
__d("MWEBODSEntityName.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({MW_EB_PIN_RESTORE_AUTH:"mw_eb_pin_restore_auth",MW_EB_RC_RESTORE_AUTH:"mw_eb_rc_restore_auth",MW_EB_AUTO_RESTORE_AUTH:"mw_eb_auto_restore_auth",MW_EB_OTC_AUTH:"mw_eb_otc_auth",MW_EB_ONBOARDING_AUTH:"mw_eb_onboarding_auth",MW_EBSM_HYDRATION:"mw_ebsm_hydration",MW_EBSM_IDB:"mw_eb_ebsm_idb",MW_EBSM_CORRUPTION:"mw_ebsm_corruption",MW_EBSM_CORRUPTION_RELOAD:"mw_ebsm_corruption_reload",MW_EBSM_RESTORE_PERSISTENCE_ERROR:"mw_ebsm_restore_persistence",MW_EBSM_IDB_TABLE_DELETION:"mw_ebsm_idb_table_deletion",MW_EBSM_WORKER_SUFFIX:"_worker",MW_EBSM_COUNTERS:"mw_ebsm_counters",MW_EBSM_FETCH_BACKUP_IDS:"mw_ebsm_fetch_backup_ids",MW_EB_SWITCH_CONSISTENCY:"mw_eb_switch_consistency",MAW_EB_UPLOAD_TRACKING:"maw_eb_upload_tracking",MAW_EB_UPLOAD_COUNTER:"maw_eb_upload_counter",MAW_EB_RESTORE_COUNTER:"maw_eb_restore_counter",EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST:"eb_symmetric_encryption_js_rust_shadow_test",MAW_EB_FRONTEND_QPL_IN_WORKER:"maw_eb_frontend_qpl_in_worker",MW_EB_RETROACTIVE_BACKUP:"mw_eb_retroactive_backup"});c=a;f["default"]=c}),66);
__d("SymmetricEncryptionCreateEncryptedData",["CryptoLogger","EncryptedBackupsSymmetricEncryptionUtils","HChaCha20","Promise","RetUtil","SymmetricEncryptionPaddingUtils","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,c,e){var f=d("CryptoLogger").CryptoLogger("symmetric_encryption_create_encrypted_data"),g=d("SymmetricEncryptionPaddingUtils").padData(e),i=d("XPlatReactCrypto").getRandomValues(new Uint8Array(d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes));e=new(d("HChaCha20").HChaCha20)();e=e.hChaCha20Bytes(i.slice(0,d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer,a);return d("XPlatReactCrypto").subtleImportKey("raw",e,"AES-GCM",!1,["encrypt"]).then(function(a){return d("XPlatReactCrypto").subtleEncrypt({additionalData:c,iv:new Uint8Array(i.slice(d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer),name:"AES-GCM",tagLength:d("EncryptedBackupsSymmetricEncryptionUtils").aesGcmTagLength},a,g)}).then(function(a){var c=i.byteLength+a.byteLength;c=new Uint8Array(c);c.set(i);c.set(new Uint8Array(a),d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes);return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(c.buffer))})["catch"](function(a){d("CryptoLogger").captureError(f,a).mustfix("symmetric data encryption failed");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())})};g["default"]=a}),98);
__d("LSSymmetricEncryptionCreateEncryptedData.nop",["EBEncryptMessageTypes","LSSymmetricEncryptionCreateDecryptedData.nop","MWEBODSEntityName.enum","MWFBLogger","ODS","Promise","QPLUserFlow","Random","SymmetricEncryptionCreateEncryptedData","WAArrayBufferUtils","WAErrorMessage","WAGetSafeQPLError","WAResultOrError","asyncToGeneratorRuntime","cr:20303","getErrorSafe","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p=c("qpl")._(521471468,"2968"),q=d("MWFBLogger").MWLogger().tags(["LSEncryption"]);function r(a,b,e){var f=d("Random").uint32();c("QPLUserFlow").start(p,{annotations:{string:{implementation:"js",native_op_name:"LSSymmetricEncryptionCreateEncryptedData"}},instanceKey:f});return c("SymmetricEncryptionCreateEncryptedData")(a,b,e).then(function(a){c("QPLUserFlow").endSuccess(p,{instanceKey:f});return d("WAResultOrError").makeResult(a[0])})["catch"](function(a){var b=c("getErrorSafe")(a);c("QPLUserFlow").endFailure(p,"runtime-exception",{annotations:{string:{error:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}},instanceKey:f});return d("WAResultOrError").makeError({error:b,type:"runtime-exception"})})}function s(a,e,f){if(b("cr:20303")==null)return(o||(o=b("Promise"))).resolve(d("WAResultOrError").makeError("skipped"));var g=d("Random").uint32();c("QPLUserFlow").start(p,{annotations:{string:{implementation:"rust",native_op_name:"LSSymmetricEncryptionCreateEncryptedData"}},instanceKey:g});return b("cr:20303").encryptMessage(d("EBEncryptMessageTypes").unsafeCastToSecretKey(a),d("EBEncryptMessageTypes").unsafeCastToAAD(e),d("EBEncryptMessageTypes").unsafeCastToPlaintext(f)).then(function(a){a.success===!1?c("QPLUserFlow").endFailure(p,a.error,{instanceKey:g}):c("QPLUserFlow").endSuccess(p,{instanceKey:g});return a})["catch"](function(a){c("QPLUserFlow").endFailure(p,"runtime-exception",{annotations:{string:{error:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}},instanceKey:g});return d("WAResultOrError").makeError("runtime-exception")})}a=function(a,b,d,e,f){return r(d,e,f).then(function(g){if(g.success===!1){q.MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["EB symmetric encryption in JS failed with error: ",""])),String(g.error));return[void 0]}c("promiseDone")(t(d,e,f,g,a,b));return[g.value]})};function t(a,b,c,d,e,f){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g){c=(yield s(a,b,c));try{yield v(f,g,a,b,e,c)}catch(a){q.MUSTFIX(i||(i=babelHelpers.taggedTemplateLiteralLoose(["'EB symmetric encryption comparison failed with error: ",""])),d("WAErrorMessage").maybeGetMessageFromError(a))}});return u.apply(this,arguments)}function v(a,b,c,d,e,f){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){if(h.success===!1&&h.error==="skipped")return;if(h.success===!1){(n||(n=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST,"mismatch");q.MUSTFIX(j||(j=babelHelpers.taggedTemplateLiteralLoose(["MISMATCH - ciphertextFromWasm failed with error: ",""])),h.error);return}g=g.value;h=h.value;if(g==null){(n||(n=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST,"mismatch");q.MUSTFIX(k||(k=babelHelpers.taggedTemplateLiteralLoose(["MISMATCH - ciphertextFromJS is null"])));return}g=(yield c("LSSymmetricEncryptionCreateDecryptedData.nop")(a,b,e,f,g));a=(yield c("LSSymmetricEncryptionCreateDecryptedData.nop")(a,b,e,f,h));b=g[0];e=a[0];if(b==null||e==null){(n||(n=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST,"mismatch");q.MUSTFIX(l||(l=babelHelpers.taggedTemplateLiteralLoose(["MISMATCH - Either JS Decrypted or Rust Decrypted is null"])));return}if(d("WAArrayBufferUtils").arrayBuffersEqualUNSAFE(b,e)===!1){(n||(n=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST,"mismatch");q.MUSTFIX(m||(m=babelHelpers.taggedTemplateLiteralLoose(["MISMATCH - Decrypted content is not equal"])));return}(n||(n=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST,"match")});return w.apply(this,arguments)}a.__nop_name__="LSSymmetricEncryptionCreateEncryptedData";g["default"]=a}),98);
__d("LSSymmetricEncryptionCreateEncryptedString.nop",["Base64Utils","CryptoLogger","LSCryptoUtils","LSSymmetricEncryptionCreateEncryptedData.nop","Promise","RetUtil"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f,g,i){var j=d("CryptoLogger").CryptoLogger("symmetric_encryption_create_encrypted_string");return c("LSSymmetricEncryptionCreateEncryptedData.nop")(a,e,f,g,d("LSCryptoUtils").strToBuf(i)).then(function(a){return a[0]}).then(function(a){return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(a?d("Base64Utils").fromArrayBuffer(a):void 0))})["catch"](function(a){d("CryptoLogger").captureError(j,a).mustfix("symmetric string encryption failed");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())})};a.__nop_name__="LSSymmetricEncryptionCreateEncryptedString";g["default"]=a}),98);
__d("MAWAdminMsgType",[],(function(a,b,c,d,e,f){"use strict";a="currentUserAddedDevice";b="participantAddedDevice";c="currentUserRemovedDevice";d="participantRemovedDevice";e="currentUserUpdatedDevice";var g="participantUpdatedDevice",h="participantAddedYou",i="participantAddedYouAndOneUser",j="participantAddedYouAndMoreThanOneUsers",k="unknowUserAddedYou",l="unknowUserAddedYouAndOneUser",m="unknowUserAddedYouAndMoreThanOneUser",n="unknownUserAddedOneUser",o="unknownUserAddedTwoUser",p="unknownUserAddedMoreThanTwoUser",q="participantAddedOneUser",aa="participantAddedTwoUser",ba="participantAddedMoreThanTwoUser",ca="currentUserRemovedOneParticipant",da="currentUserRemovedTwoParticipant",ea="currentUserRemovedMoreThanTwoParticipant",fa="currentUserAddedOneParticipant",ga="currentUserAddedTwoParticipant",r="currentUserAddedMoreThanTwoParticipant",ha="participantRemovedYou",ia="participantRemovedYouAndOneUser",ja="participantRemovedYouAndMoreThanOneUsers",ka="unknowUserRemovedYou",la="unknowUserRemovedYouAndOneUser",ma="unknowUserRemovedYouAndMoreThanOneUser",na="unknownUserRemovedOneUser",oa="unknownUserRemovedTwoUser",pa="unknownUserRemovedMoreThanTwoUser",qa="participantRemovedOneUser",ra="participantRemovedTwoUser",sa="participantRemovedMoreThanTwoUser",ta="participantLeftGroup",ua="currentUserLeftGroup",va="participantCustomizeParticipantNickname",wa="participantClearParticipantNickname",xa="participantCustomizeCurrentUserNickname",ya="currentUserSetOwnNickname",za="currentUserClearOwnNickname",Aa="currentUserClearParticipantNickname",Ba="participantSetOwnNickname",Ca="participantClearOwnNickname",Da="participantClearCurrentUserNickname",Ea="currentUserCustomizeNickname",Fa="currentUserNamedGroup",Ga="unkonwnUserNamedGroup",Ha="participantNamedGroup",Ia="currentUserCustomizeHotlike",Ja="participantCustomizeHotlike",Ka="currentUserCustomizeTheme",La="currentUserCustomizeAITheme",Ma="currentUserCustomizePhoto",Na="participantCustomizeTheme",Oa="participantCustomizeAITheme",Pa="participantCustomizePhoto",Qa="currentUserSetAddModeAdminOnly",Ra="currentUserSetAddModeAllMembers",Sa="participantSetAddModeAdminOnly",Ta="participantSetAddModeAllMembers",Ua="serverSetAddModeAdminOnly",Va="serverSetAddModeAllMembers",s="currentUserPinnedMessage",t="currentUserUnpinnedMessage",u="participantPinnedMessage",v="participantUnpinnedMessage",w="currentUserLimitSharingDisabled",x="currentUserLimitSharingEnabled",y="participantLimitSharingDisabled",z="participantLimitSharingEnabled",A="cutoverThreadAdminMessage",B="cutoverIGDThreadAdminMessage",C="cutoverRollbackAdminMessage",D="dualThreadCutoverAdminMessage",Wa="dualThreadCutoverAdminMessageSelfThread",Xa="dualThreadCutoverAdminMessageWithOtherUserName",Ya="dualThreadCutoverAdminMessageOtherUserNameUnknown",E="e2eeThreadDescription",F="e2eeThreadUKOSAAdminMessage",Za="debugMsg",$a="reachabilityError",ab="twoUsersConnected",bb="twoUsersConnectedOneMSplit",G="CurrentUserCreatedPoll",H="ParticipantCreatedPoll",I="CurrentUserAddedPollOption",J="ParticipantAddedPollOption",K="CurrentUserAddedMultiplePollOptions",L="ParticipantAddedMultiplePollOptions",M="CurrentUserAddedPollVote",N="ParticipantAddedPollVote",O="CurrentUserAddedMultiplePollVotes",P="ParticipantAddedMultiplePollVotes",Q="CurrentUserRemovedPollVote",R="ParticipantRemovedPollVote",S="CurrentUserRemovedMultiplePollVotes",T="ParticipantRemovedMultiplePollVotes",U="CurrentUserMixedPollUpdate",V="ParticipantMixedPollUpdate",W="CurrentUserChangedPollVote",X="ParticipantChangedPollVote",Y="CurrentUserChangedMultiplePollVotes",Z="ParticipantChangedMultiplePollVotes",$="PollUnsentUpdate";r={CURRENT_USER_ADDED_DEVICE:a,CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:r,CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS:K,CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES:O,CURRENT_USER_ADDED_ONE_PARTICIPANT:fa,CURRENT_USER_ADDED_POLL_OPTION:I,CURRENT_USER_ADDED_POLL_VOTE:M,CURRENT_USER_ADDED_TWO_PARTICIPANTS:ga,CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES:Y,CURRENT_USER_CHANGED_POLL_VOTE:W,CURRENT_USER_CLEAR_OWN_NICKNAME:za,CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:Aa,CURRENT_USER_CREATED_POLL:G,CURRENT_USER_CUSTOMIZE_AI_THEME:La,CURRENT_USER_CUSTOMIZE_HOTLIKE:Ia,CURRENT_USER_CUSTOMIZE_NICKNAME:Ea,CURRENT_USER_CUSTOMIZE_PHOTO:Ma,CURRENT_USER_CUSTOMIZE_THEME:Ka,CURRENT_USER_LEFT_GROUP:ua,CURRENT_USER_LIMIT_SHARING_DISABLED:w,CURRENT_USER_LIMIT_SHARING_ENABLED:x,CURRENT_USER_MIXED_POLL_UPDATE:U,CURRENT_USER_NAMED_GROUP:Fa,CURRENT_USER_PINNED_MESSAGE:s,CURRENT_USER_REMOVED_DEVICE:c,CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS:ea,CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES:S,CURRENT_USER_REMOVED_ONE_PARTICIPANT:ca,CURRENT_USER_REMOVED_POLL_VOTE:Q,CURRENT_USER_REMOVED_TWO_PARTICIPANTS:da,CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY:Qa,CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS:Ra,CURRENT_USER_SET_OWN_NICKNAME:ya,CURRENT_USER_UNPINNED_MESSAGE:t,CURRENT_USER_UPDATED_DEVICE:e,CUTOVER_IGD_THREAD_ADMIN_MESSAGE:B,CUTOVER_ROLLBACK_ADMIN_MESSAGE:C,CUTOVER_THREAD_ADMIN_MESSAGE:A,DEBUG_MSG:Za,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:D,E2EE_THREAD_DESCRIPTION:E,E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:F,PARTICIPANT_ADDED_DEVICE:b,PARTICIPANT_ADDED_MORE_THAN_TWO_USER:ba,PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS:L,PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES:P,PARTICIPANT_ADDED_ONE_USER:q,PARTICIPANT_ADDED_POLL_OPTION:J,PARTICIPANT_ADDED_POLL_VOTE:N,PARTICIPANT_ADDED_TWO_USER:aa,PARTICIPANT_ADDED_YOU:h,PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:j,PARTICIPANT_ADDED_YOU_AND_ONE_USER:i,PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES:Z,PARTICIPANT_CHANGED_POLL_VOTE:X,PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:Da,PARTICIPANT_CLEAR_OWN_NICKNAME:Ca,PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:wa,PARTICIPANT_CREATED_POLL:H,PARTICIPANT_CUSTOMIZE_AI_THEME:Oa,PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:xa,PARTICIPANT_CUSTOMIZE_HOTLIKE:Ja,PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:va,PARTICIPANT_CUSTOMIZE_PHOTO:Pa,PARTICIPANT_CUSTOMIZE_THEME:Na,PARTICIPANT_LEFT_GROUP:ta,PARTICIPANT_LIMIT_SHARING_DISABLED:y,PARTICIPANT_LIMIT_SHARING_ENABLED:z,PARTICIPANT_MIXED_POLL_UPDATE:V,PARTICIPANT_NAMED_GROUP:Ha,PARTICIPANT_PINNED_MESSAGE:u,PARTICIPANT_REMOVED_DEVICE:d,PARTICIPANT_REMOVED_MORE_THAN_TWO_USER:sa,PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES:T,PARTICIPANT_REMOVED_ONE_USER:qa,PARTICIPANT_REMOVED_POLL_VOTE:R,PARTICIPANT_REMOVED_TWO_USER:ra,PARTICIPANT_REMOVED_YOU:ha,PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:ja,PARTICIPANT_REMOVED_YOU_AND_ONE_USER:ia,PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:Sa,PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:Ta,PARTICIPANT_SET_OWN_NICKNAME:Ba,PARTICIPANT_UNPINNED_MESSAGE:v,PARTICIPANT_UPDATED_DEVICE:g,POLL_UNSENT_UPDATE:$,REACHABILITY_ERROR:$a,SERVER_SET_ADD_MODE_ADMIN_ONLY:Ua,SERVER_SET_ADD_MODE_ALL_MEMBERS:Va,TWO_USERS_CONNECTED:ab,TWO_USERS_CONNECTED_ONE_MSPLIT:bb,UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:p,UNKNOWN_USER_ADDED_ONE_USER:n,UNKNOWN_USER_ADDED_TWO_USER:o,UNKNOWN_USER_ADDED_YOU:k,UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:m,UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:l,UNKNOWN_USER_NAMED_GROUP:Ga,UNKNOWN_USER_REMOVED_MORE_THAN_TWO_USER:pa,UNKNOWN_USER_REMOVED_ONE_USER:na,UNKNOWN_USER_REMOVED_TWO_USER:oa,UNKNOWN_USER_REMOVED_YOU:ka,UNKNOWN_USER_REMOVED_YOU_AND_MORE_THAN_ONE_USER:ma,UNKNOWN_USER_REMOVED_YOU_AND_ONE_USER:la};f.CURRENT_USER_ADDED_DEVICE=a;f.CURRENT_USER_PINNED_MESSAGE=s;f.CURRENT_USER_UNPINNED_MESSAGE=t;f.PARTICIPANT_PINNED_MESSAGE=u;f.PARTICIPANT_UNPINNED_MESSAGE=v;f.CURRENT_USER_LIMIT_SHARING_DISABLED=w;f.CURRENT_USER_LIMIT_SHARING_ENABLED=x;f.PARTICIPANT_LIMIT_SHARING_DISABLED=y;f.PARTICIPANT_LIMIT_SHARING_ENABLED=z;f.CUTOVER_THREAD_ADMIN_MESSAGE=A;f.CUTOVER_IGD_THREAD_ADMIN_MESSAGE=B;f.CUTOVER_ROLLBACK_ADMIN_MESSAGE=C;f.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE=D;f.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD=Wa;f.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME=Xa;f.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN=Ya;f.E2EE_THREAD_DESCRIPTION=E;f.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE=F;f.CURRENT_USER_CREATED_POLL=G;f.PARTICIPANT_CREATED_POLL=H;f.CURRENT_USER_ADDED_POLL_OPTION=I;f.PARTICIPANT_ADDED_POLL_OPTION=J;f.CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS=K;f.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS=L;f.CURRENT_USER_ADDED_POLL_VOTE=M;f.PARTICIPANT_ADDED_POLL_VOTE=N;f.CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES=O;f.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES=P;f.CURRENT_USER_REMOVED_POLL_VOTE=Q;f.PARTICIPANT_REMOVED_POLL_VOTE=R;f.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES=S;f.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES=T;f.CURRENT_USER_MIXED_POLL_UPDATE=U;f.PARTICIPANT_MIXED_POLL_UPDATE=V;f.CURRENT_USER_CHANGED_POLL_VOTE=W;f.PARTICIPANT_CHANGED_POLL_VOTE=X;f.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES=Y;f.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES=Z;f.POLL_UNSENT_UPDATE=$;f.ADMIN_MSG_TYPE=r}),66);
__d("MAWBridgeSafeActionsWorkerAndUI",["ExecutionEnvironment","FBLogger","MAWBridge","Promise","ifRequireable"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f){return(i||(i=c("ExecutionEnvironment"))).isInWorker?d("MAWBridge").getBridge().sendAndReceive("backend",a,e,f==null?void 0:f.isLoggingDisabled):new(h||(h=b("Promise")))(function(b,d){return c("ifRequireable")("MAWBridgeSendAndReceive",function(c){c=c.sendAndReceive;return b(c("backend",a,e,f))},function(){return d("MAWBridgeSendAndReceive not available in UI ifRequired")})})}function e(a,b,e){return(i||(i=c("ExecutionEnvironment"))).isInWorker?d("MAWBridge").getBridge().fireAndForget("backend",a,b,e):c("ifRequireable")("MAWBridgeFireAndForget",function(c){c=c.fireAndForget;return c("backend",a,b,e)},function(){throw c("FBLogger")("messenger_web").mustfixThrow("MAWBridgeFireAndForget not available in UI ifRequired")})}g.sendAndReceiveBackendWorkerAndUIShared=a;g.fireAndForgetBackendWorkerAndUIShared=e}),98);
__d("MAWCacheServiceDB",["FBLogger","MAWCurrentUser","MAWIndexedDbMetadata","MAWWormOdsLogger","MessengerWebInitData","Promise","WAHex","Worm","WormDump","WormEAR","WormIDbDriver","asyncToGeneratorRuntime","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;f={autoIncrement:!0,indexes:{key:{fields:["key"],unique:!0}},primaryKey:"id",secure:!0};var i={messageComposerDrafts:f,snippets:f},j=null,k=function(a,b,e){var f="maw_cache_service";b=new(d("WormEAR").WormEAR)(e,f,b);a=new(d("WormIDbDriver").WormIDbDriver)(a,f,e,b,d("MAWWormOdsLogger").wormOdsWorkerLogger,{onTransactionError:m});return new(d("Worm").WormDatabase)(a,c("qpl")._(1056840657,"2716"))};function l(){if(j!==null)return j;j=new(h||(h=b("Promise")))(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{var e=k(d("MAWIndexedDbMetadata").MAWcacheServiceDbName(d("MAWCurrentUser").getID()),d("WAHex").parseHex(c("MessengerWebInitData").accountKeyV2),i);yield e.init();a(e)}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to create cache service DB"),j=null,b(a)}});return function(b,c){return a.apply(this,arguments)}}());return j}function m(a){if(a instanceof d("WormEAR").DecryptionError){var b=a;c("FBLogger")("MAWCacheService").mustfix("EAR decryption error in store: %s. Attempting to delete the store:",b.store);c("promiseDone")(l().then(function(a){return a.runInTransaction([b.store],"readwrite",function(a){return a.stores[b.store].clear()},"delete-corrupted-entity")}).then(function(){c("FBLogger")("MAWCacheService").info("Successfully deleted corrupted store %s",b.store)})["catch"](function(a){c("FBLogger")("MAWCacheService").catching(a).mustfix("Failed to delete corrupted store %s, err: %s",b.store,a.message)}))}}function a(a){return a.map(function(a){a[0];a=a[1];return a})}function e(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield l());return a.dump({snippets:{customFields:{id:d("WormDump").wormNonSensitiveField,key:d("WormDump").wormNonSensitiveField,timestamp:d("WormDump").wormNonSensitiveField,value:function(a){var b;return{snippet:(b=d("WormDump")).wormRedact(a.snippet),snippetMsgAckLevel:b.wormNonSensitiveField(a.snippetMsgAckLevel),snippetMsgId:b.wormNonSensitiveField(a.snippetMsgId),snippetNewestIncomingMsgs:b.wormNonSensitiveField(a.snippetNewestIncomingMsgs),snippetReactionId:b.wormRedact(a.snippetReactionId)}}}}})});return n.apply(this,arguments)}g.getOrSetupMAWCacheDB=l;g.convertCacheValueToDBRawValue=a;g.getDbDump=e}),98);
__d("MAWEBRestoreTrackingUtils",["LSIntEnum","LSMEBTaskCreationSource","MAWQplProxy","MWEBODSEntityName.enum","ODS","QPLUserFlow","WAHashStringToNumber","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={dyi:c("justknobx")._("467"),frontloaded:20,initial:20,paginated:c("justknobx")._("3177"),point:1,search:c("justknobx")._("2477")};function a(a,b,e,f){b!=null&&p({querySource:e,runningInWorker:f!=null?f:!1,taskSource:a,traceId:b,triggerType:"paginated"}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.paginated")}function b(a){var b=a.querySource,e=a.runningInWorker,f=a.taskSource;a=a.traceId;a!=null&&p({querySource:b,runningInWorker:e!=null?e:!1,taskSource:f,traceId:a,triggerType:"initial"});(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.initial")}function e(a,b,e){b!=null&&p({querySource:"LS",runningInWorker:e!=null?e:!1,taskSource:a,traceId:b,triggerType:"dyi"}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.dyi")}function f(a,b,e){b!=null&&p({querySource:"LS",runningInWorker:e!=null?e:!1,taskSource:a,traceId:b,triggerType:"frontloaded"}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.frontloaded")}function k(a,b,e,f){b!=null&&p({querySource:e,runningInWorker:f!=null?f:!1,taskSource:a,traceId:b,triggerType:"point"}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.point")}function l(a){var b=a.querySource,e=a.runningInWorker;a=a.traceId;a!=null&&p({querySource:b,runningInWorker:e!=null?e:!1,taskSource:c("LSMEBTaskCreationSource").FTS_INDEX_EB_MESSAGES_WEB,traceId:a,triggerType:"search"});(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.search")}function m(a,b){a!=null&&(b!=null&&b?d("MAWQplProxy").sendQPLSuccessThroughBridge(c("qpl")._(521476165,"2432"),void 0,d("WAHashStringToNumber").hashStringToNumber(a)):c("QPLUserFlow").endSuccess(c("qpl")._(521476165,"2432"),{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.decryption.success")}function n(a,b,e,f){e===void 0&&(e="restore_failure"),a!=null&&(b!=null&&b?d("MAWQplProxy").sendQPLFailThroughBridge(c("qpl")._(521476165,"2432"),e,f,d("WAHashStringToNumber").hashStringToNumber(a)):c("QPLUserFlow").endFailure(c("qpl")._(521476165,"2432"),e,{annotations:f,instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.decryption.failure")}function o(a){u("protobuf",a)}function p(a){var b=a.querySource,e=a.runningInWorker,f=a.taskSource,g=a.traceId;a=a.triggerType;if(e!=null&&e){var h;d("MAWQplProxy").startQplUserFlow(c("qpl")._(521476165,"2432"),{bool:{runningInWorker:e===!0},"int":{requestedMessagesCount:(h=j[a])!=null?h:10},string:{querySource:b,taskSource:v(f),traceId:g,triggerType:a}},{providedInstanceKey:d("WAHashStringToNumber").hashStringToNumber(g),providedTimeoutInMs:c("justknobx")._("2950")})}else{c("QPLUserFlow").start(c("qpl")._(521476165,"2432"),{annotations:{bool:{runningInWorker:e===!0},"int":{requestedMessagesCount:(h=j[a])!=null?h:10},string:{querySource:b,taskSource:v(f),traceId:g,triggerType:a}},instanceKey:d("WAHashStringToNumber").hashStringToNumber(g),timeoutInMs:c("justknobx")._("2950")})}}function q(a){var b=a.pointName;a=a.traceId;c("QPLUserFlow").addPoint(c("qpl")._(521476165,"2432"),b,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})}function r(a){var b=a.annotations,e=a.pointName;a=a.traceId;c("QPLUserFlow").addAnnotations(c("qpl")._(521476165,"2432"),b,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)});c("QPLUserFlow").addPoint(c("qpl")._(521476165,"2432"),e,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})}function s(a){var b=a.annotations,e=a.pointName;a=a.traceId;a!=null&&d("MAWQplProxy").sendQplPointThroughBridge(c("qpl")._(521476165,"2432"),e,{annotations:b,instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})}function t(a){var b=a.pointName;a=a.traceId;d("MAWQplProxy").sendQplPointThroughBridge(c("qpl")._(521476165,"2432"),b,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})}function u(a,b){b=b?(i||(i=d("LSIntEnum"))).unwrapIntEnum(b):null;(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore."+a+"."+v(b))}function v(a){return(a=a==null?void 0:a.toString())!=null?a:"unknown"}g.markEBRestorePaginated=a;g.markEBRestoreInitial=b;g.markEBRestoreDYI=e;g.markEBRestoreFrontloaded=f;g.markEBRestorePoint=k;g.markEBRestoreSearch=l;g.markEBRestoreSuccess=m;g.markEBRestoreFail=n;g.markEBRestoreProtobuf=o;g.addQPLRestorePoint=q;g.addQPLRestorePointWithAnnotations=r;g.addQPLRestorePointWithAnnotationsWorker=s;g.addQPLRestorePointWorker=t}),98);
__d("MAWLocalizationType",["MAWAdminMsgType"],(function(a,b,c,d,e,f,g){"use strict";a="emptySnippet";b="currentUserCreatedGroup";c="participantCreatedGroup";e="unknownUserCreatedGroup";f="currentUserGotPromoted";var h="currentUserGotDemoted",i="participantGotPromoted",j="participantGotDemoted",k="participantPromotedYou",l="participantDemotedYou",m="currentUserPromotedParticipant",n="currentUserDemotedParticipant",o="participantDemotedParticipant",p="participantPromotedParticipant",q="participantSelfDemoted",r="currentUserSelfDemoted",s="currentUserSendText",t="currentUserSendImage",u="currentUserSendVideo",v="currentUserSendAudio",w="currentUserSendGif",x="currentUserSendSticker",y="participantSendText",z="participantSendTextInGroup",A="participantSendImage",B="participantSendVideo",C="participantSendAudio",D="participantSendGif",E="participantSendSticker",F="unavailableSnippet",G="unknownUserEphemeralSettingTurnedOnSeconds",H="unknownUserEphemeralSettingTurnedOnMinutes",I="unknownUserEphemeralSettingTurnedOnHours",J="unknownUserEphemeralSettingTurnedOnDays",K="youEphemeralSettingTurnedOnSeconds",L="youEphemeralSettingTurnedOnMinutes",M="youEphemeralSettingTurnedOnHours",N="youEphemeralSettingTurnedOnDays",O="participantEphemeralSettingTurnedOnSeconds",P="participantEphemeralSettingTurnedOnMinutes",Q="participantEphemeralSettingTurnedOnHours",R="participantEphemeralSettingTurnedOnDays",S="unknownUserEphemeralSettingChangeSeconds",T="unknownUserEphemeralSettingChangeMinutes",U="unknownUserEphemeralSettingChangeHours",V="unknownUserEphemeralSettingChangeDays",aa="youEphemeralSettingChangeSeconds",ba="youEphemeralSettingChangeMinutes",ca="youEphemeralSettingChangeHours",da="youEphemeralSettingChangeDays",ea="participantEphemeralSettingChangeSeconds",fa="participantEphemeralSettingChangeMinutes",ga="participantEphemeralSettingChangeHours",ha="participantEphemeralSettingChangeDays",ia="unknownUserEphemeralSettingTurnedOff",ja="youEphemeralSettingTurnedOff",ka="participantEphemeralSettingTurnedOff",la="ephemeralSettingsAutoReset",ma="currentUserUnsentMessage",na="participantUnsentMessage",oa="participantReactMessage",pa="participantReactMessageInGroup",W="unknownUserEphemeralTakeScreenshot",qa="unknownUserEphemeralRecordScreen",ra="youEphemeralTakeScreenshot",sa="youEphemeralRecordScreen",ta="participantEphemeralTakeScreenshot",ua="participantEphemeralRecordScreen",va="icdcAlertAdminMessage",wa="yourDeviceICDCAlertAdminMessage",X="currentUserSendAttachment",xa="participantSendAttachment",ya="currentUserSentPost",za="currentUserSentReel",Aa="currentUserSentStory",Ba="currentUserSentEvent",Ca="currentUserMentionedStoryIG",Da="currentUserReceivedStoryMentionIG",Ea="participantSentPost",Fa="participantSentReel",Ga="participantSentStory",Ha="participantSentEvent",Ia="currentUserSentStoryHighlight",Ja="participantSentStoryHighlight",Ka="currentUserMissedAudioCall",La="participantMissedAudioCall",Ma="currentUserMissedVideoCall",Na="participantMissedVideoCall",Oa="currentUserAudioCalled",Pa="participantAudioCalled",Qa="currentUserVideoCalled",Ra="participantVideoCalled",Sa="currentUserStartedGroupAudioCall",Ta="participantStartedGroupAudioCall",Ua="currentUserStartedGroupVideoCall",Va="participantStartedGroupVideoCall",Wa="currentUserBumpedOwnMessage",Xa="currentUserBumpedMessage",Ya="participantBumpedOwnMessage",Za="participantBumpedParticipantMessage",$a="participantBumpedCurrentUserMessage",ab="userSendUnavailableMessage",bb="userSendEncryptedMessage",cb="currentUserSendUnrenderableMessage",db="participantSendUnrenderableMessage",eb="currentUserSendLocationFallback",fb="participantSendLocation",gb="currentUserSendLiveLocationFallback",hb="participantSendLiveLocation",ib="currentUserSendLocation",jb="participantSendLocation",kb="currentUserSendPollCreationFallback",lb="participantSendPollCreation",mb="currentUserSendContactShareFallback",nb="participantSendContactShareFallback",ob="currentUserSendContactShare",pb="participantSendContactShare",qb="currentUserSendAIContactShare",rb="participantSendAIContactShare",sb="currentUserSendStoryMentionFallback",tb="currentUserSendStoryMention",ub="participantSendStoryMention",vb="participantSendStoryMentionFallback",wb="currentUserSendPostMentionFallback",xb="participantSendPostMentionFallback",yb="currentUserSendMemoriesShare",zb="participantSendMemoriesShare",Ab="currentUserSendPostMention",Bb="participantSendPostMention",Cb="currentUserSendNoteMentionFallback",Db="participantSendNoteMentionFallback",Eb="messengerMemoryEncryptedMessageFallback",Fb="rtcXMAMessageFallback",Gb="metaAISendMessageFallback",Hb="currentUserSendBumpMessageFallback",Ib="participantSendBumpMessageFallback",Jb="participantSendBumpMessageOriginalUnavailable",Kb="currentUserSendStickerReceiverFetchMessageFallback",Lb="participantSendStickerReceiverFetchMessageFallback",Mb="viewOncePhotoMessageFallback",Nb="viewOnceVideoMessageFallback",Ob="unavailableStory",Pb="currentUserLimitSharingDisabled",Qb="currentUserLimitSharingEnabled",Rb="participantLimitSharingDisabled",Sb="participantLimitSharingEnabled",Y="dualThreadCutoverAdminMessageOtherUserNameUnknown",Z="dualThreadCutoverAdminMessageSelfThread",$="dualThreadCutoverAdminMessageWithOtherUserName";d=babelHelpers["extends"]({},d("MAWAdminMsgType").ADMIN_MSG_TYPE,{CURRENT_USER_AUDIO_CALLED:Oa,CURRENT_USER_BUMPED_MESSAGE:Xa,CURRENT_USER_BUMPED_OWN_MESSAGE:Wa,CURRENT_USER_CREATED_GROUP:b,CURRENT_USER_DEMOTED_PARTICIPANT:n,CURRENT_USER_GOT_DEMOTED:h,CURRENT_USER_GOT_PROMOTED:f,CURRENT_USER_LIMIT_SHARING_DISABLED:Pb,CURRENT_USER_LIMIT_SHARING_ENABLED:Qb,CURRENT_USER_MENTIONED_STORY_IG:Ca,CURRENT_USER_MISSED_AUDIO_CALL:Ka,CURRENT_USER_MISSED_VIDEO_CALL:Ma,CURRENT_USER_PROMOTED_PARTICIPANT:m,CURRENT_USER_RECEIVED_STORY_MENTION_IG:Da,CURRENT_USER_SELF_DEMOTED:r,CURRENT_USER_SEND_AI_CONTACT_SHARE:qb,CURRENT_USER_SEND_ATTACHMENT:X,CURRENT_USER_SEND_AUDIO:v,CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:Hb,CURRENT_USER_SEND_CONTACT_SHARE:ob,CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:mb,CURRENT_USER_SEND_GIF:w,CURRENT_USER_SEND_IMAGE:t,CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK:gb,CURRENT_USER_SEND_LOCATION:ib,CURRENT_USER_SEND_LOCATION_FALLBACK:eb,CURRENT_USER_SEND_MEMORIES_SHARE:yb,CURRENT_USER_SEND_NOTE_MENTION_FALLBACK:Cb,CURRENT_USER_SEND_POLL_CREATION_FALLBACK:kb,CURRENT_USER_SEND_POST_MENTION:Ab,CURRENT_USER_SEND_POST_MENTION_FALLBACK:wb,CURRENT_USER_SEND_STICKER:x,CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:Kb,CURRENT_USER_SEND_STORY_MENTION:tb,CURRENT_USER_SEND_STORY_MENTION_FALLBACK:sb,CURRENT_USER_SEND_TEXT:s,CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:cb,CURRENT_USER_SEND_VIDEO:u,CURRENT_USER_SENT_EVENT:Ba,CURRENT_USER_SENT_POST:ya,CURRENT_USER_SENT_REEL:za,CURRENT_USER_SENT_STORY:Aa,CURRENT_USER_SENT_STORY_HIGHLIGHT:Ia,CURRENT_USER_STARTED_GROUP_AUDIO_CALL:Sa,CURRENT_USER_STARTED_GROUP_VIDEO_CALL:Ua,CURRENT_USER_UNSENT_MESSAGE:ma,CURRENT_USER_VIDEO_CALLED:Qa,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN:Y,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:Z,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:$,EMPTY_SNIPPET:a,EPHEMERAL_SETTINGS_AUTO_RESET:la,ICDC_ALERT_ADMIN_MESSAGE:va,MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK:Eb,META_AI_SEND_MESSAGE_FALLBACK:Gb,PARTICIPANT_AUDIO_CALLED:Pa,PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:$a,PARTICIPANT_BUMPED_OWN_MESSAGE:Ya,PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:Za,PARTICIPANT_CREATED_GROUP:c,PARTICIPANT_DEMOTED_PARTICIPANT:o,PARTICIPANT_DEMOTED_YOU:l,PARTICIPANT_EPHEMERAL_RECORD_SCREEN:ua,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:ha,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:ga,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:fa,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:ea,PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:ka,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:R,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:Q,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:P,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:O,PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:ta,PARTICIPANT_GOT_DEMOTED:j,PARTICIPANT_GOT_PROMOTED:i,PARTICIPANT_LIMIT_SHARING_DISABLED:Rb,PARTICIPANT_LIMIT_SHARING_ENABLED:Sb,PARTICIPANT_MISSED_AUDIO_CALL:La,PARTICIPANT_MISSED_VIDEO_CALL:Na,PARTICIPANT_PROMOTED_PARTICIPANT:p,PARTICIPANT_PROMOTED_YOU:k,PARTICIPANT_REACT_MESSAGE:oa,PARTICIPANT_REACT_MESSAGE_IN_GROUP:pa,PARTICIPANT_SELF_DEMOTED:q,PARTICIPANT_SEND_AI_CONTACT_SHARE:rb,PARTICIPANT_SEND_ATTACHMENT:xa,PARTICIPANT_SEND_AUDIO:C,PARTICIPANT_SEND_BUMP_MESSAGE:Ib,PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK:Jb,PARTICIPANT_SEND_CONTACT_SHARE:pb,PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK:nb,PARTICIPANT_SEND_GIF:D,PARTICIPANT_SEND_IMAGE:A,PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK:hb,PARTICIPANT_SEND_LOCATION:jb,PARTICIPANT_SEND_LOCATION_FALLBACK:fb,PARTICIPANT_SEND_MEMORIES_SHARE:zb,PARTICIPANT_SEND_NOTE_MENTION_FALLBACK:Db,PARTICIPANT_SEND_POLL_CREATION_FALLBACK:lb,PARTICIPANT_SEND_POST_MENTION:Bb,PARTICIPANT_SEND_POST_MENTION_FALLBACK:xb,PARTICIPANT_SEND_STICKER:E,PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:Lb,PARTICIPANT_SEND_STORY_MENTION:ub,PARTICIPANT_SEND_STORY_MENTION_FALLBACK:vb,PARTICIPANT_SEND_TEXT:y,PARTICIPANT_SEND_TEXT_IN_GROUP:z,PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK:db,PARTICIPANT_SEND_VIDEO:B,PARTICIPANT_SENT_EVENT:Ha,PARTICIPANT_SENT_POST:Ea,PARTICIPANT_SENT_REEL:Fa,PARTICIPANT_SENT_STORY:Ga,PARTICIPANT_SENT_STORY_HIGHLIGHT:Ja,PARTICIPANT_STARTED_GROUP_AUDIO_CALL:Ta,PARTICIPANT_STARTED_GROUP_VIDEO_CALL:Va,PARTICIPANT_UNSENT_MESSAGE:na,PARTICIPANT_VIDEO_CALLED:Ra,RTC_XMA_FALLBACK:Fb,UNAVAILABLE_SNIPPET:F,UNAVAILABLE_STORY:Ob,UNKNOWN_USER_CREATED_GROUP:e,UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:qa,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:V,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:U,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:T,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:S,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:ia,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:J,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:I,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:H,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:G,UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:W,USER_SEND_ENCRYPTED_MESSAGE_FALLBACK:bb,USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK:ab,VIEW_ONCE_PHOTO_MESSAGE:Mb,VIEW_ONCE_VIDEO_MESSAGE:Nb,YOU_EPHEMERAL_RECORD_SCREEN:sa,YOU_EPHEMERAL_SETTING_CHANGE_DAYS:da,YOU_EPHEMERAL_SETTING_CHANGE_HOURS:ca,YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:ba,YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:aa,YOU_EPHEMERAL_SETTING_TURNED_OFF:ja,YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:N,YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:M,YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:L,YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:K,YOU_EPHEMERAL_TAKE_SCREENSHOT:ra,YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:wa});g.CURRENT_USER_CREATED_GROUP=b;g.CURRENT_USER_SEND_TEXT=s;g.CURRENT_USER_SEND_IMAGE=t;g.CURRENT_USER_SEND_VIDEO=u;g.CURRENT_USER_SEND_AUDIO=v;g.CURRENT_USER_SEND_GIF=w;g.CURRENT_USER_SEND_STICKER=x;g.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS=G;g.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT=W;g.CURRENT_USER_SEND_ATTACHMENT=X;g.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN=Y;g.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD=Z;g.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME=$;g.LOCALIZATION_TYPE=d}),98);
__d("MAWMpsGating",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("gkx")("10465")}function a(){return c("gkx")("10536")}function b(){return c("justknobx")._("3406")}function d(){return c("gkx")("5823")||h()}function e(){return c("gkx")("16913")||h()}function f(){return c("gkx")("15420")}function i(){return c("gkx")("16365")}function j(){return h()||c("gkx")("17181")}function k(){return h()||c("gkx")("17846")}function l(){return c("gkx")("17946")}function m(){return j()||c("gkx")("18142")}g.isFullMpsEnabled=h;g.isMpsWaAdminMsgsEnabled=a;g.isMpsAdminMsgsGroupNotification=b;g.isMpsThreadsConsistencyEnabled=d;g.isMpsMessagePublishSeviceEnabled=e;g.isMpsUploadAdminMessageEnabled=f;g.isSearchOnMpsEnabled=i;g.isMpsMessageRendering=j;g.isMpsSnippetsCacheServiceEnabled=k;g.isEBMessageProbeEnabled=l;g.isXmaWithoutAssociatedMsg=m}),98);
__d("MWEBODSCategory",[],(function(a,b,c,d,e,f){"use strict";a=7319;f["default"]=a}),66);
__d("MWEBODSEntityKey.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({START:"start",SUCCESS:"success",FAIL:"fail",INCORRECT_PIN_CODE:"incorrect_pin_code",INCORRECT_RECOVERY_CODE:"incorrect_recovery_code",TIMEOUT:"timeout",CANCEL:"cancel"});c=a;f["default"]=c}),66);
__d("MWChatEncryptedBackupsLogging",["MWEBODSCategory","MWEBODSEntityKey.enum","ODS","QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=a.cancelEndPoint,d=a.event,e=a.instanceKey;a=a.source;a!=null&&c("QPLUserFlow").addAnnotations(d,{string:{source:a}},{instanceKey:e});c("QPLUserFlow").addPoint(d,"cancel",{instanceKey:e});c("QPLUserFlow").addAnnotations(d,{string:{cancel_end_point:b}},{instanceKey:e});c("QPLUserFlow").endCancel(d,{instanceKey:e})}function a(a){var b=a.event,d=a.instanceKey,e=a.onClose;a=a.source;a!=null&&c("QPLUserFlow").addAnnotations(b,{string:{source:a}},{instanceKey:d});i({cancelEndPoint:"dialog_x_button",event:b,instanceKey:d});e()}function b(a){var b=a.annotations,e=a.event,f=a.instanceKey;a=a.odsEntityName;c("QPLUserFlow").addPoint(e,"success",{instanceKey:f});c("QPLUserFlow").endSuccess(e,{annotations:b,instanceKey:f});a&&(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),a,c("MWEBODSEntityKey.enum").SUCCESS)}function e(a){var b=a.annotations,e=a.errorName,f=a.event,g=a.instanceKey,i=a.odsEntityKey;a=a.odsEntityName;c("QPLUserFlow").addPoint(f,"failure",{instanceKey:g});c("QPLUserFlow").endFailure(f,e,{annotations:b,instanceKey:g});a&&(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),a,i!=null?i:c("MWEBODSEntityKey.enum").FAIL)}g.cancelFlow=i;g.closeDialogCancelFlow=a;g.endSuccess=b;g.endFailure=e}),98);
__d("MWChatEncryptedBackupsQPLEvents",["qpl"],(function(a,b,c,d,e,f,g){"use strict";b=(a=c("qpl"))._(521476140,"378");d=a._(521472542,"295");e=a._(521484256,"3212");f=a._(521473384,"31");c=a._(521482085,"409");var h=a._(521485406,"272"),i=a._(521482763,"296"),j=a._(521484295,"1460"),k=a._(521482969,"1519"),l=a._(521479124,"1939"),m=a._(521474385,"263"),n=a._(521476098,"504"),o=a._(521482858,"1290"),p=a._(521473194,"1331");a=a._(521471024,"2275");g.pinCodeChangeQplEvent=b;g.optOutQplEvent=d;g.resetBackupQplEvent=e;g.ebResetObserverQplEvent=f;g.backupSetupQplEvent=c;g.mobileOnboardingQplEvent=h;g.restoreQplEvent=i;g.restoreDeviceAuthQplEvent=j;g.messageRestoreQplEvent=k;g.restoreWithAutoRestoreConsentQplEvent=l;g.hsmFleetMigrationQplEvent=m;g.virtualDeviceRevocationQplEvent=n;g.onboardingAuthQplEvent=o;g.processBackupIdsQPLEvent=p;g.fetchBackupIdsQPLEvent=a}),98);
__d("MWEBUseLocalStorage",["WALogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){a=a;b=b!=null?b:"true";if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Encrypted Backups key "," written to local storage"])),a);(e=(i||(i=c("WebStorage"))).getLocalStorage())==null||e.setItem(a,b)}}function b(a){a=a;if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;(b=(i||(i=c("WebStorage"))).getLocalStorage())==null||b.removeItem(a)}}function e(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=a;return(b=(i||(i=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a)}return null}function f(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=a;return((b=(i||(i=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a))!=null}return!0}g.mwEBCreateLocalStorageEntry=a;g.mwEBDeleteLocalStorageEntry=b;g.mwEBGetLocalStorageEntryValue=e;g.mwEBGetIsLocalStorageEntryValuePresent=f}),98);
__d("WACryptoPrimitives",["tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";b={scalarbase:(a=d("tweetnacl")).lowlevel.scalarbase,crypto_hash:a.lowlevel.crypto_hash,modL:a.lowlevel.modL,pack25519:a.lowlevel.pack25519,S:a.lowlevel.S,M:a.lowlevel.M,A:a.lowlevel.A,Z:a.lowlevel.Z,D:a.lowlevel.D,unpack25519:a.lowlevel.unpack25519,pow2523:a.lowlevel.pow2523,crypto_verify_32:a.lowlevel.crypto_verify_32,set25519:a.lowlevel.set25519,add:a.lowlevel.add,scalarmult:a.lowlevel.scalarmult};g.hash=a.hash;g.scalarMult=a.scalarMult;g.verify=a.verify;g.lowlevel=b;g.keypairFromSecretKey=a.box.keyPair.fromSecretKey;g.keyPair=a.box.keyPair;g.signDetachedVerify=a.sign.detached.verify}),98);
__d("WASignalLocalStorageProtocol.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={},k={},l={},m={},n={},o={},p={},q={};a.internalSpec={sessionVersion:[1,(d=d("WAProtoConst")).TYPES.UINT32],localIdentityPublic:[2,d.TYPES.BYTES],remoteIdentityPublic:[3,d.TYPES.BYTES],rootKey:[4,d.TYPES.BYTES],previousCounter:[5,d.TYPES.UINT32],senderChain:[6,d.TYPES.MESSAGE,e],receiverChains:[7,d.FLAGS.REPEATED|d.TYPES.MESSAGE,e],pendingKeyExchange:[8,d.TYPES.MESSAGE,c],pendingPreKey:[9,d.TYPES.MESSAGE,b],remoteRegistrationId:[10,d.TYPES.UINT32],localRegistrationId:[11,d.TYPES.UINT32],needsRefresh:[12,d.TYPES.BOOL],aliceBaseKey:[13,d.TYPES.BYTES]};b.internalSpec={preKeyId:[1,d.TYPES.UINT32],signedPreKeyId:[3,d.TYPES.INT32],baseKey:[2,d.TYPES.BYTES]};c.internalSpec={sequence:[1,d.TYPES.UINT32],localBaseKey:[2,d.TYPES.BYTES],localBaseKeyPrivate:[3,d.TYPES.BYTES],localRatchetKey:[4,d.TYPES.BYTES],localRatchetKeyPrivate:[5,d.TYPES.BYTES],localIdentityKey:[7,d.TYPES.BYTES],localIdentityKeyPrivate:[8,d.TYPES.BYTES]};e.internalSpec={senderRatchetKey:[1,d.TYPES.BYTES],senderRatchetKeyPrivate:[2,d.TYPES.BYTES],chainKey:[3,d.TYPES.MESSAGE,h],messageKeys:[4,d.FLAGS.REPEATED|d.TYPES.MESSAGE,f]};f.internalSpec={index:[1,d.TYPES.UINT32],cipherKey:[2,d.TYPES.BYTES],macKey:[3,d.TYPES.BYTES],iv:[4,d.TYPES.BYTES]};h.internalSpec={index:[1,d.TYPES.UINT32],key:[2,d.TYPES.BYTES]};i.internalSpec={currentSession:[1,d.TYPES.MESSAGE,a],previousSessions:[2,d.FLAGS.REPEATED|d.TYPES.MESSAGE,a]};j.internalSpec={id:[1,d.TYPES.UINT32],publicKey:[2,d.TYPES.BYTES],privateKey:[3,d.TYPES.BYTES]};k.internalSpec={id:[1,d.TYPES.UINT32],publicKey:[2,d.TYPES.BYTES],privateKey:[3,d.TYPES.BYTES],signature:[4,d.TYPES.BYTES],timestamp:[5,d.TYPES.FIXED64]};l.internalSpec={publicKey:[1,d.TYPES.BYTES],privateKey:[2,d.TYPES.BYTES]};m.internalSpec={senderKeyId:[1,d.TYPES.UINT32],senderChainKey:[2,d.TYPES.MESSAGE,p],senderSigningKey:[3,d.TYPES.MESSAGE,n],senderMessageKeys:[4,d.FLAGS.REPEATED|d.TYPES.MESSAGE,o]};n.internalSpec={"public":[1,d.TYPES.BYTES],"private":[2,d.TYPES.BYTES]};o.internalSpec={iteration:[1,d.TYPES.UINT32],seed:[2,d.TYPES.BYTES]};p.internalSpec={iteration:[1,d.TYPES.UINT32],seed:[2,d.TYPES.BYTES]};q.internalSpec={senderKeyStates:[1,d.FLAGS.REPEATED|d.TYPES.MESSAGE,m]};g.SessionStructureSpec=a;g.SessionStructure$PendingPreKeySpec=b;g.SessionStructure$PendingKeyExchangeSpec=c;g.SessionStructure$ChainSpec=e;g.SessionStructure$Chain$MessageKeySpec=f;g.SessionStructure$Chain$ChainKeySpec=h;g.RecordStructureSpec=i;g.PreKeyRecordStructureSpec=j;g.SignedPreKeyRecordStructureSpec=k;g.IdentityKeyPairStructureSpec=l;g.SenderKeyStateStructureSpec=m;g.SenderKeyStateStructure$SenderSigningKeySpec=n;g.SenderKeyStateStructure$SenderMessageKeySpec=o;g.SenderKeyStateStructure$SenderChainKeySpec=p;g.SenderKeyRecordStructureSpec=q}),98);
__d("WATypedArraysCast",["WABase64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b instanceof a)return b;return typeof b==="string"?new a(d("WABase64").decodeB64(b)):new a(b)}g.castTypedArrays=a}),98);
__d("WACryptoHmac",["WACryptoDependencies","WATypedArraysCast"],(function(a,b,c,d,e,f,g){"use strict";var h=32,i=new Uint8Array(h),j={name:"HMAC",hash:"SHA-256"},k={name:"HMAC",hash:"SHA-512"},l={name:"HMAC",hash:"SHA-1"};function m(a,b){b=d("WATypedArraysCast").castTypedArrays(Uint8Array,b);return d("WACryptoDependencies").getCrypto().subtle.importKey("raw",b,a,!1,["sign"]).then(function(b){return{key:b,algo:a}})}function a(a){return m(j,a)}function n(a,b,c){var e=a.key;a=a.algo;return d("WACryptoDependencies").getCrypto().subtle.sign(a,e,b).then(function(a){return c!=null&&c!==0?a.slice(0,c):a})}function b(a,b){return m(j,a!=null?a:i).then(function(a){return n(a,b)})}function c(a,b,c){return m(j,a).then(function(a){return n(a,b,c)})}function e(a,b,c){return m(k,a).then(function(a){return n(a,b,c)})}function f(a,b,c){return m(l,a).then(function(a){return n(a,b,c)})}g.SHA256_BYTE_LENGTH=h;g.DEFAULT_SALT=i;g.encodeKeySha256=a;g.sign=n;g.extractSha256=b;g.hmacSha256=c;g.hmacSha512=e;g.hmacSha1=f}),98);
__d("WACryptoHkdf",["Promise","WABinary","WACryptoHmac","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=255*d("WACryptoHmac").SHA256_BYTE_LENGTH;function j(a,e,f){if(f<0||f>i)return(h||(h=b("Promise"))).reject(c("err")("HKDF::expand given bad length "+f));var g,j=Math.ceil(f/d("WACryptoHmac").SHA256_BYTE_LENGTH),k=d("WABinary").Binary.build(e).readByteArrayView(),l=new(d("WABinary").Binary)(),m=d("WACryptoHmac").encodeKeySha256(a).then(function(a){g=a;return new Uint8Array(0)});e=function(a){m=m.then(function(b){return d("WACryptoHmac").sign(g,d("WABinary").Binary.build(b,k,a).readByteArrayView())}).then(function(a){a=new Uint8Array(a);l.writeByteArray(a);return a})};for(a=1;a<=j;a++)e(a);return m.then(function(){return l.readBuffer(f)})}function a(a,b,c){return d("WACryptoHmac").extractSha256(null,a).then(function(a){return j(new Uint8Array(a),b,c)})}function e(a,b,c,e){return d("WACryptoHmac").extractSha256(b,a).then(function(a){return j(new Uint8Array(a),c,e)})}g.expand=j;g.extractAndExpand=a;g.extractWithSaltAndExpand=e}),98);
__d("WACryptoUtils",["WACryptoDependencies","WACryptoPrimitives","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h(new Uint8Array(a),new Uint8Array(b))}function b(a,b){var c=new TextDecoder();return c.decode(a).toLowerCase()===c.decode(b).toLowerCase()}function h(a,b){return a.length===0&&b.length===0||d("WACryptoPrimitives").verify(a,b)}function e(a,b){return a.length===0&&b.length===0||d("WACryptoPrimitives").verify(a,b)}function f(a,b){return a.length===0&&b.length===0||d("WACryptoPrimitives").verify(a,b)}function i(a){if(a!==(a|0))throw c("err")("bound must be int32");if(a<=0)throw c("err")("bound must not be positive");var b=new Int32Array(1),e=-1>>>1;e=a*Math.floor(e/a);var f=-1;while(f===-1){d("WACryptoDependencies").getCrypto().getRandomValues(b);var g=b[0]>>>1;g<e&&(f=g%a)}return f}g.arrayBuffersEqual=a;g.arrayBuffersEqualCaseInsensitive=b;g.uint8ArraysEqual=h;g.rawKeysEqual=e;g.serializedPubKeysEqual=f;g.randomNumberLessThan=i}),98);
__d("WAXmlParsingFailure",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.parser=a,this.reason=b}var b=a.prototype;b.toString=function(){return"XmlParsingFailure: "+this.parser+": "+this.reason};return a}();f.XmlParsingFailure=a}),66);
__d("WAParsableXmlNode",["WAHasProperty","WAXmlParsingFailure","err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var c=this;this.$1=a;this.$2=b;this.$3=Array.isArray(b.content)?b.content.map(function(b){return new c.constructor(a,b)}):null}var b=a.prototype;b.name=function(){return this.$1};b.node=function(){return this.$2};b.hasAttr=function(a){return c("WAHasProperty")(this.$2.attrs,a)};b.assertTag=function(a){this.$2.tag!==a&&this["throw"]("to be <"+a+">")};b.tag=function(){return this.$2.tag};b.maybeChild=function(a){var b=this.$3;if(!b)return null;for(var c=0;c<b.length;c++)if(b[c].tag()===a)return b[c];return null};b.hasChild=function(a){return!!this.maybeChild(a)};b.child=function(a){var b=this.maybeChild(a);return!b?this["throw"]("to have child <"+a+">"):b};b.assertAttr=function(a,b){var c=this.attrString(a);c!==b&&this["throw"]('to have "'+a+'"="'+b+'", but instead has "'+c+'"')};b.attrString=function(a){return!c("WAHasProperty")(this.$2.attrs,a)?this["throw"]('to have attribute "'+a+'"'):this.decodeAsString(this.$2.attrs[a])};b.forEachAttributeKey=function(a){var b=this.$2.attrs;Object.keys(b).forEach(function(b){return a(b)})};b.maybeAttrString=function(a){return this.hasAttr(a)?this.decodeAsString(this.$2.attrs[a]):null};b.maybeAttrInt=function(a,b,c){return this.hasAttr(a)?this.attrInt(a,b,c):null};b.attrEnumValues=function(a,b,c){b=new Set(b);var d=this.attrString(a);if(!b.has(d)){if(c!=null)return c;c=Array.from(b).join("|");return this["throw"]('to have "'+a+'"={'+c+'} but has value "'+d+'"')}return d};b.attrEnum=function(a,b){var d=this.attrString(a);if(!c("WAHasProperty")(b,d)){var e=Object.keys(b).join("|");return this["throw"]('to have "'+a+'"={'+e+'} but has value "'+d+'"')}return b[d]};b.attrEnumOrNullIfUnknown=function(a,b){a=this.attrString(a);return!c("WAHasProperty")(b,a)?null:b[a]};b.attrEnumOrDefault=function(a,b,c){return this.hasAttr(a)?this.attrEnum(a,b):c};b.attrInt=function(a,b,c){var d=this.attrString(a);return this.$4(d,a,b,c)};b.$4=function(a,b,c,d){var e=parseInt(a,10);if(Number.isNaN(e))return this["throw"]('to have "'+b+'"={integer} but has value "'+a+'"');else if(c!==void 0&&e<c)return this["throw"]('to have "'+b+'"={at least '+c+"} but has value "+e);else if(d!==void 0&&e>=d)return this["throw"]('to have "'+b+'"={below '+d+"} but has value "+e);return e};b.forEachChild=function(a){var b=this.$3;if(b)b.forEach(function(b){return a(b)});else if(this.$2.content!=null)return this["throw"]("to have children")};b.forEachChildWithTag=function(a,b){this.forEachChild(function(c){c.tag()===a&&b(c)})};b.mapChildren=function(a){var b=this.$3;return!b&&this.$2.content!=null?this["throw"]("to have children"):b?b.map(function(b){return a(b)}):[]};b.mapChildrenWithTag=function(a,b){var c=this.$3;return!c&&this.$2.content!=null?this["throw"]("to have children"):c?c.filter(function(b){return b.tag()===a}).map(function(a){return b(a)}):[]};b.mapFirstChild=function(a){var b=this.$3;return!b||b.length===0?this["throw"]("to have children"):a(b[0])};b.hasContent=function(){return!this.$3&&!!this.$2.content};b.hasChildren=function(){return this.$3!=null};b.getChildren=function(){return this.$3};b.mapAttrKeys=function(a){var b=this.getAttrKeys();return b&&b.length?b.map(a):[]};b.getAttrKeys=function(){return Object.keys(this.$2.attrs)};b.hasAttrs=function(){var a=this.$2.attrs?Object.keys(this.$2.attrs):[];return a.length>0};b.getNode=function(){return this.$2};b.unsafeSetChildren=function(a){this.$3=a};b.unsafeSetNodeContent=function(a){this.$2.content=a};b.contentUint=function(a){var b=this.contentBytes(a);return h(b,a)};b.contentBytes=function(a){a===void 0&&(a=-1);if(this.$3)return this["throw"]("to have binary content, but has children instead");else if(this.$2.content!=null){var b=this.$2.content;return a!==-1&&b.length!==a?this["throw"]("to be "+a+" bytes, but got "+b.length+" instead"):b}else return this["throw"]("to have content")};b.contentString=function(){if(this.$3)return this["throw"]("to have string content, but has children instead");else if(this.$2.content!=null)return this.$2.content;else return this["throw"]("to have content")};b.contentInt=function(a,b){var c=this.contentString();return this.$4(c,"content",a,b)};b.contentEnum=function(a){var b=this.contentString();if(!c("WAHasProperty")(a,b)){var d=Object.keys(a).join("|");return this["throw"]("to have content {"+d+'} but has value "'+b+'"')}return a[b]};b.decodeAsString=function(a){if(typeof a!=="string")throw c("err")("decodeAsString: attribute is "+typeof a+" not a string: "+a);return a};b["throw"]=function(a){throw new(d("WAXmlParsingFailure").XmlParsingFailure)(this.$1,"expected <"+this.$2.tag+"> "+a)};b.toString=function(){return this.$2.toString()};return a}();function h(a,b){var c=0;for(var d=0;d<b;d++)c=c*256+a[d];return c}g.ParsableXmlNode=a;g.convertBytesToUint=h}),98);
__d("WASignalOther",["WACryptoDependencies","WACryptoHkdf","WACryptoUtils","WAParsableXmlNode","decodeProtobuf","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";var h={name:"AES-CBC"},i={name:"HMAC",hash:"SHA-256"};function j(a,b){if(a.length!==b)throw c("err")("Signal expected "+b+" bytes, given "+a.length);return a}function a(a,b){return j(new Uint8Array(a),b)}function b(a){var b=a.buffer,c=a.byteOffset;a=a.length;return c===0&&a===b.byteLength?b:b.slice(c,c+a)}function e(a,b){return a.readByteArrayView(b)}function f(a){return new Uint8Array(a)}function k(a,b,d){if(a.length-b<d)throw c("err")("Can not split off "+d+" bytes from index "+b+" of "+a.length+" bytes");return a.slice(b,b+d)}function l(a){a=a==="extendedRange"?(-1>>>1)-1:16380;return d("WACryptoUtils").randomNumberLessThan(a)+1}function m(a){return q(a)}function n(a){return d("WAParsableXmlNode").convertBytesToUint(a,4)}function o(){var a=-1>>>1;return d("WACryptoUtils").randomNumberLessThan(a)+1}function p(a){return q(a)}function q(a,b,d){b===void 0&&(b=0);d===void 0&&(d=4294967296);if(typeof a==="number"&&b<=a&&a<d&&Math.floor(a)===a)return a;else throw c("err")("Expected integer in range ["+b+", "+d+"), given "+String(a))}function r(a,b){return d("encodeProtobuf").encodeProtobuf(a,b).readByteArrayView()}function s(a,b,c){return c(d("decodeProtobuf").decodeProtobuf(a,b))}function t(a,b,c,e){return d("WACryptoHkdf").extractWithSaltAndExpand(a,b,c,e).then(function(a){return new Uint8Array(a)})}function u(a,b){var c,e;b==="hmac-sha256"?(c=i,e=["sign"]):(b,c=h,e=["encrypt","decrypt"]);return d("WACryptoDependencies").getCrypto().subtle.importKey("raw",a,c,!1,e)}function v(a){return a}function w(a){return a}function x(a,b){return d("WACryptoUtils").arrayBuffersEqual(a,b)}g.AES_CBC=h;g.HMAC_SHA256=i;g.ensureSize=j;g.toBytes=a;g.toBuffer=b;g.readBytes=e;g.makeBytes=f;g.sliceBytes=k;g.makeRegistrationId=l;g.castRegistrationId=m;g.castRegistrationIdFromBytes=n;g.makeSenderKeyId=o;g.castSenderKeyId=p;g.ensureIntInRange=q;g.encodeSignalProto=r;g.decodeSignalProto=s;g.hkdf=t;g.makeCryptoKey=u;g.castToByteEncoded=v;g.castToSessionHash=w;g.areSessionHashesEqual=x}),98);
__d("WASignalKeys",["WACryptoDependencies","WACryptoPrimitives","WALogger","WASignalLocalStorageProtocol.pb","WASignalOther","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=5,j=16777215;function k(a,b){return{publicKey:a,privateKey:b}}function a(a){a=d("WACryptoPrimitives").keypairFromSecretKey(a);var b=a.publicKey;a=a.secretKey;return k(d("WASignalOther").ensureSize(b,32),d("WASignalOther").ensureSize(a,32))}function b(a,b){return{publicKey:d("WASignalOther").toBytes(a,32),privateKey:d("WASignalOther").toBytes(b,32)}}function l(){var a=d("WACryptoPrimitives").keyPair(),b=a.publicKey;a=a.secretKey;a[0]&=248;a[31]=64|a[31]&63;return k(d("WASignalOther").ensureSize(b,32),d("WASignalOther").ensureSize(a,32))}function m(a,b){return k(d("WASignalOther").sliceBytes(b,1,32),a)}function n(a,b){return{serializedPubKey:b,privateKey:a}}function e(){var a=l();return n(a.privateKey,o(a))}function o(a){var b=d("WASignalOther").makeBytes(33);b[0]=i;b.set(a.publicKey,1);return b}function f(a){var b=d("WASignalOther").makeBytes(33);b[0]=i;b.set(d("WASignalOther").ensureSize(a,32),1);return b}function p(a){return n(a.privateKey,o(a))}function q(a,b){a=(a-1)%j;a<=0&&(a+=j);var c=[];for(var e=0;e<b;e++){var f=a===j?1:a+1,g=l(),h=d("WASignalOther").encodeSignalProto(d("WASignalLocalStorageProtocol.pb").PreKeyRecordStructureSpec,{id:f,publicKey:o(g),privateKey:g.privateKey});c.push({plainObject:{id:f,keyPair:g},record:h});a=f}return c}function r(a){try{a=d("decodeProtobuf").decodeProtobuf(d("WASignalLocalStorageProtocol.pb").PreKeyRecordStructureSpec,a);var b=a.id,c=a.publicKey;a=a.privateKey;return b==null||c==null||a==null?null:{id:s(b),keyPair:m(d("WASignalOther").toBytes(a,32),u(new Uint8Array(c)))}}catch(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["deserializePreKey error ",""])),a);return null}}function s(a){return d("WASignalOther").ensureIntInRange(a,1,j)}function t(a){return d("WASignalOther").ensureIntInRange(a,0,j)}function u(a){if(a.length===0||a[0]!==i)throw c("err")("Unrecognized public key type");return d("WASignalOther").ensureSize(a,33)}function v(){var a=d("WASignalOther").makeBytes(32);d("WACryptoDependencies").getCrypto().getRandomValues(a);return a}function w(a,b){return d("WACryptoPrimitives").scalarMult(a,b.subarray(1)).buffer}g.KEY_TYPE=i;g.makeKeyPairFrom=a;g.makeKeyPairFromArrayBuffers=b;g.makeKeyPair=l;g.makeKeyPairFromSerialized=m;g.makeSerializedKeyPairFrom=n;g.makeSerializedKeyPair=e;g.serializePubKey=o;g.serializeIdentity=f;g.toSerializedKeyPair=p;g.makePreKeys=q;g.deserializePreKey=r;g.castToPreKeyId=s;g.castToSignedPreKeyId=t;g.castToSerializedPubKey=u;g.makeRawSenderKey=v;g.ecdh=w}),98);
__d("WACryptoCurve25519Dependencies",["Promise","WACryptoPrimitives","WASignalKeys","WASignalOther"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=b("Promise"))).resolve().then(function(){return d("WASignalKeys").makeKeyPair()})}function c(a,c){return(h||(h=b("Promise"))).resolve().then(function(){return d("WACryptoPrimitives").scalarMult(d("WASignalOther").ensureSize(c,32),d("WASignalOther").ensureSize(a,32)).buffer})}e={generateIdentityKeyPair:a,calculateAgreement:c};g.calculateAgreement=c;g.CURVE25519_SIGNAL_DEPENDENCIES=e}),98);
__d("WACryptoEd25519",["WACryptoPrimitives","err"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function i(a){var b=h;h=[];try{return a()}finally{(h!=null?h:[]).forEach(function(a){return void a.fill(0)}),h=b}}function j(a,b){if(h==null)throw c("err")("allocate called outside of active scope");return new a(b)}function a(a,b,c){d("WACryptoPrimitives").lowlevel.crypto_hash(a,b,c)}function b(a,b){for(var c=0;c<64;++c)b[c]=a[c],a[c]=0;l(a,b);b.fill(0)}function e(a,b){var c=[k(),k(),k(),k()];d("WACryptoPrimitives").lowlevel.scalarbase(c,b);R(a,c)}function k(a){var b=j(Float64Array,16);if(a){if(a.length>16)throw c("err")("Incorrect initialiser array provided to the fieldElement");for(var d=0;d<a.length;d++)b[d]=a[d]}return b}function l(a,b){d("WACryptoPrimitives").lowlevel.modL(a,b)}var m=function(){return k([0])},n=function(){return k([1])},o=function(){return k([2])},p=function(){return k([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139])};function q(){return[k(),k(),k(),k()]}function r(){return[k(),k(),k(),k()]}function s(){return[k(),k(),k()]}function t(a,b){var c=0;b=b;while(b>0){var d=b%65536;a[c]=d;b=(b-d)/65536;c++}}function u(a,b){return T(a,b)?0:1}function v(a){var b=d("WACryptoPrimitives").lowlevel.pack25519,c=j(Uint8Array,32);b(c,a);return c[0]&1}function w(a,b){var c=d("WACryptoPrimitives").lowlevel.S,e=d("WACryptoPrimitives").lowlevel.M,f=o(),g=k();c(g,b);e(a,f,g)}function x(a,b){var c=d("WACryptoPrimitives").lowlevel.S,e=d("WACryptoPrimitives").lowlevel.M,f=d("WACryptoPrimitives").lowlevel.A,g=m(),h=n(),i=k(),j=k(),l=k(),o=k();t(g,486662);c(i,b);e(j,g,b);f(l,i,j);f(o,l,h);e(a,b,o)}function y(a,b,c){c===1&&a.set(b)}var z=new Uint8Array([176,160,14,74,39,27,238,196,120,228,47,173,6,24,67,47,167,215,251,61,153,0,77,43,11,223,193,79,128,36,131,43]);function A(a,b){var c,e=(c=d("WACryptoPrimitives")).lowlevel.unpack25519,f=c.lowlevel.pow2523,g=c.lowlevel.M;c=c.lowlevel.S;var h=k();e(h,z);e=k();f(e,b);f=k();g(f,b,e);e=k();c(e,f);c=k();g(c,f,h);y(f,c,1^u(e,b));a.set(f)}function B(a,b){var c=d("WACryptoPrimitives").lowlevel.Z,e=d("WACryptoPrimitives").lowlevel.A,f=d("WACryptoPrimitives").lowlevel.M,g=n(),h=k(),i=k(),j=k();c(h,b,g);e(i,b,g);S(j,i);f(a,h,j)}function C(a,b){var c=d("WACryptoPrimitives").lowlevel.Z,e=m();c(a,e,b)}function D(a,b){var c=d("WACryptoPrimitives").lowlevel.M;c(a[0],b[0],b[3]);c(a[1],b[1],b[2]);c(a[2],b[2],b[3])}function E(a,b){var c=d("WACryptoPrimitives").lowlevel.M;c(a[0],b[0],b[3]);c(a[1],b[1],b[2]);c(a[2],b[2],b[3]);c(a[3],b[0],b[1])}function F(a,b){var c=d("WACryptoPrimitives").lowlevel.S,e=d("WACryptoPrimitives").lowlevel.A,f=d("WACryptoPrimitives").lowlevel.Z;c(a[0],b[0]);c(a[2],b[1]);w(a[3],b[2]);e(a[1],b[0],b[1]);b=k();c(b,a[1]);e(a[1],a[2],a[0]);f(a[2],a[2],a[0]);f(a[0],b,a[1]);f(a[3],a[3],a[2])}var G=new Uint8Array([6,126,69,255,170,4,110,204,130,26,125,75,209,211,161,197,126,79,252,3,220,8,123,210,187,6,160,96,244,237,38,15]);function H(a,b,c){var e=d("WACryptoPrimitives").lowlevel.unpack25519,f=d("WACryptoPrimitives").lowlevel.M,g=k();e(g,G);e=k();B(e,b);var h=k();x(h,b);var i=k();A(i,h);h=k();f(h,b,g);b=k();S(b,i);g=k();f(g,h,b);i=k();C(i,g);y(g,i,v(g)^c);a[0].set(g);a[1].set(e);a[2].set(n());f(a[3],a[0],a[1])}function I(a,b){a[0].set(b[0]),a[1].set(b[1]),a[2].set(b[2])}function J(a,b){var c=s();I(c,b);F(a,c)}function K(a,b){var c=r(),d=s();J(c,b);D(d,c);F(c,d);D(d,c);F(c,d);E(a,c)}function L(a){var b,c=(b=d("WACryptoPrimitives")).lowlevel.S,e=b.lowlevel.M,f=b.lowlevel.pow2523;b=b.lowlevel.pack25519;var g=k(),h=k(),i=k(),j=k(),l=k();f(g,a);c(h,g);c(i,h);e(j,i,a);e(l,j,a);f=new Uint8Array(32);b(f,l);return 1&f[31]}function M(a,b){C(a[0],b[0]),a[1].set(b[1]),a[2].set(b[2]),C(a[3],b[3])}function f(a,b){var c=q();b=U(c,b);if(b!==0)return-1;M(a,c);return 0}function N(a,b){var c=d("WACryptoPrimitives").lowlevel.M,e=d("WACryptoPrimitives").lowlevel.A;b=b;var f=n(),g=m();t(g,486662);var h=k();w(h,b);b=k();e(b,h,f);h=k();S(h,b);f=k();c(f,h,g);b=k();C(b,f);c=k();x(c,b);h=L(c);f=k([0]);y(f,g,h);c=k();e(c,b,f);g=k();C(g,c);y(c,g,h);a.set(c)}function O(a){var b=d("WACryptoPrimitives").lowlevel.unpack25519;a=d("WACryptoPrimitives").hash(a);var c=(a[31]&128)>>7;a[31]&=127;var e=k();b(e,a);b=k();P(b,e);a=q();H(a,b,c);e=q();K(e,a);return e}function P(a,b){return i(function(){return N(a,b)})}function Q(a){return i(function(){return O(a)})}function R(a,b){var c=k(),e=k(),f=k(),g=d("WACryptoPrimitives").lowlevel.M,h=d("WACryptoPrimitives").lowlevel.pack25519;S(f,b[2]);g(c,b[0],f);g(e,b[1],f);h(a,e);g=new Uint8Array(32);h(g,c);a[31]^=(g[0]&1)<<7}function S(a,b){var c=k();c.set(b);var e=d("WACryptoPrimitives").lowlevel.M,f=d("WACryptoPrimitives").lowlevel.S;for(var g=253;g>=0;--g)f(c,c),g!==2&&g!==4&&e(c,c,b);a.set(c)}function T(a,b){var c=d("WACryptoPrimitives").lowlevel.pack25519,e=d("WACryptoPrimitives").lowlevel.crypto_verify_32,f=new Uint8Array(32),g=new Uint8Array(32);c(f,a);c(g,b);return e(f,0,g,0)}function U(a,b){var c,e=(c=d("WACryptoPrimitives")).lowlevel.set25519,f=c.lowlevel.S,g=c.lowlevel.M,h=c.lowlevel.Z,i=c.lowlevel.A,j=c.lowlevel.D,l=c.lowlevel.unpack25519;c=c.lowlevel.pow2523;var o=k(),q=k(),r=k(),s=k(),t=k(),u=k(),v=k();e(a[2],n());l(a[1],b);f(r,a[1]);g(s,r,j);h(r,r,a[2]);i(s,a[2],s);f(t,s);f(u,t);g(v,u,t);g(o,v,r);g(o,o,s);c(o,o);g(o,o,r);g(o,o,s);g(o,o,s);g(a[0],o,s);f(q,a[0]);g(q,q,s);T(q,r)&&g(a[0],a[0],p());f(q,a[0]);g(q,q,s);if(T(q,r))return-1;V(a[0])===b[31]>>7&&h(a[0],m(),a[0]);g(a[3],a[0],a[1]);return 0}function V(a){var b=d("WACryptoPrimitives").lowlevel.pack25519,c=new Uint8Array(32);b(c,a);return c[0]&1}g.runInAllocationScope=i;g.allocate=j;g.hashSha512=a;g.reduce=b;g.scalarmultBase=e;g.fieldElement=k;g.modL=l;g.p3Element=q;g.unpack=f;g.elligator=P;g.hashToPoint=Q;g.pack=R;g.inv25519=S;g.unpackneg=U}),98);
__d("WAIsOgg",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a.length<4)return!1;return a[0]!==79||a[1]!==103||a[2]!==103||a[3]!==83?!1:!0}f.isOgg=a}),66);
__d("WASignalSignatures",["Promise","WACryptoDependencies","WACryptoEd25519","WACryptoPrimitives","WAHex","WALogger","WALongInt","WASignalKeys","WASignalLocalStorageProtocol.pb","WASignalOther","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c){return d("WACryptoEd25519").runInAllocationScope(function(){var e,f=b.length,g=a.privateKey,h=new Uint8Array(32);(e=d("WACryptoEd25519")).scalarmultBase(h,g);var i=h[31]&128,j=new Uint8Array(f+128);j[0]=254;j.fill(255,1,32);j.set(g,32);j.set(b,64);j.set(c,f+64);var k=e.allocate(Uint8Array,64);e.hashSha512(k,j,f+128);j.set(h,32);h=e.allocate(Float64Array,64);e.reduce(k,h);e.scalarmultBase(j,k);var l=e.allocate(Uint8Array,64);e.hashSha512(l,j,f+64);e.reduce(l,h);for(f=0;f<32;++f)h[f]=k[f];for(f=0;f<32;++f)for(k=0;k<32;++k)h[f+k]+=l[f]*g[k];e.modL(j.subarray(32,64),h);return{pubKeyNegative:i!==0,signedMsg:j}})}function a(a,c){return(i||(i=b("Promise"))).resolve().then(function(){var b=d("WASignalOther").makeBytes(64);d("WACryptoDependencies").getCrypto().getRandomValues(b);return k(a,c,b)})}function e(a,b,c){var e=c[63];return e&96?!1:d("WACryptoEd25519").runInAllocationScope(function(){var f,g,h=(f=d("WACryptoPrimitives")).lowlevel.A,i=f.lowlevel.M,j=f.lowlevel.Z,k=f.lowlevel.pack25519,l=f.lowlevel.unpack25519,m=(g=d("WACryptoEd25519")).allocate(Uint8Array,64);m.set(c);m[63]=e&127;var n=g.fieldElement(),o=g.fieldElement(),p=g.fieldElement(),q=g.fieldElement(),r=g.fieldElement(),s=g.allocate(Uint8Array,32),t=g.fieldElement();t[0]=1;l(n,a.subarray(1));j(o,n,t);h(p,n,t);g.inv25519(q,p);i(r,o,q);k(s,r);s[31]=s[31]&127|e&128;return f.signDetachedVerify(b,m,s)})}function k(a,b,c){a=j(a,b,c);b=d("WASignalOther").sliceBytes(a.signedMsg,0,64);b[63]=b[63]&127|(a.pubKeyNegative?128:0);return b}function l(a,b,e){var f=d("WASignalKeys").makeKeyPair(),g=d("WASignalOther").makeBytes(64);d("WACryptoDependencies").getCrypto().getRandomValues(g);e=k(e,d("WASignalKeys").serializePubKey(f),g);if(!Number.isSafeInteger(b))throw c("err")("Expected timestamp to be a safe integer, given "+String(b));return{id:d("WASignalKeys").castToPreKeyId(a),ts:b,keyPair:f,signature:e}}function f(a,b){var c=d("WASignalOther").makeBytes(64);d("WACryptoDependencies").getCrypto().getRandomValues(c);return k(a,b,c)}function m(a){var b=a.id,c=a.keyPair;return d("WASignalOther").encodeSignalProto(d("WASignalLocalStorageProtocol.pb").SignedPreKeyRecordStructureSpec,{id:b,publicKey:d("WASignalKeys").serializePubKey(c),privateKey:c.privateKey,signature:a.signature,timestamp:a.ts})}function n(a){try{a=d("decodeProtobuf").decodeProtobuf(d("WASignalLocalStorageProtocol.pb").SignedPreKeyRecordStructureSpec,a);var b=a.id,c=a.publicKey,e=a.privateKey,f=a.signature;a=a.timestamp;return b==null||c==null||e==null||f==null||a==null?null:{id:d("WASignalKeys").castToSignedPreKeyId(b),ts:d("WALongInt").numberOrThrowIfTooLarge(a),keyPair:d("WASignalKeys").makeKeyPairFromSerialized(d("WASignalOther").toBytes(e,32),d("WASignalKeys").castToSerializedPubKey(new Uint8Array(c))),signature:d("WASignalOther").toBytes(f,64)}}catch(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["deserializeSignedPreKey error ",""])),a);return null}}function o(a){return new Uint8Array(d("WAHex").parseHex(a))}function p(a){if(a.length===33)return d("WASignalKeys").castToSerializedPubKey(a);else if(a.length===32)return d("WASignalKeys").serializeIdentity(a);else throw c("err")("verifyCertificate publicKey incorrect length")}function q(a,c,d){return(i||(i=b("Promise"))).resolve().then(function(){var b=l(a,c,d),e=m(b);return{plainObject:b,record:e}})}g.signMsg=a;g.verifyMsgSignalVariant=e;g.makeSignature=k;g.makeSignedPreKey=l;g.signSenderKeyMessage=f;g.serializeSignedPreKeyForPrivateStorage=m;g.deserializeSignedPreKey=n;g.convertPublicKeyHexToUint8Array=o;g.convertPublicKeyToSerializedPubKey=p;g.generateSignedPreKey=q}),98);
__d("isInstamadilloEB",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("670")===!0}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LatencySensitiveType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NORMAL:0,LOW:1,ULTRA_LOW:2});c=a;f["default"]=c}),66);
__d("MaybeNativePromise",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;c=a.Promise||g||(g=b("Promise"));(g||b("Promise")).resolve();d=c;f["default"]=d}),66);
__d("OzActiveActiveFailoverNetworkRequestStreamHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.onResponse=function(a,b){var c=a.headers;c&&c.has("x-fb-video-replica")&&this.$1(a,b);return null};b.onError=function(a,b){return null};return a}();f["default"]=a}),66);
__d("OzBufferVTTCaptionsVisibleStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!this.$1()};b.getBufferTarget=function(){return 0};return a}();f["default"]=a}),66);
__d("OzCDNSignedQueryParams",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.$2=function(a,b,c){this.$1[a]==null&&(this.$1[a]={}),this.$1[a][b]=c};b.get=function(a){a=this.$1[a];return a==null?null:a};b.update=function(a){a=d("ConstUriUtils").getUri(a);if(a!=null){var b=a.getQueryParams();a=a.getDomain()+a.getPath();var c=b.get("oe");c!=null&&this.$2(a,"oe",String(b.get("oe")));b.get("oh")!=null&&this.$2(a,"oh",String(b.get("oh")))}};return a}();g["default"]=a}),98);
__d("OzCustomParsers",[],(function(a,b,c,d,e,f){function a(){return new Map([["fbProjection",function(a){try{return a.Period[0].AdaptationSet[0].$.FBProjection||null}catch(a){return null}}],["hasInbandCaptionsFromAccessibility",function(a){a=a.Period[0];a=a&&a.AdaptationSet[0].Accessibility;return a&&a[0]?a[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInbandCaptionsFromUsingASRCaptions",function(a){a=Number.parseInt(a.$.usingASRCaptions,0);return!isNaN(a)&&a!=0}],["hasInbandCaptionsFromIsUsingAsrCaptionsEmployeeDogfooding",function(a){a=Number.parseInt(a.$.isUsingAsrCaptionsEmployeeDogfooding,0);return!isNaN(a)&&a!=0}],["hasVTTRepresentationCaptions",function(a){return a.Period[0].AdaptationSet.find(function(a){var b;return((b=a.$.mimeType)==null?void 0:b.startsWith("application"))&&a.$.lang!=null})!=null}],["isLiveTemplated",function(a){return a.$.FBIsLiveTemplated==="true"}],["isFBMS",function(a){return a.$.FBMS==="true"}],["isFBWasLive",function(a){return a.$.FBWasLive==="true"}],["loapStreamType",function(a){return a.$.loapStreamType?parseInt(a.$.loapStreamType,10):0}],["fbManifestIdentifier",function(a){return(a=a.$.FBManifestIdentifier)!=null?a:""}],["lastVideoFrameTs",function(a){return a.$.lastVideoFrameTs?Number.parseInt(a.$.lastVideoFrameTs,10):null}],["currentServerTimeMs",function(a){return a.$.currentServerTimeMs?Number.parseInt(a.$.currentServerTimeMs,10):null}],["validationErrors",function(a){return(a=a.$.validationErrors)!=null?a:""}]])}f.createOzCustomParser=a}),66);
__d("oz-player/manifests/OzSegmentOptions",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1,this.$2=null}var b=a.prototype;b.setSegmentNumDecisionTime=function(a){this.$2=a};b.getSegmentNumDecisionTime=function(){return this.$2};b.setIsDVLEnabled=function(a){this.$1=a};b.isDVLEnabled=function(){return this.$1};return a}();f["default"]=a}),66);
__d("oz-player/shims/www/OzURIWWWImplConstUri",["ConstUriUtils","err"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.getQueryParams();var b={};a.forEach(function(a,c){typeof a==="string"||typeof a==="number"?b[c]=a:b[c]=String(a)});return b}a=function(){function a(a){this.$1=d("ConstUriUtils").getUri(a);if(this.$1==null)throw c("err")("Invalid URI passed to OzURI");this.$2=h(this.$1)}var b=a.prototype;b.addQueryData=function(a,b){var c=this.$1;if(typeof a==="string"){var d;c=(d=c)==null?void 0:d.addQueryParam(a,b===void 0?"":b)}else{var e=new Map();Object.keys(a).forEach(function(b){e.set(b,a[b])});c=(d=c)==null?void 0:d.addQueryParams(e)}c!=null&&(this.$1=c,this.$2=h(this.$1))};b.getQueryData=function(){return this.$2};b.getDomain=function(){var a;return(a=(a=this.$1)==null?void 0:a.getDomain())!=null?a:""};b.toString=function(){var a;return(a=(a=this.$1)==null?void 0:a.toString())!=null?a:""};b.getPath=function(){var a;return(a=(a=this.$1)==null?void 0:a.getPath())!=null?a:""};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzURIWWW",["oz-player/shims/www/OzURIWWWImplConstUri"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWWImplConstUri")}),98);
__d("oz-player/shims/OzURI",["oz-player/shims/www/OzURIWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWW")}),98);
__d("oz-player/utils/ozConcatUint8Arrays",["oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=0;for(var c=0;c<a.length;++c)b+=a[c].byteLength;var e,f;try{e=new ArrayBuffer(b),f=new Uint8Array(e)}catch(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_ALLOCATION_FAILURE",description:a.name+": "+a.message})}c=0;for(b=0;b<a.length;++b){var g=a[b];f.set(g,c);c+=g.byteLength}return{buffer:e,view:f}}g["default"]=a}),98);
__d("oz-player/utils/OzReadableStreamUtils",["oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof TextDecoder!=="undefined"?function(a){return new TextDecoder("utf-8").decode(new Uint8Array(a))}:function(a){return String.fromCharCode.apply(null,a)};function i(a){var b=[],d=function(){return a.read().then(function(a){var c=a.value;a=a.done;if(a)return null;if(!c)return null;b.push(c);return d()})};return d().then(function(){var a=c("oz-player/utils/ozConcatUint8Arrays")(b);a=a.view;return a})}function a(a){return i(a).then(function(a){return h(a)})}function b(a){var b=new Uint8Array(a.length);return b.map(function(b,c){return a.charCodeAt(c)})}g.pumpAllData=i;g.pumpString=a;g.stringToUint8Array=b}),98);
__d("OzCustomRepresentationParsers",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=a.ozConfig,e=a.startTimestamp;a={timescale:function(a){a=a.SegmentTemplate;if(a&&a.length>0){a=a[0].$;if(a)return Number.parseInt(a.timescale,0)||null}return null}};b.getBool("parse_initialization_binary",!1)&&(a.initializationBinary=function(a){try{a=window.atob(a.FBInitializationBinary[0]._);return d("oz-player/utils/OzReadableStreamUtils").stringToUint8Array(a)}catch(a){return null}});a.playbackResolutionMos=function(a){try{return a.$.FBPlaybackResolutionMos}catch(a){return null}};a.playbackResolutionCsvqm=function(a){try{return a.$.FBPlaybackResolutionCsvqm}catch(a){return null}};a.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}};b.getBool("parse_first_segment",!1)&&(a.firstSegmentParser=function(a){if(e!=null&&e>0)return null;try{var b=a.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),d={startByte:b[0],endByte:b[1]};b=a.BaseURL[0]._;var f=new(c("oz-player/shims/OzURI"))(b),g=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){return f},getByteRange:function(){return d},getTimeRange:function(){return{startTime:0,endTime:2}},getSequenceNumber:function(){return null},getOptions:function(){return g}}}catch(a){return null}});return a}g.createOzCustomRepresentationParsers=a}),98);
__d("OzDOMEventListenerImpl",["CometEventListener"],(function(a,b,c,d,e,f,g){"use strict";a={listenDOMEvent:c("CometEventListener").listen,captureDOMEvent:c("CometEventListener").capture,suppressDOMEvent:c("CometEventListener").suppress};b=a;g["default"]=b}),98);
__d("OzMinimumSmallestDimensionRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.applyRestriction=function(a){var b=this;if(a.length===0)return[];var c=a.filter(function(a){var c=a.getWidth();a=a.getHeight();c=c<a?c:a;return c>=b.$1});return c.length>0?c:[a[a.length-1]]};return a}();f["default"]=a}),66);
__d("OzMosThresholdRestriction",["MosUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=new Map(),this.$4=a,this.$1=a.getNumber("mos_upper_threshold",0),this.$2=a.getNumber("mos_lower_threshold",0)}var b=a.prototype;b.$5=function(){return this.$4.getBool("cache_mos_threshold",!1)?{mosUpperThreshold:this.$1,mosLowerThreshold:this.$2}:{mosUpperThreshold:this.$4.getNumber("mos_upper_threshold",0),mosLowerThreshold:this.$4.getNumber("mos_lower_threshold",0)}};b.$6=function(a,b){var c=null;if(this.$3.get(a))c=this.$3.get(a);else{var e=a.getCustomField("playbackResolutionMos");e!=null&&(c=d("MosUtils").parsePlaybackMos(String(e)),c&&this.$3.set(a,c))}return c!=null?d("MosUtils").getMosValue(c,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$7=function(a,b){var c=this,d=null,e=this.$5(),f=e.mosUpperThreshold;a.forEach(function(a){a=c.$6(a,b);a!=null&&a>f&&(d==null||d>a)&&(d=a)});return d==null?a.slice():a.filter(function(a){a=c.$6(a,b);return a==null?!0:a<=f||a===d})};b.$8=function(a,b){var c=this,d=[],e=this.$5(),f=e.mosLowerThreshold;a.forEach(function(a){var e=c.$6(a,b);e!=null&&e>f&&d.push(a)});d.length===0&&d.push(a[a.length-1]);return d};b.applyRestriction=function(a,b){if(a.length===0)return[];var c=this.$5(),d=c.mosLowerThreshold;c=c.mosUpperThreshold;var e=void 0;c>0&&(e=this.$7(e!=null?e:a,b));d>0&&(e=this.$8(e!=null?e:a,b));return e!=null?e:a.slice()};return a}();g["default"]=a}),98);
__d("OzOneSemanticHandlerUtils",["ConstUriUtils","qex","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){b!=null&&(b.indexOf("+RE")>=0&&a.retry()),c!=null&&c()}function a(a,b){var d=b.error;d=d.getExtra();var e=d.code;d=d.headers;var f=null;e==null&&c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");d==null&&c("recoverableViolation")("A ONE Semantic error response must contain response Headers.","comet_video_player");if(d!=null){d=d.get("x-fb-one-variant");f=d!=null?d:null}d=JSON.parse(a.getString("network_retry_intervals_json","{}"));a=d[e];switch(e){case"410":b.endStream();break;case"404":h(b,f,function(){b.retry({behavior:"recover_failed_request"})});break;case"429":b.retry(a);break;case"403":default:}}function i(a){if(a!=null){a=parseInt(a,10);if(3>0)return!isNaN(a)&&a>0&&a<=3}return!1}function j(a,b){if(a!=null&&b!=null){a=parseInt(a,10);b=parseInt(b,10);return!isNaN(a)&&!isNaN(b)&&a>0&&a<=b}return!1}function k(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("os_param");return a?String(a).toString():null}}return null}function l(a,b){var d=a!=null;return i(b)||(d||!!c("qex")._("1636"))&&j(b,a)}function b(a){var b=a.getExtra();b=b.headers;b=m(b);a=a.getExtra();var d=a.code;a=a.url;if(b!=null&&d==null){c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");return!1}d=k(a);return l(d,b)}function m(a){if(a){a=a.get("x-fb-one");if(a!=null)return parseInt(a,10)>0?a:null}return null}function e(a,b,c){var d=null,e=null;b!=null&&(d=k(b),d!=null&&a.setOneReqWave(parseInt(d,10)));b=c==null?void 0:c.headers;b&&(e=m(b),e!=null&&a.setOneResWave(parseInt(e,10)));a.setOneObserved(l(d,e))}g.maybeRetryForVariant=h;g.evaluateOneSemanticsResponse=a;g.isOneSemanticsForcedForResponseWave=i;g.isOneSemanticsEnabledForWave=j;g.getOneSemanticRequestWave=k;g.shouldRespondWithOneSemantics=b;g.getOneSemanticResponseWave=m;g.setOneSemanticFetchStreamLoggingAttributes=e}),98);
__d("handleOzManifestFetchErrorEvent",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.getNumber("initial_manifest_request_retry_count",0),d=JSON.parse(a.getString("network_retry_intervals_json","{}")),e=a.getNumber("live_max_try_attempts_on_404",1),f=["404","503"];a.getBool("live_gracefully_handle_no_network",!1)&&f.push("0");a.getBool("live_gracefully_handle_410",!1)&&f.push("410");a.getBool("live_gracefully_handle_502",!1)&&f.push("502");a.getBool("live_gracefully_handle_429",!1)&&f.push("429");a.getBool("live_gracefully_handle_504",!1)&&f.push("504");a.getBool("normalize_mpd_fetch_errors",!1)&&f.push("20");var g=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&g==="")return;a.getBool("handle_mpd_null_error_codes",!1)&&(g=g!=null?g:null);d=d[g];if(b.isInitialRequest)typeof d==="number"&&d>0&&b.retryAttemptCount<c&&b.retry({waitMs:d});else if(g!=null&&f.indexOf(g)>-1)switch(g){case"410":b.endStream();break;case"404":e<b.consecutiveFailuresForErrorCode&&b.retry();break;case"504":case"502":case"503":case"20":case"0":b.retry();break;case"429":typeof d==="number"&&d>0&&b.retry({waitMs:d});break;default:break}else g===null&&a.getBool("handle_mpd_null_error_codes",!1)&&b.retry()}f["default"]=a}),66);
__d("handleOzStreamErrorEvent",[],(function(a,b,c,d,e,f){"use strict";var g=[0,1,1,2,3,5,8,13,21,34];function a(a,b){var c=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&c==="")return;if(a.getBool("retry_null_error_code_in_stream",!1)&&c==null){b.retry();return}var d=JSON.parse(a.getString("network_end_broadcasts_json","[]"));if(d.includes(c)){b.endStream();return}d=JSON.parse(a.getString("network_skip_json","[]"));if(d.includes(c)){b.retry();return}d=a.getBool("back_off_pdash_504_retry",!0)?g[b.retryAttemptCount]:0;var e=JSON.parse(a.getString("network_reload_mpd_json","[]")),f=a.getBool("fix_reload_manifest_retry",!1);if(a.getBool("back_off_pdash_504_retry",!0)&&d==null&&(!f||e.includes(c)))return;if(d!=null&&e.includes(c)){a.getBool("network_reload_mpd_json_retry",!1)?b.retry({behavior:"recover_failed_request",waitMs:d*1e3}):b.retry({waitMs:d*1e3});return}f=JSON.parse(a.getString("network_retry_intervals_json",'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}'));e=c!=null?f[c]:null;if(e!=null){a.getBool("network_retry_intervals_json_retry",!1)?b.retry({behavior:"retry_failed_request",waitMs:e}):b.retry({waitMs:e});return}}f["default"]=a}),66);
__d("OzOneSemanticHandler",["OzOneSemanticHandlerUtils","handleOzManifestFetchErrorEvent","handleOzStreamErrorEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b.error;d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzManifestFetchErrorEvent")(a,b)}function b(a,b){var e=b.error;d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzStreamErrorEvent")(a,b)}g.handleManifestFetchErrorEvent=a;g.handleStreamErrorEvent=b}),98);
__d("oz-player/shims/www/ozvariantWWW",["invariant"],(function(a,b,c,d,e,f,g,h){a=h;g["default"]=a}),98);
__d("oz-player/shims/ozvariant",["oz-player/shims/www/ozvariantWWW"],(function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/ozvariantWWW")}),98);
__d("oz-player/utils/OzNumericalHelper",[],(function(a,b,c,d,e,f){"use strict";var g=1e-5;function h(a,b,c){c===void 0&&(c=g);return Math.abs(b-a)<=c}function i(a,b,c){c===void 0&&(c=g);return a>b&&!h(a,b,c)}function j(a,b,c){c===void 0&&(c=g);return a<b&&!h(a,b,c)}function a(a,b,c){c===void 0&&(c=g);return j(a,b,c)||h(a,b,c)}function b(a,b,c){c===void 0&&(c=g);return i(a,b,c)||h(a,b,c)}f.equalTo=h;f.greaterThan=i;f.lessThan=j;f.lessThanOrEqual=a;f.greaterThanOrEqual=b}),66);
__d("oz-player/utils/OzNumericalRangeUtil",["oz-player/utils/OzNumericalHelper"],(function(a,b,c,d,e,f,g){"use strict";var h=.01;function i(a,b){b=b.rangeEnd;return b==null?!1:Math.abs(a.rangeStart-b)>h&&a.rangeStart>b}function j(a,b){a=a.rangeEnd;b=b.rangeEnd;if(a==null)return!0;return b==null?!1:Math.abs(a-b)>h&&a>b}function k(a,b,c,d){a=c.rangeEnd;return a==null?!1:b===a||Math.abs(b-a)>(d!=null?d:h)&&b>a}function a(a,b,c){var d=b.rangeEnd;if(d==null)return!1;c=c!=null?c:h;return a-b.rangeStart>=c&&d-a>=c}function l(a,b){return a>b-h}function b(a){if(!a.length)return[];var b=[],c=a[0];b.push(c);for(var d=1;d<a.length;d++){var e=a[d];if(!j(e,c))continue;else i(e,c)?(c={rangeStart:e.rangeStart,rangeEnd:e.rangeEnd},b.push(c)):c.rangeEnd=e.rangeEnd}return b}function c(a,b,c){return b.reduceRight(function(b,d){k(a,d.rangeStart,c)||k(a,c.rangeStart,d)?b.push(d):(c.rangeEnd!=null&&(d.rangeEnd==null||k(a,d.rangeEnd,c))&&b.push({rangeStart:c.rangeEnd,rangeEnd:d.rangeEnd}),l(c.rangeStart,d.rangeStart)&&b.push({rangeStart:d.rangeStart,rangeEnd:c.rangeStart}));return b},[]).filter(function(a){return a.rangeEnd==null||a.rangeStart<a.rangeEnd}).reverse()}function e(a,b,c,d){d===void 0&&(d=h);for(var e=0;e<c.length;e++){var f=c[e],g=f.rangeStart;if(l(b,g)&&!k(a,b,f,d))return e}return-1}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d=d.rangeStart;if(!l(a,d))return c}return-1}function m(a,b,c){return a>=b?0:c.reduceRight(function(c,d){var e=d.rangeStart;d=d.rangeEnd;if(b<e||d!=null&&a>d)return c;else if(d==null||b<=d)return Math.min(b-e,b-a)+c;else if(a>=e)return Math.min(d-a,b-a)+c;else return d-e+c},0)}function n(a,b){var c;c=a.length==0?(c=b[b.length-1])!=null?c:null:null;for(var e=0;e<a.length;e++){var f=a[e];for(var g=e;g<b.length;g++){var h=b[g];if(d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&f.rangeEnd!=null&&h.rangeEnd!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd))break;else if(h.rangeEnd!=null&&f.rangeEnd!=null&&!d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)){c={rangeStart:h.rangeStart,rangeEnd:h.rangeEnd};break}else if(h.rangeEnd!=null&&f.rangeEnd!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&!d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd)){c={rangeStart:f.rangeEnd,rangeEnd:h.rangeEnd};break}}if(c!==null)break}return c}function o(a){var b=[];for(var c=0;c<a.length;c++)b.push({rangeStart:a[c].startTime,rangeEnd:a[c].endTime});return b}g.isAfter=k;g.isWithin=a;g.isLargerThan=l;g.mergeSortedRanges=b;g.diffSortedRanges=c;g.findCurrentRangeIndex=e;g.findNextRangeIndex=f;g.findDiffCoveredByRanges=m;g.firstAddedInSortedRanges=n;g.convertFromTimeRanges=o}),98);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=1e-4;a=function(){function a(a,b,d,e,f,g){g===void 0&&(g=!1),this.$7=new(c("oz-player/shims/OzEventEmitter"))(),this.$10=null,this.$8=a,this.$2=b,this.$3=d,this.$1=f,this.$4=e,this.$5=this.$11(this.$4),this.$6=g,this.$9=this.$8.getNumber("live_numerical_error_epsilon")}var b=a.prototype;b.getSegmentByTime=function(a){a=this.$12(a);a=a*this.$3;var b=null;for(var c=this.$4.length-1;c>=0;c--){var e=this.$4[c];if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(e.t+e.d*(e.r+1),a,this.$9))break;b=e}if(b===null)return null;if(d("oz-player/utils/OzNumericalHelper").greaterThan(b.t,a,this.$9))return null;e=Math.max(0,Math.floor((a-b.t+this.$9)/b.d));return this.$13(b,e)};b.getSegment=function(a){var b=0;a=a;while(a>=0&&b<this.$4.length){var c=this.$4[b];c=c.r;c=c+1;if(a>=c){a-=c;b++;continue}break}c=this.$4[b];return!c?null:this.$13(c,a)};b.getSegmentAfter=function(a){a=a.getTimeRange().endTime;return this.getSegmentByTime(a)};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.canApproximateId=function(){return!1};b.isEndingSegment=function(a){if(!this.$4||!this.$4.length||!this.$6)return!1;var b=this.$4[this.$4.length-1],c=b.r;b=this.$13(b,c);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<h};b.updateWith=function(b){b instanceof a||c("oz-player/shims/ozvariant")(0,646),this.$6=b.$6,this.$14(b.$4),this.$15(b.$4),this.$7.emit("segment_updated")};b.getTimeRanges=function(){return this.$10?this.$16(this.$5,this.$10):this.$5};b.blockTimeRange=function(a){this.$10=a};b.$16=function(a,b){return d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$8,a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:b.startTime,rangeEnd:b.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd==null?Infinity:a.rangeEnd}})};b.addUpdateListener=function(a){return this.$7.addListener("segment_updated",a)};b.$12=function(a){var b=a,c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$8,a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(c===-1){c=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));c!==-1&&(b=this.getTimeRanges()[c].startTime)}return b};b.$14=function(a){var b;(b=this.$4).splice.apply(b,[0,this.$4.length].concat(a));return};b.$15=function(a){a=this.$11(a);a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$5.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));this.$5=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd==null?Infinity:a.rangeEnd}})};b.$11=function(a){var b=this;a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$4.map(function(a){var c=b.$13(a,0).getTimeRange().startTime;a=b.$13(a,a.r).getTimeRange().endTime;return{rangeStart:c,rangeEnd:a}}));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a==null?Infinity:a;return{startTime:b,endTime:a}})};b.$13=function(a,b){var d=this;b===void 0&&(b=0);var e=a.t,f=a.d,g=a.r;a=a.id;var h=e+f*b,i=this.$8.getBool("use_scf_timebased_segments"),j=a!=null?a-(g-b):null,k=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){var a="";d.$1!=null&&j!=null?a=d.$1.replace("$Number$",j.toString()):j!=null&&d.$2.indexOf("$Number$")!==-1&&d.$8.getBool("parse_number_templated_uri")?a=d.$2.replace("$Number$",j.toString()):a=d.$2.replace("$Time$",h.toString());a=new(c("oz-player/shims/OzURI"))(a);i&&a.addQueryData("_nc_scf",1);return a},getTimeRange:function(){return{startTime:h/d.$3,endTime:(h+f)/d.$3}},getByteRange:function(){return null},getSequenceNumber:function(){return null},getOptions:function(){return k}}};b.getSegmentGroups=function(){return this.$4};b.getEndingSegment=function(){if(this.$4.length==0)return null;var a=this.$4[this.$4.length-1],b=a.r;return this.$13(a,b)};b.forceParseIfNotParsed=function(){};b.getMaxGopSec=function(){return null};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzUrlHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a;var b=a.indexOf("://"),c=a.indexOf("/",b+3);c>b&&(a=a.substring(c));return a}function g(a){a=a;var b=a.lastIndexOf("/"),c=a.lastIndexOf("://");b>c+2&&(a=a.substring(0,b+1));return a}function h(a){a=a;a=g(a);return a.endsWith("/")?g(a.substring(0,a.length-1)):a}function i(a,b){a=g(a);b=b;while(b.length)if(b.startsWith("./"))b=b.substring(2);else if(b.startsWith("../"))b=b.substring(3),a=h(a),a.endsWith("/")&&(a=a.substring(0,a.length-1));else if(b.startsWith(".."))b=b.substring(2),a=h(a);else if(b.startsWith("."))b=b.substring(1);else break;b&&b.length&&(a.endsWith("/")||(a+="/"),a+=b);return a}function j(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b||!b.length)return"";if(b.length===1)return b[0];var d=b.shift();while(b.length>0)d=i(d,b.shift());return d}function b(a,b){return k(b)?b:j(a,b)}function k(a){var b=/^https?:\/\//i;return b.test(a)}f.stripToPathAndQueryOnly=a;f.joinRelativeUrlPaths=j;f.joinUrlPaths=b}),66);
__d("PredictedSegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,d,e,f,g,h,i,j,k){k===void 0&&(k=!1);c=a.call(this,b,c,e,f,null,k)||this;c.$PredictedSegmentTemplateSegmentsContainer$p_9=0;c.$PredictedSegmentTemplateSegmentsContainer$p_11=null;c.$PredictedSegmentTemplateSegmentsContainer$p_10=d;c.$PredictedSegmentTemplateSegmentsContainer$p_8=k;c.$PredictedSegmentTemplateSegmentsContainer$p_12=f;c.$PredictedSegmentTemplateSegmentsContainer$p_7=b;c.$PredictedSegmentTemplateSegmentsContainer$p_5=e;c.$PredictedSegmentTemplateSegmentsContainer$p_1=g;c.$PredictedSegmentTemplateSegmentsContainer$p_3=i;c.$PredictedSegmentTemplateSegmentsContainer$p_2=h;c.$PredictedSegmentTemplateSegmentsContainer$p_4=j;c.$PredictedSegmentTemplateSegmentsContainer$p_6=b.getNumber("live_numerical_error_epsilon");for(d=0;d<c.$PredictedSegmentTemplateSegmentsContainer$p_12.length;d++)c.$PredictedSegmentTemplateSegmentsContainer$p_9=Math.max(c.$PredictedSegmentTemplateSegmentsContainer$p_12[d].d,c.$PredictedSegmentTemplateSegmentsContainer$p_9);return c}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.$PredictedSegmentTemplateSegmentsContainer$p_13=function(){if(this.$PredictedSegmentTemplateSegmentsContainer$p_2!=null&&this.$PredictedSegmentTemplateSegmentsContainer$p_4!=null)return{predictedAverageDuration:this.$PredictedSegmentTemplateSegmentsContainer$p_4,predictedMediaStartNumber:this.$PredictedSegmentTemplateSegmentsContainer$p_2};else return null};e.$PredictedSegmentTemplateSegmentsContainer$p_14=function(a,b,e){var f=this;Number.isNaN(e)&&c("oz-player/shims/ozvariant")(0,54238);var g=this.$PredictedSegmentTemplateSegmentsContainer$p_1.indexOf("%24Number%24")===-1?this.$PredictedSegmentTemplateSegmentsContainer$p_1.replace("$Number$",e.toString()):this.$PredictedSegmentTemplateSegmentsContainer$p_1.replace("%24Number%24",e.toString()),h=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getString("cdn_experiment_id",""),i=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getNumber("use_dvl_with_timeout_ms",0),j=new(c("oz-player/manifests/OzSegmentOptions"))();return{getByteRange:function(){return null},getData:function(){return null},getOptions:function(){return j},getSequenceNumber:function(){return e},getTimeRange:function(){return{endTime:b,startTime:a}},getURI:function(){var a=new(c("oz-player/shims/OzURI"))(g);h.length!==0&&a.addQueryData("_nc_expid",h);var b=j.isDVLEnabled();b&&i>0&&f.$PredictedSegmentTemplateSegmentsContainer$p_10!=null&&(a.addQueryData("_nc_dinfo-manifest-url",d("oz-player/utils/OzUrlHelper").stripToPathAndQueryOnly(f.$PredictedSegmentTemplateSegmentsContainer$p_10)),a.addQueryData("_nc_dinfo-timeout",i));return a}}};e.updateWith=function(d){d instanceof b||c("oz-player/shims/ozvariant")(0,646);this.$PredictedSegmentTemplateSegmentsContainer$p_3=d.$PredictedSegmentTemplateSegmentsContainer$p_3;this.$PredictedSegmentTemplateSegmentsContainer$p_1=d.$PredictedSegmentTemplateSegmentsContainer$p_1;a.prototype.updateWith.call(this,d);this.$PredictedSegmentTemplateSegmentsContainer$p_12=d.$PredictedSegmentTemplateSegmentsContainer$p_12;this.$PredictedSegmentTemplateSegmentsContainer$p_8=d.$PredictedSegmentTemplateSegmentsContainer$p_8;for(d=0;d<this.$PredictedSegmentTemplateSegmentsContainer$p_12.length;d++)this.$PredictedSegmentTemplateSegmentsContainer$p_9=Math.max(this.$PredictedSegmentTemplateSegmentsContainer$p_12[d].d,this.$PredictedSegmentTemplateSegmentsContainer$p_9)};e.getSegmentByTime=function(a){return this.canApproximateId()?this.$PredictedSegmentTemplateSegmentsContainer$p_15(a):this.$PredictedSegmentTemplateSegmentsContainer$p_16(a)};e.getPredictedSegmentAfter=function(a){a=a!=null?a.getSequenceNumber():null;return a!=null&&this.canPredict()?this.$PredictedSegmentTemplateSegmentsContainer$p_14(0,0,a+1):null};e.blockTimeRange=function(b){this.$PredictedSegmentTemplateSegmentsContainer$p_11=b,a.prototype.blockTimeRange.call(this,b)};e.getTimeRanges=function(){var b=this.$PredictedSegmentTemplateSegmentsContainer$p_13();if(b){b=[{endTime:(this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,startTime:(this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t-b.predictedAverageDuration-(this.$PredictedSegmentTemplateSegmentsContainer$p_3-this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-Number(this.$PredictedSegmentTemplateSegmentsContainer$p_2))*Number(b.predictedAverageDuration))/this.$PredictedSegmentTemplateSegmentsContainer$p_5}];var c=this.$PredictedSegmentTemplateSegmentsContainer$p_11;return c==null?b:d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$PredictedSegmentTemplateSegmentsContainer$p_7,b.map(function(a){return{rangeEnd:a.endTime,rangeStart:a.startTime}}),{rangeEnd:c.endTime,rangeStart:c.startTime}).map(function(a){return{endTime:a.rangeEnd==null?Infinity:a.rangeEnd,startTime:a.rangeStart}})}else return a.prototype.getTimeRanges.call(this)};e.canPredict=function(){return!0};e.canApproximateId=function(){var a=this.$PredictedSegmentTemplateSegmentsContainer$p_13();return a!=null};e.$PredictedSegmentTemplateSegmentsContainer$p_16=function(a){var b=null;a=a*this.$PredictedSegmentTemplateSegmentsContainer$p_5;var e=this.$PredictedSegmentTemplateSegmentsContainer$p_12.length>0?this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d:null,f=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getNumber("pdash_future_edgelatency_gops",0);if(e!=null&&e<=a&&f!==0&&a<e+this.$PredictedSegmentTemplateSegmentsContainer$p_9*f){e=a-(this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d);e=this.$PredictedSegmentTemplateSegmentsContainer$p_9?0:Math.floor(e/this.$PredictedSegmentTemplateSegmentsContainer$p_9);return this.$PredictedSegmentTemplateSegmentsContainer$p_14(0,0,this.$PredictedSegmentTemplateSegmentsContainer$p_3+1+e)}e=0;for(var g=0;this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1-g>=0;g++){var h=this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1-g];h.r===0||c("oz-player/shims/ozvariant")(0,18769);if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(h.t+h.d*(h.r+1),a,this.$PredictedSegmentTemplateSegmentsContainer$p_6))break;b=h;e=g}if(b===null||f>0&&a<b.t)return null;else return this.$PredictedSegmentTemplateSegmentsContainer$p_14(b.t/this.$PredictedSegmentTemplateSegmentsContainer$p_5,(b.t+b.d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,this.$PredictedSegmentTemplateSegmentsContainer$p_3-e)};e.$PredictedSegmentTemplateSegmentsContainer$p_15=function(a){var b=a*this.$PredictedSegmentTemplateSegmentsContainer$p_5,c=this.getTimeRanges();if(d("oz-player/utils/OzNumericalHelper").greaterThan(c[0].startTime,a))return null;else if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t,b))return this.$PredictedSegmentTemplateSegmentsContainer$p_16(a);else{c=Math.ceil((this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t-b)/Number(this.$PredictedSegmentTemplateSegmentsContainer$p_4));b=Math.max(Number(this.$PredictedSegmentTemplateSegmentsContainer$p_2),this.$PredictedSegmentTemplateSegmentsContainer$p_3-this.$PredictedSegmentTemplateSegmentsContainer$p_12.length+1-c);return this.$PredictedSegmentTemplateSegmentsContainer$p_14(a,a+Number(this.$PredictedSegmentTemplateSegmentsContainer$p_4)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,b)}};e.isEndingSegment=function(b){if(!this.$PredictedSegmentTemplateSegmentsContainer$p_8)return!1;var c=b.getSequenceNumber();return c!=null?c>=this.$PredictedSegmentTemplateSegmentsContainer$p_3:a.prototype.isEndingSegment.call(this,b)};e.getEndingSegment=function(){if(this.$PredictedSegmentTemplateSegmentsContainer$p_12.length===0)return null;var a=this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1];return this.$PredictedSegmentTemplateSegmentsContainer$p_14(a.t/this.$PredictedSegmentTemplateSegmentsContainer$p_5,(a.t+a.d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,this.$PredictedSegmentTemplateSegmentsContainer$p_3)};e.getMaxGopSec=function(){return this.$PredictedSegmentTemplateSegmentsContainer$p_9/this.$PredictedSegmentTemplateSegmentsContainer$p_5};return b}(c("oz-player/manifests/SegmentTemplateSegmentsContainer"));g["default"]=a}),98);
__d("oz-player/parsers/OzDefaultSegmentTimelineParser",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}a.parseSegments=function(a,b){a=[];b.SegmentTimeline[0].S&&(a=b.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10),r:Number.parseInt(a.$.r||"0",10),id:a.$.id?Number.parseInt(a.$.id,10):void 0}}));return a};var b=a.prototype;b.parseSegmentsContainer=function(b,e,f){return new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(b,d("oz-player/utils/OzUrlHelper").joinUrlPaths(e.baseUrl,f.$.media),Number.parseInt(f.$.timescale,10),a.parseSegments(b,f),null,e.isStaticMpd)};return a}();g["default"]=a}),98);
__d("OzPredictedSegmentTimelineParser",["PredictedSegmentTemplateSegmentsContainer","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.parseSegmentsContainer=function(a,b,e){var f;if(e.SegmentTimeline[0].$.FBPredictedMedia){f=d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.SegmentTimeline[0].$.FBPredictedMedia);var g=new(c("oz-player/shims/OzURI"))(f);g.addQueryData("_nc_sc",1);f=g.toString()}var h;e.SegmentTimeline[0].$.FBPredictedMediaStartNumber&&(h=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaStartNumber,0));var i;e.SegmentTimeline[0].$.FBPredictedMediaEndNumber&&(i=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaEndNumber,0));var j;e.SegmentTimeline[0].$.FBAverageDuration&&(j=Number.parseInt(e.SegmentTimeline[0].$.FBAverageDuration,0));g=c("oz-player/parsers/OzDefaultSegmentTimelineParser").parseSegments(a,e);return(b.isTemplatedMpd&&h!=null&&j!=null||!b.isTemplatedMpd)&&f!=null&&i!=null?new(c("PredictedSegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),b.mpdUrl,Number.parseInt(e.$.timescale,10),g,f,h,i,j,b.isStaticMpd):new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),Number.parseInt(e.$.timescale,10),g,f,b.isStaticMpd)};return a}();g["default"]=a}),98);
__d("OzSystemicRiskABRUtils",["OzSystemicRiskUtils","QualityScoreUtils","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=30,i=5e3;function j(a,b,c){b=b.getQualityScoreCurveString(a);a=d("QualityScoreUtils").parseQualityScoreCurve(String(b));return a!=null?d("QualityScoreUtils").calculateQualityScore(a,c,!0):null}function k(a){var b=i;if(a!=null&&a.length>0){var c=a[0].getTimeRange().startTime;a=a[a.length-1].getTimeRange().endTime;a-c>0&&(b=(a-c)*1e3)}return b}function l(a,b,c,e,f){if(!e.shouldApplyRepresentationRestrictions)return f.slice();var g,h=function(){g=d("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(g!=null?g:f,b,c,{resolutionConstraintFactor:e.resolutionConstraintFactor})},i=function(){g=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(a,b,g!=null?g:f)};e.excludeLargeRepresentationsAfterRestrictions||(h(),i());e.excludeLargeRepresentationsAfterRestrictions&&(i(),h());return g!=null?g:f.slice()}var m={BANDWIDTH:"br",BUFFER:"vb",ENCODING:"er",LOW_MOS:"lm",MULTIPLIER:"m",PREVIOUS_MOS:"pm",PREVIOUS_RESOLUTION:"pr"};function n(a,b,c){if(b==null)return a;a=c.isSystemicRiskABREnabled;var d=c.noRepresentationSelected;c=c.representationCount;b=[[m.LOW_MOS,b.lowMos],[m.ENCODING,b.encoding],[m.BANDWIDTH,b.bandwidth],[m.MULTIPLIER,b.multiplier],[m.BUFFER,b.buffer],[m.PREVIOUS_MOS,b.previousMos],[m.PREVIOUS_RESOLUTION,b.previousResolution]].reduce(function(a,b){var c=b[1],d="";switch(typeof c){case"number":d=c.toFixed(1);break;case"boolean":d=c?"1":"0";break;default:d="null"}return a+(b[0]+": "+d+";")},"");a||(b+="disabled;");d&&(b+="none-selected-of-"+c+";");return b}function a(a){var b=a.videoRepresentations;if(b.length===0)return babelHelpers["extends"]({},a.abrState,{lastEvaluationReason:"no available representations"});var c=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(a.playheadMediaTimeSec,a.sourceBufferBufferedRangesSec),e=a.mediaDurationSec;e=isNaN(e)||!isFinite(e)?h:e;e=a.durationMode==="static"?(e-a.playheadMediaTimeSec)*1e3:h*1e3;var f=a.systemicRiskConfig.segmentFetchRangeDurationEnabled?k(a.segments):i,g=a.bandwidthDiagnostics;if(g==null)return babelHelpers["extends"]({},a.abrState,{lastEvaluationReason:"missing bandwidth diagnostics"});var m=l(a.videoRepresentationRestrictions,a.playerDimensions,a.devicePixelRatio,a.systemicRiskConfig,b).slice().sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});if(m.length===0)return babelHelpers["extends"]({},a.abrState,{lastEvaluationReason:"no representations after applying restrictions"});var o=null,p=null,q=null;for(var r=0;r<m.length;r++){var s,t,u=m[Math.max(r-1,0)],v=m[r];s=(s=j(a.qualityScoreType,v,a.playerDimensions))!=null?s:0;t=(t=j(a.qualityScoreType,u,a.playerDimensions))!=null?t:0;u=Math.min(u.getHeight(),u.getWidth());u=u*a.devicePixelRatio;p=d("OzSystemicRiskUtils").getRiskFactorsForRepresentation({bandwidthDiagnostics:g,bitrate:v.getBandwidth(),bufferAheadSec:c,defaultRiskFactor:a.systemicRiskConfig.defaultRiskFactor,documentHiddenRiskFactor:a.systemicRiskConfig.documentHiddenRiskFactor,hasMadeInitialDecision:a.abrState.hasMadeInitialDecision,highEstimateConfidence:a.systemicRiskConfig.highEstimateConfidence,initialRiskFactor:a.systemicRiskConfig.initialRiskFactor,isDocumentHidden:a.isDocumentHidden,lowMosResolution:a.systemicRiskConfig.lowMosResolution,lowMosRiskFactor:a.systemicRiskConfig.lowMosRiskFactor,minWatchableMos:a.systemicRiskConfig.minWatchableMos,previousMos:t,previousResolution:u,remainingVideoDurationMs:e,segmentFetchRangeDurationMs:f});u=p;u=u.multiplier;if(isNaN(u)){q=p;o=a.abrState.bestRepresentation;break}u=d("OzSystemicRiskUtils").isEffectiveBitrateBelowBandwidthEstimate(v.getBandwidth(),p.multiplier,f,g);if(u&&s>=t)q=p,o=v;else continue}o==null?u=a.systemicRiskConfig.respectPlaybackRestrictionsInABRFallback&&m.length>0?m[0]:b[0]:u=o;s=n(a.abrState.lastEvaluationReason,q!=null?q:p,{isSystemicRiskABREnabled:a.systemicRiskConfig.isSystemicRiskABREnabled,noRepresentationSelected:o==null,representationCount:m.length});return{bestRepresentation:u,hasMadeInitialDecision:!0,lastEvaluationReason:s}}g.evaluateSystemicRiskABR=a}),98);
__d("VideoPlayerOzWWWConfig",[],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a,b){return this.$1.getBool(g+a,b)};b.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};b.getString=function(a,b){return this.$1.getString(g+a,b)};b.setContext=function(a,b){this.$1.setContext(a,b)};b.getAllContexts=function(){return this.$1.getAllContexts()};return a}();f["default"]=a}),66);
__d("OzSystemicRiskABRManager",["OzSystemicRiskABRUtils","OzSystemicRiskUtils","VideoPlayerOzWWWConfig","oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i){this.$1=a,this.$2=c,this.$3=d,this.$4=e,this.$6=f,this.$7=g,this.$8=h,this.$9={bestRepresentation:b,hasMadeInitialDecision:!1,lastEvaluationReason:void 0},this.$10=i,this.$1.getBool("enable_abr_logging")&&this.$10.getOperationLogger("abr_initialized").setResult("success").setUserInfo({codecs:c.map(function(a){return a.getCodecs()}).join("|"),displayLabels:c.map(function(a){return a.getDisplayLabel()}).join(","),representationIds:c.map(function(a){return a.getID()}).join(",")}).setRepresentationID(b.getID()).setType("video").setInitiator("OzSystemicRiskABRManager").log()}var b=a.prototype;b.setSourceBuffer=function(a){this.$5=a};b.updateRepresentations=function(a){var b=this,c=this.$2;this.$2=a;var d=this.$9.bestRepresentation,e=this.$2.find(function(a){return a.getDisplayLabel()===b.$9.bestRepresentation.getDisplayLabel()});this.$9=babelHelpers["extends"]({},this.$9,{bestRepresentation:e!=null?e:this.$2[0]});this.$1.getBool("enable_abr_logging")&&this.$10.getOperationLogger("abr_representations_updated").setResult("success").setRepresentationID(this.$9.bestRepresentation.getID()).setPreviousRepresentationID(d.getID()).setUserInfo({newCodecs:a.map(function(a){return a.getCodecs()}).join("|"),newDisplayLabels:a.map(function(a){return a.getDisplayLabel()}).join(","),previousRepresentationIds:c.map(function(a){return a.getID()}).join(",")}).setType("video").setInitiator("OzSystemicRiskABRManager").log()};b.getBestRepresentation=function(a){var b=this.$1.getLegacyConfig(),e="mos";if(b instanceof c("VideoPlayerOzWWWConfig")){var f=b.getAllContexts();f=String(f.quality_score_type);e=f==="csvqm"?"csvqm":"mos"}f=(f=(f=this.$5)==null?void 0:f.getSourceBufferState().getBufferedRanges())!=null?f:null;var g=this.$4.getCurrentTime(),h=this.$4.getDuration(),i=this.$9.bestRepresentation,j=b.getBool("use_bandwidth_estimate_from_headers_in_abr",!1)?c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnosticsFromHeaders(b):c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(b);this.$9=d("OzSystemicRiskABRUtils").evaluateSystemicRiskABR({abrState:this.$9,bandwidthDiagnostics:j,devicePixelRatio:this.$6,durationMode:this.$8,isDocumentHidden:document.hidden,mediaDurationSec:h,playerDimensions:this.$7(),playheadMediaTimeSec:g,qualityScoreType:e,segments:a,sourceBufferBufferedRangesSec:f,systemicRiskConfig:d("OzSystemicRiskUtils").getSystemicRiskConfigFromOzPlayerConfig(b),videoRepresentationRestrictions:this.$3,videoRepresentations:this.$2});this.$1.getBool("enable_abr_logging")&&this.$9.bestRepresentation!==i&&this.$10.getOperationLogger("abr_best_representation_selected").setResult("success").setReason(this.$9.lastEvaluationReason).setRepresentationID(this.$9.bestRepresentation.getID()).setPreviousRepresentationID(i==null?void 0:i.getID()).setUserInfo({bandwidthEstimate:String(j==null?void 0:j.bandwidthEstimate),qualityScoreType:e}).setType("video").setInitiator("OzSystemicRiskABRManager").log();return this.$9.bestRepresentation};b.getLastEvaluationReason=function(){return this.$9.lastEvaluationReason};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzStreamsWWW",["cr:927622","cr:927623"],(function(a,b,c,d,e,f,g){"use strict";c=Boolean(b("cr:927622"));d=Boolean(b("cr:927623"));e=b("cr:927622")?b("cr:927622").ReadableStream:a.ReadableStream;f=b("cr:927623")?b("cr:927623").WritableStream:a.WritableStream;g.OzReadableStream=e;g.OzReadableStreamIsPolyfilled=c;g.OzWritableStream=f;g.OzWritableStreamIsPolyfilled=d}),98);
__d("oz-player/shims/OzStreams",["oz-player/shims/www/OzStreamsWWW"],(function(a,b,c,d,e,f,g){"use strict";g.OzReadableStream=(a=d("oz-player/shims/www/OzStreamsWWW")).OzReadableStream;g.OzReadableStreamIsPolyfilled=a.OzReadableStreamIsPolyfilled;g.OzWritableStream=a.OzWritableStream;g.OzWritableStreamIsPolyfilled=a.OzWritableStreamIsPolyfilled}),98);
__d("oz-player/networks/OzTransformStream",["oz-player/shims/OzEventEmitter","oz-player/shims/OzStreams","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var c;c=a.call(this)||this;var e=(b=b==null?void 0:b.errorTransform)!=null?b:function(a){return a},f,g;c.writable=new(d("oz-player/shims/OzStreams").OzWritableStream)({start:function(a){g=a},write:function(a){c.emit("writableWrite",a);try{c.onDataWritten(a)}catch(a){f.error(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Error from write handler: "+c.constructor.name,extra:{code:"OZ_S-0",originalError:a}}))}f.enqueue(a)},close:function(){c.emit("writableClose");try{c.onClose()}catch(a){f.error(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Error from close handler: "+c.constructor.name,extra:{code:"OZ_S-1",originalError:a}}))}f.close()},abort:function(a){a=e(a);f.error(a)}});c.readable=new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(a){f=a},cancel:function(a){c.emit("readableCancel",a),g.error(a)}});return c}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.onDataWritten=function(a){};c.onClose=function(){};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/shims/www/OzPerformanceWWW",["performance","performanceNow"],(function(a,b,c,d,e,f,g){var h,i;a={now:function(){return(h||(h=c("performanceNow")))()},getEntriesByName:function(a,b){return typeof (i||(i=c("performance"))).getEntriesByName==="function"?(i||(i=c("performance"))).getEntriesByName(a,b):[]}};b=a;g["default"]=b}),98);
__d("oz-player/shims/OzPerformance",["oz-player/shims/www/OzPerformanceWWW"],(function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/OzPerformanceWWW")}),98);
__d("oz-player/utils/OzResourceTimingUtils",["oz-player/shims/OzPerformance"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a=c("oz-player/shims/OzPerformance").getEntriesByName(a,"resource");return a.reduce(function(a,b){return a==null?b:b.responseEnd<a.responseEnd?a:b},null)};g.getLatestResourceTimingEntry=a}),98);
__d("OzVideoLiveTraceNetworkRequestStreamHandler",["oz-player/networks/OzTransformStream","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){b===void 0&&(b=!1),this.$2=!1,this.$1=a,this.$2=b}var b=a.prototype;b.onResponse=function(a,b){var e=this,f=a.headers,g=null;if(!this.$1)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){var a={},c=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(b);c&&(a.lat=Math.round(c.responseStart-c.requestStart).toString());e.$1&&f&&e.$1(f,g,a)});this.$2&&a.addListener("writableWrite",function(a){g===null?g=[a]:g.push(a)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("oz-player/drm/OzDrmUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return Uint8Array.from(window.atob(a),function(a){return a.charCodeAt(0)})};b=function(a){return window.btoa(String.fromCharCode.apply(null,new Uint8Array(a)))};f.base64ToUint8Array=a;f.arrayBufferToBase64=b}),66);
__d("OzWidevineDrmProvider",["ConstUriUtils","FBLogger","oz-player/drm/OzDrmUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g){this.$2=[];this.$4=!0;this.$5=!1;g!=null&&g!==""&&(this.$1=d("oz-player/drm/OzDrmUtils").base64ToUint8Array(g));if(b!=null&&f!=null){b=(g=d("ConstUriUtils").getUri(b))==null?void 0:g.addQueryParam("access_token",f);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid Graph API license uri for video: %s",a);this.$3=b.toString();this.$5=!0;this.$4=!1}else{g=e["0"];if(g==null){g="/video/drm/getlicense";b=(f=d("ConstUriUtils").getUri(g))==null?void 0:f.addQueryParam("video_id",a);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid server license uri for video: %s",a);this.$3=b.toString()}else this.$3=g}}var b=a.prototype;b.getKeySystem=function(){return"com.widevine.alpha"};b.getSchemeId=function(){return"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};b.getInitDatas=function(){return this.$2};b.setInitDatas=function(a){this.$2=a};b.getRequireDistinctiveIdentifier=function(){return"optional"};b.getRequirePersistentState=function(){return"optional"};b.getInitDataTypes=function(){return};b.getDrmSessionTypes=function(){return["temporary"]};b.getAudioRobustness=function(){return""};b.getVideoRobustness=function(){return""};b.getServerCertificate=function(){return this.$1};b.getLicenseRequestInfo=function(a){var b={url:this.$3,method:"POST",body:"",headers:{},credentials:void 0};this.$4&&(b.credentials="include");a=d("oz-player/drm/OzDrmUtils").arrayBufferToBase64(a);if(this.$5){var c={request:a};b.body=JSON.stringify(c);b.headers["Content-Type"]="application/json"}else b.body=a,b.headers["Content-Type"]="application/text";return b};b.parseLicenseResponse=function(a){a=String.fromCharCode.apply(null,a);var b;try{b=JSON.parse(a)}catch(a){b=void 0}var c;if(b!==void 0&&b.data!==void 0&&b.data.length===1){b=b.data[0];b.error!=null||(c=b.license)}else c=a;if(c!=null&&c!=="")try{return d("oz-player/drm/OzDrmUtils").base64ToUint8Array(c)}catch(a){if(a.name==="InvalidCharacterError")throw new Error("Endpoint returned error: "+c);else throw a}return null};return a}();g["default"]=a}),98);
__d("PolarisMobileOzConfigDefaults",[],(function(a,b,c,d,e,f){"use strict";a={oz_www_abr_use_download_time:!1,oz_www_allow_queueing_end_of_stream_when_update:!1,oz_www_append_last_segment_if_beyond_end:!1,oz_www_back_off_pdash_504_retry:!1,oz_www_bandwidth_ignore_on_stream_write_samples:!1,oz_www_bandwidth_use_response_time_adjustment:!1,oz_www_buffer_when_waiting:!1,oz_www_call_end_of_stream_in_quick_starter:!1,oz_www_cancel_tracker_on_append_error:!1,oz_www_check_buffer_range_once_for_playhead_update:!1,oz_www_cleanup_video_node_on_destroy:!1,oz_www_clear_buffer_when_switch_representation_initiator_is_user:!1,oz_www_convert_dom_exception_to_oz_error:!1,oz_www_copy_new_manifest:!1,oz_www_delay_stream_end_for_sourceended:!1,oz_www_detach_media_source_manager:!1,oz_www_disable_audio_scheduler:!1,oz_www_emit_stream_error_event:!1,oz_www_enable_abr_for_first_request:!1,oz_www_enable_adaptation:!0,oz_www_enable_appends_on_wait_update_end_failure:!1,oz_www_enable_network_manager_error:!1,oz_www_enable_quickdashv2:!1,oz_www_estimate_video_bandwidth_only:!1,oz_www_exclude_prefetch_bandwidth_samples:!0,oz_www_fallback_on_append_error:!1,oz_www_fix_abr_default_representation:!1,oz_www_fix_buffer_ahead_priority_strategy:!1,oz_www_fix_prefetch_xhr_http_status:!0,oz_www_fix_prepended_segments_tagging:!1,oz_www_fix_quick_starter_overhead:!0,oz_www_fix_reload_manifest_retry:!1,oz_www_fix_seek_performance:!1,oz_www_fix_setup_video_duration_on_representation_switch:!1,oz_www_fix_source_buffer_error_logging:!1,oz_www_fix_stream_deferred_cancel:!1,oz_www_fix_template_duration_artifact_in_manifest:!1,oz_www_generate_mos_segment_buffer_diff:!1,oz_www_handle_mpd_retries_outside_oz_mpd_updater:!1,oz_www_handle_switch_to_unparsed_representation_sidx:!0,oz_www_ignore_time_to_response_start:!1,oz_www_lazy_parse_sidx:!1,oz_www_listen_for_canplay_in_buffering_detector:!1,oz_www_live_audio_ibr:!0,oz_www_live_catch_up_only_when_paused:!1,oz_www_live_disable_mpd_updates_when_paused:!1,oz_www_live_gracefully_handle_410:!1,oz_www_live_gracefully_handle_mpd_errors:!1,oz_www_live_gracefully_handle_no_network:!1,oz_www_live_no_segment_when_playhead_is_before_first_segment:!1,oz_www_live_playhead_catch_up:!1,oz_www_live_query_time_in_range:!1,oz_www_load_video_node_on_unload:!1,oz_www_log_appended_secs:!1,oz_www_maybe_end_stream_if_prepended_segments:!1,oz_www_mpd_update_cancel_current_request_tracker:!1,oz_www_no_new_loop_body_promise_when_stream_ongoing:!1,oz_www_pausable_stream_throws_error_when_aborted:!1,oz_www_pdash_use_pdash_segmentlocator:!1,oz_www_playhead_manager_handle_timerange_update_on_timeupdate:!1,oz_www_prevent_unnecessary_seek_stream_anchor_reset:!1,oz_www_queue_data_with_error_handling:!1,oz_www_reach_end_only_when_video_ended:!1,oz_www_respect_initial_representation_on_setup:!1,oz_www_retry_fetch_on_prefetch_error:!1,oz_www_sbm_abort_on_readable_stream_error:!1,oz_www_sbm_check_source_buffer_ready_state_on_cancel:!1,oz_www_sbm_recursively_waits_for_update_end:!1,oz_www_sbm_waits_for_update_end:!0,oz_www_seek_ahead_use_native_current_time:!1,oz_www_seek_to_start_quick_starter:!1,oz_www_set_source_buffer_append_window_end:!1,oz_www_set_stream_anchor_only_on_done_status:!1,oz_www_skip_videobuffer_gaps:!0,oz_www_skip_videobuffer_gaps_on_buffer_updated:!1,oz_www_stable_buffered_timeranges_in_observedsourcebufferstate:!1,oz_www_stop_manifest_update_when_static:!1,oz_www_suppress_playing_event_while_buffering:!1,oz_www_throw_network_error_during_stream:!1,oz_www_throw_on_non_zero_r_d_mismatch:!1,oz_www_touch_cb_key:!1,oz_www_update_bandwidth_cache_on_sample:!1,oz_www_update_duration_when_init_appended:!1,oz_www_update_live_video_config_on_representation_switch:!1,oz_www_update_media_source_duration:!0,oz_www_use_abr_for_missing_default_representation:!1,oz_www_use_deferred_streaming_task:!1,oz_www_use_loose_manifest_updates:!1,oz_www_use_performance_entry_on_stream_close:!1,oz_www_use_sc_timebased_segments:!1,oz_www_use_scf_timebased_segments:!1,oz_www_use_scheduler:!0,oz_www_use_segment_request_cache:!1,oz_www_use_stream_end_time_in_segment_locator:!1,oz_www_xmlparser_use_domparser:!1};b={oz_www_abr_confidence_threshold:.9,oz_www_abr_eval_buffer_threshold:0,oz_www_abr_min_bandwidth_samples:0,oz_www_abr_prevent_down_switch_buffer_threshold:11,oz_www_abr_restrict_from_index:0,oz_www_abr_restrict_to_index:0,oz_www_append_byte_target_without_range:0,oz_www_appends_per_segment:3,oz_www_auto_seek_playhead_slack:0,oz_www_bandwidth_boundary_standard_deviation_factor:1,oz_www_bandwidth_estimator_half_life:6,oz_www_bandwidth_estimator_outlier_exclusion_factor:50,oz_www_bandwidth_estimator_std_dev_penalty_factor:0,oz_www_bandwidth_estimator_variance_penalty_down_factor:0,oz_www_bandwidth_estimator_variance_penalty_half_life:0,oz_www_bandwidth_estimator_variance_penalty_up_factor:0,oz_www_bandwidth_penalty_additional_video_start:0,oz_www_bandwidth_penalty_per_additional_video:0,oz_www_bandwidth_response_time_handicap:0,oz_www_buffer_ahead_target:19,oz_www_byte_count_per_sample:6e4,oz_www_default_bandwidth_estimate:5e5,oz_www_download_time_buffer_delta_penalty_factor:0,oz_www_in_play_buffer_overflow_target:1,oz_www_in_play_buffer_underflow_target:.1,oz_www_initial_manifest_request_retry_count:0,oz_www_initial_switch_interval:0,oz_www_live_audio_ibr_bandwidth_percentage:.05,oz_www_live_catch_up_fall_behind_threshold:20,oz_www_live_catch_up_live_head_delta:6,oz_www_live_max_try_attempts_on_404:1,oz_www_live_numerical_error_epsilon:0,oz_www_low_buffer_bandwidth_target_increase_factor:0,oz_www_low_buffer_bandwidth_target_threshold:10,oz_www_low_segment_stream_playhead_threshold:0,oz_www_max_bandwidth_sample_count:30,oz_www_max_start_eme_attempts:-1,oz_www_maximum_bandwidth_sample_bandwidth:2e6,oz_www_min_block_time_range_interval_ms:0,oz_www_min_eval_interval:1e3,oz_www_min_switch_interval:5e3,oz_www_minimum_bandwidth_sample_duration:30,oz_www_minimum_bytes_to_sample_on_close:25e3,oz_www_minimum_download_additional_buffer_ms:0,oz_www_network_seg_timeout_ms:0,oz_www_partial_playback_buffer_overflow:0,oz_www_paused_stream_segments_count:2,oz_www_per_stream_duration_target:0,oz_www_pixels_above_viewport_to_observe:0,oz_www_pixels_below_viewport_to_observe:0,oz_www_playhead_manager_timeupdate_throttle_ms:1e3,oz_www_playhead_nudge_slack:0,oz_www_pre_start_buffer_ahead_target:10,oz_www_prioritize_by_viewport_static_penalty:0,oz_www_resolution_constraint_factor:2,oz_www_sbm_read_timeout_ms:0,oz_www_seconds_to_stream:0,oz_www_seconds_to_stream_near_bandwidth_boundary:0,oz_www_seek_ahead_epsilon:0,oz_www_segments_to_stream:5,oz_www_segments_to_stream_near_bandwidth_boundary:5,oz_www_segments_to_stream_under_playhead_threshold:0,oz_www_skip_videobuffer_gaps_max_gap_size_sec:0,oz_www_start_buffer_underflow_target:.1,oz_www_stream_interrupt_check_mpd_stale_count_threshold:0,oz_www_tagged_time_range_per_append_throttle:0,oz_www_time_to_first_byte_estimate_half_life_ms:500,oz_www_timeline_offset_threshold:0};c={oz_www_bandwidth_cache_key:"bandwidthEstimate",oz_www_block_representation_status_codes_json:"[500]",oz_www_network_end_broadcasts_json:"[]",oz_www_network_reload_mpd_json:"[]",oz_www_network_retry_intervals_json:'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}',oz_www_network_skip_json:"[]",oz_www_stream_types_eligible_for_partial_playback:""};f.defaultBools=a;f.defaultNumbers=b;f.defaultStrings=c}),66);
__d("TimeRanges",["invariant"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.$1=[],this.$1=a}var b=a.prototype;b.start=function(a){this.$1[a]||h(0,2205);return this.$1[a].startTime};b.end=function(a){this.$1[a]||h(0,2205);return this.$1[a].endTime};b.length=function(){return this.$1.length};return a}();g["default"]=a}),98);
__d("VideoPlayerImplementationLoadSequenceManager",["setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[],this.$2=[]}var b=a.prototype;b.schedule=function(a,b,d){var e=this,f={load:d,maximumBlockTimeMs:a.getNumber("load_sequence_max_delay_ms",0),sequence:b},g=a.getNumber("load_sequence_only_prioritize_first_count",0);g>0?d=!this.$2.find(function(a){return a.sequence<g}):d=!this.$2.find(function(a){return a.sequence<b});d?this.$3(f):(this.$1.push(f),c("setTimeout")(function(){return e.$4(f)},f.maximumBlockTimeMs));return function(){return e.$5(f)}};b.$4=function(a){var b=this.$1.find(function(b){return b===a});b&&(this.$1=this.$1.filter(function(b){return b!==a}),this.$3(b))};b.$3=function(a){var b=this;this.$2.push(a);a.load().then(function(){return b.$6(a)})["catch"](function(c){b.$6(a);throw c});c("setTimeout")(function(){return b.$6(a)},a.maximumBlockTimeMs)};b.$7=function(){var a=this,b=Math.min.apply(Math,this.$1.map(function(a){return a.sequence})),c=this.$1.filter(function(a){return a.sequence===b});c.forEach(function(b){return a.$4(b)})};b.$5=function(a){this.$1=this.$1.filter(function(b){return b!==a})};b.$6=function(a){if(!this.$2.find(function(b){return b===a}))return;this.$2=this.$2.filter(function(b){return b!==a});var b=!!this.$2.find(function(b){return b.sequence===a.sequence});b&&this.$7()};return a}();b=new a();d=b;g["default"]=d}),98);
__d("getAvailableMimeCodecsFromDashManifest",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=/^(audio|video)\/.*$/;return b.test(a)}function a(a,b){var c=[];b=b?window.ManagedMediaSource:window.MediaSource;if(a!=null){var d=/mimeType=\"([^\"]*)\"[^\>]*codecs=\"([^\"]*)\"/g,e=/codecs=\"([^\"]*)\"[^\>]*mimeType=\"([^\"]*)\"/g,f,h=[];while(f=d.exec(a))h.push([f[1],f[2]]);while(f=e.exec(a))h.push([f[2],f[1]]);for(d of h){f=d[0];a=d[1];e=f+'; codecs="'+a+'"';h=f.startsWith("audio")?"audio":f.startsWith("video")?"video":"other";var i=!0,j=!1;g(e)&&(j=!0,i=b?b.isTypeSupported(e):!1);c.push({codecs:a,isRequiredForPlayback:j,isTypeSupported:i,mimeCodec:e,mimeType:f,representationType:h})}}return c}f["default"]=a}),66);
__d("VideoPlayerOzImplementationData",["err","getAvailableMimeCodecsFromDashManifest"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.canUseOz,d=a.dashManifestUrl,e=a.dashManifestUrlOverride_DO_NOT_USE,f=a.dashManifestXmlString,g=a.experimentationConfig,h=a.initialAudioUserPreferredLanguage;a=a.minQualityPreference;if(b!==!0){var i=c("err")("canUseOz="+String(b));i.name="GotCanUseOz/"+String(b);return i}b=e!=null?null:f==null||f===""?null:f;i=e!=null?e:d==null||d===""?null:d;if(b==null&&i==null){f=c("err")("Got no manifest XML and no URL to it");f.name="GotNoManifestOrURL";return f}e=g.getBool("enable_managed_media_source",!1);if(e){if(!window.ManagedMediaSource){d=c("err")("window.ManagedMediaSource is missing");d.name="GotMissingManagedMediaSourceAPI";return d}}else if(!window.MediaSource){f=c("err")("window.MediaSource is missing");f.name="GotMissingMediaSourceAPI";return f}if(b!=null){d=c("getAvailableMimeCodecsFromDashManifest")(b,e).filter(function(a){return a.isRequiredForPlayback});f=d.filter(function(a){return!a.isTypeSupported});if(f.length>0){e=c("err")("%s out of %s codecs in DASH manifest required for playback are unsupported: %s",String(f.length),String(d.length),d.map(function(a){return a.mimeType+"/"+a.codecs+"="+(a.isTypeSupported?"yes":"no")}).join(", "));e.name="GotManifestWithUnsupportedCodecs";return e}}return{experimentationConfig:g,initialAudioUserPreferredLanguage:h!=null?h:null,initialVideoVariant:{lang:h!=null?h:null,role:null},manifest:b,manifestUrl:i,minQualityPreference:a!=null?a:null}}g.makeOzImplementationData=a}),98);
__d("handleVideoPlayerLatencyLevelChange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(a&&b&&c){var e=a.getAllContexts().latency_level;c=[];try{c=JSON.parse(a.getString("seek_on_latency_level_change_allowed","[]"))}catch(a){}c=c.some(function(a){return a.length===2&&a[0]===e&&a[1]===d});a.setContext("latency_level",d);if(!c)return;c=b.getDuration();c=c!=null?c+a.getNumber("live_initial_playback_position",0):null;c!=null&&b.setPlayheadPosition(c)}}f["default"]=a}),66);
__d("VideoPlayerOzImplementationEngineExtrasAPI",["VideoPlayerOzWWWGlobalConfig","emptyFunction","gkx","handleVideoPlayerLatencyLevelChange","oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(a){return(a=a.getSelectedVideoQuality())!=null?a:""}function i(a){a=a.getCurrentPlayingAudioTrackID();return a==null?null:a}function j(a){a=a.getCurrentVideoRepresentation();return a==null?"":a.getDisplayLabel()}function k(a){a=a.getIsVideoQualityAdaptationEnabled()?"auto":(a=a.getSelectedVideoQuality())!=null?a:"auto";return a}function l(a){return a.getTargetAudioTrack()}function m(a){return(a=(a=a.getMpd())==null?void 0:a.getCustomField("fbProjection"))!=null?a:null}function n(a,b){var c=k(a);if(b==="notselected"||b===c)return!1;else if(b==="auto"){a.enableVideoQualityAdaptation();return!0}else if(b!==a.getSelectedVideoQuality()){c=b;a.switchToVideoQuality(c);return!0}else return!1}function o(a,b){b=b;a.switchToVideoVariant(b)}function a(a){var b=a.getConfig,d=a.getOzPlayer,e=a.getVideoElementAPI;a={getApproximateFBLSToPlayerDisplayLatency:function(){var a;return(a=(a=d())==null?void 0:a.getApproximateFBLSToPlayerDisplayLatency())!=null?a:null},getAvailableAudioTracks:function(){var a;a=(a=d())==null?void 0:a.getAudioTracks();if(!a)return[];a=a.map(function(a){return{displayLabel:a.displayLabel,id:a.id,lang:a.lang,mimeCodecs:a.mimeCodecs,role:a.role,variantKey:a.variantKey}});return a},getAvailableVideoQualities:function(){var a;return(a=(a=d())==null?void 0:a.getVideoQualities())!=null?a:[]},getAvailableVideoTracks:function(){var a;a=(a=d())==null?void 0:a.getVideoTracks();if(!a)return[];a=a.map(function(a){return{codec:a.codec,codecFamily:a.codecFamily,displayLabel:a.displayLabel,height:a.height,id:a.id,lang:a.lang,mimeCodecs:a.mimeCodecs,qualityLabel:a.qualityLabel,role:a.role,variantKey:a.variantKey,width:a.width}});return a},getCurrentAudioRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentAudioRepresentation())!=null?a:null},getCurrentPlayingAudioRepresentationID:function(){var a=d();return a?i(a):null},getCurrentPlayingAudioTrackID:function(){var a=d();return a?i(a):null},getCurrentPlayingVideoQuality:function(){var a=d();return a?j(a):""},getCurrentPlayingVideoRepresentationID:function(){var a;return(a=(a=d())==null||(a=a.getCurrentVideoRepresentation())==null?void 0:a.getID())!=null?a:null},getCurrentTargetVideoQuality:function(){var a=d();return a?h(a):""},getCurrentVideoRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentVideoRepresentation())!=null?a:null},getEstimatedBandwidth:function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},getInbandCaptionsAutogeneratedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))},getInbandCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))||Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromAccessibility"))},getManifestIdentifier:function(){var a;a=(a=d())==null||(a=a.getMpd())==null?void 0:a.getCustomField("fbManifestIdentifier");return a!=null?String(a):null},getMpdValidationErrors:function(){var a;a=(a=d())==null||(a=a.getMpd())==null?void 0:a.getCustomField("validationErrors");return a!=null?String(a):null},getPerfLoggerProvider:function(){var a=d();return a?a.getPerfLoggerProvider():null},getRepresentationCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasVTTRepresentationCaptions"))},getStreamType:function(){return"dash"},getTargetAudioTrack:function(){var a=d();return a?l(a):null},getUserSelectedVideoQuality:function(){var a=d();return a?k(a):""},getUserSelectedVideoVariant:function(){var a=d();return(a=a==null?void 0:a.getTargetVideoVariant())!=null?a:null},getVideoProjectionType:function(){var a=d();return a!=null?m(a):null},getVideoRepresentations:function(){var a;return(a=(a=d())==null||(a=a.getMpd())==null?void 0:a.getVideoRepresentations())!=null?a:null},isDrm:function(){var a;return Boolean((a=d())==null?void 0:a.isDrm())},isFBIsLiveTemplated:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isLiveTemplated"))},isFBMS:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBMS"))},isFBWasLive:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBWasLive"))},isLiveRewindAvailable:function(){var a;a=(a=(a=d())==null?void 0:a.getMpdUrl())!=null?a:"";try{return(a=(a=new URL(a).searchParams.get("ms"))==null?void 0:a.includes("m_CT"))!=null?a:!1}catch(a){}return!1},isMixedCodecManifest:function(){var a,b;a=(a=d())==null?void 0:a.getMpd();if(a==null)return null;a=(a=a.getVideoRepresentations())!=null?a:[];a=new Set(a.map(function(a){return/codecs=\"([^\".]+)/i.exec(a.getMimeCodecs())}));b=(b=(b=d())==null||(b=b.getMpd())==null?void 0:b.getAudioRepresentations())!=null?b:[];b=new Set(b.map(function(a){return/codecs=\"([^\".]+)/i.exec(a.getMimeCodecs())}));return a.size>1||b.size>1},isPredictiveDash:function(){var a;a=(a=(a=d())==null||(a=a.getMpd())==null?void 0:a.getVideoRepresentations()[0])!=null?a:null;return a!==null&&a.canPredict()},setDimensions:function(a){},setEnableLiveheadCatchup:function(a){var b=d();b!=null&&b.setEnableLiveheadCatchup(a)},setLatencyLevel:function(a){c("handleVideoPlayerLatencyLevelChange")(b(),e(),d(),a)},setUserSelectedVideoQuality:function(a){var b=d();b!=null&&n(b,a)},setUserSelectedVideoVariant:function(a){var b=d();b!=null&&a!=null&&o(b,a)}};return a}g.createVideoPlayerOzImplementationEngineExtrasAPI=a}),98);
__d("oz-player/shims/www/OzDOMEventListenerWWW",["OzDOMEventListenerImpl"],(function(a,b,c,d,e,f){"use strict";a=b("OzDOMEventListenerImpl");f["default"]=a}),66);
__d("oz-player/shims/OzDOMEventListener",["oz-player/shims/www/OzDOMEventListenerWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDOMEventListenerWWW")}),98);
__d("oz-player/shims/www/OzSubscriptionsHandlerWWW",["SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("SubscriptionsHandler")}),98);
__d("oz-player/shims/OzSubscriptionsHandler",["oz-player/shims/www/OzSubscriptionsHandlerWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzSubscriptionsHandlerWWW")}),98);
__d("oz-player/shims/www/ozThrottleWWW",["throttle"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("throttle")}),98);
__d("oz-player/shims/ozThrottle",["oz-player/shims/www/ozThrottleWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozThrottleWWW")}),98);
__d("oz-player/strategies/OzBufferingDetectorStates",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.handleEvent=function(a,b,c){if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);a=this.$3 instanceof j?this.$1.getInPlayBufferOverflowTarget():this.$1.getStartBufferUnderflowTarget();return d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,a,c)?new j(this.$1,this.$2):this};return a}(),i=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.handleEvent=function(a,b,c){return a.type==="play"||a.type==="playing"||!b.paused?d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getStartBufferUnderflowTarget(),c)?new j(this.$1,this.$2):new h(this.$1,this.$2,this):this};return a}(),j=function(){function a(a,b){this.$1=a,this.$2=b,this.$3=b.getString("stream_types_eligible_for_partial_playback","").split(",")}var b=a.prototype;b.handleEvent=function(a,b,c,e){e===void 0&&(e=new Map());if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);return!d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getInPlayBufferUnderflowTarget(),c)&&!this.$4(a,b.currentTime,e)?new h(this.$1,this.$2,this):this};b.$4=function(a,b,c){return a.type==="waiting"?!1:d("oz-player/utils/OzBufferingUtils").hasEnoughPartialBuffer(b,c,this.$3,this.$2.getNumber("partial_playback_buffer_overflow",0))};return a}();g.OzVideoBufferingState=h;g.OzVideoPausedState=i;g.OzVideoPlayingState=j}),98);
__d("oz-player/strategies/OzBufferingStateThresholdManager",["oz-player/shims/OzPerformance","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=-Infinity,this.$4=-Infinity,this.$1=a}var b=a.prototype;b.getInPlayBufferUnderflowTarget=function(){return this.$1.getNumber("in_play_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.getInPlayBufferOverflowTarget=function(){if(this.$5())return this.$1.getNumber("stream_interrupt_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD);return c("oz-player/shims/OzPerformance").now()-this.$4<this.$1.getNumber("recent_buffer_timeout_ms",0)?this.$1.getNumber("recent_buffer_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD):this.$1.getNumber("in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_OVERFLOW_THRESHOLD)};b.getStartBufferUnderflowTarget=function(){return this.$1.getNumber("start_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.notifyBufferingEnd=function(){this.$4=c("oz-player/shims/OzPerformance").now()};b.notifyStreamInterrupted=function(){this.$2=!0};b.notifyStreamResumed=function(){this.$2=!1,this.$3=c("oz-player/shims/OzPerformance").now()};b.$5=function(){var a=this.$1.getNumber("stream_interrupt_buffer_target_timeout_ms",0);return a===0?!1:this.$2||c("oz-player/shims/OzPerformance").now()-this.$3<a};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBufferingDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/strategies/OzBufferingDetectorStates","oz-player/strategies/OzBufferingStateThresholdManager","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=150;a=function(a){function b(b,e,f){var g;g=a.call(this)||this;g.$OzBufferingDetector$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();g.$OzBufferingDetector$p_6=new Map();g.$OzBufferingDetector$p_8=null;g.$OzBufferingDetector$p_9=function(a){g.$OzBufferingDetector$p_11(a)};g.$OzBufferingDetector$p_2=b;g.$OzBufferingDetector$p_4=e;g.$OzBufferingDetector$p_5=f;g.$OzBufferingDetector$p_7=new(c("oz-player/strategies/OzBufferingStateThresholdManager"))(e);g.$OzBufferingDetector$p_2.paused?g.$OzBufferingDetector$p_1=new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPausedState)(g.$OzBufferingDetector$p_7,g.$OzBufferingDetector$p_4):g.$OzBufferingDetector$p_1=d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(g.$OzBufferingDetector$p_2,g.$OzBufferingDetector$p_7.getInPlayBufferUnderflowTarget(),g.$OzBufferingDetector$p_5())?new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState)(g.$OzBufferingDetector$p_7,g.$OzBufferingDetector$p_4):new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState)(g.$OzBufferingDetector$p_7,g.$OzBufferingDetector$p_4,null);g.$OzBufferingDetector$p_3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"pause",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"play",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"progress",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector$p_9,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"timeupdate",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector$p_9,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"seeked",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"seeking",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"waiting",g.$OzBufferingDetector$p_9));g.$OzBufferingDetector$p_3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"canplay",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"canplaythrough",g.$OzBufferingDetector$p_9));return g}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.$OzBufferingDetector$p_10=function(){var a=this,b="unavailable",c=this.$OzBufferingDetector$p_7.getInPlayBufferUnderflowTarget();this.$OzBufferingDetector$p_6.forEach(function(e,f){var g=a.$OzBufferingDetector$p_2.currentTime;d("oz-player/utils/OzBufferingUtils").hasBuffer(g,c,e)||(b=b==="unavailable"?f:"audio/video")});return b};e.setSourceBufferState=function(a,b){this.$OzBufferingDetector$p_6.set(a,b)};e.$OzBufferingDetector$p_11=function(a){var b=this.$OzBufferingDetector$p_1.handleEvent(a,this.$OzBufferingDetector$p_2,this.$OzBufferingDetector$p_5(),this.$OzBufferingDetector$p_6),c=this.$OzBufferingDetector$p_1;this.$OzBufferingDetector$p_1=b;var e=b instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState,f=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState;if(b===c){e&&this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("buffering_handle_event").setInitiator(a.type).log();return b}if(e){e=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState?"in_play":"start/unpause";this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("enter_buffering").setState("buffering").setType(e).setReason(this.$OzBufferingDetector$p_10()).setInitiator(a.type).log();this.emit("enterBuffering",e)}else f&&(this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("leave_buffering").setInitiator(a.type).log(),this.$OzBufferingDetector$p_7.notifyBufferingEnd(),this.emit("leaveBuffering",{domEventPerfTimestamp:a.timeStamp}));return b};e.notifyStreamInterrupted=function(){this.$OzBufferingDetector$p_7.notifyStreamInterrupted()};e.notifyStreamResumed=function(){this.$OzBufferingDetector$p_7.notifyStreamResumed()};e.attachPerfLoggerProvider=function(a){this.$OzBufferingDetector$p_8=a};e.destroy=function(){this.$OzBufferingDetector$p_3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplUtils",["OzSystemicRiskABRManager","OzWidevineDrmProvider","cr:2964","gkx","justknobx","oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzBufferingDetector"],(function(a,b,c,d,e,f,g){"use strict";var h=/(livestream-)?lookaside\.(facebook|workplace)\.com$/;function a(a){return h.test(a.getDomain())}function d(a,b,d,e,f,g){if(f.current!=null)return;var h=!0,i=function(){if(h)return!1;f.current!==j;return!1},j=new(c("oz-player/strategies/OzBufferingDetector"))(a,d,function(){var a=e.getCurrentState();a=a.controlledState;return a.streamEnded?b.getDuration():Infinity});f.current=j;h=!1;a=function(a){if(i())return;e.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"});a=d.getNumber("ull_fallback_stall_count",0);if(a>0){var b=g.getLoggerState().stallCountTotal;d.getBool("fix_ull_fallback_stall_count",!1)&&(b=g.getLoggerState().inPlayStallCount200ms);e.getCurrentState().controlledState.latencyLevel==="ultra-low"&&b>a&&e.dispatch({payload:{latencyLevel:"low",ullIneligibilityReason:null},type:"implementation_set_latency_level_requested"})}};var k=function(a){if(i())return;e.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})};j.addListener("enterBuffering",a);j.addListener("leaveBuffering",k)}function e(a){var b=a.accessToken,d=a.graphQLVideoDRMInfo;a=a.videoFBID;var e=[];if(d&&a!=null){var f=c("justknobx")._("717")?null:d.widevineCert;e.push(new(c("OzWidevineDrmProvider"))(a,d.graphApiVideoLicenseUri,d.videoLicenseUriMap,b,f!=null?f:null))}return e}function f(a){var b=a.VideoPlayerShakaPerformanceLoggerClass,c=a.accessToken,d=a.disableLogging,e=a.getApproximateFBLSToPlayerDisplayLatency,f=a.getBandwidthEstimate,g=a.getPlayerDimensions,h=a.getPlayerFormat,i=a.playbackIsLiveStreaming,j=a.playerInstanceCount,k=a.playerInstanceKey,l=a.playerSuborigin,m=a.playerVersion,n=a.videoElement,o=a.videoFBID;a=a.videoPlayerShakaPerformanceLoggerBuilder;if(d||!a&&(!b||!b.shouldInitialize()))return[];d={accessToken:c,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:f,getPlayerDimensions:g,getPlayerFormat:h,isLive:i,isServableViaFbms:!1,playerInstanceCount:j,playerOrigin:null,playerSuborigin:l,playerVersion:m,representationId:null,uniqueID:k,video:n,videoID:o!=null?o:""};return a!=null?[a.build(d)]:b?[new b(d)]:[]}function i(a,b){return b>0?b/1e3*-1:a.getNumber("live_initial_playback_position",0)}function j(a,b,c){return b>0&&c>0?(b+c)/1e3:a.getNumber("livehead_fall_behind_block_threshold",0)}function k(a,b){return b>0?b/2/1e3:a.getNumber("live_time_range_block_margin",0)}function l(a){return function(d,e,f,g,h,i,j,k,l){return!a&&b("cr:2964")!=null?new(b("cr:2964"))(d,e,f,g,h,i,j,k,l):d.getLegacyConfig().getBool("use_systemic_risk_abr",!1)?new(c("OzSystemicRiskABRManager"))(d,e,f,g,h,i,j,k,l):null}}function m(a,b){var d=b.experimentationConfig,e=b.getCurrentVideoRepresentation,f=b.getOzCDNSignedQueryParams,g=b.isClientTriggeredTraceEnabled,h=b.playbackIsLiveStreaming,i=b.playbackSessionId;b=b.shouldRefresh403;var j=a.getQueryData(),k;if(h){k={};if(d.getBool("server_side_abr_send_client_estimates",!1)){var l=c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(d);l&&(k=babelHelpers["extends"]({},k,{_nc_bwe:String(l.bandwidthEstimate),_nc_bwe_std:String(l.bandwidthStandardDeviation),_nc_ttfb:String(l.timeToFirstByteMsEstimate),_nc_ttfb_std:String(l.timeToFirstByteMsStandardDeviation)}));l=e();l&&(k=babelHelpers["extends"]({},k,{_nc_abr_bitrate:String(l.getBandwidth()),_nc_abr_qlabel:l.getDisplayLabel()}))}}e=d.getNumber("live_video_chunk_duration",0);l=d.getBool("use_bandwidth_estimate_from_headers_in_abr",!1);d=l?c("oz-player/networks/OzBandwidthEstimator").hasRecentBandwidthEstimateFromHeader():!1;h&&e>0&&d&&(k=babelHelpers["extends"]({},k,{chk_dur:e.toString(10)}));c("gkx")("24354")&&(j.uss!=null&&j.odm!=null&&(k=babelHelpers["extends"]({},k,{manual_redirect:"1"})));g&&(k=babelHelpers["extends"]({},k,{_nc_psid:i}));if(b){l=f();if(l!=null){h=a.getDomain()+a.getPath();d=l.get(h);if(d!=null)for(e in d){k=babelHelpers["extends"]({},k,(j={},j[e]=d[e],j))}}}return k}g.checkShouldIncludeCredentials=a;g.createOzBufferingDetector=d;g.createOzDrmProviders=e;g.createOzPerfLoggerProviders=f;g.calculateInitialPlaybackPositionForDynamicMpd=i;g.calculateLiveheadFallBehindBlockThreshold=j;g.calculateLiveheadFallBehindBlockMargin=k;g.getVideoAbrManagerFactory=l;g.getCustomRequestParametersForURI=m}),98);
__d("getOzPlaybackRestrictions",["OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=[];switch(a){case"HD":d.push(new(c("OzMinimumSmallestDimensionRestriction"))(720));break;case"UHD":c("gkx")("24263")&&d.push(new(c("OzMinimumSmallestDimensionRestriction"))(1080));break;default:break}a=b.getNumber("mos_upper_threshold",0);var e=b.getNumber("mos_lower_threshold",0);(a>0||e>0)&&d.push(new(c("OzMosThresholdRestriction"))(b));return d}g["default"]=a}),98);
__d("str2rstr",[],(function(a,b,c,d,e,f){function a(a){var b="",c,d;for(var e=0;e<a.length;e++)c=a.charCodeAt(e),d=e+1<a.length?a.charCodeAt(e+1):0,55296<=c&&c<=56319&&56320<=d&&d<=57343&&(c=65536+((c&1023)<<10)+(d&1023),e++),c<=127?b+=String.fromCharCode(c):c<=2047?b+=String.fromCharCode(192|c>>>6&31,128|c&63):c<=65535?b+=String.fromCharCode(224|c>>>12&15,128|c>>>6&63,128|c&63):c<=2097151&&(b+=String.fromCharCode(240|c>>>18&7,128|c>>>12&63,128|c>>>6&63,128|c&63));return b}f["default"]=a}),66);
__d("md5",["str2rstr"],(function(a,b,c,d,e,f,g){function h(a,b){var c=a[0],d=a[1],e=a[2],f=a[3];c=j(c,d,e,f,b[0],7,-680876936);f=j(f,c,d,e,b[1],12,-389564586);e=j(e,f,c,d,b[2],17,606105819);d=j(d,e,f,c,b[3],22,-1044525330);c=j(c,d,e,f,b[4],7,-176418897);f=j(f,c,d,e,b[5],12,1200080426);e=j(e,f,c,d,b[6],17,-1473231341);d=j(d,e,f,c,b[7],22,-45705983);c=j(c,d,e,f,b[8],7,1770035416);f=j(f,c,d,e,b[9],12,-1958414417);e=j(e,f,c,d,b[10],17,-42063);d=j(d,e,f,c,b[11],22,-1990404162);c=j(c,d,e,f,b[12],7,1804603682);f=j(f,c,d,e,b[13],12,-40341101);e=j(e,f,c,d,b[14],17,-1502002290);d=j(d,e,f,c,b[15],22,1236535329);c=k(c,d,e,f,b[1],5,-165796510);f=k(f,c,d,e,b[6],9,-1069501632);e=k(e,f,c,d,b[11],14,643717713);d=k(d,e,f,c,b[0],20,-373897302);c=k(c,d,e,f,b[5],5,-701558691);f=k(f,c,d,e,b[10],9,38016083);e=k(e,f,c,d,b[15],14,-660478335);d=k(d,e,f,c,b[4],20,-405537848);c=k(c,d,e,f,b[9],5,568446438);f=k(f,c,d,e,b[14],9,-1019803690);e=k(e,f,c,d,b[3],14,-187363961);d=k(d,e,f,c,b[8],20,1163531501);c=k(c,d,e,f,b[13],5,-1444681467);f=k(f,c,d,e,b[2],9,-51403784);e=k(e,f,c,d,b[7],14,1735328473);d=k(d,e,f,c,b[12],20,-1926607734);c=l(c,d,e,f,b[5],4,-378558);f=l(f,c,d,e,b[8],11,-2022574463);e=l(e,f,c,d,b[11],16,1839030562);d=l(d,e,f,c,b[14],23,-35309556);c=l(c,d,e,f,b[1],4,-1530992060);f=l(f,c,d,e,b[4],11,1272893353);e=l(e,f,c,d,b[7],16,-155497632);d=l(d,e,f,c,b[10],23,-1094730640);c=l(c,d,e,f,b[13],4,681279174);f=l(f,c,d,e,b[0],11,-358537222);e=l(e,f,c,d,b[3],16,-722521979);d=l(d,e,f,c,b[6],23,76029189);c=l(c,d,e,f,b[9],4,-640364487);f=l(f,c,d,e,b[12],11,-421815835);e=l(e,f,c,d,b[15],16,530742520);d=l(d,e,f,c,b[2],23,-995338651);c=m(c,d,e,f,b[0],6,-198630844);f=m(f,c,d,e,b[7],10,1126891415);e=m(e,f,c,d,b[14],15,-1416354905);d=m(d,e,f,c,b[5],21,-57434055);c=m(c,d,e,f,b[12],6,1700485571);f=m(f,c,d,e,b[3],10,-1894986606);e=m(e,f,c,d,b[10],15,-1051523);d=m(d,e,f,c,b[1],21,-2054922799);c=m(c,d,e,f,b[8],6,1873313359);f=m(f,c,d,e,b[15],10,-30611744);e=m(e,f,c,d,b[6],15,-1560198380);d=m(d,e,f,c,b[13],21,1309151649);c=m(c,d,e,f,b[4],6,-145523070);f=m(f,c,d,e,b[11],10,-1120210379);e=m(e,f,c,d,b[2],15,718787259);d=m(d,e,f,c,b[9],21,-343485551);a[0]=s(c,a[0]);a[1]=s(d,a[1]);a[2]=s(e,a[2]);a[3]=s(f,a[3])}function i(a,b,c,d,e,f){b=s(s(b,a),s(d,f));return s(b<<e|b>>>32-e,c)}function j(a,b,c,d,e,f,g){return i(b&c|~b&d,a,b,e,f,g)}function k(a,b,c,d,e,f,g){return i(b&d|c&~d,a,b,e,f,g)}function l(a,b,c,d,e,f,g){return i(b^c^d,a,b,e,f,g)}function m(a,b,c,d,e,f,g){return i(c^(b|~d),a,b,e,f,g)}function n(a){var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d;for(d=64;d<=a.length;d+=64)h(c,o(a.substring(d-64,d)));a=a.substring(d-64);var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<a.length;d++)e[d>>2]|=a.charCodeAt(d)<<((d&3)<<3);e[d>>2]|=128<<((d&3)<<3);if(d>55){h(c,e);for(d=0;d<16;d++)e[d]=0}e[14]=b*8;h(c,e);return c}function o(a){var b=[],c=0;while(c<64)b[c>>2]=a.charCodeAt(c++)|a.charCodeAt(c++)<<8|a.charCodeAt(c++)<<16|a.charCodeAt(c++)<<24;return b}var p="0123456789abcdef".split("");function q(a){var b="",c=0;for(;c<4;c++)b+=p[a>>(c<<3)+4&15]+p[a>>(c<<3)&15];return b}function r(a){var b=[];for(var c=0;c<a.length;c++)b[c]=q(a[c]);return b.join("")}var s=function(a,b){return a+b&4294967295};function a(a){if(a==null)return null;a=a;for(var b=0;b<a.length;b++)if(a[b]>"\x7f"){a=c("str2rstr")(a);break}return r(n(a))}a("hello")!="5d41402abc4b2a76b9719d911017c592"&&(s=function(a,b){var c=(a&65535)+(b&65535);a=(a>>16)+(b>>16)+(c>>16);return a<<16|c&65535});g["default"]=a}),98);
__d("oz-player/configs/OzPlayerConfigDefaults",[],(function(a,b,c,d,e,f){a={bandwidth_ignore_on_stream_write_samples:!1,bandwidth_use_response_time_adjustment:!1,catchup_use_timeline_range_end_time_as_end:!1,clear_on_seek:!0,debug_live_replay:!1,do_not_end_stream:!1,enable_abr_logging:!1,enable_alternative_audio_tracks:!1,enable_lip_sync_abr_select_quality:!1,enable_managed_media_source:!1,enable_revoke_object_url_on_destroy:!1,fix_live_rewind_user_selected_playback_speed:!0,ignore_reset_after_seek_if_bufferahead:!1,latencymanager_stalled_edgelatency_sec_on:!1,msm_refactor_wait_for_sourceopen:!1,ms_promise_for_null:!1,no_rep_to_switch_fallback_progressive:!1,normalize_mpd_fetch_errors:!0,parse_number_templated_uri:!0,pdash_use_pdash_segmentlocator:!1,playback_speed_latency_adjustment_disabled:!1,player_emit_mpdparsed_early:!1,playhead_manager_buffered_timerange_update_on_timeupdate:!0,playhead_manager_clamp_initial_playback_position:!1,reset_catchup_timeout_after_play_sec_on_overwrite:!0,retry_video_element_error:!0,sidx_parser_memory_optimization:!0,skip_videobuffer_gaps:!0,skip_videobuffer_gaps_on_buffer_updated:!0,use_live_latency_manager:!1,use_scf_timebased_segments:!1,video_cdn_url_refresh:!1,vtt_caption_representation:!0};b={abr_confidence_threshold:.9,abr_eval_buffer_threshold:0,abr_min_bandwidth_samples:0,abr_prevent_down_switch_buffer_threshold:11,abr_restrict_from_index:0,abr_restrict_to_index:0,append_byte_target_without_range:1e5,appends_per_segment:6,auto_seek_playhead_slack:.5,bandwidth_boundary_standard_deviation_factor:1,bandwidth_estimator_half_life:6,bandwidth_estimator_outlier_exclusion_factor:50,bandwidth_estimator_std_dev_penalty_factor:0,bandwidth_header_expire_threshold:0,bandwidth_response_time_handicap:0,bandwidth_ttfb_samples_to_save:5,buffer_ahead_target:22,buffer_target_constraint_append_succeeded_reward:.2,buffer_target_constraint_minimum_sec:2,buffer_target_constraint_quota_exceeded_penalty:.3,byte_count_per_sample:2e5,catchup_timeout_after_buffering_sec:0,catchup_timeout_after_play_sec:0,clear_buffer_around_playhead_boundary_ms:5e3,clear_buffer_on_seek_epsilon_s:0,clear_buffer_on_seek_nudge_s:0,default_bandwidth_estimate:1e6,download_cursor_buffer_ahead_time_max_sec:0,download_cursor_total_buffer_max_sec:0,dvl_initial_segment_ignore_count:1,dvl_update_interval_ms:0,dynamic_mpd_initial_playback_position_offset_modifier:4,initial_manifest_request_retry_count:3,initial_switch_interval:0,in_play_buffer_overflow_target:1,in_play_buffer_underflow_target:.1,latencymanager_stalled_edgelatency_sec:0,live_audio_ibr_bandwidth_percentage:.05,live_numerical_error_epsilon:1e-4,loop_body_handle_error_interval_ms:1,low_buffer_bandwidth_target_increase_factor:0,low_buffer_bandwidth_target_threshold:10,low_segment_stream_playhead_threshold:0,manifest_initial_update_delay_ms:0,manifest_update_frequency_ms:0,max_bandwidth_sample_count:30,maximum_bandwidth_sample_bandwidth:1e8,max_start_eme_attempts:3,min_eval_interval:100,minimum_bandwidth_sample_duration:10,minimum_bytes_to_sample_on_close:25e3,min_switch_interval:100,mpd_updater_network_request_timeout_ms:2e4,ms_promise_for_null_ms:0,network_seg_timeout_ms:0,overwrite_livehead_fall_behind_block_threshold:0,overwrite_live_time_range_block_margin:0,partial_playback_buffer_overflow:.75,paused_stream_segments_count:2,pdash_download_cursor_between_catchups_seg:0,pdash_download_cursor_catchup_threshold_gop_multiplier:0,pdash_download_cursor_catchup_threshold_sec:0,pdash_download_cursor_catchup_tolerance_sec:0,per_stream_duration_target:0,pixels_above_viewport_to_observe:0,pixels_below_viewport_to_observe:0,playback_speed_enabled_delay_sec:4,playback_speed_latency_adjustment_rate:0,playback_speed_latency_slowdown_adjustment_rate:0,playback_speed_latency_speedup_adjustment_rate:0,playback_speed_min_buffer_sec:1,playback_speed_min_duration_sec:2,playback_speed_min_sharpness_factor:3,playback_speed_restore_min_duration_sec:1,playhead_manager_buffered_auto_seek_playhead_slack:.5,playhead_manager_buffered_is_near_gap_threshold:1.5,playhead_manager_buffered_numerical_error:.01,playhead_manager_timeupdate_throttle_ms:1e3,pre_start_buffer_ahead_target:16.924449682236,prioritize_by_viewport_static_penalty:0,recent_buffer_in_play_buffer_overflow_target:3,recent_buffer_timeout_ms:1e4,resolution_constraint_factor:2,seconds_to_stream:10,seconds_to_stream_near_bandwidth_boundary:10,seek_ahead_epsilon:.05,segments_to_stream:5,segments_to_stream_near_bandwidth_boundary:5,segments_to_stream_under_playhead_threshold:0,sidx_segment_retry_attempts:9999,sidx_segment_retry_interval_ms:100,skip_videobuffer_gaps_max_gap_size_sec:0,stale_mpd_buffer_ahead_target:0,start_buffer_underflow_target:.1,steadystate_minbuffer_buckets:0,steadystate_minbuffer_buckets_sec:1,steadystate_minbuffer_sec:0,stream_interrupt_buffer_target_timeout_ms:1e4,stream_interrupt_check_mpd_stale_count_threshold:6,stream_interrupt_in_play_buffer_overflow_target:1,stream_reader_max_buffer_len:0,timeline_offset_threshold:10,time_to_first_byte_estimate_half_life_ms:500,time_to_first_byte_ignore_above_threshold_ms:0};c={bandwidth_estimate_header_key:"",bandwidth_estimate_key:"",block_representation_status_codes_json:"[500, 503]",block_representation_status_codes_temporarily_json:"{}",cdn_experiment_id:"",stream_types_eligible_for_partial_playback:""};e.exports={defaultBools:a,defaultNumbers:b,defaultStrings:c}}),null);
__d("oz-player/configs/OzPlayerConfig",["oz-player/configs/OzPlayerConfigDefaults"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a={}),this.$1=a}var b=a.prototype;b.getBool=function(a){return typeof this.$1[a]==="boolean"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[a]};b.getNumber=function(a){return typeof this.$1[a]==="number"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[a]};b.getString=function(a){return typeof this.$1[a]==="string"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[a]};b.getLegacyConfig=function(){var a=this;return{getBool:function(b,c){return typeof a.$1[b]==="boolean"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[b])!=null?b:c},getNumber:function(b,c){return typeof a.$1[b]==="number"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[b])!=null?b:c},getString:function(b,c){return typeof a.$1[b]==="string"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[b])!=null?b:c}}};return a}();g["default"]=a}),98);
__d("oz-player/configs/OzConfigUtils",["oz-player/configs/OzPlayerConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("oz-player/configs/OzPlayerConfig"))();a=function(a){return{getBool:function(b){return a.getBool(b,h.getBool(b))},getNumber:function(b){return a.getNumber(b,h.getNumber(b))},getString:function(b){return a.getString(b,h.getString(b))},getLegacyConfig:function(){return a}}};g.provideConfigWithDefaults=a}),98);
__d("oz-player/networks/OzClientClock",["oz-player/shims/OzPerformance","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a!==null){a=parseInt(a,10);if(!isNaN(a))return a}return null}a=function(){function a(){this.$1=null,this.$2=0,this.$2=Date.now()-c("oz-player/shims/OzPerformance").now()}var b=a.prototype;b.updateOffsetFromHeaderResponse=function(a,b){var c=h(b.get("x-fb-dynamic-server-wallclock-ms"));b=h(b.get("x-fb-dynamic-rtt-ms"));a=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(a);if(c!==null&&b!==null&&a!=null&&(a.responseStart>0&&a.duration>10)){a=a.requestStart+this.$2;c=c-a-b/2;this.$1=c}};b.now=function(){var a;return c("oz-player/shims/OzPerformance").now()+this.$2+((a=this.$1)!=null?a:0)};b.getClientClockOffsetMs=function(){return this.$1};return a}();b=new a();g["default"]=b}),98);
__d("oz-player/networks/OzClockSyncNetworkRequestStreamHandler",["oz-player/networks/OzClientClock","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.onResponse=function(a,b){var d=a.headers;if(!d)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){c("oz-player/networks/OzClientClock").updateOffsetFromHeaderResponse(b,d)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplFunction",["CometThrottle","ConstUriUtils","Deferred","FBLogger","JSResourceForInteraction","NetworkStatus","OzActiveActiveFailoverNetworkRequestStreamHandler","OzBufferVTTCaptionsVisibleStrategy","OzCDNSignedQueryParams","OzCustomParsers","OzCustomRepresentationParsers","OzOneSemanticHandler","OzOneSemanticHandlerUtils","OzPredictedSegmentTimelineParser","OzVideoLiveTraceNetworkRequestStreamHandler","Promise","QE2Logger","TimeRanges","VideoPlayerConnectionQuality","VideoPlayerImplementationErrors","VideoPlayerODS","VideoPlayerOzImplementationEnginePartsImplUtils","clearTimeout","cr:1836099","cr:1871597","cr:1947728","cr:1993377","getErrorSafe","getOzPlaybackRestrictions","gkx","md5","oz-player/configs/OzConfigUtils","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzClockSyncNetworkRequestStreamHandler","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("JSResourceForInteraction")("VideoPlayerEmsg").__setRef("VideoPlayerOzImplementationEnginePartsImplFunction"),j=1e4,k=null,l=null;b("cr:1836099")&&(k=b("cr:1836099").getHiveConfig(),l=b("cr:1836099").HiveOz);function a(a){var e,f=a.OzPlayerClass,g=a.callChain,m=a.destroyOzPlayerPartsRef,n=a.engineDebugAPI,o=a.engineExtrasAPI,p=a.getCaptionsInfo,aa=a.getLatencyLevelManager,q=a.getVideoLiveTrace,r=a.handleCaptionsInfoChange,ba=a.handleFatalImplementationError,s=a.hivePluginRef,t=a.initialProps,u=a.loggerToVPL,v=a.machine,w=a.overrideOzRequestImplementationRef,x=a.ozBufferingDetectorRef,y=a.ozPlayerRef,z=a.p2pSessionLoggerRef,ca=a.playerFormatForDPLRef,A=a.playerVersion,B=a.resolvedVideoInfo,C=a.videoElement,D=a.videoElementAPI,E={current:!1},F={current:null},G={current:null};m.current=function(a){var b=x.current;b&&(x.current=null,b.destroy());b=y.current;if(b){n&&n.handleOzPlayerChanged(null,D);y.current=null;try{b.destroy([].concat(a,["destroyOzPlayerParts"]).join(":"))}catch(a){c("FBLogger")("comet_video_player").catching(a).mustfix("Error in ozPlayer.destroy: %s",String(a))}}b=F.current;b&&(F.current=null,b());G.current&&(G.current=null);Z();s.current&&(s.current=null);z.current&&(z.current=null);w.current&&(w.current=null)};a=B.accessToken;m=B.audioOnly;var H=B.experimentationConfig,I=B.graphQLVideoDRMInfo,J=B.graphQLVideoP2PSettings,K=B.manifestUrl,da=B.manifestXmlStringResolved,ea=B.minQualityPreference,fa=B.ozPrefetchCache,L=B.videoFBID,M=t.coreVideoPlayerMetaData.loggingConfig,N=M.disableLogging===!0?null:B.VideoPlayerShakaPerformanceLoggerClass,O=Boolean(t.coreVideoPlayerMetaData.isLiveStreaming),P=Boolean((e=t.coreVideoPlayerMetaData.isClientTriggeredTraceEnabled)!=null?e:!1),Q=function(a){return o.getEstimatedBandwidth()};e=function(){return o.getApproximateFBLSToPlayerDisplayLatency()};var ga=function(){H.setContext("connection_quality",d("VideoPlayerConnectionQuality").evaluate(function(){return Q(O)}))},R=function(){var a=H.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return null;var b=c("CometThrottle")(ga,a),d=c("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",b);return function(){d.remove(),b.cancel()}};F.current=R();R=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzDrmProviders({accessToken:a,graphQLVideoDRMInfo:I,videoFBID:L});I=function(){return v.getCurrentState().controlledState.captionsVisible};var S=[];H.getBool("use_vtt_captions_visible_buffer_strategy",!0)&&S.push(new(c("OzBufferVTTCaptionsVisibleStrategy"))(I));I=function(){return v.getCurrentState().controlledState.dimensions};var T=function(){var a;return(a=ca.current)!=null?a:"unknown"};a=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzPerfLoggerProviders({VideoPlayerShakaPerformanceLoggerClass:N,accessToken:a,disableLogging:M.disableLogging===!0,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:Q,getPlayerDimensions:I,getPlayerFormat:T,playbackIsLiveStreaming:O,playerInstanceCount:t.loggingMetaData.playerImplementationInstanceCountRef.current,playerInstanceKey:t.loggingMetaData.instanceKey,playerSuborigin:t.coreVideoPlayerMetaData.subOrigin,playerVersion:A,videoElement:C,videoFBID:L,videoPlayerShakaPerformanceLoggerBuilder:B.videoPlayerShakaPerformanceLoggerBuilder});G.current==null&&(G.current=new(c("OzCDNSignedQueryParams"))());if(J&&L!=null){M=J.community_info;e=J.config;T=J.hive_initialization_options;B=z.current=(A=z.current)!=null?A:b("cr:1871597")?new(b("cr:1871597"))(L,M):null;try{if(!s.current){B&&B.logEnableP2P();A=function(a){z.current&&z.current.logHiveError(a)};M=function(b){var a=y.current;a&&a.injectExternalDebugEvent("P2PTech",b.tech);z.current&&z.current.logSessionActive(b.tech)};var U=function(b){var a=y.current;a&&a.injectExternalDebugEvent("P2PStats",b);z.current&&z.current.setCurrentHiveStats(b)},V=function(a){a=a.state;var b=v.getCurrentState();b=b.controlledState;b=b.playbackState;if(s.current&&a==="CLOSED"){Z();a=y.current;a&&b!=="ended"&&(E.current&&K!=null?a.updatePlayerRunTimeConfig({manifestUrl:K}):a.load(K))}};U={HiveJava:{},HiveJS:{maximumTrimming:{dash:void 0,hls:void 0},renderStatsCallback:U},debugLevel:"off",hiveTechOrder:["HiveJS","StatsJS","HiveJava"],onActiveSession:M,onError:A,onSessionStateChange:V,telemetryId:B?B.getSessionID():0};M=H.getNumber("hive_maximum_trimming_seconds",0);M>0&&(U.HiveJS.maximumTrimming={dash:M,hls:M});if(T){A=T.HiveJava;V=T.debugLevel;M=T.hiveTechOrder;U.hiveTechOrder=M.slice();U.HiveJava=A?{minVersion:A.minVersion}:{};U.debugLevel=V!=null?V:U.debugLevel}if(e.disable_hivejava_for_livevc===!0&&K!=null&&K.startsWith("https://livestream-lookaside")){T=U.hiveTechOrder.indexOf("HiveJava");T>=0&&U.hiveTechOrder.splice(T,1)}if(k)k.SensitiveInfo.restrictedConnectivityInfo=!0;else throw c("unrecoverableViolation")("HiveConfig does not exist","comet_video_player");if(l)s.current=new l(U);else throw c("unrecoverableViolation")("HiveOz does not exist","comet_video_player");if(s.current){if(!b("cr:1947728"))throw c("unrecoverableViolation")("OzConfigurableRequestImplementation does not exist","comet_video_player");w.current=b("cr:1947728")(s.current.getRequestImplementation(),{inferResponseStatusIsOK:!0,inferResponseStatusIsOk2xx:!1})}}}catch(a){B&&B.logError(a),Z()}}M=[new(c("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b,c){var d=q();d!=null&&d.handleHeadersAndBody(a,b,c)},H.getBool("live_trace_parse_emsg",!1)),new(c("oz-player/networks/OzClockSyncNetworkRequestStreamHandler"))()];c("OzActiveActiveFailoverNetworkRequestStreamHandler")&&M.push(new(c("OzActiveActiveFailoverNetworkRequestStreamHandler"))(function(b,c){var a=y.current,e=b.headers;if(a&&e){e=parseInt(e.get("x-fb-video-replica"),10);u.logVPLEvent({eventType:"replica_switch",logDataOverrides:{error_code:b.status.toString(),error_user_info:JSON.stringify({failover_response_code:b.status.toString(),replica:e,url:c})},state:v.getCurrentState()});b=a.getMpdUrl();if(b!=null){c=d("ConstUriUtils").getUri(b);if(c){b=c.addQueryParam("replica",e);b&&(Z(),a.updatePlayerRunTimeConfig({manifestUrl:b.toString(),resetStreamAnchor:!0}))}}}}));var ha=t.coreVideoPlayerMetaData.expiredVideoUrlRefreshHandler,ia=t.loggingMetaData.instanceKey;A=c("gkx")("24353");V=c("gkx")("24354")||c("gkx")("24355");var ja=O?A:V;e=c("gkx")("4927");H.getBool("log_exposure_on_oz_initialization",!1)&&d("QE2Logger").logExposureForUser("www_videos_html5_mpeg_dash");U={audioOnly:m!=null?m:!1,bufferEndLimit:t.coreVideoPlayerMetaData.bufferEndLimit!=null?t.coreVideoPlayerMetaData.bufferEndLimit:null,bufferingDetector:(T=x.current)!=null?T:void 0,config:d("oz-player/configs/OzConfigUtils").provideConfigWithDefaults(H),configureCustomRequestParametersForSegment:function(a){var b=null;if(O&&P){var d=a.getByteRange();d=d?d.startByte+", "+(d.endByte!=null?d.endByte:"null"):"null";a=c("md5")(a.getURI().toString()+d);b=b!=null?b:{};a!=null&&(b=babelHelpers["extends"]({},b,{_nc_tsid:a}));b=babelHelpers["extends"]({},b,{_nc_e2e:"live"})}return b},customParsers:d("OzCustomParsers").createOzCustomParser(),customRepresentationParsers:d("OzCustomRepresentationParsers").createOzCustomRepresentationParsers({ozConfig:H}),customSegmentTimelineParser:H.getBool("enable_predictive_dash",!1)?new(c("OzPredictedSegmentTimelineParser"))():void 0,customVTTBufferTargetStrategies:S,debugCreateInitiator:[].concat(g,["proceedWithOzPlayerCreation"]).join(":"),drmProviders:R,getCustomRequestParametersForURI:function(a){return d("VideoPlayerOzImplementationEnginePartsImplUtils").getCustomRequestParametersForURI(a,{experimentationConfig:H,getCurrentVideoRepresentation:function(){var a=y.current;return a==null?void 0:a.getCurrentVideoRepresentation()},getOzCDNSignedQueryParams:function(){return G.current},isClientTriggeredTraceEnabled:P,playbackIsLiveStreaming:O,playbackSessionId:ia,shouldRefresh403:ja})},getOverrideOzRequestImplementation:function(){return w.current},getShouldIncludeCredentials:H.getBool("use_oz_credentials_provider",!1)?d("VideoPlayerOzImplementationEnginePartsImplUtils").checkShouldIncludeCredentials:null,getUserSelectedPlaybackRate:function(){return v.getCurrentState().controlledState.targetPlaybackRate},getVideoDimensions:I,initialPlaybackPositionForDynamicMpd:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateInitialPlaybackPositionForDynamicMpd(H,t.coreVideoPlayerMetaData.desiredLatencyMs),initialRepresentationIDs:t.coreVideoPlayerMetaData.initialRepresentationIds,isClientTriggeredTraceEnabled:P,liveheadFallBehindBlockMargin:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockMargin(H,t.coreVideoPlayerMetaData.desiredLatencyMs),liveheadFallBehindBlockThreshold:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockThreshold(H,t.coreVideoPlayerMetaData.desiredLatencyMs,t.coreVideoPlayerMetaData.latencyToleranceMs),loggerConfig:{isOzDevConsoleEnabled:c("gkx")("24356"),observedOperationLoggers:[],perfLoggerProviders:a},mpdUrl:K,networkRequestFetchPriority:c("gkx")("10971")||c("gkx")("11761")?"high":"auto",networkRequestStreamHandlers:M,networkRequestStreamRetryHandler:ja?function(a,d,e){var f=a.headers,g=f==null?void 0:f.get("x-fb-url-refresh"),i=G.current;if(a.status===403&&i!=null){u.logVPLEvent({eventType:"video_cdn_url_expired",logDataOverrides:{error_user_info:JSON.stringify({expired_url:e})},state:v.getCurrentState()});var j=g!=null&&b("cr:1993377")!=null?{name:"refreshShortExpiryVideoUrl",promise:b("cr:1993377")(g)}:ha!=null?{name:"expiredVideoUrlRefreshHandler",promise:ha(e)}:null;if(j!=null)return j.promise.then(function(a){var b;b=(b=a.refreshedUrl)!=null?b:null;a=(a=a.reason)!=null?a:null;if(b!=null&&b!==""){u.logVPLEvent({eventType:"video_cdn_url_refreshed",logDataOverrides:{error_user_info:JSON.stringify({refresh_handler:j.name,refreshed_url:b})},state:v.getCurrentState()});i.update(b);return d(b)}else throw c("unrecoverableViolation")(j.name+" refreshedUrl is "+(b===""?"an empty string":"null")+", reason: "+(a!=null?a:"null"),"comet_video_player")})["catch"](function(a){a=c("getErrorSafe")(a);u.logVPLEvent({eventType:"video_cdn_url_refresh_error",logDataOverrides:{error_description:a.message,error_user_info:JSON.stringify({expired_url:e,refresh_handler:j.name,refresh_url:g})},state:v.getCurrentState()});throw a})}return(h||(h=b("Promise"))).resolve(a)}:null,networkRequestUrlRefreshHandler:e?t.coreVideoPlayerMetaData.expiredVideoUrlRefreshHandler:null,prefetchCache:H.getBool("use_prefetch_cache",!1)?fa:null,rawMpdXml:s.current?void 0:da,seekHandler:null,setCustomFetchStreamLoggingAttributes:function(a,b,e){a.setIsOnline(c("NetworkStatus").isOnline());var f=e==null?void 0:e.headers;if(f)try{a.setProxyStatusHeader(f.get("proxy-status")),a.setDynamicStatusHeader(f.get("x-fb-dynamic-status"))}catch(a){}d("OzOneSemanticHandlerUtils").setOneSemanticFetchStreamLoggingAttributes(a,b,e)},shouldBlockStatusCode5xx:!O,startTimeStamp:H.getBool("fix_start_timestamp",!1)?t.coreVideoPlayerMetaData.startTimestamp:0,userPreferenceLang:t.initialAudioUserPreferredLanguage,videoAbrManagerFactory:d("VideoPlayerOzImplementationEnginePartsImplUtils").getVideoAbrManagerFactory(O),videoNode:C,videoPlaybackRestrictions:c("getOzPlaybackRestrictions")(ea,H)};var W=new f(U);y.current=W;x.current&&x.current.attachPerfLoggerProvider(W.getPerfLoggerProvider());B=t.loggingMetaData.playerImplementationInstanceCountRef;B.current++;W.onError(function(a){N&&N.flushQueuedLogs(),ba(a,"oz_player_error")});c("gkx")("24360")&&W.onWarning(function(a){N&&N.flushQueuedLogs();a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(a,"oz_player_warning");v.dispatch({payload:{warningError:a},type:"implementation_warning"})});W.addListener("switchVideoRepresentation",function(){v.dispatch({payload:{},type:"representation_changed"})});var ka=function(a){if(H.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(a,"oz_player_stream_error_retry");v.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}};W.addListener("manifestFetchError",function(a){d("OzOneSemanticHandler").handleManifestFetchErrorEvent(H,a)});W.addListener("manifestFetchErrorRetry",function(a){ka(a)});W.addListener("streamError",function(a){return d("OzOneSemanticHandler").handleStreamErrorEvent(H,a)});W.addListener("streamErrorRetry",function(a){var b;(((b=a.getExtra())==null?void 0:b.mimeType)!=="application"||H.getBool("enable_era_logging_for_application_stream",!0))&&ka(a)});W.addListener("streamInterruptAt",function(){v.dispatch({type:"stream_interrupted"})});W.addListener("streamResumedAt",function(){v.dispatch({type:"stream_resumed"})});W.addListener("streamGoneBeforeStart",function(){Z(),v.dispatch({type:"stream_gone_before_start"})});W.addListener("streamEnd",function(){Z(),v.dispatch({type:"stream_ended"})});W.addListener("videoNodeErrorRetry",function(a){if(H.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationVideoNodeError(a,"oz_player_stream_error_retry");v.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}});W.addListener("enterBuffering",function(a){v.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})});W.addListener("leaveBuffering",function(a){v.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})});n&&n.handleOzPlayerChanged(W,D);var la=function(){var a=p();a={inbandCaptionsAutogeneratedFromManifest:o.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:o.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:o.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps};var b=v.getCurrentState();b=b.controlledState;(a.inbandCaptionsExpectedFromManifest!==b.captionsLoaded||a.inbandCaptionsAutogeneratedFromManifest!==b.inbandCaptionsAutogenerated)&&r(a)},ma=function(a,b){a=a.getCustomField("timescale");a=typeof a==="number"?a:0;v.dispatch({payload:{timescale:a,videoBytes:b},type:"cea608_bytes_received"})},na=function(){var a=o.getVideoRepresentations();if(a!=null&&a.length>0){a=a[0].getTimeRanges();if(a!=null&&a.length>0){var b=a[0].startTime;a=Math.max(a[a.length-1].endTime-H.getNumber("live_rewind_seek_to_live_delta",8),b);v.dispatch({payload:{seekableRanges:new(c("TimeRanges"))([{endTime:a,startTime:b}])},type:"seekable_ranges_changed"})}}},oa=function(){var a=W.getMpd();if(!a)return;a=a.getCustomField("loapStreamType");var b=q();typeof a==="number"&&b!=null&&b.setStreamType(a)},X=function(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("lvp");return a==="1"}}return!1},pa=function(a){var b=function(){na(),la(),oa()};a.addListener("updated",b);b();var e=[],f=function(a){u.logVPLEvent({eventType:"imf",logDataOverrides:a,state:v.getCurrentState()})},g=function(a,b,c){a=a.parseEmsgBoxesFromMP4Segment;a=a(c,L,b.getID(),C.currentTime,f);a.length>0&&v.dispatch({payload:{emsgBoxes:a},type:"emsg_boxes_parsed"})},h=function(a){var b=e.shift();while(b)g.apply(void 0,[a].concat(b)),b=e.shift()};W.updatePlayerRunTimeConfig({audioStreamDataHandler:function(){var a=v.getCurrentState();if(a.controlledState.emsgObserverTokens.size>0){var b=i.getModuleIfRequireable();for(var d=arguments.length,f=new Array(d),j=0;j<d;j++)f[j]=arguments[j];b!=null?(h(b),g.apply(void 0,[b].concat(f))):(e.push(f),i.load().then(function(a){h(a)})["catch"](function(a){c("FBLogger")("comet_video_player").catching(c("getErrorSafe")(a)).warn("Failed to load VideoPlayerEmsg"),e.length=0}))}},videoStreamDataHandler:ma});if(o.isPredictiveDash()){H.setContext("streaming_implementation","pdash");a=aa();a&&a.maybeUpdateLatencyLevel()}b="mos";a=H.getBool("is_csvqm_enabled",!1);if(a&&!O){a=o.getVideoRepresentations();a=a==null?void 0:a.every(function(a){return a.getQualityScoreCurveString("csvqm")!=null});a===!0&&(b="csvqm")}H.setContext("quality_score_type",b);d("VideoPlayerODS").bumpEntityKey("comet_video_player",b==="csvqm"?"OzImplementation.quality_score_type_csvqm":"OzImplementation.quality_score_type_mos",14);a=p();r({inbandCaptionsAutogeneratedFromManifest:o.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:o.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:o.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps})};W.addListener("vttCaptionsUpdated",function(a,b){var c="webvtt",d=v.getCurrentState().controlledState.captionFormat;c!==d&&v.dispatch({payload:{captionFormat:c},type:"controller_set_caption_format_requested"});v.dispatch({payload:{activeCaptions:a,captionsLocale:b},type:"controller_set_active_captions_requested"})});W.addListener("mpdParsed",function(a){o.isPredictiveDash()&&H.setContext("streaming_implementation","pdash")});W.addListener("mpdReady",function(a){E.current=!0,pa(a),v.dispatch({payload:{selectedVideoQuality:o.getUserSelectedVideoQuality()},type:"implementation_engine_initialized"})});W.addListener("representationBlocked",function(a){v.dispatch({payload:{blockedRepresentationID:a},type:"implementation_engine_representation_blocked"})});var Y=null;function Z(){c("clearTimeout")(Y);var a=s.current,b=z.current;if(a!=null){s.current=null;z.current=null;w.current=null;try{a&&a.closeHiveSession(),b&&b.logEndSession()}catch(a){b&&b.logHiveError(a)}}}A=s.current;V=J==null?void 0:J.ticket;if(K!=null&&J&&A&&V!=null){m=W.getPerfLoggerProvider();m&&m.setIsP2pPlayback(!0);T=K.substring(K.indexOf("?"));S=A.initSession(V+T,W,C);var $=new(c("Deferred"))();j>0&&(Y=c("setTimeout")(function(){$.reject(new Error("Hive initialization timed out after "+j+"ms"))},j));S.then(function(a){$.resolve(a)})["catch"](function(a){$.reject(a)});$.getPromise().then(function(a){c("clearTimeout")(Y);var b=a.manifest;a=a.tech;var d=z.current;b!==K&&d&&d.logManifestMismatch(b,K);d&&d.logSessionInit(a,b);u.setLoggingToVPLAdditionalData("is_p2p_playback",!0);u.setLoggingToVPLAdditionalData("is_live_preview",X(b));W.load(b)})["catch"](function(a){c("clearTimeout")(Y);var b=z.current;b&&b.logError(a);Z();u.setLoggingToVPLAdditionalData("is_live_preview",X(K));W.load(K)})}else u.setLoggingToVPLAdditionalData("is_p2p_playback",!1),u.setLoggingToVPLAdditionalData("is_live_preview",X(K)),W.load(K)}g.proceedWithOzPlayerCreation=a}),98);
__d("VideoPlayerOzImplementationLatencyLevelManager",[],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$2="normal",this.$4=null,this.$1=a,this.$3=b,this.$6=c}var b=a.prototype;b.updatePlayerFormat=function(a){this.$4!==a&&(this.$4=a,this.maybeUpdateLatencyLevel())};b.updateBroadcastLatencySensitivity=function(a){this.$5!==a&&(this.$5=a,this.maybeUpdateLatencyLevel())};b.maybeUpdateLatencyLevel=function(){var a=this.$7(this.$5);a!==this.$2&&(this.$2=a,this.$1.getBool("set_latency_context_immediately",!1)&&this.$1.setContext("latency_level",a),this.$3.dispatch({payload:{latencyLevel:a,ullIneligibilityReason:this.$8()},type:"implementation_set_latency_level_requested"}))};b.$8=function(){var a=this.$1.getNumber("ultra_low_latency_bandwidth_threshold",0),b=this.$6.getEstimatedBandwidth();return b!==null&&a>0&&b<a?"low_bandwidth_estimate":null};b.$7=function(a){if(a==null)return"normal";switch(a){case 1:return"low";case 2:return this.$8()!==null?this.$1.getBool("fall_back_to_low_latency_in_ull",!1)?"low":"normal":"ultra-low";case 0:return"normal"}};return a}();g["default"]=a}),98);
__d("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferredForDisplay")("oz-player").__setRef("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay");function a(){return{getModuleIfRequireable:function(){return h.getModuleIfRequireable()||null},load:function(){return h.load()}}}g["default"]=a}),98);
__d("VideoPlayerOzImplementationEngine",["CometDASHPrefetchCacheManager","ErrorMetadata","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerImplementationLoadSequenceManager","VideoPlayerODS","VideoPlayerOzImplementationEngineExtrasAPI","VideoPlayerOzImplementationEnginePartsImplFunction","VideoPlayerOzImplementationEnginePartsImplUtils","VideoPlayerOzImplementationLatencyLevelManager","VideoPlayerOzPlayerModuleLoaderDeferredForDisplay","cr:1157","err","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";e=!1;function a(a){var e=a.initialProps,f={current:null},g={current:null},h={current:null},i={current:null},j={current:null},k={current:null},l={current:null},m={current:null},n={current:null},o={current:null},p={current:null},q={current:null},r={current:null},s={current:null};function t(){var a;return(a=l.current)!=null?a:null}function u(){var a;return(a=k.current)!=null?a:null}function v(){var a;return(a=(a=g.current)==null?void 0:a.experimentationConfig)!=null?a:null}function w(){var a;return(a=U.current)!=null?a:null}function x(){var a;return(a=r.current)!=null?a:null}var y;b("cr:1157")&&(y=new(b("cr:1157"))());var z="comet_oz",A=e.loggingMetaData.instanceKey,B=function(a,b){return b.manifestXmlStringInitial!==null?a.manifestXmlStringInitial!==b.manifestXmlStringInitial:a.manifestUrl!==b.manifestUrl},C=function(a,b){return a.videoFBID!==b.videoFBID},D=function(a){return a.getBool("use_full_player_if_cached",!1)&&c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")?c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")().getModuleIfRequireable():null},E=function(a,b,c){b!=null?g.current=babelHelpers["extends"]({},a,{manifestXmlStringResolved:b}):g.current=a,T.dispatch({type:"implementation_engine_oz_manifest_downloading"}),j.current=D(a.experimentationConfig),H(j.current,[].concat(c,["proceedWithOzManifestDownloading"]))},F=function(a){var b,e,g=a.manifestUrl,h=a.manifest,i=null;c("CometDASHPrefetchCacheManager")&&(a.coreVideoPlayerMetaData.videoFBID!=null&&(i=c("CometDASHPrefetchCacheManager").get(a.coreVideoPlayerMetaData.videoFBID)));i={VideoPlayerShakaPerformanceLoggerClass:a.coreVideoPlayerMetaData.VideoPlayerShakaPerformanceLoggerClass,accessToken:a.loggingMetaData.accessToken,audioOnly:a.coreVideoPlayerMetaData.audioOnly,experimentationConfig:a.experimentationConfig,graphQLVideoDRMInfo:a.coreVideoPlayerMetaData.graphQLVideoDRMInfo,graphQLVideoP2PSettings:a.coreVideoPlayerMetaData.graphQLVideoP2PSettings,initialAudioUserPreferredLanguage:a.initialAudioUserPreferredLanguage,manifestUrl:g!=null?g:null,manifestXmlStringInitial:h!=null?h:null,minQualityPreference:a.minQualityPreference,ozPrefetchCache:i,videoFBID:a.coreVideoPlayerMetaData.videoFBID,videoPlayerShakaPerformanceLoggerBuilder:a.coreVideoPlayerMetaData.videoPlayerShakaPerformanceLoggerBuilder};var j=f.current;b=(b=r.current)!=null?b:new(c("VideoPlayerOzImplementationLatencyLevelManager"))(a.experimentationConfig,T,M);r.current=b;s.current=(e=a.coreVideoPlayerMetaData.playerFormat)!=null?e:null;b.updatePlayerFormat((e=a.coreVideoPlayerMetaData.playerFormat)!=null?e:null);b.updateBroadcastLatencySensitivity(a.coreVideoPlayerMetaData.broadcastLatencySensitivity);e=!1;if(j==null)e=!0;else if(j!=null&&!C(i,j)&&B(i,j)){b=14;d("VideoPlayerODS").bumpEntityKey("OzImplementation","manifest_reloaded",b);e=!1}else if(j!=null&&C(i,j)){var k;b=c("err")("videoFBID changed after player initialization: %s",JSON.stringify({subOrigin:a.coreVideoPlayerMetaData.subOrigin,toVideoFBID:i.videoFBID}));b.name="VideoPlayerOzImplementationVideoFBIDChanged";k=(k=b.metadata)!=null?k:new(c("ErrorMetadata"))();j.videoFBID!=null&&k.addEntry("COMET_VIDEO","VIDEO_ID",j.videoFBID);b.metadata=k;b.project="comet_video_player";throw b}if(!e)return!1;g=i.manifestUrl;h=i.manifestXmlStringInitial;if(h==null&&g==null){j=c("err")("Empty manifestXmlStringInitial and manifestUrl: %s",JSON.stringify({manifestUrl:g,manifestXmlStringInitial:h,subOrigin:a.coreVideoPlayerMetaData.subOrigin}));j.name="VideoPlayerOzImplementationManifestEmpty";b=(k=j.metadata)!=null?k:new(c("ErrorMetadata"))();i.videoFBID!=null&&b.addEntry("COMET_VIDEO","VIDEO_ID",i.videoFBID);j.metadata=b;j.project="comet_video_player";throw j}f.current=i;E(i,h,["handleVideoInfoChangeForOzImplementation","downloadManifestInOz"]);return!0},G=function(a,b){var d=function(c){if(i.current!==a)return;j.current=c;H(c,[].concat(b,["handleOzPlayerModuleLoadSuccess"]))},e=function(b){if(i.current!==a)return;R(b,"oz_player_module_load_failed")};i.current=a;c("promiseDone")(a,d,e)},H=function(a,b){var e=O(),f=g.current;if(e==null||f==null)return;var h=c("gkx")("18183")?d("VideoPlayerImplementationEngineAPI").ensureVideoElementAPI(U):U.current=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(e),i=f.experimentationConfig;a?I(a,e,h,f,[].concat(b,["proceedWithResolvedVideoInfo","OzPlayerModuleFromRef"])):c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")?(i.getBool("instantiate_buffering_detector_before_quick_starter",!1)&&d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(e,h,f.experimentationConfig,T,l,S),G(c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")().load(),[].concat(b,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderAsync"]))):R(new Error("Neither of OzPlayerModuleLoader is available."),"oz_player_module_loaders_missing")},I=function(a,b,f,g,i){try{var j={OzPlayerClass:a,callChain:[].concat(i,["proceedWithResolvedVideoInfoAndOzPlayerModuleSync"]),destroyOzPlayerPartsRef:q,engineDebugAPI:y,engineExtrasAPI:M,getCaptionsInfo:N,getLatencyLevelManager:x,getVideoLiveTrace:P,handleCaptionsInfoChange:Q,handleFatalImplementationError:R,initialProps:e,loggerToVPL:S,machine:T,ozBufferingDetectorRef:l,playerFormatForDPLRef:s,playerVersion:z,resolvedVideoInfo:g,videoElement:b};a=v();i=e.coreVideoPlayerMetaData.loadSequence;a&&a.getNumber("load_sequence_max_delay_ms",0)>0&&i!=null?p.current=c("VideoPlayerImplementationLoadSequenceManager").schedule(a,i,function(){d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},j,{hivePluginRef:m,overrideOzRequestImplementationRef:o,ozPlayerRef:k,p2pSessionLoggerRef:n,videoElementAPI:f}));return f.getCanPlayPromise()}):d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},j,{hivePluginRef:m,overrideOzRequestImplementationRef:o,ozPlayerRef:k,p2pSessionLoggerRef:n,videoElementAPI:f}));h.current=g}catch(a){R(a,"oz_player_create_exception")}};function J(a){var b=q.current;b!=null&&(q.current=null,b(a));p.current!=null&&(p.current(),p.current=null)}function K(){return}function L(){i.current=null,j.current=null}var M=d("VideoPlayerOzImplementationEngineExtrasAPI").createVideoPlayerOzImplementationEngineExtrasAPI({getConfig:v,getOzPlayer:u,getVideoElementAPI:w});w=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({createDebugAPI:function(b){var a=b.getVideoElementAPI;b=b.loggerToVPL;return y?y.createDebugAPI({engineExtrasAPI:M,getConfig:function(){var a;return(a=(a=h.current)==null?void 0:a.experimentationConfig)!=null?a:null},getManifest:function(){var a;return(a=(a=h.current)==null?void 0:a.manifestXmlStringResolved)!=null?a:null},getManifestUrl:function(){var a;return(a=(a=h.current)==null?void 0:a.manifestUrl)!=null?a:null},getOzBufferingDetector:t,getOzPlayer:u,getVideoElementAPI:a,loggerToVPL:b}):null},createVideoPlayerError:d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError,destroyEngineParts:function(a){J([].concat(a,["destroyEngineParts"])),K(),L()},engineCreateArgs:a,engineExtrasAPI:M,engineMetadata:{isAbrEnabled:!0,playerInstanceKey:A,playerVersion:z,streamingFormat:"dash"},handleVideoElementChanged:function(a,b){a!=null&&H(j.current,[].concat(b,["handleVideoElementMounted"]))},handleVideoInfoChange:F});a=w.debugLog;A=w.engine;var N=w.getCaptionsInfo,O=w.getVideoElement,P=w.getVideoLiveTrace,Q=w.handleCaptionsInfoChange,R=w.handleFatalImplementationError,S=w.loggerToVPL,T=w.machine,U=w.videoElementAPIRef;return A}g.createVideoPlayerOzImplementationEngine=a}),98);
__d("VideoPlayerOzImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerOzImplementationEngine"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerOzImplementationEngine").createVideoPlayerOzImplementationEngine);a=a.reactVideoFrameAndComponents;return a}g["default"]=a}),98);
__d("VideoPlayerShakaConfigContextProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.setContext=function(a,b){if(this.$1[a]!==b){var c;this.$1=babelHelpers["extends"]({},this.$1,(c={},c[a]=b,c))}};b.setAllContexts=function(a){this.$1=a};b.getAllContexts=function(){return this.$1};return a}();f["default"]=a}),66);
__d("VideoPlayerShakaConfig",["VideoPlayerContextSensitiveConfigResolver","VideoPlayerShakaConfigContextProvider"],(function(a,b,c,d,e,f,g){var h={};a=function(){function a(a,b,d){this.$1=new(c("VideoPlayerShakaConfigContextProvider"))(),this.$2=b||null,this.$3=new(c("VideoPlayerContextSensitiveConfigResolver"))(d),this.$3.setContexts(a||{}),a&&this.$1.setAllContexts(a)}a.setGlobalOverrideConfig=function(a){h=a};var b=a.prototype;b.setContext=function(a,b){var c=this.$1.getAllContexts();this.$1.setContext(a,b);a=this.$1.getAllContexts();c!==a&&this.$3.setContexts(a)};b.setOverrideConfig=function(a){this.$2=a};b.getBool=function(a,b){a=this.$4(a,b);return typeof a==="boolean"?a:b};b.getNumber=function(a,b){a=this.$4(a,b);return typeof a==="number"?a:b};b.getString=function(a,b){a=this.$4(a,b);return typeof a==="string"?a:b};b.getAllContexts=function(){return this.$1.getAllContexts()};b.$4=function(a,b){if(!!h&&typeof h[a]===typeof b)return h[a];if(typeof this.$3.getValue(a)===typeof b)return this.$3.getValue(a);return!!this.$2&&typeof this.$2[a]===typeof b?this.$2[a]:null};return a}();g["default"]=a}),98);
__d("getPolarisOzConfigValues",["PolarisMobileOzConfigDefaults","PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b={},c;({});c=babelHelpers["extends"]({},d("PolarisMobileOzConfigDefaults").defaultBools,d("PolarisMobileOzConfigDefaults").defaultNumbers,d("PolarisMobileOzConfigDefaults").defaultStrings);return babelHelpers["extends"]({},a,b,c)}function i(a){return babelHelpers["extends"]({},a)}function a(){var a={oz_www_use_src_object_for_media_source:!0,oz_www_use_systemic_risk_abr:!0};return d("PolarisUA").isMobile()?h(a):i(a)}g["default"]=a}),98);
__d("oz-player/shims/www/OzXmlParserTrustedTypesHTMLPolicyWWW",["TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";b={createHTML:function(a){if(a.startsWith('<?xml version="1.0"?>\n<')||a.startsWith('<?xml version="1.0" encoding="UTF-8"?>\n<')||a.startsWith('\n<MPD xmlns="urn:mpeg:dash:schema:mpd:2011"'))return a;throw c("err")("Violating Trusted Type policies. Only works for XML.")}};var h=c("TrustedTypes").createPolicy("oz-player-xml",b);function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.createHTML.apply(h,[a].concat(c))}g.createTrustedHTMLForDOMParser=a}),98);
__d("polarisManifestHasUnsupportedCodecs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b="mse");if(b==="mmse"&&window.ManagedMediaSource==null||b!=="mmse"&&window.MediaSource==null||a==null||typeof a!=="string")return!1;var c=/mimeType=\"([^\"]*)\"\s*codecs=\"([^\"]*)\"/g,d;while(d=c.exec(a)){d=d[1]+'; codecs="'+d[2]+'"';if(b==="mmse"){if(!window.ManagedMediaSource.isTypeSupported(d))return!0}else if(!window.MediaSource.isTypeSupported(d))return!0}return!1}f["default"]=a}),66);
__d("shouldUseOzOnPolaris",["InstagramODS","PolarisVideoUA","memoizeWithArgs","polarisManifestHasUnsupportedCodecs"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var e;d("PolarisVideoUA").doesPlatformSupportDash()||(e="oz_player_browser_version_failed");c("polarisManifestHasUnsupportedCodecs")(a,b)&&(e="oz_player_manifest_has_unsupported_codecs");(b==="mmse"&&!window.ManagedMediaSource||b!=="mmse"&&!window.MediaSource)&&(e="oz_player_media_source_failed");window.fetch||(e="oz_player_no_fetch_failed");window.ReadableStream||(e="oz_player_no_readable_stream_failed");if(e){c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.polaris_video_x."+e);return!1}c("InstagramODS").incr("web.polaris_video_x.oz_compatible");return!0}a=c("memoizeWithArgs")(function(a,b){return h(a,b)},function(a,b){return JSON.stringify(a!=null?a:null)+":"+JSON.stringify(b)});b=a;g["default"]=b}),98);
__d("usePolarisOzGetMediaSourceForDevice",["PolarisVideoUA","useStable"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("useStable")(h)}function h(){var a=!!window.MediaSource,b=!!window.ManagedMediaSource;if(b&&d("PolarisVideoUA").isIOSDeviceWithDASH())return"mmse";return a?"mse":null}g["default"]=a}),98);
__d("usePolarisVideoPlayerShakaConfig",["VideoPlayerConnectionQuality","VideoPlayerOzWWWGlobalConfig","VideoPlayerShakaConfig","getPolarisOzConfigValues","gkx","oz-player/networks/OzBandwidthEstimator","react-compiler-runtime","shouldUseOzAddonFeatures","useStable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(4),e=a.isAd,f=a.isLive,g=a.mediaSourceAPI;b[0]!==e||b[1]!==f||b[2]!==g?(a=function(){return new(c("VideoPlayerShakaConfig"))({connection_quality:d("VideoPlayerConnectionQuality").evaluate(h),content_category:"general",fbls_tier:"user",is_ad:e===!0,is_latency_sensitive_broadcast:!1,is_live:f===!0,is_spherical:!1,latency_level:"normal",player_format:"inline",servable_via_fmbs:!1,streaming_implementation:"default"},{oz_www_enable_alternative_audio_tracks:!0,oz_www_enable_lip_sync_abr_select_quality:c("gkx")("7221"),oz_www_enable_managed_media_source:g==="mmse",oz_www_no_rep_to_switch_fallback_progressive:d("shouldUseOzAddonFeatures").shouldDashFallbackToProgressive(),oz_www_use_prefetch_cache:d("shouldUseOzAddonFeatures").shouldIGWebLOXPrefetchDash()||d("shouldUseOzAddonFeatures").shouldPrefetchDash()},{contextSensitiveValues:{},staticValues:c("getPolarisOzConfigValues")()})},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];return c("useStable")(a)}function h(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))}g["default"]=a}),98);
__d("usePolarisOzImplementation",["FBLogger","PolarisLocales","VideoPlayerOzImplementationData","VideoPlayerOzImplementationV2.react","VideoPlayerOzWWWConfig","err","react","shouldUseOzOnPolaris","usePolarisOzGetMediaSourceForDevice","usePolarisVideoPlayerShakaConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.dashInfo,e=a.isAd;a=a.isLive;var f=c("usePolarisOzGetMediaSourceForDevice")(),g=c("usePolarisVideoPlayerShakaConfig")({isAd:e,isLive:a,mediaSourceAPI:f}),h=i(function(){return new(c("VideoPlayerOzWWWConfig"))(g)},[g]);e=c("shouldUseOzOnPolaris")(b==null?void 0:b.videoDashManifest,f);a=c("PolarisLocales").language_code;var j=/([a-zA-Z]{2})/i.exec(a),k=i(function(){return d("VideoPlayerOzImplementationData").makeOzImplementationData({canUseOz:b==null?void 0:b.isDashEligible,dashManifestUrl:b==null?void 0:b.videoDashUrl,dashManifestXmlString:b==null?void 0:b.videoDashManifest,experimentationConfig:h,initialAudioUserPreferredLanguage:j!=null?j[0]:null,minQualityPreference:null})},[j,b==null?void 0:b.isDashEligible,b==null?void 0:b.videoDashManifest,b==null?void 0:b.videoDashUrl,h]);f=i(function(){return k instanceof Error?null:{Component:c("VideoPlayerOzImplementationV2.react"),data:k,typename:"VideoPlayerOzImplementation"}},[k]);if(k instanceof Error)return[null,k];if(k.manifest==null&&k.manifestUrl==null)throw c("FBLogger")("comet_video_player").mustfixThrow("If ozImplementationData exists, it should have either manifest or manifestUrl");return!e||f==null?[null,c("err")("oz player not supported")]:[f,null]}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBFormatUtils",["I64","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a!=null)return(h||(h=d("I64"))).min(a,h.of_float(d("WATimeUtils").millisTime()));switch(b){case"before":return(h||(h=d("I64"))).of_float(d("WATimeUtils").millisTime());case"after":return(h||(h=d("I64"))).zero;default:b;return(h||(h=d("I64"))).max_int}}function b(a,b){switch(b){case"before":return[a,0];case"after":return[0,a];default:b;return[Math.ceil(a/2),Math.ceil(a/2)]}}g.adjustTs=a;g.adjustCount=b}),98);
__d("EBMessageMetadataQueryQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9456956994433373"}),null);
__d("EBMessageMetadataQueryQuery.graphql",["EBMessageMetadataQueryQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"data"}],c={alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"data",variableName:"data"}],concreteType:"XFBTDeanonMessagesResponse",kind:"LinkedField",name:"deanon_messages_metadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sort_order_ms",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"EBMessageMetadataQueryQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"EBMessageMetadataQueryQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("EBMessageMetadataQueryQuery_facebookRelayOperation"),metadata:{},name:"EBMessageMetadataQueryQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("XFBLSEncryptedBackupsMessagesRangeQueryDirection.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["AFTER","BEFORE"]);c=a;f["default"]=c}),66);
__d("EBMessageMetadataQuery",["EBAPIQPLPoints","EBAPIWorkerCheck","EBCreateGraphQLFetchFnUnified","EBMessageMetadataQueryQuery.graphql","EBMessageRangeQueryUtils","FBLogger","I64","LSDatabaseSingleton","QPLUserFlow","ReQL","WAHashStringToNumber","WAJids","WAResultOrError","XPlatRelayEnvironment","asyncToGeneratorRuntime","gkx","qpl","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("gkx")("10665"),l=h!==void 0?h:h=b("EBMessageMetadataQueryQuery.graphql"),m=new Map();function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(m.has(a))return m.get(a);var b=(yield (i||(i=d("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue());b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table.index("jid")).getKeyRange((j||(j=d("I64"))).of_string(a))));if((b==null?void 0:b.serverThreadKey)!=null){m.set(a,(j||(j=d("I64"))).to_float(b.serverThreadKey));return j.to_float(b.serverThreadKey)}return});return o.apply(this,arguments)}var p=0;function a(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.direction,e=a.fetchPolicy,f=a.includeAnonymizedMessages;f=f===void 0?!1:f;var g=a.instanceKey,h=a.networkCacheConfig,i=a.numberOfMessages,j=a.referenceTimestamp;j=j===void 0?null:j;a=a.threadId;if(d("EBAPIWorkerCheck").runningInWorker())return d("WAResultOrError").makeError("unsupported-context");if(!k&&!c("gkx")("16464"))return d("WAResultOrError").makeError("unsupported-mailbox");var m=g!=null?d("WAHashStringToNumber").hashStringToNumber(g):++p;try{var o;c("QPLUserFlow").start(c("qpl")._(521476771,"2454"),{annotations:{"int":{number_of_messages:i}},instanceKey:m});var q=d("XPlatRelayEnvironment").getRelayEnvironment();b=b==="after"?"AFTER":"BEFORE";c("QPLUserFlow").addPoint(c("qpl")._(521476771,"2454"),d("EBAPIQPLPoints").EBMessageMetadataQPLPoints.GRAPHQL_QUERY_START,{instanceKey:m});var r=(yield n(a));q=(yield d("relay-runtime").fetchQuery(q,l,{data:{act_thread_id:a,direction:b,include_anonymized_messages:f,reference_timestamp:j==null?j:d("EBMessageRangeQueryUtils").safeTimestampMsNumber(j),requested_messages:i,server_thread_key:r}},{fetchPolicy:e!=null?e:void 0,networkCacheConfig:h!=null?h:void 0}).toPromise());c("QPLUserFlow").addPoint(c("qpl")._(521476771,"2454"),d("EBAPIQPLPoints").EBMessageMetadataQPLPoints.GRAPHQL_QUERY_END,{instanceKey:m});b=(a=q==null||(o=q.viewer)==null||(o=o.encrypted_backup)==null||(o=o.mailbox)==null?void 0:o.deanon_messages_metadata)!=null?a:[];f=b.map(function(a){var b=a.offline_threading_id;a=a.sort_order_ms;return{offlineThreadingId:b,sortOrderMs:a}});c("QPLUserFlow").endSuccess(c("qpl")._(521476771,"2454"),{instanceKey:m});return d("WAResultOrError").makeResult({instanceKey:g,messages:f})}catch(a){c("FBLogger")("wmi_eb").catching(a).mustfix("Error querying messaging metadata from EBMessageMetadataQuery");c("QPLUserFlow").endFailure(c("qpl")._(521476771,"2454"),"error",{error:a,instanceKey:m});return d("WAResultOrError").DEPRECATED_makeError("error",a)}});return q.apply(this,arguments)}function e(a){var b=a.chatJid,e=a.direction,f=a.numberOfMessages;a=a.referenceTimestamp;return r({chatJid:b,direction:e,numberOfMessages:f,referenceTimestamp:a})["catch"](function(a){c("FBLogger")("wmi_eb").catching(a).mustfix("Error querying messaging metadata from EBMessageMetadataQuery");return d("WAResultOrError").makeError("runtime-error")})}function r(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,e=a.chatJid,f=a.direction,g=a.numberOfMessages;a=a.referenceTimestamp;if(!k&&!c("gkx")("16464"))return d("WAResultOrError").makeError("unsupported-mailbox");e=d("WAJids").threadIdForChatJid(e);var h=(yield d("EBCreateGraphQLFetchFnUnified").createGraphQlFetchFnUnified());h=(yield h(l,{data:{act_thread_id:e,direction:t(f),include_anonymized_messages:!1,reference_timestamp:a==null?a:d("EBMessageRangeQueryUtils").safeTimestampMsNumber(a),requested_messages:g}}));f=(e=h==null||(b=h.viewer)==null||(b=b.encrypted_backup)==null||(b=b.mailbox)==null||(b=b.deanon_messages_metadata)==null?void 0:b.map(function(a){var b=a.offline_threading_id;a=a.sort_order_ms;return{offlineThreadingId:b,sortOrderMs:a}}))!=null?e:[];return d("WAResultOrError").makeResult(f)});return s.apply(this,arguments)}function t(a){switch(a){case"before":return"BEFORE";case"after":return"AFTER"}}g.messageMetadataQueryForMainThreadMAWDeanon=a;g.messageMetadataQuery=e}),98);
__d("LSCheckAuthoritativeMessageExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.filter(b.db.table(12).fetch([[[a[1]]],"optimistic"]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.offlineThreadingId===a[1]&&b.i64.eq(c.authorityLevel,b.i64.cast([0,80]))}).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxCheckAuthoritativeMessageExistsStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("MAWBridgeFireAndForget",["MAWBridge","MAWBridgeLoggingUtils","MAWTimedBridge","MAWWaitForBackendSetup","MAWWorkerEvent","Promise","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("justknobx")._("1143");function a(a,c,e,f){return d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){var g=d("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(c);f!==!0&&d("MAWBridgeLoggingUtils").routeStart("fireAndForget",a,c,g);void d("MAWTimedBridge").bridgeTimeout(function(){return new(h||(h=b("Promise")))(function(b){d("MAWBridge").getBridge().fireAndForget(a,c,e,f,{onAck:function(e){f!==!0&&(d("MAWWorkerEvent").logAck(g,c,e),d("MAWBridgeLoggingUtils").routeSuccess(a,c,g)),b()},onSend:function(a){var b=a.queueMsgs;a=a.queueSize;f!==!0&&(d("MAWWorkerEvent").logSend(g,c,"fireAndForget"),d("MAWWorkerEvent").logAnnotations(g,{"int":{bridgeSize:a},string_array:{bridgeMsgs:b}}))}},{bridgeQPLInstanceKey:g})})},a,c,g,i)},c)}g.fireAndForget=a}),98);
__d("getChatJidForLSDBJid",["I64","LSMessagingThreadTypeUtil","ReQL","WAJids","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(a!=null){b=(h||(h=d("I64"))).to_string(c);return d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?d("WAJids").toGroupJid(b):d("WAJids").toMsgrUserJid(b)}});return i.apply(this,arguments)}g.getMaybeChatJidForLSDBJid=a}),98);
__d("LSShimCompleteThreadCutover.nop",["I64","MAWBridgeFireAndForget","ReQL","asyncToGeneratorRuntime","getChatJidForLSDBJid"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.cutover_threads).getKeyRange(e)));if(b!=null){c=b.showOpenMessageHistory===!1;if(c)return[(h||(h=d("I64"))).one];c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(b.armadilloThreadId)));if(c!=null){b=(yield d("getChatJidForLSDBJid").getMaybeChatJidForLSDBJid(a,c.serverThreadKey,c.jid));if(b==null)return[(h||(h=d("I64"))).one];d("MAWBridgeFireAndForget").fireAndForget("backend","insertAdminMessageInCutoverThreads",{openThreadId:(h||(h=d("I64"))).to_string(e),threadJid:b,traceId:f});return[h.zero]}return[(h||(h=d("I64"))).one]}return[(h||(h=d("I64"))).one]});function c(b,c,d,e,f){return a.apply(this,arguments)}return c}();a.__nop_name__="LSShimCompleteThreadCutover";g["default"]=a}),98);
__d("LSCompleteThreadCutover",["LSShimCompleteThreadCutover.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.nativeOperation(b("LSShimCompleteThreadCutover.nop"),a[0],a[1],a[2]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCompleteThreadCutoverStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSDeleteAllCommunityChannelCategories",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(182).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,20])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityChannelCategoriesStoredProcedure";a.__tables__=["cm_category_list","threads"];e.exports=a}),null);
__d("LSDeleteAllCommunityFolders",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(162).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,17])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityFoldersStoredProcedure";a.__tables__=["community_folders","threads"];e.exports=a}),null);
__d("LSDeleteAndReenrollDeviceState",["LSArrayGetObjectAt","LSDeleteBackupOnClient","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure] Beginning execution."),c.i64.neq(a[0],void 0)?c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[13]=new c.Map(),d[13].set("error_msg","Expected a nonempty query result"),d[13].set("code",c.i64.cast([0,3])),d[13].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[14]=c.createArray(),d[15]=(d[14].push(d[13]),d[14]),e=[void 0,d[14]],d[7]=e[0],d[8]=e[1]):(b=a.item,d[13]=new c.Map(),d[13].set("backup_id",b.backupId),d[13].set("device_public_key_blob",b.devicePublicKeyBlob),d[13].set("device_private_key_blob",b.devicePrivateKeyBlob),d[13].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[13].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[13].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[13].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[13].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[13].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[13].set("orf_client_state_v2_blob",void 0),d[13].set("orf_v2_authority_level",void 0),d[13].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[13].set("device_id",b.deviceId),d[13].set("backup_tenancy",b.backupTenancy),d[13].set("encryption_version",b.encryptionVersion),d[13].set("revision_version",b.revisionVersion),d[13].set("initialize_restore_result",void 0),d[13].set("device_creation_timestamp_sec",void 0),d[13].set("authority_level",b.authorityLevel),e=[d[13],void 0],d[7]=e[0],d[8]=e[1])})},function(e){return d[10]=new c.Map(),d[10].set("value",d[7]),d[10].set("errors",d[8]),d[11]=d[10].get("value"),d[11]!==void 0?c.sequence([function(e){return d[13]=d[11].get("backup_id"),d[14]=d[11].get("device_public_key_blob"),d[15]=d[11].get("device_private_key_blob"),d[16]=d[11].get("epoch_storage_public_key_blob"),d[17]=d[11].get("epoch_storage_private_key_blob"),d[18]=d[11].get("epoch_auth_public_key_blob"),d[19]=d[11].get("epoch_auth_private_key_blob"),d[20]=d[11].get("mailbox_root_key_blob"),d[21]=d[11].get("ocmf_client_state_blob"),d[22]=d[11].get("orf_client_state_v2_blob"),d[23]=d[11].get("orf_v2_authority_level"),d[24]=d[11].get("oblivious_validation_token_blob"),d[25]=d[11].get("device_id"),d[26]=d[11].get("backup_tenancy"),d[27]=d[11].get("encryption_version"),d[28]=d[11].get("revision_version"),d[29]=d[11].get("initialize_restore_result"),d[30]=d[11].get("device_creation_timestamp_sec"),d[31]=d[11].get("authority_level"),c.i64.neq(d[25],void 0)?c.sequence([function(a){return d[33]=void 0,c.i64.neq(d[33],void 0)?c.resolve(d[34]=d[33]):c.sequence([function(a){return d[37]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[38]?d[47]=(d[37].push(c.i64.cast([0,0])),d[37]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[39]=a[0],a})},function(a){return d[39]?d[47]=(d[37].push(c.i64.cast([0,2])),d[37]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[40]?d[47]=(d[37].push(c.i64.cast([0,3])),d[37]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[41]=a[0],a})},function(a){return d[41]?d[47]=(d[37].push(c.i64.cast([0,4])),d[37]):0,d[42]=c.createArray(),d[43]=c.i64.of_int32(d[37].length),c.i64.gt(d[43],c.i64.cast([0,0]))?c.loopAsync(d[43],function(a){return d[47]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[37],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[50]=(d[42].push(d[48]),d[42])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[47]=c.createArray(),d[48]=c.i64.of_int32(d[42].length),c.i64.gt(d[48],c.i64.cast([0,0]))?c.loopAsync(d[48],function(a){return d[50]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[42],d[50]).then(function(a){return a=a,d[51]=a[0],d[52]=a[1],a})},function(a){return d[53]=(d[47].push(c.i64.to_string(d[51])),d[47])}])}):c.resolve()},function(a){return d[49]=d[47].join(","),d[44]=d[49]}])},function(a){return d[42].some(function(a){return c.i64.eq(d[27],a)})?d[45]=d[27]:d[45]=void 0,c.i64.neq(d[45],void 0)?d[46]=d[45]:d[46]=void 0,d[34]=d[46]}])},function(e){return c.i64.neq(d[34],void 0)?d[35]=d[34]:d[35]=c.i64.cast([0,0]),c.i64.neq(d[26],void 0)?d[36]=d[26]:d[36]=c.i64.cast([0,1]),c.i64.eq(d[25],a[0])?c.sequence([function(a){return c.storedProcedure(b("LSDeleteBackupOnClient"),d[13],void 0,!1,void 0,void 0,!0)},function(b){return d[37]=c.i64.of_float(Date.now()),c.db.table(343).add({pk:void 0,deviceReenrollmentReason:a[1],reenrollmentTimestamp:d[37]})}]):c.resolve(0)},function(a){return d[32]=!0}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure] Failed to load client state: 24"),d[34]="Failed to load client state: 24",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure] ","",d[34]].join("")),d[33]=c.createArray(),void 0!==void 0?d[35]=(d[33].push(void 0),d[33]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure",d[34],d[33],c.i64.cast([0,3]))},function(a){return d[32]=!1}])},function(a){return d[12]=d[32]}]):c.sequence([function(a){return d[13]=d[10].get("errors"),d[14]=d[10].get("errors"),function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure] Failed to load client state: 1"),d[16]="Failed to load client state: 1",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure] ","",d[16]].join("")),d[15]=c.createArray(),void 0!==void 0?d[17]=(d[15].push(void 0),d[15]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure",d[16],d[15],c.i64.cast([0,3]))},function(a){return d[12]=!1}])}]):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!0}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[13]=new c.Map(),d[13].set("error_msg","Expected a nonempty query result"),d[13].set("code",c.i64.cast([0,3])),d[13].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[14]=c.createArray(),d[15]=(d[14].push(d[13]),d[14]),e=[void 0,d[14]],d[7]=e[0],d[8]=e[1]):(b=a.item,d[13]=new c.Map(),d[13].set("backup_id",b.backupId),d[13].set("device_public_key_blob",b.devicePublicKeyBlob),d[13].set("device_private_key_blob",b.devicePrivateKeyBlob),d[13].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[13].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[13].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[13].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[13].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[13].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[13].set("orf_client_state_v2_blob",void 0),d[13].set("orf_v2_authority_level",void 0),d[13].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[13].set("device_id",b.deviceId),d[13].set("backup_tenancy",b.backupTenancy),d[13].set("encryption_version",b.encryptionVersion),d[13].set("revision_version",b.revisionVersion),d[13].set("initialize_restore_result",void 0),d[13].set("device_creation_timestamp_sec",void 0),d[13].set("authority_level",b.authorityLevel),e=[d[13],void 0],d[7]=e[0],d[8]=e[1])})},function(a){return d[10]=new c.Map(),d[10].set("value",d[7]),d[10].set("errors",d[8]),d[11]=d[10].get("value"),d[11]!==void 0?c.sequence([function(a){return d[13]=d[11].get("backup_id"),d[14]=d[11].get("device_public_key_blob"),d[15]=d[11].get("device_private_key_blob"),d[16]=d[11].get("epoch_storage_public_key_blob"),d[17]=d[11].get("epoch_storage_private_key_blob"),d[18]=d[11].get("epoch_auth_public_key_blob"),d[19]=d[11].get("epoch_auth_private_key_blob"),d[20]=d[11].get("mailbox_root_key_blob"),d[21]=d[11].get("ocmf_client_state_blob"),d[22]=d[11].get("orf_client_state_v2_blob"),d[23]=d[11].get("orf_v2_authority_level"),d[24]=d[11].get("oblivious_validation_token_blob"),d[25]=d[11].get("device_id"),d[26]=d[11].get("backup_tenancy"),d[27]=d[11].get("encryption_version"),d[28]=d[11].get("revision_version"),d[29]=d[11].get("initialize_restore_result"),d[30]=d[11].get("device_creation_timestamp_sec"),d[31]=d[11].get("authority_level"),c.i64.neq(d[25],void 0)?c.sequence([function(a){return d[33]=void 0,c.i64.neq(d[33],void 0)?c.resolve(d[34]=d[33]):c.sequence([function(a){return d[37]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[38]?d[47]=(d[37].push(c.i64.cast([0,0])),d[37]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[39]=a[0],a})},function(a){return d[39]?d[47]=(d[37].push(c.i64.cast([0,2])),d[37]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[40]?d[47]=(d[37].push(c.i64.cast([0,3])),d[37]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[41]=a[0],a})},function(a){return d[41]?d[47]=(d[37].push(c.i64.cast([0,4])),d[37]):0,d[42]=c.createArray(),d[43]=c.i64.of_int32(d[37].length),c.i64.gt(d[43],c.i64.cast([0,0]))?c.loopAsync(d[43],function(a){return d[47]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[37],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[50]=(d[42].push(d[48]),d[42])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[47]=c.createArray(),d[48]=c.i64.of_int32(d[42].length),c.i64.gt(d[48],c.i64.cast([0,0]))?c.loopAsync(d[48],function(a){return d[50]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[42],d[50]).then(function(a){return a=a,d[51]=a[0],d[52]=a[1],a})},function(a){return d[53]=(d[47].push(c.i64.to_string(d[51])),d[47])}])}):c.resolve()},function(a){return d[49]=d[47].join(","),d[44]=d[49]}])},function(a){return d[42].some(function(a){return c.i64.eq(d[27],a)})?d[45]=d[27]:d[45]=void 0,c.i64.neq(d[45],void 0)?d[46]=d[45]:d[46]=void 0,d[34]=d[46]}])},function(a){return c.i64.neq(d[34],void 0)?d[35]=d[34]:d[35]=c.i64.cast([0,0]),c.i64.neq(d[26],void 0)?d[36]=d[26]:d[36]=c.i64.cast([0,1]),d[32]=!0}]):c.resolve(d[32]=!1)},function(a){return d[12]=d[32]}]):c.resolve((d[13]=d[10].get("errors"),d[14]=d[10].get("errors"),d[12]=!1))},function(e){return d[12]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure] Failure. Attempted to reset nux flags on an onboarded device"),d[14]="Failure. Attempted to reset nux flags on an onboarded device",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure] ","",d[14]].join("")),d[13]=c.createArray(),void 0!==void 0?d[15]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure",d[14],d[13],c.i64.cast([0,3]))):(d[13]=c.i64.of_float(Date.now()),c.db.table(343).add({pk:void 0,deviceReenrollmentReason:a[1],reenrollmentTimestamp:d[13]}))}])},function(a){return d[1]=c.i64.of_float(Date.now()),d[2]=c.i64.random(),d[4]="Finishing execution. Execution time: ",d[5]=c.i64.to_string(c.i64.sub(d[1],d[0])),d[6]=" ms",d[3]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure] ",d[3],d[4],d[3],d[5],d[3],d[6]].join("")),c.i64.eq(c.i64.mod_(d[2],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[7]=",",d[8]=c.createArray(),void 0!==void 0?d[9]=(d[8].push(void 0),d[8]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure",[d[4],d[7],d[5],d[7],d[6]].join(""),d[8],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","encrypted_backups_reenrollment_trigger"];e.exports=a}),null);
__d("LSDeleteBanner",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(118).fetch([[[a[1],a[0]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.bannerId,a[0])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSInThreadBannerDeleteBannerStoredProcedure";a.__tables__=["in_thread_banner"];e.exports=a}),null);
__d("LSDeleteBannersByIds",["LSArrayGetObjectAt"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.sequence([function(e){return d[1]=c.createArray(),d[2]=c.i64.of_int32(a[1].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.loopAsync(d[2],function(e){return d[4]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[1],d[4]).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(a){return d[7]=(d[1].push(c.i64.to_string(d[5])),d[1])}])}):c.resolve()},function(a){return d[3]=d[1].join(","),d[0]=d[3]}])},function(b){return c.forEach(c.filter(c.db.table(118).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&a[1].some(function(a){return c.i64.eq(b.bannerId,a)})}),function(a){return a["delete"]()})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSInThreadBannerDeleteBannersByIdsStoredProcedure";a.__tables__=["in_thread_banner"];e.exports=a}),null);
__d("LSDeleteRowRichStatusCustomAudience",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSOmnistoreSettingsDeleteRowRichStatusCustomAudienceStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSDeleteThenInsertAvatarFeatureConfig",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSContactDeleteThenInsertAvatarFeatureConfigStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSDeleteThenInsertBotProfileInfoV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(299).put({botId:a[0],isCreatedByViewer:a[1],description:a[4],tintColor:a[2],shortDescription:a[3]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSContactDeleteThenInsertBotProfileInfoV2StoredProcedure";a.__tables__=["bot_profile_info_v2"];e.exports=a}),null);
__d("LSDeleteThenInsertCmChannelList",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(167).put({communityId:a[0],threadId:a[1],categoryId:a[2],channelPrivacy:a[3]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertCmChannelListStoredProcedure";a.__tables__=["cm_channel_list"];e.exports=a}),null);
__d("LSDeleteThenInsertCmCommunityList",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(166).put({communityId:a[0]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertCmCommunityListStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSDeleteThenInsertCommunityFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.filter(b.db.table(162).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.folderId,a[0])&&b.i64.gt(b.i64.cast([0,80]),a[54])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(162).put({folderId:a[0],fbGroupId:a[1],name:a[2],memberCount:a[4],description:a[3],pictureUrl:a[5],pictureUrlFallback:a[6],pictureUrlExpirationTimestampMs:a[7],joiningChannelTaskId:a[8],afterJoiningOpenChannelId:a[10],capabilities:a[11],capabilities2:a[12],capabilities3:a[13],notificationSetting:a[14],notificationMutedUntil:a[15],sendsBlockedUntil:a[17],isHidden:a[18],hasSeenDisablingAlert:a[19],inviteLink:a[21],communityType:a[22],directInviteLink:a[23],enableState:a[24],takedownState:a[25],fbGroupType:a[28],threadCount:a[29],disableTimestamp:a[32],readTimestampMs:a[33],inviteStatus:a[37],blockedFromCommunityMemberCount:a[40],categoryCount:a[41],snippetText:a[42],coverPicUrl:a[43],coverPicUrlFallback:a[44],coverPicUrlExpirationTimestampMs:a[45],invitedThreadId:a[47],fbGroupUserParticipationApprovalStatus:a[48],ccAdminAssistRegistrationStatus:a[49],pauseStatus:a[50],isMember:a[51],latestThreadId:a[52],latestThreadActivityTimestampMs:a[53]}):0})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertCommunityFolderStoredProcedure";a.__tables__=["community_folders"];e.exports=a}),null);
__d("LSDeleteThenInsertCommunityUnjoinedThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[1]=a[12]==null?b.i64.cast([0,19]):a[12],c[2]="community",c[3]=b.i64.cast([0,0])==null?b.i64.cast([0,0]):b.i64.cast([0,0]),b.db.table(9).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).put({threadKey:a[0],parentThreadKey:a[1],mailboxType:b.i64.cast([0,0]),threadType:c[1],threadName:a[2],folderName:c[2],threadPictureUrl:a[3],threadPictureUrlFallback:a[4],threadPictureUrlExpirationTimestampMs:a[5],authorityLevel:a[6],lastActivityTimestampMs:a[7],lastReadWatermarkTimestampMs:a[8],muteExpireTimeMs:c[3],removeWatermarkTimestampMs:b.i64.cast([-1,4294967295]),ongoingCallState:b.i64.cast([0,0]),threadDescription:a[9],snippet:a[10],hasPendingInvitation:a[13],eventStartTimestampMs:a[14],eventEndTimestampMs:a[15],takedownState:a[16],cannotReplyReason:a[17],themeFbid:a[18],threadStatus:a[19],needsAdminApprovalForNewParticipant:a[20],joinRequestApprovalSetting:a[21],snippetText:a[24],hasPendingJoinRequest:a[25],capabilities:b.i64.cast([0,0]),capabilities2:b.i64.cast([0,0]),capabilities3:b.i64.cast([0,0]),capabilities4:b.i64.cast([0,0]),syncSource:a[26]}):(e=d.item,c[4]=e.lastActivityTimestampMs,c[6]=e.parentThreadKey,c[5]=e.disappearingThreadKey,c[7]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[4],a[7])&&b.i64.neq(c[5],void 0)?(b.i64.eq(a[1],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[6],b.i64.cast([0,0]))?(f=[c[6],e.folderName],c[8]=f[0],c[9]=f[1],f):(d=[a[1],c[2]],c[8]=d[0],c[9]=d[1],d),b.db.table(9).put({threadKey:a[0],parentThreadKey:c[8],mailboxType:b.i64.cast([0,0]),threadType:c[1],threadName:a[2],folderName:c[9],threadPictureUrl:a[3],threadPictureUrlFallback:a[4],threadPictureUrlExpirationTimestampMs:a[5],authorityLevel:a[6],lastActivityTimestampMs:c[4],lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,muteExpireTimeMs:c[3],removeWatermarkTimestampMs:b.i64.cast([-1,4294967295]),ongoingCallState:b.i64.cast([0,0]),threadDescription:a[9],snippet:a[10],hasPendingInvitation:a[13],eventStartTimestampMs:a[14],eventEndTimestampMs:a[15],takedownState:a[16],cannotReplyReason:a[17],themeFbid:a[18],threadStatus:a[19],needsAdminApprovalForNewParticipant:a[20],joinRequestApprovalSetting:a[21],snippetText:a[24],hasPendingJoinRequest:a[25],capabilities:b.i64.cast([0,0]),capabilities2:b.i64.cast([0,0]),capabilities3:b.i64.cast([0,0]),capabilities4:b.i64.cast([0,0]),syncSource:a[26],disappearingThreadKey:c[5],isDisappearingMode:c[7]})):b.db.table(9).put({threadKey:a[0],parentThreadKey:a[1],mailboxType:b.i64.cast([0,0]),threadType:c[1],threadName:a[2],folderName:c[2],threadPictureUrl:a[3],threadPictureUrlFallback:a[4],threadPictureUrlExpirationTimestampMs:a[5],authorityLevel:a[6],lastActivityTimestampMs:a[7],lastReadWatermarkTimestampMs:a[8],muteExpireTimeMs:c[3],removeWatermarkTimestampMs:b.i64.cast([-1,4294967295]),ongoingCallState:b.i64.cast([0,0]),threadDescription:a[9],snippet:a[10],hasPendingInvitation:a[13],eventStartTimestampMs:a[14],eventEndTimestampMs:a[15],takedownState:a[16],cannotReplyReason:a[17],themeFbid:a[18],threadStatus:a[19],needsAdminApprovalForNewParticipant:a[20],joinRequestApprovalSetting:a[21],snippetText:a[24],hasPendingJoinRequest:a[25],capabilities:b.i64.cast([0,0]),capabilities2:b.i64.cast([0,0]),capabilities3:b.i64.cast([0,0]),capabilities4:b.i64.cast([0,0]),syncSource:a[26],disappearingThreadKey:c[5],isDisappearingMode:c[7]}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteThenInsertCommunityUnjoinedThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSMinosVerifySingleEpoch.nop",["EBMinosInterfaceTypes","EBMinosQplFlow","I64","Promise","WAGetSafeQPLError","gkx","qex","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("EBMinosVerifySingleEpoch").__setRef("LSMinosVerifySingleEpoch.nop");a=function(a,e,f,g,k,l,m,n,o){if(!(c("qex")._("208")===!0||c("gkx")("17219")))return(i||(i=b("Promise"))).resolve([!1]);var p=d("EBMinosQplFlow").startMinosVerifySingleEpochQpl({entryPoint:"verify-single-epoch-native-op"});try{var q=(a=d("EBMinosInterfaceTypes")).unsafeCastToBase64StringIntToEpochNumber(f),r=a.unsafeCastToMailboxAuthPK(m),s=a.unsafeCastToMailboxEncryptionPK(l),t=a.unsafeCastToMailboxSigningPK(k),u=a.unsafeCastToUserFbId((h||(h=d("I64"))).to_string(g)),v=d("EBMinosInterfaceTypes").unsafeCastToEpochSelfSig(o),w=n!=null?d("EBMinosInterfaceTypes").unsafeCastToEpochHead(n):void 0;return j.load().then(function(a){return a.minosVerifySingleEpoch(q,u,t,s,r,w,v,p)})}catch(a){p.endFailWithError("runtime-error",d("WAGetSafeQPLError").getSafeQPLErrorMessage(a));return(i||(i=b("Promise"))).resolve([!1])}};a.__nop_name__="LSMinosVerifySingleEpoch";g["default"]=a}),98);
__d("LSSetThreadImageURL",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1]===""?void 0:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],isCustomThreadPicture:a[4],shouldRoundThreadPicture:a[5]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetThreadImageURLStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSWriteMinosPublicKey.nop",["EBMinosInterfaceTypes","EBMinosQplFlow","I64","Promise","WALongInt","WATimeUtils","gkx","qex","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("EBWriteMinosMailboxKeysToCache").__setRef("LSWriteMinosPublicKey.nop");a=function(a,e,f,g,k,l,m,n,o,p,q,r){if(!(c("qex")._("208")===!0||c("gkx")("17219")))return(i||(i=b("Promise"))).resolve();var s=d("EBMinosQplFlow").startMinosWritePublicKeysQpl();s.addAnnotations({string:{calledBy:"Native Op"}});if(g==null||k==null||l==null||m==null||n==null){s.endFailWithError("missing_required_values");return(i||(i=b("Promise"))).resolve()}return j.load().then(function(a){return a.writeMinosMailboxKeysToCache({contactId:d("EBMinosInterfaceTypes").unsafeCastToUserFbId((h||(h=d("I64"))).to_string(f)),encryptionPublicKey:d("EBMinosInterfaceTypes").unsafeCastToMailboxEncryptionPK(l),epochAnonId:d("EBMinosInterfaceTypes").unsafeCastToBase64StringIntToEpochNumber(g),epochHead:d("EBMinosInterfaceTypes").unsafeCastToEpochHead(m),epochHeadCreationTime:d("EBMinosInterfaceTypes").unsafeCastToEpochCreationTime(d("WATimeUtils").castLongIntToUnixTime(d("WALongInt").decimalStringToLongInt(h.to_string(k)))),publicKeyFbid:d("EBMinosInterfaceTypes").unsafeCastToMailboxFbId(d("WALongInt").decimalStringToLongInt(h.to_string(n))),qplFlow:s})})};a.__nop_name__="LSWriteMinosPublicKey";g["default"]=a}),98);
__d("LSDeleteThenInsertContact",["LSBase64Decode.nop","LSMinosVerifySingleEpoch.nop","LSQplAnnotateString.nop","LSQplMarkEnd.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop","LSSetThreadImageURL","LSWriteMinosPublicKey.nop","gkx","qex"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(f){return d.sequence([function(c){return a[50]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSBase64Decode.nop"),a[50]).then(function(a){return a=a,e[25]=a[0],a})},function(a){return e[0]=e[25]}]):d.resolve(e[0]=void 0)},function(c){return a[52]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSBase64Decode.nop"),a[52]).then(function(a){return a=a,e[25]=a[0],a})},function(a){return e[1]=e[25]}]):d.resolve(e[1]=void 0)},function(c){return a[53]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSBase64Decode.nop"),a[53]).then(function(a){return a=a,e[25]=a[0],a})},function(a){return e[2]=e[25]}]):d.resolve(e[2]=void 0)},function(c){return a[55]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSBase64Decode.nop"),a[55]).then(function(a){return a=a,e[25]=a[0],a})},function(a){return e[3]=e[25]}]):d.resolve(e[3]=void 0)},function(c){return a[56]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSBase64Decode.nop"),a[56]).then(function(a){return a=a,e[25]=a[0],a})},function(a){return e[4]=e[25]}]):d.resolve(e[4]=void 0)},function(c){return a[57]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSBase64Decode.nop"),a[57]).then(function(a){return a=a,e[25]=a[0],a})},function(a){return e[5]=e[25]}]):d.resolve(e[5]=void 0)},function(c){return a[58]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSBase64Decode.nop"),a[58]).then(function(a){return a=a,e[25]=a[0],a})},function(a){return e[6]=e[25]}]):d.resolve(e[6]=void 0)},function(a){return e[21]="LSContactDeleteThenInsertContactStoredProcedure",e[7]=d.i64.random(),e[8]=d.i64.to_string(e[7]),e[8]!==void 0?d.nativeOperation(b("LSQplStartTrace.nop"),d.i64.cast([0,1021650676]),e[8],!0,void 0):d.resolve()},function(a){return e[8]!==void 0?e[21]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,1021650676]),e[8],"MinosPublicKeyClientUtils",e[21]):d.resolve():d.resolve()},function(f){return e[22]=function(a){return a==void 0?void 0:a}(c("qex")._("201")),e[22]!==void 0?e[9]=e[22]:e[9]=!1,c("gkx")("16269")&&e[9]||!1?d.sequence([function(c){return d.blobs.eq(e[2],void 0)&&d.blobs.eq(e[1],void 0)&&d.i64.eq(a[51],void 0)&&d.i64.eq(a[54],void 0)&&d.blobs.eq(e[3],void 0)&&d.blobs.eq(e[4],void 0)&&d.blobs.eq(e[5],void 0)&&d.blobs.eq(e[0],void 0)?d.sequence([function(a){return e[8]!==void 0?d.nativeOperation(b("LSQplMarkPoint.nop"),d.i64.cast([0,1021650676]),e[8],"dasm_minos_epoch_verify_minos_keys_null"):d.resolve()},function(b){return b=[e[0],e[2],e[1],a[51],a[54],e[3],e[4],e[5],e[6]],e[25]=b[0],e[26]=b[1],e[27]=b[2],e[28]=b[3],e[29]=b[4],e[30]=b[5],e[31]=b[6],e[32]=b[7],e[33]=b[8],b}]):d.sequence([function(c){return d.blobs.neq(e[2],void 0)?d.sequence([function(c){return d.blobs.neq(e[4],void 0)?d.sequence([function(c){return d.blobs.neq(e[3],void 0)?d.sequence([function(c){return d.blobs.neq(e[0],void 0)?d.sequence([function(c){return d.blobs.neq(e[5],void 0)?d.sequence([function(c){return d.nativeOperation(b("LSMinosVerifySingleEpoch.nop"),e[2],a[0],e[3],e[0],e[4],e[6],e[5]).then(function(a){return a=a,e[48]=a[0],a})},function(c){return e[48]?e[8]!==void 0?d.nativeOperation(b("LSQplMarkPoint.nop"),d.i64.cast([0,1021650676]),e[8],"dasm_minos_epoch_verify_native_op_success"):d.resolve():d.sequence([function(a){return e[8]!==void 0?d.nativeOperation(b("LSQplMarkPoint.nop"),d.i64.cast([0,1021650676]),e[8],"dasm_minos_epoch_verify_native_op_failure"):d.resolve()},function(c){return e[49]=["MinosPublicKeyClientUtils",".",["Key verification failed for contact id: ","",d.i64.to_string(a[0])].join("")].join(""),e[8]!==void 0?e[49]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,1021650676]),e[8],"error",e[49]):d.resolve():d.resolve()},function(a){return e[8]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,1021650676]),e[8],!1):d.resolve()}])},function(a){return e[47]=e[48]}]):d.sequence([function(a){return e[8]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,1021650676]),e[8],"dasm_error","MinosPublicKeyClientUtils: Missing or Null Epoch Signature Self"):d.resolve()},function(a){return e[47]=!1}])},function(a){return e[46]=e[47]}]):d.sequence([function(a){return e[8]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,1021650676]),e[8],"dasm_error","MinosPublicKeyClientUtils: Missing or Null Minos Encryption Public Key"):d.resolve()},function(a){return e[46]=!1}])},function(a){return e[45]=e[46]}]):d.sequence([function(a){return e[8]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,1021650676]),e[8],"dasm_error","MinosPublicKeyClientUtils: Missing or Null Minos Signing Public Key"):d.resolve()},function(a){return e[45]=!1}])},function(a){return e[44]=e[45]}]):d.sequence([function(a){return e[8]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,1021650676]),e[8],"dasm_error","MinosPublicKeyClientUtils: Missing or Null Minos Auth Public Key"):d.resolve()},function(a){return e[44]=!1}])},function(a){return e[34]=e[44]}]):d.sequence([function(a){return e[8]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,1021650676]),e[8],"dasm_error","MinosPublicKeyClientUtils: Missing or Null Minos Epoch Anon ID"):d.resolve()},function(a){return e[34]=!1}])},function(c){return e[34]?d.resolve((c=[e[0],e[2],e[1],a[51],a[54],e[3],e[4],e[5],e[6]],e[35]=c[0],e[36]=c[1],e[37]=c[2],e[38]=c[3],e[39]=c[4],e[40]=c[5],e[41]=c[6],e[42]=c[7],e[43]=c[8],c)):d.sequence([function(a){return e[8]!==void 0?d.nativeOperation(b("LSQplMarkPoint.nop"),d.i64.cast([0,1021650676]),e[8],"dasm_minos_epoch_verify_epoch_verify_return_existing_contact_minos_keys_due_to_failure"):d.resolve()},function(a){return e[8]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,1021650676]),e[8],"dasm_error","MinosPublicKeyClientUtils: verification failed"):d.resolve()},function(b){return e[44]=d.createArray(),e[57]=(e[44].push(a[0]),e[44]),e[45]=new d.Map(),e[46]=e[45].get(a[0]),e[46]?e[47]=!1:e[47]=!0,e[47]?(b=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],e[48]=b[0],e[49]=b[1],e[50]=b[2],e[51]=b[3],e[52]=b[4],e[53]=b[5],e[54]=b[6],e[55]=b[7],e[56]=b[8],b):(e[57]=e[46].get("mailbox_encryption_public_key"),e[58]=e[46].get("epoch_anon_id"),e[59]=e[46].get("epoch_head"),e[60]=e[46].get("epoch_head_creation_time"),e[61]=e[46].get("minos_mailbox_public_keys_fbid"),b=[e[57],e[58],e[59],e[60],e[61],void 0,void 0,void 0,void 0],e[48]=b[0],e[49]=b[1],e[50]=b[2],e[51]=b[3],e[52]=b[4],e[53]=b[5],e[54]=b[6],e[55]=b[7],e[56]=b[8]),b=[e[48],e[49],e[50],e[51],e[52],e[53],e[54],e[55],e[56]],e[35]=b[0],e[36]=b[1],e[37]=b[2],e[38]=b[3],e[39]=b[4],e[40]=b[5],e[41]=b[6],e[42]=b[7],e[43]=b[8]}])},function(a){return a=[e[35],e[36],e[37],e[38],e[39],e[40],e[41],e[42],e[43]],e[25]=a[0],e[26]=a[1],e[27]=a[2],e[28]=a[3],e[29]=a[4],e[30]=a[5],e[31]=a[6],e[32]=a[7],e[33]=a[8],a}])},function(a){return a=[e[25],e[26],e[27],e[28],e[29],e[30],e[31],e[32],e[33]],e[10]=a[0],e[11]=a[1],e[12]=a[2],e[13]=a[3],e[14]=a[4],e[15]=a[5],e[16]=a[6],e[17]=a[7],e[18]=a[8],a}]):d.resolve((e[25]=d.createArray(),e[38]=(e[25].push(a[0]),e[25]),e[26]=new d.Map(),e[27]=e[26].get(a[0]),e[27]?e[28]=!1:e[28]=!0,e[28]?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],e[29]=f[0],e[30]=f[1],e[31]=f[2],e[32]=f[3],e[33]=f[4],e[34]=f[5],e[35]=f[6],e[36]=f[7],e[37]=f[8],f):(e[38]=e[27].get("mailbox_encryption_public_key"),e[39]=e[27].get("epoch_anon_id"),e[40]=e[27].get("epoch_head"),e[41]=e[27].get("epoch_head_creation_time"),e[42]=e[27].get("minos_mailbox_public_keys_fbid"),f=[e[38],e[39],e[40],e[41],e[42],void 0,void 0,void 0,void 0],e[29]=f[0],e[30]=f[1],e[31]=f[2],e[32]=f[3],e[33]=f[4],e[34]=f[5],e[35]=f[6],e[36]=f[7],e[37]=f[8]),f=[e[29],e[30],e[31],e[32],e[33],e[34],e[35],e[36],e[37]],e[10]=f[0],e[11]=f[1],e[12]=f[2],e[13]=f[3],e[14]=f[4],e[15]=f[5],e[16]=f[6],e[17]=f[7],e[18]=f[8]))},function(f){return e[23]=function(a){return a==void 0?void 0:a}(c("qex")._("201")),e[23]!==void 0?e[19]=e[23]:e[19]=!1,c("gkx")("16269")&&e[19]||!1?0:0,e[24]=function(a){return a==void 0?void 0:a}(c("qex")._("201")),e[24]!==void 0?e[20]=e[24]:e[20]=!1,c("gkx")("16269")&&e[20]||!1?d.nativeOperation(b("LSWriteMinosPublicKey.nop"),a[0],e[11],e[13],e[10],e[12],e[14],e[17],e[16],e[15],e[18]):d.resolve()},function(a){return e[8]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,1021650676]),e[8],!0):d.resolve()},function(b){return d.i64.eq(a[23],d.i64.cast([0,39423]))?e[25]=d.i64.cast([0,1]):(d.i64.eq(a[23],d.i64.cast([0,14342874]))?e[26]=d.i64.cast([0,2]):e[26]=void 0,e[25]=e[26]),d.filter(d.db.table(7).fetch([[[a[0]]]]),function(b){return d.i64.eq(b.id,a[0])&&d.i64.eq(d.i64.cast([0,1]),d.i64.cast([0,1]))&&d.i64.gt(b.authorityLevel,a[21])}).next().then(function(b){var c=b.done;b.value;return c?d.db.table(7).put({id:a[0],profilePictureUrl:a[2],profilePictureFallbackUrl:a[3],profilePictureUrlExpirationTimestampMs:a[4],profilePictureLargeUrl:a[5],profilePictureLargeFallbackUrl:a[6],profilePictureLargeUrlExpirationTimestampMs:a[7],name:a[9],secondaryName:a[41],normalizedNameForSearch:a[10],normalizedSearchTerms:a[33],isMessengerUser:a[11],isMemorialized:a[12],isManagedByViewer:a[35],blockedByViewerStatus:a[14],rank:a[17],firstName:a[18],contactType:a[19],contactTypeExact:a[20],authorityLevel:a[21],messengerCallLogThirdPartyId:a[22],profileRingColor:a[23],requiresMultiway:a[24],blockedSinceTimestampMs:a[25],fbUnblockedSinceTimestampMs:a[48],canViewerMessage:a[26],profileRingColorExpirationTimestampMs:a[27],phoneNumber:a[28],emailAddress:a[29],workCompanyId:a[30],workCompanyName:a[31],workJobTitle:a[32],deviceContactId:a[34],workForeignEntityType:a[36],capabilities:a[37],capabilities2:a[38],profileRingState:e[25],contactViewerRelationship:a[39],gender:a[40],username:a[43],contactReachabilityStatusType:a[44],friendshipStatus:a[45],restrictionType:a[46],waConnectStatus:a[47],isEmployee:!1,pageType:a[49]}):0})},function(c){return d.storedProcedure(b("LSSetThreadImageURL"),a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSContactDeleteThenInsertContactStoredProcedure";a.__tables__=["contacts"];d=a;g["default"]=d}),98);
__d("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(175).put({id:a[0],globalMuteUntil:a[1],showMessagePreview:a[4],isSoundOn:a[7],groupNotificationSetting:a[8],oneToOneNotificationSetting:a[9],replyReminderSetting:a[10],messageReminderDisabled:a[12],messageSound:a[13],ringtoneSound:a[14],newFriendBumpDisabledSetting:a[15],globalMuteMessageUntil:a[2],globalMuteCallUntil:a[3],includeInSwitchAccountBadges:a[11],dismissNfbThreadsCount:a[16],mutePageAccountMessageReminder:a[17]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertNotificationsSettingsGraphQLSnapshotStoredProcedure";a.__tables__=["notification_settings"];e.exports=a}),null);
__d("LSDeleteThenInsertRankingRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(135).put({scoreType:a[0],requestId:a[1]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSRankingDeleteThenInsertRankingRequestStoredProcedure";a.__tables__=["ranking_requests"];e.exports=a}),null);
__d("LSDeleteThenInsertRankingScore",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(134).put({contactId:a[0],scoreType:a[1],contactType:a[2],score:a[3],scoreIndex:a[4]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSRankingDeleteThenInsertRankingScoreStoredProcedure";a.__tables__=["ranking_scores"];e.exports=a}),null);
__d("MAWDeanonDataCheck",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=b;c||(d=b+1);return a.length>=d}f.hasEnoughDeanonData=a}),66);
__d("MAWEBMsgsWithSameSortOrderFix",["MAWMessagesCompare","MAWMessagesDirection","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b==null)return a;b=(b=c("qex")._("23"))!=null?b:0;return a+b}function b(a){var b=a.direction,d=a.ebFetchResult,e=a.msgCount;a=a.referenceExternalId;if(!c("qex")._("18"))return d;e=h({direction:b,includeReferenceExternalId:!0,msgCount:e,referenceExternalId:a,sourceMsgs:[].concat(d.messages)});return babelHelpers["extends"]({},d,{hasMoreAfter:l({ebFetchResult:d,fetchDirection:b,fixedMessages:e,hasMoreDirection:"after"}),hasMoreBefore:l({ebFetchResult:d,fetchDirection:b,fixedMessages:e,hasMoreDirection:"before"}),messages:e})}function h(a){var b=a.direction,e=a.includeReferenceExternalId,f=a.msgCount,g=a.referenceExternalId;a=a.sourceMsgs;if(!c("qex")._("18"))return a;var h=k(a,b),l=d("MAWMessagesCompare").getSortComparisonFunctionForDirection(h);a=a.toSorted(l);l=a.findIndex(function(a){return a.externalId===g});if(m({fetchDirection:b,msgsDirection:h})){l=i({includeReferenceExternalId:e,referenceMsgIndex:l});return a.slice(l,l+f)}else{l=j({includeReferenceExternalId:e,msgsCount:a.length,referenceMsgIndex:l});b=Math.max(0,l-f+1);return a.slice(b,l+1)}}function i(a){var b=a.includeReferenceExternalId;a=a.referenceMsgIndex;return a===-1?0:b?a:a+1}function j(a){var b=a.includeReferenceExternalId,c=a.msgsCount;a=a.referenceMsgIndex;return a===-1?c-1:b?a:a-1}function k(a,b){var c;c=(c=a.find(function(a){return a.sortOrderMs!=null}))==null?void 0:c.sortOrderMs;a=(a=a.findLast(function(a){return a.sortOrderMs!=null}))==null?void 0:a.sortOrderMs;return c==null||a==null?d("MAWMessagesDirection").translateMawDirectionToMwpDirection(b):c>=a?"desc":"asc"}function l(a){var b=a.ebFetchResult,c=a.fetchDirection,e=a.fixedMessages;a=a.hasMoreDirection;if(c!==a||b.messages.length===0)return d("MAWMessagesDirection").switchOnMAWMessagesDirection(a,{after:b.hasMoreAfter,before:b.hasMoreBefore});if(e.length===0)return!0;var f=k(b.messages,c),g=d("MAWMessagesCompare").getSortComparisonFunctionForDirection(f);g=b.messages.toSorted(g);m({fetchDirection:c,msgsDirection:f})?(c=g[0],f=e[0]):(c=g[g.length-1],f=e[e.length-1]);return c.externalId===f.externalId?d("MAWMessagesDirection").switchOnMAWMessagesDirection(a,{after:b.hasMoreAfter,before:b.hasMoreBefore}):!0}function m(a){var b=a.fetchDirection;a=a.msgsDirection;return b==="before"&&a==="desc"||b==="after"&&a==="asc"}g.overFetchEBMsgsIfNeeded=a;g.fixEBFetchResultPagination=b;g.fixEBMessagesPagination=h}),98);
__d("MAWEBDeanonFetch",["EBMessageMetadataQuery","FBLogger","MAWEBMsgsWithSameSortOrderFix","WAJids","WAResultOrError","asyncToGeneratorRuntime","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chatJid,e=a.count,f=a.direction,g=a.includeReferenceTimestamp,h=a.referenceExternalId,i=a.referenceTimestampMs;a=a.sortFn;try{var j=d("MAWEBMsgsWithSameSortOrderFix").overFetchEBMsgsIfNeeded(e,h);j=(yield d("EBMessageMetadataQuery").messageMetadataQueryForMainThreadMAWDeanon({direction:f,includeAnonymizedMessages:!1,numberOfMessages:j,referenceTimestamp:i,threadId:d("WAJids").threadIdForChatJid(b)}));if(j.success===!1)return d("WAResultOrError").DEPRECATED_makeError("error",j.payload);b=j.value.messages;j=b.reduce(function(a,b){var c=b.offlineThreadingId;b=b.sortOrderMs;if(c==null||b==null)return a;b=Number(b);if(g!==!0&&b===i)return a;a.push({externalId:c,msgType:"unknown-deanon",sortOrderMs:b});return a},[]);b=d("MAWEBMsgsWithSameSortOrderFix").fixEBMessagesPagination({direction:f,includeReferenceExternalId:g,msgCount:e,referenceExternalId:h,sourceMsgs:j});f=a==null?b:b.sort(a);return d("WAResultOrError").makeResult(f)}catch(a){e=c("getErrorSafe")(a);c("FBLogger")("messenger_web_missing_messages").catching(e).mustfix("Deanon GraphQL fails with error");return d("WAResultOrError").DEPRECATED_makeError("request-error",e)}});return h.apply(this,arguments)}g.fetchMessagesMetadataFromEBDeanon=a}),98);
__d("MAWMessagesPaginationUtils",["FBLogger","MAWFetchExternalIdUsingCache","MAWMessagesDirection","Promise","WAStanzaUtils","asyncToGeneratorRuntime","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){a=d("MAWMessagesDirection").getRangeMsgIdForDirection(a,b);return i(a)}function e(a){c("qex")._("18")&&a.forEach(function(a){return d("MAWFetchExternalIdUsingCache").populateExternalIdCache(a.msgId.toString(),d("WAStanzaUtils").toStanzaId(a.externalId))})}function i(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a==null||a==="")return null;if(!c("qex")._("18"))return null;var b=(yield d("MAWFetchExternalIdUsingCache").fetchExternalIdUsingCache(a));b==null&&c("FBLogger")("messenger_web").mustfix("[MAWMessagesPaginationUtils] getExternalIdByMsgId for msgId: %s returned null",a);return b});return j.apply(this,arguments)}function f(a,c,d){if(a===c)return(h||(h=b("Promise"))).resolve(d);else return k(c)}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!c("qex")._("18"))return{maxExternalId:null,minExternalId:null};var b=(yield i(a.minMessageId));a=(yield i(a.maxMessageId));return{maxExternalId:a==null?void 0:a.toString(),minExternalId:b==null?void 0:b.toString()}});return l.apply(this,arguments)}g.getRangeExternalIdForDirection=a;g.populateExternalIdCache=e;g.getExternalIdByMsgId=i;g.getMessagesRangesV2ExternalIdsIfChanged=f;g.getMessagesRangesV2ExternalIds=k}),98);
__d("MAWFetchEBDeanonMessagesMetadata",["DateConsts","EBFormatUtils","FBLogger","I64","MAWEBDeanonFetch","MAWMessagesDirection","MAWMessagesPaginationUtils","Promise","WAResultOrError","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=100,k="timeout",l=10*d("DateConsts").MS_PER_SEC;function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.chatJid,f=a.direction,g=a.includeReferenceTimestamp,m=a.logger,n=a.range;a=a.sortFn;c("FBLogger")("messenger_web").info("EBMessageRangeDataSource: Issuing fetch request to EB Deanon API");m==null||m.markQPLPoint("eb_fetch_deanon_start");var o=d("MAWMessagesDirection").translateMwpDirectionToMawDirection(f),p=(i||(i=d("I64"))).to_float(d("EBFormatUtils").adjustTs(d("MAWMessagesDirection").getI64RangeTimestampForDirection(f,n),o));f=(yield d("MAWMessagesPaginationUtils").getRangeExternalIdForDirection(f,n));return(h||(h=b("Promise"))).race([d("MAWEBDeanonFetch").fetchMessagesMetadataFromEBDeanon({chatJid:e,count:j,direction:o,includeReferenceTimestamp:g,referenceExternalId:f,referenceTimestampMs:p,sortFn:a}),new h(function(a){return window.setTimeout(function(){return a(d("WAResultOrError").makeError(k))},l)})]).then(function(a){m==null||m.markQPLPoint("eb_fetch_deanon_end");return a})});return m.apply(this,arguments)}g.fetchEBDeanonMessagesMetadata=a}),98);
__d("useAsyncReStore",["LSDatabaseSingleton","Promise","ReStoreProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;c=i||d("react");var l=c.useContext,m=c.useMemo;function a(){var a=l((k||(k=d("ReStoreProvider.react"))).context);return m(function(){return a!=null?(h||(h=b("Promise"))).resolve(a):(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton},[a])}g["default"]=a}),98);
__d("MAWSubscribeToLSTruncateMetadataThreads",["I64","Int64Hooks","MAWMiActMappingTableAPI","gkx","promiseDone","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b){return!c("gkx")("9855")?function(){}:d("MAWMiActMappingTableAPI").subscribeToMappingDeletion(a,b)};function a(a,b){var e=c("useAsyncReStore")();d("Int64Hooks").useEffectInt64(function(){if(!c("gkx")("9855"))return;var f=e.then(function(c){return i(c,function(c,e){(h||(h=d("I64"))).equal(e,a)&&b()})});return function(){c("promiseDone")(f,function(a){return a()})}},[a,e,b])}g.subscribeToLSTruncateMetadataThreads=i;g.useLSTruncateMetadataThread=a}),98);
__d("MAWFetchDeanonMetadataUsingCache",["I64","MAWDeanonDataCheck","MAWFetchEBDeanonMessagesMetadata","MAWMessagesCompare","MAWMessagesDirection","MAWSubscribeToLSTruncateMetadataThreads","WAJids","WAResultOrError","WATagsLogger","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("WATagsLogger").TAGS(["MAWFetchDeanonMetadataUsingCache"]),l=new Map(),m=c("justknobx")._("3763"),n=new Map(),o=null;function a(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chatJid,c=a.db,e=a.direction,f=a.isFirstPage,g=a.logger,h=a.pageSize,j=a.range;a=a.sortFn;r(c);c=q(b,e,g,j);if(c!=null){g==null||g.addQPLAnnotations({bool:{is_first_page:f},"int":{deanon_cached_data_size:c==null?void 0:c.length}});if(d("MAWDeanonDataCheck").hasEnoughDeanonData(c,h,f)){k.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Using cached Deanon messages metadata for comparison to local data"])));g==null||g.addQPLAnnotations({bool:{is_deanon_cached_data_used:!0}});return d("WAResultOrError").makeResult(c)}}h=(yield d("MAWFetchEBDeanonMessagesMetadata").fetchEBDeanonMessagesMetadata({chatJid:b,direction:e,includeReferenceTimestamp:!f,logger:g,range:j,sortFn:a}));h.success===!0&&(g==null||g.addQPLAnnotations({bool:{is_deanon_data_fetched:!0}}),t(b,e,g,h.value,j));return h});return p.apply(this,arguments)}function q(a,b,c,e){c==null||c.markQPLPoint("deanon_cache_fetch_start");u(a,b);a=(a=l.get(d("WAJids").threadIdForChatJid(a)))==null?void 0:a.get(b);if(a==null)return null;var f=d("MAWMessagesDirection").getI64RangeTimestampForDirection(b,e);e=(j||(j=d("I64"))).ge(f,a.minTimestampMs)&&(j||(j=d("I64"))).le(f,a.maxTimestampMs);if(!e)return null;e=d("MAWMessagesDirection").switchOnMWPMessagesDirection(b,{asc:a.msgsMetadata.findIndex(function(a){return(j||(j=d("I64"))).ge(j.of_float(a.sortOrderMs),f)}),desc:a.msgsMetadata.findIndex(function(a){return(j||(j=d("I64"))).le(j.of_float(a.sortOrderMs),f)})});b=a.msgsMetadata.slice(e);c==null||c.markQPLPoint("deanon_cache_fetch_end");return b}function r(a){if(o!=null)return;o=d("MAWSubscribeToLSTruncateMetadataThreads").subscribeToLSTruncateMetadataThreads(a,function(a,b){b=(j||(j=d("I64"))).to_string(a);l["delete"](b);n["delete"](b)})}function s(a,b,c,e){var f;a=d("WAJids").threadIdForChatJid(a);f=(f=l.get(a))!=null?f:new Map();f.set(b,{maxTimestampMs:e.max,minTimestampMs:e.min,msgsMetadata:c});l.set(a,f)}function t(a,b,c,e,f){if(e.length===0)return;c==null||c.markQPLPoint("deanon_cache_replace_start");var g=(j||(j=d("I64"))).of_float(e[e.length-1].sortOrderMs);f=d("MAWMessagesDirection").switchOnMWPMessagesDirection(b,{asc:{max:g,min:f.maxTimestampMs},desc:{max:f.minTimestampMs,min:g}});s(a,b,e,f);c==null||c.markQPLPoint("deanon_cache_replace_end")}function e(a,b){if(b.length===0)return;b=[].concat(b).sort(d("MAWMessagesCompare").getSortComparisonFunctionForDirection("desc"));var c=0,e=b.length-1;while(c<e&&b[c].sortOrderMs===b[c+1].sortOrderMs)c++;if(c===e)return;e=(j||(j=d("I64"))).of_float(b[e].sortOrderMs);n.set(j.to_string(a),{insertTime:Date.now(),minTimestampMs:e,msgsMetadata:b.slice(c)})}function u(a,b){var c=v(a,b);if(c==null)return;k.LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Using init-sync deanon data for ",""])),a);s(a,b,c.msgsMetadata,{max:(j||(j=d("I64"))).max_int,min:c.minTimestampMs});n["delete"](d("WAJids").threadIdForChatJid(a))}function v(a,b){if(b!=="desc")return;b=Date.now();a=n.get(d("WAJids").threadIdForChatJid(a));if(a!=null&&b-a.insertTime>m)return;return a}g.MAWFetchDeanonMetadataUsingCache=a;g.fetchDeanonDataFromCache=q;g.initDeanonCacheDescForThread=e}),98);
__d("LSFillDeanonCacheForE2EEThread.nop",["I64","LSShape","LSSynchronousPromise","LSVec","MAWFetchDeanonMetadataUsingCache","PromiseOrValue","ReQL","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(a,b,e,f){if(!c("gkx")("15959"))return d("LSSynchronousPromise").makeSynchronousPromise();var g=c("LSVec").toArray(f).map(function(a){a=d("LSShape").toRecord(a);var b=a.offline_threading_id;a=a.sort_order_ms;return{externalId:b,msgType:"unknown-deanon",sortOrderMs:(h||(h=d("I64"))).to_float(a)}});b=d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(e).iterator(new WeakMap());return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise((i||(i=d("PromiseOrValue"))).map(b.next(),function(a){var b;((b=a.value)==null?void 0:b[1].jid)!=null&&d("MAWFetchDeanonMetadataUsingCache").initDeanonCacheDescForThread(a.value[1].jid,g)}))};a.__nop_name__="LSFillDeanonCacheForE2EEThread";g["default"]=a}),98);
__d("LSFillDeanonCacheForE2EEThread",["LSFillDeanonCacheForE2EEThread.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.nativeOperation(b("LSFillDeanonCacheForE2EEThread.nop"),a[0],a[1])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxFillDeanonCacheForE2EEThreadStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSShimHybridThreadDeleteByThreadKey.nop",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){});function c(b,c,d){return a.apply(this,arguments)}return c}();a.__nop_name__="LSShimHybridThreadDeleteByThreadKey";f["default"]=a}),66);
__d("LSHybridThreadDelete",["LSShimHybridThreadDeleteByThreadKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.nativeOperation(b("LSShimHybridThreadDeleteByThreadKey.nop"),a[0])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxHybridThreadDeleteStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssueFetchThreadCapabilitiesTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSMailboxIssueFetchThreadCapabilitiesTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssueInsertPersistentMenuItemsForThreadTask",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"insert_persistent_menu_items",c.i64.cast([0,117]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSOmnistoreSettingsIssueInsertPersistentMenuItemsForThreadTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSMarkThreadReadV2",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,0]):(b=a.item,d[0]=b.lastActivityTimestampMs)})},function(e){return c.i64.gt(d[0],a[1])?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.count(c.filter(c.db.table(12).fetch([[[a[0],{gt:a[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(b.senderId,d[2])&&c.i64.gt(b.timestampMs,a[1])})).then(function(a){return d[3]=a})},function(b){return c.count(c.db.table(12).fetch([[[a[0],{gt:a[1]}]]])).then(function(a){return d[4]=a})},function(b){return c.i64.eq(d[3],d[4])&&c.i64.gt(d[4],c.i64.cast([0,0]))?c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a=a.item;return b({lastReadWatermarkTimestampMs:a.lastActivityTimestampMs})}):c.forEach(c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.gt(a[1],b.lastReadWatermarkTimestampMs)}),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[1]})})}]):c.forEach(c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.gt(a[1],b.lastReadWatermarkTimestampMs)}),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[1]})})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxMarkThreadReadV2StoredProcedure";a.__tables__=["threads","messages"];e.exports=a}),null);
__d("LSGroupRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.neq(a.groupRoomType,void 0)&&b.i64.neq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesGroupRoomTruncateStoredProcedure";a.__tables__=["rooms"];e.exports=a}),null);
__d("LSUpdateOrInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).add({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:a[59],isDisappearingMode:a[60],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],metadata:a[107],capabilities4:a[108],syncSource:a[109],capabilities5:a[110],ongoingCallTimestampMs:a[111]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[38],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[38],a[10]],c[5]=d[0],c[6]=d[1],d),b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[32],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],metadata:a[107],capabilities4:a[108],syncSource:a[109],capabilities5:a[110],ongoingCallTimestampMs:a[111],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,draftMessage:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,typingIndicatorDisabled:void 0})})):b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],metadata:a[107],capabilities4:a[108],syncSource:a[109],capabilities5:a[110],ongoingCallTimestampMs:a[111],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,draftMessage:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,typingIndicatorDisabled:void 0})}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateOrInsertThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSPopulateCommunityFolderData",["LSDeleteThenInsertCommunityFolder","LSUpdateOrInsertThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(d){return c.storedProcedure(b("LSDeleteThenInsertCommunityFolder"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],void 0,void 0,void 0,a[11],a[12],a[13],a[14],a[15],void 0,a[16],a[17],a[18],void 0,a[19],a[20],a[21],a[22],a[23],void 0,void 0,a[24],a[26],void 0,void 0,a[25],a[37],void 0,void 0,c.i64.cast([0,0]),a[29],void 0,c.i64.cast([0,1]),a[28],a[27],a[30],a[31],a[32],a[33],void 0,a[34],a[35],a[36],a[38],a[39],void 0,void 0,c.i64.cast([0,80]))},function(d){return c.storedProcedure(b("LSUpdateOrInsertThread"),a[8],a[9],a[10],a[2],a[5],void 0,c.i64.cast([0,80]),a[0],c.i64.cast([0,0]),c.i64.cast([0,17]),"community",a[6],a[7],c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([-1,4294967282]),void 0,void 0,void 0,void 0,void 0,void 0,!1,!1,!1,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,!1,void 0,void 0,void 0,void 0,!1,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,a[40],void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0)}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxPopulateCommunityFolderDataStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSRemoveTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.forEach(b.db.table(2).fetch([[[e.queueName,{lte:a[0]}]],"queueNameTaskId"]),function(a){var d=a.item;return b.sequence([function(a){return c[0]=d.taskDispatchPriority,b.forEach(b.filter(b.db.table(2).fetch([[[d.taskId]]]),function(a){return b.i64.eq(a.taskId,d.taskId)&&a.queueName===d.queueName}),function(a){return a["delete"]()})},function(a){return b.i64.eq(c[0],b.i64.cast([0,1e3]))||b.i64.eq(c[0],b.i64.cast([0,2e3]))?c[1]=b.i64.cast([0,734739218]):c[1]=b.i64.cast([0,734737036])}])}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreRemoveTaskStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.eq(a.groupRoomType,void 0)||b.i64.eq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesRoomTruncateStoredProcedure";a.__tables__=["rooms"];e.exports=a}),null);
__d("LSTaskExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreTaskExistsStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSTruncateCommunityListTable",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(166).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateCommunityListTableStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSTruncateNotificationSettings",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(175).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateNotificationSettingsStoredProcedure";a.__tables__=["notification_settings"];e.exports=a}),null);
__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSyncCompletedTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSUpsertGradientColor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(117).put({themeFbid:a[0],gradientIndex:a[1],color:a[2],type_:a[3]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSThreadThemeUpsertGradientColorStoredProcedure";a.__tables__=["gradient_colors"];e.exports=a}),null);
__d("LSUpsertTheme",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.i64.neq(a[12],void 0)?c[0]=a[12]:c[0]=a[0],b.db.table(116).put({fbid:a[0],themeIdx:a[1],fallbackColor:a[2],reverseGradiantsForRadial:a[3],accessibilityLabel:a[4],iconUrl:a[5],iconUrlFallback:a[6],backgroundUrl:a[8],description:a[9],isDeprecated:a[11],normalThemeId:c[0],appColorMode:a[13],titlebarBackgroundColor:a[14],titlebarButtonTintColor:a[15],titlebarTextColor:a[16],titlebarAttributionTextColor:a[17],composerTintColor:a[18],composerUnselectedTintColor:a[19],composerInputTextPlaceholderColor:a[20],composerInputBackgroundColor:a[21],composerInputBorderColor:a[22],composerInputBorderWidth:a[23],composerBackgroundColor:a[24],messageTextColor:a[25],messageBorderColor:a[26],messageBorderWidth:a[27],incomingMessageTextColor:a[28],incomingMessageBorderColor:a[29],incomingMessageBorderWidth:a[30],deliveryReceiptColor:a[31],tertiaryTextColor:a[32],primaryButtonBackgroundColor:a[33],hotLikeColor:a[34],reactionPillBackgroundColor:a[35],secondaryTextColor:a[36],quotedIncomingMessageBubbleColor:a[37],cornerRadius:a[38],blurredComposerBackgroundColor:a[39],composerSecondaryButtonColor:a[40],composerPlaceholderTextColor:a[41]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSThreadThemeUpsertThemeStoredProcedure";a.__tables__=["thread_themes"];e.exports=a}),null);
__d("LSStaticDependencies",["LSDeleteAllCommunityChannelCategories","LSDeleteAllCommunityFolders","LSDeleteThenInsertCmCommunityList","LSDeleteThenInsertContact","LSDeleteThenInsertMessageRequest","LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSGroupRoomTruncate","LSPopulateCommunityFolderData","LSRemoveTask","LSRoomTruncate","LSSetRegionHint","LSTaskExists","LSTruncateCommunityListTable","LSTruncateNotificationSettings","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpsertGradientColor","LSUpsertSequenceId","LSUpsertTheme","LSVerifyContactRowExists"],(function(a,b,c,d,e,f,g){"use strict";a={deleteAllCommunityChannelCategories:c("LSDeleteAllCommunityChannelCategories"),deleteAllCommunityFolders:c("LSDeleteAllCommunityFolders"),deleteThenInsertCmCommunityList:c("LSDeleteThenInsertCmCommunityList"),deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertMessageRequest:c("LSDeleteThenInsertMessageRequest"),deleteThenInsertNotificationsSettingsGraphQLSnapshot:c("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),groupRoomTruncate:c("LSGroupRoomTruncate"),populateCommunityFolderData:c("LSPopulateCommunityFolderData"),removeTask:c("LSRemoveTask"),roomTruncate:c("LSRoomTruncate"),setRegionHint:c("LSSetRegionHint"),taskExists:c("LSTaskExists"),truncateCommunityListTable:c("LSTruncateCommunityListTable"),truncateNotificationSettings:c("LSTruncateNotificationSettings"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),upsertGradientColor:c("LSUpsertGradientColor"),upsertSequenceId:c("LSUpsertSequenceId"),upsertTheme:c("LSUpsertTheme"),verifyContactRowExists:c("LSVerifyContactRowExists")};b=a;g["default"]=b}),98);
__d("LSStoreProjectConfiguration",["LSBase64Decode.nop","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[4]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.blobs.neq(d[0],void 0)?c.db.table(307).put({configId:a[1],projectName:a[0],cipherSuite:a[5],publicKey:d[0],maxEvals:a[2],redemptionLimit:a[3],expirationTimestampMs:a[6],tokenPollFrequencyMs:a[7],maxClientTokenPoolSize:a[8]}):(function(a){c.logger(a).info(a)}("issuing retry for project configurations task since public key was null"),d[1]=new c.Map(),d[1].set("project_name",a[0]),d[2]=d[1].get("project_name"),d[3]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),["acs_credentials","_",d[2]].join(""),c.i64.cast([0,351]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsStoreProjectConfigurationStoredProcedure";a.__tables__=["secure_acs_configurations"];e.exports=a}),null);
__d("LSSyncBumpThreadDataToClient",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.ge(a[1],b.lastActivityTimestampMs)}).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.sequence([function(e){return c.i64.eq(f.parentThreadKey,c.i64.cast([-1,4294967286]))&&c.i64.eq(a[2],c.i64.cast([0,2]))?(d[0]=new c.Map(),d[0].set("thread_fbid",a[0]),d[0].set("force_upsert",!1),d[0].set("use_open_messenger_transport",!1),d[0].set("sync_group",c.i64.cast([0,95])),d[0].set("metadata_only",!1),d[0].set("preview_only",!1),d[1]=d[0].get("thread_fbid"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,209]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:a[1]})})},function(b){return c.i64.eq(a[2],c.i64.cast([0,1]))?c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[1]})}):c.i64.eq(a[2],c.i64.cast([0,2]))?c.resolve(0):c.i64.eq(a[2],c.i64.cast([0,3]))?c.i64.ge(f.lastReadWatermarkTimestampMs,f.lastActivityTimestampMs)?c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[1]})}):c.resolve():c.resolve(0)}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxSyncBumpThreadDataToClientStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSTransportHybridParticipantUpdateReceipts",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTransportHybridParticipantUpdateReceiptsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTriggerReenrollementFromOptOutDelta",["LSArrayGetObjectAt","LSDeleteAndReenrollDeviceState","LSIsEncryptionVersionSecure"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[0]=f[0],d[1]=f[1],d[2]=f[2],d[3]=f[3],d[4]=f[4],d[5]=f[5],d[6]=f[6],d[7]=f[7],d[8]=f[8],d[9]=f[9],d[10]=f[10],d[11]=f[11],d[12]=f[12],d[13]=f[13],d[14]=f[14],d[15]=f[15],d[16]=f[16],d[17]=f[17],f):(e=a.item,c.sequence([function(a){return d[26]=e.backupTenancy,d[25]=e.encryptionVersion,d[21]=void 0,c.i64.neq(d[21],void 0)?c.resolve(d[22]=d[21]):c.sequence([function(a){return d[27]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[28]=a[0],a})},function(a){return d[28]?d[37]=(d[27].push(c.i64.cast([0,0])),d[27]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[29]?d[37]=(d[27].push(c.i64.cast([0,2])),d[27]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[30]=a[0],a})},function(a){return d[30]?d[37]=(d[27].push(c.i64.cast([0,3])),d[27]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[31]?d[37]=(d[27].push(c.i64.cast([0,4])),d[27]):0,d[32]=c.createArray(),d[33]=c.i64.of_int32(d[27].length),c.i64.gt(d[33],c.i64.cast([0,0]))?c.loopAsync(d[33],function(a){return d[37]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[27],d[37]).then(function(a){return a=a,d[38]=a[0],d[39]=a[1],a})},function(a){return d[40]=(d[32].push(d[38]),d[32])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[37]=c.createArray(),d[38]=c.i64.of_int32(d[32].length),c.i64.gt(d[38],c.i64.cast([0,0]))?c.loopAsync(d[38],function(a){return d[40]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[32],d[40]).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return d[43]=(d[37].push(c.i64.to_string(d[41])),d[37])}])}):c.resolve()},function(a){return d[39]=d[37].join(","),d[34]=d[39]}])},function(a){return d[32].some(function(a){return c.i64.eq(d[25],a)})?d[35]=d[25]:d[35]=void 0,c.i64.neq(d[35],void 0)?d[36]=d[35]:d[36]=void 0,d[22]=d[36]}])},function(a){return c.i64.neq(d[22],void 0)?d[23]=d[22]:d[23]=c.i64.cast([0,0]),c.i64.neq(d[26],void 0)?d[24]=d[26]:d[24]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[23],d[24],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],d[4]=a[4],d[5]=a[5],d[6]=a[6],d[7]=a[7],d[8]=a[8],d[9]=a[9],d[10]=a[10],d[11]=a[11],d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15],d[16]=a[16],d[17]=a[17]}]))})},function(e){return d[19]=!1,d[20]=c.i64.of_int32(a[1].length),c.i64.gt(d[20],c.i64.cast([0,0]))?c.loopAsync(d[20],function(e){return d[21]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[1],d[21]).then(function(a){return a=a,d[22]=a[0],d[23]=a[1],a})},function(a){return d[19]=d[19]||c.i64.eq(d[22],d[1])}])}):c.resolve()},function(e){return d[19]&&c.i64.eq(a[0],d[0])?c.i64.neq(d[1],void 0)?c.storedProcedure(b("LSDeleteAndReenrollDeviceState"),d[1],c.i64.cast([0,6])):c.resolve():c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsTriggerReenrollementFromOptOutDeltaStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSTruncateMetadataThreads.nop",["I64","LSIntEnum","Promise","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("gkx")("9855")){e=a.mi_act_mapping_table.keys(new WeakMap());while(!0){var f,g=(yield e.next());if(g.done)break;yield (f=a.mi_act_mapping_table)["delete"].apply(f,g.value)}f=d("ReQL").fromTableAscending(a.threads).filter(function(a){return a.syncGroup!=null&&(i||(i=d("I64"))).equal(a.syncGroup,(j||(j=d("LSIntEnum"))).ofNumber(95))}).iterator(new WeakMap());while(!0){g=(yield f.next());if(g.done)break;yield (e=a.threads)["delete"].apply(e,g.value[0])}}return(h||(h=b("Promise"))).resolve()});function e(b,c){return a.apply(this,arguments)}return e}();a.__nop_name__="LSTruncateMetadataThreads";g["default"]=a}),98);
__d("LSTruncateMetadataThreads",["LSTruncateMetadataThreads.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(a){return c.nativeOperation(b("LSTruncateMetadataThreads.nop"))},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTruncateMetadataThreadsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateCommunityThreadStaleState",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.filter(b.db.table(9).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&([b.i64.cast([0,23]),b.i64.cast([0,21]),b.i64.cast([0,18]),b.i64.cast([0,26]),b.i64.cast([0,27])].some(function(a){return b.i64.eq(c.threadType,a)})||b.i64.eq(c.threadType,b.i64.cast([0,152])))}).next().then(function(c,d){d=c.done;c=c.value;return d?0:(c.item,b.db.table(294).fetch([[[a[0]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?b.db.table(294).add({threadKey:a[0],threadQueueSequenceId:b.i64.cast([0,0]),isStale:a[1]}):(c.item,b.forEach(b.db.table(294).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({isStale:a[1]})}))}))})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateCommunityThreadStaleStateStoredProcedure";a.__tables__=["threads","community_thread_sync_info"];e.exports=a}),null);
__d("LSUpdateOrInsertCommunitySurfaceRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(253).put({surfaceType:a[0],communityKey:a[1],isLoadingAfter:!1,hasMoreAfter:a[2],nextPageCursor:a[4]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateOrInsertCommunitySurfaceRangeStoredProcedure";a.__tables__=["community_surface_ranges"];e.exports=a}),null);
__d("LSUpdateOrInsertOhaiGatewayKeyConfigs",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(313).put({keyId:a[0],publicKey:a[1],kemId:a[2],kdfId:a[3],aeadId:a[4],expirationDate:a[5],lastUpdatedTime:a[6]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOhaiUpdateOrInsertOhaiGatewayKeyConfigsStoredProcedure";a.__tables__=["ohai_gateway_key_configs"];e.exports=a}),null);
__d("LSUpdateThreadActivityStatus",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(e){return d[2]=new c.Map(),d[2].set("thread_fbid",a[0]),d[2].set("force_upsert",!1),d[2].set("use_open_messenger_transport",!1),d[2].set("sync_group",c.i64.cast([0,104])),d[2].set("metadata_only",!1),d[2].set("preview_only",!1),d[3]=d[2].get("thread_fbid"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,209]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(e){return d[5]=c.createArray(),d[8]=(d[5].push(a[0]),d[5]),d[6]=new c.Map(),d[6].set("number_of_threads",c.i64.cast([0,1])),d[6].set("event_type","issue_tpq_for_verify_threads_activity_status"),d[6].set("thread_ids",d[5]),d[7]=c.toJSON(d[6]),c.storedProcedure(b("LSIssueNewTask"),"log_community_resnapshot_event",c.i64.cast([0,576]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[0]=c.i64.cast([0,2])}]):(f=e.item,c.sequence([function(b){return c.i64.lt(f.lastActivityTimestampMs,a[1])?c.sequence([function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:a[1],snippet:a[2]})})},function(a){return d[2]=c.i64.cast([0,1])}]):c.resolve(d[2]=c.i64.cast([0,0]))},function(a){return d[0]=d[2]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateThreadActivityStatusStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSShimGetServerThreadKeyFromJIDV2.nop",["ReQL","RetUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(c)));return d("RetUtil").getNullableRetResult(b==null?void 0:b.serverThreadKey)});function c(b,c,d){return a.apply(this,arguments)}return c}();a.__nop_name__="LSShimGetServerThreadKeyFromJIDV2";g["default"]=a}),98);
__d("LSReplaceOptimisticThread",["gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,b=a[a.length-1],d=[],e=[];return b.sequence([function(e){return b.db.table(9).fetch([[[a[1]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?b.forEach(b.filter(b.db.table(9).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.le(c.authorityLevel,b.i64.cast([0,20]))}),function(c){var d=c.update;c.item;return d({threadKey:a[1],authorityLevel:b.i64.cast([0,40])})}):(f=e.item,b.i64.le(f.authorityLevel,b.i64.cast([0,40]))?(c("gkx")("14697")?d[2]=!1:d[2]=!0,d[1]=d[2]):d[1]=!0,d[1]?b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()}):b.resolve())})},function(a){return b.resolve(e)}])}a.__sproc_name__="LSMailboxReplaceOptimisticThreadStoredProcedure";a.__tables__=["threads"];b=a;g["default"]=b}),98);
__d("LSUpdateOptimisticContextThreadKeys",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(32).fetch(),function(c){return b.i64.eq(c.threadKey,a[0])}),function(b){var c=b.update;b.item;return c({threadKey:a[1]})})},function(c){return b.forEach(b.filter(b.db.table(31).fetch(),function(c){return b.i64.eq(c.threadKey,a[0])}),function(b){var c=b.update;b.item;return c({threadKey:a[1]})})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateOptimisticContextThreadKeysStoredProcedure";a.__tables__=["threads_optimistic_context","messages_optimistic_context"];e.exports=a}),null);
__d("LSUpdateTaskQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(b){var c=b.update;b.item;return c({queueName:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateTaskQueueNameStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateTaskValue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(b){var c=b.update;b=b.item;return c({taskValue:b.taskValue.split(a[1]).join(a[2])})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateTaskValueStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateThreadAuthorityAndMapping",["LSHybridThreadDelete","LSIssueNewTask","LSReplaceOptimisticThread","LSShimGetServerThreadKeyFromJIDV2.nop","LSUpdateOptimisticContextThreadKeys","LSUpdateTaskQueueName","LSUpdateTaskValue"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSShimGetServerThreadKeyFromJIDV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?d[1]=!1:(a.item,d[1]=!0)})},function(b){return c.filter(c.db.table(9).fetch(),function(b){return c.i64.eq(b.threadKey,a[2])}).next().then(function(a,b){b=a.done;a=a.value;return b?d[3]=!1:(a.item,d[3]=!0)})},function(e){return d[5]=c.i64.neq(d[0],void 0),d[7]=c.i64.eq(d[0],a[2])&&d[5],!d[7]&&!(c.i64.eq(d[0],a[1])&&d[5])&&d[5]?function(a){c.logger(a).mustfix(a)}("The mi_act_mapping row did not correspond to either the authoritative or optimistic thread key."):0,c.i64.neq(a[2],void 0)?d[6]=a[2]:d[6]=c.i64.cast([0,0]),d[5]?d[7]?c.sequence([function(e){return d[1]?c.sequence([function(b){return c.db.table(173).fetch([[[a[1]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[8]=void 0:(b=a.item,d[8]=b.jid)})},function(e){return d[10]=new c.Map(),d[10].set("authoritative_thread_key",a[1]),d[10].set("jid_authoritative_mapped",d[8]),d[10].set("jid_optimistic_mapped",a[0]),d[10].set("optimistic_thread_key",a[2]),d[11]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTask"),"e2ee_log_incorrect_occam_mapping",c.i64.cast([0,160033]),d[11],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(d){return c.storedProcedure(b("LSHybridThreadDelete"),a[1])}]):c.resolve()},function(a){return c.i64.neq(d[6],void 0)?c.forEach(c.db.table(9).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({clientThreadKey:d[6]})}):c.resolve()},function(e){return c.storedProcedure(b("LSReplaceOptimisticThread"),d[6],a[1])},function(e){return c.storedProcedure(b("LSUpdateOptimisticContextThreadKeys"),d[6],a[1])}]):d[3]?c.storedProcedure(b("LSHybridThreadDelete"),d[6]):c.resolve():d[3]?d[1]?c.storedProcedure(b("LSHybridThreadDelete"),d[6]):c.sequence([function(a){return c.i64.neq(d[6],void 0)?c.forEach(c.db.table(9).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({clientThreadKey:d[6]})}):c.resolve()},function(e){return c.storedProcedure(b("LSReplaceOptimisticThread"),d[6],a[1])},function(e){return c.storedProcedure(b("LSUpdateOptimisticContextThreadKeys"),d[6],a[1])}]):c.resolve()},function(e){return d[3]?c.sequence([function(e){return d[9]=c.i64.to_string(d[6]),d[8]=c.i64.to_string(a[1]),c.storedProcedure(b("LSUpdateTaskQueueName"),d[9],d[8])},function(a){return c.storedProcedure(b("LSUpdateTaskValue"),d[8],d[9],d[8])}]):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateThreadAuthorityAndMappingStoredProcedure";a.__tables__=["threads","mi_act_mapping_table"];e.exports=a}),null);
__d("LSUpdateThreadAuthorityAndMappingWithOTIDFromJID",["LSShimGetServerThreadKeyFromJIDV2.nop","LSUpdateThreadAuthorityAndMapping"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSShimGetServerThreadKeyFromJIDV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.neq(d[0],a[1])?d[1]=d[0]:d[1]=void 0,c.storedProcedure(b("LSUpdateThreadAuthorityAndMapping"),a[0],a[1],d[1])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateThreadAuthorityAndMappingWithOTIDFromJIDStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSOnSendMessageFailure.nop",["MWChatInteraction","Promise","err","justknobx","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("sendToSentQPLLogger").__setRef("LSOnSendMessageFailure.nop");function a(a,d,e,f){if(!c("justknobx")._("1414"))return(h||(h=b("Promise"))).resolve();if(e==null)return(h||(h=b("Promise"))).resolve();var g=j(e);if(g==null)return(h||(h=b("Promise"))).resolve();c("promiseDone")(i.load().then(function(a){return a.markSendToSentFail(g,"send_message_server_error",c("err")("send_message_server_error: %s",f))}));return(h||(h=b("Promise"))).resolve()}function j(a){a=d("MWChatInteraction").get(d("MWChatInteraction").s2sKey(a));return a==null?null:Number(a)}a.__nop_name__="LSOnSendMessageFailure";g["default"]=a}),98);
__d("LSMarkOptimisticMessageFailed",["LSOnSendMessageFailure.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return a[2]===!0?d[0]=c.i64.cast([0,5]):d[0]=c.i64.cast([0,4]),a[2]===!0?d[1]=c.i64.cast([0,5]):d[1]=c.i64.cast([0,4]),a[2]===!0?d[2]=c.i64.cast([0,5]):d[2]=c.i64.cast([0,4]),c.nativeOperation(b("LSOnSendMessageFailure.nop"),a[0],a[1])},function(b){return c.forEach(c.filter(c.db.table(12).fetch([[[a[0]]],"optimistic"]),function(b){return b.offlineThreadingId===a[0]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(a){var b=a.update;a.item;return b({sendStatus:d[0],sendStatusV2:d[1]})})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxMarkOptimisticMessageFailedStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSMarkOptimisticMessageFailedStoredProcedure",["LSMarkOptimisticMessageFailed","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSMarkOptimisticMessageFailed"),e.optimisticMid,e.errorMessage,e.isRetryable);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWMarkMessageSendAsFailedLSDB",["LSFactory","LSMarkOptimisticMessageFailedStoredProcedure","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,d,e,g,i){return(d=g==null?void 0:g.runInTransaction(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield c("LSMarkOptimisticMessageFailedStoredProcedure")(c("LSFactory")(b),{errorMessage:e,isRetryable:i,optimisticMid:a})});return function(a){return d.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":29"))!=null?d:(h||(h=b("Promise"))).resolve()}g.markMessageSendAsFailed=a}),98);
__d("hasDefaultThreadOneToOneCapabilityDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("hasDefaultThreadOneToOneCapability").__setRef("hasDefaultThreadOneToOneCapabilityDeferred");g["default"]=a}),98);
__d("useCometMessengerhasDefaultThreadOneToOneCapability",["FBLogger","hasDefaultThreadOneToOneCapabilityDeferred","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a,b){var d=j(!1),e=d[0],f=d[1];i(function(){c("hasDefaultThreadOneToOneCapabilityDeferred").load().then(function(c){b==null?f(!1):c(b,a).then(function(a){f(a)})["catch"](function(){})})["catch"](function(a){c("FBLogger")("messenger_web").warn("Error loading hasDefaultThreadOneToOneCapability. %s",a)})},[a,e,b]);return e}g["default"]=a}),98);
__d("MAWThreadCutover",["I64","LSAuthorityLevel","LSContactBitOffset","LSDatabaseSingleton","LSMessagingThreadTypeUtil","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWPActor.react","MWPreloadableQueries","ReQL","ReQLSuspense","WAJids","asyncToGeneratorRuntime","useCometMessengerhasDefaultThreadOneToOneCapability","useMAWCanThreadBeCutoverOnDemand","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){var e=(j||(j=c("useReStore")))(),f=w(a);e=c("useCometMessengerhasDefaultThreadOneToOneCapability")(e,a);a=b!=null&&d("LSMessagingThreadTypeUtil").isGroup(b);return a?!0:f||e}function e(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(yield D(a))!=null});return k.apply(this,arguments)}function l(a){var b=(j||(j=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a!=null?d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a):d("ReQL").empty()},[b,a],f.id+":62")!=null}function m(a){var b,e=(j||(j=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return a!=null?d("MWPreloadableQueries").getCutoverThreadByThreadKey(e,a):d("ReQL").empty()},[e,a],f.id+":74"))==null?void 0:b.showOpenMessageHistory;return b===!1}function n(a){a=v(a);return m(a)}function o(a,b){return d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(b)}function p(a,b){return d("ReQL").fromTableAscending(a.tables.cutover_threads).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,b)})}function q(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():o(b,a)},[b,a],f.id+":112");return d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():p(b,e.jid)},[b,e],f.id+":120")}function r(a,b){return d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.openThreadId)}function s(a){a=t(a);if(a==null||(h||(h=d("I64"))).lt(a.authorityLevel,(h||(h=d("I64"))).of_int32(c("LSAuthorityLevel").SERVER_PARTIAL)))return;return a}function t(a){var b=(j||(j=c("useReStore")))(),e=q(a);return d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():r(b,e)},[b,e],f.id+":162")}function u(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():o(b,a)},[b,a],f.id+":174"),g=e==null?void 0:e.jid;e=d("ReQLSuspense").useFirst(function(){return g!=null?d("ReQL").fromTableAscending(b.tables.threads).getKeyRange(g):d("ReQL").empty()},[b.tables.threads,g],f.id+":183");var h=c("useMAWCanThreadBeCutoverOnDemand")(g);return h?e:void 0}function v(a){a=q(a);if(a!=null)return a.openThreadId}function w(a){return q(a)!=null}function x(a,b){b=d("WAJids").threadIdForChatJid(b);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange((h||(h=d("I64"))).of_string(b))).then(function(a){return a!=null})}function y(){var a=(j||(j=c("useReStore")))(),b=d("MWPActor.react").useActor();a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b),f.id+":223");return a!=null&&((b=d("LSContactBitOffset").has(75,a))!=null?b:!1)}function z(){var a=(j||(j=c("useReStore")))(),b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.experiences_shared_state).getKeyRange(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY)},[a],f.id+":238");b=d("MWEncryptedBackupsSharedState").getEntryValue({db:a,sharedStateRow:b,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY});return b!=null}function A(a){var b=(j||(j=c("useReStore")))(),e=a!=null?(h||(h=d("I64"))).of_string(a):void 0,g=l(e);return d("ReQLSuspense").useFirst(function(){if(g&&e!=null)return d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).filter(function(a){return(h||(h=d("I64"))).equal(a.jid,e)}).map(function(a){return(h||(h=d("I64"))).to_string(a.serverThreadKey)});else return d("ReQL").empty()},[b,e,g],f.id+":259")}function B(){return!0}function C(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){if(a!=null)return d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a);else return d("ReQL").empty()},[b,a],f.id+":286"),g=e==null?void 0:e.armadilloThreadId;e=d("ReQLSuspense").useFirst(function(){if(g!=null)return d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table.index("jid")).getKeyRange(g);else return d("ReQL").empty()},[g,b.tables.mi_act_mapping_table],f.id+":297");return e==null?void 0:e.serverThreadKey}function D(a){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton),c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).getKeyRange(a)));if(c==null)return void 0;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.cutover_threads).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,c.jid)})));return a});return E.apply(this,arguments)}g.useShouldHideE2eeAttribution=a;g.isCutoverThreadKey=e;g.useIsCutoverOpenThread=l;g.useIsDualThreadCutoverOpenThread=m;g.useIsDualThreadCutoverSecureThread=n;g.getMiActMappings=o;g.getCutoverThreadsByJid=p;g.useGetCutoverMapping=q;g.getThreadByCutoverThread=r;g.useOpenThreadIfExistsFromCutoverThread=s;g.useCutoverOpenThread=t;g.useODCutoverEligibleOpenOneToOneThread=u;g.useGetCutoverOpenThreadKey=v;g.useIsCutoverSecureThread=w;g.isCutoverSecureThreadFromChatJid=x;g.useIsCurrentUserCutoverUser=y;g.useGetHasUserRestoredBefore=z;g.useGetCutoverSecureThreadKey=A;g.useSupportedCutoverEnvironment=B;g.useCutoverSecureThreadKeyForOpenThreadKey=C;g.getCutoverThreadBySecureThreadKey=D}),98);
__d("useMAWCanThreadBeCutoverOnDemand",["LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.contacts,d("LSContactBitOffset").contactCapabilityFields).getKeyRange(a):d("ReQL").empty()},[e,a],f.id+":34");g=g!=null&&d("LSContactBitOffset").has(76,g);var i=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(a):d("ReQL").empty()},[e,a],f.id+":53");i=i?d("LSMessagingThreadTypeUtil").isOpenOneToOne(i.threadType):!1;b=((b=(b=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.messages_ranges_v2__generated,["minMessageId"]).getKeyRange(a):d("ReQL").empty()},[e,a],f.id+":67"))==null?void 0:b.minMessageId)!=null?b:"")==="";var j=d("MAWThreadCutover").useIsCutoverOpenThread(a),k=d("MAWThreadCutover").useIsCutoverSecureThread(a);j=j||k;return g&&i&&!b&&!j}g["default"]=a}),98);
__d("MAWThreadUtils",["LSIntEnum","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return a.threads.where("jid").equals(b).modify(c)}function b(a){a=d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return(h||(h=d("LSIntEnum"))).ofNumber(16)},user:function(){return(h||(h=d("LSIntEnum"))).ofNumber(15)}});return a}g.updateThreadWithJid=a;g.getLSThreadTypeFromJid=b}),98);
__d("MessageSendsClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1271");b=d("FalcoLoggerInternal").create("message_sends_client",a);e=b;g["default"]=e}),98);
__d("MWLogSend",["ErrorGuard","FBLogger","I64","LSMessagingThreadTypeUtil","LSPlatformLsInitLog","MessageSendsClientFalcoEvent","MultipleTabsLogger","Promise","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=[];function l(a){return function(){while(k.length>0)(j||(j=c("ErrorGuard"))).applyWithGuard(o,null,[a,k.shift(),!0])}}var m=!1;function n(a,b){k.push(b),m||(d("LSPlatformLsInitLog").onCompleteOrFail(l(a)),m=!0)}function o(a,e,f){e._mentionedJids;var g=e.actor,j=e.additionalTags,k=e.attachmentFbids,l=e.attachmentType,m=e.backend,o=e.ephemeralDurationInSec,p=e.hasReply,q=e.igdTargetType,r=e.initatingSource,s=e.isInstamadilloTTLC,t=e.messageSendDataclass,u=e.messagingThreadId,v=e.msgTtl,w=e.offlineThreadingId,x=e.sendType,y=e.source,z=e.threadKey,A=e.threadType;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield (i||(i=b("Promise"))).all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(z).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,g)})),d("MultipleTabsLogger").hasMultipleTabs()]).then(function(b){var i=b[0];b=b[1];if(i==null){var B=d("LSPlatformLsInitLog").isPending();if(B&&f!==!0){n(a,e);return}f===!0&&c("FBLogger")("meteora").warn("LS_INIT completed but participants table is still empty.")}var C=i.map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)});B=d("LSMessagingThreadTypeUtil").isOneToOne(A)&&(i==null?void 0:i.length)===0;B&&C.push((h||(h=d("I64"))).to_string(g));var D=u!=null?u:(h||(h=d("I64"))).to_string(z),E=v!=null?(h||(h=d("I64"))).to_string((h||(h=d("I64"))).of_float(v)):void 0,F=[b===!0?19:null,o!=null?15:null,s===!0?37:null].filter(Boolean);(D==null||D===""||(h||(h=d("I64"))).le(z,(h||(h=d("I64"))).zero))&&(e.waGroupJid!=null?c("FBLogger")("mw_log_send").mustfix("Thread FBID is null and recovered by chatJid in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(h||(h=d("I64"))).to_string(z),u,x):c("FBLogger")("mw_log_send").mustfix("Thread FBID is null in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(h||(h=d("I64"))).to_string(z),u,x));c("MessageSendsClientFalcoEvent").log(function(){return{additional_tags:j,backend:m,event_type:x,feature_tags:F,group_thread_subtype:void 0,igd_action:void 0,igd_target_type:q,igd_verb:void 0,initiating_app_id:void 0,initiating_source:r,is_reply:p,message_attachment_fbids:k.map(String),message_id:void 0,message_send_dataclass_logged:t,message_type:l,messaging_thread_fbid:D,messaging_thread_type:(h||(h=d("I64"))).to_int32(A),msg_ttl:E,nav_chain:void 0,nonce:void 0,offline_threading_id:w,recipient_fbids:C,send_attribution:h.to_int32(y),send_attribution_raw:void 0,view_mode:void 0,wa_group_jid:e.waGroupJid}})})})())}g.log=o}),98);
__d("MAWCommonSetupBridge",["BroadcastChannelFallback","BrowserLockManager","CurrentAppID","CurrentUser","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWBridge","MAWChatJid","MAWCrossWorkerPortal","MAWCurrentUser","MAWDbMedia","MAWInit","MAWJobActionsV2","MAWMIC","MAWReportSendMessageSuccessResult","MAWThreadCutover","MAWThreadUtils","MWLogSend","ODS","Promise","QPLEvent","QPLUserFlow","WACrossWorkerPortal","WADevToolMessageChannel","WADevToolsBridge","WAExceededStorageQuota","WAJids","cr:2691","gkx","justknobx","pageID","performanceAbsoluteNow","promiseDone","requireDeferred","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=c("requireDeferred")("MAWMainThreadLogger").__setRef("MAWCommonSetupBridge"),p=new Set([25312111,25311870]),q=new Map();e=new Map([[(a=d("MAWDbMedia")).MEDIA_TYPE.IMAGE,8],[a.MEDIA_TYPE.VIDEO,10],[a.MEDIA_TYPE.GIF,6],[a.MEDIA_TYPE.STICKER,4],[a.MEDIA_TYPE.PTT,11],[a.MEDIA_TYPE.DOCUMENT_FILE,9]]);var r=new Set([25312150,25313100,1056840931,25299294]),s=function(){return(n||(n=c("performanceAbsoluteNow")))()-Date.now()},t=s();function u(a,b,e){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(f){return d("MAWThreadCutover").isCutoverSecureThreadFromChatJid(f,a).then(function(a){c("QPLUserFlow").addAnnotations(b,{bool:{is_cutover:a}},{instanceKey:e})})})}var v=/[^a-zA-Z0-9._-]/g,w=/[.]+/g,x=/[\s_.-]+/g;function y(a){return a.replace(x,".").replace(v,"").replace(w,".")}var z={broadcastChannelFallback:function(a){var b=a.event;a=a.namespace;d("BroadcastChannelFallback").handleBroadcastChannelFallbackMessage(a,b)},handleMessageSendResult:function(a){a.success&&d("MAWReportSendMessageSuccessResult").reportSendMessageSuccessResult(a.report)},log:function(a){var b=a.logLevel,c=a.logString,e=a.tags;a=e.length>0;var f=""+(d("CurrentAppID").getAppID()||"unknown");switch(b){case"count":(j||(j=d("ODS"))).bumpEntityKey(3185,y("e2ee."+(a?e.join("."):c)),y("count."+(a?c+"."+f:f)),1);o.onReadyImmediately(function(a){a=a.count;return a(c,e)});return;case"log":o.onReadyImmediately(function(a){a=a.info;return a(c,e)});return;case"warn":o.onReadyImmediately(function(a){a=a.warn;return a(c,e)});return;case"logRestricted":o.onReadyImmediately(function(a){a=a.logRestricted;return a(c,e)});return;case"debug":break;case"error":break;default:break}},logError:function(a){var b=a.entriesToReport,c=a.framesToPop,d=a.logString,e=a.message,f=a.stack,g=a.tags;o.onReadyImmediately(function(a){a=a.logError;return a(d,g,e,f,c,b)})},odsBumpEntityKey:function(a){var b=a.amount,c=a.entity;a=a.key;(j||(j=d("ODS"))).bumpEntityKey(3185,c,a+"."+(d("CurrentAppID").getAppID()||"unknown"),b)},onJobFinished:function(a){a.type==="createGroup"&&a.originalArgs.key!=null&&d("MAWJobActionsV2").recentFinishedJobsCache.set(a.originalArgs.key,a.result);switch(a.type){case"sendAppData":var b=a.originalArgs,e=a.result;(b=b.args.contents.actions)==null||b.forEach(function(a){a=a.messageAction;if(a==null||a.type!=="delete_for_me"||e.type!=="not_sent")return;q.set(e.appDataExternalId,{chatJid:a.protocolMsgId.chat,externalId:a.protocolMsgId.externalId,type:"deleteMsgForMe"})});break}if(a.type==="sendWrittenAppData"){b=a.originalArgs.appDataExternalId;var f=q.get(b);q["delete"](b);if(f!=null&&f.type==="deleteMsgForMe"&&a.result.type==="success"){var g=f.chatJid,h=f.externalId,j=d("MAWThreadUtils").getLSThreadTypeFromJid(g);c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){c("promiseDone")(d("MAWChatJid").toThreadKey(a.tables,g,"MAWCommonSetupBridge::sendWrittenAppData").then(function(b){d("MWLogSend").log(a,{actor:(k||(k=d("I64"))).of_string(d("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:25,backend:1,hasReply:!1,messagingThreadId:k.to_string(b),offlineThreadingId:h,sendType:3,source:(l||(l=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN),threadKey:b,threadType:j})}))}))}}},qplEvent:function(a){var e,f=a.action,g=a.annotations,i=a.debugInfo,j=a.error,k=a.event,l=a.instanceKey,n=a.performanceAndDateSkew,o=a.timeoutInMs;a=a.timestamp;if(!c("CurrentUser").isEmployee()&&p.has((m||(m=d("QPLEvent"))).getMarkerId(k)))return;var q=l||0;l=g==null||(e=g.string)==null?void 0:e.jid;l=l!=null?d("WAJids").validateChatJid(l):void 0;l=r.has((m||(m=d("QPLEvent"))).getMarkerId(k))&&l!=null?u(l,k,q):(h||(h=b("Promise"))).resolve();var v=a!=null&&n!=null&&c("gkx")("8334")?a+n-t+s():a;switch(f.type){case"start":c("QPLUserFlow").start(k,{annotations:babelHelpers["extends"]({},g||{},{bool:babelHelpers["extends"]({},(g==null?void 0:g.bool)||{},{isArmadilloPublicLaunchUser:c("gkx")("23405"),isDev:0,isGifSearchEnbled:!0,isLockApiSupported:c("BrowserLockManager")!=null,isRestoreDBEnabled:c("gkx")("23906"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),s_pdb:c("gkx")("8483"),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()})}),instanceKey:q,timeoutInMs:o,timestamp:v});break;case"success":c("QPLUserFlow").addAnnotations(k,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:q});l["finally"](function(){c("QPLUserFlow").endSuccess(k,{annotations:g,instanceKey:q,timestamp:v})});break;case"cancel":c("QPLUserFlow").addAnnotations(k,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:q});l["finally"](function(){c("QPLUserFlow").endCancel(k,{annotations:g,cancelReason:f.cancelReason,instanceKey:q,timestamp:v})});break;case"point":g&&c("QPLUserFlow").addAnnotations(k,g,{instanceKey:q});(m||(m=d("QPLEvent"))).getMarkerId(k)===1056839232?d("MAWMIC").addPoint(f.name,v):c("QPLUserFlow").addPoint(k,f.name,{instanceKey:q,timestamp:v});break;case"annotations":c("QPLUserFlow").addAnnotations(k,g!=null?g:{},{instanceKey:q});break;case"failure":c("QPLUserFlow").addAnnotations(k,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{failureReason:f.name}},{instanceKey:q});l["finally"](function(){c("QPLUserFlow").endFailure(k,f.name,{annotations:g,instanceKey:q,timestamp:v})});break;case"error":c("QPLUserFlow").markError(k,f.name,{debugInfo:i,error:j,instanceKey:q});break;default:throw c("FBLogger")("messenger_web").mustfixThrow("Bridge sends unreachable qplEvent action type")}}},A=function(a,b){a.push(b);return a};f=function(a){var e=a.customizeEventHandlers;a=a.worker;d("MAWInit").MAWInit.logPoint("bridge_setup_start");var f=d("MAWBridge").getBridge();f.setHandlers("event",babelHelpers["extends"]({},z,e));e=d("MAWCrossWorkerPortal").getOrCreateCrossWorkerPortal(f,["backend","mps","waapi","ebsmapi"],A,{bridgeBatcherMaxTokens:Number.MAX_SAFE_INTEGER,portalCacheSize:c("justknobx")._("3092")});e.setPort(a);if(c("gkx")("3282")){var g=d("WADevToolsBridge").getDevToolBridge();a=new MessageChannel();var h=d("WACrossWorkerPortal").attachPortal(g,["backend"],A,c("pageID")),i=d("WACrossWorkerPortal").attachPortal(g,["devtool","mawDbDevTool"],A,c("pageID"));d("WADevToolMessageChannel").onCreateNewChannel(function(a){h.setPort(a.port1)});i.setPort(a.port1);b("cr:2691")==null||b("cr:2691").connectAddonPort(a.port2);e.addListener(function(a,b){return g.fireAndForget("devtool","bridgeMessage",{direction:b==="outgoing"?"toWorker":"toMain",msg:a,ts:Date.now()},!0)})}d("MAWMIC").addPoint("bridge_setup_done");d("MAWInit").MAWInit.logPoint("bridge_setup_end");return f};g.MEDIA_TYPE_TO_ATTACHMENT_TYPE=e;g.initBridge=f}),98);
__d("MAWGetAttachmentTypeForSendWrittenMsg",["MAWCommonSetupBridge"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g,h,i){if(f)return 43;if(a==="revokeMsg")return 26;if(g!=null)return g;if(c)return 3;if(e&&h===!1)return 13;if(i===!0)return 13;f=b!=null?d("MAWCommonSetupBridge").MEDIA_TYPE_TO_ATTACHMENT_TYPE.get(b):null;return f!=null?f:0}g.getAttachmentTypeForSendWrittenMsg=a}),98);
__d("MAWReportSendMessageSuccessResult",["BrowserLockManager","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWChatJid","MAWCurrentUser","MAWFrontendMediaUtils","MAWGetAttachmentTypeForSendWrittenMsg","MAWThreadUtils","MAWVault","MAWXMAUtils","MWLogSend","MultipleTabsLogger","URLMatcher","WAJids","asyncToGeneratorRuntime","gkx","justknobx","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{a=(yield d("MAWChatJid").toThreadKey(a.tables,b,"MAWCommonSetupBridge::sendWrittenMsg"));return a}catch(a){if(c("gkx")("10750")){c("FBLogger")("messenger_e2ee_web_send").warn("MAWCommonSetupBridge::sendWrittenMsg failed to get threadKey. With error: %s",a);return(h||(h=d("I64"))).zero}throw a}});return l.apply(this,arguments)}function m(a,e){var f,g=a.externalId,l=null,m=!1,n=!1;switch(a.messageType){case"editMsg":m=!0;break;case"revokeMsg":g=a.referencedExternalId;break;case"sendMsg":n=a.specialTextSize!=null;break;case"reactionMsg":l=a.reaction!=null?20:27;break;case"bumpMsg":break;case"noteReplyMsg":break;case"sendPoll":break;case"fixMe":return;default:a.messageType}var o=null;a.fileType!=null&&(o=d("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(a.fileType).mediaType);var p=a.xmaMessageType!=null,q=a.quote!=null||d("MAWXMAUtils").isXMAStoryReply(a.xmaMessageType);f=c("URLMatcher").match(d("MAWVault").unvault((f=a.content)!=null?f:""));f=f!=null&&f.length>0;var r=d("MAWGetAttachmentTypeForSendWrittenMsg").getAttachmentTypeForSendWrittenMsg(a.messageType,o,n,p,m,l,q,f),s=d("MAWThreadUtils").getLSThreadTypeFromJid(a.chatJid);c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=(a==null?void 0:a.source)!=null?a.source:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN),i=(yield k(b,a.chatJid)),l=d("WAJids").validateGroupJid(a.chatJid);d("MWLogSend").log(b,{actor:(h||(h=d("I64"))).of_string(d("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:r,backend:1,hasReply:q,initatingSource:a==null?void 0:a.initiatingSource,messageSendDataclass:e,messagingThreadId:h.to_string(i),msgTtl:(b=a.ephemeralSetting)==null?void 0:b.ephemeralExpirationInSec,offlineThreadingId:g,sendType:1,source:f,threadKey:i,threadType:s,waGroupJid:c("gkx")("10750")&&l!=null?d("WAJids").threadIdForChatJid(l):void 0})});return function(a){return f.apply(this,arguments)}}()))}function a(a){if(c("justknobx")._("154")&&d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()&&(c("BrowserLockManager")!=null&&!d("MultipleTabsLogger").hasUniqueLock()))return;m(a)}g.reportSendMessageSuccessResultFn=m;g.reportSendMessageSuccessResult=a}),98);
__d("MAWMessageSendReporter",["FBLogger","MAWMarkMessageSendAsFailedLSDB","MAWReportSendMessageSuccessResult","MAWSetupWorkerAuxStateForLogging","MWLogSendToSentFailedError","QPLUserFlow","WAGetSafeQPLError","asyncToGeneratorRuntime","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d,e){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h=e.qplEventType;e=e.qplInstanceKey;try{b=(yield b);if(b==null)return;if(b.success)b.value!=null?d("MAWReportSendMessageSuccessResult").reportSendMessageSuccessResultFn(b.value,g):c("QPLUserFlow").addPoint(h,"no-op",{instanceKey:e}),c("QPLUserFlow").endSuccess(h,{instanceKey:e});else{var j;g=b.error.isRetriable===!0;c("MWLogSendToSentFailedError")({qplEventType:h,qplInstanceKey:e},b.error.type,void 0,b.error.errorCode,b.error.applicationErrorCode);c("QPLUserFlow").endFailure(h,b.error.type,{annotations:{bool:{isRetriable:(j=b.error.isRetriable)!=null?j:!1,workerTerminatedPermanently:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently},"int":{errorCode:(j=b.error.errorCode)!=null?j:0},string:{details:(j=b.error.details)!=null?j:""},string_array:{worker_restart_msgs:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,worker_restart_reasons:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}},instanceKey:e});i(a,g,f)}}catch(k){c("MWLogSendToSentFailedError")({qplEventType:h,qplInstanceKey:e},"runtime-failure",k);c("QPLUserFlow").endFailure(h,"runtime-failure",{annotations:{bool:{workerTerminatedPermanently:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently},string:{errorDescription:d("WAGetSafeQPLError").getSafeQPLErrorMessage(k)},string_array:{worker_restart_msgs:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,worker_restart_reasons:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}},instanceKey:e});i(a,!1,f,k);c("FBLogger")("messenger_web").catching(k).mustfix("MAWMessageSendReporter");if(c("justknobx")._("4010")&&typeof k==="object"){b=String(k==null?void 0:k.message);j=String(k==null?void 0:k.messageParams);g=String(k==null?void 0:k.stack);c("FBLogger")("messenger_web").mustfix("Failed to send, e: %s. error params: %s. call stack: %s",b,j,g)}}});return h.apply(this,arguments)}function i(a,b,e,f){if(a==null)return;var g=a.chatJid;a=a.externalId;c("promiseDone")(d("MAWMarkMessageSendAsFailedLSDB").markMessageSendAsFailed(a,g,d("WAGetSafeQPLError").getSafeQPLErrorMessage(f),e,b))}g.MAWMessageSendReporter=a}),98);
__d("MAWMiActOnActThreadReadyWithoutValidator",["I64","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActOnActThreadReadyInstrumentation","MAWMiActOnActThreadReadyQueue","MAWMiActThreadLifecycleState__DO_NOT_USE","MWFBLogger","Promise","asyncToGeneratorRuntime","emptyFunction","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=d("MWFBLogger").MWLogger().tags(["Occam","MiActMapping"]);function m(a,b,c,d,e,f){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,j){var m=d("MAWMiActOnActThreadReadyInstrumentation").getOnActThreadReadyInstanceKey(e);d("MAWMiActOnActThreadReadyInstrumentation").startQPL(m,e,b,"onActThreadReady");d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(m,"get_thread_lifecycle_state_by_thread_key_start");j=j||(yield d("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByThreadKey(a,b,e));d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(m,"get_thread_lifecycle_state_by_thread_key_end");d("MAWMiActOnActThreadReadyInstrumentation").addAnnotationsQPL(m,{string:{threadState:j.type}});switch(j.type){case d("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case d("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:l.DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing thread action: ",", threadState: ",", threadKey: "," on act thread ready"])),e,j.type,(k||(k=d("I64"))).to_string(b));d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(m);return f(b,j.jid);case d("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.THREAD_KEY_ONLY:case d("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case d("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:l.DEBUG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Enqueue by thread key: ",", threadState: ",", threadKey: "," on act thread ready"])),e,j.type,(k||(k=d("I64"))).to_string(b));return d("MAWMiActOnActThreadReadyQueue").enqueueByThreadKey(b,f,g!=null?g:c("emptyFunction"),e,j.type,m);case d("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:d("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(m,"jid_missing_mi_or_mapping_state");throw l.mustfixThrow("Unhandled onActThreadReady for threadKey:%s, thread action: %s",(k||(k=d("I64"))).to_string(b),e);default:j.type;throw l.mustfixThrow(" Unreachable miActThreadState.type: %s",j.type)}});return n.apply(this,arguments)}function a(a,d,e){return new(j||(j=b("Promise")))(function(f,g){m(a,d,e,function(a,c){f({chatJid:c,serverThreadKey:a});return(j||(j=b("Promise"))).resolve()},function(a){return g(c("err")("Timed out waiting for ACT thread to be ready in %s. Thread state: %s",e,a))})["catch"](function(){return g()})})}g.onActThreadReadyWithoutValidator=m;g.waitForACTThreadReadyWithoutValidator=a}),98);
__d("MAWMiActOnActThreadReady",["MAWMIC","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActOnActThreadReadyWithoutValidator","Promise","asyncToGeneratorRuntime","cr:7542","err","promiseDone","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c,d,e){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){var h=(yield d("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByThreadKey(a,c,e)),i=h.type,j=function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(d,g){b("cr:7542")&&(yield b("cr:7542").load().then(function(b){b=b.validateActThreadReady;return b({chatJid:g,description:e,initialMappingStateType:i,tables:a,threadKey:c})}));return f==null?void 0:f(d,g)});return function(a,b){return d.apply(this,arguments)}}();return d("MAWMiActOnActThreadReadyWithoutValidator").onActThreadReadyWithoutValidator(a,c,e,j,g,h)});return j.apply(this,arguments)}function a(a,e,f,g){return new(h||(h=b("Promise")))(function(j,k){i(a,e,f,function(a,c){j({chatJid:c,serverThreadKey:a});return(h||(h=b("Promise"))).resolve()},function(a){k(c("err")("Timed out waiting for ACT thread to be ready in %s. Thread state: %s",f,a)),c("promiseDone")(d("MAWMIC").getState().then(function(a){g!=null&&d("sendToSentQPLLogger").addSendToSentAnnotations(g,{string:{mic_state:a}})}))})["catch"](function(){return k()})})}g.onActThreadReady=i;g.waitForACTThreadReady=a}),98);
__d("LSUpdateDisappearingSettingInClientThreadsTable.nop",["I64","LSMessagingThreadAttributionType","MAWBridgeFireAndForget","MAWBridgeSendAndReceive","MAWCurrentUser","MAWEphemeralMsgAutoResetSystemId","MAWJids","MAWMessageSendReporter","MAWMiActOnActThreadReady","Promise","ReQL","WATimeUtils","asyncToGeneratorRuntime","promiseDone","qpl","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(f)));if(g!=null)return d("MAWMiActOnActThreadReady").onActThreadReady(a,f,"LSUpdateDisappearingSettingInClientThreadsTable.nop",function(a,e){var f={ephemeralExpirationInSec:(i||(i=d("I64"))).to_int32((a=g.disappearingSettingTtl)!=null?a:(i||(i=d("I64"))).zero),ephemeralLastUpdatedOrSetTimestamp:d("WATimeUtils").castMilliSecondsToUnixTime(i.to_float((a=g.disappearingSettingUpdatedTs)!=null?a:(i||(i=d("I64"))).zero))};d("MAWBridgeFireAndForget").fireAndForget("backend","setEphemeralSettingCache",{jid:e,settings:f});if(g.disappearingSettingUpdatedBy!=null){a=(i||(i=d("I64"))).to_string(g.disappearingSettingUpdatedBy);var j=a===c("MAWEphemeralMsgAutoResetSystemId");if(a===d("MAWCurrentUser").getID()||j){var k=function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","setEphemeralSettingsFromFrontend",{chatJid:e,ephemeralExpirationInSec:f.ephemeralExpirationInSec,ephemeralLastUpdatedOrSetTimestamp:f.ephemeralLastUpdatedOrSetTimestamp,isEphemeralSettingReset:j,s2sInstanceKey:a})},l=d("sendToSentQPLLogger").markSendToSentStartWithAnnotation(g,{isEphemeralSetting:!0},c("LSMessagingThreadAttributionType").UNKNOWN);c("promiseDone")(d("MAWMessageSendReporter").MAWMessageSendReporter(null,k(l),{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:l}))}else d("MAWBridgeFireAndForget").fireAndForget("backend","setEphemeralSettingsFromMI",{author:d("MAWJids").toUserJid(a),chatJid:e,ephemeralExpirationInSec:f.ephemeralExpirationInSec,ephemeralLastUpdatedOrSetTimestamp:f.ephemeralLastUpdatedOrSetTimestamp,fromWAI:!1,isEphemeralSettingReset:!1,serverTs:f.ephemeralLastUpdatedOrSetTimestamp})}return(h||(h=b("Promise"))).resolve()})});function e(b,c,d){return a.apply(this,arguments)}return e}();a.__nop_name__="LSInsertAdminMessageInClientMessages";g["default"]=a}),98);
__d("LSUpdateThreadDisappearingSetting",["LSArrayGetObjectAt","LSDeserializeFromJsonIntoDictionaryV2.nop","LSUpdateDisappearingSettingInClientThreadsTable.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("ephemerality_type",void 0),c.i64.neq(a[1],void 0)?d[1]=c.i64.to_string(a[1]):d[1]=void 0,d[0].set("ephemeral_options_duration_in_sec",d[1]),c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,e){var f=a.done;a=a.value;return f?d[2]=void 0:(e=a.item,c.sequence([function(a){return d[8]=e.metadata,d[8]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),d[8]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[10]=new c.Map(),d[11]=d[9].keys(),d[12]=c.i64.of_int32(d[11].length),c.i64.gt(d[12],c.i64.cast([0,0]))?c.loopAsync(d[12],function(a){return d[13]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[11],d[13]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(a){return d[16]=d[9].get(d[14]),d[10].set(d[14],d[16])}])}):c.resolve()},function(a){return d[7]=d[10]}]):c.resolve((d[9]=new c.Map(),d[7]=d[9]))},function(a){return d[2]=d[7]}]))})},function(b){return d[2]?d[4]=!1:d[4]=!0,d[4]?0:d[2].set("message_ephemerality_setting",d[0]),d[2]?d[5]=!1:d[5]=!0,d[5]?d[6]=void 0:(d[7]=c.toJSON(d[2]),d[6]=d[7]),c.forEach(c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(b.syncGroup,c.i64.cast([0,95]))}),function(b){var c=b.update;b.item;return c({disappearingSettingTtl:a[1],disappearingSettingUpdatedTs:a[2],disappearingSettingUpdatedBy:a[3],metadata:d[6]})})},function(d){return c.nativeOperation(b("LSUpdateDisappearingSettingInClientThreadsTable.nop"),a[0])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateThreadDisappearingSettingStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateThreadNullState",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],nullstateDescriptionText1:a[5],nullstateDescriptionType1:a[10],nullstateDescriptionText2:a[6],nullstateDescriptionType2:a[11],nullstateDescriptionText3:a[7],nullstateDescriptionType3:a[12],capabilities:a[15],threadName:a[16],threadSubtype:a[4]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateThreadNullStateStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpsertContextualProfileV1",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.i64.eq(a[5],b.i64.cast([0,0]))?c[0]=void 0:c[0]=a[5],b.db.table(216).put({ownerId:a[0],associatedEntityId:a[1],profilePictureUrl:a[2],profilePictureFallbackUrl:a[4],profilePictureUrlExpirationTimestampMs:c[0],profileName:a[3]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSContactUpsertContextualProfileV1StoredProcedure";a.__tables__=["contextual_profile_v1"];e.exports=a}),null);
__d("LSVoprfComputeSharedSecret.nop",["Promise","XPlatReactVoprf","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){a=(yield d("XPlatReactVoprf").loadXPlatReactVoprf());c=a.voprfInstance;a=c.voprfInfo;var g=c.voprfWasm;try{g=g.clientFinalize(a,new Uint8Array(e),new Uint8Array(f));return(h||(h=b("Promise"))).resolve([g.finalEvaluation.buffer])}catch(a){throw a}finally{d("XPlatReactVoprf").freeVoprfInstance(c)}});function c(b,c,d,e){return a.apply(this,arguments)}return c}();a.__nop_name__="LSVoprfComputeSharedSecret";g["default"]=a}),98);
__d("LSVoprfUnblind.nop",["Promise","XPlatReactVoprf","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g,i,j,k){a=(yield d("XPlatReactVoprf").loadXPlatReactVoprf());c=a.voprfInstance;a=c.voprfInfo;var l=c.voprfWasm;try{l=l.verifiableUnblind(a,new Uint8Array(j),new Uint8Array(k),new Uint8Array(f),new Uint8Array(i),new Uint8Array(g),new Uint8Array(e),!0);return(h||(h=b("Promise"))).resolve([l.unblindedElement.buffer])}catch(a){throw a}finally{d("XPlatReactVoprf").freeVoprfInstance(c)}});function c(b,c,d,e,f,g,h,i){return a.apply(this,arguments)}return c}();a.__nop_name__="LSVoprfUnblind";g["default"]=a}),98);
__d("LSVerifyAndSaveNewCredentials",["LSArrayGetObjectAt","LSBase64Decode.nop","LSRemoveBlindedTokens","LSVoprfComputeSharedSecret.nop","LSVoprfUnblind.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(307).fetch([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?(d[1]=c.createArray(),d[2]=(d[1].push("No valid config found when saving signed credentials for project: "),d[1]),d[3]=(d[1].push("unknown"),d[1]),d[4]=c.toJSON(d[1]),function(a){c.logger(a).mustfix(a)}(d[4])):(f=e.item,c.sequence([function(e){return d[1]=c.i64.of_int32(a[1].length),c.i64.gt(d[1],c.i64.cast([0,0]))?c.loopAsync(d[1],function(e){return d[2]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[1],d[2]).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],a})},function(a){return d[5]=d[3].get("token_id"),c.db.table(308).fetch([[[d[5]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=[c.blob(""),c.blob(""),c.blob("")],d[6]=a[0],d[7]=a[1],d[8]=a[2],a):(e=b.item,a=[e.nonce,e.blindedNonce,e.blindingFactor],d[6]=a[0],d[7]=a[1],d[8]=a[2])})},function(a){return c.forEach(c.db.table(308).fetch([[[d[5]]]]),function(a){return a["delete"]()})},function(a){return d[10]=d[3].get("signed_nonce"),c.nativeOperation(b("LSBase64Decode.nop"),d[10]).then(function(a){return a=a,d[11]=a[0],a})},function(a){return d[12]=d[3].get("proof_c"),c.nativeOperation(b("LSBase64Decode.nop"),d[12]).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[14]=d[3].get("proof_s"),c.nativeOperation(b("LSBase64Decode.nop"),d[14]).then(function(a){return a=a,d[15]=a[0],a})},function(a){return c.nativeOperation(b("LSVoprfUnblind.nop"),f.publicKey,d[8],d[7],d[11]==null?c.blob(""):d[11],d[13]==null?c.blob(""):d[13],d[15]==null?c.blob(""):d[15]).then(function(a){return a=a,d[16]=a[0],a})},function(e){return c.blobs.neq(d[16],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSVoprfComputeSharedSecret.nop"),d[6],d[16]).then(function(a){return a=a,d[17]=a[0],a})},function(b){return c.blobs.neq(d[17],void 0)?c.db.table(309).add({tokenId:d[5],configId:a[0],nonce:d[6],redeemLimit:f.redemptionLimit,sharedSecret:d[17]}):c.resolve()}]):c.resolve()}])}):c.resolve()},function(d){return c.storedProcedure(b("LSRemoveBlindedTokens"),a[0])}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsVerifyAndSaveNewCredentialsStoredProcedure";a.__tables__=["secure_acs_configurations","secure_acs_blinded_tokens","secure_acs_tokens"];e.exports=a}),null);
__d("LSMailboxTaskCompletionApiOnTaskInsertion",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.islc(b.db.table(232).fetch(),0,b.i64.to_float(b.i64.cast([0,1]))),function(c){c=c.item;return b.db.table(233).add({taskId:a[0],notificationScopeKey:c.notificationScopeKey,notificationName:c.notificationName})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreMailboxTaskCompletionApiOnTaskInsertionStoredProcedure";a.__tables__=["mailbox_task_completion_notification_context","mailbox_task_completion_api_tasks"];e.exports=a}),null);
__d("LSIssueNewTaskWithExtraOperations",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[11]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[0])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreIssueNewTaskWithExtraOperationsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyCommunityFolderExistsV2",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return a[1]?c.resolve(d[0]=a[1]):c.sequence([function(b){return c.db.table(162).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[1]=!0:(b=a.item,c.sequence([function(a){return c.db.table(9).fetch([[[b.folderId]]]).next().then(function(a,b){b=a.done;a=a.value;return b?d[3]=!0:(a.item,d[3]=!1)})},function(a){return d[1]=d[3]}]))})},function(a){return d[0]=d[1]}])},function(e){return d[0]?(d[1]=new c.Map(),d[1].set("folder_id",a[0]),d[2]=d[1].get("folder_id"),d[3]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),c.i64.to_string(d[2]),c.i64.cast([0,813]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyCommunityFolderExistsV2StoredProcedure";a.__tables__=["community_folders","threads"];e.exports=a}),null);
__d("LSExpandedStaticDependencies",["LSAddParticipantIdToGroupThread","LSCheckAuthoritativeMessageExists","LSClearPinnedMessages","LSCompleteThreadCutover","LSDeleteBanner","LSDeleteBannersByIds","LSDeleteExistingMessageRanges","LSDeleteRowRichStatusCustomAudience","LSDeleteThenInsertAvatarFeatureConfig","LSDeleteThenInsertBotProfileInfoV2","LSDeleteThenInsertCmChannelList","LSDeleteThenInsertCommunityUnjoinedThread","LSDeleteThenInsertRankingRequest","LSDeleteThenInsertRankingScore","LSFillDeanonCacheForE2EEThread","LSGetFirstAvailableAttachmentCTAID","LSHybridThreadDelete","LSInsertAttachmentCta","LSInsertAttachmentItem","LSInsertBlobAttachment","LSInsertNewMessageRange","LSIssueFetchThreadCapabilitiesTask","LSIssueInsertPersistentMenuItemsForThreadTask","LSIssueNextSync","LSMailboxTaskCompletionApiOnTaskCompletion","LSMarkThreadReadV2","LSSetForwardScore","LSSetMessageDisplayedContentTypes","LSStaticDependencies","LSStoreProjectConfiguration","LSSyncBumpThreadDataToClient","LSTransportHybridParticipantUpdateReceipts","LSTriggerReenrollementFromOptOutDelta","LSTruncateMetadataThreads","LSTruncateTablesForSyncGroup","LSUpdateAttachmentItemCtaAtIndex","LSUpdateCommunityThreadStaleState","LSUpdateOrInsertCommunitySurfaceRange","LSUpdateOrInsertOhaiGatewayKeyConfigs","LSUpdateOrInsertThread","LSUpdateReadReceipt","LSUpdateThreadActivityStatus","LSUpdateThreadAuthorityAndMappingWithOTIDFromJID","LSUpdateThreadDisappearingSetting","LSUpdateThreadNullState","LSUpdateThreadsRangesV2","LSUpsertContextualProfileV1","LSUpsertFolderSeenTimestamp","LSUpsertInboxThreadsRange","LSUpsertMessage","LSUpsertReaction","LSUpsertSyncGroupThreadsRange","LSVerifyAndSaveNewCredentials","LSVerifyCommunityFolderExistsV2","LSVerifyE2EEMetadataThreadExistsV2","LSWriteThreadCapabilities"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},c("LSStaticDependencies"),{LSVerifyCommunityFolderExistsV2:c("LSVerifyCommunityFolderExistsV2"),addParticipantIdToGroupThread:c("LSAddParticipantIdToGroupThread"),checkAuthoritativeMessageExists:c("LSCheckAuthoritativeMessageExists"),clearPinnedMessages:c("LSClearPinnedMessages"),completeThreadCutover:c("LSCompleteThreadCutover"),deleteBanner:c("LSDeleteBanner"),deleteBannersByIds:c("LSDeleteBannersByIds"),deleteExistingMessageRanges:c("LSDeleteExistingMessageRanges"),deleteRowRichStatusCustomAudience:c("LSDeleteRowRichStatusCustomAudience"),deleteThenInsertAvatarFeatureConfig:c("LSDeleteThenInsertAvatarFeatureConfig"),deleteThenInsertBotProfileInfoV2:c("LSDeleteThenInsertBotProfileInfoV2"),deleteThenInsertCmChannelList:c("LSDeleteThenInsertCmChannelList"),deleteThenInsertCommunityUnjoinedThread:c("LSDeleteThenInsertCommunityUnjoinedThread"),deleteThenInsertRankingRequest:c("LSDeleteThenInsertRankingRequest"),deleteThenInsertRankingScore:c("LSDeleteThenInsertRankingScore"),fillDeanonCacheForE2EEThread:c("LSFillDeanonCacheForE2EEThread"),getFirstAvailableAttachmentCTAID:c("LSGetFirstAvailableAttachmentCTAID"),hybridThreadDelete:c("LSHybridThreadDelete"),insertAttachmentCta:c("LSInsertAttachmentCta"),insertAttachmentItem:c("LSInsertAttachmentItem"),insertBlobAttachment:c("LSInsertBlobAttachment"),insertNewMessageRange:c("LSInsertNewMessageRange"),issueFetchThreadCapabilitiesTask:c("LSIssueFetchThreadCapabilitiesTask"),issueInsertPersistentMenuItemsForThreadTask:c("LSIssueInsertPersistentMenuItemsForThreadTask"),issueNextSync:c("LSIssueNextSync"),mailboxTaskCompletionApiOnTaskCompletion:c("LSMailboxTaskCompletionApiOnTaskCompletion"),markThreadReadV2:c("LSMarkThreadReadV2"),setForwardScore:c("LSSetForwardScore"),setMessageDisplayedContentTypes:c("LSSetMessageDisplayedContentTypes"),storeProjectConfiguration:c("LSStoreProjectConfiguration"),syncBumpThreadDataToClient:c("LSSyncBumpThreadDataToClient"),transportHybridParticipantUpdateReceipts:c("LSTransportHybridParticipantUpdateReceipts"),triggerReenrollementFromOptOutDelta:c("LSTriggerReenrollementFromOptOutDelta"),truncateMetadataThreads:c("LSTruncateMetadataThreads"),truncateTablesForSyncGroup:c("LSTruncateTablesForSyncGroup"),updateAttachmentItemCtaAtIndex:c("LSUpdateAttachmentItemCtaAtIndex"),updateCommunityThreadStaleState:c("LSUpdateCommunityThreadStaleState"),updateOrInsertCommunitySurfaceRange:c("LSUpdateOrInsertCommunitySurfaceRange"),updateOrInsertOhaiGatewayKeyConfigs:c("LSUpdateOrInsertOhaiGatewayKeyConfigs"),updateOrInsertThread:c("LSUpdateOrInsertThread"),updateReadReceipt:c("LSUpdateReadReceipt"),updateThreadActivityStatus:c("LSUpdateThreadActivityStatus"),updateThreadAuthorityAndMappingWithOTIDFromJID:c("LSUpdateThreadAuthorityAndMappingWithOTIDFromJID"),updateThreadDisappearingSetting:c("LSUpdateThreadDisappearingSetting"),updateThreadNullState:c("LSUpdateThreadNullState"),updateThreadsRangesV2:c("LSUpdateThreadsRangesV2"),upsertContextualProfileV1:c("LSUpsertContextualProfileV1"),upsertFolderSeenTimestamp:c("LSUpsertFolderSeenTimestamp"),upsertInboxThreadsRange:c("LSUpsertInboxThreadsRange"),upsertMessage:c("LSUpsertMessage"),upsertReaction:c("LSUpsertReaction"),upsertSyncGroupThreadsRange:c("LSUpsertSyncGroupThreadsRange"),verifyAndSaveNewCredentials:c("LSVerifyAndSaveNewCredentials"),verifyE2EEMetadataThreadExistsV2:c("LSVerifyE2EEMetadataThreadExistsV2"),writeThreadCapabilities:c("LSWriteThreadCapabilities")});b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("XPlatReactTextEncoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextEncoder;f.TextEncoder=a}),66);
__d("base64Binary",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b="";for(var c=0;c<a.byteLength;c+=3){var d=a.subarray(c,c+3);b+=k(d)}d=(a.byteLength+2)%3;return b.slice(0,b.length+d-2)+"==".slice(d)}function b(a){var b;a.length%4===0||h(0,51156);var c=a.length/4;b=(b=(b=a.match(/={0,2}$/))==null?void 0:b[0].length)!=null?b:0;b=new Uint8Array(c*3-b);for(var d=0;d<c;d++){var e=l(a.slice(d*4,d*4+4));b.set(e.subarray(0,b.byteLength-d*3),d*3)}return b}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=">___?456789:;<=___\0___\0\x01\x02\x03\x04\x05\x06\x07\b\t\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19______\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123";function k(a){var b;a=a[0]<<16|((b=a[1])!=null?b:0)<<8|((b=a[2])!=null?b:0);return String.fromCharCode(i.charCodeAt(a>>>18),i.charCodeAt(a>>>12&63),i.charCodeAt(a>>>6&63),i.charCodeAt(a&63))}function l(a){a=j.charCodeAt(a.charCodeAt(0)-43)<<18|j.charCodeAt(a.charCodeAt(1)-43)<<12|j.charCodeAt(a.charCodeAt(2)-43)<<6|j.charCodeAt(a.charCodeAt(3)-43);return new Uint8Array([a>>>16,a>>>8&255,a&255])}g.encode=a;g.decode=b}),98);
__d("Base64Utils",["XPlatReactTextEncoder","base64Binary"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("base64Binary").encode(new(d("XPlatReactTextEncoder").TextEncoder)().encode(a))}function b(a){return d("base64Binary").encode(new Uint8Array(a))}function c(a){return d("base64Binary").decode(a).buffer}g.encodeUnicode=a;g.fromArrayBuffer=b;g.toArrayBuffer=c}),98);
__d("CryptoLogger",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("FBLogger")("labyrinth_web","crypto."+a)}function b(a,b){return b instanceof Error?a.catching(b):a}g.CryptoLogger=a;g.captureError=b}),98);
__d("EBBase64Encode",["Base64Utils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("Base64Utils").fromArrayBuffer(a)}g["default"]=a}),98);
__d("EBMarkerIdToQPLEvent",["I64","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=(h||(h=d("I64"))).to_int32(a);switch(a){case 1021646192:return c("qpl")._(1021646192,"3099");case 1021656232:return c("qpl")._(1021656232,"3100");case 1021647318:return c("qpl")._(1021647318,"3101");case 1021651622:return c("qpl")._(1021651622,"3102");case 1021655799:return c("qpl")._(1021655799,"3103");case 1021648929:return c("qpl")._(1021648929,"3104");case 1021647593:return c("qpl")._(1021647593,"3105");case 1021653744:return c("qpl")._(1021653744,"3106");case 1021655355:return c("qpl")._(1021655355,"3107");case 1021648240:return c("qpl")._(1021648240,"3108");case 1021651939:return c("qpl")._(1021651939,"3109");case 1021656851:return c("qpl")._(1021656851,"3110");case 1021652813:return c("qpl")._(1021652813,"3111");case 1021653501:return c("qpl")._(1021653501,"3112");case 1021655710:return c("qpl")._(1021655710,"3114");case 1021655643:return c("qpl")._(1021655643,"3115");case 1021646076:return c("qpl")._(1021646076,"3116");case 1021642512:return c("qpl")._(1021642512,"3117");case 1021654781:return c("qpl")._(1021654781,"3118");case 1021649468:return c("qpl")._(1021649468,"3120");case 1021652080:return c("qpl")._(1021652080,"3121");case 1021652512:return c("qpl")._(1021652512,"3122");case 1021655828:return c("qpl")._(1021655828,"3124");case 1021642298:return c("qpl")._(1021642298,"3126");case 1021652377:return c("qpl")._(1021652377,"3127");case 521471316:return c("qpl")._(521471316,"2831");case 521478596:return c("qpl")._(521478596,"1329");case 521479468:return c("qpl")._(521479468,"3128");case 521473151:return c("qpl")._(521473151,"2593");case 521482563:return c("qpl")._(521482563,"3129");case 521482912:return c("qpl")._(521482912,"3131");case 521481876:return c("qpl")._(521481876,"1407");case 521471732:return c("qpl")._(521471732,"1454");case 521477507:return c("qpl")._(521477507,"1406");case 521478817:return c("qpl")._(521478817,"2806");case 521476801:return c("qpl")._(521476801,"3132");case 521484724:return c("qpl")._(521484724,"141");case 521473756:return c("qpl")._(521473756,"2768");case 521477113:return c("qpl")._(521477113,"2698");case 521478750:return c("qpl")._(521478750,"2850");case 521479165:return c("qpl")._(521479165,"3055");case 521484370:return c("qpl")._(521484370,"2995");case 521473213:return c("qpl")._(521473213,"27");case 521482281:return c("qpl")._(521482281,"2703");case 521476771:return c("qpl")._(521476771,"2454");case 521474469:return c("qpl")._(521474469,"2612");case 521471755:return c("qpl")._(521471755,"2586");case 521476367:return c("qpl")._(521476367,"2704");case 521473850:return c("qpl")._(521473850,"2910");case 521482558:return c("qpl")._(521482558,"2558");case 521482880:return c("qpl")._(521482880,"16");case 521473150:return c("qpl")._(521473150,"2143");case 521473369:return c("qpl")._(521473369,"2834");case 521485893:return c("qpl")._(521485893,"2835");case 521473922:return c("qpl")._(521473922,"2832");case 521479146:return c("qpl")._(521479146,"3133");case 521471468:return c("qpl")._(521471468,"2968");case 521480391:return c("qpl")._(521480391,"1167");case 521480745:return c("qpl")._(521480745,"3134");case 521481602:return c("qpl")._(521481602,"829");case 521475102:return c("qpl")._(521475102,"3135");case 521484676:return c("qpl")._(521484676,"2684");case 521485625:return c("qpl")._(521485625,"1876");case 521482085:return c("qpl")._(521482085,"409");case 521471024:return c("qpl")._(521471024,"2275");case 521474385:return c("qpl")._(521474385,"263");case 521479842:return c("qpl")._(521479842,"2163");case 521485383:return c("qpl")._(521485383,"2200");case 521478580:return c("qpl")._(521478580,"3136");case 521485815:return c("qpl")._(521485815,"3137");case 521482969:return c("qpl")._(521482969,"1519");case 521485406:return c("qpl")._(521485406,"272");case 521479972:return c("qpl")._(521479972,"3138");case 521474688:return c("qpl")._(521474688,"2714");case 521484777:return c("qpl")._(521484777,"2715");case 521483076:return c("qpl")._(521483076,"3140");case 521482858:return c("qpl")._(521482858,"1290");case 521472542:return c("qpl")._(521472542,"295");case 521472456:return c("qpl")._(521472456,"1646");case 521476140:return c("qpl")._(521476140,"378");case 521473194:return c("qpl")._(521473194,"1331");case 521482763:return c("qpl")._(521482763,"296");case 521484295:return c("qpl")._(521484295,"1460");case 521476165:return c("qpl")._(521476165,"2432");case 521477947:return c("qpl")._(521477947,"2395");case 521486220:return c("qpl")._(521486220,"827");case 521482576:return c("qpl")._(521482576,"1069");case 521479124:return c("qpl")._(521479124,"1939");case 521476098:return c("qpl")._(521476098,"504");case 521472095:return c("qpl")._(521472095,"2859")}return null}g.markerIdToQPLEvent=a}),98);
__d("MAWBridge",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("WABridge").getBridge()}g.getBridge=a}),98);
__d("IIGDAPI",["MAWBridge"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("MAWBridge").getBridge().sendAndReceive("backend","igdapi",{args:c,type:a})}}g.makeBridgedApi=a}),98);
__d("IGDBridgedAPI",["IIGDAPI"],(function(a,b,c,d,e,f,g){"use strict";b={33:(a=d("IIGDAPI")).makeBridgedApi("33"),46:a.makeBridgedApi("46"),sendEditMessage:a.makeBridgedApi("sendEditMessage"),sendMediaMessage:a.makeBridgedApi("sendMediaMessage"),sendOrRemoveReaction:a.makeBridgedApi("sendOrRemoveReaction"),sendXmaReceiverFetch:a.makeBridgedApi("sendXmaReceiverFetch")};c=b;g["default"]=c}),98);
__d("MAWUnsafeCoerce",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.unsafeCoerce=a}),66);
__d("WAAssertUnreachable",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw c("err")("Impossible value, the default statement should never be reached for value: "+a)}g["default"]=a}),98);
__d("WAJids",["WAAssertUnreachable","err"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i="@me",j="@system",k="status@broadcast",aa="0@s.whatsapp.net",l="call",m="@g.us",n=/^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/,ba="@call",o="@msgr",ca="msgr",p="@interop",da="interop",q=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,r=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,s=/^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/,t=/^([1-9][0-9]{0,19})@msgr$/,u=/^([1-9][0-9]{0,19})(:0)?@msgr$/,ea="@s.whatsapp.net",fa="s.whatsapp.net",v="@s.whatsapp.net",w="s.whatsapp.net",x="lid",y="@newsletter",z=/^([1-9][0-9]{0,19})@newsletter$/,A=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/,B=/^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/,C="@lid",ga="lid",D=/^([1-9][0-9]{0,14})@lid$/,E=/^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/,ha="@broadcast",F=/^(status|location|[1-9][0-9]{0,19})@broadcast$/,G=/^([0-9a-fA-F]{18,32})@call$/,H="@hosted",I="hosted",J=/^(((?!10)[1-9][0-9]{4,19})):99@hosted$/,K="@hosted.lid",ia="hosted.lid",L=/^([1-9][0-9]{0,14}):99@hosted.lid$/,M="@bot",ja=/^[1-9][0-9]{0,19}(:0)?@bot$/,ka="16505361212"+v,la=/([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g;function a(a){return""+a+v}function b(a){return""+a+C}function N(a){return""+a+o}function d(a){return a.endsWith(m)?a:""+a+m}function e(a){return a.endsWith(y)?a:""+a+y}function f(a){return a.endsWith(H)?a:""+a+H}function ma(a){return a.endsWith(K)?a:""+a+K}function na(){return m}function O(a){if(a.endsWith(v))return a.slice(0,-v.length);else if(a.endsWith(o))return a.slice(0,-o.length);else if(a.endsWith(p))return a.slice(0,-p.length);else if(a.endsWith(C))return a.slice(0,-C.length);else if(a.endsWith(M))return a.slice(0,-M.length);else throw c("err")('userIdFromJid called with non-user jid "'+a+'"')}function oa(a,b){return Y(O(a)+":"+b+v)}function pa(a,b){return Z(O(a)+":"+b+o)}function qa(a,b){return Ab(P(a)+":"+b+C)}function ra(a,b){return X(O(a)+":"+b+W(a))}function sa(a){return""+a+ha}function ta(a){return a.split("@")[0]}function ua(a){return a.split("@")[0]}function va(a){a=a.split("@")[0];a=a.split(":");var b=a[0];a=a[1];a=parseInt(a,10);return{userId:b,deviceID:a}}function wa(a){a=va(a);return a.deviceID}function xa(a,b){if(a===i||a===j)return b;else return ta(a)}function ya(a){return a===i||a===j?null:a}function za(a){if(a===i||a===j)return null;return!a.endsWith(v)?null:a}function Aa(a){if(!a.endsWith(v))throw c("err")('phoneNumberFromJid called with non-user jid "'+a+'"');return a.slice(0,-v.length)}function Ba(a){if(a.endsWith(v))return Aa(a);else if(a.endsWith(C))return P(a);throw c("err")('lidOrPhoneFromUserJid called with non phone or lid jid "'+a+'"')}function Ca(a){return a.endsWith(v)||a.endsWith(p)||a.endsWith(o)||a.endsWith(C)?a:null}function Da(a){return a.endsWith(v)?a:null}function Ea(a){return a===k?null:$(a)}function Fa(a){return a===k?null:$(a)}function Ga(a){return a===k?k:null}function P(a){if(!a.endsWith(C))throw c("err")('lidFromLidUserJid called with non-LidUserJid "'+a+'"');return a.slice(0,-C.length)}function Q(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":")[0];b=b.split(".")[0];a===I&&(a=w);a===ia&&(a=x);return Bb(b+"@"+a)}function Ha(a){return Q(a)}function Ia(a){return Q(a)}function Ja(a){if(a.jidType==="phoneDevice")return a.deviceJid;else if(a.jidType==="interopDevice")return a.deviceJid;else if(a.jidType==="lidDevice")return a.deviceJid;else if(a.jidType==="msgrDevice")return a.deviceJid;else if(a.jidType==="lidUser")return a.userJid;else if(a.jidType==="interopUser")return a.userJid;else if(a.jidType==="msgrUser")return a.userJid;else if(a.jidType==="phoneUser")return a.userJid;else if(a.jidType==="group")return a.groupJid;else if(a.jidType==="status")return a.statusJid;else if(a.jidType==="call")return a.callJid;else if(a.jidType==="newsletter")return a.newsletterJid;else if(a.jidType==="hosted")return a.hostedDeviceJid;else if(a.jidType==="hostedLid")return a.hostedLidDeviceJid;else if(a.jidType==="bot")return a.botJid;else{a.jidType;return a.broadcastJid}}function Ka(a){return Y(O(a)+":"+h+v)}function La(a){return Z(O(a)+":"+h+o)}function Ma(a){return qa(a,h)}function Na(a){return wa(a)===h}function Oa(a){return Gb(a)}function Pa(a){return a}function R(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":");var c=b[0];b=b[1];c=c.split(".");var d=c[0];c=c[1];return{user:d,device:b,agent:c,server:a}}function Qa(a){a=R(a);var b=a.user,c=a.agent;c=c===void 0?"0":c;var d=a.device;d=d===void 0?"0":d;a=a.server;return b+"."+c+":"+d+"@"+a}function Ra(a){switch(a.jidType){case"interopUser":return a.userJid;case"lidUser":return a.userJid;case"msgrUser":return a.userJid;case"phoneUser":return a.userJid;case"group":return a.groupJid;case"status":return a.statusJid;case"interopDevice":return a.deviceJid;case"lidDevice":return a.deviceJid;case"msgrDevice":return a.deviceJid;case"phoneDevice":return a.deviceJid;case"broadcast":return a.broadcastJid;case"call":return a.callJid;case"newsletter":return a.newsletterJid;case"hosted":return a.hostedDeviceJid;case"hostedLid":return a.hostedLidDeviceJid;case"bot":return a.botJid;default:return c("WAAssertUnreachable")(a.jidType)}}function Sa(a){if(a===l)return{jidType:"call",callJid:l};if(a===k)return{jidType:"status",statusJid:k};else if(B.test(a))return{jidType:"phoneUser",userJid:Db(a)};else if(r.test(a))return{jidType:"interopUser",userJid:Eb(a)};else if(t.test(a))return{jidType:"msgrUser",userJid:Fb(a)};else if(u.test(a)){var b=a.substr(0,a.indexOf(":"));return{jidType:"msgrUser",userJid:N(b)}}else if(A.test(a))return{jidType:"phoneDevice",deviceJid:Y(a)};else if(q.test(a))return{jidType:"interopDevice",deviceJid:zb(a)};else if(s.test(a))return{jidType:"msgrDevice",deviceJid:Z(a)};else if(n.test(a))return{jidType:"group",groupJid:a.endsWith(m)?a:""+a+m};else if(F.test(a))return{jidType:"broadcast",broadcastJid:a};else if(G.test(a))return{jidType:"call",callJid:a};else if(D.test(a))return{jidType:"lidUser",userJid:a};else if(E.test(a))return{jidType:"lidDevice",deviceJid:a};else if(z.test(a))return{jidType:"newsletter",newsletterJid:a};else if(J.test(a))return{jidType:"hosted",hostedDeviceJid:a};else if(L.test(a))return{jidType:"hostedLid",hostedLidDeviceJid:a};else if(ja.test(a))return{jidType:"bot",botJid:a};else return{jidType:"unknown"}}function Ta(a){return a==="status@broadcast"?a:null}function Ua(a){if(B.test(a)||r.test(a)||t.test(a)||D.test(a))return a;else if(u.test(a)){a=a.substr(0,a.indexOf(":"));return N(a)}else return null}function Va(a){if(D.test(a))return a;else return null}function Wa(a){return F.test(a)?a:null}function Xa(a){if(A.test(a)||s.test(a)||q.test(a)||E.test(a)||J.test(a)||L.test(a))return a;if(B.test(a))return vb(a);return ja.test(a)?wb(a):null}function Ya(a){return q.test(a)?a:null}function S(a){return n.test(a)?a:null}function Za(a){return Ta(a)||S(a)||Wa(a)?a:null}function $a(a){return G.test(a)?a:null}function ab(a){return a==="s.whatsapp.net"||a==="g.us"||a==="call"?a:null}function bb(a){return Ua(a)||S(a)}function cb(a){return z.test(a)?a:null}function db(a){return J.test(a)?a:null}function eb(a){return L.test(a)?a:null}function fb(a){return Ca(a)==null?$(a):null}function gb(a){a=R(a);var b=a.user,c=a.device;c=c===void 0?"0":c;a=a.server;return Y(b+":"+c+"@"+a)}function hb(a){if(a.endsWith(m))return a.slice(0,-m.length);else throw c("err")('groupId called with non-group jid "'+a+'"')}function ib(a){var b=Sa(a);if(b.jidType==="unknown")return a;if(b.jidType==="status")return b.statusJid;b.jidType;return Ra(b).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/,"...$2@$3")}function jb(a){return!a.includes("@")?a:a.replace(la,ib)}function T(a){if(a.endsWith(m))return $(a);else return null}function U(a,b){if(a.endsWith(v))return b.phoneUser(a);else if(a.endsWith(o))return b.msgrUser(a);else if(a.endsWith(p))return b.interopUser(a);else if(a.endsWith(C))return b.lidUser(a);else if(T(a)!=null)return b.group($(a));throw c("err")("Can not switch on chat jid "+a)}function kb(a,b){if(a.endsWith(o))return b.user(a);else if(T(a)!=null)return b.group(a);throw c("err")("Can not switch on chat jid "+a)}function V(a,b){if(a.endsWith(v))return b.user(a);else if(T(a)!=null)return b.group(a);throw c("err")("Can not switch on chat jid "+a)}function lb(a,b){return U(a,{lidUser:function(a){return b.user(a)},interopUser:function(a){return b.user(a)},msgrUser:function(a){return b.user(a)},phoneUser:function(a){return b.user(a)},group:function(a){return b.group(a)}})}function mb(a,b){return a===k?b.status():V(a,{user:b.user,group:b.group})}function nb(a,b){return a===k?b.status():U(a,{interopUser:b.interopUser,phoneUser:b.phoneUser,msgrUser:b.msgrUser,lidUser:b.lidUser,group:b.group})}function ob(a,b){return a===k?b.multicast(k):V(a,{user:b.user,group:b.multicast})}function pb(a){return a.endsWith(C)}function qb(a){return a==="@me"}function rb(a){return a==="@system"}function sb(){return o}function tb(){return v}function ub(){return ea}function W(a){if(a.endsWith(v))return v;else if(a.endsWith(o))return o;else if(a.endsWith(C))return C;else if(a.endsWith(M))return M;else throw c("err")('userDomainFromJid called with non-user jid "'+a+'"')}function vb(a){return X(O(a)+":"+h+W(a))}function wb(a){return X(""+O(a)+W(a))}function xb(a){a=a.platform;var b=a==="msgr"?o:v;function c(a){return""+a+b}function d(){return b}return{toUserJid:c,getUserDomain:d}}function yb(a){return a}function X(a){return a}function Y(a){return a}function Z(a){return a}function zb(a){return a}function Ab(a){return a}function Bb(a){return a}function Cb(a){return a}function Db(a){return a}function Eb(a){return a}function Fb(a){return a}function $(a){return a}function Gb(a){return a}function Hb(a){return a}function Ib(a){return a}function Jb(a){return a}function Kb(a){return U(a,{group:function(a){return hb(a)},lidUser:function(a){return O(a)},interopUser:function(a){return O(a)},phoneUser:function(a){return O(a)},msgrUser:function(a){return O(a)}})}function Lb(){return ba}g.DEFAULT_DEVICE_ID=h;g.AUTHOR_ME=i;g.AUTHOR_SYSTEM=j;g.STATUS_JID=k;g.PSA_JID=aa;g.CALL_LINK_JID=l;g.MSGR_USER_DOMAIN=o;g.MSGR_USER_JID_SUFFIX=ca;g.INTEROP_DOMAIN=p;g.INTEROP_USER_JID_SUFFIX=da;g.WA_SERVER_JID_SUFFIX=fa;g.WA_USER_DOMAIN=v;g.WA_USER_JID_SUFFIX=w;g.WA_LID_SUFFIX=x;g.WA_NEWSLETTER_JID_DOMAIN=y;g.LID_DOMAIN=C;g.LID_SUFFIX=ga;g.HOSTED_DOMAIN=H;g.HOSTED_SUFFIX=I;g.HOSTED_LID_DOMAIN=K;g.HOSTED_LID_SUFFIX=ia;g.BOT_DOMAIN=M;g.SURVEY_USER_JID=ka;g.toPhoneUserJid=a;g.toLidUserJid=b;g.toMsgrUserJid=N;g.toGroupJid=d;g.toNewsletterJid=e;g.toHostedDeviceJid=f;g.toHostedLidDeviceJid=ma;g.getGroupDomain=na;g.userIdFromJid=O;g.toPhoneDeviceJid=oa;g.toMsgrDeviceJid=pa;g.toLidDeviceJid=qa;g.toDeviceJid=ra;g.toBroadcastJid=sa;g.extractUserId=ta;g.extractChatId__DANGEROUS=ua;g.extractDeviceIDParts=va;g.extractDeviceId=wa;g.authorToUserId=xa;g.authorAsUserJid=ya;g.authorAsPhoneUserJid=za;g.phoneNumberFromJid=Aa;g.lidOrPhoneFromUserJid=Ba;g.interpretAsUserJid=Ca;g.interpretAsPhoneUserJid=Da;g.asChatJid=Ea;g.asPhoneChatJid=Fa;g.asStatusJid=Ga;g.lidFromLidUserJid=P;g.extractUserJid=Q;g.extractPhoneUserJid=Ha;g.extractLidUserJid=Ia;g.extractJidFromJidWithType=Ja;g.defaultPhoneDeviceJidForUser=Ka;g.defaultMsgrDeviceJidForUser=La;g.defaultLidDeviceJidForLidUserJid=Ma;g.isPrimaryDevice=Na;g.interpretAsDeviceId=Oa;g.interpretAsNumber=Pa;g.parseJidParts=R;g.fullFormDeviceJidString=Qa;g.extractFromJid=Ra;g.interpretAndValidateJid=Sa;g.validateStatusJid=Ta;g.validateUserJid=Ua;g.validateLidUserJid=Va;g.validateBroadcastJid=Wa;g.validateDeviceJid=Xa;g.validateInteropDeviceJid=Ya;g.validateGroupJid=S;g.validateMulticastJid=Za;g.validateCallJid=$a;g.validateDomainJid=ab;g.validateChatJid=bb;g.validateNewsletterJid=cb;g.validateHostedDeviceJid=db;g.validateHostedLidDeviceJid=eb;g.asMulticastJid=fb;g.stripAgentIdFromPhoneDeviceJid=gb;g.groupIdFromJid=hb;g.sanitizeJidForLogging=ib;g.maybeSanitizeLogLineText=jb;g.interpretAsGroupJid=T;g.switchOnChatJidType=U;g.switchOnMsgrChatJidType=kb;g.switchOnPhoneChatJidType=V;g.switchOnUserChatJidType=lb;g.switchOnPhoneJidType=mb;g.switchOnJidType=nb;g.switchOnMulticastJidType=ob;g.isLidUser=pb;g.isAuthorMe=qb;g.isAuthorSystem=rb;g.getMsgrUserDomain=sb;g.getWhatsappUserDomain=tb;g.getServerDomain=ub;g.defaultDeviceJidForUser=vb;g.defaultDeviceJidForBot=wb;g.createJidUtils=xb;g.unsafeCoerceToChatJid=yb;g.unsafeCoerceToDeviceJid=X;g.unsafeCoerceToPhoneDeviceJid=Y;g.unsafeCoerceToMsgrDeviceJid=Z;g.unsafeCoerceToInteropDeviceJid=zb;g.unsafeCoerceToLidDeviceJid=Ab;g.unsafeCoerceToUserJid=Bb;g.unsafeCoerceToLidUserJid=Cb;g.unsafeCoerceToPhoneUserJid=Db;g.unsafeCoerceToInteropUserJid=Eb;g.unsafeCoerceToMsgrUserJid=Fb;g.unsafeCoerceToGroupJid=$;g.unsafeCoerceToDeviceId=Gb;g.unsafeCoerceToNewsletterJid=Hb;g.unsafeCoerceToHostedDeviceJid=Ib;g.unsafeCoerceToHostedLidDeviceJid=Jb;g.threadIdForChatJid=Kb;g.getGroupCallDomain=Lb}),98);
__d("InstamadilloMessageIdUtils",["FBLogger","I64","MAWUnsafeCoerce","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){var c;(h||(h=d("I64"))).isI64(a)?c=(h||(h=d("I64"))).to_string(a):c=a;return c+":"+b}function a(a){a=a.split(":");if(a.length!==2)throw c("FBLogger")("igd_web").mustfixThrow("Invalid instamadillo message id format. Format is <threadKey>:<stanzaId>.");return{stanzaId:a[1],threadKey:a[0]}}function b(a){a=a.split(":");if(a.length!==2){c("FBLogger")("igd_web").warn("Invalid instamadillo message id format. Format is <threadKey>:<stanzaId>.");return null}return{stanzaId:a[1],threadKey:a[0]}}function e(a){a=a.message.decrypted.id;return j(a)}function j(a){var b=a.externalId;a=d("WAJids").threadIdForChatJid(a.chat);return i(a,b)}function f(a,b,c){return{author:d("WAJids").toMsgrUserJid(c),chat:d("WAJids").toMsgrUserJid((h||(h=d("I64"))).to_string(a)),externalId:d("MAWUnsafeCoerce").unsafeCoerce(b)}}g.toInstamadilloMessageId=i;g.fromInstamadilloMessageId=a;g.maybeFromInstamadilloMessageId=b;g.getInstamadilloMessageIdFromStanza=e;g.getInstamadilloMessageIdFromProtocolMsgId=j;g.toProtocolMsgId=f}),98);
__d("LSDatascriptRuntimeTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["UI","BROKER"]);f.TopLevelCallOrigin=a}),66);
__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSDynamicDependencies",["Bootloader","LSDynamicDependenciesEventEmitter","ODS","Promise","SiteData","asyncToGeneratorRuntime","clearTimeout","cr:19620","err","justknobx","nullthrows","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=babelHelpers["extends"]({},b("cr:19620"));function a(a){Object.assign(j,a)}var k={_tombstone:!0};function e(a){var e=new Map();for(a of a){var g=a.name;g!=null&&!n(g)&&e.set(g,c("nullthrows")(a.value))}if(e.size===0)return(i||(i=b("Promise"))).resolve();var k=new(i||(i=b("Promise")))(function(a){var g={},i=[],m=function(){var c=n[0],a=n[1];a=a==null?void 0:a.__dr;g[a]={be:1,r:[]};i.push(a);(h||(h=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.relay",a);j[c]={load:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield k;return j[c]});function d(){return a.apply(this,arguments)}return d}()}};for(var n of e)m();c("Bootloader").handlePayload({compMap:g,consistency:{rev:c("SiteData").client_revision}});l(c("Bootloader"),i,function(b){Array.from(e.entries()).forEach(function(a,c){var d=a[0];a[1];j[d]=b[c]}),a()})});return k}function l(a,b,c){return a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function m(a){return a.charAt(0).toUpperCase()+a.slice(1)}function n(a){return a in j&&j[a]!==k}var o=c("justknobx")._("2800");function f(a,e,f){var g=new Map();for(a of a!=null?a:[])n(a)||g.set(a,"LS"+m(a));for(a of e!=null?e:[])!n(a+".bs")?g.set(a+".bs","LS"+m(a)+".nop"):a+".nop"in j||g.set(a+".nop","LS"+m(a)+".nop");for(e of f!=null?f:[])e in j||g.set(e,"LS"+m(e));if(g.size===0)return(i||(i=b("Promise"))).resolve();var p=new(i||(i=b("Promise")))(function(a,e){var f={},i=[],m=function(){var a=n[0],c=n[1];(h||(h=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.bootloader",c);d("LSDynamicDependenciesEventEmitter").emitLoadModuleEvent(c);f[c]={be:1,r:[]};i.push(c);j[a]={load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield p}catch(b){j[a]=k;throw b}return j[a]});function d(){return c.apply(this,arguments)}return d}()}};for(var n of g)m();c("Bootloader").handlePayload({compMap:f,consistency:{rev:c("SiteData").client_revision}});var q=l(c("Bootloader"),i,function(b){c("clearTimeout")(r),Array.from(g.entries()).forEach(function(a,c){var d=a[0];a[1];j[d]=b[c]}),a()}),r=c("setTimeout")(function(){q.remove(),e(c("err")("Dynamic sproc loading timeout (%s ms); was loading: %s",o,Array.from(g.keys())))},o)});return p}g.cachedModules=j;g.addToCachedModules=a;g.TOMBSTONE=k;g.downloadRelayDependencies=e;g.downloadBootloaderDependencies=f}),98);
__d("XPlatReactCrypto",["err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h=self.crypto)==null?void 0:h.subtle;function a(a){var b;if(typeof ((b=self.crypto)==null?void 0:b.getRandomValues)!=="function")throw c("err")("crypto.getRandomValues: Not implemented");self.crypto.getRandomValues(a);return a}function b(){var a;if(typeof ((a=self.crypto)==null?void 0:a.randomUUID)!=="function")return null;a=self.crypto.randomUUID();return typeof a==="string"?a:null}function d(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.importKey: Not implemented");return i.importKey(a,b,d,e,f)}function e(a,b){if(i==null)throw c("err")("crypto.subtle.exportKey: Not implemented");return i.exportKey(a,b)}function f(a,b,d){if(i==null)throw c("err")("crypto.subtle.generateKey: Not implemented");return i.generateKey(a,b,d)}function j(a,b,d){if(i==null)throw c("err")("crypto.subtle.encrypt: Not implemented");return i.encrypt(a,b,d)}function k(a,b,d){if(i==null)throw c("err")("crypto.subtle.decrypt: Not implemented");return i.decrypt(a,b,d)}function l(a,b,d){if(i==null)throw c("err")("crypto.subtle.sign: Not implemented");return i.sign(a,b,d)}function m(a,b){if(i==null)throw c("err")("crypto.subtle.digest: Not implemented");return i.digest(a,b)}function n(a,b,d){if(i==null)throw c("err")("crypto.subtle.deriveBits: Not implemented");return i.deriveBits(a,b,d)}function o(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.deriveKey: Not implemented");return i.deriveKey(a,b,d,e,f)}g.getRandomValues=a;g.randomUUID=b;g.subtleImportKey=d;g.subtleExportKey=e;g.subtleGenerateKey=f;g.subtleEncrypt=j;g.subtleDecrypt=k;g.subtleSign=l;g.subtleDigest=m;g.subtleDeriveBits=n;g.subtleDeriveKey=o}),98);
__d("LSInt64Lite",["FBLogger","I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a={add:(h||(h=d("I64"))).add,and_:h.and_,asr_:h.asr_,cast:function(a){return(h||(h=d("I64"))).mk(a[1],a[0])},div:h.div,eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&(h||(h=d("I64"))).equal(a,b)},from_string:function(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){throw c("FBLogger")("messenger_web").mustfixThrow('Unable to cast "%s" to int64',a)}},ge:h.ge,gt:h.gt,le:h.le,lsl_:h.lsl_,lsr_:h.lsr_,lt:h.lt,max:h.max,min:h.min,mod_:h.mod_,mul:h.mul,neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&!(h||(h=d("I64"))).equal(a,b)},of_float:h.of_float,of_int32:h.of_int32,or_:h.or_,random:function(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(h||(h=d("I64"))).add(h.lsl_(h.of_float(a[0]),32),h.of_float(a[1]))},sub:h.sub,to_float:h.to_float,to_int32:h.to_int32,to_string:function(a){return a==null?a:(h||(h=d("I64"))).to_string(a)},xor:h.xor};g["default"]=a}),98);
__d("LSMaybeSyncIteration",["LSSynchronousPromise","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i={__val__:"__stop_iteration__"};function a(a){return{__val__:"__next_value__",next:a}}function j(a){return a!=null&&typeof a==="object"&&a.__val__==="__next_value__"}function k(a,b,e){var f=l(a,e);while(!(h||(h=c("isPromise")))(f)){if(f.done)return d("LSSynchronousPromise").makeSynchronousPromise(f);e=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(f));if(!(h||(h=c("isPromise")))(e)){if(e===i)return d("LSSynchronousPromise").makeSynchronousPromise(f);var g=j(e)?e.next:void 0;f=l(a,g)}else return e.then(function(c){if(c===i)return f;c=j(c)?c.next:void 0;return k(a,b,c)})}var n=m(b);return f.then(function(c){return c.done?c:n(c).then(function(d){if(d===i)return c;d=j(d)?d.next:void 0;return k(a,b,d)})})}function l(a,b){a=a.next(b);return!(h||(h=c("isPromise")))(a)?a:d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a)}function m(a){return function(b){b=a(b);return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(b)}}g.STOP_ITERATION=i;g.wrapNextValue=a;g.iteratorLoop=k}),98);
__d("LSIterationOperations",["I64","LSDict","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return j(a,b)},c.next=function(){var c={done:!0},e=function(a){return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(b(a.value.item)).then(function(b){if(b){c=a;return d("LSMaybeSyncIteration").STOP_ITERATION}})};return d("LSMaybeSyncIteration").iteratorLoop(a,e).then(function(){return c})},c}function k(a,b,c){var e,f=0;return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return k(a,b,c)},e.next=function(){if(f>=c)return d("LSSynchronousPromise").makeSynchronousPromise({done:!0});var e={done:!0},g=function(a){if(f++<b)return;e=a;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(a,g).then(function(){return e})},e}function a(a,b){return l(a).then(function(a){return a.reduce(function(a,c){return a.then(function(){return b(c)})},d("LSSynchronousPromise").makeSynchronousPromise(void 0))})}function l(a){var b=[],c=function(a){b.push(a.value)};return d("LSMaybeSyncIteration").iteratorLoop(a,c).then(function(){return b})}function m(a,b,c){var e;c===void 0&&(c=[]);var f={ASC:1,DESC:-1},g=function(a,c){a=a.item;c=c.item;for(var e=0;e<b.length;e++){var g=b[e];g=g[0];var i=a[g];g=c[g];var j;i==null&&g==null?j=0:i==null&&g!=null?j=-1:i!=null&&g==null?j=1:j=(h||(h=d("ReStoreKeyComparer"))).compareValue(i,g);if(j===0)continue;return j*f[b[e][1]]}return 0},i,j=[],k=[],l=function(a){var b=[];for(var d=c.length-1;d>=0;d--)b.push(a[c[d]]);return b},n=function(){k=j,k.sort(g),j=[]};return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return m(a,b,c)},e.next=function(){if(k.length)return d("LSSynchronousPromise").makeSynchronousPromise({done:!1,value:k.shift()});var b=function(a){var b=l(a.value.item);if(i!=null&&(h||(h=d("ReStoreKeyComparer"))).compareKey(i,b)!==0){n();j.push(a.value);i=b;return d("LSMaybeSyncIteration").STOP_ITERATION}i=b;j.push(a.value)};return d("LSMaybeSyncIteration").iteratorLoop(a,b).then(function(){!k.length&&j.length&&n();if(k.length)return{done:!1,value:k.shift()};else return{done:!0}})},e}function b(a){var b=0,c=function(){b++};return d("LSMaybeSyncIteration").iteratorLoop(a,c).then(function(){return(i||(i=d("I64"))).of_int32(b)})}function e(a,b){return{forEach:function(e){return l(a).then(function(a){a=a.reduce(function(a,c){c=c.item[b];var d=(a.get(c)||0)+1;return a.set(c,d)},new(c("LSDict"))());var f=d("LSSynchronousPromise").makeSynchronousPromise(void 0),g=function(){var a=h[0],c=h[1];f=f.then(function(){var f;return e((f={},f[b]=a,f.group_count=(i||(i=d("I64"))).of_int32(c),f))})};for(var h of a.entries())g();return f})}}}g.filter=j;g.slice=k;g.forEach=a;g.toArray=l;g.sortBy=m;g.count=b;g.groupBy=e}),98);
__d("LSJson",["FBLogger","I64","LSDict","LSVec"],(function(a,b,c,d,e,f,g){"use strict";var h,i=512,j={useLSTypes:!1};function a(a,b){b=b===void 0?j:b;var e=b.useLSTypes;function f(a,b){return function(){return function(c){c=a()(c);if(c!=null){var d=c[0];c=c[1];return[b(d),c]}}}}function g(a){return JSON.parse('"'+a+'"')}function i(a){return function(){return function(b){var c=g(a);if(b.startsWith(c))return[c,b.substr(c.length)];else return void 0}}}function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){var c=[];a=a;for(var d of b){var e=d()(a);if(e==null)return void 0;a=e[1];c.push(e[0])}return[c,a]}}}function l(a){return function(){return function(b){var c=a.exec(b);return c!=null?[c,b.substr(c[0].length)]:void 0}}}function m(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){for(var c of b){var d=c()(a);if(d!=null)return d}}}}function n(a){return function(){return function(b){var c=a()(b);return c!=null?c:[void 0,b]}}}function o(a){return function(){return function(b){var c=a()(b),d=[];b=b;while(c!=null)b=c[1],d.push(c[0]),c=a()(b);return[d,b]}}}b=l(/^[\n\r\s]*/);var p=f(l(/^\"((?:[^\"\\]|\\.)*)\"/),function(a){a=a[1];return g(a)}),q=f(l(/^-?\d+(?:(?:\.\d+)?[eE][-\+]?\d+|\.\d+)/),function(a){a=a[0];return Number(a)});l=f(l(/^-?\d+/),function(a){a=a[0];return(h||(h=d("I64"))).of_string(a)});var r=f(i("null"),function(a){return null}),s=f(i("true"),function(a){return!0}),t=f(i("false"),function(a){return!1}),u=f(k(b,p,b,i(":"),function(){return v()}),function(a){var b=a[1];a=a[4];return[b,a]});u=f(k(u,o(k(b,i(","),u))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});u=f(k(i("{"),n(u),b,i("}")),function(a){a=a[1];a=a===void 0?[]:a;return e?new(c("LSDict"))(a):Object.fromEntries(a)});o=f(k(function(){return v()},o(k(b,i(","),function(){return v()}))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});n=f(k(i("["),b,n(o),b,i("]")),function(a){a=a[2];a=a===void 0?[]:a;return e?c("LSVec").ofArray(a):a});var v=f(k(b,m(u,p,q,l,n,r,s,t),b),function(a){a=a[1];return a});o=v()(a);if(o==null)throw c("FBLogger")("messenger_web").mustfixThrow("error parsing string");if(o[1]!=="")throw c("FBLogger")("messenger_web").mustfixThrow("unexpected %s",o[1]);return o[0]}function k(a,b,e){b===void 0&&(b=0);e===void 0&&(e="");if(b>i)throw c("FBLogger")("messenger_web").mustfixThrow("recursion limit exceeded");if(typeof a==="string"||typeof a==="number")return JSON.stringify(a);else if(typeof a==="boolean")return a?"1":"0";else if(a==null)return"null";else if(typeof a==="object")if(Array.isArray(a)){if(a.tag==="ls-array")return"["+a.map(function(a,c){return k(a,b+1,e+"/"+c.toString())}).join(",")+"]";a._tag!=="i64"&&c("FBLogger")("messenger_web").warn("LSJson payload contains untagged i64: %s",e);return(h||(h=d("I64"))).to_string(a)}else if(a instanceof c("LSDict"))return"{"+Array.from(a.entries()).map(function(a){var d=a[0];a=a[1];if(typeof d==="string")return JSON.stringify(d)+":"+k(a,b+1,e+"/"+d);else throw c("FBLogger")("messenger_web").mustfixThrow("key must be a string")}).join(",")+"}";throw c("FBLogger")("messenger_web").mustfixThrow("type not supported: %s, path: %s",a===null?"null":typeof a,e)}g.parse=a;g.stringify=k}),98);
__d("LSPendingTasksPluginType",[],(function(a,b,c,d,e,f){a=Object.freeze({LS_BROKER:0,PAYMENTS:1,EPHEMERAL_MESSAGING:2,CARRIER_MESSAGING:3,BUG_REPORTER:4,MESSAGE_DENORMALIZATIONS:5,SEEN_HEADS:6,MEDIA_UPLOAD:7,SECURE_THREAD_SEEN_HEADS:8,WHATSAPP_THREAD:9,SECURE_THREAD_OVER_WA_MESSAGE_SEND:10,CONTACT_PRUNING:11,MEDIA_MANAGER:12,SECURE_THREAD_OVER_WA_ENCRYPTION:13,STORY_POST:14,CO_PRESENCE_HEARTBEAT:16,SECURE_THREAD_OVER_WA_GROUP_MANAGEMENT:17,ENCRYPTED_BACKUPS:23,ANONYMOUS_REQUEST:25,MESSAGE_ACTIONS:28,MESSAGE_UNSEND_ATTACHMENT_CLEANUP:39,IGD_INSTAMADILLO:40,PENDING_MESSAGE_SEND:46});f["default"]=a}),66);
__d("isNativeTask",["I64","LSPendingTasksPluginType"],(function(a,b,c,d,e,f,g){"use strict";var h,i="4",j="16",k=new Set([c("LSPendingTasksPluginType").IGD_INSTAMADILLO]);function a(a){var b=k.has((h||(h=d("I64"))).to_float(a.pluginType));a=a.context===j||a.context===i;return b||a}g["default"]=a}),98);
__d("LSIterationHelpers",["FBLogger","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer","ReStoreVaulting","isNativeTask"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["messages","attachments","reactions"]);function j(a){return i.has(a)}function k(a,b,d){return a&&b.name==="pending_tasks"&&d!=null&&c("isNativeTask")(d)}function l(a){for(var b of Object.keys(a))a[b]===void 0&&delete a[b];return a}function m(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=function(){var a={done:!0},f=0,g="start",i=[],j=function(e){var j=function(){var a=f,j=b[a]||{},k=j.end;j=j.start;var l=e.value[0];if(j&&g==="start"){var m=(h||(h=d("ReStoreKeyComparer"))).compareValue(l[a],j[0]),n=m*(c==="asc"?1:-1)<j[1];if(n){g="start_verify";i=l.slice(0,a);if(a===l.length-1&&m===0)return{v:void 0};else{n=[].concat(i,[j[0]],j[1]&&c==="asc"||!j[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);return{v:d("LSMaybeSyncIteration").wrapNextValue(n)}}}else g="check_end"}if(j&&g==="start_verify"&&!i.every(function(a,b){return(h||(h=d("ReStoreKeyComparer"))).compareValue(a,l[b])===0})){f=0;g="start";return{v:void 0}}if(k&&(h||(h=d("ReStoreKeyComparer"))).compareValue(k[0],l[a])*(c==="asc"?1:-1)<k[1]){f=0;g="start";return{v:d("LSMaybeSyncIteration").wrapNextValue([].concat(l.slice(0,a),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]))}}f++;g="start"},k;while(f<b.length){k=j();if(k)return k.v}a=e;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(e,j).then(function(){return a})},a}return f()}function n(a,b,d,e,f){return{delete:function(){return d.delete.apply(d,a)},item:b,update:function(g){var h=f&&j(e.name)?{transportKey:"FBBroker"}:{};g=babelHelpers.extends({},b,g,h);if(k(f,e,g))throw c("FBLogger")("messenger_web").mustfixThrow("cannot insert native task in dynamic mode");return d.upsert(a,l(g))}}}function o(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return o(a,b)},c.next=function(){var c={done:!0},e=function(a){c=a;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(a,e).then(function(){if(c.done)return d("LSMaybeSyncIteration").iteratorLoop(b,e)}).then(function(){return c})},c}function p(a,b,c){var e,f=[{done:!0},{done:!0}],g=function(a){var b=f[a];f[a]={done:!0};return b};return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return p(a,b,c)},e.next=function(){var e=function(a){return function(b){a==="a"?f[0]=b:f[1]=b;return d("LSMaybeSyncIteration").STOP_ITERATION}},i=d("LSSynchronousPromise").makeSynchronousPromise();f[0].done&&(i=i.then(function(){return d("LSMaybeSyncIteration").iteratorLoop(a,e("a"))}));f[1].done&&(i=i.then(function(){return d("LSMaybeSyncIteration").iteratorLoop(b,e("b"))}));return i.then(function(){if(f[0].done&&f[1].done)return{done:!0};if(f[0].done)return g(1);if(f[1].done)return g(0);var a=(h||(h=d("ReStoreKeyComparer"))).compareKey(f[0].value[0],f[1].value[0]);if(a===0)return g(0);return a*(c==="asc"?1:-1)<0?g(0):g(1)})},e}var q=(b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return q},b.next=function(){return d("LSSynchronousPromise").makeSynchronousPromise({done:!0})},b);function a(a,b,e,f,g,h,i,l){var r=new Set(),s=a.length>1,t=a.length===1&&a[0][1]==null,u=a.map(function(a){var c=a[0],i=a[1];return c.map(function(a){f.key_lookup===!0&&a.length!==0;f.table_scan===!0&&a.length===0;var c=a.map(function(a){return h(a,b)});a=c.length===(i==null?e.primaryKeyIds:e.indexes[i]).length&&c.every(function(a){var b=a.end;a=a.start;return a&&b&&a[0]===b[0]&&a[1]===0&&b[1]===0});if(a){var j=function(){var a,b=!1;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=j,a.next=function(){var a;if(b)return d("LSSynchronousPromise").makeSynchronousPromise({done:!0});b=!0;var f=c.map(function(a){a=a.start;return a[0]});return(a=i==null?g:g.index(i)).get.apply(a,f).then(function(a){if(!a)return{done:!0};a=d("ReStoreVaulting").maybeUnvaultDbRow(a,e.name);return{done:!1,value:[f,a]}})},a};return j()}return m(i==null?g:g.index(i),c,b)})}).flat().reduce(function(c,d,e){e=e===0&&c==null?q:c;return a.length>1?o(e,d):p(e,d,b)});function v(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=v,a.next=function(){var a=!0,b,f,h,m,o=function(c){a=!1;var g=c.value;f=g[0];h=g[1];b=t?f:e.primaryKeyIds.map(function(a){return h[a]});if(k(i,e,h)){m=c;a=!0;return}if(j(e.name)&&i&&h!=null&&h.transportKey!=="FBBroker"){m=c;a=!0;return}if(s){g=JSON.stringify(b);if(r.has(g)){a=!0;return}r.add(g)}return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(u,o).then(function(){if(m!=null){var d=m.value[1].transportKey;c("FBLogger")("messenger_web").warn('Expected transportKey to equal ("FBBroker") in %s, provided transportKey: %s',l,d)}return a||b==null||h==null?{done:!0}:{done:!1,value:n(b,h,g,e,i)}})},a}return v()}g.isTranportKeyEnforcedTable=j;g.isNativePendingTaskViolation=k;g.stripUndefinedProperties=l;g.unionIterators=o;g.mergeIterators=p;g.fetch=a}),98);
__d("LSRuntimeDb",["FBLogger","LSIterationHelpers","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.name.match(/secure_|inbox(?!_)/i)}function a(a,b,d,e,f,g,j){return{metadata:d,table:function(k){k=d.tableNames[d.tableIds[k]];if(b===0&&h(k))throw c("FBLogger")("messenger_web").mustfixThrow("cannot access secure table from dynamic mode");return i(a,k,e,f,g,j)},transactionId:a.__internal__transaction_id}}function i(a,b,e,f,g,h){var i=a.transactionTable(b.name,f[f.length-1]);return{add:function(a){h==null||h.logTableOperation(b.name,"add");b.name.includes("encrypted_backups")&&(h==null||h.shouldSample());d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker");a=i.add(a);return c("gkx")("6636")?a:Promise.resolve(a)},fetch:function(){h==null||h.logTableOperation(b.name,"fetch");b.name.includes("encrypted_backups")&&(h==null||h.shouldSample());for(var a=arguments.length,c=new Array(a),k=0;k<a;k++)c[k]=arguments[k];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"asc",b,e,i,j,g,f.join(", "))},fetchDesc:function(){h==null||h.logTableOperation(b.name,"fetchDesc");b.name.includes("encrypted_backups")&&(h==null||h.shouldSample());for(var a=arguments.length,c=new Array(a),k=0;k<a;k++)c[k]=arguments[k];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"desc",b,e,i,j,g,f.join(", "))},peekNextAutoIncrementId:function(){h==null||h.logTableOperation(b.name,"peekNextAutoIncrementId");b.name.includes("encrypted_backups")&&(h==null||h.shouldSample());return i.peekNextAutoIncrementId()},put:function(a){h==null||h.logTableOperation(b.name,"put");b.name.includes("encrypted_backups")&&(h==null||h.shouldSample());d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker");if(d("LSIterationHelpers").isNativePendingTaskViolation(g,b,a))throw c("FBLogger")("messenger_web").mustfixThrow("cannot put native task via LS transport");var e=b.primaryKeyIds.map(function(b){if(a[b]!==void 0)return a[b];throw c("FBLogger")("messenger_web").mustfixThrow("primary key must be defined on object")});e=i.delete.apply(i,e).then(function(){return i.add(d("LSIterationHelpers").stripUndefinedProperties(babelHelpers.extends({},a)))});return c("gkx")("6636")?e:Promise.resolve(e)}}}function j(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both gt and gte");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both lt and lte");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both lt and lte");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both gt and gte");e=[a.gte,0]}}return{end:e,start:d}}return{end:[a,0],start:[a,0]}}g.LSRuntimeDb=a;g.parseConstraint=j}),98);
__d("MWFBLogger",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return c("FBLogger")("messenger_web",a)};b=function(a){return c("FBLogger")("messenger_web_media",a)};d=function(a){return c("FBLogger")("messenger_web_sharing",a)};e=function(a){return c("FBLogger")("messenger_web_calling",a)};f=function(a){return c("FBLogger")("mps",a)};g.MWLogger=a;g.MWMediaLogger=b;g.MWSharingLogger=d;g.MWCallingLogger=e;g.MPSLogger=f}),98);
__d("XPlatReactTextDecoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextDecoder;f.TextDecoder=a}),66);
__d("LS",["ExecutionEnvironment","FBLogger","I64","LSDatascriptRuntimeTypes","LSDict","LSDynamicDependencies","LSInt64Lite","LSIterationOperations","LSJson","LSRuntimeDb","LSSynchronousPromise","LSVec","MWFBLogger","MessengerLogHistory","MetaConfig","ODS","ReStoreKeyComparer","XPlatReactTextDecoder","XPlatReactTextEncoder","base64Binary","cr:1088","cr:4790","emptyFunction","err","gkx","isPromise","justknobx","qpl","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r="LS_WEB",s=d("MessengerLogHistory").getInstance("ls");function t(a){return d("base64Binary").decode(a).buffer}var u={compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},ge:function(a,b){return u.compareTo(a,b)>=0},gt:function(a,b){return u.compareTo(a,b)>0},le:function(a,b){return u.compareTo(a,b)<=0},lt:function(a,b){return u.compareTo(a,b)<0},neq:function(a,b){return!u.eq(a,b)},of_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextEncoder").TextEncoder)();return b.encode(a).buffer},to_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextDecoder").TextDecoder)();return b.decode(a)}};function v(a){if(a.length!==1)throw c("FBLogger")("messenger_web").mustfixThrow("only literal strings supported");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return(q||(q=d("I64"))).mk((b>>>1)+(a&1)*2147483648^-(b&1),a>>>1^-(b&1))}function w(a){var b;return(b=(b=a.__sproc_name__)!=null?b:a.__debugModuleSource)!=null?b:"<unknown_sproc>"}var x=function(){var a=0;function d(d){var e=d.args,f=d.shouldLog;d=d.sprocName;b("cr:1088")==null||b("cr:1088").logStoredProcedureCall(d,e);if(!f||!b("cr:4790"))return;e=++a;b("cr:4790").markerStart(c("qpl")._(25302991,"143"),e);b("cr:4790").markerAnnotate(c("qpl")._(25302991,"143"),{string:{name:d}},{instanceKey:e});return e}function e(a,d,e){a=a.shouldLog;if(!a||d==null)return;b("cr:4790")==null||b("cr:4790").markerEnd(c("qpl")._(25302991,"143"),e,d)}function f(a){return Math.random()*c("MetaConfig")._("10")<1}return{call:d,logSprocDone:e,shouldLogSproc:f}}(),y="Native operation timeout; transaction blocked",z=30*1e3;function A(a,b,e,f,g,q,B,C){g===void 0&&(g={});q===void 0&&(q=void 0);var D=[],E=d("LSRuntimeDb").LSRuntimeDb(f,a,b,g,D,B,C),F=function(b,g){for(var h=arguments.length,i=new Array(h>2?h-2:0),j=2;j<h;j++)i[j-2]=arguments[j];var k;if(typeof g==="string"){k=e[g.toString()];if(k==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented native type op with type: %s and id: %s",b,g);if(k===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",g);k.load&&(k=k.load())}else k=g;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(k).then(function(b){return b.call.apply(b,[f,a].concat(i))})},G=function(b){for(var g=arguments.length,h=new Array(g>1?g-1:0),i=1;i<g;i++)h[i-1]=arguments[i];var j;if(typeof b==="string"){j=e[b+".bs"]||e[b+".nop"];if(j==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented native op with id: %s",b);if(j===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",b);j.load&&(j=j.load())}else j=b;var k,l;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(j).then(function(b){var e;k=(e=(e=b.__nop_name__)!=null?e:b==null?void 0:b.toString().slice(0,250))!=null?e:"<unknown nop name>";l=C==null?void 0:C.logNativeOperationStart(k);e=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b.apply(void 0,[f,a].concat(h)));return!(m||(m=c("isPromise")))(e)?e:c("justknobx")._("3895")&&(p||(p=c("ExecutionEnvironment"))).isInBrowser?Promise.race([e,new Promise(function(a,b){return c("setTimeout")(function(){return b(c("err")(y))},z)})]):e}).then(function(a){var b;(b=l)==null||b.end();return a},function(a){var b;(b=l)==null||b.end();c("FBLogger")("messenger_web").catching(a).addMetadata(r,"NATIVE_OP_ID",k).mustfixThrow("Native operation %s failed: was_timeout: %s, is_in_worker: %s",k,(a==null?void 0:a.message)===y,(p||(p=c("ExecutionEnvironment"))).isInWorker)})},H=function(a){return a.slice(1).reduce(function(b,d){if(typeof d!=="function"){c("FBLogger")("messenger_web").mustfix("Non-function passed (%s, type %s) in sequence (%s)",d,typeof d,JSON.stringify(a.map(function(a){return typeof a})));return b}return b.then(d)},a[0]())},I=function(a,b){return a.slice(b)};return{Map:c("LSDict"),blob:t,blobs:u,constructor:{n:v},count:d("LSIterationOperations").count,createArray:function(){return c("LSVec").ofArray([])},createArrayWithElements:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c("LSVec").ofArray(b)},db:E,filter:d("LSIterationOperations").filter,forEach:d("LSIterationOperations").forEach,groupBy:d("LSIterationOperations").groupBy,i64:c("LSInt64Lite"),islc:d("LSIterationOperations").slice,like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},logger:function(a){if(q)return{debug:q,info:q,mustfix:q,warn:q};var b=d("MWFBLogger").MWLogger(),e=a.startsWith("epoch mismatch"),f=a.startsWith("cursor mismatch");if(e||f){a=function(a){s.error(a,"error");a=function(){if(e)return"epoch_mismatch";else if(f)return"cursor_mismatch";else return"fixme_could_not_produce_key"}();(n||(n=d("ODS"))).bumpEntityKey(3185,"lsplatform",a)};return{debug:function(a){return s.debug(a)},info:function(a){return s.debug(a)},mustfix:a,warn:a}}else{c("gkx")("26382")||(b.info=c("emptyFunction"));return b}},loopAsync:function(a,b){function e(f){if(c("LSInt64Lite").lt(f,a)){var g=f;f=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(g));while(!(m||(m=c("isPromise")))(f)){g=c("LSInt64Lite").add(g,v(h||(h=babelHelpers.taggedTemplateLiteralLoose(["2"]))));if(!c("LSInt64Lite").lt(g,a))return d("LSSynchronousPromise").makeSynchronousPromise(void 0);f=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(g))}return f.then(function(){return e(c("LSInt64Lite").add(g,v(i||(i=babelHelpers.taggedTemplateLiteralLoose(["2"])))))})}return d("LSSynchronousPromise").makeSynchronousPromise(void 0)}return e(v(j||(j=babelHelpers.taggedTemplateLiteralLoose(["0"]))))},loopSync:function(a,b){for(var d=v(k||(k=babelHelpers.taggedTemplateLiteralLoose(["0"])));c("LSInt64Lite").lt(d,a);d=c("LSInt64Lite").add(d,v(l||(l=babelHelpers.taggedTemplateLiteralLoose(["2"])))))b(d)},merge:function(){function a(a,b){return(o||(o=d("ReStoreKeyComparer"))).compareValue(a,b)>0?a:b}function b(a,b){return(o||(o=d("ReStoreKeyComparer"))).compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,e){e=d("LSRuntimeDb").parseConstraint(e,"asc");return{end:c.end&&e.end?b(e.end,c.end):e.end||c.end,start:c.start&&e.start?a(e.start,c.start):e.start||c.start}},{});return babelHelpers.extends({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:v,nativeOperation:G,nativeTypeOperation:F,notnull:function(a){if(a===null)throw c("FBLogger")("messenger_web").mustfixThrow("value should not be null");return a},print:function(a){},resolve:function(a){return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(a)},resolveGuaranteeAsync:function(a){var b;return((b=self.Promise)!=null?b:Promise).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))},rm:c("LSInt64Lite").of_int32(a),sequence:H,slice:I,sortBy:d("LSIterationOperations").sortBy,storedProcedure:function(h){for(var i=arguments.length,j=new Array(i>1?i-1:0),k=1;k<i;k++)j[k-1]=arguments[k];var l;if(typeof h==="string"){l=e[h];if(l==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented stored procedure with id: %s",h);if(l===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent sproc loading failed for: %s (retryable)",h);l.load&&(l=l.load())}else l=h;var m=this;switch(a){case 0:m=A(2,b,e,f,g,q,B);break;case 2:m=A(1,b,e,f,g,q,B);break}var n,o,p,s;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(l).then(function(a){o=w(a);p=x.shouldLogSproc(o);D.push(o);n=x.call({args:j,shouldLog:p,sprocName:o});s=C==null?void 0:C.logSprocCallStart(o,d("LSDatascriptRuntimeTypes").TopLevelCallOrigin.UI);f.reportUsedTablesForSyncAccess(a.__tables__);return a.apply(void 0,j.concat([m]))}).then(function(a){var b;D.pop();x.logSprocDone({args:j,shouldLog:p,sprocName:o},n,2);(b=s)==null||b.end();return a},function(a){var b;D.pop();x.logSprocDone({args:j,shouldLog:p,sprocName:o},n,3);(b=s)==null||b.end();c("FBLogger")("messenger_web").catching(a).addMetadata(r,"SPROC_STACK",D.join("\n")).warn("Sproc %s failed",o);throw a})},throw:function(a){throw c("FBLogger")("messenger_web").mustfixThrow(a)},toArray:d("LSIterationOperations").toArray,toJSON:function(a){return d("LSJson").stringify(a)}}}A.n=v;g.default=A}),98);
__d("LSAuthorityLevel",[],(function(a,b,c,d,e,f){a=Object.freeze({OPTIMISTIC:20,CLIENT_PARTIAL:40,SERVER_PARTIAL:60,AUTHORITATIVE_PENDING_REPLACEMENT:75,AUTHORITATIVE:80,CLIENT_AUTHORITATIVE_DELETE:100});f["default"]=a}),66);
__d("LSResult",[],(function(a,b,c,d,e,f){"use strict";function a(a){return[a]}f["default"]=a}),66);
__d("LSBase64Encode.nop",["EBBase64Encode","LSResult","LSSynchronousPromise"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e){return d("LSSynchronousPromise").makeSynchronousPromise(c("LSResult")(e?c("EBBase64Encode")(e):void 0))};a.__nop_name__="LSBase64Encode";g["default"]=a}),98);
__d("LSBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}function b(a,b){return d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}g.set=a;g.clear=b;g.empty=(h||(h=d("I64"))).zero}),98);
__d("LSContactBitOffset",["I64","LSBitFlag","LSBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h;c=["capabilities","capabilities2"];function a(a,b){return i(a,b,!1)}function i(a,b,c){var e=b.capabilities,f=b.capabilities2;if(a>=64){return f==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(f=b.capabilities2)!=null?f:d("LSBitOffset").empty)}return e==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),(f=b.capabilities)!=null?f:d("LSBitOffset").empty)}function b(a,b){return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),b!=null?b:d("LSBitOffset").empty)}g.contactCapabilityFields=c;g.has=a;g.hasWithDefault=i;g.contactCapabilitiesHas=b}),98);
__d("LSContactType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,USER:1,PAGE:2,PAGE_PERSONA:3});f["default"]=a}),66);
__d("LSDatabaseSingletonLazyWrapper",["LSDatabaseSingleton"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton}g["default"]=a}),98);
__d("LSDeserializeFromJsonIntoDictionaryV2.nop",["FBLogger","LSDict","LSJson","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){a=d("LSJson").parse(f,{useLSTypes:!0});if(a instanceof c("LSDict"))return(h||(h=b("Promise"))).resolve([a]);throw c("FBLogger")("messenger_web").mustfixThrow("unexpected Dictionary type")};a.__nop_name__="LSDeserializeFromJsonIntoDictionary";g["default"]=a}),98);
__d("LSFactory",["ExecutionEnvironment","LS","LSDynamicDependencies","LSMetadata","cr:8709"],(function(a,b,c,d,e,f,g){"use strict";var h,i={dynamic:!1};function a(a,e){e===void 0&&(e=i);a=c("LS")(1,d("LSMetadata").schema,d("LSDynamicDependencies").cachedModules,a,void 0,void 0,e.dynamic,e.lsRuntimeLogger);return b("cr:8709")!=null&&(h||(h=c("ExecutionEnvironment"))).isInBrowser?b("cr:8709").wrapSprocInvocationWithProfiler(a):a}g["default"]=a}),98);
__d("LSGroupParticipantJoinState",[],(function(a,b,c,d,e,f){a=Object.freeze({MEMBER:0,PENDING:1,INVITED:2});f["default"]=a}),66);
__d("LSIsEncryptionVersionSecure",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.i64.eq(a[0],b.i64.cast([0,4]))?c[0]=!1:(b.i64.eq(a[0],b.i64.cast([0,3]))?c[1]=!0:(b.i64.eq(a[0],b.i64.cast([0,2]))?c[2]=!0:(b.i64.eq(a[0],b.i64.cast([0,0]))?c[3]=!0:(b.i64.eq(a[0],b.i64.cast([0,99]))?c[4]=!1:c[4]=!1,c[3]=c[4]),c[2]=c[3]),c[1]=c[2]),c[0]=c[1]),d[0]=c[0],b.resolve(d)}a.__sproc_name__="LSEncryptedBackupsVersioningIsEncryptionVersionSecureStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssueNextSync",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.count(c.filter(c.db.table(310).fetch(),function(b){return b.projectName===a[1]})).then(function(a){return d[0]=a})},function(e){return c.i64.gt(d[0],c.i64.cast([0,0]))&&a[3]===!0?c.resolve(0):c.sequence([function(b){return c.forEach(c.filter(c.db.table(310).fetch(),function(b){return b.projectName===a[1]}),function(a){return a["delete"]()})},function(e){return c.i64.gt(a[2],c.i64.cast([0,0]))?(d[3]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[3],a[2])):d[1]=c.i64.cast([0,0]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["acs_sync","_",a[1]].join(""),c.i64.cast([0,362]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[1],c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(310).add({taskId:d[2],projectName:a[1],maxClientTokenPoolSize:a[0]})}])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsIssueNextSyncStoredProcedure";a.__tables__=["acs_request_context"];e.exports=a}),null);
__d("MebClientLogsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3226");b=d("FalcoLoggerInternal").create("meb_client_logs",a);e=b;g["default"]=e}),98);
__d("LSLogMebClientEvent.nop",["I64","LSVec","MebClientLogsFalcoEvent","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(a,e,f,g,j,k){c("MebClientLogsFalcoEvent").log(function(){return{calling_class:f,device_family_id:void 0,device_registration_id:void 0,log_level:(i||(i=d("I64"))).to_string(k),msg:g,trace_ids:c("LSVec").toArray(j)}});return(h||(h=b("Promise"))).resolve()};a.__nop_name__="LSLogMebClientEvent";g["default"]=a}),98);
__d("LSMailboxTaskCompletionApiOnTaskCompletion",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(233).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({success:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreMailboxTaskCompletionApiOnTaskCompletionStoredProcedure";a.__tables__=["mailbox_task_completion_api_tasks"];e.exports=a}),null);
__d("LSMessageReplySourceTypeV2",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,STORY_BASE64_ENCODED:6,LIGHTWEIGHT_STATUS:7,CLOSE_FRIENDS:8,XMA:9,IG_NOTE:10,CLOSE_FRIENDS_NOTE_REPLY:11,LIGHTWEIGHT_STATUS_REACTION:12,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16,AVATAR_DETAIL:17,NOTE_REPLY_ARMADILLO:18,FB_STORY_MENTION:22,EXPIRED_STORY:23,FB_PRODUCER_STORY_REPLY:24,FB_POST_MENTION:25,AI_PERSONA_NOTE_REPLY:26,AI_PERSONA_NOTE_REACTION:27,FB_MSGR_NOTE:28,IG_COLLAB_INVITE:29});f["default"]=a}),66);
__d("LSMessageSendStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SENDING_TO_SERVER:1,SERVER_RECEIVED:2,NON_RETRIABLE_ERROR:4,RETRIABLE_ERROR:5});f["default"]=a}),66);
__d("WAHashStringToNumber",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b|=0}return Math.abs(b)}f.hashStringToNumber=a}),66);
__d("LSQplAnnotateString.nop",["EBMarkerIdToQPLEvent","Promise","QPLUserFlow","WAHashStringToNumber","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f,g,i,j){try{a=c("nullthrows")(d("EBMarkerIdToQPLEvent").markerIdToQPLEvent(f));e=d("WAHashStringToNumber").hashStringToNumber(g);c("QPLUserFlow").addAnnotations(a,{string:(f={},f[i]=j,f)},{instanceKey:e});return(h||(h=b("Promise"))).resolve()}catch(a){return(h||(h=b("Promise"))).resolve()}};a.__nop_name__="LSQplAnnotateString";g["default"]=a}),98);
__d("LSQplMarkEnd.nop",["EBMarkerIdToQPLEvent","Promise","QPLUserFlow","WAHashStringToNumber","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f,g,i){try{a=c("nullthrows")(d("EBMarkerIdToQPLEvent").markerIdToQPLEvent(f));e=d("WAHashStringToNumber").hashStringToNumber(g);i?c("QPLUserFlow").endSuccess(a,{instanceKey:e}):c("QPLUserFlow").endFailure(a,"failure",{instanceKey:e});return(h||(h=b("Promise"))).resolve()}catch(a){return(h||(h=b("Promise"))).resolve()}};a.__nop_name__="LSQplMarkEnd";g["default"]=a}),98);
__d("LSQplMarkPoint.nop",["EBMarkerIdToQPLEvent","Promise","QPLUserFlow","WAHashStringToNumber","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f,g,i){try{a=c("nullthrows")(d("EBMarkerIdToQPLEvent").markerIdToQPLEvent(f));e=d("WAHashStringToNumber").hashStringToNumber(g);c("QPLUserFlow").addPoint(a,i,{instanceKey:e});return(h||(h=b("Promise"))).resolve()}catch(a){return(h||(h=b("Promise"))).resolve()}};a.__nop_name__="LSQplMarkPoint";g["default"]=a}),98);
__d("LSQplStartTrace.nop",["EBMarkerIdToQPLEvent","Promise","QPLUserFlow","WAHashStringToNumber","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f,g,i,j){try{a=c("nullthrows")(d("EBMarkerIdToQPLEvent").markerIdToQPLEvent(f));e=d("WAHashStringToNumber").hashStringToNumber(g);c("QPLUserFlow").start(a,{instanceKey:e});return(h||(h=b("Promise"))).resolve()}catch(a){return(h||(h=b("Promise"))).resolve()}};a.__nop_name__="LSQplStartTrace";g["default"]=a}),98);
__d("LSRemoveBlindedTokens",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(308).fetch(),function(b){return b.configId===a[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSAnonymousCredentialsRemoveBlindedTokensStoredProcedure";a.__tables__=["secure_acs_blinded_tokens"];e.exports=a}),null);
__d("LSReplyMessageAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({OTHER:0,PHOTO:1,VIDEO:2,GIF:3,STICKER:4,LINK:5,MULTIPHOTO:6,PERMANENT_RAVEN_PHOTO:7,PERMANENT_RAVEN_VIDEO:8,AUDIO:10,ROLL_CALL_PHOTO_CONTRIBUTION:11,ROLL_CALL_VIDEO_CONTRIBUTION:12,FEED_POST:13,POWER_UP:14,XMA:15,ROLL_CALL_TEXT_CONTRIBUTION:16,BLOKS_XMA:17,EPHEMERAL_RAVEN_MESSAGE:18,THIRD_PARTY_STICKER:19,SOUND_BITE:9});f["default"]=a}),66);
__d("LSShape",["LSDict"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSDict").fromObject(a)}function b(a){return c("LSDict").shapeToRecord(a)}g.ofRecord=a;g.toRecord=b}),98);
__d("LSXmaContentType",[],(function(a,b,c,d,e,f){a=Object.freeze({TEST:-1,NONE:0,IG_SINGLE_IMAGE_POST_SHARE:1e3,IG_MULTIPOST_SHARE:1001,IG_STORY_REPLY:1002,IG_STORY_PHOTO_SHARE:1003,IG_STORY_PHOTO_MENTION:1004,IG_CLIPS_SHARE:1005,IG_SINGLE_VIDEO_POST_SHARE:1006,IG_STORY_VIDEO_SHARE:1007,IG_STORY_REACTION:1008,IG_IGTV_SHARE:1009,IG_SHOP_SHARE:1010,IG_PROFILE_SHARE:1011,IG_STORY_PHOTO_HIGHLIGHT_SHARE:1012,IG_STORY_VIDEO_HIGHLIGHT_SHARE:1013,IG_STORY_VIDEO_MENTION:1014,IG_STORY_HIGHLIGHT_REPLY:1015,IG_STORY_HIGHLIGHT_REACTION:1016,IG_EXTERNAL_LINK:1017,IG_RECEIVER_FETCH:1018,IG_TEXT_POST_APP_SHARE:1019,IG_MULTI_MEDIA_RESPONSE:1020,FB_FEED_SHARE:2e3,FB_STORY_REPLY:2001,FB_STORY_SHARE:2002,FB_STORY_MENTION:2003,FB_FEED_VIDEO_SHARE:2004,FB_GAMING_CUSTOM_UPDATE:2005,FB_PRODUCER_STORY_REPLY:2006,FB_EVENT:2007,FB_FEED_POST_PRIVATE_REPLY:2008,FB_SHORT:2009,FB_COMMENT_MENTION_SHARE:2010,FB_STORY_LWI_REPLY:2011,FB_COMMENT_SHARE:2012,FB_POST_MENTION:2013,FB_PROFILE_DIRECTORY_ITEM:2014,FB_FEED_POST_REACTION_REPLY:2015,FB_QUICKSNAP_REPLY:2016,MSG_EXTERNAL_LINK_SHARE:3e3,MSG_P2P_PAYMENT:3001,MSG_LOCATION_SHARING:3002,MSG_LOCATION_SHARING_V2:3003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:3004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:3005,MSG_RECEIVER_FETCH:3006,MSG_IG_MEDIA_SHARE:3007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:3008,MSG_REELS_LIST:3009,MSG_CONTACT:3010,MSG_THREADS_POST_SHARE:3011,MSG_FILE:3012,MSG_AVATAR_DETAILS:3013,MSG_AI_CONTACT:3014,MSG_MEMORIES_SHARE:3015,MSG_SHARED_ALBUM_REPLY:3016,MSG_SHARED_ALBUM:3017,MSG_OCCAMADILLO_XMA:3018,MSG_GEN_AI_1P_SEARCH_RESULT:3019,MSG_EARLY_ACCESS_FB_SHARE:3020,MSG_GEN_AI_SUBSCRIPTION:3021,MSG_GEN_AI_REMINDER:3022,MSG_GEN_AI_MEMU_ONBOARDING_RESPONSE:3023,MSG_MAGICAL_MESSENGER_PLACES:3024,MSG_RECEIVER_FETCH_FALLBACK:3025,MSG_MAGICAL_MESSENGER_TASKS:3026,MSG_NOTE_REPLY:3027,MSG_NOTE_MENTION:3028,MSG_PROMPT_REPLY:3029,MSG_GEN_AI_TASK:3030,MSG_GEN_AI_RICH_RESPONSE:3040,MSG_RECEIVER_FETCH_ENT_DELETED:3041,MSG_GEN_AI_APP_DOWNLOAD_LINK:3042,MSG_GEN_AI_ENTITY:3043,MSG_OPG_P2P_PAYMENT:3044,MSG_MARKETPLACE:3045,MSG_MUSIC_STICKER:3046,MSG_META_AI_DIGEST:3047,MSG_PHONE_NUMBER:3048,RTC_AUDIO_CALL:4e3,RTC_VIDEO_CALL:4001,RTC_MISSED_AUDIO_CALL:4002,RTC_MISSED_VIDEO_CALL:4003,RTC_GROUP_AUDIO_CALL:4004,RTC_GROUP_VIDEO_CALL:4005,RTC_MISSED_GROUP_AUDIO_CALL:4006,RTC_MISSED_GROUP_VIDEO_CALL:4007,RTC_ONGOING_AUDIO_CALL:4008,RTC_ONGOING_VIDEO_CALL:4009,DATACLASS_SENDER_COPY:5e3,OC_AVATAR_STATIC_STICKER:6e3,LIVE_LOCATION:7e3});f["default"]=a}),66);
__d("MAWODSProxy",["CurrentMessengerUser","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.amount,c=a.entity;a=a.key;(h||(h=d("ODS"))).bumpEntityKey(3185,c,a+"."+(d("CurrentMessengerUser").getAppID()||"unknown"),b)}g.odsBumpEntityKey=a}),98);
__d("WAGlobals",["WAJids","WALogger","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null;function a(a){i=a}function j(){if(i==null)throw c("err")("WaMsgr api called before set");return i}function k(){var a;return(a=j().myJids)==null?void 0:a.deviceJid}function b(){var a;return(a=j().myJids)==null?void 0:a.userJid}function e(a){return d("WAJids").extractUserJid(a)===d("WAJids").extractUserJid(k())}function f(){return j().config}function l(){return j().dependencies}var m="WAOneQueue is not defined";function n(){var a=j().waOneQueue;if(a==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["",""])),m);throw c("err")(m)}return a}function o(){return j().hmacKey}g.setGlobals=a;g.getMyDeviceJid=k;g.getMyUserJid=b;g.isPeerDevice=e;g.getConfig=f;g.getDependencies=l;g.getWaOneQueue=n;g.getHMACKey=o}),98);
__d("MAWUserJidWrapper",["ExecutionEnvironment","MAWCurrentUser","MAWODSProxy","WAGlobals","WAJids","WAOdsEnums"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("WAJids").toMsgrUserJid(d("MAWCurrentUser").getID());if((h||(h=c("ExecutionEnvironment"))).isInWorker){var b=d("WAGlobals").getMyUserJid();d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_MY_USER_JID_GETTER,key:b===a?"same":"different"});return b}return a}g.getMyUserJid=a}),98);
__d("MAWAuthor",["MAWUserJidWrapper","WAJids","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){if(a==null||a===d("WAJids").AUTHOR_SYSTEM)return null;if(d("WAJids").isAuthorMe(a))return d("MAWUserJidWrapper").getMyUserJid();var b=d("WAJids").authorAsUserJid(a);if(b==null||c("isStringNullOrEmpty")(d("WAJids").userIdFromJid(b)))return null;else return d("WAJids").authorAsUserJid(a)};g.getAuthorUserJid=a}),98);
__d("WAStanzaUtils",[],(function(a,b,c,d,e,f){"use strict";var g=/^[0-9A-Za-z-]{1,32}$/;function a(a){return a}function b(a){return g.test(a)?a:null}f.toStanzaId=a;f.validateCallId=b}),66);
__d("MAWExternalId",["I64","Random","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=131071,j=null,k=0;function l(){var a=j,b=Date.now();if(a==null||n(a)!==n(b)){j=b;k=0;return b}a=b+100*(k+1);var c=p(b),d=p(a);if(c==null||d==null)return b;if(c>d)return b;k++;return a}function m(a){return new Date(a).getTime()>0}function n(a){return Math.floor(a/100)*100}function o(a){return Math.floor(c("Random").random()*a)}function a(){var a=l();return d("WAStanzaUtils").toStanzaId((h||(h=d("I64"))).to_string(h.and_(h.or_(h.lsl_(h.of_float(a),22),h.and_(h.of_float(o(i)),h.of_float(i))),h.max_int)))}function p(a){return!m(a)?null:Math.floor(Number(a)%1e5/100)}g.generateExternalId=a;g.getThreeMostSignificantDigitsForSortOrderTimestamp=p}),98);
__d("MAWJids",["I64","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("WAJids").createJidUtils({platform:"msgr"});var i=e.toUserJid,j=function(a,b){a=(h||(h=d("I64"))).to_string(a);return b?d("WAJids").toGroupJid(a):i(a)};function a(a){return j(a,!1)}function b(a){return j(a,!0)}f=function(a){a=d("WAJids").threadIdForChatJid(a);return(h||(h=d("I64"))).of_string(a)};function c(a){return d("WAJids").unsafeCoerceToChatJid(a)}g.jidUtils=e;g.toUserJid=i;g.convertIntJidToChatJid=j;g.convertIntJidToOneToOneChatJid=a;g.convertIntJidToGroupJid=b;g.convertChatJidToIntJid=f;g.threadIdToChatJid=c}),98);
__d("MNLSXMALayoutType",[],(function(a,b,c,d,e,f){a=Object.freeze({SINGLE:0,HSCROLL:1,XCENTER:2,PORTRAIT:4,LAYERED:5,PLACEHOLDER:6,EXPIRED_PLACEHOLDER:7,PILE_PROMPT:8,STACK:9,SHARED_STACK:10,STACK_CARD:11,STANDARD_DXMA:12,DXMA_PLACEHOLDER:13,THREAD_SHORTCUT:14,LIST_DXMA:15,GRID:16,BLOKS_XMA:17,TWO_CARD:18,NOTE:19,VSTACK:20,SQUIRCLE:21,REPLY:22,RICH_RESPONSE:23,CODE:24,TABLE:25,SQUIRCLE_SHARED_STACK:26,UNIFIED_RESPONSE:27,CARD:28,CONDENSED_LINK:29});f["default"]=a}),66);
__d("MNXMAPreviewImageDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,COLLAGE:1,VIDEO:2,MESSENGER_ICON:3,INSTAGRAM_ICON:4,SHOPPING:5,UPCOMING_EVENT:6,LIVE:7,REEL:8,IGTV:9,YOUTUBE_VIDEO:10,YOUTUBE_SHORTS:11,COMMENT:12,BLUR:13,PILL:14,MESSENGER_CHANNEL_IMAGE:15,TROPHY:16,DXMA_LIVE:17,DXMA_LIVE_ENDED:18,LIKE_BUBBLE_REPLY:19,LIKE_BUBBLES:20,REPOST:21});f["default"]=a}),66);
__d("MWPBumpEntityKey",["CurrentAppID","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){(h||(h=d("ODS"))).bumpEntityKey(3185,a,b)}function a(a,b){var c=d("CurrentAppID").getAppID();c=c==null?"unknown":c;return i(a,b+"."+c)}g.bumpEntityKey=i;g.bumpEntityKeyWithAppId=a}),98);
__d("MessagingAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,STICKER:1,IMAGE:2,ANIMATED_IMAGE:3,VIDEO:4,AUDIO:5,FILE:6,XMA:7,EPHEMERAL_IMAGE:8,EPHEMERAL_VIDEO:9,SELFIE_STICKER:10,SOUND_BITE:12,CATALOG_ITEM:13,POWER_UP:14,THIRD_PARTY_STICKER:15});f["default"]=a}),66);
__d("OfflineThreadingId",["I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).of_string("4194303");function a(){return(h||(h=d("I64"))).to_string(j())}function j(){var a=d("XPlatReactCrypto").getRandomValues(new Uint8Array(8));a=new DataView(a.buffer);a=(h||(h=d("I64"))).add(h.lsl_(h.of_int32(a.getUint32(0)),32),h.of_int32(a.getUint32(4)));return k(Date.now(),a)}function k(a,b){return(h||(h=d("I64"))).and_(h.or_(h.lsl_(h.of_float(a),22),h.and_(b,i)),h.max_int)}function b(a){var b=j(),c=[];for(var e=0;e<a.length;e++)c.push([a[e],(h||(h=d("I64"))).to_string(b)]),b=l(b);return c}function l(a,b){b===void 0&&(b=(h||(h=d("I64"))).one);var c=m(a);a=n(a);return k(c,(h||(h=d("I64"))).add(a,b))}function m(a){return(h||(h=d("I64"))).to_float(h.lsr_(a,22))}function n(a){return(h||(h=d("I64"))).and_(a,i)}g.createOfflineThreadingID=a;g.createForItemsInOrder=b;g.createNewFromExisting=l;g.extractTimestamp=m}),98);
__d("RetUtil",["LSResult"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSResult")(a)}g.getNullableRetResult=a}),98);
__d("URLMatcherConfig",[],(function(a,b,c,d,e,f){e.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u901a\u8ca9|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5929\u4e3b\u6559|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u0cad\u0cbe\u0cb0\u0ca4|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b2d\u0b3e\u0b30\u0b24|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09f0\u09a4|\u09ad\u09be\u09b0\u09a4|\u09ac\u09be\u0982\u09b2\u09be|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u094b\u0924|\u092d\u093e\u0930\u0924\u092e\u094d|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0680\u0627\u0631\u062a|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qxa6a|xn--qcka1pmc|xn--q9jyb4c|xn--q7ce6a|xn--pssy2u|xn--pgbs0dh|xn--p1ai|xn--p1acf|xn--otu796d|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbcpq6gpa1a|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbah1a3hjkrd|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq480n2rg|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cckwcxetd|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--4dbrk0ce|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|wanggou|wang|walter|walmart|wales|vu|voyage|voto|voting|vote|volvo|vodka|vn|vlaanderen|vivo|viva|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|sydney|sy|sx|swiss|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statefarm|statebank|star|staples|stada|st|ss|srl|sr|spot|sport|space|spa|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|show|shouji|shopping|shop|shoes|shiksha|shia|shell|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|services|sener|select|seek|security|secure|seat|search|se|sd|scot|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sc|sbs|sbi|sb|saxo|save|sas|sarl|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|ro|rip|rio|ril|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|radio|racing|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|party|parts|partners|pars|paris|panasonic|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|online|onl|ong|one|omega|om|ollo|olayangroup|olayan|okinawa|office|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|name|nagoya|nab|na|mz|my|mx|mw|mv|music|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movie|mov|motorcycles|moto|moscow|mortgage|mormon|monster|money|monash|mom|moi|moe|moda|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|merckmsd|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|ma|ly|lv|luxury|luxe|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|locus|locker|loans|loan|llp|llc|lk|living|live|lipsy|link|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancaster|lamer|lamborghini|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kim|kids|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jio|jewelry|jetzt|jeep|je|jcb|java|jaguar|itv|itau|it|istanbul|ist|ismaili|is|irish|ir|iq|ipiranga|io|investments|intuit|international|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|ht|hsbc|hr|how|house|hotmail|hotels|hot|hosting|host|hospital|horse|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|gay|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujitsu|ftr|frontier|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|events|eus|eurovision|eu|et|estate|esq|es|erni|ericsson|er|equipment|epson|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|dunlop|dubai|dtv|drive|download|dot|domains|dog|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|cpa|courses|coupons|coupon|country|corsica|coop|cool|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrome|christmas|chintai|cheap|chat|chase|charity|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|cd|cc|cbre|cbn|cba|catholic|catering|cat|casino|cash|case|casa|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|amazon|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|al|akdn|airtel|airforce|airbus|aig|ai|agency|agakhan|ag|africa|afl|af|aetna|aero|aeg|ae|adult|ads|ad|actor|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|aarp|aaa))"}}),null);
__d("URLMatcher",["URLMatcherConfig"],(function(a,b,c,d,e,f){d="!\"#%&'()*,-./:;<>?@[\\]^_`{|}";f="\u2000-\u206f\xab\xbb\uff08\uff09";var g="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])",h="(?:https?)://";g="(?:(^|\\s)(?:"+g+"[.]){3}"+g+")";g=g;var i="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]",j="(?:\\b)www\\d{0,3}[.]";d="[^\\s"+d+f+"]";f="(?:(?:(?:[.:\\-_%@]|"+d+")*"+d+")|"+i+")";d="(?::\\d+){0,1}";var k="(?=[/?#])";b=b("URLMatcherConfig").tlds;var l="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+k+"))";k="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+"))";g="[/#?]";i="\\([^\\s()<>]+\\)";var m="[^\\s()<>?#]+",n=new RegExp(l,"im"),o="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",p=new RegExp(o,"im"),q="(?:(?:"+g+")(?:(?:"+i+"|"+m+")*)*)*",r=new RegExp("((?:"+k+")(?:"+q+"))","im");function a(){r.compile()}var s=new RegExp("((?:"+h+f+d+")|(?:"+j+f+b+d+"))"),t=/[\s\'\";]/,u=new RegExp(g,"im"),v=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xab\xbb\u2000-\u206f\uff08\uff09]","im"),w=new RegExp("[\\s()<>?#]","im"),x=new RegExp("\\s()<>"),y=function(a){if(a!=null&&a.indexOf("@")!==-1)return s.exec(a)?a:null;else return a},z=function(a){return new RegExp("((?:"+l+")(?:"+q+"))",a)};function c(){return r.source}o=function(a){return A(a,z("im"))};i=function(a){return B(a,z("igm"))};m=function(a){return A(a,r)};var A=function(a,b){b=b.exec(a);return b==null||b.length===0?null:y(b[1]||null)},B=function(a,b){a=a.match(b);return a==null?[]:a.filter(Boolean)||[]};k=function(a){return n.exec(a)};h=function(a){return!t.test(a.charAt(a.length-1))};j=function(a){a=a;var b=!1;do{var c,d=n.exec(a);if(!d)return null;((c=d[1])==null?void 0:c.trim())===""&&(d[0]=d[0].trim(),d.index+=d[1].length);b=!1;if(d[0][0]==="["&&d.index>0&&a[d.index-1]==="@"){c=p.exec(d[0]);c&&(b=!0,a=a.substr(d.index+c[0].length))}}while(b);if(!d)return null;c=a.substr(d.index+d[0].length);if(c.length===0||!u.test(c[0]))return y(d[0]);b=0;a=0;var e=1,f=["(","["],g=[")","]"],h=0,i=a;for(var j=1;j<c.length;j++){var k=c[j];if(i===a){if(f.includes(k))h+=1,i=e;else if(u.test(k)||!v.test(k))b=j;else if(w.test(k))break}else if(f.includes(k))h+=1;else if(g.includes(k))h-=1,h===0&&(i=a,b=j);else if(x.test(k))break}return y(d[0]+c.substring(0,b+1))};f={compilePermissiveHostPathMatcher:a,permissiveHostPathMatch:m,permissiveMatch:o,permissiveMultiMatch:i,matchToPattern:A,multiMatchToPattern:B,matchHost:k,trigger:h,match:j,getPermissiveHostPathMatcherSource:c};e.exports=f}),null);
__d("WAArrayBufferUtils",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=new ArrayBuffer(a.length);b=new Uint8Array(b);var c,d;for(c=0,d=a.length;c<d;c++)b[c]=a.charCodeAt(c);return b.buffer}function d(a,c){c===void 0&&(c=5e5);return new(h||(h=b("Promise")))(function(b,d){var e=a.length,f=new ArrayBuffer(e),g=new Uint8Array(f),h=0;setTimeout(i,0);function i(){var d=Math.min(h+c,e);while(h<d)g[h]=a.charCodeAt(h),h++;if(h===e){b(f);return}setTimeout(i,16)}})}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var i=8388607;function f(a,b){a=new Uint8Array(a);if(b>i)throw c("err")("Divisor is too big");var d=0;for(var e=0;e<a.length;++e)d=((d<<8)+a[e])%b;return d}function j(a){a=a.map(function(a){return new Uint8Array(a)});var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.byteLength},0);return c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}function k(a,b){a=new Uint8Array(a);b=new Uint8Array(b);return l(a,b)}function l(a,b){if(a.byteLength!==b.byteLength)return!1;for(var c=0;c!==a.byteLength;c++)if(a[c]!==b[c])return!1;return!0}g.stringToArrayBuffer=a;g.largeStringToArrayBuffer=d;g.arrayBufferToString=e;g.arrayBufferMod=f;g.concatBuffers=j;g.arrayBuffersEqualUNSAFE=k;g.uint8ArraysEqualUNSAFE=l}),98);
__d("WAArrayZip",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=Math.min(a.length,b.length);return a.slice(0,c).map(function(a,c){return[a,b[c]]})}f.zip=a}),66);
__d("WAErrorMessage",[],(function(a,b,c,d,e,f){"use strict";var g="NoErrorMessageProvided";function a(a){if(typeof a==="string")return a;if(a instanceof Error)return a.toString();if(typeof a==="object")if(typeof (a==null?void 0:a.description)==="string")return a.description;else if(typeof (a==null?void 0:a.message)==="string")return a.message;return g}f.NO_ERROR_MESSAGE_PROVIDED=g;f.maybeGetMessageFromError=a}),66);
__d("WALongInt",["WAHex","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){if(typeof a!=="number"){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose([""," is not a safe integer"])),a).color("red");throw new Error("numberOrThrowIfTooLarge is given a non-safe integer")}return a}f=function(a){return a==null?a:k(a)};function a(a){return a==null||typeof a!=="number"?null:a}function b(a,b){if(typeof a==="number"&&typeof b==="number")return a>b;a=typeof a==="number"?d("WAHex").hexLongFromNumber(a):a;b=typeof b==="number"?d("WAHex").hexLongFromNumber(b):b;return d("WAHex").isBiggerHexLong(a,b)}function c(a){if(typeof a==="number")return a.toString(10);var b=d("WAHex").hexLongToHex(a),c=[0],e=0;for(var f=0;f<b.length;f++){e=d("WAHex").hexAt(b,f);for(var g=0;g<c.length;g++)c[g]=c[g]*16+e,e=c[g]/10|0,c[g]%=10;while(e>0)c.push(e%10),e=e/10|0}g=c.reverse().join("");return d("WAHex").hexLongIsNegative(a)?"-"+g:g}function e(a){if(!/^-?\d+$/.test(a)){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid decimal string'])),a).color("red");throw new Error("decimalStringToLongInt is given an invalid decimal string")}var b=a[0]==="-",c=a.replace(/^-?0*/,""),e=c.length;if(e<16||e===16&&c<="9007199254740991")return b?-Number(c):Number(c);if(e>20||e===20&&c>"18446744073709551615"||b&&(e>19||e===19&&c>"9223372036854775807")){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(['"','" is over 64 bits'])),a).color("red");throw new Error("decimalStringToHexLong is given value over 64 bits")}a=0;var f=0;for(var g=0;g<e;g++)a=a*10+Number(c[g]),f=f*10+Math.floor(a/4294967296),a=a%4294967296;return d("WAHex").createHexLongFrom32Bits(f,a,b)}g.numberOrThrowIfTooLarge=k;g.maybeNumberOrThrowIfTooLarge=f;g.maybeNumber=a;g.isBiggerLongInt=b;g.longIntToDecimalString=c;g.decimalStringToLongInt=e}),98);
__d("WAMapWithDefault",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,b!=null?this.$2=new Map(b):this.$2=new Map()}var b=a.prototype;b.size=function(){return this.$2.size};b.clear=function(){this.$2.clear()};b["delete"]=function(a){return this.$2["delete"](a)};b.get=function(a){var b=this.$2.get(a);if(b!=null)return b;else{b=this.$1(a);this.$2.set(a,b);return b}};b.keys=function(){return this.$2.keys()};b.entries=function(){return this.$2.entries()};b.update=function(b,c){c=new Map(this.$2).set(b,c(this.get(b)));return new a(this.$1,c)};b.toMap=function(){return new Map(this.$2)};return a}();f.MapWithDefault=a}),66);
__d("XPlatReactVoprf",["Promise","WAWasmModuleCache","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("LSVoprfWasm").__setRef("XPlatReactVoprf");function j(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield i.load()),b=a.LSVoprfWasm,c=a.locateFile;a=(yield b({getWasmModule:function(){return d("WAWasmModuleCache").loadWasmModule(c())}}));var e,f;try{e=a.createCurveRistretto();f=a.createVoprfExpTwohashdh(e);b={voprfInfo:{curvePtr:e,voprfPtr:f},voprfWasm:a};return{voprfInstance:b}}catch(b){e!=null&&a.freeCurve(e);f!=null&&a.freeVoprf(f);throw b}});return k.apply(this,arguments)}function a(){return(h||(h=b("Promise"))).resolve(j())}function e(a){var b=a.voprfInfo;a=a.voprfWasm;var c=b.curvePtr;b=b.voprfPtr;a.freeCurve(c);a.freeVoprf(b)}g.loadXPlatReactVoprf=a;g.freeVoprfInstance=e}),98);
__d("last",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=null;if(Array.isArray(a)||typeof a==="string")a.length&&(b={value:a[a.length-1]});else for(a of a)b=b||{},b.value=a;return b?b.value:null}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("InstamadilloReplyAttachmentId",["I64","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId)));if(a==null)return;return(h||(h=d("I64"))).of_string(a.attachmentFbid)});return i.apply(this,arguments)}g.getReplyAttachmentId=a}),98);
__d("InstamadilloReplyAttachmentType",["LSIntEnum","LSReplyMessageAttachmentType","MessagingAttachmentType","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(e={},e[(f=c("MessagingAttachmentType")).STICKER]=(i=c("LSReplyMessageAttachmentType")).STICKER,e[f.SELFIE_STICKER]=i.STICKER,e[f.IMAGE]=i.PHOTO,e[f.ANIMATED_IMAGE]=i.GIF,e[f.VIDEO]=i.VIDEO,e[f.AUDIO]=i.AUDIO,e[f.XMA]=i.XMA,e[f.EPHEMERAL_IMAGE]=i.PERMANENT_RAVEN_PHOTO,e[f.EPHEMERAL_VIDEO]=i.PERMANENT_RAVEN_VIDEO,e[f.SOUND_BITE]=i.SOUND_BITE,e[f.POWER_UP]=i.POWER_UP,e[f.FILE]=i.OTHER,e[f.CATALOG_ITEM]=i.OTHER,e);function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId)));if(a==null||a.length===0)return;if(a.length>1)return(h||(h=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO);else if(a.length===1)return l(a[0])});return k.apply(this,arguments)}function l(a){a=(h||(h=d("LSIntEnum"))).unwrapIntEnum(a.attachmentType);a=j[a];if(a!=null)return(h||(h=d("LSIntEnum"))).ofNumber(a)}g.getReplyAttachmentType=a}),98);
__d("InstamadilloReplySnippet",["CurrentMessengerUser","I64","LSMessagingThreadTypeUtil","PolarisDirectStrings"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){var c;d("PolarisDirectStrings").REPLIED_TO;a&&b?c=d("PolarisDirectStrings").YOU_REPLIED_TO_YOURSELF:b?c=d("PolarisDirectStrings").REPLIED_TO_YOU:a?c=d("PolarisDirectStrings").YOU_REPLIED:c=d("PolarisDirectStrings").REPLIED_TO_THEMSELVES;return c.toString()}function j(a,b,c,e,f){var g=d("PolarisDirectStrings").userRepliedToUser(f,e);b&&c?g=d("PolarisDirectStrings").YOU_REPLIED_TO_YOURSELF:c?g=d("PolarisDirectStrings").userRepliedToYou(f):b?g=d("PolarisDirectStrings").youRepliedToUser(e):a&&(g=d("PolarisDirectStrings").userRepliedToThemselves(f));return g.toString()}function a(a,b,c){var e=b.name,f=c.name,g=(h||(h=d("I64"))).of_string(d("CurrentMessengerUser").getIDorEIMU()),k=h.equal(b.id,c.id);b=h.equal(b.id,g);c=h.equal(c.id,g);g=d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType);if(g)return i(b,c);else return j(k,b,c,f,e)}g.getReplySnippet=a}),98);
__d("InstamadilloReplySourceTypeV2",["LSIntEnum","LSMessageReplySourceTypeV2","LSXmaContentType","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){switch(a){case c("LSXmaContentType").IG_STORY_PHOTO_SHARE:case c("LSXmaContentType").IG_STORY_VIDEO_SHARE:case c("LSXmaContentType").IG_STORY_PHOTO_MENTION:case c("LSXmaContentType").IG_STORY_VIDEO_MENTION:case c("LSXmaContentType").IG_STORY_PHOTO_HIGHLIGHT_SHARE:case c("LSXmaContentType").IG_STORY_VIDEO_HIGHLIGHT_SHARE:return!0;default:return!1}}function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=c("LSMessageReplySourceTypeV2").MESSAGE;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId)));b=a;if((b==null?void 0:b.xmaContentType)!=null){a=(h||(h=d("LSIntEnum"))).unwrapIntEnum(b.xmaContentType);i(a)&&(e=c("LSMessageReplySourceTypeV2").STORY);e=c("LSMessageReplySourceTypeV2").XMA}return(h||(h=d("LSIntEnum"))).ofNumber(e)});return j.apply(this,arguments)}g.getReplySourceTypeV2=a}),98);
__d("InstamadilloReplyStatus",["I64","LSIntEnum","LSReplyMessageStatus","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.isUnsent?c("LSReplyMessageStatus").DELETED:c("LSReplyMessageStatus").VALID;if(a.ephemeralExpirationTs!=null){a=(h||(h=d("I64"))).to_int32(h.sub(a.ephemeralExpirationTs,h.of_float(d("WATimeUtils").unixTime())));a<=0&&(b=c("LSReplyMessageStatus").EXPIRED)}return(i||(i=d("LSIntEnum"))).ofNumber(b)}g.getReplyStatusType=a}),98);
__d("InstamadilloReplyMessageParams",["InstamadilloReplyAttachmentId","InstamadilloReplyAttachmentType","InstamadilloReplySnippet","InstamadilloReplySourceTypeV2","InstamadilloReplyStatus","LSIntEnum","LSMessageReplySourceType","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){return{replyMessageText:void 0,replySnippet:void 0,replySourceId:void 0,replySourceType:void 0,replySourceTypeV2:void 0,replyStatus:void 0,replyToUserId:void 0}}function e(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){a=(yield (i||(i=b("Promise"))).all([g.threads.get(a),g.contacts.get(e),g.messages.index("messageId").get(f)]));e=a[0];var j=a[1];a=a[2];f={replySourceId:f};if(j==null||e==null||a==null)return f;f.replySourceId=a.messageId;f.replySourceTimestampMs=a.timestampMs;f.replyToUserId=a.senderId;f.replyMessageText=a.text;f.replyStatus=d("InstamadilloReplyStatus").getReplyStatusType(a);var k=(yield g.contacts.get(a.senderId));k!=null&&(f.replySnippet=d("InstamadilloReplySnippet").getReplySnippet(e,j,k));f.replySourceType=(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE);e=(yield i.all([d("InstamadilloReplySourceTypeV2").getReplySourceTypeV2(g,a),d("InstamadilloReplyAttachmentType").getReplyAttachmentType(g,a),d("InstamadilloReplyAttachmentId").getReplyAttachmentId(g,a)]));j=e[0];k=e[1];g=e[2];f.replySourceTypeV2=j;f.replyAttachmentType=k;f.replyAttachmentId=g;return f});return j.apply(this,arguments)}g.getEmptyReplyMessageParams=a;g.getReplyMessageParams=e}),98);
__d("InstamadilloMessageFactory",["FBLogger","I64","InstamadilloMessageIdUtils","InstamadilloReplyMessageParams","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMessageRenderingType","LSMessageReplySourceTypeV2","LSMessageSendStatus","LSMessageThreadUnsendabilityStatus","LSQuickReplyType","MAWAuthor","MAWJids","MessagingAttachmentType","WAJids","WALongInt","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){var b=a.externalId,c=d("WAJids").threadIdForChatJid(a.chat);a=d("MAWJids").convertChatJidToIntJid(a.chat);c=d("InstamadilloMessageIdUtils").toInstamadilloMessageId(c,b);return{messageId:c,threadKey:a}}function k(a,b,e,f){return{attachmentFbid:a,attachmentIndex:(h||(h=d("I64"))).zero,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE),authorityLevel:h.of_int32(c("LSAuthorityLevel").AUTHORITATIVE),hasMedia:!0,hasXma:!1,isPreviewImage:!1,isSharable:!1,messageId:b,threadKey:e,timestampMs:f,transportKey:"Instamadillo",xmaLayoutType:h.zero,xmasTemplateType:h.zero}}function a(a,b){var c=j(a),d=c.messageId;c=c.threadKey;return k(a.externalId,d,c,b)}function e(a,b,c){a=j(a);var d=a.messageId;a=a.threadKey;return k(b,d,a,c)}function f(a){var b=j(a),c=b.messageId;b=b.threadKey;a={attachmentFbid:a.externalId,attachmentIndex:(h||(h=d("I64"))).zero,ctaId:h.zero,messageId:c,threadKey:b,title:""};return a}function l(a){var b=j(a),c=b.messageId;b=b.threadKey;a={attachmentFbid:a.externalId,attachmentIndex:(h||(h=d("I64"))).zero,defaultActionEnableExtensions:!1,messageId:c,threadKey:b};return a}function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=d("MAWAuthor").getAuthorUserJid(b.author);if(g==null)return c("FBLogger")("igd_web").warn("Skip createBaseInstamadilloMessage: a message cannot exist without an author");var i=b.externalId;g=(h||(h=d("I64"))).of_string(d("WAJids").userIdFromJid(g));b=j(b);var k=b.messageId;b=b.threadKey;a=(yield o(a,{messageId:k,offlineThreadingId:i,senderId:g,threadKey:b,timestampMs:e},f));return a});return n.apply(this,arguments)}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f,g,j,k=b.authorityLevel,l=b.messageId,m=b.offlineThreadingId,n=b.senderId,o=b.threadKey;b=b.timestampMs;var p=(yield a.threads.get(o));p=(p=p==null?void 0:p.cannotUnsendReason)!=null?p:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND);var q={},r=e==null||(f=e.repliedToMessage)==null?void 0:f.repliedToMessageOtid;r!=null&&(q=(yield d("InstamadilloReplyMessageParams").getReplyMessageParams(o,n,d("InstamadilloMessageIdUtils").toInstamadilloMessageId(o,r),a)));a=e==null||(g=e.forwardingParams)==null?void 0:g.forwardedThreadId;a=a!=null;var s,t,u=!1;(e==null||(j=e.ephemeralityParams)==null?void 0:j.ephemeralDurationSec)!=null&&(b==null?u=!0:(s=d("WALongInt").maybeNumberOrThrowIfTooLarge(e.ephemeralityParams.ephemeralDurationSec),t=s!=null?d("WATimeUtils").futureUnixTime(s,d("WATimeUtils").castMilliSecondsToUnixTime((h||(h=d("I64"))).to_float(b))):void 0,u=t!=null&&t<d("WATimeUtils").unixTime()));e=babelHelpers["extends"]({authorityLevel:k!=null?k:(h||(h=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:p,displayedContentTypes:d("LSBitFlag").empty,editCount:(h||(h=d("I64"))).zero,ephemeralDurationInSec:s!=null?(h||(h=d("I64"))).of_float(s):void 0,ephemeralExpirationTs:t!=null?(h||(h=d("I64"))).of_float(t):void 0,hasQuickReplies:r!=null,isAdminMessage:!1,isCollapsed:!1,isExpired:u,isForwarded:a,isUnsent:!1,messageId:l,messageRenderingType:h.of_int32(c("LSMessageRenderingType").DEFAULT),offlineThreadingId:m,primarySortKey:b,quickReplyType:h.of_int32(c("LSQuickReplyType").NONE),replyAttachmentType:void 0,replySourceTypeV2:a?(h||(h=d("I64"))).of_int32(c("LSMessageReplySourceTypeV2").FORWARD):void 0,replyStatus:void 0,secondarySortKey:void 0,senderId:n,sendStatus:h.of_int32(c("LSMessageSendStatus").SERVER_RECEIVED),sendStatusV2:h.of_int32(2),threadKey:o,timestampMs:b,transportKey:"Instamadillo",unsentTimestampMs:void 0,viewFlags:h.zero},q);return e});return p.apply(this,arguments)}g.getThreadAndMessageId=j;g.createBaseAttachmentWithProtocolMsgId=a;g.createBaseAttachmentWithMediaId=e;g.createBaseAttachmentCta=f;g.createBaseAttachmentItem=l;g.createBaseMessageForProtocolMsgId=m;g.createBaseMessage=o}),98);
__d("InstamadilloTextMessageUtils",["URLMatcher","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isStringNullOrEmpty")(a)?!1:c("URLMatcher").match(a)!=null}g.textHasLinks=a}),98);
__d("LSBumpThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.eq(a[1],b.i64.cast([0,1]))?b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0],lastActivityTimestampMs:a[0]})}):b.i64.eq(a[1],b.i64.cast([0,2]))?b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:a[0]})}):b.i64.eq(a[1],b.i64.cast([0,3]))?b.db.table(9).fetch([[[a[2]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,b.i64.le(d.lastActivityTimestampMs,d.lastReadWatermarkTimestampMs)?b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0],lastActivityTimestampMs:a[0]})}):b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:a[0]})}))}):b.resolve(0)},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxBumpThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSBumpThreadStoredProcedure",["LSBumpThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBumpThread"),e.bumpTimestampMs,e.readStateEffect,e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSFetchInstamadilloMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSMailboxFetchInstamadilloMessageStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateLastActivityTimestamp",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateLastActivityTimestampStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateThreadSnippet",["LSGetThreadParticipantDisplayName","LSLocalize"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.resolve((d[1]="",d[0]=d[1]===""?void 0:d[1]))},function(e){return d[0]!==void 0?c.sequence([function(a){return c.resolve(d[1]=c.i64.cast([0,0]))},function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({snippet:d[0],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,isAdminSnippet:a[2],snippetSenderContactId:a[3],snippetHasEmoji:a[4],viewedPluginKey:a[5],viewedPluginContext:a[6]})})}]):a[7]?c.sequence([function(e){return c.i64.neq(a[3],void 0)?c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[3]).then(function(a){return a=a,d[3]=a[0],a})},function(b){return a[1]!==void 0?(d[3]!==void 0?d[5]=[d[3],": ",a[1]].join(""):d[5]=a[1],d[4]=d[5]):d[4]=void 0,d[1]=d[4]}]):c.resolve(d[1]=a[1])},function(a){return c.resolve(d[2]=c.i64.cast([0,0]))},function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({snippet:d[1],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,isAdminSnippet:a[2],snippetSenderContactId:a[3],snippetHasEmoji:a[4],viewedPluginKey:a[5],viewedPluginContext:a[6]})})}]):c.sequence([function(a){return c.resolve(d[1]=c.i64.cast([0,0]))},function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({snippet:a[1],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,isAdminSnippet:a[2],snippetSenderContactId:a[3],snippetHasEmoji:a[4],viewedPluginKey:a[5],viewedPluginContext:a[6]})})}])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateThreadSnippetStoredProcedure";a.__tables__=["threads","contacts","messages"];e.exports=a}),null);
__d("LSUpdateThreadSnippetFromLastMessageV2",["LSGetThreadParticipantDisplayName","LSGetViewerFBID","LSLocalize","LSUpdateLastActivityTimestamp","LSUpdateThreadSnippet"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.count(c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(a[0],b.threadKey)&&[c.i64.cast([0,18]),c.i64.cast([0,27])].some(function(a){return c.i64.eq(b.threadType,a)})})).then(function(a){return d[0]=a})},function(e){return c.i64.eq(d[0],c.i64.cast([0,1]))===!0?c.filter(c.db.table(12).fetchDesc([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.isAdminMessage===!1&&b.isUnsent===!1}).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.sequence([function(a){return d[7]=f.text,d[5]=f.threadKey,d[9]=c.i64.cast([0,0]),d[10]=f.messageId,d[4]=f.senderId,d[8]=f.stickerId,d[3]=f.isAdminMessage,d[6]=f.messageHiddenState,d[1]=!0,d[3]||!d[1]?c.resolve(d[2]=d[7]==null?"":d[7]):c.sequence([function(a){return f.isUnsent?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.i64.eq(d[12],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2987332812]),void 0).then(function(a){return d[17]=a})},function(a){return d[13]=d[17]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[18]=c.createArray(),d[20]=(d[18].push(d[17]),d[18]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1530605193]),d[18]).then(function(a){return d[19]=a})},function(a){return d[13]=d[19]}])},function(a){return c.db.table(9).fetch([[[d[5]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[14]=!1:(e=b.item,d[14]=[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26]),c.i64.cast([0,27])].some(function(a){return c.i64.eq(e.threadType,a)}))})},function(a){return d[14]?c.sequence([function(a){return c.filter(c.db.table(16).fetch([[[d[5],d[10]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[9])&&a.messageId===d[10]}).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=[c.i64.cast([0,0]),void 0,void 0,void 0,void 0],d[17]=a[0],d[18]=a[1],d[19]=a[2],d[20]=a[3],d[21]=a[4],a):(e=b.item,a=[e.attachmentType,e.attributionAppName,e.defaultCtaType,e.descriptionText,e.xmaContentType],d[17]=a[0],d[18]=a[1],d[19]=a[2],d[20]=a[3],d[21]=a[4])})},function(a){return d[20]!==void 0?d[23]=d[20]:d[23]=d[13],d[16]=d[23]}]):c.resolve(d[16]=d[13])},function(a){return d[11]=d[16]}]):c.sequence([function(a){return c.i64.eq(d[6],c.i64.cast([0,2]))?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2975370389]),void 0).then(function(a){return d[13]=a})},function(a){return d[12]=d[13]}]):c.sequence([function(a){return c.i64.eq(d[6],c.i64.cast([0,1]))?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3921131020]),void 0).then(function(a){return d[14]=a})},function(a){return d[13]=d[14]}]):c.sequence([function(a){return c.i64.eq(f.replyType,c.i64.cast([0,1]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[15]=a[0],a})},function(a){return c.i64.eq(d[15],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1899892426]),void 0).then(function(a){return d[17]=a})},function(a){return d[16]=d[17]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[18]=c.createArray(),d[20]=(d[18].push(d[17]),d[18]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3287869262]),d[18]).then(function(a){return d[19]=a})},function(a){return d[16]=d[19]}])},function(a){return d[14]=d[16]}]):c.sequence([function(a){return d[7]!==void 0&&d[7]!==""?c.sequence([function(a){return d[18]=d[7]==null?"":d[7],c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return c.i64.eq(d[16],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1890485478]),void 0).then(function(a){return d[19]=a})},function(a){return d[17]=[d[19],": ",d[18]].join("")}]):c.sequence([function(a){return c.db.table(9).fetch([[[d[5]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[19]=!1:(e=b.item,d[19]=c.i64.eq(e.threadType,c.i64.cast([0,2])))})},function(a){return c.db.table(9).fetch([[[d[5]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[21]=!1:(e=b.item,d[21]=[c.i64.cast([0,18]),c.i64.cast([0,27])].some(function(a){return c.i64.eq(e.threadType,a)}))})},function(a){return d[19]||d[21]||!1?c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[23]=[d[24],": ",d[18]].join("")}]):c.resolve(d[23]=d[18])},function(a){return d[17]=d[23]}])},function(a){return d[15]=d[17]}]):c.sequence([function(a){return c.i64.neq(d[8],void 0)&&[c.i64.cast([53057,267535043]),c.i64.cast([85970,924785702]),c.i64.cast([85970,1004785694]),c.i64.cast([85970,1044785690])].some(function(a){return c.i64.eq(d[8],a)})?c.sequence([function(a){return d[19]="\udb80\udc00",c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return c.i64.eq(d[17],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1890485478]),void 0).then(function(a){return d[20]=a})},function(a){return d[18]=[d[20],": ",d[19]].join("")}]):c.sequence([function(a){return c.db.table(9).fetch([[[d[5]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[20]=!1:(e=b.item,d[20]=c.i64.eq(e.threadType,c.i64.cast([0,2])))})},function(a){return c.db.table(9).fetch([[[d[5]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[22]=!1:(e=b.item,d[22]=[c.i64.cast([0,18]),c.i64.cast([0,27])].some(function(a){return c.i64.eq(e.threadType,a)}))})},function(a){return d[20]||d[22]||!1?c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[24]=[d[25],": ",d[19]].join("")}]):c.resolve(d[24]=d[19])},function(a){return d[18]=d[24]}])},function(a){return d[16]=d[18]}]):c.sequence([function(a){return c.i64.neq(d[8],void 0)?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.i64.eq(d[18],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1299547062]),void 0).then(function(a){return d[20]=a})},function(a){return d[19]=d[20]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[21]=c.createArray(),d[23]=(d[21].push(d[20]),d[21]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3621454483]),d[21]).then(function(a){return d[22]=a})},function(a){return d[19]=d[22]}])},function(a){return d[17]=d[19]}]):c.sequence([function(a){return c.count(c.filter(c.db.table(16).fetch([[[d[5],d[10]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[9])&&a.messageId===d[10]})).then(function(a){return d[18]=a})},function(a){return c.i64.eq(d[18],c.i64.cast([0,0]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.i64.eq(d[20],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[22]=a})},function(a){return d[21]=d[22]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[23]=c.createArray(),d[25]=(d[23].push(d[22]),d[23]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[23]).then(function(a){return d[24]=a})},function(a){return d[21]=d[24]}])},function(a){return d[19]=d[21]}]):c.sequence([function(a){return c.i64.eq(d[18],c.i64.cast([0,1]))?c.sequence([function(a){return c.filter(c.db.table(16).fetch([[[d[5],d[10]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[9])&&a.messageId===d[10]}).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=[c.i64.cast([0,0]),void 0,void 0,void 0,void 0],d[21]=a[0],d[22]=a[1],d[23]=a[2],d[24]=a[3],d[25]=a[4],a):(e=b.item,a=[e.attachmentType,e.attributionAppName,e.defaultCtaType,e.descriptionText,e.xmaContentType],d[21]=a[0],d[22]=a[1],d[23]=a[2],d[24]=a[3],d[25]=a[4])})},function(a){return d[27]=void 0,d[27]===void 0&&(c.i64.eq(d[21],c.i64.cast([0,1]))||c.i64.eq(d[21],c.i64.cast([0,15])))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[32],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1299547062]),void 0).then(function(a){return d[34]=a})},function(a){return d[33]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[34]),d[35]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3621454483]),d[35]).then(function(a){return d[36]=a})},function(a){return d[33]=d[36]}])},function(a){return d[27]=d[33]}]):c.resolve()},function(a){return d[27]===void 0&&(c.i64.eq(d[21],c.i64.cast([0,2]))||c.i64.eq(d[21],c.i64.cast([0,8])))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[32],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2106510577]),void 0).then(function(a){return d[34]=a})},function(a){return d[33]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[34]),d[35]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3960370133]),d[35]).then(function(a){return d[36]=a})},function(a){return d[33]=d[36]}])},function(a){return d[27]=d[33]}]):c.resolve()},function(a){return d[27]===void 0&&c.i64.eq(d[21],c.i64.cast([0,3]))?c.sequence([function(a){return d[22]!==void 0?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.i64.eq(d[33],d[4])?c.sequence([function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[22]),d[35]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3798396796]),d[35]).then(function(a){return d[36]=a})},function(a){return d[34]=d[36]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[36]=c.createArray(),d[38]=(d[36].push(d[35]),d[36]),d[38]=(d[36].push(d[22]),d[36]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3388601579]),d[36]).then(function(a){return d[37]=a})},function(a){return d[34]=d[37]}])},function(a){return d[32]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.i64.eq(d[33],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1556712457]),void 0).then(function(a){return d[35]=a})},function(a){return d[34]=d[35]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[36]=c.createArray(),d[38]=(d[36].push(d[35]),d[36]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3601791933]),d[36]).then(function(a){return d[37]=a})},function(a){return d[34]=d[37]}])},function(a){return d[32]=d[34]}])},function(a){return d[27]=d[32]}]):c.resolve()},function(a){return d[27]===void 0&&(c.i64.eq(d[21],c.i64.cast([0,4]))||c.i64.eq(d[21],c.i64.cast([0,9])))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[32],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3759817031]),void 0).then(function(a){return d[34]=a})},function(a){return d[33]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[34]),d[35]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2934729541]),d[35]).then(function(a){return d[36]=a})},function(a){return d[33]=d[36]}])},function(a){return d[27]=d[33]}]):c.resolve()},function(a){return d[27]===void 0&&c.i64.eq(d[21],c.i64.cast([0,5]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[32],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,392493418]),void 0).then(function(a){return d[34]=a})},function(a){return d[33]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[34]),d[35]),b("LSLocalize").localizeV2Async(c.i64.cast([0,4085467454]),d[35]).then(function(a){return d[36]=a})},function(a){return d[33]=d[36]}])},function(a){return d[27]=d[33]}]):c.resolve()},function(a){return d[27]===void 0&&c.i64.eq(d[21],c.i64.cast([0,10]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[32],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2738683656]),void 0).then(function(a){return d[34]=a})},function(a){return d[33]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[34]),d[35]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2996525642]),d[35]).then(function(a){return d[36]=a})},function(a){return d[33]=d[36]}])},function(a){return d[27]=d[33]}]):c.resolve()},function(a){return c.i64.neq(d[25],void 0)?d[28]=d[25]:(d[23]==="xma_live_location_sharing"?d[32]=c.i64.cast([0,7e3]):d[32]=void 0,d[28]=d[32]),c.i64.neq(d[28],void 0)?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[28],c.i64.cast([-1,4294967295]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[34]=a[0],a})},function(a){return c.i64.eq(d[34],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[36]=a})},function(a){return d[35]=d[36]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[37]=c.createArray(),d[39]=(d[37].push(d[36]),d[37]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[37]).then(function(a){return d[38]=a})},function(a){return d[35]=d[38]}])},function(a){return d[33]=d[35]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,0]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.i64.eq(d[35],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[37]=a})},function(a){return d[36]=d[37]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[38]=c.createArray(),d[40]=(d[38].push(d[37]),d[38]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[38]).then(function(a){return d[39]=a})},function(a){return d[36]=d[39]}])},function(a){return d[34]=d[36]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.i64.eq(d[36],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[38]=a})},function(a){return d[37]=d[38]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=c.createArray(),d[41]=(d[39].push(d[38]),d[39]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1001986796]),d[39]).then(function(a){return d[40]=a})},function(a){return d[37]=d[40]}])},function(a){return d[35]=d[37]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.i64.eq(d[37],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[39]=a})},function(a){return d[38]=d[39]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return d[40]=c.createArray(),d[42]=(d[40].push(d[39]),d[40]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1001986796]),d[40]).then(function(a){return d[41]=a})},function(a){return d[38]=d[41]}])},function(a){return d[36]=d[38]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[38]=a[0],a})},function(a){return c.i64.eq(d[38],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285746939]),void 0).then(function(a){return d[40]=a})},function(a){return d[39]=d[40]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[41]=c.createArray(),d[43]=(d[41].push(d[40]),d[41]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3759448420]),d[41]).then(function(a){return d[42]=a})},function(a){return d[39]=d[42]}])},function(a){return d[37]=d[39]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1003]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.i64.eq(d[39],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[41]=a})},function(a){return d[40]=d[41]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return d[42]=c.createArray(),d[44]=(d[42].push(d[41]),d[42]),b("LSLocalize").localizeV2Async(c.i64.cast([0,284944921]),d[42]).then(function(a){return d[43]=a})},function(a){return d[40]=d[43]}])},function(a){return d[38]=d[40]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.i64.eq(d[40],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[42]=a})},function(a){return d[43]=c.createArray(),d[45]=(d[43].push(d[42]),d[43]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3322002377]),d[43]).then(function(a){return d[44]=a})},function(a){return d[41]=d[44]}]):c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2486550278]),void 0).then(function(a){return d[42]=a})},function(a){return d[41]=d[42]}])},function(a){return d[39]=d[41]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.i64.eq(d[41],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3557790945]),void 0).then(function(a){return d[43]=a})},function(a){return d[42]=d[43]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[44]=c.createArray(),d[46]=(d[44].push(d[43]),d[44]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3756846086]),d[44]).then(function(a){return d[45]=a})},function(a){return d[42]=d[45]}])},function(a){return d[40]=d[42]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1006]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.i64.eq(d[42],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[44]=a})},function(a){return d[43]=d[44]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[45]=c.createArray(),d[47]=(d[45].push(d[44]),d[45]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1001986796]),d[45]).then(function(a){return d[46]=a})},function(a){return d[43]=d[46]}])},function(a){return d[41]=d[43]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1007]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.i64.eq(d[43],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[45]=a})},function(a){return d[44]=d[45]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[46]=c.createArray(),d[48]=(d[46].push(d[45]),d[46]),b("LSLocalize").localizeV2Async(c.i64.cast([0,284944921]),d[46]).then(function(a){return d[47]=a})},function(a){return d[44]=d[47]}])},function(a){return d[42]=d[44]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1008]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.i64.eq(d[44],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[46]=a})},function(a){return d[45]=d[46]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[47]=c.createArray(),d[49]=(d[47].push(d[46]),d[47]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[47]).then(function(a){return d[48]=a})},function(a){return d[45]=d[48]}])},function(a){return d[43]=d[45]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1009]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.i64.eq(d[45],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,780378803]),void 0).then(function(a){return d[47]=a})},function(a){return d[46]=d[47]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[48]=c.createArray(),d[50]=(d[48].push(d[47]),d[48]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3918212613]),d[48]).then(function(a){return d[49]=a})},function(a){return d[46]=d[49]}])},function(a){return d[44]=d[46]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1010]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.i64.eq(d[46],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3161890215]),void 0).then(function(a){return d[48]=a})},function(a){return d[47]=d[48]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[49]=c.createArray(),d[51]=(d[49].push(d[48]),d[49]),b("LSLocalize").localizeV2Async(c.i64.cast([0,863428456]),d[49]).then(function(a){return d[50]=a})},function(a){return d[47]=d[50]}])},function(a){return d[45]=d[47]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1011]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.i64.eq(d[47],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2716405471]),void 0).then(function(a){return d[49]=a})},function(a){return d[48]=d[49]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return d[50]=c.createArray(),d[52]=(d[50].push(d[49]),d[50]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3909474073]),d[50]).then(function(a){return d[51]=a})},function(a){return d[48]=d[51]}])},function(a){return d[46]=d[48]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1012]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.i64.eq(d[48],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1522141193]),void 0).then(function(a){return d[50]=a})},function(a){return d[49]=d[50]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return d[51]=c.createArray(),d[53]=(d[51].push(d[50]),d[51]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2804766375]),d[51]).then(function(a){return d[52]=a})},function(a){return d[49]=d[52]}])},function(a){return d[47]=d[49]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1013]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.i64.eq(d[49],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1522141193]),void 0).then(function(a){return d[51]=a})},function(a){return d[50]=d[51]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return d[52]=c.createArray(),d[54]=(d[52].push(d[51]),d[52]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2804766375]),d[52]).then(function(a){return d[53]=a})},function(a){return d[50]=d[53]}])},function(a){return d[48]=d[50]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1014]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.i64.eq(d[50],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[52]=a})},function(a){return d[53]=c.createArray(),d[55]=(d[53].push(d[52]),d[53]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3322002377]),d[53]).then(function(a){return d[54]=a})},function(a){return d[51]=d[54]}]):c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2486550278]),void 0).then(function(a){return d[52]=a})},function(a){return d[51]=d[52]}])},function(a){return d[49]=d[51]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1015]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.i64.eq(d[51],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[53]=a})},function(a){return d[52]=d[53]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[54]=c.createArray(),d[56]=(d[54].push(d[53]),d[54]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[54]).then(function(a){return d[55]=a})},function(a){return d[52]=d[55]}])},function(a){return d[50]=d[52]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1016]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.i64.eq(d[52],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[54]=a})},function(a){return d[53]=d[54]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[55]=c.createArray(),d[57]=(d[55].push(d[54]),d[55]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[55]).then(function(a){return d[56]=a})},function(a){return d[53]=d[56]}])},function(a){return d[51]=d[53]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1017]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.i64.eq(d[53],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[55]=a})},function(a){return d[54]=d[55]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[56]=c.createArray(),d[58]=(d[56].push(d[55]),d[56]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[56]).then(function(a){return d[57]=a})},function(a){return d[54]=d[57]}])},function(a){return d[52]=d[54]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1018]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.i64.eq(d[54],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[56]=a})},function(a){return d[55]=d[56]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[57]=c.createArray(),d[59]=(d[57].push(d[56]),d[57]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[57]).then(function(a){return d[58]=a})},function(a){return d[55]=d[58]}])},function(a){return d[53]=d[55]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1019]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.i64.eq(d[55],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[57]=a})},function(a){return d[56]=d[57]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[58]=c.createArray(),d[60]=(d[58].push(d[57]),d[58]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[58]).then(function(a){return d[59]=a})},function(a){return d[56]=d[59]}])},function(a){return d[54]=d[56]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1020]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.i64.eq(d[56],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[58]=a})},function(a){return d[57]=d[58]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return d[59]=c.createArray(),d[61]=(d[59].push(d[58]),d[59]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[59]).then(function(a){return d[60]=a})},function(a){return d[57]=d[60]}])},function(a){return d[55]=d[57]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2e3]))?c.sequence([function(a){return c.sequence([function(a){return void 0!==void 0?c.sequence([function(a){return void 0!==void 0?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.i64.eq(d[61],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[63]=a})},function(a){return d[62]=d[63]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[63]=a[0],a})},function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[63]),d[64]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[64]).then(function(a){return d[65]=a})},function(a){return d[62]=d[65]}])},function(a){return d[60]=d[62]}])},function(a){return d[59]=d[60]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.i64.eq(d[60],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[62]=a})},function(a){return d[61]=d[62]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[62]=a[0],a})},function(a){return d[63]=c.createArray(),d[65]=(d[63].push(d[62]),d[63]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[63]).then(function(a){return d[64]=a})},function(a){return d[61]=d[64]}])},function(a){return d[59]=d[61]}])},function(a){return d[58]=d[59]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.i64.eq(d[59],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[61]=a})},function(a){return d[60]=d[61]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[61]),d[62]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[62]).then(function(a){return d[63]=a})},function(a){return d[60]=d[63]}])},function(a){return d[58]=d[60]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.i64.eq(d[58],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285746939]),void 0).then(function(a){return d[60]=a})},function(a){return d[59]=d[60]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return d[61]=c.createArray(),d[63]=(d[61].push(d[60]),d[61]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3759448420]),d[61]).then(function(a){return d[62]=a})},function(a){return d[59]=d[62]}])},function(a){return d[57]=d[59]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.i64.eq(d[59],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[61]=a})},function(a){return d[60]=d[61]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[61]),d[62]),b("LSLocalize").localizeV2Async(c.i64.cast([0,284944921]),d[62]).then(function(a){return d[63]=a})},function(a){return d[60]=d[63]}])},function(a){return d[58]=d[60]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2003]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.i64.eq(d[60],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[62]=a})},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[63]=a[0],a})},function(a){return c.i64.eq(d[63],d[4])?c.sequence([function(a){return d[65]=c.createArray(),d[67]=(d[65].push(d[62]),d[65]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1247108605]),d[65]).then(function(a){return d[66]=a})},function(a){return d[64]=d[66]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[65]=a[0],a})},function(a){return d[66]=c.createArray(),d[68]=(d[66].push(d[65]),d[66]),d[68]=(d[66].push(d[62]),d[66]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2966876020]),d[66]).then(function(a){return d[67]=a})},function(a){return d[64]=d[67]}])},function(a){return d[61]=d[64]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.i64.eq(d[62],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1056933543]),void 0).then(function(a){return d[64]=a})},function(a){return d[63]=d[64]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[64]=a[0],a})},function(a){return d[65]=c.createArray(),d[67]=(d[65].push(d[64]),d[65]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1167688664]),d[65]).then(function(a){return d[66]=a})},function(a){return d[63]=d[66]}])},function(a){return d[61]=d[63]}])},function(a){return d[59]=d[61]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.i64.eq(d[61],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[63]=a})},function(a){return d[62]=d[63]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[63]=a[0],a})},function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[63]),d[64]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1001986796]),d[64]).then(function(a){return d[65]=a})},function(a){return d[62]=d[65]}])},function(a){return d[60]=d[62]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.i64.eq(d[62],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,772459202]),void 0).then(function(a){return d[64]=a})},function(a){return d[63]=d[64]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[64]=a[0],a})},function(a){return d[65]=c.createArray(),d[67]=(d[65].push(d[64]),d[65]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3546068912]),d[65]).then(function(a){return d[66]=a})},function(a){return d[63]=d[66]}])},function(a){return d[61]=d[63]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2006]))?c.sequence([function(a){return c.i64.eq(d[32],d[4])?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[64]=a[0],a})},function(a){return c.i64.eq(d[64],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2459540079]),void 0).then(function(a){return d[66]=a})},function(a){return d[65]=d[66]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[66]=a[0],a})},function(a){return d[67]=c.createArray(),d[69]=(d[67].push(d[66]),d[67]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1596311291]),d[67]).then(function(a){return d[68]=a})},function(a){return d[65]=d[68]}])},function(a){return d[63]=d[65]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[64]=a[0],a})},function(a){return c.i64.eq(d[64],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2253698324]),void 0).then(function(a){return d[66]=a})},function(a){return d[65]=d[66]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[66]=a[0],a})},function(a){return d[67]=c.createArray(),d[69]=(d[67].push(d[66]),d[67]),b("LSLocalize").localizeV2Async(c.i64.cast([0,4269602817]),d[67]).then(function(a){return d[68]=a})},function(a){return d[65]=d[68]}])},function(a){return d[63]=d[65]}])},function(a){return d[62]=d[63]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2007]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[65]=a[0],a})},function(a){return c.i64.eq(d[65],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[67]=a})},function(a){return d[66]=d[67]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[67]=a[0],a})},function(a){return d[68]=c.createArray(),d[70]=(d[68].push(d[67]),d[68]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[68]).then(function(a){return d[69]=a})},function(a){return d[66]=d[69]}])},function(a){return d[64]=d[66]}])},function(a){return d[63]=d[64]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2008]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[65]=a[0],a})},function(a){return c.i64.eq(d[65],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[67]=a})},function(a){return d[66]=d[67]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[67]=a[0],a})},function(a){return d[68]=c.createArray(),d[70]=(d[68].push(d[67]),d[68]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[68]).then(function(a){return d[69]=a})},function(a){return d[66]=d[69]}])},function(a){return d[64]=d[66]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2009]))?c.sequence([function(a){return c.sequence([function(a){return void 0!==void 0?c.sequence([function(a){return void 0!==void 0?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[70]=a[0],a})},function(a){return c.i64.eq(d[70],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[72]=a})},function(a){return d[71]=d[72]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return d[73]=c.createArray(),d[75]=(d[73].push(d[72]),d[73]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[73]).then(function(a){return d[74]=a})},function(a){return d[71]=d[74]}])},function(a){return d[69]=d[71]}])},function(a){return d[68]=d[69]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[69]=a[0],a})},function(a){return c.i64.eq(d[69],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[71]=a})},function(a){return d[70]=d[71]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return d[72]=c.createArray(),d[74]=(d[72].push(d[71]),d[72]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[72]).then(function(a){return d[73]=a})},function(a){return d[70]=d[73]}])},function(a){return d[68]=d[70]}])},function(a){return d[67]=d[68]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.i64.eq(d[68],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[70]=a})},function(a){return d[69]=d[70]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return d[71]=c.createArray(),d[73]=(d[71].push(d[70]),d[71]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[71]).then(function(a){return d[72]=a})},function(a){return d[69]=d[72]}])},function(a){return d[67]=d[69]}])},function(a){return d[66]=d[67]}])},function(a){return d[65]=d[66]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2010]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.i64.eq(d[67],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[69]=a})},function(a){return d[68]=d[69]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return d[70]=c.createArray(),d[72]=(d[70].push(d[69]),d[70]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[70]).then(function(a){return d[71]=a})},function(a){return d[68]=d[71]}])},function(a){return d[66]=d[68]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2011]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.i64.eq(d[68],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[70]=a})},function(a){return d[69]=d[70]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return d[71]=c.createArray(),d[73]=(d[71].push(d[70]),d[71]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[71]).then(function(a){return d[72]=a})},function(a){return d[69]=d[72]}])},function(a){return d[67]=d[69]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2012]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[69]=a[0],a})},function(a){return c.i64.eq(d[69],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[71]=a})},function(a){return d[70]=d[71]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return d[72]=c.createArray(),d[74]=(d[72].push(d[71]),d[72]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[72]).then(function(a){return d[73]=a})},function(a){return d[70]=d[73]}])},function(a){return d[68]=d[70]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2013]))?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[70]=a})},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.i64.eq(d[71],d[4])?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.i64.eq(d[73],d[4])?c.sequence([function(a){return d[75]=c.createArray(),d[77]=(d[75].push(d[70]),d[75]),b("LSLocalize").localizeV2Async(c.i64.cast([0,785694792]),d[75]).then(function(a){return d[76]=a})},function(a){return d[74]=d[76]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return d[76]=c.createArray(),d[78]=(d[76].push(d[75]),d[76]),d[78]=(d[76].push(d[70]),d[76]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2625447567]),d[76]).then(function(a){return d[77]=a})},function(a){return d[74]=d[77]}])},function(a){return d[72]=d[74]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.i64.eq(d[73],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3982213805]),void 0).then(function(a){return d[75]=a})},function(a){return d[74]=d[75]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return d[76]=c.createArray(),d[78]=(d[76].push(d[75]),d[76]),b("LSLocalize").localizeV2Async(c.i64.cast([0,464916028]),d[76]).then(function(a){return d[77]=a})},function(a){return d[74]=d[77]}])},function(a){return d[72]=d[74]}])},function(a){return d[69]=d[72]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2014]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.i64.eq(d[71],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[73]=a})},function(a){return d[72]=d[73]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return d[74]=c.createArray(),d[76]=(d[74].push(d[73]),d[74]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[74]).then(function(a){return d[75]=a})},function(a){return d[72]=d[75]}])},function(a){return d[70]=d[72]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2015]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.i64.eq(d[72],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[74]=a})},function(a){return d[73]=d[74]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return d[75]=c.createArray(),d[77]=(d[75].push(d[74]),d[75]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[75]).then(function(a){return d[76]=a})},function(a){return d[73]=d[76]}])},function(a){return d[71]=d[73]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2016]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.i64.eq(d[73],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[75]=a})},function(a){return d[74]=d[75]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return d[76]=c.createArray(),d[78]=(d[76].push(d[75]),d[76]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[76]).then(function(a){return d[77]=a})},function(a){return d[74]=d[77]}])},function(a){return d[72]=d[74]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3e3]))?c.sequence([function(a){return c.sequence([function(a){return void 0!==void 0?c.sequence([function(a){return void 0!==void 0?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[78]=a[0],a})},function(a){return c.i64.eq(d[78],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[80]=a})},function(a){return d[79]=d[80]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[80]=a[0],a})},function(a){return d[81]=c.createArray(),d[83]=(d[81].push(d[80]),d[81]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[81]).then(function(a){return d[82]=a})},function(a){return d[79]=d[82]}])},function(a){return d[77]=d[79]}])},function(a){return d[76]=d[77]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[77]=a[0],a})},function(a){return c.i64.eq(d[77],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[79]=a})},function(a){return d[78]=d[79]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[79]=a[0],a})},function(a){return d[80]=c.createArray(),d[82]=(d[80].push(d[79]),d[80]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[80]).then(function(a){return d[81]=a})},function(a){return d[78]=d[81]}])},function(a){return d[76]=d[78]}])},function(a){return d[75]=d[76]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.i64.eq(d[76],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[78]=a})},function(a){return d[77]=d[78]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[78]=a[0],a})},function(a){return d[79]=c.createArray(),d[81]=(d[79].push(d[78]),d[79]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[79]).then(function(a){return d[80]=a})},function(a){return d[77]=d[80]}])},function(a){return d[75]=d[77]}])},function(a){return d[74]=d[75]}])},function(a){return d[73]=d[74]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[75]=a[0],a})},function(a){return c.i64.eq(d[75],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[77]=a})},function(a){return d[76]=d[77]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[77]=a[0],a})},function(a){return d[78]=c.createArray(),d[80]=(d[78].push(d[77]),d[78]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[78]).then(function(a){return d[79]=a})},function(a){return d[76]=d[79]}])},function(a){return d[74]=d[76]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.i64.eq(d[76],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2973334239]),void 0).then(function(a){return d[78]=a})},function(a){return d[77]=d[78]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[78]=a[0],a})},function(a){return d[79]=c.createArray(),d[81]=(d[79].push(d[78]),d[79]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3616471048]),d[79]).then(function(a){return d[80]=a})},function(a){return d[77]=d[80]}])},function(a){return d[75]=d[77]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3003]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[77]=a[0],a})},function(a){return c.i64.eq(d[77],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2973334239]),void 0).then(function(a){return d[79]=a})},function(a){return d[78]=d[79]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[79]=a[0],a})},function(a){return d[80]=c.createArray(),d[82]=(d[80].push(d[79]),d[80]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3616471048]),d[80]).then(function(a){return d[81]=a})},function(a){return d[78]=d[81]}])},function(a){return d[76]=d[78]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[78]=a[0],a})},function(a){return c.i64.eq(d[78],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[80]=a})},function(a){return d[79]=d[80]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[80]=a[0],a})},function(a){return d[81]=c.createArray(),d[83]=(d[81].push(d[80]),d[81]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[81]).then(function(a){return d[82]=a})},function(a){return d[79]=d[82]}])},function(a){return d[77]=d[79]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[79]=a[0],a})},function(a){return c.i64.eq(d[79],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[81]=a})},function(a){return d[80]=d[81]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[82]=c.createArray(),d[84]=(d[82].push(d[81]),d[82]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[82]).then(function(a){return d[83]=a})},function(a){return d[80]=d[83]}])},function(a){return d[78]=d[80]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3006]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[80]=a[0],a})},function(a){return c.i64.eq(d[80],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[82]=a})},function(a){return d[81]=d[82]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[82]=a[0],a})},function(a){return d[83]=c.createArray(),d[85]=(d[83].push(d[82]),d[83]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[83]).then(function(a){return d[84]=a})},function(a){return d[81]=d[84]}])},function(a){return d[79]=d[81]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3007]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[81]=a[0],a})},function(a){return c.i64.eq(d[81],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[83]=a})},function(a){return d[82]=d[83]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[83]=a[0],a})},function(a){return d[84]=c.createArray(),d[86]=(d[84].push(d[83]),d[84]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[84]).then(function(a){return d[85]=a})},function(a){return d[82]=d[85]}])},function(a){return d[80]=d[82]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3008]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[82]=a[0],a})},function(a){return c.i64.eq(d[82],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[84]=a})},function(a){return d[83]=d[84]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[84]=a[0],a})},function(a){return d[85]=c.createArray(),d[87]=(d[85].push(d[84]),d[85]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[85]).then(function(a){return d[86]=a})},function(a){return d[83]=d[86]}])},function(a){return d[81]=d[83]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3009]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[83]=a[0],a})},function(a){return c.i64.eq(d[83],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[85]=a})},function(a){return d[84]=d[85]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[85]=a[0],a})},function(a){return d[86]=c.createArray(),d[88]=(d[86].push(d[85]),d[86]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[86]).then(function(a){return d[87]=a})},function(a){return d[84]=d[87]}])},function(a){return d[82]=d[84]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3010]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[85]=a[0],a})},function(a){return c.i64.eq(d[85],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[87]=a})},function(a){return d[86]=d[87]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[87]=a[0],a})},function(a){return d[88]=c.createArray(),d[90]=(d[88].push(d[87]),d[88]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[88]).then(function(a){return d[89]=a})},function(a){return d[86]=d[89]}])},function(a){return d[84]=d[86]}])},function(a){return d[83]=d[84]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3011]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[85]=a[0],a})},function(a){return c.i64.eq(d[85],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[87]=a})},function(a){return d[86]=d[87]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[87]=a[0],a})},function(a){return d[88]=c.createArray(),d[90]=(d[88].push(d[87]),d[88]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[88]).then(function(a){return d[89]=a})},function(a){return d[86]=d[89]}])},function(a){return d[84]=d[86]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3012]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[86]=a[0],a})},function(a){return c.i64.eq(d[86],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[88]=a})},function(a){return d[87]=d[88]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[88]=a[0],a})},function(a){return d[89]=c.createArray(),d[91]=(d[89].push(d[88]),d[89]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[89]).then(function(a){return d[90]=a})},function(a){return d[87]=d[90]}])},function(a){return d[85]=d[87]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3013]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[87]=a[0],a})},function(a){return c.i64.eq(d[87],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[89]=a})},function(a){return d[88]=d[89]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[89]=a[0],a})},function(a){return d[90]=c.createArray(),d[92]=(d[90].push(d[89]),d[90]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[90]).then(function(a){return d[91]=a})},function(a){return d[88]=d[91]}])},function(a){return d[86]=d[88]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3014]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[89]=a[0],a})},function(a){return c.i64.eq(d[89],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[91]=a})},function(a){return d[90]=d[91]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[91]=a[0],a})},function(a){return d[92]=c.createArray(),d[94]=(d[92].push(d[91]),d[92]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[92]).then(function(a){return d[93]=a})},function(a){return d[90]=d[93]}])},function(a){return d[88]=d[90]}])},function(a){return d[87]=d[88]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3015]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[89]=a[0],a})},function(a){return c.i64.eq(d[89],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3471188061]),void 0).then(function(a){return d[91]=a})},function(a){return d[90]=d[91]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[91]=a[0],a})},function(a){return d[92]=c.createArray(),d[94]=(d[92].push(d[91]),d[92]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2776822462]),d[92]).then(function(a){return d[93]=a})},function(a){return d[90]=d[93]}])},function(a){return d[88]=d[90]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3016]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[90]=a[0],a})},function(a){return c.i64.eq(d[90],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[92]=a})},function(a){return d[91]=d[92]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[92]=a[0],a})},function(a){return d[93]=c.createArray(),d[95]=(d[93].push(d[92]),d[93]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[93]).then(function(a){return d[94]=a})},function(a){return d[91]=d[94]}])},function(a){return d[89]=d[91]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3017]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[91]=a[0],a})},function(a){return c.i64.eq(d[91],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[93]=a})},function(a){return d[92]=d[93]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[93]=a[0],a})},function(a){return d[94]=c.createArray(),d[96]=(d[94].push(d[93]),d[94]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[94]).then(function(a){return d[95]=a})},function(a){return d[92]=d[95]}])},function(a){return d[90]=d[92]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3018]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[92]=a[0],a})},function(a){return c.i64.eq(d[92],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[94]=a})},function(a){return d[93]=d[94]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[94]=a[0],a})},function(a){return d[95]=c.createArray(),d[97]=(d[95].push(d[94]),d[95]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[95]).then(function(a){return d[96]=a})},function(a){return d[93]=d[96]}])},function(a){return d[91]=d[93]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3019]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[93]=a[0],a})},function(a){return c.i64.eq(d[93],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[95]=a})},function(a){return d[94]=d[95]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[95]=a[0],a})},function(a){return d[96]=c.createArray(),d[98]=(d[96].push(d[95]),d[96]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[96]).then(function(a){return d[97]=a})},function(a){return d[94]=d[97]}])},function(a){return d[92]=d[94]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3020]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[94]=a[0],a})},function(a){return c.i64.eq(d[94],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[96]=a})},function(a){return d[95]=d[96]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[96]=a[0],a})},function(a){return d[97]=c.createArray(),d[99]=(d[97].push(d[96]),d[97]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[97]).then(function(a){return d[98]=a})},function(a){return d[95]=d[98]}])},function(a){return d[93]=d[95]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3021]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[95]=a[0],a})},function(a){return c.i64.eq(d[95],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[97]=a})},function(a){return d[96]=d[97]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[97]=a[0],a})},function(a){return d[98]=c.createArray(),d[100]=(d[98].push(d[97]),d[98]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[98]).then(function(a){return d[99]=a})},function(a){return d[96]=d[99]}])},function(a){return d[94]=d[96]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3022]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[96]=a[0],a})},function(a){return c.i64.eq(d[96],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[98]=a})},function(a){return d[97]=d[98]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[98]=a[0],a})},function(a){return d[99]=c.createArray(),d[101]=(d[99].push(d[98]),d[99]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[99]).then(function(a){return d[100]=a})},function(a){return d[97]=d[100]}])},function(a){return d[95]=d[97]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3023]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[97]=a[0],a})},function(a){return c.i64.eq(d[97],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[99]=a})},function(a){return d[98]=d[99]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[99]=a[0],a})},function(a){return d[100]=c.createArray(),d[102]=(d[100].push(d[99]),d[100]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[100]).then(function(a){return d[101]=a})},function(a){return d[98]=d[101]}])},function(a){return d[96]=d[98]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3024]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[98]=a[0],a})},function(a){return c.i64.eq(d[98],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[100]=a})},function(a){return d[99]=d[100]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[100]=a[0],a})},function(a){return d[101]=c.createArray(),d[103]=(d[101].push(d[100]),d[101]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[101]).then(function(a){return d[102]=a})},function(a){return d[99]=d[102]}])},function(a){return d[97]=d[99]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3025]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[99]=a[0],a})},function(a){return c.i64.eq(d[99],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[101]=a})},function(a){return d[100]=d[101]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[101]=a[0],a})},function(a){return d[102]=c.createArray(),d[104]=(d[102].push(d[101]),d[102]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[102]).then(function(a){return d[103]=a})},function(a){return d[100]=d[103]}])},function(a){return d[98]=d[100]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3026]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[100]=a[0],a})},function(a){return c.i64.eq(d[100],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[102]=a})},function(a){return d[101]=d[102]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[102]=a[0],a})},function(a){return d[103]=c.createArray(),d[105]=(d[103].push(d[102]),d[103]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[103]).then(function(a){return d[104]=a})},function(a){return d[101]=d[104]}])},function(a){return d[99]=d[101]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3027]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[101]=a[0],a})},function(a){return c.i64.eq(d[101],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[103]=a})},function(a){return d[102]=d[103]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[103]=a[0],a})},function(a){return d[104]=c.createArray(),d[106]=(d[104].push(d[103]),d[104]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[104]).then(function(a){return d[105]=a})},function(a){return d[102]=d[105]}])},function(a){return d[100]=d[102]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3028]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[102]=a[0],a})},function(a){return c.i64.eq(d[102],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[104]=a})},function(a){return d[103]=d[104]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[104]=a[0],a})},function(a){return d[105]=c.createArray(),d[107]=(d[105].push(d[104]),d[105]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[105]).then(function(a){return d[106]=a})},function(a){return d[103]=d[106]}])},function(a){return d[101]=d[103]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3029]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[103]=a[0],a})},function(a){return c.i64.eq(d[103],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[105]=a})},function(a){return d[104]=d[105]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[105]=a[0],a})},function(a){return d[106]=c.createArray(),d[108]=(d[106].push(d[105]),d[106]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[106]).then(function(a){return d[107]=a})},function(a){return d[104]=d[107]}])},function(a){return d[102]=d[104]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3030]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[104]=a[0],a})},function(a){return c.i64.eq(d[104],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[106]=a})},function(a){return d[105]=d[106]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[106]=a[0],a})},function(a){return d[107]=c.createArray(),d[109]=(d[107].push(d[106]),d[107]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[107]).then(function(a){return d[108]=a})},function(a){return d[105]=d[108]}])},function(a){return d[103]=d[105]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3040]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[105]=a[0],a})},function(a){return c.i64.eq(d[105],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[107]=a})},function(a){return d[106]=d[107]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[107]=a[0],a})},function(a){return d[108]=c.createArray(),d[110]=(d[108].push(d[107]),d[108]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[108]).then(function(a){return d[109]=a})},function(a){return d[106]=d[109]}])},function(a){return d[104]=d[106]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3041]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[106]=a[0],a})},function(a){return c.i64.eq(d[106],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[108]=a})},function(a){return d[107]=d[108]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[108]=a[0],a})},function(a){return d[109]=c.createArray(),d[111]=(d[109].push(d[108]),d[109]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[109]).then(function(a){return d[110]=a})},function(a){return d[107]=d[110]}])},function(a){return d[105]=d[107]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3042]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[107]=a[0],a})},function(a){return c.i64.eq(d[107],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[109]=a})},function(a){return d[108]=d[109]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[109]=a[0],a})},function(a){return d[110]=c.createArray(),d[112]=(d[110].push(d[109]),d[110]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[110]).then(function(a){return d[111]=a})},function(a){return d[108]=d[111]}])},function(a){return d[106]=d[108]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3043]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[108]=a[0],a})},function(a){return c.i64.eq(d[108],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[110]=a})},function(a){return d[109]=d[110]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[110]=a[0],a})},function(a){return d[111]=c.createArray(),d[113]=(d[111].push(d[110]),d[111]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[111]).then(function(a){return d[112]=a})},function(a){return d[109]=d[112]}])},function(a){return d[107]=d[109]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3044]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[109]=a[0],a})},function(a){return c.i64.eq(d[109],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[111]=a})},function(a){return d[110]=d[111]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[111]=a[0],a})},function(a){return d[112]=c.createArray(),d[114]=(d[112].push(d[111]),d[112]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[112]).then(function(a){return d[113]=a})},function(a){return d[110]=d[113]}])},function(a){return d[108]=d[110]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3045]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[110]=a[0],a})},function(a){return c.i64.eq(d[110],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[112]=a})},function(a){return d[111]=d[112]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[112]=a[0],a})},function(a){return d[113]=c.createArray(),d[115]=(d[113].push(d[112]),d[113]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[113]).then(function(a){return d[114]=a})},function(a){return d[111]=d[114]}])},function(a){return d[109]=d[111]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3046]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[111]=a[0],a})},function(a){return c.i64.eq(d[111],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[113]=a})},function(a){return d[112]=d[113]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[113]=a[0],a})},function(a){return d[114]=c.createArray(),d[116]=(d[114].push(d[113]),d[114]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[114]).then(function(a){return d[115]=a})},function(a){return d[112]=d[115]}])},function(a){return d[110]=d[112]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3047]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[112]=a[0],a})},function(a){return c.i64.eq(d[112],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[114]=a})},function(a){return d[113]=d[114]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[114]=a[0],a})},function(a){return d[115]=c.createArray(),d[117]=(d[115].push(d[114]),d[115]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[115]).then(function(a){return d[116]=a})},function(a){return d[113]=d[116]}])},function(a){return d[111]=d[113]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3048]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[113]=a[0],a})},function(a){return c.i64.eq(d[113],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[115]=a})},function(a){return d[114]=d[115]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[115]=a[0],a})},function(a){return d[116]=c.createArray(),d[118]=(d[116].push(d[115]),d[116]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[116]).then(function(a){return d[117]=a})},function(a){return d[114]=d[117]}])},function(a){return d[112]=d[114]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[114]=a[0],a})},function(a){return c.i64.eq(d[114],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[118]=a})},function(a){return d[115]=d[118]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[118]=a[0],a})},function(a){return d[115]=d[118]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[116]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1739999037]),void 0).then(function(a){return d[117]=a})},function(a){return d[113]=d[117]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[115]=a[0],a})},function(a){return c.i64.eq(d[115],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[119]=a})},function(a){return d[116]=d[119]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[119]=a[0],a})},function(a){return d[116]=d[119]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[117]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3373597599]),void 0).then(function(a){return d[118]=a})},function(a){return d[114]=d[118]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[116]=a[0],a})},function(a){return c.i64.eq(d[116],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[120]=a})},function(a){return d[117]=d[120]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[120]=a[0],a})},function(a){return d[117]=d[120]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[118]=a[0],a})},function(a){return c.i64.eq(d[118],d[4])?c.sequence([function(a){return d[120]=c.createArray(),d[122]=(d[120].push(d[117]),d[120]),b("LSLocalize").localizeV2Async(c.i64.cast([0,259473449]),d[120]).then(function(a){return d[121]=a})},function(a){return d[119]=d[121]}]):c.sequence([function(a){return d[120]=c.createArray(),d[122]=(d[120].push(d[117]),d[120]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1338912959]),d[120]).then(function(a){return d[121]=a})},function(a){return d[119]=d[121]}])},function(a){return d[115]=d[119]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4003]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[117]=a[0],a})},function(a){return c.i64.eq(d[117],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[121]=a})},function(a){return d[118]=d[121]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[121]=a[0],a})},function(a){return d[118]=d[121]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[119]=a[0],a})},function(a){return c.i64.eq(d[119],d[4])?c.sequence([function(a){return d[121]=c.createArray(),d[123]=(d[121].push(d[118]),d[121]),b("LSLocalize").localizeV2Async(c.i64.cast([0,812940701]),d[121]).then(function(a){return d[122]=a})},function(a){return d[120]=d[122]}]):c.sequence([function(a){return d[121]=c.createArray(),d[123]=(d[121].push(d[118]),d[121]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1099878966]),d[121]).then(function(a){return d[122]=a})},function(a){return d[120]=d[122]}])},function(a){return d[116]=d[120]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[118]=a[0],a})},function(a){return c.i64.eq(d[118],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[122]=a})},function(a){return d[119]=d[122]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[122]=a[0],a})},function(a){return d[119]=d[122]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[120]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3443782102]),void 0).then(function(a){return d[121]=a})},function(a){return d[117]=d[121]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[119]=a[0],a})},function(a){return c.i64.eq(d[119],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[123]=a})},function(a){return d[120]=d[123]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[123]=a[0],a})},function(a){return d[120]=d[123]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[121]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,618905030]),void 0).then(function(a){return d[122]=a})},function(a){return d[118]=d[122]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4006]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[120]=a[0],a})},function(a){return c.i64.eq(d[120],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[124]=a})},function(a){return d[121]=d[124]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[124]=a[0],a})},function(a){return d[121]=d[124]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[122]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2470414797]),void 0).then(function(a){return d[123]=a})},function(a){return d[119]=d[123]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4007]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[121]=a[0],a})},function(a){return c.i64.eq(d[121],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[125]=a})},function(a){return d[122]=d[125]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[125]=a[0],a})},function(a){return d[122]=d[125]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[123]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1306024833]),void 0).then(function(a){return d[124]=a})},function(a){return d[120]=d[124]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4008]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[122]=a[0],a})},function(a){return c.i64.eq(d[122],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[126]=a})},function(a){return d[123]=d[126]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[126]=a[0],a})},function(a){return d[123]=d[126]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[124]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3443782102]),void 0).then(function(a){return d[125]=a})},function(a){return d[121]=d[125]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4009]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[123]=a[0],a})},function(a){return c.i64.eq(d[123],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[127]=a})},function(a){return d[124]=d[127]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[127]=a[0],a})},function(a){return d[124]=d[127]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[125]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,618905030]),void 0).then(function(a){return d[126]=a})},function(a){return d[122]=d[126]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,5e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[124]=a[0],a})},function(a){return c.i64.eq(d[124],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[126]=a})},function(a){return d[125]=d[126]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[126]=a[0],a})},function(a){return d[127]=c.createArray(),d[129]=(d[127].push(d[126]),d[127]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[127]).then(function(a){return d[128]=a})},function(a){return d[125]=d[128]}])},function(a){return d[123]=d[125]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,6e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[125]=a[0],a})},function(a){return c.i64.eq(d[125],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[127]=a})},function(a){return d[126]=d[127]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[127]=a[0],a})},function(a){return d[128]=c.createArray(),d[130]=(d[128].push(d[127]),d[128]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[128]).then(function(a){return d[129]=a})},function(a){return d[126]=d[129]}])},function(a){return d[124]=d[126]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,7e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[126]=a[0],a})},function(a){return c.i64.eq(d[126],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2135145355]),void 0).then(function(a){return d[128]=a})},function(a){return d[127]=d[128]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[128]=a[0],a})},function(a){return d[129]=c.createArray(),d[131]=(d[129].push(d[128]),d[129]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3603511704]),d[129]).then(function(a){return d[130]=a})},function(a){return d[127]=d[130]}])},function(a){return d[125]=d[127]}]):c.resolve(d[125]=void 0)},function(a){return d[124]=d[125]}])},function(a){return d[123]=d[124]}])},function(a){return d[122]=d[123]}])},function(a){return d[121]=d[122]}])},function(a){return d[120]=d[121]}])},function(a){return d[119]=d[120]}])},function(a){return d[118]=d[119]}])},function(a){return d[117]=d[118]}])},function(a){return d[116]=d[117]}])},function(a){return d[115]=d[116]}])},function(a){return d[114]=d[115]}])},function(a){return d[113]=d[114]}])},function(a){return d[112]=d[113]}])},function(a){return d[111]=d[112]}])},function(a){return d[110]=d[111]}])},function(a){return d[109]=d[110]}])},function(a){return d[108]=d[109]}])},function(a){return d[107]=d[108]}])},function(a){return d[106]=d[107]}])},function(a){return d[105]=d[106]}])},function(a){return d[104]=d[105]}])},function(a){return d[103]=d[104]}])},function(a){return d[102]=d[103]}])},function(a){return d[101]=d[102]}])},function(a){return d[100]=d[101]}])},function(a){return d[99]=d[100]}])},function(a){return d[98]=d[99]}])},function(a){return d[97]=d[98]}])},function(a){return d[96]=d[97]}])},function(a){return d[95]=d[96]}])},function(a){return d[94]=d[95]}])},function(a){return d[93]=d[94]}])},function(a){return d[92]=d[93]}])},function(a){return d[91]=d[92]}])},function(a){return d[90]=d[91]}])},function(a){return d[89]=d[90]}])},function(a){return d[88]=d[89]}])},function(a){return d[87]=d[88]}])},function(a){return d[86]=d[87]}])},function(a){return d[85]=d[86]}])},function(a){return d[84]=d[85]}])},function(a){return d[83]=d[84]}])},function(a){return d[82]=d[83]}])},function(a){return d[81]=d[82]}])},function(a){return d[80]=d[81]}])},function(a){return d[79]=d[80]}])},function(a){return d[78]=d[79]}])},function(a){return d[77]=d[78]}])},function(a){return d[76]=d[77]}])},function(a){return d[75]=d[76]}])},function(a){return d[74]=d[75]}])},function(a){return d[73]=d[74]}])},function(a){return d[72]=d[73]}])},function(a){return d[71]=d[72]}])},function(a){return d[70]=d[71]}])},function(a){return d[69]=d[70]}])},function(a){return d[68]=d[69]}])},function(a){return d[67]=d[68]}])},function(a){return d[66]=d[67]}])},function(a){return d[65]=d[66]}])},function(a){return d[64]=d[65]}])},function(a){return d[63]=d[64]}])},function(a){return d[62]=d[63]}])},function(a){return d[61]=d[62]}])},function(a){return d[60]=d[61]}])},function(a){return d[59]=d[60]}])},function(a){return d[58]=d[59]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}])},function(a){return d[55]=d[56]}])},function(a){return d[54]=d[55]}])},function(a){return d[53]=d[54]}])},function(a){return d[52]=d[53]}])},function(a){return d[51]=d[52]}])},function(a){return d[50]=d[51]}])},function(a){return d[49]=d[50]}])},function(a){return d[48]=d[49]}])},function(a){return d[47]=d[48]}])},function(a){return d[46]=d[47]}])},function(a){return d[45]=d[46]}])},function(a){return d[44]=d[45]}])},function(a){return d[43]=d[44]}])},function(a){return d[42]=d[43]}])},function(a){return d[41]=d[42]}])},function(a){return d[40]=d[41]}])},function(a){return d[39]=d[40]}])},function(a){return d[38]=d[39]}])},function(a){return d[37]=d[38]}])},function(a){return d[36]=d[37]}])},function(a){return d[35]=d[36]}])},function(a){return d[34]=d[35]}])},function(a){return d[33]=d[34]}])},function(a){return d[29]=d[33]}]):c.resolve(d[29]=void 0)},function(a){return d[27]===void 0&&c.i64.eq(d[21],c.i64.cast([0,7]))&&d[29]!==void 0?d[27]=d[29]:0,c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.i64.eq(d[30],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[32]=a})},function(a){return d[31]=d[32]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=c.createArray(),d[35]=(d[33].push(d[32]),d[33]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[33]).then(function(a){return d[34]=a})},function(a){return d[31]=d[34]}])},function(a){return d[20]=d[27]==null?d[31]:d[27]}]):c.sequence([function(a){return d[21]=!0,c.forEach(c.filter(c.db.table(16).fetch([[[d[5],d[10]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[9])&&a.messageId===d[10]}),function(a){a=a.item;return c.i64.eq(a.attachmentType,c.i64.cast([0,2]))?0:d[21]=!1})},function(a){return d[21]?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.i64.eq(d[23],d[4])?c.sequence([function(a){return d[25]=c.createArray(),d[27]=(d[25].push(d[18]),d[25]),b("LSLocalize").localizeV2Async(c.i64.cast([0,705614308]),d[25]).then(function(a){return d[26]=a})},function(a){return d[24]=d[26]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[26]=c.createArray(),d[28]=(d[26].push(d[25]),d[26]),d[28]=(d[26].push(d[18]),d[26]),b("LSLocalize").localizeV2Async(c.i64.cast([0,313217698]),d[26]).then(function(a){return d[27]=a})},function(a){return d[24]=d[27]}])},function(a){return d[22]=d[24]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.i64.eq(d[23],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3558654267]),void 0).then(function(a){return d[25]=a})},function(a){return d[24]=d[25]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[26]=c.createArray(),d[28]=(d[26].push(d[25]),d[26]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3422266740]),d[26]).then(function(a){return d[27]=a})},function(a){return d[24]=d[27]}])},function(a){return d[22]=d[24]}])},function(a){return d[20]=d[22]}])},function(a){return d[19]=d[20]}])},function(a){return d[17]=d[19]}])},function(a){return d[16]=d[17]}])},function(a){return d[15]=d[16]}])},function(a){return d[14]=d[15]}])},function(a){return d[13]=d[14]}])},function(a){return d[12]=d[13]}])},function(a){return d[11]=d[12]}])},function(a){return d[2]=d[11]}])},function(e){return c.storedProcedure(b("LSUpdateThreadSnippet"),a[0],d[2],d[3],d[4],c.like(d[2],"%\udb80\udc00%"),void 0,void 0,!1)},function(d){return c.storedProcedure(b("LSUpdateLastActivityTimestamp"),a[0],f.timestampMs)}]))}):c.db.table(12).fetchDesc([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.sequence([function(a){return d[7]=f.text,d[5]=f.threadKey,d[9]=c.i64.cast([0,0]),d[10]=f.messageId,d[4]=f.senderId,d[8]=f.stickerId,d[3]=f.isAdminMessage,d[6]=f.messageHiddenState,d[1]=!0,d[3]||!d[1]?c.resolve(d[2]=d[7]==null?"":d[7]):c.sequence([function(a){return f.isUnsent?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.i64.eq(d[12],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2987332812]),void 0).then(function(a){return d[17]=a})},function(a){return d[13]=d[17]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[18]=c.createArray(),d[20]=(d[18].push(d[17]),d[18]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1530605193]),d[18]).then(function(a){return d[19]=a})},function(a){return d[13]=d[19]}])},function(a){return c.db.table(9).fetch([[[d[5]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[14]=!1:(e=b.item,d[14]=[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26]),c.i64.cast([0,27])].some(function(a){return c.i64.eq(e.threadType,a)}))})},function(a){return d[14]?c.sequence([function(a){return c.filter(c.db.table(16).fetch([[[d[5],d[10]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[9])&&a.messageId===d[10]}).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=[c.i64.cast([0,0]),void 0,void 0,void 0,void 0],d[17]=a[0],d[18]=a[1],d[19]=a[2],d[20]=a[3],d[21]=a[4],a):(e=b.item,a=[e.attachmentType,e.attributionAppName,e.defaultCtaType,e.descriptionText,e.xmaContentType],d[17]=a[0],d[18]=a[1],d[19]=a[2],d[20]=a[3],d[21]=a[4])})},function(a){return d[20]!==void 0?d[23]=d[20]:d[23]=d[13],d[16]=d[23]}]):c.resolve(d[16]=d[13])},function(a){return d[11]=d[16]}]):c.sequence([function(a){return c.i64.eq(d[6],c.i64.cast([0,2]))?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2975370389]),void 0).then(function(a){return d[13]=a})},function(a){return d[12]=d[13]}]):c.sequence([function(a){return c.i64.eq(d[6],c.i64.cast([0,1]))?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3921131020]),void 0).then(function(a){return d[14]=a})},function(a){return d[13]=d[14]}]):c.sequence([function(a){return c.i64.eq(f.replyType,c.i64.cast([0,1]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[15]=a[0],a})},function(a){return c.i64.eq(d[15],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1899892426]),void 0).then(function(a){return d[17]=a})},function(a){return d[16]=d[17]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[18]=c.createArray(),d[20]=(d[18].push(d[17]),d[18]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3287869262]),d[18]).then(function(a){return d[19]=a})},function(a){return d[16]=d[19]}])},function(a){return d[14]=d[16]}]):c.sequence([function(a){return d[7]!==void 0&&d[7]!==""?c.sequence([function(a){return d[18]=d[7]==null?"":d[7],c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return c.i64.eq(d[16],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1890485478]),void 0).then(function(a){return d[19]=a})},function(a){return d[17]=[d[19],": ",d[18]].join("")}]):c.sequence([function(a){return c.db.table(9).fetch([[[d[5]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[19]=!1:(e=b.item,d[19]=c.i64.eq(e.threadType,c.i64.cast([0,2])))})},function(a){return c.db.table(9).fetch([[[d[5]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[21]=!1:(e=b.item,d[21]=[c.i64.cast([0,18]),c.i64.cast([0,27])].some(function(a){return c.i64.eq(e.threadType,a)}))})},function(a){return d[19]||d[21]||!1?c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[23]=[d[24],": ",d[18]].join("")}]):c.resolve(d[23]=d[18])},function(a){return d[17]=d[23]}])},function(a){return d[15]=d[17]}]):c.sequence([function(a){return c.i64.neq(d[8],void 0)&&[c.i64.cast([53057,267535043]),c.i64.cast([85970,924785702]),c.i64.cast([85970,1004785694]),c.i64.cast([85970,1044785690])].some(function(a){return c.i64.eq(d[8],a)})?c.sequence([function(a){return d[19]="\udb80\udc00",c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return c.i64.eq(d[17],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1890485478]),void 0).then(function(a){return d[20]=a})},function(a){return d[18]=[d[20],": ",d[19]].join("")}]):c.sequence([function(a){return c.db.table(9).fetch([[[d[5]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[20]=!1:(e=b.item,d[20]=c.i64.eq(e.threadType,c.i64.cast([0,2])))})},function(a){return c.db.table(9).fetch([[[d[5]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[22]=!1:(e=b.item,d[22]=[c.i64.cast([0,18]),c.i64.cast([0,27])].some(function(a){return c.i64.eq(e.threadType,a)}))})},function(a){return d[20]||d[22]||!1?c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[24]=[d[25],": ",d[19]].join("")}]):c.resolve(d[24]=d[19])},function(a){return d[18]=d[24]}])},function(a){return d[16]=d[18]}]):c.sequence([function(a){return c.i64.neq(d[8],void 0)?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.i64.eq(d[18],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1299547062]),void 0).then(function(a){return d[20]=a})},function(a){return d[19]=d[20]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[21]=c.createArray(),d[23]=(d[21].push(d[20]),d[21]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3621454483]),d[21]).then(function(a){return d[22]=a})},function(a){return d[19]=d[22]}])},function(a){return d[17]=d[19]}]):c.sequence([function(a){return c.count(c.filter(c.db.table(16).fetch([[[d[5],d[10]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[9])&&a.messageId===d[10]})).then(function(a){return d[18]=a})},function(a){return c.i64.eq(d[18],c.i64.cast([0,0]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.i64.eq(d[20],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[22]=a})},function(a){return d[21]=d[22]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[23]=c.createArray(),d[25]=(d[23].push(d[22]),d[23]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[23]).then(function(a){return d[24]=a})},function(a){return d[21]=d[24]}])},function(a){return d[19]=d[21]}]):c.sequence([function(a){return c.i64.eq(d[18],c.i64.cast([0,1]))?c.sequence([function(a){return c.filter(c.db.table(16).fetch([[[d[5],d[10]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[9])&&a.messageId===d[10]}).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=[c.i64.cast([0,0]),void 0,void 0,void 0,void 0],d[21]=a[0],d[22]=a[1],d[23]=a[2],d[24]=a[3],d[25]=a[4],a):(e=b.item,a=[e.attachmentType,e.attributionAppName,e.defaultCtaType,e.descriptionText,e.xmaContentType],d[21]=a[0],d[22]=a[1],d[23]=a[2],d[24]=a[3],d[25]=a[4])})},function(a){return d[27]=void 0,d[27]===void 0&&(c.i64.eq(d[21],c.i64.cast([0,1]))||c.i64.eq(d[21],c.i64.cast([0,15])))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[32],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1299547062]),void 0).then(function(a){return d[34]=a})},function(a){return d[33]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[34]),d[35]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3621454483]),d[35]).then(function(a){return d[36]=a})},function(a){return d[33]=d[36]}])},function(a){return d[27]=d[33]}]):c.resolve()},function(a){return d[27]===void 0&&(c.i64.eq(d[21],c.i64.cast([0,2]))||c.i64.eq(d[21],c.i64.cast([0,8])))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[32],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2106510577]),void 0).then(function(a){return d[34]=a})},function(a){return d[33]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[34]),d[35]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3960370133]),d[35]).then(function(a){return d[36]=a})},function(a){return d[33]=d[36]}])},function(a){return d[27]=d[33]}]):c.resolve()},function(a){return d[27]===void 0&&c.i64.eq(d[21],c.i64.cast([0,3]))?c.sequence([function(a){return d[22]!==void 0?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.i64.eq(d[33],d[4])?c.sequence([function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[22]),d[35]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3798396796]),d[35]).then(function(a){return d[36]=a})},function(a){return d[34]=d[36]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[36]=c.createArray(),d[38]=(d[36].push(d[35]),d[36]),d[38]=(d[36].push(d[22]),d[36]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3388601579]),d[36]).then(function(a){return d[37]=a})},function(a){return d[34]=d[37]}])},function(a){return d[32]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.i64.eq(d[33],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1556712457]),void 0).then(function(a){return d[35]=a})},function(a){return d[34]=d[35]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[36]=c.createArray(),d[38]=(d[36].push(d[35]),d[36]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3601791933]),d[36]).then(function(a){return d[37]=a})},function(a){return d[34]=d[37]}])},function(a){return d[32]=d[34]}])},function(a){return d[27]=d[32]}]):c.resolve()},function(a){return d[27]===void 0&&(c.i64.eq(d[21],c.i64.cast([0,4]))||c.i64.eq(d[21],c.i64.cast([0,9])))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[32],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3759817031]),void 0).then(function(a){return d[34]=a})},function(a){return d[33]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[34]),d[35]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2934729541]),d[35]).then(function(a){return d[36]=a})},function(a){return d[33]=d[36]}])},function(a){return d[27]=d[33]}]):c.resolve()},function(a){return d[27]===void 0&&c.i64.eq(d[21],c.i64.cast([0,5]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[32],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,392493418]),void 0).then(function(a){return d[34]=a})},function(a){return d[33]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[34]),d[35]),b("LSLocalize").localizeV2Async(c.i64.cast([0,4085467454]),d[35]).then(function(a){return d[36]=a})},function(a){return d[33]=d[36]}])},function(a){return d[27]=d[33]}]):c.resolve()},function(a){return d[27]===void 0&&c.i64.eq(d[21],c.i64.cast([0,10]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[32],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2738683656]),void 0).then(function(a){return d[34]=a})},function(a){return d[33]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[34]),d[35]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2996525642]),d[35]).then(function(a){return d[36]=a})},function(a){return d[33]=d[36]}])},function(a){return d[27]=d[33]}]):c.resolve()},function(a){return c.i64.neq(d[25],void 0)?d[28]=d[25]:(d[23]==="xma_live_location_sharing"?d[32]=c.i64.cast([0,7e3]):d[32]=void 0,d[28]=d[32]),c.i64.neq(d[28],void 0)?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[28],c.i64.cast([-1,4294967295]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[34]=a[0],a})},function(a){return c.i64.eq(d[34],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[36]=a})},function(a){return d[35]=d[36]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[37]=c.createArray(),d[39]=(d[37].push(d[36]),d[37]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[37]).then(function(a){return d[38]=a})},function(a){return d[35]=d[38]}])},function(a){return d[33]=d[35]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,0]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.i64.eq(d[35],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[37]=a})},function(a){return d[36]=d[37]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[38]=c.createArray(),d[40]=(d[38].push(d[37]),d[38]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[38]).then(function(a){return d[39]=a})},function(a){return d[36]=d[39]}])},function(a){return d[34]=d[36]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.i64.eq(d[36],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[38]=a})},function(a){return d[37]=d[38]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=c.createArray(),d[41]=(d[39].push(d[38]),d[39]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1001986796]),d[39]).then(function(a){return d[40]=a})},function(a){return d[37]=d[40]}])},function(a){return d[35]=d[37]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.i64.eq(d[37],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[39]=a})},function(a){return d[38]=d[39]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return d[40]=c.createArray(),d[42]=(d[40].push(d[39]),d[40]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1001986796]),d[40]).then(function(a){return d[41]=a})},function(a){return d[38]=d[41]}])},function(a){return d[36]=d[38]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[38]=a[0],a})},function(a){return c.i64.eq(d[38],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285746939]),void 0).then(function(a){return d[40]=a})},function(a){return d[39]=d[40]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[41]=c.createArray(),d[43]=(d[41].push(d[40]),d[41]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3759448420]),d[41]).then(function(a){return d[42]=a})},function(a){return d[39]=d[42]}])},function(a){return d[37]=d[39]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1003]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.i64.eq(d[39],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[41]=a})},function(a){return d[40]=d[41]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return d[42]=c.createArray(),d[44]=(d[42].push(d[41]),d[42]),b("LSLocalize").localizeV2Async(c.i64.cast([0,284944921]),d[42]).then(function(a){return d[43]=a})},function(a){return d[40]=d[43]}])},function(a){return d[38]=d[40]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.i64.eq(d[40],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[42]=a})},function(a){return d[43]=c.createArray(),d[45]=(d[43].push(d[42]),d[43]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3322002377]),d[43]).then(function(a){return d[44]=a})},function(a){return d[41]=d[44]}]):c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2486550278]),void 0).then(function(a){return d[42]=a})},function(a){return d[41]=d[42]}])},function(a){return d[39]=d[41]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.i64.eq(d[41],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3557790945]),void 0).then(function(a){return d[43]=a})},function(a){return d[42]=d[43]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[44]=c.createArray(),d[46]=(d[44].push(d[43]),d[44]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3756846086]),d[44]).then(function(a){return d[45]=a})},function(a){return d[42]=d[45]}])},function(a){return d[40]=d[42]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1006]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.i64.eq(d[42],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[44]=a})},function(a){return d[43]=d[44]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[45]=c.createArray(),d[47]=(d[45].push(d[44]),d[45]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1001986796]),d[45]).then(function(a){return d[46]=a})},function(a){return d[43]=d[46]}])},function(a){return d[41]=d[43]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1007]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.i64.eq(d[43],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[45]=a})},function(a){return d[44]=d[45]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[46]=c.createArray(),d[48]=(d[46].push(d[45]),d[46]),b("LSLocalize").localizeV2Async(c.i64.cast([0,284944921]),d[46]).then(function(a){return d[47]=a})},function(a){return d[44]=d[47]}])},function(a){return d[42]=d[44]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1008]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.i64.eq(d[44],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[46]=a})},function(a){return d[45]=d[46]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[47]=c.createArray(),d[49]=(d[47].push(d[46]),d[47]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[47]).then(function(a){return d[48]=a})},function(a){return d[45]=d[48]}])},function(a){return d[43]=d[45]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1009]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.i64.eq(d[45],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,780378803]),void 0).then(function(a){return d[47]=a})},function(a){return d[46]=d[47]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[48]=c.createArray(),d[50]=(d[48].push(d[47]),d[48]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3918212613]),d[48]).then(function(a){return d[49]=a})},function(a){return d[46]=d[49]}])},function(a){return d[44]=d[46]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1010]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.i64.eq(d[46],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3161890215]),void 0).then(function(a){return d[48]=a})},function(a){return d[47]=d[48]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[49]=c.createArray(),d[51]=(d[49].push(d[48]),d[49]),b("LSLocalize").localizeV2Async(c.i64.cast([0,863428456]),d[49]).then(function(a){return d[50]=a})},function(a){return d[47]=d[50]}])},function(a){return d[45]=d[47]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1011]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.i64.eq(d[47],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2716405471]),void 0).then(function(a){return d[49]=a})},function(a){return d[48]=d[49]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return d[50]=c.createArray(),d[52]=(d[50].push(d[49]),d[50]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3909474073]),d[50]).then(function(a){return d[51]=a})},function(a){return d[48]=d[51]}])},function(a){return d[46]=d[48]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1012]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.i64.eq(d[48],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1522141193]),void 0).then(function(a){return d[50]=a})},function(a){return d[49]=d[50]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return d[51]=c.createArray(),d[53]=(d[51].push(d[50]),d[51]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2804766375]),d[51]).then(function(a){return d[52]=a})},function(a){return d[49]=d[52]}])},function(a){return d[47]=d[49]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1013]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.i64.eq(d[49],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1522141193]),void 0).then(function(a){return d[51]=a})},function(a){return d[50]=d[51]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return d[52]=c.createArray(),d[54]=(d[52].push(d[51]),d[52]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2804766375]),d[52]).then(function(a){return d[53]=a})},function(a){return d[50]=d[53]}])},function(a){return d[48]=d[50]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1014]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.i64.eq(d[50],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[52]=a})},function(a){return d[53]=c.createArray(),d[55]=(d[53].push(d[52]),d[53]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3322002377]),d[53]).then(function(a){return d[54]=a})},function(a){return d[51]=d[54]}]):c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2486550278]),void 0).then(function(a){return d[52]=a})},function(a){return d[51]=d[52]}])},function(a){return d[49]=d[51]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1015]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.i64.eq(d[51],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[53]=a})},function(a){return d[52]=d[53]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[54]=c.createArray(),d[56]=(d[54].push(d[53]),d[54]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[54]).then(function(a){return d[55]=a})},function(a){return d[52]=d[55]}])},function(a){return d[50]=d[52]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1016]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.i64.eq(d[52],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[54]=a})},function(a){return d[53]=d[54]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[55]=c.createArray(),d[57]=(d[55].push(d[54]),d[55]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[55]).then(function(a){return d[56]=a})},function(a){return d[53]=d[56]}])},function(a){return d[51]=d[53]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1017]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.i64.eq(d[53],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[55]=a})},function(a){return d[54]=d[55]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[56]=c.createArray(),d[58]=(d[56].push(d[55]),d[56]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[56]).then(function(a){return d[57]=a})},function(a){return d[54]=d[57]}])},function(a){return d[52]=d[54]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1018]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.i64.eq(d[54],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[56]=a})},function(a){return d[55]=d[56]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[57]=c.createArray(),d[59]=(d[57].push(d[56]),d[57]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[57]).then(function(a){return d[58]=a})},function(a){return d[55]=d[58]}])},function(a){return d[53]=d[55]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1019]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.i64.eq(d[55],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[57]=a})},function(a){return d[56]=d[57]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[58]=c.createArray(),d[60]=(d[58].push(d[57]),d[58]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[58]).then(function(a){return d[59]=a})},function(a){return d[56]=d[59]}])},function(a){return d[54]=d[56]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,1020]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.i64.eq(d[56],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[58]=a})},function(a){return d[57]=d[58]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return d[59]=c.createArray(),d[61]=(d[59].push(d[58]),d[59]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[59]).then(function(a){return d[60]=a})},function(a){return d[57]=d[60]}])},function(a){return d[55]=d[57]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2e3]))?c.sequence([function(a){return c.sequence([function(a){return void 0!==void 0?c.sequence([function(a){return void 0!==void 0?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.i64.eq(d[61],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[63]=a})},function(a){return d[62]=d[63]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[63]=a[0],a})},function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[63]),d[64]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[64]).then(function(a){return d[65]=a})},function(a){return d[62]=d[65]}])},function(a){return d[60]=d[62]}])},function(a){return d[59]=d[60]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.i64.eq(d[60],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[62]=a})},function(a){return d[61]=d[62]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[62]=a[0],a})},function(a){return d[63]=c.createArray(),d[65]=(d[63].push(d[62]),d[63]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[63]).then(function(a){return d[64]=a})},function(a){return d[61]=d[64]}])},function(a){return d[59]=d[61]}])},function(a){return d[58]=d[59]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.i64.eq(d[59],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[61]=a})},function(a){return d[60]=d[61]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[61]),d[62]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[62]).then(function(a){return d[63]=a})},function(a){return d[60]=d[63]}])},function(a){return d[58]=d[60]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.i64.eq(d[58],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285746939]),void 0).then(function(a){return d[60]=a})},function(a){return d[59]=d[60]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return d[61]=c.createArray(),d[63]=(d[61].push(d[60]),d[61]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3759448420]),d[61]).then(function(a){return d[62]=a})},function(a){return d[59]=d[62]}])},function(a){return d[57]=d[59]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.i64.eq(d[59],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[61]=a})},function(a){return d[60]=d[61]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[61]),d[62]),b("LSLocalize").localizeV2Async(c.i64.cast([0,284944921]),d[62]).then(function(a){return d[63]=a})},function(a){return d[60]=d[63]}])},function(a){return d[58]=d[60]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2003]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.i64.eq(d[60],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[62]=a})},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[63]=a[0],a})},function(a){return c.i64.eq(d[63],d[4])?c.sequence([function(a){return d[65]=c.createArray(),d[67]=(d[65].push(d[62]),d[65]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1247108605]),d[65]).then(function(a){return d[66]=a})},function(a){return d[64]=d[66]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[65]=a[0],a})},function(a){return d[66]=c.createArray(),d[68]=(d[66].push(d[65]),d[66]),d[68]=(d[66].push(d[62]),d[66]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2966876020]),d[66]).then(function(a){return d[67]=a})},function(a){return d[64]=d[67]}])},function(a){return d[61]=d[64]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.i64.eq(d[62],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1056933543]),void 0).then(function(a){return d[64]=a})},function(a){return d[63]=d[64]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[64]=a[0],a})},function(a){return d[65]=c.createArray(),d[67]=(d[65].push(d[64]),d[65]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1167688664]),d[65]).then(function(a){return d[66]=a})},function(a){return d[63]=d[66]}])},function(a){return d[61]=d[63]}])},function(a){return d[59]=d[61]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.i64.eq(d[61],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[63]=a})},function(a){return d[62]=d[63]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[63]=a[0],a})},function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[63]),d[64]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1001986796]),d[64]).then(function(a){return d[65]=a})},function(a){return d[62]=d[65]}])},function(a){return d[60]=d[62]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.i64.eq(d[62],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,772459202]),void 0).then(function(a){return d[64]=a})},function(a){return d[63]=d[64]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[64]=a[0],a})},function(a){return d[65]=c.createArray(),d[67]=(d[65].push(d[64]),d[65]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3546068912]),d[65]).then(function(a){return d[66]=a})},function(a){return d[63]=d[66]}])},function(a){return d[61]=d[63]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2006]))?c.sequence([function(a){return c.i64.eq(d[32],d[4])?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[64]=a[0],a})},function(a){return c.i64.eq(d[64],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2459540079]),void 0).then(function(a){return d[66]=a})},function(a){return d[65]=d[66]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[66]=a[0],a})},function(a){return d[67]=c.createArray(),d[69]=(d[67].push(d[66]),d[67]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1596311291]),d[67]).then(function(a){return d[68]=a})},function(a){return d[65]=d[68]}])},function(a){return d[63]=d[65]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[64]=a[0],a})},function(a){return c.i64.eq(d[64],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2253698324]),void 0).then(function(a){return d[66]=a})},function(a){return d[65]=d[66]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[66]=a[0],a})},function(a){return d[67]=c.createArray(),d[69]=(d[67].push(d[66]),d[67]),b("LSLocalize").localizeV2Async(c.i64.cast([0,4269602817]),d[67]).then(function(a){return d[68]=a})},function(a){return d[65]=d[68]}])},function(a){return d[63]=d[65]}])},function(a){return d[62]=d[63]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2007]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[65]=a[0],a})},function(a){return c.i64.eq(d[65],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[67]=a})},function(a){return d[66]=d[67]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[67]=a[0],a})},function(a){return d[68]=c.createArray(),d[70]=(d[68].push(d[67]),d[68]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[68]).then(function(a){return d[69]=a})},function(a){return d[66]=d[69]}])},function(a){return d[64]=d[66]}])},function(a){return d[63]=d[64]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2008]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[65]=a[0],a})},function(a){return c.i64.eq(d[65],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[67]=a})},function(a){return d[66]=d[67]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[67]=a[0],a})},function(a){return d[68]=c.createArray(),d[70]=(d[68].push(d[67]),d[68]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[68]).then(function(a){return d[69]=a})},function(a){return d[66]=d[69]}])},function(a){return d[64]=d[66]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2009]))?c.sequence([function(a){return c.sequence([function(a){return void 0!==void 0?c.sequence([function(a){return void 0!==void 0?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[70]=a[0],a})},function(a){return c.i64.eq(d[70],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[72]=a})},function(a){return d[71]=d[72]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return d[73]=c.createArray(),d[75]=(d[73].push(d[72]),d[73]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[73]).then(function(a){return d[74]=a})},function(a){return d[71]=d[74]}])},function(a){return d[69]=d[71]}])},function(a){return d[68]=d[69]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[69]=a[0],a})},function(a){return c.i64.eq(d[69],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[71]=a})},function(a){return d[70]=d[71]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return d[72]=c.createArray(),d[74]=(d[72].push(d[71]),d[72]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[72]).then(function(a){return d[73]=a})},function(a){return d[70]=d[73]}])},function(a){return d[68]=d[70]}])},function(a){return d[67]=d[68]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.i64.eq(d[68],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[70]=a})},function(a){return d[69]=d[70]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return d[71]=c.createArray(),d[73]=(d[71].push(d[70]),d[71]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[71]).then(function(a){return d[72]=a})},function(a){return d[69]=d[72]}])},function(a){return d[67]=d[69]}])},function(a){return d[66]=d[67]}])},function(a){return d[65]=d[66]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2010]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.i64.eq(d[67],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[69]=a})},function(a){return d[68]=d[69]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return d[70]=c.createArray(),d[72]=(d[70].push(d[69]),d[70]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[70]).then(function(a){return d[71]=a})},function(a){return d[68]=d[71]}])},function(a){return d[66]=d[68]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2011]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.i64.eq(d[68],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[70]=a})},function(a){return d[69]=d[70]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return d[71]=c.createArray(),d[73]=(d[71].push(d[70]),d[71]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[71]).then(function(a){return d[72]=a})},function(a){return d[69]=d[72]}])},function(a){return d[67]=d[69]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2012]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[69]=a[0],a})},function(a){return c.i64.eq(d[69],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[71]=a})},function(a){return d[70]=d[71]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return d[72]=c.createArray(),d[74]=(d[72].push(d[71]),d[72]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[72]).then(function(a){return d[73]=a})},function(a){return d[70]=d[73]}])},function(a){return d[68]=d[70]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2013]))?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[70]=a})},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.i64.eq(d[71],d[4])?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.i64.eq(d[73],d[4])?c.sequence([function(a){return d[75]=c.createArray(),d[77]=(d[75].push(d[70]),d[75]),b("LSLocalize").localizeV2Async(c.i64.cast([0,785694792]),d[75]).then(function(a){return d[76]=a})},function(a){return d[74]=d[76]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return d[76]=c.createArray(),d[78]=(d[76].push(d[75]),d[76]),d[78]=(d[76].push(d[70]),d[76]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2625447567]),d[76]).then(function(a){return d[77]=a})},function(a){return d[74]=d[77]}])},function(a){return d[72]=d[74]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.i64.eq(d[73],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3982213805]),void 0).then(function(a){return d[75]=a})},function(a){return d[74]=d[75]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return d[76]=c.createArray(),d[78]=(d[76].push(d[75]),d[76]),b("LSLocalize").localizeV2Async(c.i64.cast([0,464916028]),d[76]).then(function(a){return d[77]=a})},function(a){return d[74]=d[77]}])},function(a){return d[72]=d[74]}])},function(a){return d[69]=d[72]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2014]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.i64.eq(d[71],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[73]=a})},function(a){return d[72]=d[73]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return d[74]=c.createArray(),d[76]=(d[74].push(d[73]),d[74]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[74]).then(function(a){return d[75]=a})},function(a){return d[72]=d[75]}])},function(a){return d[70]=d[72]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2015]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.i64.eq(d[72],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[74]=a})},function(a){return d[73]=d[74]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return d[75]=c.createArray(),d[77]=(d[75].push(d[74]),d[75]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[75]).then(function(a){return d[76]=a})},function(a){return d[73]=d[76]}])},function(a){return d[71]=d[73]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,2016]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.i64.eq(d[73],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[75]=a})},function(a){return d[74]=d[75]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return d[76]=c.createArray(),d[78]=(d[76].push(d[75]),d[76]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[76]).then(function(a){return d[77]=a})},function(a){return d[74]=d[77]}])},function(a){return d[72]=d[74]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3e3]))?c.sequence([function(a){return c.sequence([function(a){return void 0!==void 0?c.sequence([function(a){return void 0!==void 0?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[78]=a[0],a})},function(a){return c.i64.eq(d[78],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[80]=a})},function(a){return d[79]=d[80]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[80]=a[0],a})},function(a){return d[81]=c.createArray(),d[83]=(d[81].push(d[80]),d[81]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[81]).then(function(a){return d[82]=a})},function(a){return d[79]=d[82]}])},function(a){return d[77]=d[79]}])},function(a){return d[76]=d[77]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[77]=a[0],a})},function(a){return c.i64.eq(d[77],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[79]=a})},function(a){return d[78]=d[79]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[79]=a[0],a})},function(a){return d[80]=c.createArray(),d[82]=(d[80].push(d[79]),d[80]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[80]).then(function(a){return d[81]=a})},function(a){return d[78]=d[81]}])},function(a){return d[76]=d[78]}])},function(a){return d[75]=d[76]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.i64.eq(d[76],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[78]=a})},function(a){return d[77]=d[78]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[78]=a[0],a})},function(a){return d[79]=c.createArray(),d[81]=(d[79].push(d[78]),d[79]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[79]).then(function(a){return d[80]=a})},function(a){return d[77]=d[80]}])},function(a){return d[75]=d[77]}])},function(a){return d[74]=d[75]}])},function(a){return d[73]=d[74]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[75]=a[0],a})},function(a){return c.i64.eq(d[75],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[77]=a})},function(a){return d[76]=d[77]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[77]=a[0],a})},function(a){return d[78]=c.createArray(),d[80]=(d[78].push(d[77]),d[78]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[78]).then(function(a){return d[79]=a})},function(a){return d[76]=d[79]}])},function(a){return d[74]=d[76]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.i64.eq(d[76],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2973334239]),void 0).then(function(a){return d[78]=a})},function(a){return d[77]=d[78]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[78]=a[0],a})},function(a){return d[79]=c.createArray(),d[81]=(d[79].push(d[78]),d[79]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3616471048]),d[79]).then(function(a){return d[80]=a})},function(a){return d[77]=d[80]}])},function(a){return d[75]=d[77]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3003]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[77]=a[0],a})},function(a){return c.i64.eq(d[77],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2973334239]),void 0).then(function(a){return d[79]=a})},function(a){return d[78]=d[79]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[79]=a[0],a})},function(a){return d[80]=c.createArray(),d[82]=(d[80].push(d[79]),d[80]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3616471048]),d[80]).then(function(a){return d[81]=a})},function(a){return d[78]=d[81]}])},function(a){return d[76]=d[78]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[78]=a[0],a})},function(a){return c.i64.eq(d[78],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[80]=a})},function(a){return d[79]=d[80]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[80]=a[0],a})},function(a){return d[81]=c.createArray(),d[83]=(d[81].push(d[80]),d[81]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[81]).then(function(a){return d[82]=a})},function(a){return d[79]=d[82]}])},function(a){return d[77]=d[79]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[79]=a[0],a})},function(a){return c.i64.eq(d[79],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[81]=a})},function(a){return d[80]=d[81]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[82]=c.createArray(),d[84]=(d[82].push(d[81]),d[82]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[82]).then(function(a){return d[83]=a})},function(a){return d[80]=d[83]}])},function(a){return d[78]=d[80]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3006]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[80]=a[0],a})},function(a){return c.i64.eq(d[80],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[82]=a})},function(a){return d[81]=d[82]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[82]=a[0],a})},function(a){return d[83]=c.createArray(),d[85]=(d[83].push(d[82]),d[83]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[83]).then(function(a){return d[84]=a})},function(a){return d[81]=d[84]}])},function(a){return d[79]=d[81]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3007]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[81]=a[0],a})},function(a){return c.i64.eq(d[81],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[83]=a})},function(a){return d[82]=d[83]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[83]=a[0],a})},function(a){return d[84]=c.createArray(),d[86]=(d[84].push(d[83]),d[84]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[84]).then(function(a){return d[85]=a})},function(a){return d[82]=d[85]}])},function(a){return d[80]=d[82]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3008]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[82]=a[0],a})},function(a){return c.i64.eq(d[82],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[84]=a})},function(a){return d[83]=d[84]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[84]=a[0],a})},function(a){return d[85]=c.createArray(),d[87]=(d[85].push(d[84]),d[85]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[85]).then(function(a){return d[86]=a})},function(a){return d[83]=d[86]}])},function(a){return d[81]=d[83]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3009]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[83]=a[0],a})},function(a){return c.i64.eq(d[83],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[85]=a})},function(a){return d[84]=d[85]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[85]=a[0],a})},function(a){return d[86]=c.createArray(),d[88]=(d[86].push(d[85]),d[86]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[86]).then(function(a){return d[87]=a})},function(a){return d[84]=d[87]}])},function(a){return d[82]=d[84]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3010]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[85]=a[0],a})},function(a){return c.i64.eq(d[85],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[87]=a})},function(a){return d[86]=d[87]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[87]=a[0],a})},function(a){return d[88]=c.createArray(),d[90]=(d[88].push(d[87]),d[88]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[88]).then(function(a){return d[89]=a})},function(a){return d[86]=d[89]}])},function(a){return d[84]=d[86]}])},function(a){return d[83]=d[84]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3011]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[85]=a[0],a})},function(a){return c.i64.eq(d[85],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[87]=a})},function(a){return d[86]=d[87]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[87]=a[0],a})},function(a){return d[88]=c.createArray(),d[90]=(d[88].push(d[87]),d[88]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[88]).then(function(a){return d[89]=a})},function(a){return d[86]=d[89]}])},function(a){return d[84]=d[86]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3012]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[86]=a[0],a})},function(a){return c.i64.eq(d[86],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[88]=a})},function(a){return d[87]=d[88]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[88]=a[0],a})},function(a){return d[89]=c.createArray(),d[91]=(d[89].push(d[88]),d[89]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[89]).then(function(a){return d[90]=a})},function(a){return d[87]=d[90]}])},function(a){return d[85]=d[87]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3013]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[87]=a[0],a})},function(a){return c.i64.eq(d[87],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[89]=a})},function(a){return d[88]=d[89]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[89]=a[0],a})},function(a){return d[90]=c.createArray(),d[92]=(d[90].push(d[89]),d[90]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[90]).then(function(a){return d[91]=a})},function(a){return d[88]=d[91]}])},function(a){return d[86]=d[88]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3014]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[89]=a[0],a})},function(a){return c.i64.eq(d[89],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[91]=a})},function(a){return d[90]=d[91]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[91]=a[0],a})},function(a){return d[92]=c.createArray(),d[94]=(d[92].push(d[91]),d[92]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[92]).then(function(a){return d[93]=a})},function(a){return d[90]=d[93]}])},function(a){return d[88]=d[90]}])},function(a){return d[87]=d[88]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3015]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[89]=a[0],a})},function(a){return c.i64.eq(d[89],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3471188061]),void 0).then(function(a){return d[91]=a})},function(a){return d[90]=d[91]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[91]=a[0],a})},function(a){return d[92]=c.createArray(),d[94]=(d[92].push(d[91]),d[92]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2776822462]),d[92]).then(function(a){return d[93]=a})},function(a){return d[90]=d[93]}])},function(a){return d[88]=d[90]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3016]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[90]=a[0],a})},function(a){return c.i64.eq(d[90],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[92]=a})},function(a){return d[91]=d[92]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[92]=a[0],a})},function(a){return d[93]=c.createArray(),d[95]=(d[93].push(d[92]),d[93]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[93]).then(function(a){return d[94]=a})},function(a){return d[91]=d[94]}])},function(a){return d[89]=d[91]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3017]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[91]=a[0],a})},function(a){return c.i64.eq(d[91],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[93]=a})},function(a){return d[92]=d[93]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[93]=a[0],a})},function(a){return d[94]=c.createArray(),d[96]=(d[94].push(d[93]),d[94]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[94]).then(function(a){return d[95]=a})},function(a){return d[92]=d[95]}])},function(a){return d[90]=d[92]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3018]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[92]=a[0],a})},function(a){return c.i64.eq(d[92],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[94]=a})},function(a){return d[93]=d[94]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[94]=a[0],a})},function(a){return d[95]=c.createArray(),d[97]=(d[95].push(d[94]),d[95]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[95]).then(function(a){return d[96]=a})},function(a){return d[93]=d[96]}])},function(a){return d[91]=d[93]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3019]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[93]=a[0],a})},function(a){return c.i64.eq(d[93],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[95]=a})},function(a){return d[94]=d[95]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[95]=a[0],a})},function(a){return d[96]=c.createArray(),d[98]=(d[96].push(d[95]),d[96]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[96]).then(function(a){return d[97]=a})},function(a){return d[94]=d[97]}])},function(a){return d[92]=d[94]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3020]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[94]=a[0],a})},function(a){return c.i64.eq(d[94],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[96]=a})},function(a){return d[95]=d[96]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[96]=a[0],a})},function(a){return d[97]=c.createArray(),d[99]=(d[97].push(d[96]),d[97]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[97]).then(function(a){return d[98]=a})},function(a){return d[95]=d[98]}])},function(a){return d[93]=d[95]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3021]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[95]=a[0],a})},function(a){return c.i64.eq(d[95],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[97]=a})},function(a){return d[96]=d[97]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[97]=a[0],a})},function(a){return d[98]=c.createArray(),d[100]=(d[98].push(d[97]),d[98]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[98]).then(function(a){return d[99]=a})},function(a){return d[96]=d[99]}])},function(a){return d[94]=d[96]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3022]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[96]=a[0],a})},function(a){return c.i64.eq(d[96],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[98]=a})},function(a){return d[97]=d[98]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[98]=a[0],a})},function(a){return d[99]=c.createArray(),d[101]=(d[99].push(d[98]),d[99]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[99]).then(function(a){return d[100]=a})},function(a){return d[97]=d[100]}])},function(a){return d[95]=d[97]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3023]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[97]=a[0],a})},function(a){return c.i64.eq(d[97],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[99]=a})},function(a){return d[98]=d[99]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[99]=a[0],a})},function(a){return d[100]=c.createArray(),d[102]=(d[100].push(d[99]),d[100]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[100]).then(function(a){return d[101]=a})},function(a){return d[98]=d[101]}])},function(a){return d[96]=d[98]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3024]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[98]=a[0],a})},function(a){return c.i64.eq(d[98],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[100]=a})},function(a){return d[99]=d[100]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[100]=a[0],a})},function(a){return d[101]=c.createArray(),d[103]=(d[101].push(d[100]),d[101]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[101]).then(function(a){return d[102]=a})},function(a){return d[99]=d[102]}])},function(a){return d[97]=d[99]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3025]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[99]=a[0],a})},function(a){return c.i64.eq(d[99],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[101]=a})},function(a){return d[100]=d[101]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[101]=a[0],a})},function(a){return d[102]=c.createArray(),d[104]=(d[102].push(d[101]),d[102]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[102]).then(function(a){return d[103]=a})},function(a){return d[100]=d[103]}])},function(a){return d[98]=d[100]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3026]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[100]=a[0],a})},function(a){return c.i64.eq(d[100],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[102]=a})},function(a){return d[101]=d[102]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[102]=a[0],a})},function(a){return d[103]=c.createArray(),d[105]=(d[103].push(d[102]),d[103]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[103]).then(function(a){return d[104]=a})},function(a){return d[101]=d[104]}])},function(a){return d[99]=d[101]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3027]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[101]=a[0],a})},function(a){return c.i64.eq(d[101],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[103]=a})},function(a){return d[102]=d[103]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[103]=a[0],a})},function(a){return d[104]=c.createArray(),d[106]=(d[104].push(d[103]),d[104]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[104]).then(function(a){return d[105]=a})},function(a){return d[102]=d[105]}])},function(a){return d[100]=d[102]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3028]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[102]=a[0],a})},function(a){return c.i64.eq(d[102],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[104]=a})},function(a){return d[103]=d[104]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[104]=a[0],a})},function(a){return d[105]=c.createArray(),d[107]=(d[105].push(d[104]),d[105]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[105]).then(function(a){return d[106]=a})},function(a){return d[103]=d[106]}])},function(a){return d[101]=d[103]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3029]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[103]=a[0],a})},function(a){return c.i64.eq(d[103],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[105]=a})},function(a){return d[104]=d[105]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[105]=a[0],a})},function(a){return d[106]=c.createArray(),d[108]=(d[106].push(d[105]),d[106]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[106]).then(function(a){return d[107]=a})},function(a){return d[104]=d[107]}])},function(a){return d[102]=d[104]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3030]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[104]=a[0],a})},function(a){return c.i64.eq(d[104],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[106]=a})},function(a){return d[105]=d[106]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[106]=a[0],a})},function(a){return d[107]=c.createArray(),d[109]=(d[107].push(d[106]),d[107]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[107]).then(function(a){return d[108]=a})},function(a){return d[105]=d[108]}])},function(a){return d[103]=d[105]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3040]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[105]=a[0],a})},function(a){return c.i64.eq(d[105],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[107]=a})},function(a){return d[106]=d[107]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[107]=a[0],a})},function(a){return d[108]=c.createArray(),d[110]=(d[108].push(d[107]),d[108]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[108]).then(function(a){return d[109]=a})},function(a){return d[106]=d[109]}])},function(a){return d[104]=d[106]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3041]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[106]=a[0],a})},function(a){return c.i64.eq(d[106],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[108]=a})},function(a){return d[107]=d[108]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[108]=a[0],a})},function(a){return d[109]=c.createArray(),d[111]=(d[109].push(d[108]),d[109]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[109]).then(function(a){return d[110]=a})},function(a){return d[107]=d[110]}])},function(a){return d[105]=d[107]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3042]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[107]=a[0],a})},function(a){return c.i64.eq(d[107],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[109]=a})},function(a){return d[108]=d[109]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[109]=a[0],a})},function(a){return d[110]=c.createArray(),d[112]=(d[110].push(d[109]),d[110]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[110]).then(function(a){return d[111]=a})},function(a){return d[108]=d[111]}])},function(a){return d[106]=d[108]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3043]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[108]=a[0],a})},function(a){return c.i64.eq(d[108],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[110]=a})},function(a){return d[109]=d[110]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[110]=a[0],a})},function(a){return d[111]=c.createArray(),d[113]=(d[111].push(d[110]),d[111]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[111]).then(function(a){return d[112]=a})},function(a){return d[109]=d[112]}])},function(a){return d[107]=d[109]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3044]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[109]=a[0],a})},function(a){return c.i64.eq(d[109],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[111]=a})},function(a){return d[110]=d[111]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[111]=a[0],a})},function(a){return d[112]=c.createArray(),d[114]=(d[112].push(d[111]),d[112]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[112]).then(function(a){return d[113]=a})},function(a){return d[110]=d[113]}])},function(a){return d[108]=d[110]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3045]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[110]=a[0],a})},function(a){return c.i64.eq(d[110],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[112]=a})},function(a){return d[111]=d[112]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[112]=a[0],a})},function(a){return d[113]=c.createArray(),d[115]=(d[113].push(d[112]),d[113]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[113]).then(function(a){return d[114]=a})},function(a){return d[111]=d[114]}])},function(a){return d[109]=d[111]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3046]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[111]=a[0],a})},function(a){return c.i64.eq(d[111],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[113]=a})},function(a){return d[112]=d[113]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[113]=a[0],a})},function(a){return d[114]=c.createArray(),d[116]=(d[114].push(d[113]),d[114]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[114]).then(function(a){return d[115]=a})},function(a){return d[112]=d[115]}])},function(a){return d[110]=d[112]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3047]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[112]=a[0],a})},function(a){return c.i64.eq(d[112],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[114]=a})},function(a){return d[113]=d[114]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[114]=a[0],a})},function(a){return d[115]=c.createArray(),d[117]=(d[115].push(d[114]),d[115]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[115]).then(function(a){return d[116]=a})},function(a){return d[113]=d[116]}])},function(a){return d[111]=d[113]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,3048]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[113]=a[0],a})},function(a){return c.i64.eq(d[113],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[115]=a})},function(a){return d[114]=d[115]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[115]=a[0],a})},function(a){return d[116]=c.createArray(),d[118]=(d[116].push(d[115]),d[116]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[116]).then(function(a){return d[117]=a})},function(a){return d[114]=d[117]}])},function(a){return d[112]=d[114]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[114]=a[0],a})},function(a){return c.i64.eq(d[114],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[118]=a})},function(a){return d[115]=d[118]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[118]=a[0],a})},function(a){return d[115]=d[118]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[116]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1739999037]),void 0).then(function(a){return d[117]=a})},function(a){return d[113]=d[117]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[115]=a[0],a})},function(a){return c.i64.eq(d[115],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[119]=a})},function(a){return d[116]=d[119]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[119]=a[0],a})},function(a){return d[116]=d[119]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[117]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3373597599]),void 0).then(function(a){return d[118]=a})},function(a){return d[114]=d[118]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[116]=a[0],a})},function(a){return c.i64.eq(d[116],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[120]=a})},function(a){return d[117]=d[120]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[120]=a[0],a})},function(a){return d[117]=d[120]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[118]=a[0],a})},function(a){return c.i64.eq(d[118],d[4])?c.sequence([function(a){return d[120]=c.createArray(),d[122]=(d[120].push(d[117]),d[120]),b("LSLocalize").localizeV2Async(c.i64.cast([0,259473449]),d[120]).then(function(a){return d[121]=a})},function(a){return d[119]=d[121]}]):c.sequence([function(a){return d[120]=c.createArray(),d[122]=(d[120].push(d[117]),d[120]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1338912959]),d[120]).then(function(a){return d[121]=a})},function(a){return d[119]=d[121]}])},function(a){return d[115]=d[119]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4003]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[117]=a[0],a})},function(a){return c.i64.eq(d[117],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[121]=a})},function(a){return d[118]=d[121]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[121]=a[0],a})},function(a){return d[118]=d[121]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[119]=a[0],a})},function(a){return c.i64.eq(d[119],d[4])?c.sequence([function(a){return d[121]=c.createArray(),d[123]=(d[121].push(d[118]),d[121]),b("LSLocalize").localizeV2Async(c.i64.cast([0,812940701]),d[121]).then(function(a){return d[122]=a})},function(a){return d[120]=d[122]}]):c.sequence([function(a){return d[121]=c.createArray(),d[123]=(d[121].push(d[118]),d[121]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1099878966]),d[121]).then(function(a){return d[122]=a})},function(a){return d[120]=d[122]}])},function(a){return d[116]=d[120]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[118]=a[0],a})},function(a){return c.i64.eq(d[118],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[122]=a})},function(a){return d[119]=d[122]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[122]=a[0],a})},function(a){return d[119]=d[122]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[120]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3443782102]),void 0).then(function(a){return d[121]=a})},function(a){return d[117]=d[121]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[119]=a[0],a})},function(a){return c.i64.eq(d[119],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[123]=a})},function(a){return d[120]=d[123]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[123]=a[0],a})},function(a){return d[120]=d[123]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[121]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,618905030]),void 0).then(function(a){return d[122]=a})},function(a){return d[118]=d[122]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4006]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[120]=a[0],a})},function(a){return c.i64.eq(d[120],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[124]=a})},function(a){return d[121]=d[124]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[124]=a[0],a})},function(a){return d[121]=d[124]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[122]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2470414797]),void 0).then(function(a){return d[123]=a})},function(a){return d[119]=d[123]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4007]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[121]=a[0],a})},function(a){return c.i64.eq(d[121],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[125]=a})},function(a){return d[122]=d[125]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[125]=a[0],a})},function(a){return d[122]=d[125]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[123]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1306024833]),void 0).then(function(a){return d[124]=a})},function(a){return d[120]=d[124]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4008]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[122]=a[0],a})},function(a){return c.i64.eq(d[122],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[126]=a})},function(a){return d[123]=d[126]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[126]=a[0],a})},function(a){return d[123]=d[126]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[124]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3443782102]),void 0).then(function(a){return d[125]=a})},function(a){return d[121]=d[125]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,4009]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[123]=a[0],a})},function(a){return c.i64.eq(d[123],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[127]=a})},function(a){return d[124]=d[127]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[127]=a[0],a})},function(a){return d[124]=d[127]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[125]=a[0],a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,618905030]),void 0).then(function(a){return d[126]=a})},function(a){return d[122]=d[126]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,5e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[124]=a[0],a})},function(a){return c.i64.eq(d[124],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[126]=a})},function(a){return d[125]=d[126]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[126]=a[0],a})},function(a){return d[127]=c.createArray(),d[129]=(d[127].push(d[126]),d[127]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[127]).then(function(a){return d[128]=a})},function(a){return d[125]=d[128]}])},function(a){return d[123]=d[125]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,6e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[125]=a[0],a})},function(a){return c.i64.eq(d[125],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[127]=a})},function(a){return d[126]=d[127]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[127]=a[0],a})},function(a){return d[128]=c.createArray(),d[130]=(d[128].push(d[127]),d[128]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[128]).then(function(a){return d[129]=a})},function(a){return d[126]=d[129]}])},function(a){return d[124]=d[126]}]):c.sequence([function(a){return c.i64.eq(d[28],c.i64.cast([0,7e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[126]=a[0],a})},function(a){return c.i64.eq(d[126],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2135145355]),void 0).then(function(a){return d[128]=a})},function(a){return d[127]=d[128]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[128]=a[0],a})},function(a){return d[129]=c.createArray(),d[131]=(d[129].push(d[128]),d[129]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3603511704]),d[129]).then(function(a){return d[130]=a})},function(a){return d[127]=d[130]}])},function(a){return d[125]=d[127]}]):c.resolve(d[125]=void 0)},function(a){return d[124]=d[125]}])},function(a){return d[123]=d[124]}])},function(a){return d[122]=d[123]}])},function(a){return d[121]=d[122]}])},function(a){return d[120]=d[121]}])},function(a){return d[119]=d[120]}])},function(a){return d[118]=d[119]}])},function(a){return d[117]=d[118]}])},function(a){return d[116]=d[117]}])},function(a){return d[115]=d[116]}])},function(a){return d[114]=d[115]}])},function(a){return d[113]=d[114]}])},function(a){return d[112]=d[113]}])},function(a){return d[111]=d[112]}])},function(a){return d[110]=d[111]}])},function(a){return d[109]=d[110]}])},function(a){return d[108]=d[109]}])},function(a){return d[107]=d[108]}])},function(a){return d[106]=d[107]}])},function(a){return d[105]=d[106]}])},function(a){return d[104]=d[105]}])},function(a){return d[103]=d[104]}])},function(a){return d[102]=d[103]}])},function(a){return d[101]=d[102]}])},function(a){return d[100]=d[101]}])},function(a){return d[99]=d[100]}])},function(a){return d[98]=d[99]}])},function(a){return d[97]=d[98]}])},function(a){return d[96]=d[97]}])},function(a){return d[95]=d[96]}])},function(a){return d[94]=d[95]}])},function(a){return d[93]=d[94]}])},function(a){return d[92]=d[93]}])},function(a){return d[91]=d[92]}])},function(a){return d[90]=d[91]}])},function(a){return d[89]=d[90]}])},function(a){return d[88]=d[89]}])},function(a){return d[87]=d[88]}])},function(a){return d[86]=d[87]}])},function(a){return d[85]=d[86]}])},function(a){return d[84]=d[85]}])},function(a){return d[83]=d[84]}])},function(a){return d[82]=d[83]}])},function(a){return d[81]=d[82]}])},function(a){return d[80]=d[81]}])},function(a){return d[79]=d[80]}])},function(a){return d[78]=d[79]}])},function(a){return d[77]=d[78]}])},function(a){return d[76]=d[77]}])},function(a){return d[75]=d[76]}])},function(a){return d[74]=d[75]}])},function(a){return d[73]=d[74]}])},function(a){return d[72]=d[73]}])},function(a){return d[71]=d[72]}])},function(a){return d[70]=d[71]}])},function(a){return d[69]=d[70]}])},function(a){return d[68]=d[69]}])},function(a){return d[67]=d[68]}])},function(a){return d[66]=d[67]}])},function(a){return d[65]=d[66]}])},function(a){return d[64]=d[65]}])},function(a){return d[63]=d[64]}])},function(a){return d[62]=d[63]}])},function(a){return d[61]=d[62]}])},function(a){return d[60]=d[61]}])},function(a){return d[59]=d[60]}])},function(a){return d[58]=d[59]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}])},function(a){return d[55]=d[56]}])},function(a){return d[54]=d[55]}])},function(a){return d[53]=d[54]}])},function(a){return d[52]=d[53]}])},function(a){return d[51]=d[52]}])},function(a){return d[50]=d[51]}])},function(a){return d[49]=d[50]}])},function(a){return d[48]=d[49]}])},function(a){return d[47]=d[48]}])},function(a){return d[46]=d[47]}])},function(a){return d[45]=d[46]}])},function(a){return d[44]=d[45]}])},function(a){return d[43]=d[44]}])},function(a){return d[42]=d[43]}])},function(a){return d[41]=d[42]}])},function(a){return d[40]=d[41]}])},function(a){return d[39]=d[40]}])},function(a){return d[38]=d[39]}])},function(a){return d[37]=d[38]}])},function(a){return d[36]=d[37]}])},function(a){return d[35]=d[36]}])},function(a){return d[34]=d[35]}])},function(a){return d[33]=d[34]}])},function(a){return d[29]=d[33]}]):c.resolve(d[29]=void 0)},function(a){return d[27]===void 0&&c.i64.eq(d[21],c.i64.cast([0,7]))&&d[29]!==void 0?d[27]=d[29]:0,c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.i64.eq(d[30],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[32]=a})},function(a){return d[31]=d[32]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=c.createArray(),d[35]=(d[33].push(d[32]),d[33]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1249692047]),d[33]).then(function(a){return d[34]=a})},function(a){return d[31]=d[34]}])},function(a){return d[20]=d[27]==null?d[31]:d[27]}]):c.sequence([function(a){return d[21]=!0,c.forEach(c.filter(c.db.table(16).fetch([[[d[5],d[10]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[9])&&a.messageId===d[10]}),function(a){a=a.item;return c.i64.eq(a.attachmentType,c.i64.cast([0,2]))?0:d[21]=!1})},function(a){return d[21]?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.i64.eq(d[23],d[4])?c.sequence([function(a){return d[25]=c.createArray(),d[27]=(d[25].push(d[18]),d[25]),b("LSLocalize").localizeV2Async(c.i64.cast([0,705614308]),d[25]).then(function(a){return d[26]=a})},function(a){return d[24]=d[26]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[26]=c.createArray(),d[28]=(d[26].push(d[25]),d[26]),d[28]=(d[26].push(d[18]),d[26]),b("LSLocalize").localizeV2Async(c.i64.cast([0,313217698]),d[26]).then(function(a){return d[27]=a})},function(a){return d[24]=d[27]}])},function(a){return d[22]=d[24]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.i64.eq(d[23],d[4])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3558654267]),void 0).then(function(a){return d[25]=a})},function(a){return d[24]=d[25]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[5],d[4]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[26]=c.createArray(),d[28]=(d[26].push(d[25]),d[26]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3422266740]),d[26]).then(function(a){return d[27]=a})},function(a){return d[24]=d[27]}])},function(a){return d[22]=d[24]}])},function(a){return d[20]=d[22]}])},function(a){return d[19]=d[20]}])},function(a){return d[17]=d[19]}])},function(a){return d[16]=d[17]}])},function(a){return d[15]=d[16]}])},function(a){return d[14]=d[15]}])},function(a){return d[13]=d[14]}])},function(a){return d[12]=d[13]}])},function(a){return d[11]=d[12]}])},function(a){return d[2]=d[11]}])},function(e){return c.storedProcedure(b("LSUpdateThreadSnippet"),a[0],d[2],d[3],d[4],c.like(d[2],"%\udb80\udc00%"),void 0,void 0,!1)}]))})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateThreadSnippetFromLastMessageV2StoredProcedure";a.__tables__=["threads","messages","attachments"];e.exports=a}),null);
__d("LSUpdateThreadSnippetFromLastMessageV2StoredProcedure",["LSSynchronousPromise","LSUpdateThreadSnippetFromLastMessageV2","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpdateThreadSnippetFromLastMessageV2"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MessageThreadReadState",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({KEEP_AS_IS:3,MARK_READ:1,MARK_UNREAD:2});b=a;f["default"]=b}),66);
__d("issueSendInstamadilloXMAReceiverFetch",["IGDBridgedAPI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("IGDBridgedAPI").sendXmaReceiverFetch(a)}g["default"]=a}),98);
__d("instamadilloBumpThread",["FBLogger","I64","LSBumpThreadStoredProcedure","LSFactory","LSIntEnum","MAWAuthor","MAWCurrentUser","MAWJids","MessageThreadReadState","WAJids","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=d("MAWAuthor").getAuthorUserJid(b.author);if(f==null)return c("FBLogger")("igd_web").warn("Skip instamadilloBumpThread: a message cannot exist without an author");f=(h||(h=d("I64"))).of_string(d("WAJids").userIdFromJid(f));b=d("MAWJids").convertChatJidToIntJid(b.chat);var g=(yield a.threads.get(b));f=h.equal(f,h.of_string(d("MAWCurrentUser").getID()));f=(i||(i=d("LSIntEnum"))).ofNumber(f?c("MessageThreadReadState").KEEP_AS_IS:c("MessageThreadReadState").MARK_UNREAD);g=g==null?void 0:g.lastActivityTimestampMs;g!=null&&(h||(h=d("I64"))).ge(e,g)&&(yield c("LSBumpThreadStoredProcedure")(c("LSFactory")(a),{bumpTimestampMs:e,readStateEffect:f,threadKey:b}))});return j.apply(this,arguments)}g["default"]=a}),98);
__d("instamadilloReplyMessageUtils",["InstamadilloMessageIdUtils","InstamadilloReplyMessageParams","LSFactory","LSFetchInstamadilloMessage","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(c)));e=e.map(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield j(a,b,c)});return function(a){return d.apply(this,arguments)}}());yield (h||(h=b("Promise"))).all(e)});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c=(yield d("InstamadilloReplyMessageParams").getReplyMessageParams(b.threadKey,b.senderId,c,a));yield a.messages.put(babelHelpers["extends"]({},b,c))});return k.apply(this,arguments)}function e(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=e==null?void 0:e.repliedToMessageOtid;e=e==null?void 0:e.repliedToMessageWaServerTimeSec;if(f==null||e==null)return;var g=d("InstamadilloMessageIdUtils").toInstamadilloMessageId(b,f);g=(yield a.messages.index("messageId").get(g));if(g!=null)return;yield c("LSFetchInstamadilloMessage")(b,f,e,c("LSFactory")(a))});return l.apply(this,arguments)}g.updateAllRepliesTxn=a;g.fetchReplySourceMessage=e}),98);
__d("handleInstamadilloReceiverFetchContent",["I64","IGDXMAAttachmentUtil","InstamadilloMessageFactory","InstamadilloTextMessageUtils","LSAuthorityLevel","LSFactory","LSIntEnum","LSUpdateThreadSnippetFromLastMessageV2StoredProcedure","LSVerifyThreadRowExistsV2StoredProcedure","MAWExternalId","MNLSXMALayoutType","MessagingAttachmentType","WAResultOrError","asyncToGeneratorRuntime","instamadilloBumpThread","instamadilloReplyMessageUtils","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,d,e,f,g,h,i){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,j,k,l,m){j=(yield d("InstamadilloMessageFactory").createBaseMessageForProtocolMsgId(a,b,e,j));if(j==null)return d("WAResultOrError").makeResult({reason:"cannot_create_base_message",result:"skip"});var n=j.threadKey;g=JSON.stringify(g);yield c("LSVerifyThreadRowExistsV2StoredProcedure")(c("LSFactory")(a),{authorityLevel:(h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),syncGroup:(i||(i=d("I64"))).of_int32(1),threadKey:n,threadType:i.of_int32(1)});var o=8;c("isStringNullOrEmpty")(f.text)||(o+=1);yield a.messages.put(babelHelpers["extends"]({},j,{displayedContentTypes:i.of_int32(o),text:f.text,textHasLinks:d("InstamadilloTextMessageUtils").textHasLinks(f.text),xmaReceiverFetchParams:g},m));var p;o=l==null?void 0:l.type_;if(o!=null){f=(i||(i=d("I64"))).of_string(d("MAWExternalId").generateExternalId());p=babelHelpers["extends"]({},d("InstamadilloMessageFactory").createBaseAttachmentCta(b),{ctaId:f,type_:o},l);yield a.attachment_ctas.put(p)}yield a.attachments.put(babelHelpers["extends"]({},d("InstamadilloMessageFactory").createBaseAttachmentWithProtocolMsgId(b,e),{attachmentType:h.ofNumber(c("MessagingAttachmentType").XMA),defaultCtaId:(g=p)==null?void 0:g.ctaId,defaultCtaTitle:(m=p)==null?void 0:m.title,defaultCtaType:(f=p)==null?void 0:f.type_,faviconUrl:d("IGDXMAAttachmentUtil").DEFAULT_PROFILE_URL,hasXma:!0,isSharable:!0,xmaLayoutType:h.ofNumber(c("MNLSXMALayoutType").SINGLE)},k));yield d("instamadilloReplyMessageUtils").updateAllRepliesTxn(a,j.messageId);yield c("instamadilloBumpThread")(a,b,e);yield c("LSUpdateThreadSnippetFromLastMessageV2StoredProcedure")(c("LSFactory")(a),{threadKey:n});return d("WAResultOrError").makeResult({result:"handled"})});return j.apply(this,arguments)}g["default"]=a}),98);
__d("renderInstamadilloOptimisticXmaReceiverFetch",["I64","MAWCurrentUser","OfflineThreadingId","Promise","WAJids","WAStanzaUtils","asyncToGeneratorRuntime","handleInstamadilloReceiverFetchContent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("renderInstamadilloOptimisticXmaReceiverFetch");function a(a,b,c,d,e,f){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k,l){var m=d("OfflineThreadingId").createOfflineThreadingID(),n=d("WAJids").toMsgrUserJid(d("MAWCurrentUser").getID()),o=(i||(i=d("I64"))).of_float(Date.now()),p={author:n,chat:d("WAJids").toMsgrUserJid(a),externalId:d("WAStanzaUtils").toStanzaId(m)};n=(yield j.load());a=(yield n());yield a.runInTransaction(function(a){return c("handleInstamadilloReceiverFetchContent")(a,p,o,e,f,{},g,k,l)},"readwrite");return(h||(h=b("Promise"))).resolve(m)});return k.apply(this,arguments)}g["default"]=a}),98);
__d("getSendPostToInstamadilloRecipient",["fbt","I64","IGDDataclassTypes.flow","LSAuthorityLevel","LSMessageReplySourceTypeV2","LSMessageSendStatus","asyncToGeneratorRuntime","issueSendInstamadilloXMAReceiverFetch","renderInstamadilloOptimisticXmaReceiverFetch"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,e,f,g,j){var k={__typename:"XMSGIgReceiverFetchXmaFeedFetchParams",media_igid:a};e={__typename:"XMSGIgXmaContentRefDataclass",action_type:d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Share,content_type:d("IGDDataclassTypes.flow").XmsgIgReceiverFetchContentType.Feed,fetch_params:k,owner_fbid:e,target_url:g,username:f};var l={contentRef:JSON.stringify(e)},m={authorityLevel:(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").OPTIMISTIC),isForwarded:j,replySourceTypeV2:j===!0?(i||(i=d("I64"))).of_int32(c("LSMessageReplySourceTypeV2").FORWARD):void 0,sendStatus:i.of_int32(c("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:i.of_int32(1)},n={actionUrl:g,nativeUrl:g,targetId:i.of_string(a),type_:"igd_web_post_share"},o={authorityLevel:i.of_int32(c("LSAuthorityLevel").OPTIMISTIC),subtitleText:h._(/*BTDS*/"Post").toString(),titleText:f};return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d,e,f,g){try{var h=(yield c("renderInstamadilloOptimisticXmaReceiverFetch")(a,l,k,o,n,m));yield c("issueSendInstamadilloXMAReceiverFetch")({comment:e,isDisappearingModeSettingOn:b,offlineThreadingId:h,openEb:d,receiverFetchXma:JSON.stringify(l),threadKey:a});f==null||f(a)}catch(b){g==null||g(b,a)}});return function(b,c,d,e,f,g){return a.apply(this,arguments)}}()}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("EBAPISharedUtils",["I64","LSAuthorityLevel","LSIntEnum","MAWRotateDTSG","MWEBODSEntityName.enum","ODS","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a,b){if(a!=null){b=b.filter(function(a){return(i||(i=d("I64"))).equal(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))}).map(function(a){return(i||(i=d("I64"))).to_string(a.epochId)});return{backupId:a.backupId,device_id:a.deviceId,locally_available_epochs:b,mailboxRootKey:a.mailboxRootKeyBlob,ocmfClientStateBlob:a.ocmfClientStateBlob}}}function e(a){var b=a==null?void 0:a.backupTenancy;a=a==null?void 0:a.authorityLevel;return b==null||a==null?!1:(i||(i=d("I64"))).equal((j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),a)}function l(a){var b=a.backupId,c=a.devicePrivateKeyBlob,d=a.devicePublicKeyBlob,e=a.epochAuthPrivateKeyBlob,f=a.epochAuthPublicKeyBlob,g=a.epochStoragePrivateKeyBlob,h=a.epochStoragePublicKeyBlob,i=a.mailboxRootKeyBlob,j=a.obliviousValidationTokenBlob,k=a.ocmfClientStateBlob;if(b!=null&&c!=null&&d!=null&&e!=null&&f!=null&&g!=null&&h!=null&&i!=null&&j!=null&&k!=null)return{authorityLevel:a.authorityLevel,backupId:b,backupTenancy:a.backupTenancy,deviceId:a.deviceId,devicePrivateKeyBlob:c,devicePublicKeyBlob:d,encryptionVersion:a.encryptionVersion,epochAuthPrivateKeyBlob:e,epochAuthPublicKeyBlob:f,epochStoragePrivateKeyBlob:g,epochStoragePublicKeyBlob:h,mailboxRootKeyBlob:i,obliviousValidationTokenBlob:j,ocmfClientStateBlob:k,revisionVersion:a.revisionVersion}}function m(a){var b=a.authorityLevel,c=a.backupId,d=a.epochAnonIdBlob,e=a.epochId,f=a.epochRootKeyBlob;a=a.epochStatus;if(b!=null&&c!=null&&d!=null&&e!=null&&f!=null&&a!=null)return{authorityLevel:b,backupId:c,epochAnonIdBlob:d,epochId:e,epochRootKeyBlob:f,epochStatus:a}}function f(a){var b=[],c=new Set(["epochId","authorityLevel","backupId","epochAnonIdBlob","epochRootKeyBlob","epochStatus"]);a=a.get("secure_encrypted_backups_epochs");if(a==null||(a==null?void 0:a.size)===0)return b;if(a!=null){a=a.entries();for(a of a){var d=a[0];a[1];d=d;if(d instanceof Object){d=Object.values(d);d=d[1];if(d instanceof Object){var e={};for(d of Object.entries(d)){var f=d[0],g=d[1];c.has(f)&&(e[f]=g)}f=m(e);f!=null&&b.push(f)}}}}return b}function n(a){a=a.get("secure_encrypted_backups_client_state");var b={};if(a==null||(a==null?void 0:a.size)===0)return;if(a!=null){a=a.entries();for(a of a){var c=a[0];a[1];c=c;if(c instanceof Object){c=Object.values(c);c=c[1];if(c instanceof Object)for(c of Object.entries(c)){var d=c[0],e=c[1];b[d]=e}}break}}d=l(b);return d}function o(a){(k||(k=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,a)}function p(a){return a!=null&&a.message.indexOf("1357004")!==-1?d("MAWRotateDTSG").tryRotateDTSG().then(function(a){if(a)return"token-rotation-successful";else return"token-rotation-failed"}):(h||(h=b("Promise"))).resolve("token-rotation-not-required")}g.getDeviceAndKeyMetadata=a;g.isBackupTenancyAuthoritative=e;g.getAvailableEpochsFromPersistedEBSM=f;g.getClientStateFromPersistedEBSM=n;g.bumpOdsRestoreKey=o;g.handleDTSGTokenRotation=p}),98);
__d("EBBatchRequestResignCdnUrlQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9604466472985365"}),null);
__d("EBBatchRequestResignCdnUrlQuery.graphql",["EBBatchRequestResignCdnUrlQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],c=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"payloads",variableName:"request"}],concreteType:"XFBResignCdnUrlResponse",kind:"LinkedField",name:"batch_resigned_attachment_cdn_url",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"instance_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"exception_message",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"EBBatchRequestResignCdnUrlQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"EBBatchRequestResignCdnUrlQuery",selections:c},params:{id:b("EBBatchRequestResignCdnUrlQuery_facebookRelayOperation"),metadata:{},name:"EBBatchRequestResignCdnUrlQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EBBatchRequestResignCdnUrl",["EBBatchRequestResignCdnUrlQuery.graphql","EBEnqueueResignCdnUrlRequests","FBLogger","WADirectPath","WAErrorMessage","WAMediaUtils","WAResultOrError","asyncToGeneratorRuntime","createWorkerQuery"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r=function(){return c("FBLogger")("wmi").tags(["labyrinth_web","resign_cdn_url"])};function a(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("EBEnqueueResignCdnUrlRequests").getGqlRestoredCdnUrlMap();b=b.entries().filter(function(a){a[0];a=a[1];return!a.pending}).toArray();if(b.length<1)return;var c=b.map(function(a){return{instance_key:a[0],payload:a[1].payload}});b.forEach(function(a){var b=a[0];a=a[1];d("EBEnqueueResignCdnUrlRequests").setGqlRestoredCdnUrlMap(b,{payload:a.payload,pending:!0,resolvable:a.resolvable})});yield t(a,c)});return s.apply(this,arguments)}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.length<1)return;var e=d("EBEnqueueResignCdnUrlRequests").getGqlRestoredCdnUrlMap();a==null||a.addPoint("resign_cdn_url_query_start");try{var f,g,h=(yield c("createWorkerQuery")(w,{request:b.map(function(a){return{instance_key:a.instance_key,payload:a.payload.payload}})}));a==null||a.addPoint("resign_cdn_url_query_end");h=h==null||(f=h.viewer)==null||(f=f.messenger_default_encrypted_backup)==null||(f=f.mailbox)==null?void 0:f.batch_resigned_attachment_cdn_url;r().DEBUG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Received "," requests"])),h==null?void 0:h.length);a==null||a.addAnnotations({"int":{resign_cdn_url_gql_batch_size:(g=h==null?void 0:h.length)!=null?g:0}});h==null||h.forEach(function(a){var b=a.instance_key!=null?d("WAMediaUtils").stringToDeliveryObjectId(a.instance_key):null,c=a.path;if(b!=null){var f=d("WADirectPath").validateDirectPath(c);f.success||r().WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",", graphql error: ",""])),f.error,a.exception_message);a=(a=e.get(b))==null?void 0:a.resolvable;a!=null?a.resolve(f):r().MUSTFIX(k||(k=babelHelpers.taggedTemplateLiteralLoose(["No resolvable found for instance key: ",""])),b);e["delete"](b)}else r().MUSTFIX(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url came back with no instance key, ",""])),c)})}catch(c){g=d("WAErrorMessage").maybeGetMessageFromError(c);a==null||a.addPoint("resign_cdn_url_query_fail");a==null||a.addAnnotations({string:{resign_cdn_url_gql_error:g}});r().WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),g);b.forEach(function(a){var b;b=(b=e.get(d("WAMediaUtils").stringToDeliveryObjectId(a.instance_key)))==null?void 0:b.resolvable;b!=null?b.resolve(d("WAResultOrError").makeError("resign-cdn-url-gql-error")):r().MUSTFIX(n||(n=babelHelpers.taggedTemplateLiteralLoose(["No resolvable found during error for instance key: ",""])),a.instance_key)})}finally{b.forEach(function(a){var b=d("WAMediaUtils").stringToDeliveryObjectId(a.instance_key);b=(b=e.get(b))==null?void 0:b.resolvable;(b==null?void 0:b.isSettled)===!1&&r().MUSTFIX(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Resolvable was not properly settled"])));e["delete"](d("WAMediaUtils").stringToDeliveryObjectId(a.instance_key))})}});return u.apply(this,arguments)}function e(a,b,c){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){a==null||a.addPoint("resign_cdn_url_query_start");try{var f;b=(yield c("createWorkerQuery")(w,{request:[{instance_key:b,payload:e.payload}]}));a==null||a.addPoint("resign_cdn_url_query_end");e=b==null||(f=b.viewer)==null||(f=f.messenger_default_encrypted_backup)==null||(f=f.mailbox)==null?void 0:f.batch_resigned_attachment_cdn_url;(e==null?void 0:e.length)!==1&&(a==null||a.addPoint("resign_cdn_url_should_have_one_response"));b=e==null?void 0:e[0];e=b==null?void 0:b.path;e=d("WADirectPath").validateDirectPath(e);e.success||r().WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",", graphql error: ",""])),e.error,b==null?void 0:b.exception_message);return e}catch(c){b=d("WAErrorMessage").maybeGetMessageFromError(c);a==null||a.addPoint("resign_cdn_url_query_fail");a==null||a.addAnnotations({string:{resign_cdn_url_gql_error:b}});r().WARN(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),b);return d("WAResultOrError").makeError("resign-cdn-url-gql-error")}});return v.apply(this,arguments)}var w=h!==void 0?h:h=b("EBBatchRequestResignCdnUrlQuery.graphql");g.batchedResignCdnUrlFromMap=a;g.batchedResignCdnUrlWithGraphQL=t;g.resignCdnUrlWithGraphQL=e}),98);
__d("EBEnqueueResignCdnUrlRequests",["EBBatchRequestResignCdnUrl","WACustomError","WAPromiseDelays","WAPromiseTimeout","WAResolvable","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){var a=!0;return{get:function(){return a},set:function(b){a=b}}}(),i=function(){var a=window.performance.now();return{get:function(){return a},set:function(b){a=b}}}(),j=new Map(),k=c("justknobx")._("4662"),l=c("justknobx")._("3244");function a(a,b,c){var e;e=(e=j.get(a))==null?void 0:e.resolvable;if(e!=null){c==null||c.addPoint("resign_cdn_url_map_hit");return m({mediaDownloadFlow:c,objectId:a,payload:b,promise:e.promise})}e=new(d("WAResolvable").Resolvable)();var f=j.size===0;j.set(a,{payload:b,pending:!1,resolvable:e});if(!h.get())return m({mediaDownloadFlow:c,objectId:a,payload:b,promise:e.promise});void n(f);return m({mediaDownloadFlow:c,objectId:a,payload:b,promise:e.promise})}function m(a){var b=a.mediaDownloadFlow,c=a.objectId,e=a.payload;a=a.promise;return d("WAPromiseTimeout").promiseTimeout(a,l).then(function(a){if(!a.success&&a.error==="direct-path-undefined"){j["delete"](c);return d("WAPromiseDelays").delayMs(l).then(function(){return d("EBBatchRequestResignCdnUrl").resignCdnUrlWithGraphQL(b,c,e)})}return a})["catch"](function(a){var f=a instanceof Error&&["NetworkTransportError","NetworkTimeoutError","NetworkRequestError"].includes(a.name);if(a instanceof d("WACustomError").TimeoutError||f){b==null||b.addPoint("resign-cdn-url-gql-timeout");j["delete"](c);return d("EBBatchRequestResignCdnUrl").resignCdnUrlWithGraphQL(b,c,e)}else{b==null||b.addPoint("resign-cdn-url-gql-unexpected-error");b==null||b.addAnnotations({string:{resign_cdn_url_payload_fail_reason:a.message}});throw a}})}function n(a,b){h.set(!1);if(a){h.set(!0);i.set(window.performance.now());return d("EBBatchRequestResignCdnUrl").batchedResignCdnUrlFromMap(b)}else{a=Math.max(k-(window.performance.now()-i.get()),0);return d("WAPromiseDelays").delayMs(a).then(function(){h.set(!0);i.set(window.performance.now());return d("EBBatchRequestResignCdnUrl").batchedResignCdnUrlFromMap(b)})}}function b(){return j}function e(a,b){j.set(a,b)}g.enqueueResignCdnUrl=a;g.getGqlRestoredCdnUrlMap=b;g.setGqlRestoredCdnUrlMap=e}),98);
__d("EBCreateResignCDNUrlPayload",["CreateDerivedKeys","EBBase64Encode","EBWorkerEBDBApi","GetBlobFromInt64BE","Hmac_v2","I64","LSVec","OcmfClientMap","OpeEncrypt","Promise","TruncateSortKey","WAArrayBufferUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="thread_ope_key",k="__DEVICE_ID_PLACEHOLDER__";function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.accessTokenSecret,c=a.deliveryObjectId,d=a.mediaType,e=a.messageId,f=a.primaryKeySecret,g=a.productType,h=a.sort;h=h===void 0?!1:h;var i=a.sortOrderMs;a=a.threadId;b=(yield m({accessTokenSecret:b,deliveryObjectId:c,mediaType:d,messageId:e,primaryKeySecret:f,productType:g,sortOrderMs:i,threadId:a}));if(b==null)return null;c=b.device_id;d=babelHelpers["extends"]({},b,{device_id:k});e=h?JSON.stringify(d,Object.keys(d).sort()):JSON.stringify(d);return e.replace('"'+k+'"',String(c))});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.accessTokenSecret,f=a.deliveryObjectId,g=a.mediaType,h=a.messageId,j=a.primaryKeySecret,k=a.productType,l=a.sortOrderMs;a=a.threadId;var m=(yield d("EBWorkerEBDBApi").getSecureEBClientState()),n=String(m.backupId),q=m.deviceId;if(q==null)return null;var r=c("EBBase64Encode")(m.mailboxRootKeyBlob),s=c("EBBase64Encode")(m.ocmfClientStateBlob);m=(yield (i||(i=b("Promise"))).all([o("attachment_key_scope",JSON.stringify([n,f]),m.ocmfClientStateBlob),o("mailbox_id_scope",n,m.ocmfClientStateBlob),o("message_id_scope",h,m.ocmfClientStateBlob),o("attachment_token_salt_scope",h,m.ocmfClientStateBlob),o("attachment_key_salt_scope",JSON.stringify([n,f]),m.ocmfClientStateBlob),o("attachment_token_salt_scope",JSON.stringify([h,f]),m.ocmfClientStateBlob),o("thread_id_scope",a,m.ocmfClientStateBlob),p(m.mailboxRootKeyBlob,l,a)]));var t=m[0],u=m[1],v=m[2],w=m[3],x=m[4],y=m[5],z=m[6];m=m[7];return m==null?null:{access_token_secret:e,attachment_index_key:c("EBBase64Encode")(t),backup_ent_fbid:-8,backup_id:n,delivery_object_id:f,device_id:q,isOpenEB:0,mailbox_partial_id:c("EBBase64Encode")(u),media_type:g,message_partial_id:c("EBBase64Encode")(v),primary_key_secret:j,product_type:k,raw_identifiers:{otid:h,server_thread_key:null,timestamp:l.toString()},raw_tokens:{mailbox_root_key:r,ocmf_client_state_blob:s},salt_partial_access_token:c("EBBase64Encode")(y),salt_partial_attachment_index_key:c("EBBase64Encode")(x),salt_partial_id:c("EBBase64Encode")(w),sort_key:m,thread_id:a,thread_partial_id:c("EBBase64Encode")(z)}});return n.apply(this,arguments)}function o(a,b,e){return c("Hmac_v2")(d("WAArrayBufferUtils").stringToArrayBuffer(a),d("WAArrayBufferUtils").stringToArrayBuffer(b)).then(function(a){return c("OcmfClientMap")(e,a[0])})}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e=new TextEncoder().encode(j+"_"+e).buffer;e=(yield d("CreateDerivedKeys").CreateDerivedKeys(e,void 0,a,[(h||(h=d("I64"))).of_int32(32)]))[0];if(e==null)return null;a=(yield d("GetBlobFromInt64BE").GetBlobFromInt64BE(h.of_float(b)));b=(yield d("TruncateSortKey").TruncateSortKey(a[0]));a=(yield d("OpeEncrypt").OpeEncrypt(c("LSVec").toArray(e)[0],b[0],h.of_int32(16)));e=Array.from(new Uint8Array(a[0]));b=e.map(function(a){return a.toString(16).padStart(2,"0")});return b.join("").toUpperCase()});return q.apply(this,arguments)}g.createStringifiedMediaRestorePayloadFromEBDB=a}),98);
__d("EBGetContactEpochHead",["EBMinosSecureMailboxKeysForContact","Promise","WAResultOrError","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.rawContactId;if(a==null)return(h||(h=b("Promise"))).reject(d("WAResultOrError").makeError("invalid-arguments"));a=(yield d("EBMinosSecureMailboxKeysForContact").getSecureMailboxKeysForContact(a));return a==null?d("WAResultOrError").makeResult():d("WAResultOrError").makeResult({epochHead:a.epoch_head,epochHeadCreationTime:a.epoch_head_creation_time})});return i.apply(this,arguments)}g.getContactEpochHead=a}),98);
__d("EBGetMessageKeys",["EBMinosDBDev","FBLogger","Promise","WAResultOrError","WebMps","asyncToGeneratorRuntime","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("EBMinosDBDev").getEBMinosDevDb());c=(yield c.runInTransaction(["secure_minos_message_epoch_heads"],"readonly",function(c){return c.stores.secure_minos_message_epoch_heads.readIndex("[thread_id+message_id]",[a,b])},"LoadNewMinosMessageEpochHead"));return c.length===0?null:{epochHead:c[0].epoch_head}});return function(b,c){return a.apply(this,arguments)}}();function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.messageId,f=a.threadId;try{if(e==null||f==null)return d("WAResultOrError").makeError("invalid-arguments");a=(yield d("WebMps").mps().loadMessage({config:{shouldFetchSupplementals:!0,strategy:"local-only"},debug:{purpose:"get-message-keys"},messageId:e,threadId:f}));e=(yield j(f,e));if(e==null)return d("WAResultOrError").makeError("no-epoch-head-found");if(a.success===!1)return d("WAResultOrError").makeError(a.error);a=a.value;if(a==null)return d("WAResultOrError").makeError("no-message");var g=new Map();yield (i||(i=b("Promise"))).all(Array.from(a.supplementalProtobufs).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0];a=a[1];var c=(yield j(f,a.messageId));if(c==null)return d("WAResultOrError").makeError("no-epoch-head-found");g.set(b,babelHelpers["extends"]({},a,{senderEpochHead:c.epochHead}))});return function(b){return a.apply(this,arguments)}}()));e=babelHelpers["extends"]({},a.toplevelProtobuf,{senderEpochHead:e.epochHead});return d("WAResultOrError").makeResult(babelHelpers["extends"]({},a,{supplementalProtobufs:g,toplevelProtobuf:e}))}catch(a){c("FBLogger")("wmi_minos").catching(c("getErrorSafe")(a)).MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Runtime error in EBGetMessageKeys"])));throw a}});return k.apply(this,arguments)}g.getMessageKeys=a}),98);
__d("EBMinosWasmDeriveAttachmentTokenPrimaryKey",["EBMinosWasmDeriveAttachmentAccessTokenSecret","EBMinosWasmDeriveAttachmentPrimaryKeySecret","WAResultOrError","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("EBMinosWasmDeriveAttachmentPrimaryKeySecret").deriveAttachmentPrimaryKeySecret({mediaKey:a}));if(!b.success)return d("WAResultOrError").makeError("derive-primary-key-secret-error");a=(yield d("EBMinosWasmDeriveAttachmentAccessTokenSecret").deriveAttachmentAccessTokenSecret({mediaKey:a}));return!a.success?d("WAResultOrError").makeError("derive-access-token-secret-error"):d("WAResultOrError").makeResult({accessToken:a.value,primaryKey:b.value})});return h.apply(this,arguments)}g.deriveAttachmentTokenPrimaryKeySecret=a}),98);
__d("LSCreateResignCDNUrlPayload",["LSArrayGetObjectAt","LSBase64Encode.nop","LSBinaryToHex.nop","LSCreateDerivedKeys.nop","LSFindBackup","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return a[10]?c.sequence([function(e){return c.blobs.neq(a[11],void 0)?c.sequence([function(e){return c.i64.neq(a[8],void 0)?c.sequence([function(e){return a[9]!==void 0?c.sequence([function(e){return c.blobs.neq(a[12],void 0)?c.sequence([function(e){return d[10]=c.createArray(),d[19]=(d[10].push(a[9]),d[10]),d[19]=(d[10].push(a[1]),d[10]),d[11]=c.toJSON(d[10]),d[12]=c.createArray(),d[19]=(d[12].push(c.i64.cast([0,32])),d[12]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[13]=a[0],a})},function(e){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[13],void 0,a[12],d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!1:d[15]=!0,d[15]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[20]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[20]].join("")),d[19]=c.createArray(),void 0!==void 0?d[21]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[20],d[19],c.i64.cast([0,3]))},function(a){return d[16]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],c.i64.cast([0,0])).then(function(a){return a=a,d[19]=a[0],d[20]=a[1],a})},function(a){return d[16]=d[19]}])},function(e){return c.blobs.neq(d[16],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[19]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[16],d[20],c.i64.cast([0,16])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[21]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[11]).then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[23]).then(function(a){return a=a,d[24]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[24]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[25]).then(function(a){return a=a,d[26]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[9]).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[27]).then(function(a){return a=a,d[28]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[28]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[29]).then(function(a){return a=a,d[30]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[32]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[37]).then(function(a){return a=a,d[38]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[39]).then(function(a){return a=a,d[40]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(e){return d[43]=new c.Map(),d[43].set("attachment_index_key",d[26]==null?"":d[26]),d[43].set("backup_ent_fbid",a[0]),d[43].set("delivery_object_id",a[1]),d[43].set("device_id",a[8]),d[43].set("mailbox_partial_id",d[30]==null?"":d[30]),d[43].set("media_type",a[3]),d[43].set("message_partial_id",d[34]==null?"":d[34]),d[43].set("product_type",a[2]),d[43].set("salt_partial_id",d[38]==null?"":d[38]),d[43].set("sort_key",d[22]==null?"":d[22]),d[43].set("thread_partial_id",d[42]==null?"":d[42]),d[43].set("isOpenEB",a[10]===!0),d[44]=new c.Map(),d[44].set("otid",a[4]),d[44].set("server_thread_key",a[7]),d[44].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),a[11]).then(function(a){return a=a,d[45]=a[0],a})},function(e){return c.nativeOperation(b("LSBase64Encode.nop"),a[12]).then(function(a){return a=a,d[46]=a[0],a})},function(e){return d[47]=new c.Map(),d[47].set("ocmf_client_state_blob",d[45]==null?"":d[45]),d[47].set("mailbox_root_key",d[46]==null?"":d[46]),d[48]=c.createArray(),d[60]=(d[48].push(a[4]),d[48]),d[60]=(d[48].push(a[1]),d[48]),d[49]=c.toJSON(d[48]),d[43].set("raw_identifiers",d[44]),d[43].set("backup_id",a[9]),d[43].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[43].set("salt_partial_access_token",d[53]==null?"":d[53]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[11]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(b){return d[43].set("salt_partial_attachment_index_key",d[57]==null?"":d[57]),d[43].set("raw_tokens",d[47]),a[13]!==void 0?d[43].set("access_token_secret",a[13]):0,a[14]!==void 0?d[43].set("primary_key_secret",a[14]):0,d[58]=c.toJSON(d[43]),d[59]=new c.Map(),d[59].set("payload",d[58]),b=[d[59],void 0],d[17]=b[0],d[18]=b[1]}]):c.resolve((d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,25])),d[19].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[19].set("error_message","OPE key is null for IssueAttachmentRestoreTask"),e=[void 0,d[19]],d[17]=e[0],d[18]=e[1]))},function(a){return a=[d[17],d[18]],d[8]=a[0],d[9]=a[1],a}]):c.resolve((d[10]=new c.Map(),d[10].set("error_code",c.i64.cast([0,20])),d[10].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[10].set("error_message","Missing mailbox_root_key for IssueAttachmentRestoreTask"),e=[void 0,d[10]],d[8]=e[0],d[9]=e[1]))},function(a){return a=[d[8],d[9]],d[6]=a[0],d[7]=a[1],a}]):c.resolve((d[8]=new c.Map(),d[8].set("error_code",c.i64.cast([0,1])),d[8].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[8].set("error_message","Missing backup_id for IssueAttachmentRestoreTask"),e=[void 0,d[8]],d[6]=e[0],d[7]=e[1]))},function(a){return a=[d[6],d[7]],d[4]=a[0],d[5]=a[1],a}]):c.resolve((d[6]=new c.Map(),d[6].set("error_code",c.i64.cast([0,24])),d[6].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[6].set("error_message","Missing device_id for IssueAttachmentRestoreTask"),e=[void 0,d[6]],d[4]=e[0],d[5]=e[1]))},function(a){return a=[d[4],d[5]],d[2]=a[0],d[3]=a[1],a}]):c.resolve((d[4]=new c.Map(),d[4].set("error_code",c.i64.cast([0,22])),d[4].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[4].set("error_message","Missing ocmf_client_state_blob for IssueAttachmentRestoreTask"),e=[void 0,d[4]],d[2]=e[0],d[3]=e[1]))},function(a){return a=[d[2],d[3]],d[0]=a[0],d[1]=a[1],a}]):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],d[9]=f[7],d[10]=f[8],d[11]=f[9],d[12]=f[10],d[13]=f[11],d[14]=f[12],d[15]=f[13],d[16]=f[14],d[17]=f[15],d[18]=f[16],d[19]=f[17],f):(e=a.item,c.sequence([function(a){return d[29]=e.backupTenancy,d[28]=e.encryptionVersion,d[24]=void 0,c.i64.neq(d[24],void 0)?c.resolve(d[25]=d[24]):c.sequence([function(a){return d[30]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[31]?d[40]=(d[30].push(c.i64.cast([0,0])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[40]=(d[30].push(c.i64.cast([0,2])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[33]?d[40]=(d[30].push(c.i64.cast([0,3])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[40]=(d[30].push(c.i64.cast([0,4])),d[30]):0,d[35]=c.createArray(),d[36]=c.i64.of_int32(d[30].length),c.i64.gt(d[36],c.i64.cast([0,0]))?c.loopAsync(d[36],function(a){return d[40]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[30],d[40]).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return d[43]=(d[35].push(d[41]),d[35])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[40]=c.createArray(),d[41]=c.i64.of_int32(d[35].length),c.i64.gt(d[41],c.i64.cast([0,0]))?c.loopAsync(d[41],function(a){return d[43]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[35],d[43]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],a})},function(a){return d[46]=(d[40].push(c.i64.to_string(d[44])),d[40])}])}):c.resolve()},function(a){return d[42]=d[40].join(","),d[37]=d[42]}])},function(a){return d[35].some(function(a){return c.i64.eq(d[28],a)})?d[38]=d[28]:d[38]=void 0,c.i64.neq(d[38],void 0)?d[39]=d[38]:d[39]=void 0,d[25]=d[39]}])},function(a){return c.i64.neq(d[25],void 0)?d[26]=d[25]:d[26]=c.i64.cast([0,0]),c.i64.neq(d[29],void 0)?d[27]=d[29]:d[27]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[26],d[27],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],d[9]=a[7],d[10]=a[8],d[11]=a[9],d[12]=a[10],d[13]=a[11],d[14]=a[12],d[15]=a[13],d[16]=a[14],d[17]=a[15],d[18]=a[16],d[19]=a[17]}]))})},function(a){return c.storedProcedure(b("LSFindBackup")).then(function(a){return a=a,d[21]=a[0],a})},function(e){return c.blobs.neq(d[5],void 0)?c.sequence([function(e){return c.i64.neq(d[3],void 0)?c.sequence([function(e){return d[21]!==void 0?c.sequence([function(e){return c.blobs.neq(d[4],void 0)?c.sequence([function(e){return d[30]=c.createArray(),d[39]=(d[30].push(d[21]),d[30]),d[39]=(d[30].push(a[1]),d[30]),d[31]=c.toJSON(d[30]),d[32]=c.createArray(),d[39]=(d[32].push(c.i64.cast([0,32])),d[32]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[33],void 0,d[4],d[32]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[35]=!1:d[35]=!0,d[35]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[40]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[40]].join("")),d[39]=c.createArray(),void 0!==void 0?d[41]=(d[39].push(void 0),d[39]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[40],d[39],c.i64.cast([0,3]))},function(a){return d[36]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[34],c.i64.cast([0,0])).then(function(a){return a=a,d[39]=a[0],d[40]=a[1],a})},function(a){return d[36]=d[39]}])},function(e){return c.blobs.neq(d[36],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[39]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[36],d[40],c.i64.cast([0,16])).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[31]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[43]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[44]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[21]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[47]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[57]).then(function(a){return a=a,d[58]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[59]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[60]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[61]).then(function(a){return a=a,d[62]=a[0],a})},function(e){return d[63]=new c.Map(),d[63].set("attachment_index_key",d[46]==null?"":d[46]),d[63].set("backup_ent_fbid",a[0]),d[63].set("delivery_object_id",a[1]),d[63].set("device_id",d[3]),d[63].set("mailbox_partial_id",d[50]==null?"":d[50]),d[63].set("media_type",a[3]),d[63].set("message_partial_id",d[54]==null?"":d[54]),d[63].set("product_type",a[2]),d[63].set("salt_partial_id",d[58]==null?"":d[58]),d[63].set("sort_key",d[42]==null?"":d[42]),d[63].set("thread_partial_id",d[62]==null?"":d[62]),d[63].set("isOpenEB",a[10]===!0),d[64]=new c.Map(),d[64].set("otid",a[4]),d[64].set("server_thread_key",a[7]),d[64].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[65]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[4]).then(function(a){return a=a,d[66]=a[0],a})},function(e){return d[67]=new c.Map(),d[67].set("ocmf_client_state_blob",d[65]==null?"":d[65]),d[67].set("mailbox_root_key",d[66]==null?"":d[66]),d[68]=c.createArray(),d[80]=(d[68].push(a[4]),d[68]),d[80]=(d[68].push(a[1]),d[68]),d[69]=c.toJSON(d[68]),d[63].set("raw_identifiers",d[64]),d[63].set("backup_id",d[21]),d[63].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[69]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[70]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[71]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[72]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return d[63].set("salt_partial_access_token",d[73]==null?"":d[73]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[31]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[74]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[75]).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[76]).then(function(a){return a=a,d[77]=a[0],a})},function(b){return d[63].set("salt_partial_attachment_index_key",d[77]==null?"":d[77]),d[63].set("raw_tokens",d[67]),a[13]!==void 0?d[63].set("access_token_secret",a[13]):0,a[14]!==void 0?d[63].set("primary_key_secret",a[14]):0,d[78]=c.toJSON(d[63]),d[79]=new c.Map(),d[79].set("payload",d[78]),b=[d[79],void 0],d[37]=b[0],d[38]=b[1]}]):c.resolve((d[39]=new c.Map(),d[39].set("error_code",c.i64.cast([0,25])),d[39].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[39].set("error_message","OPE key is null for IssueAttachmentRestoreTask"),e=[void 0,d[39]],d[37]=e[0],d[38]=e[1]))},function(a){return a=[d[37],d[38]],d[28]=a[0],d[29]=a[1],a}]):c.resolve((d[30]=new c.Map(),d[30].set("error_code",c.i64.cast([0,20])),d[30].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[30].set("error_message","Missing mailbox_root_key for IssueAttachmentRestoreTask"),e=[void 0,d[30]],d[28]=e[0],d[29]=e[1]))},function(a){return a=[d[28],d[29]],d[26]=a[0],d[27]=a[1],a}]):c.resolve((d[28]=new c.Map(),d[28].set("error_code",c.i64.cast([0,1])),d[28].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[28].set("error_message","Missing backup_id for IssueAttachmentRestoreTask"),e=[void 0,d[28]],d[26]=e[0],d[27]=e[1]))},function(a){return a=[d[26],d[27]],d[24]=a[0],d[25]=a[1],a}]):c.resolve((d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,24])),d[26].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[26].set("error_message","Missing device_id for IssueAttachmentRestoreTask"),e=[void 0,d[26]],d[24]=e[0],d[25]=e[1]))},function(a){return a=[d[24],d[25]],d[22]=a[0],d[23]=a[1],a}]):c.resolve((d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,22])),d[24].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[24].set("error_message","Missing ocmf_client_state_blob for IssueAttachmentRestoreTask"),e=[void 0,d[24]],d[22]=e[0],d[23]=e[1]))},function(a){return a=[d[22],d[23]],d[0]=a[0],d[1]=a[1],a}])},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSCreateResignCDNUrlPayloadStoredProcedure",["LSCreateResignCDNUrlPayload","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateResignCDNUrlPayload"),e.backupEntFbid,e.deliveryObjectId,e.productType,e.mediaType,e.messageId,e.threadId,e.sortOrder,e.serverThreadKey,e.deviceId,e.backupId,e.isOpenEb,e.ocmfClientState,e.mailboxRootKey,e.accessTokenSecret,e.primaryKeySecret);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("EBLSResignCdnUrl",["Base64Utils","EBCreateResignCDNUrlPayload","EBEnqueueResignCdnUrlRequests","EBLS","EBMinosWasmDeriveAttachmentTokenPrimaryKey","FBLogger","I64","LSCreateResignCDNUrlPayloadStoredProcedure","LSFactory","LSShape","MAWConfig","Promise","WAJids","WAResultOrError","asyncToGeneratorRuntime","getErrorSafe","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=function(){return c("FBLogger")("wmi").tags(["labyrinth_web","resign_cdn_url"])},w="-8",x=(u||(u=d("I64"))).of_string(w);function a(a){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.chatJid,g=a.deliveryObjectId,o=a.externalId,p=a.mediaDownloadFlow,q=a.mediaKey,r=a.mediaType;a=a.sortOrderMs;v().INFO(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL"])));p==null||p.addPoint("resign_cdn_url_gql_ebls_start");var s=(yield d("EBLS").init()).db;p==null||p.addPoint("resign_cdn_url_gql_ebls_end");var w=null,y=null;if(c("qex")._("208")===!0){q=(yield d("EBMinosWasmDeriveAttachmentTokenPrimaryKey").deriveAttachmentTokenPrimaryKeySecret(q));!q.success?v().WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["",""])),q.error):(w=d("Base64Utils").fromArrayBuffer(q.value.accessToken),y=d("Base64Utils").fromArrayBuffer(q.value.primaryKey))}var z={accessTokenSecret:w,backupEntFbid:x,deliveryObjectId:g,mediaType:r,messageId:o,primaryKeySecret:y,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrder:(u||(u=d("I64"))).of_float(a),threadId:d("WAJids").threadIdForChatJid(e)};p==null||p.addPoint("resign_cdn_url_gql_payload_start");q=[s.runInTransaction(function(a){return c("LSCreateResignCDNUrlPayloadStoredProcedure")(c("LSFactory")(a),z)},"readwrite",void 0,void 0,f.id+":99").then(function(a){var b=a[0];a=a[1];if(b!=null)return d("LSShape").toRecord(b);b=a==null?{}:d("LSShape").toRecord(a);v().MUSTFIX(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Failed to create payload. stored procedure: ",", error code: ",", error message: ",""])),b.stored_procedure,b.error_code,b.error_message);return null})["catch"](function(a){a=c("getErrorSafe")(a);p==null||p.addPoint("resign_cdn_url_gql_lsdb_payload_fail");v().catching(a).MUSTFIX(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Failed to create lsdb payload"])));return null}),d("EBCreateResignCDNUrlPayload").createStringifiedMediaRestorePayloadFromEBDB({accessTokenSecret:w,deliveryObjectId:g,mediaType:r,messageId:o,primaryKeySecret:y,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrderMs:a,threadId:d("WAJids").threadIdForChatJid(e)}).then(function(a){if(a!=null)return{payload:a};p==null||p.addPoint("resign_cdn_url_gql_ebdb_payload_fail");return null})["catch"](function(a){a=c("getErrorSafe")(a);v().catching(a).MUSTFIX(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Failed to create ebdb payload"])));p==null||p.addPoint("resign_cdn_url_gql_ebdb_payload_fail",{string:{payload_fail_error:a.message}});return null})];s=(yield (t||(t=b("Promise"))).all(q));w=s[0];r=s[1];o=w!=null?w:r;w==null&&r!=null&&(p==null||p.addPoint("resign_cdn_url_fallback_to_ebdb"));if(o==null){p==null||p.addPoint("resign_cdn_url_gql_payload_fail");return d("WAResultOrError").makeError("create-payload-failed")}p==null||p.addPoint("resign_cdn_url_gql_payload_end");p==null||p.addPoint("resign_cdn_url_gql_restore_start");y=(yield d("EBEnqueueResignCdnUrlRequests").enqueueResignCdnUrl(g,o,p));if(!y.success){v().MUSTFIX(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),y.error);p==null||p.addPoint("resign_cdn_url_gql_restore_fail");return y}p==null||p.addPoint("resign_cdn_url_gql_restore_end");v().INFO(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL succeeded"])));return d("WAResultOrError").makeResult(y.value)});return y.apply(this,arguments)}function z(a,b){var c=[];for(var d in a)a[d]instanceof Object?!(b[d]instanceof Object)?c.push(d):c.push.apply(c,z(a[d],b[d])):a[d]!==b[d]&&c.push(d);return c}function e(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chatJid,e=a.deliveryObjectId,g=a.externalId,h=a.mediaDownloadFlow,i=a.mediaKey,j=a.mediaType,k=a.sortOrderMs;v().INFO(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBDB GraphQL"])));var l=null,m=null;if(c("qex")._("208")===!0){a=(yield d("EBMinosWasmDeriveAttachmentTokenPrimaryKey").deriveAttachmentTokenPrimaryKeySecret(i));!a.success?v().WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["",""])),a.error):(l=d("Base64Utils").fromArrayBuffer(a.value.accessToken),m=d("Base64Utils").fromArrayBuffer(a.value.primaryKey))}h==null||h.addPoint("resign_cdn_url_gql_payload_start");i=(yield d("EBCreateResignCDNUrlPayload").createStringifiedMediaRestorePayloadFromEBDB({accessTokenSecret:l,deliveryObjectId:e,mediaType:j,messageId:g,primaryKeySecret:m,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrderMs:k,threadId:d("WAJids").threadIdForChatJid(b)}).then(function(a){return a!=null?{payload:a}:null})["catch"](function(a){a=c("getErrorSafe")(a);v().catching(a).MUSTFIX(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Failed to create ebdb payload"])));h==null||h.addAnnotations({string:{payload_fail_error:a.message}});return null}));if(i==null){h==null||h.addPoint("resign_cdn_url_gql_payload_fail");return d("WAResultOrError").makeError("create-payload-failed")}h==null||h.addPoint("resign_cdn_url_gql_payload_end");h==null||h.addPoint("resign_cdn_url_gql_restore_start");a=(yield d("EBEnqueueResignCdnUrlRequests").enqueueResignCdnUrl(e,i,h));if(!a.success){v().MUSTFIX(r||(r=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBDB GraphQL failed: ",""])),a.error);h==null||h.addPoint("resign_cdn_url_gql_restore_fail");var n=(yield d("EBLS").init()).db;n=(yield n.runInTransaction(function(a){return c("LSCreateResignCDNUrlPayloadStoredProcedure")(c("LSFactory")(a),{accessTokenSecret:l,backupEntFbid:x,deliveryObjectId:e,mediaType:j,messageId:g,primaryKeySecret:m,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrder:(u||(u=d("I64"))).of_float(k),threadId:d("WAJids").threadIdForChatJid(b)})},"readwrite",void 0,void 0,f.id+":283"))[0];if(n!=null){n=JSON.parse(d("LSShape").toRecord(n).payload);i=JSON.parse(i.payload);var t=z(n,i),w=z(i,n);h==null||h.addAnnotations({bool:{string_payload_mismatch:JSON.stringify(n,Object.keys(n).sort())!==JSON.stringify(i,Object.keys(i).sort())},string:{ebdb_mismatches:w.join(","),mismatches:t.join(",")}})}return a}h==null||h.addPoint("resign_cdn_url_gql_restore_end");v().INFO(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBDB GraphQL succeeded"])));return d("WAResultOrError").makeResult(a.value)});return A.apply(this,arguments)}g.DEPRECATED_eblsResignCdnUrlWithGraphQL=a;g.getPayloadMismatches=z;g.ebdbResignCdnUrlWithGraphQL=e}),98);
__d("EBMessageRangeQueryForIndexing",["EBAPIQPLPoints","EBAPISharedUtils","EBAPIWorkerCheck","EBMessageRangeQueryForThreads","I64","LSDatabaseSingleton","LSMEBTaskCreationSource","LSVec","MAWEncryptedBackupUtils","MAWJobDefinitions","Promise","QPLUserFlow","WAHashStringToNumber","WAResultOrError","WATagsLogger","asyncToGeneratorRuntime","ifRequireable","qpl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=d("WATagsLogger").TAGS(["labyrinth_web","EBMessageRangeQueryForIndexing"]);function n(a,b,e){var f=d("MAWEncryptedBackupUtils").convertLSTypesToJSTypesForRestoreJob(a.protobuf),g=c("LSVec").toArray(a.echo).map(function(a){return d("MAWJobDefinitions").toEncodedEchoMessage(a)});return{echoMessages:g,hasMoreAfter:a.messageRangeInfo.has_more_before,hasMoreBefore:a.messageRangeInfo.has_more_after,isPointQuery:!1,mpsMessageQuery:void 0,nextMessageTimestampMsAfter:(l||(l=d("I64"))).of_string(a.messageRangeInfo.next_message_timestamp_ms_after),nextMessageTimestampMsBefore:l.of_string(a.messageRangeInfo.next_message_timestamp_ms_before),protobufMessages:f,referenceTimestamp:a.args.from[0],requestId:e,taskSource:b}}function a(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e,f=a.traceId!=null?a.traceId:c("uuidv4")(),g=d("WAHashStringToNumber").hashStringToNumber(f);e=(e=a.source)!=null?e:c("LSMEBTaskCreationSource").UNKNOWN;var l=c("qpl")._(521476367,"2704");c("QPLUserFlow").start(l,{annotations:{bool:{mainThreadRestore:!1,rangeQueryForIndexing:!0,workerThreadRestore:!0},"int":{source:e}},instanceKey:g});var o=a.chatJid;if(o==null){c("QPLUserFlow").endFailure(l,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_CHAT_JID,{instanceKey:g});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError("null-chat-jid")}try{var p;if(d("EBAPIWorkerCheck").runningInWorker()){var q=new(j||(j=b("Promise")))(function(a,b){return c("ifRequireable")("EBLS",function(b){b=b.getLSStorage;return a(b())},function(){return a(null)})});q=(yield q);if(q==null){m.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Calling EBLS without EBLS being available for message range query"])));c("QPLUserFlow").endFailure(l,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.EBLS_NOT_INITIALIZED,{instanceKey:g});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError("ebls-not-initialized")}}else q=(yield (k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton);p=(p=a.sortOrderMs)!=null?p:""+(Date.now()+6e4);a=(yield d("EBMessageRangeQueryForThreads").messageRangeQueryForThreads({instanceKey:f,qplEventObject:l,restoreType:"range",source:(a=a.source)!=null?a:c("LSMEBTaskCreationSource").UNKNOWN,storage:q,threads:[{chatJid:o,direction:"before",from:[p,void 0]}]}));if(a.length>0&&a[0].success){q=a[0].value;o=n(q,e,f);d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.success");return d("WAResultOrError").makeResult(o)}else{d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");p=a[0].error;return d("WAResultOrError").makeError(p!=null?p:"runtime-error")}}catch(a){m.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["graphQL range restore error ",""])),a);c("QPLUserFlow").endFailure(l,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,{error:a,instanceKey:g});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError("runtime-error")}});return o.apply(this,arguments)}g.messageRangeQueryForIndexing=a}),98);
__d("EBMinosWriteKeyChangeAdminMessage",["EBMinosTypes","FBLogger","MAWAdminWriteUserDeviceMsgTxn","MAWBridge","MAWDbAppMeta","MAWDbThreadTxns","MAWDexieTable","MAWExternalId","MAWIndexedDb","MAWTransactionMode","MpsTypes","Promise","WAArmadilloTransportEvent.pb","WABuildMpsPayload","WADbContact","WAGlobals","WAJids","WAStanzaUtils","WebMps","asyncToGeneratorRuntime","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return a.appMeta.get({key:d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlert}).then(function(a){return(a=a==null?void 0:a.value.allowSecurityAlert)!=null?a:!1})}function k(a,b){b=d("WAGlobals").getMyUserJid()===b;return!b&&a}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.deviceChangeType;b=b===void 0?d("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.REPLACED:b;var e=a.epochHeadCreationTime;a=a.userJid;try{var f=d("MAWExternalId").generateExternalId();e=d("WABuildMpsPayload").buildMpsDeviceChangeAdminMessage(a,e,d("WAStanzaUtils").toStanzaId(f),b);f={directive:null,insertionSource:d("MpsTypes").InsertionSource.Receive,message:e};yield d("WebMps").mps().saveNewMessages([f],{source:"eb-minos-device-change"});c("FBLogger")("wmi_minos").info("Sent device change transport event for user %s with type %s",a,String(b))}catch(b){e=c("getErrorSafe")(b);c("FBLogger")("wmi_minos").catching(e).mustfix("Failed to send device change transport event for user %s",a);throw e}});return m.apply(this,arguments)}function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.contactId,f=a.epochHeadCreationTime,g=d("EBMinosTypes").userFbidToUserJid(e);if(g==null){c("FBLogger")("wmi_minos").MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Invalid userJid generated in writeKeyChangeAdminMessage"])));return(i||(i=b("Promise"))).resolve()}a=(yield d("MAWIndexedDb").makeMsgrTransactor({participants:d("MAWTransactionMode").READONLY,threads:d("MAWTransactionMode").READONLY},"writeKeyChangeAdminMessage",function(a){return function(){return d("MAWDbThreadTxns").getAllThreadsForUsers(a,[g])}})());e=a.get(g);var m=(yield d("MAWBridge").getBridge().sendAndReceive("event","getLSDBUsersRelationships",{users:[g]}));if(e==null||(e==null?void 0:e.length)===0)return(i||(i=b("Promise"))).resolve();var n=e.filter(function(a){a=d("WAJids").switchOnMsgrChatJidType(a.jid,{group:function(){return"group"},user:function(){return"one_to_one"}});return a==="one_to_one"});a=(yield (i||(i=b("Promise"))).all([l({deviceChangeType:d("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.REPLACED,epochHeadCreationTime:f,userJid:g}),d("MAWIndexedDb").makeMsgrTransactor({appMeta:d("MAWTransactionMode").READONLY,ftsBackloggedMessages:d("MAWTransactionMode").READWRITE,groupInfo:d("MAWTransactionMode").READONLY,messages:d("MAWTransactionMode").READWRITE,threads:d("MAWTransactionMode").READWRITE},"writeKeyChangeAdminMessage",function(a){return function(){return d("MAWDexieTable").dexieAll(n.map(function(b){return j(a).then(function(c){k(c,g)&&m.get(g)===d("WADbContact").TWO_WAY_CONTACT?d("MAWAdminWriteUserDeviceMsgTxn").writeUserDeviceAdminMsg(a,g,b,"update",f):d("MAWDexieTable").dexieResolve()})}))}})()]));e=a[1];return e});return n.apply(this,arguments)}g.saveDeviceChangeTransportEvent=l;g.writeMinosKeyChangeAdminMessage=a}),98);
__d("EBMinosWriteSecureStorageAlert",["EBMinosTypes","FBLogger","MAWDbAddDeviceChangeAlertsTxn","MAWDbDeviceChangeAlerts","MAWIndexedDb","MAWTransactionMode","MAWUnsafeCoerce","Promise","WAJids","WASignalOther"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=a.contactId,f=a.epochHead,g=a.epochHeadCreationTime,j=d("WAJids").validateDeviceJid(d("EBMinosTypes").userFbidToUserJid(d("EBMinosTypes").unsafeCastToUserFbId(e)));if(j==null){c("FBLogger")("wmi_minos").MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Invalid deviceJid generated in writeMinosSecureStorageAlert"])));return(i||(i=b("Promise"))).resolve()}return d("MAWIndexedDb").makeMsgrTransactor({deviceChangeAlerts:d("MAWTransactionMode").READWRITE},"writeMinosSecureStorageAlert",function(a){return function(){return d("MAWDbAddDeviceChangeAlertsTxn").addDeviceChangeAlertsTxn(a,{action:d("MAWDbDeviceChangeAlerts").KEY_CHANGE,deviceJid:j,epochHead:f,identity:d("MAWUnsafeCoerce").unsafeCoerce(d("WASignalOther").toBytes(f,32)),isArchived:!1,model:"secure_storage",platform:"Meta",ts:g})}})()}g.writeMinosSecureStorageAlert=a}),98);
__d("ReverbWriteFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5829");b=d("FalcoLoggerInternal").create("reverb_write_failure",a);e=b;g["default"]=e}),98);
__d("ReverbWriteSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5831");b=d("FalcoLoggerInternal").create("reverb_write_success",a);e=b;g["default"]=e}),98);
__d("WASmaxInAbPropsIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInAbPropsIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInAbPropsIQErrorFeatureNotImplementedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","feature-not-implemented");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",501);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorFeatureNotImplementedMixin=a}),98);
__d("WASmaxInAbPropsNoRetryErrors",["WAResultOrError","WASmaxInAbPropsIQErrorBadRequestMixin","WASmaxInAbPropsIQErrorFeatureNotImplementedMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInAbPropsIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInAbPropsIQErrorFeatureNotImplementedMixin").parseIQErrorFeatureNotImplementedMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorFeatureNotImplemented",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorFeatureNotImplemented"],[b,c])}g.parseNoRetryErrors=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry",["WAResultOrError","WASmaxInAbPropsIQErrorResponseMixin","WASmaxInAbPropsNoRetryErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInAbPropsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInAbPropsNoRetryErrors").parseNoRetryErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorNoRetryErrors:b.value}))}g.parseGetExperimentConfigResponseErrorNoRetry=a}),98);
__d("WASmaxInAbPropsIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseErrorRetry",["WAResultOrError","WASmaxInAbPropsIQErrorInternalServerErrorMixin","WASmaxInAbPropsIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInAbPropsIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(c.value);if(!c.success)return c;a=d("WASmaxInAbPropsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorInternalServerErrorMixin:c.value},a.value))}g.parseGetExperimentConfigResponseErrorRetry=a}),98);
__d("WASmaxInAbPropsExperimentConfigMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"config_code",1,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"config_value");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"config_expo_key",0,void 0);return!a.success?a:d("WAResultOrError").makeResult({configCode:b.value,configValue:c.value,configExpoKey:a.value})}g.parseExperimentConfigMixin=a}),98);
__d("WASmaxInAbPropsSamplingConfigMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"event_code",1,void 0);if(!b.success)return b;a=d("WASmaxParseUtils").attrIntRange(a,"sampling_weight",-1e4,1e4);return!a.success?a:d("WAResultOrError").makeResult({eventCode:b.value,samplingWeight:a.value})}g.parseSamplingConfigMixin=a}),98);
__d("WASmaxInAbPropsConfigs",["WAResultOrError","WASmaxInAbPropsExperimentConfigMixin","WASmaxInAbPropsSamplingConfigMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInAbPropsExperimentConfigMixin").parseExperimentConfigMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"ExperimentConfig",value:b.value});var c=d("WASmaxInAbPropsSamplingConfigMixin").parseSamplingConfigMixin(a);return c.success?d("WAResultOrError").makeResult({name:"SamplingConfig",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["ExperimentConfig","SamplingConfig"],[b,c])}g.parseConfigs=a}),98);
__d("WASmaxInAbPropsIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseSuccess",["WAResultOrError","WASmaxInAbPropsConfigs","WASmaxInAbPropsIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxInAbPropsConfigs").parseConfigs(a);return!b.success?b:d("WAResultOrError").makeResult({configs:b.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"erid");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytesRange(a,1,100);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"props");if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(a,"erid",i);if(!e.success)return e;var f=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,c.value,"protocol","1");if(!f.success)return f;var g=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,c.value,"ab_key");if(!g.success)return g;var j=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,c.value,"hash");if(!j.success)return j;var k=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,c.value,"refresh",0,void 0);if(!k.success)return k;var l=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,c.value,"refresh_id",0,void 0);if(!l.success)return l;a=d("WASmaxInAbPropsIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"prop",0,Infinity,h);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({propsProtocol:f.value,propsAbKey:g.value,propsHash:j.value,propsRefresh:k.value,propsRefreshId:l.value},a.value,{erid:e.value,propsProp:b.value}))}g.parseGetExperimentConfigResponseSuccessPropsProp=h;g.parseGetExperimentConfigResponseSuccessErid=i;g.parseGetExperimentConfigResponseSuccess=a}),98);
__d("WASmaxOutAbPropsBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutAbPropsGetExperimentConfigRequest",["WASmaxAttrs","WASmaxJsx","WASmaxOutAbPropsBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){a=a.propsHash;a=d("WASmaxOutAbPropsBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{xmlns:"abt",to:d("WAWap").S_WHATSAPP_NET},d("WASmaxJsx").smax("props",{protocol:"1",hash:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)})));return a}g.makeGetExperimentConfigRequest=a}),98);
__d("WASmaxAbPropsGetExperimentConfigRPC",["WAComms","WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry","WASmaxInAbPropsGetExperimentConfigResponseErrorRetry","WASmaxInAbPropsGetExperimentConfigResponseSuccess","WASmaxOutAbPropsGetExperimentConfigRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutAbPropsGetExperimentConfigRequest").makeGetExperimentConfigRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInAbPropsGetExperimentConfigResponseSuccess").parseGetExperimentConfigResponseSuccess(b,a);if(c.success)return{name:"GetExperimentConfigResponseSuccess",value:c.value};var e=d("WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry").parseGetExperimentConfigResponseErrorNoRetry(b,a);if(e.success)return{name:"GetExperimentConfigResponseErrorNoRetry",value:e.value};b=d("WASmaxInAbPropsGetExperimentConfigResponseErrorRetry").parseGetExperimentConfigResponseErrorRetry(b,a);if(b.success)return{name:"GetExperimentConfigResponseErrorRetry",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetExperimentConfig",{Success:c,ErrorNoRetry:e,ErrorRetry:b}))});return h.apply(this,arguments)}g.sendGetExperimentConfigRPC=a}),98);
__d("WAGetAbPropsProtocol",["WALogger","WAResultOrError","WASmaxAbPropsGetExperimentConfigRPC","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WASmaxAbPropsGetExperimentConfigRPC").sendGetExperimentConfigRPC({propsHash:a}));if(a.name==="GetExperimentConfigResponseSuccess"){var b=a.value,c=b.propsAbKey,e=b.propsHash,f=b.propsRefresh,g=b.propsRefreshId,i=b.propsProp;b=b.erid;i=j(i);var k=i.newProps;i=i.samplingConfigs;return d("WAResultOrError").makeResult({abKey:c,hash:e,refresh:f,refreshId:g,props:k,samplingConfigs:i,erid:b==null?void 0:b.elementValue})}d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["getAbPropsProtocol failed ",""])),a.value);return d("WAResultOrError").makeError()});return i.apply(this,arguments)}function j(a){var b=[],c=[];a.forEach(function(a){a=a.configs;if(a.name==="ExperimentConfig"){var d;b.push({configCode:a.value.configCode,configValue:a.value.configValue,configExpoKey:(d=a.value.configExpoKey)==null?void 0:d.toString()})}else a.name==="SamplingConfig"&&c.push({eventCode:a.value.eventCode,samplingWeight:a.value.samplingWeight})});return{newProps:b,samplingConfigs:c}}g.getAbPropsProtocol=a}),98);
__d("WAAbPropsSync",["WAAbProps","WAAbPropsHelpers","WAGetAbPropsProtocol","WALogger","WAPromiseManagement","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;c=d("WAPromiseManagement").cacheWhilePending(function(){return"abProps"},a);function a(a){var b=a.sendHash;b=b===void 0?!0:b;var c=a.eventFlow;c==null||c.addPoint("sync_ab_props",{bool:{sendHash:b}});return b==null||b===!1?l(null,c):d("WAAbProps").getHash().then(function(a){return l(a,c)})}e=a;function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b==null||b.addPoint("fetch_ab_props");a=(yield d("WAGetAbPropsProtocol").getAbPropsProtocol(a));if(!a.success)d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["fetchAbProps failed"])));else{a=a.value;var c=a.abKey,e=a.hash,f=a.refresh;a=a.props;a=d("WAAbPropsHelpers").parseAbProps(d("WAAbProps").getConfig(),a);b==null||b.addPoint("save_ab_props");b=(yield n(c,e,f,a));b.success===!1&&(b.error,d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncAbProps: detected no hash"]))))}c=(yield d("WAAbProps").getRefreshSecs());return{seconds:c}});return m.apply(this,arguments)}function n(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=(yield d("WAAbProps").getAbProps());a={abKey:a!=null?a:f.abKey,hash:b!=null?b:f.hash,refresh:d("WAAbPropsHelpers").maybeUpdateRefresh(c),lastSyncTime:d("WATimeUtils").unixTime(),propValues:f.propValues,propExpoKeys:f.propExpoKeys,internalExpoKeys:f.internalExpoKeys,expoKeyStr:f.expoKeyStr};if(b==null){yield d("WAAbProps").setAbProps(a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAAbProps.update: detected no hash"])));return d("WAResultOrError").makeError("noHash")}d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAAbProps.update: updating ab configs"])));c=e.values;b=e.expoKeys;e=d("WAAbPropsHelpers").maybeUpdatePropValues(c,f.propValues,d("WAAbProps").getConfig());c=d("WAAbPropsHelpers").maybeUpdateExpoKeys(b,f.propExpoKeys,d("WAAbProps").getConfig());b=c.propExpoKeys;c=c.expoKeysToDelete;var g,h;c=d("WAAbPropsHelpers").maybeUpdateInternalExpoKeys(c,f.internalExpoKeys);c!=null&&(g=c.internalExpoKeys,h=c.expoKeyStr);yield d("WAAbProps").setAbProps(babelHelpers["extends"]({},a,{propValues:e,propExpoKeys:b,internalExpoKeys:g,expoKeyStr:h}));return d("WAResultOrError").makeResult()});return o.apply(this,arguments)}g.syncAbProps=c;g.syncAbPropsDebug=e}),98);
__d("WACheckCiphertextInServer",["WAHttpResumeCheck","WAMediaUrl","WAResultOrError","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,e,f){return f.run(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,f){b=d("WAMediaUrl").buildUploadUrl(a,e,c,b.domain,f,!0);f=(yield d("WAHttpResumeCheck").httpResumeCheck(b));if(f.success)return d("WAResultOrError").makeResult(f);else{b=f.error;switch(b){case"server-timeout":case"unspecified-http-error":return d("WAResultOrError").makeError({progressMade:!0});default:return d("WAResultOrError").makeResult(d("WAResultOrError").makeError(b))}}});return function(a,b){return f.apply(this,arguments)}}()).then(function(a){return a!=null?a:d("WAResultOrError").makeError("max-attempts-exceeded")})}g.checkCiphertextInServer=a}),98);
__d("WAIsMediaKeyReusable",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=2*d("WATimeUtils").DAY_SECONDS;function a(a){var b=Math.floor(Math.random()*d("WATimeUtils").DAY_SECONDS);return a!=null&&d("WATimeUtils").happenedWithin(a,h+b)}g.MMS_MEDIA_KEY_TTL=h;g.isMediaKeyReusable=a}),98);
__d("WAFindReusableMediaEntry",["WAIsMediaKeyReusable","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=["fileEncSha256","mediaKey","mediaKeyTimestamp","uploadToken"];function a(a,b){if(a==null)return null;b=b.get(a);if(b==null)return null;a=d("WAMediaUtils").decodeMediaEntryData(b);b=a.fileEncSha256;var c=a.mediaKey,e=a.mediaKeyTimestamp,f=a.uploadToken;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return c!=null&&f!=null&&b!=null&&e!=null&&d("WAIsMediaKeyReusable").isMediaKeyReusable(e)?babelHelpers["extends"]({},a,{fileEncSha256:b,mediaKey:c,mediaKeyTimestamp:e,uploadToken:f}):null}g.findReusableMediaEntryForArmadillo=a}),98);
__d("WASmaxInDevicesFetchSelfResponseError",["WAResultOrError","WASmaxInDevicesIQErrorResponseMixin","WASmaxInDevicesRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInDevicesIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInDevicesRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup").parseRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup:b.value}))}g.parseFetchSelfResponseError=a}),98);
__d("WASmaxInDevicesDeviceInfoMixin",["WAResultOrError","WASmaxInDevicesIdentityKeyMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"platform");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"manufacturer");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"model");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function k(a){var b=d("WASmaxParseUtils").assertTag(a,"seen");if(!b.success)return b;b=d("WASmaxParseUtils").contentInt(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function l(a){var b=d("WASmaxParseUtils").assertTag(a,"creation");if(!b.success)return b;b=d("WASmaxParseUtils").contentInt(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function m(a){var b=d("WASmaxParseUtils").assertTag(a,"ip");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function n(a){var b=d("WASmaxParseUtils").assertTag(a,"location");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"latitude");if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"longitude");if(!c.success)return c;a=d("WASmaxParseUtils").contentString(a);return!a.success?a:d("WAResultOrError").makeResult({latitude:b.value,longitude:c.value,elementValue:a.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"device");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"platform",h);if(!b.success)return b;var c=d("WASmaxParseUtils").optionalChildWithTag(a,"manufacturer",i);if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(a,"model",j);if(!e.success)return e;var f=d("WASmaxParseUtils").optionalChildWithTag(a,"seen",k);if(!f.success)return f;var g=d("WASmaxParseUtils").optionalChildWithTag(a,"creation",l);if(!g.success)return g;var o=d("WASmaxParseUtils").optionalChildWithTag(a,"ip",m);if(!o.success)return o;var p=d("WASmaxParseUtils").optionalChildWithTag(a,"location",n);if(!p.success)return p;var q=d("WASmaxParseUtils").attrIntRange(a,"id",1,999);if(!q.success)return q;a=d("WASmaxInDevicesIdentityKeyMixin").parseIdentityKeyMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({id:q.value},a.value,{platform:b.value,manufacturer:c.value,model:e.value,seen:f.value,creation:g.value,ip:o.value,location:p.value}))}g.parseDeviceInfoPlatform=h;g.parseDeviceInfoManufacturer=i;g.parseDeviceInfoModel=j;g.parseDeviceInfoSeen=k;g.parseDeviceInfoCreation=l;g.parseDeviceInfoIp=m;g.parseDeviceInfoLocation=n;g.parseDeviceInfoMixin=a}),98);
__d("WASmaxInDevicesFetchSelfResponseSuccess",["WAResultOrError","WASmaxInDevicesDeviceInfoMixin","WASmaxInDevicesIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"device");if(!b.success)return b;b=d("WASmaxInDevicesDeviceInfoMixin").parseDeviceInfoMixin(a);return!b.success?b:b}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"self");if(!c.success)return c;a=d("WASmaxInDevicesIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"device",1,25,h);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{selfDevice:b.value}))}g.parseFetchSelfResponseSuccessSelfDevice=h;g.parseFetchSelfResponseSuccess=a}),98);
__d("WASmaxOutDevicesFetchSelfRequest",["WASmaxJsx","WASmaxOutDevicesBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(){var a=d("WASmaxOutDevicesBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"fbid:devices"},d("WASmaxJsx").smax("self",null)));return a}g.makeFetchSelfRequest=a}),98);
__d("WASmaxDevicesFetchSelfRPC",["WAComms","WASmaxInDevicesFetchSelfResponseError","WASmaxInDevicesFetchSelfResponseSuccess","WASmaxOutDevicesFetchSelfRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WASmaxOutDevicesFetchSelfRequest").makeFetchSelfRequest();a=(yield d("WAComms").sendSmaxStanza(b,a));var c=d("WASmaxInDevicesFetchSelfResponseSuccess").parseFetchSelfResponseSuccess(a,b);if(c.success)return{name:"FetchSelfResponseSuccess",value:c.value};a=d("WASmaxInDevicesFetchSelfResponseError").parseFetchSelfResponseError(a,b);if(a.success)return{name:"FetchSelfResponseError",value:a.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("FetchSelf",{Success:c,Error:a}))});return h.apply(this,arguments)}g.sendFetchSelfRPC=a}),98);
__d("WAGetCurrentUserDeviceList",["WAAssertUnreachable","WAGlobals","WAJids","WALogger","WAPersistedJobManager","WASignalKeys","WASmaxDevicesFetchSelfRPC","WATimeUtils","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){if(a.isCurrentDevice&&b.isCurrentDevice){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Two devices were detected as isCurrentDevice in getCurrentUserDeviceList"])));return 0}if(a.isCurrentDevice)return-1;if(b.isCurrentDevice)return 1;if(a.lastSeen!=null&&b.lastSeen==null)return-1;if(a.lastSeen==null&&b.lastSeen!=null)return 1;if(a.lastSeen!=null&&b.lastSeen!=null){a=a.lastSeen;b=b.lastSeen;return b.getTime()-a.getTime()}return 0}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WASmaxDevicesFetchSelfRPC").sendFetchSelfRPC());switch(a.name){case"FetchSelfResponseError":var b=a.value.errorRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup;switch(b.name){case"RetryableIQError":var e=b.value.backoff;if(e!=null)throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{delay:e,type:"constant"},jitter:0});else throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{first:d("WATimeUtils").HOUR_MILLISECONDS/60,type:"exponential"},jitter:.1});default:b.name;e=b.value.code;throw c("err")("Failed with an error code "+e)}case"FetchSelfResponseSuccess":var f=d("WAJids").extractDeviceId(d("WAGlobals").getMyDeviceJid());return a.value.selfDevice.map(function(a){var b=a.creation,c=a.elementValue,e=a.id,g=a.ip,h=a.location,i=a.manufacturer,j=a.model,k=a.platform;a=a.seen;return{creationTime:b==null?null:d("WATimeUtils").toDate(d("WATimeUtils").castToUnixTime(b.elementValue)),id:d("WAJids").interpretAsDeviceId(e),identityKey:d("WASignalKeys").serializeIdentity(c),ipAddress:(b=g==null?void 0:g.elementValue)!=null?b:null,isCurrentDevice:e===f,lastSeen:a==null?null:d("WATimeUtils").toDate(d("WATimeUtils").castToUnixTime(a.elementValue)),latitude:h==null?null:parseFloat(h.latitude),location:(c=h==null?void 0:h.elementValue)!=null?c:null,longitude:h==null?null:parseFloat(h.longitude),manufacturer:(g=i==null?void 0:i.elementValue)!=null?g:null,model:(b=j==null?void 0:j.elementValue)!=null?b:null,platform:(e=k==null?void 0:k.elementValue)!=null?e:null}}).sort(i);default:return c("WAAssertUnreachable")(a.name)}});return j.apply(this,arguments)}g.getCurrentUserDeviceList=a}),98);
__d("WASaveReceiptApi",["MAWTransactionMode","WADbTransactor","WAMsg"],(function(a,b,c,d,e,f,g){"use strict";a=d("WADbTransactor").makeSignalTransactor({receipts:d("MAWTransactionMode").READWRITE},"saveReceipt",function(a){return function(b){return a.receipts.put({msgId:b.id.externalId.toString(),permittedIdentitiesPerDevice:b.permittedIdentitiesPerDevice,recipientDevices:b.recipientDevices,waMsgId:d("WAMsg").craftWAMsgIdString(b.id)}).then(function(){})}});g.saveReceipt=a}),98);
__d("WAPublishMessage",["FBLogger","Promise","WAGenReportingMeta","WAGlobals","WAJids","WALoadReceiptApi","WALogger","WAMsg","WASaveReceiptApi","WASendMsgInternal","WASentBytesCache","WATimeUtils","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.identities;a=a.messagePayload;a={author:a.protocolMsgId.author,chat:a.protocolMsgId.chat,externalId:a.protocolMsgId.externalId};var e=(yield d("WALoadReceiptApi").loadReceipt(a));if(e.success)return e.value;e=new Map();for(c of c){c[0];var f=c[1];for(f of f){var g=f[0],h=f[1];if(g===d("WAGlobals").getMyDeviceJid())continue;e.set(g,{pubKey:h})}}g=new Set();h={permittedIdentitiesPerDevice:e,recipientDevices:g,id:a};b.addPoint("save_receipts_start");yield d("WASaveReceiptApi").saveReceipt(h);b.addPoint("save_receipts_end");return h});return l.apply(this,arguments)}function a(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=a.messagePayload,g=a.identities;a=a.sendIdentity;a=a===void 0?!1:a;e.addPoint("prepare_receipt_start");g=(yield k({messagePayload:f,identities:g},e));e.addPoint("prepare_receipt_end");e.addPoint("calculate_recipients_start");var i=f.frankingKey,l=f.frankingVersion,m=f.messageBytes,p=f.backupDirective,q=f.messageType;f=f.protocolMsgId;g=n(g.permittedIdentitiesPerDevice);g=q.type==="text"&&q.invitedParticipantUserJid!=null?g.filter(function(a){return a.user===q.invitedParticipantUserJid||a.user===d("WAGlobals").getMyUserJid()}):g;e.addPoint("calculate_recipients_end",{"int":{recipientsCount:g.length}});var r=q.type==="text"&&q.invitedParticipantUserJid!=null?q.invitedParticipantUserJid:f.chat,s=f.chat===d("WAGlobals").getMyUserJid();if(g.length===0&&!s)throw c("FBLogger")("wmi").mustfixThrow("Trying to send a message with no recipients");else if(g.length===0&&s)return{serverResponse:{type:"success",ts:d("WATimeUtils").unixTime(),phash:{type:"ok"},count:null,reportingMeta:null},encryption:{type:"user",messageTo:d("WAGlobals").getMyUserJid(),participants:[],phash:""}};s=a?yield d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return o(a)},{operationType:"get_my_device_identity",flush:!1,afterInit:!0}):null;a=(yield q.isRevoked===!0?(j||(j=b("Promise"))).resolve(null):d("WAGenReportingMeta").genReportingMeta(m.bytes,i,l));r=(yield d("WASendMsgInternal").sendMessageV2({type:"chat",messageBytes:m,chat:r,deviceIdentity:s,messageType:q,protocolMsgId:f,externalId:f.externalId,recipients:g,reportingMeta:a,backupDirective:p},e));s=r.serverResponse;s.type==="success"&&(yield d("WASentBytesCache").sentBytesCache().saveSentBytes({ts:s.ts,frankingKey:i,frankingVersion:l,messageBytes:m,backupDirective:p,messageType:q,protocolMsgId:f,waMsgId:d("WAMsg").craftWAMsgIdString({author:f.author,chat:f.chat,externalId:f.externalId})})["catch"](function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg failed to save sent bytes to cache: ",""])),a)}));return r});return m.apply(this,arguments)}function n(a){var b=new Map();a.forEach(function(a,c){a=a.pubKey;var e=d("WAJids").extractUserJid(c);a={identity:a,jid:c};c=b.get(e)||[];c.push(a);b.set(e,c)});return Array.from(b,function(a){var b=a[0];a=a[1];return{devicesInfo:a,user:b}})}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a=(yield a.storage.loadIdentities(d("WAGlobals").getMyUserJid()));a=a.get(d("WAGlobals").getMyDeviceJid());if(a!=null)return a;throw c("err")("missing-identity")}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Error loading current device identity ",""])),a)}});return p.apply(this,arguments)}g.publishMessage=a}),98);
__d("WASmaxInDevicesIQErrorBadRequestOrItemNotFoundMixinGroup",["WAResultOrError","WASmaxInDevicesIQErrorBadRequestMixin","WASmaxInDevicesIQErrorItemNotFoundMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInDevicesIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInDevicesIQErrorItemNotFoundMixin").parseIQErrorItemNotFoundMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorItemNotFound",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorItemNotFound"],[b,c])}g.parseIQErrorBadRequestOrItemNotFoundMixinGroup=a}),98);
__d("WASmaxInDevicesNonRetryableRemoveDeviceIQErrorMixin",["WAResultOrError","WASmaxInDevicesIQErrorBadRequestOrItemNotFoundMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxInDevicesIQErrorBadRequestOrItemNotFoundMixinGroup").parseIQErrorBadRequestOrItemNotFoundMixinGroup(a);return!b.success?b:d("WAResultOrError").makeResult({iQErrorBadRequestOrItemNotFoundMixinGroup:b.value})}g.parseNonRetryableRemoveDeviceIQErrorMixin=a}),98);
__d("WASmaxInDevicesRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup",["WAResultOrError","WASmaxInDevicesNonRetryableRemoveDeviceIQErrorMixin","WASmaxInDevicesRetryableIQErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInDevicesRetryableIQErrorMixin").parseRetryableIQErrorMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"RetryableIQError",value:b.value});var c=d("WASmaxInDevicesNonRetryableRemoveDeviceIQErrorMixin").parseNonRetryableRemoveDeviceIQErrorMixin(a);return c.success?d("WAResultOrError").makeResult({name:"NonRetryableRemoveDeviceIQError",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["RetryableIQError","NonRetryableRemoveDeviceIQError"],[b,c])}g.parseRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup=a}),98);
__d("WASmaxInDevicesRemoveResponseError",["WAResultOrError","WASmaxInDevicesIQErrorResponseMixin","WASmaxInDevicesRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInDevicesIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInDevicesRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup").parseRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup:b.value}))}g.parseRemoveResponseError=a}),98);
__d("WASmaxInDevicesRemoveResponseSuccess",["WASmaxInDevicesIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInDevicesIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!c.success?c:c}g.parseRemoveResponseSuccess=a}),98);
__d("WASmaxOutDevicesKeyDataMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.anyElementValue;a=d("WASmaxJsx").smax("smax$any",null,a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeKeyDataMixin=a}),98);
__d("WASmaxOutDevicesIdentityKeyMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutDevicesKeyDataMixin"],(function(a,b,c,d,e,f,g){function h(a){a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxOutDevicesKeyDataMixin").mergeKeyDataMixin(d("WASmaxJsx").smax("identity",null),a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIdentityKeyMixin=a}),98);
__d("WASmaxOutDevicesRemoveRequest",["WASmaxJsx","WASmaxOutDevicesBaseIQSetRequestMixin","WASmaxOutDevicesIdentityKeyMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b=a.removeId;a=a.identityKeyMixinArgs;b=d("WASmaxOutDevicesBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"fbid:devices"},d("WASmaxOutDevicesIdentityKeyMixin").mergeIdentityKeyMixin(d("WASmaxJsx").smax("remove",{id:d("WAWap").INT(b)}),a)));return b}g.makeRemoveRequest=a}),98);
__d("WASmaxDevicesRemoveRPC",["WAComms","WASmaxInDevicesRemoveResponseError","WASmaxInDevicesRemoveResponseSuccess","WASmaxOutDevicesRemoveRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutDevicesRemoveRequest").makeRemoveRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInDevicesRemoveResponseSuccess").parseRemoveResponseSuccess(b,a);if(c.success)return{name:"RemoveResponseSuccess",value:c.value};b=d("WASmaxInDevicesRemoveResponseError").parseRemoveResponseError(b,a);if(b.success)return{name:"RemoveResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("Remove",{Success:c,Error:b}))});return h.apply(this,arguments)}g.sendRemoveRPC=a}),98);
__d("WARemoveDevice",["WALogger","WAPersistedJobManager","WAPushSafeTypes","WAResultOrError","WASignalOther","WASmaxDevicesRemoveRPC","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WAPushSafeTypes").unsafeNotNullable(b);b=a.deviceId;a=a.identity;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["removeDevice called for device "," and identity ",""])),b,a);a=d("WASignalOther").sliceBytes(a,1,32);a=(yield d("WASmaxDevicesRemoveRPC").sendRemoveRPC({removeId:b,identityKeyMixinArgs:{anyElementValue:a}}));d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["removeDevice result for ",": "," "])),b,a);if(a.name==="RemoveResponseSuccess")return d("WAResultOrError").makeResult();else{a.name;b=a.value.errorRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup;if(b.name!=="RetryableIQError")return d("WAResultOrError").makeError();b.name;a=b.value.backoff;if(a!=null)throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{type:"constant",delay:a},jitter:0});else throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{type:"exponential",first:d("WATimeUtils").HOUR_MILLISECONDS/60},jitter:.1})}});return j.apply(this,arguments)}g.removeDevice=a}),98);
__d("WARemoveCurrentDevice",["WAGetCurrentUserDeviceInfoApi","WAGlobals","WALogger","WARemoveDevice","WAResultOrError","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["removeCurrentDevice called for current device"])));var b=(yield d("WAGetCurrentUserDeviceInfoApi").getCurrentUserDeviceInfo());if(b==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["There is no stored user info, it was already deleted or this job was called twice, possibly from another tab"])));return d("WAResultOrError").makeResult()}var c=b.deviceId;b=b.identityKey;a=(yield d("WARemoveDevice").removeDevice(a,{deviceId:c,identity:b}));if(a.success){yield d("WAGlobals").getDependencies().clearSignalAndTempStores();return d("WAResultOrError").makeResult()}return d("WAResultOrError").makeResult()});return function(b){return a.apply(this,arguments)}}();g.removeCurrentDevice=a}),98);
__d("WASendAppDataFanoutProtocol",["WAAsMessageApplication","WABridge","WAConvertAppData","WAEncUserMsg","WAErrorMessage","WAGetCurrentUserDeviceInfoApi","WAGlobals","WAMsgApplication.pb","WAOdsEnums","WAResultOrError","WASmaxAppdataPublishPeerRPC","WATagsLogger","WATimeUtils","asyncToGeneratorRuntime","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=d("WATagsLogger").TAGS(["sendAppDataFanout"]),p=24;function a(a,b){a=b.contents;var c=b.externalId,e=b.permittedIdentitiesPerDevice;b=b.checkPhash;b=b===void 0?"checkPhash":b;return q(a,c,e,b)["catch"](function(a){a=d("WAErrorMessage").maybeGetMessageFromError(a);o.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to send appdata to devices with error: ",""])),a);return d("WAResultOrError").makeError("runtime-error")})}function q(a,b,c,d){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){e===void 0&&(e="checkPhash");o.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Sending appdata, externalId: ",""])),b);a=d("WAConvertAppData").convertAppData(a);var f={bytes:d("WAAsMessageApplication").castToMessageApplicationBytes(d("encodeProtobuf").encodeProtobuf(d("WAMsgApplication.pb").MessageApplicationSpec,a).readByteArrayView()),version:"v3"},g=[];a=Array.from(c.entries()).map(function(a){var b=a[0];a=a[1];return{identity:a.pubKey,jid:b}});c=p;a.length>c&&(o.WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Attempting to send an appData stanza to "," devices"])),a.length),o.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Attempting to send an appData stanza to more than the allowed "," devices"])),c),a=a.slice(0,c));var h=[{devicesInfo:a,user:d("WAGlobals").getMyUserJid()}];c=(yield d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return d("WAEncUserMsg").encryptUserMsg(h,{messageBytes:f,type:"appdata"},{cryptoManager:a})},{operationType:"encrypt",flush:!0}));a=c.phash;var q=!1;c.participants!=null&&c.participants.forEach(function(a){a.type==="pkmsg"&&(q=!0),g.push({toJid:a.to,encTypeIndividualMixinArgs:{encType:a.type,encElementValue:a.ciphertext},encVersionFutureproofMixinArgs:{encV:parseInt(a.v,10)}})});c={appdataTo:d("WAGlobals").getMyUserJid(),toArgs:g};c={peerPeerFanout:c};var r=void 0;if(q){var s=(yield d("WAGetCurrentUserDeviceInfoApi").getCurrentUserDeviceInfo());s=s==null?void 0:s.identityKey;if(s==null){o.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Failed to fetch current device public identity key"])));return d("WAResultOrError").makeError("no-public-identity")}r={deviceIdentityElementValue:s}}s={appdataDeviceListCheck:e==="checkPhash"?"true":"false"};e={appdataId:b,peerMsgTypesArgs:c,deviceIdentityMixinArgs:r,withDeviceListCheckMixinArgs:s};b=(yield d("WASmaxAppdataPublishPeerRPC").sendPeerRPC(e));switch(b.name){case"PeerResponseSuccess":r=(c=b.value.deviceListStaleMixin)==null?void 0:c.phash;if(r!=null&&a!=null&&r!==a){o.LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Got phash mismatch on appdata, local[","] server[","]"])),a,r);d("WABridge").getBridge().fireAndForget("event","odsBumpEntityKey",{entity:d("WAOdsEnums").Entity.PHASH_MISMATCH,key:"appdata"});return d("WAResultOrError").makeResult({phashMismatch:!0,serverTs:d("WATimeUtils").castToUnixTime(b.value.t)})}else return d("WAResultOrError").makeResult({phashMismatch:!1,serverTs:d("WATimeUtils").castToUnixTime(b.value.t)});default:b.name;o.ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Failed to send appdata. Error: ",""])),b.value.error);return d("WAResultOrError").makeError("ack-failure")}});return r.apply(this,arguments)}g.MAX_APPDATA_RECIPIENTS=p;g.sendAppDataToDevicesProtocol=a}),98);
__d("WASendMsgUtilV2",["Promise","WADevicesState","WAGenReportingMeta","WAGlobals","WAJids","WALoadReceiptApi","WALogger","WAMsg","WAResultOrError","WASaveReceiptApi","WASendMsgInternal","WASentBytesCache","WATimeUtils","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o;function p(a){return(o||(o=b("Promise"))).resolve()}function q(a,b){return d("WADevicesState").getDevicesState().waitForUserDevices(Array.from(new Set([a,d("WAGlobals").getMyUserJid()])),"GetDevicesBeforeSend: "+b)}function r(a,c){a=c.chatJid;var e=c.reason;return d("WAJids").switchOnChatJidType(a,{group:function(a){return p(a)},interopUser:function(a){return q(a,e)},lidUser:function(a){return q(a,e)},msgrUser:function(a){return q(a,e)},phoneUser:function(a){return q(a,e)}})["catch"](function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Error during get devices before sending: ",""])),a);return(o||(o=b("Promise"))).resolve()})}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.messagePayload;a=a.loadThreadParticipants;var e={author:c.protocolMsgId.author,chat:c.protocolMsgId.chat,externalId:c.protocolMsgId.externalId},f=(yield d("WALoadReceiptApi").loadReceipt(e));if(f.success)return f;b.addPoint("get_devices_before_send_start");yield r(void 0,{chatJid:c.protocolMsgId.chat,reason:"prepareReceipt"});b.addPoint("get_devices_before_send_end");var g=(yield a(c.protocolMsgId.chat));b.addPoint("get_identities_start");f=(yield d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return a.storage.bulkLoadIdentities(g)},{flush:!1,afterInit:!0,operationType:"prepare_receipt_load_identities"}));a=[];if(f.size===0)a=[].concat(g);else for(c of f){var h=c[0],j=c[1];j.size===0&&a.push(h)}a.length>0&&(yield d("WADevicesState").getDevicesState().waitForUserDevices(a,"GetDevicesBeforeSend: prepareReceipt",!0),f=(yield d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return a.storage.bulkLoadIdentities(g)},{afterInit:!0,flush:!1,operationType:"prepare_receipt_load_identities"})));j=new Map();for(h of f){h[0];c=h[1];for(a of c){f=a[0];c=a[1];if(f===d("WAGlobals").getMyDeviceJid())continue;j.set(f,{pubKey:c})}}b.addPoint("get_identities_end");f=new Set();c={permittedIdentitiesPerDevice:j,recipientDevices:f,id:e};b.addPoint("save_receipts_start");yield d("WASaveReceiptApi").saveReceipt(c)["catch"](function(a){b.addPoint("save_receipts_fail");d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Failed to save receipt for message with error ",""])),a);return d("WAResultOrError").makeError("missing-receipt")});b.addPoint("save_receipts_end");return d("WAResultOrError").makeResult(c)});return t.apply(this,arguments)}function a(a,b,c){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=c.messagePayload;var f=c.loadThreadParticipants,g=c.sendIdentity;g=g===void 0?!1:g;c=c.isInstamadillo;c=c===void 0?!1:c;e.addPoint("prepare_receipt_start");f=(yield s({messagePayload:a,loadThreadParticipants:f},e));if(f.success===!1){e.addPoint("prepare_receipt_fail");d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Trying to send a message that does not have a receipt in db"])));return d("WAResultOrError").makeError({type:"missing-receipt"})}e.addPoint("prepare_receipt_end");f=f.value;var h=a.frankingKey,i=a.frankingVersion,n=a.messageBytes,p=a.backupDirective,q=a.messageType,r=a.protocolMsgId;a=v(f.permittedIdentitiesPerDevice);f=q.type==="text"&&q.invitedParticipantUserJid!=null?a.filter(function(a){return a.user===q.invitedParticipantUserJid||a.user===d("WAGlobals").getMyUserJid()}):a;e.addPoint("recipients-calculated",{"int":{recipientsCount:f.length},string:{msgType:q.type}});a=q.type==="text"&&q.invitedParticipantUserJid!=null?q.invitedParticipantUserJid:r.chat;var t=r.chat===d("WAGlobals").getMyUserJid();if(f.length===0&&!t){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Trying to send a message with no recipients"])));return d("WAResultOrError").makeError({type:"no-recipients",isRetriable:!1})}else if(f.length===0&&t){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Trying to send a message with no recipients, but it is a self thread"])));return d("WAResultOrError").makeResult({baseKey:null,reportingMeta:null,serverTs:d("WATimeUtils").unixTime()})}t=g?yield d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return w(a)},{operationType:"get_my_device_identity",flush:!1,afterInit:!0}):null;g=(yield q.isRevoked===!0?(o||(o=b("Promise"))).resolve(null):d("WAGenReportingMeta").genReportingMeta(n.bytes,h,i));return d("WASendMsgInternal").sendMessage({type:"chat",messageBytes:n,chat:a,deviceIdentity:t,messageType:q,protocolMsgId:r,externalId:r.externalId,recipients:f,reportingMeta:g,backupDirective:p},e,c).then(function(a){if(a.success)return d("WASentBytesCache").sentBytesCache().saveSentBytes({ts:a.value.serverTs,frankingKey:h,frankingVersion:i,messageBytes:n,backupDirective:p,messageType:q,protocolMsgId:r,waMsgId:d("WAMsg").craftWAMsgIdString({author:r.author,chat:r.chat,externalId:r.externalId})})["catch"](function(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg failed to save sent bytes to cache: ",""])),a)}).then(function(){return a});else return a})});return u.apply(this,arguments)}function v(a){var b=new Map();a.forEach(function(a,c){a=a.pubKey;var e=d("WAJids").extractUserJid(c);a={identity:a,jid:c};c=b.get(e)||[];c.push(a);b.set(e,c)});return Array.from(b,function(a){var b=a[0];a=a[1];return{devicesInfo:a,user:b}})}function w(a){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a=(yield a.storage.loadIdentities(d("WAGlobals").getMyUserJid()));a=a.get(d("WAGlobals").getMyDeviceJid());if(a!=null)return a;throw c("err")("missing-identity")}catch(a){d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Error loading current device identity ",""])),a)}});return x.apply(this,arguments)}g.getDevicesBeforeSend=r;g.sendChatMessage=a}),98);
__d("WASetClockSkewApi",["WASetMetaApi"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a=a.clockSkew;return d("WASetMetaApi").setMeta({clockSkew:a})};g.setClockSkew=a}),98);
__d("WASendPing",["WAComms","WALogger","WASetClockSkewApi","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["sendPing: sending"]))),d("WAComms").sendPing()}function c(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=b.clockSkew;d("WATimeUtils").setClockSkew(a);yield d("WASetClockSkewApi").setClockSkew({clockSkew:a})});return i.apply(this,arguments)}g.sendPing=a;g.updateClockSkew=c}),98);
__d("WASyncAbProps",["WAAbPropsSync","WALogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=b.sendHash;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Syncing ABProps"])));yield d("WAAbPropsSync").syncAbProps({sendHash:b,eventFlow:a!=null?a:void 0})});return i.apply(this,arguments)}g.syncAbProps=a}),98);
__d("WAUploadMedia",["WABase64","WABlobToArrayBuffer","WACheckCiphertextInServer","WACreateRetrier","WAEncryptAndUploadPlaintext","WAErrorMessage","WAFindReusableMediaEntry","WALogger","WAMediaUtils","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u;function a(a){var b=a.uploadMediaMetric;return v(babelHelpers["extends"]({},a))["catch"](function(a){a=d("WAErrorMessage").maybeGetMessageFromError(a);d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: unexpected runtime error: ",""])),a);return d("WAResultOrError").makeError("runtime-error")}).then(function(a){a.success?b.endSuccess():b.endFail(a.error,{string:{failReason:a.error}});return a})}function v(a){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.chatJid;var b=a.filename,c=a.hash,e=a.mediaTypeDetails,f=a.protocolMsgId,g=a.size,h=a.uploadMediaMetric,i=a.getMediaKnownEntries,v=a.getMediaPlaintext,w=a.updateMediaEntryForMsg,y=a.updateMediaEntryForOptimisticUpload;a=a.getDownloadableThumbnailForMedia;var z;e.type==="regular"?z=e.mediaType:(z="preview",h.addAnnotations({string:{fullSizeMediaType:e.messageType}}));h.addPoint("create_upload_retrier_start");e=(yield d("WACreateRetrier").createUploadRetrier(z,h));if(!e.success){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: fail to gather media routes"])));h.addPoint("create_upload_retrier_fail");return e}h.addPoint("create_upload_retrier_end");e=e.value;w=x(f,c,w,y,h);h.addPoint("get_media_entry_start");y=(yield i(c)["catch"](function(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: get media entry unexpected runtime error: ",""])),d("WAErrorMessage").maybeGetMessageFromError(a));h.addPoint("get_media_entry_fail");throw a}));i=d("WAFindReusableMediaEntry").findReusableMediaEntryForArmadillo(f,y);h.addPoint("get_media_entry_end");if(i==null){h.addPoint("create_media_key_start");d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: no media entry found, need to upload media"])));f=d("WAMediaUtils").createMediaKey();y=d("WAMediaUtils").createUploadToken();var A=d("WATimeUtils").unixTime();h.addPoint("create_media_key_end");h.addPoint("get_media_plaintext_start");var B=(yield v(c).then(function(a){return a==null?null:d("WABlobToArrayBuffer").blobToArrayBuffer(a)}));if(B==null){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["encryptAndUploadPlaintext: no plaintext"])));h.addPoint("get_media_plaintext_fail");return d("WAResultOrError").makeError("no-plaintext")}h.addPoint("get_media_plaintext_end");return d("WAEncryptAndUploadPlaintext").encryptAndUploadPlaintext({size:g,filename:b,mediaKey:f,mediaKeyTimestamp:A,serverMediaType:z,mediaUploadFlow:h,plaintext:B,plaintextHash:c,updateMediaEntry:w,uploadRetrier:e,uploadToken:y,getDownloadableThumbnailForMedia:a})}f=i.directPath;A=i.downloadableThumbnail;B=i.fileEncSha256;y=i.fileSha256;var C=i.mediaKey,D=i.mediaKeyTimestamp,E=i.objectId;i=i.uploadToken;A={directPath:f,downloadableThumbnail:A,fileEncSha256:B,filename:b,fileSha256:y||d("WABase64").decodeB64UrlSafe(c),mediaKey:C,mediaKeyTimestamp:D,objectId:E,serverMediaType:z,size:g,uploadToken:i};if(f!=null){d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: async upload"])));yield w(A);h.addAnnotations({bool:{reused_media_entry:!0}});return d("WAResultOrError").makeResult(A)}h.addPoint("resume_check_start");y=(yield d("WACheckCiphertextInServer").checkCiphertextInServer(z,B,i,e)["catch"](function(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: resume check unexpected runtime error: ",""])),d("WAErrorMessage").maybeGetMessageFromError(a));h.addPoint("resume_check_fail");throw a}));if(!y.success){h.addPoint("resume_check_fail");d("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: resume/exist check exhausted available retries"])));return y}h.addPoint("resume_check_end");E=y.value;if(E.type==="media-found"){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: media is on the server"])));h.addAnnotations({bool:{existingMediaFound:!0}});f=babelHelpers["extends"]({},A,{directPath:E.directPath,objectId:E.objectId});yield w(f);h.addAnnotations({bool:{reused_media_entry:!0}});return d("WAResultOrError").makeResult(f)}else if(E.type==="media-partial-found"){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: media is partially on the server, start uploading from byteOffset ",""])),E.resumeFromBytes);B=E.resumeFromBytes;h.addPoint("get_media_plaintext_start");y=(yield v(c).then(function(a){return a==null?null:d("WABlobToArrayBuffer").blobToArrayBuffer(a)}));if(y==null){d("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["encryptAndUploadPlaintext: no plaintext"])));h.addPoint("get_media_plaintext_fail");return d("WAResultOrError").makeError("no-plaintext")}h.addPoint("get_media_plaintext_end");return d("WAEncryptAndUploadPlaintext").encryptAndUploadPlaintext({size:g,filename:b,fromOffset:B,mediaKey:C,mediaKeyTimestamp:D,serverMediaType:z,mediaUploadFlow:h,plaintext:y,plaintextHash:c,updateMediaEntry:w,uploadRetrier:e,uploadToken:i,getDownloadableThumbnailForMedia:a})}d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: media is not on the server, start uploading"])));A=d("WATimeUtils").unixTime();h.addPoint("get_media_plaintext_start");f=(yield v(c).then(function(a){return a==null?null:d("WABlobToArrayBuffer").blobToArrayBuffer(a)}));if(f==null){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["encryptAndUploadPlaintext: no plaintext"])));h.addPoint("get_media_plaintext_fail");return d("WAResultOrError").makeError("no-plaintext")}h.addPoint("get_media_plaintext_end");return d("WAEncryptAndUploadPlaintext").encryptAndUploadPlaintext({size:g,filename:b,mediaKey:C,mediaKeyTimestamp:A,serverMediaType:z,mediaUploadFlow:h,plaintext:f,plaintextHash:c,updateMediaEntry:w,uploadRetrier:e,uploadToken:i,getDownloadableThumbnailForMedia:a})});return w.apply(this,arguments)}function x(a,b,c,e,f){return function(g){f.addPoint("update_media_entry_start");var h=d("WAMediaUtils").encodeMediaEntryForUpload(g);g=a==null?e(b,function(){return h},g==null?void 0:g.objectId,g==null?void 0:g.serverMediaType):c(b,a,function(){return h},g==null?void 0:g.objectId,g==null?void 0:g.serverMediaType);return g.then(function(a){f.addPoint("update_media_entry_end");return a})["catch"](function(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["updateMediaEntry unexpected runtime error: ",""])),d("WAErrorMessage").maybeGetMessageFromError(a));f.addPoint("update_media_entry_fail");throw a})}}g.uploadMedia=a}),98);/*FB_PKG_DELIM*/
__d("BezierShim",["bezier-js"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("bezier-js")}),98);
__d("KF2DeferredLoader",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("KF2Loader").__setRef("KF2DeferredLoader");function a(){return h.load()}g["default"]=a}),98);
__d("KFAssetRegistry",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={audio:[],images:[]}}var b=a.prototype;b.addAudio=function(a){this.$1.audio.push(a)};b.addImageAtIndex=function(a,b){this.$1.images[b]=a};b.getAudio=function(a){return this.$1.audio[a]};b.getImage=function(a){return this.$1.images[a]};b.getImages=function(){return this.$1.images};return a}();f["default"]=a}),66);
__d("KFDimensions",[],(function(a,b,c,d,e,f){"use strict";var g=window.devicePixelRatio,h=function(){function a(a){this.intrinsic=a,this.$1(a)}var b=a.prototype;b.$1=function(a){this.logical=a,this.physical=Math.floor(this.logical*g)};b.scale=function(a,b){this.$1(a*b)};b.override=function(a){this.overridden=!0,this.$1(a)};b.reset=function(){this.overridden=!1,this.$1(this.intrinsic)};b.getPhysicalChangeRatio=function(){return this.physical/this.intrinsic};return a}();a=function(){function a(a,b){this.ratio=b?a/b:0,this.width=new h(a),this.height=new h(b),this.wasUpdated=!1}var b=a.prototype;b.setWidth=function(a){this.width.override(a),this.height.overridden||this.height.scale(a,this.ratio?1/this.ratio:0),this.wasUpdated=!0};b.setHeight=function(a){this.height.override(a),this.width.overridden||this.width.scale(a,this.ratio),this.wasUpdated=!0};b.reset=function(){this.height.reset(),this.width.reset()};return a}();f["default"]=a}),66);
__d("KFChildrenComponent",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a=[]),this.children=a}var b=a.prototype;b.getChildren=function(){return this.children};b.addChild=function(a){this.children.push(a)};b.removeChild=function(a,b){a=this.children.indexOf(a);if(a===-1)return;b!=null?this.children.splice(a,1,b):this.children.splice(a,1)};b.toString=function(){return d("KFComponentNames").CHILDREN};return a}();g["default"]=a}),98);
__d("KFCompositingComponent",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g){this.zIndex=a,this.opacity=b,this.isGroup=c,this.isTrackMatte=d,this.trackMatteType=e,this.trackMatteId=f,this.clippingPath=g,this.inheritedOpacity=1}var b=a.prototype;b.toString=function(){return d("KFComponentNames").COMPOSITING};b.update=function(a,b){this.inheritedOpacity=b,this.opacity.update(a),this.clippingPath&&this.clippingPath.update(a)};b.getOpacity=function(){return this.opacity.get()*this.inheritedOpacity};b.getClippingPath=function(){return this.clippingPath&&this.clippingPath.get()};return a}();g["default"]=a}),98);
__d("KFEntity",[],(function(a,b,c,d,e,f){"use strict";var g=1;a=function(){function a(){this.id=g++}var b=a.prototype;b.getID=function(){return this.id};return a}();f["default"]=a}),66);
__d("KFIdentificationComponent",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.toString=function(){return d("KFComponentNames").IDENTIFICATION};b.getID=function(){return this.$1};return a}();g["default"]=a}),98);
__d("KFImageComponent",[],(function(a,b,c,d,e,f){"use strict";a=function(a){this.imageId=a};f["default"]=a}),66);
__d("KFRandomSubdocumentAlternateChildrenComponent",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.swappableChildren=[],this.lastSwappedChildIndex=-1}var b=a.prototype;b.addSwappableChild=function(a,b){this.swappableChildren.push(a),b===!0&&(this.lastSwappedChildIndex=this.swappableChildren.length-1)};b.getLastSwappedChild=function(){return this.swappableChildren[this.lastSwappedChildIndex]};b.getSwappableChild=function(a){return this.swappableChildren[a]};b.setLastSwappedIndex=function(a){this.lastSwappedChildIndex=a};b.toString=function(){return d("KFComponentNames").RANDOM_SUBDOCUMENT_CHILDREN};return a}();g["default"]=a}),98);
__d("randomShuffle",["randomInt"],(function(a,b,c,d,e,f,g){function a(a,b,d){b===void 0&&(b=0);d===void 0&&(d=0);if(b>a.length-1-d)return a;for(d=a.length-1-d;d>b;d--){var e=c("randomInt")(d+1);if(e!==d){var f=a[e];a[e]=a[d];a[d]=f}}return a}g["default"]=a}),98);
__d("KFRandomSubdocumentComponent",["KFComponentNames","randomShuffle"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a,this.$2=[]}var b=a.prototype;b.$3=function(){this.$2.length===0&&this.$4()};b.$4=function(){this.$2=c("randomShuffle")(this.$1.slice(0))};b.getNextRandomSubdocumentIndex=function(){this.$3();return this.$2.pop()};b.toString=function(){return d("KFComponentNames").RANDOM_SUBDOCUMENT};return a}();g["default"]=a}),98);
__d("KFSceneComponent",["invariant","KFComponentNames"],(function(a,b,c,d,e,f,g,h){"use strict";var i="update",j="repeat",k="end";a=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=-1,this.$6=0,this.$7=0,this.$8=0,this.$9=1,this.$10=0,this.$11={update:[],repeat:[],end:[]}}var b=a.prototype;b.update=function(a,b){a=!0;this.$7+=b/this.$2;if(this.$7>this.$9){this.$6++;this.$7%=this.$9;if(this.$5!==-1&&this.$5<=this.$6){this.$12(k);return this.$7}else a=!1,this.$12(j),this.$7+=this.$8}a&&this.$12(i);return this.$7};b.getProgress=function(){return this.$7};b.addEntity=function(a){this.$1.push(a)};b.setEntities=function(a){this.$1=a};b.removeEntity=function(a){a=this.$1.indexOf(a);a!==-1&&this.$1.splice(a,1)};b.getEntities=function(){return this.$1};b.getSize=function(){return this.$4};b.onUpdate=function(a){this.$11.update.push(a)};b.onRepeat=function(a){this.$11.repeat.push(a)};b.onEnd=function(a){this.$11.end.push(a)};b.$12=function(a){for(var b=0;b<this.$11[a].length;b++)this.$11[a][b](this.$7)};b.getDuration=function(){return this.$2};b.getFrameRate=function(){return this.$3};b.toString=function(){return d("KFComponentNames").SCENE};b.seekToProgress=function(a){a>=0&&a<=1||h(0,749,a),this.$7=a};b.setStartAndEndProgress=function(a,b){this.$8=a,this.$9=b};b.setStartProgress=function(a){this.$8=a};b.setEndProgress=function(a){this.$9=a};b.setPlayCount=function(a){this.$5=a};return a}();b=function(){function a(){}var b=a.prototype;b.toString=function(){return d("KFComponentNames").ROOT};return a}();g.KFSceneComponent=a;g.KFRootComponent=b}),98);
__d("KFTrimPath",["BezierShim","KFAnimationUtils"],(function(a,b,c,d,e,f,g){var h=document.createElementNS("http://www.w3.org/2000/svg","path"),i=360,j=function(a,b){a===void 0&&(a="");a=a;switch(b.type){case 0:a+="M"+b.point[0]+", "+b.point[1];break;case 1:a+="L"+b.point[0]+", "+b.point[1];break;case 2:b.c1&&b.c1[0]!==void 0&&b.c1[1]!==void 0&&(a+="Q"+b.c1[0]+" "+b.c1[1]+", "+b.point[0]+", "+b.point[1]);break;case 3:b.c1&&b.c2&&b.c1[0]!==void 0&&b.c1[1]!==void 0&&b.c2[0]!==void 0&&b.c2[1]!==void 0&&(a+="C"+b.c1[0]+" "+b.c1[1]+", "+b.c2[0]+" "+b.c2[1]+", "+b.point[0]+", "+b.point[1]);break}return a},k=function(a,b){return{type:0,point:[0,0],c1:[0,0],c2:[0,0]}},l=function(a,b){var e,f={split:k};switch(b.type){case 0:f.split=function(a,c){return{type:0,point:[b.point[0],b.point[1]],c1:[0,0],c2:[0,0]}};break;case 1:f.split=function(c,e){var f;c=[(f=d("KFAnimationUtils")).lerp(c,a.point[0],b.point[0]),f.lerp(c,a.point[1],b.point[1])];f=[f.lerp(e,a.point[0],b.point[0]),f.lerp(e,a.point[1],b.point[1])];return{type:1,point:[f[0],f[1]],c1:[c[0],c[1]],c2:[f[0],f[1]]}};break;case 2:a.point&&b.point&&b.c1&&b.c1[0]!==void 0&&b.c1[1]!==void 0&&(e=new(c("BezierShim"))(a.point[0],a.point[1],b.c1[0],b.c1[1],b.point[0],b.point[1]),f.split=function(a,b){a=e.split(a,b);a.points||(a.points=[a.left.points[0],a.left.points[0],a.left.points[0],a.left.points[0]]);return{type:2,point:[a.points[2].x,a.points[2].y],c1:[a.points[1].x,a.points[1].y],c2:[0,0]}});break;case 3:a.point&&b.point&&b.c1&&b.c2&&b.c1[0]!==void 0&&b.c1[1]!==void 0&&b.c2[0]!==void 0&&b.c2[1]!==void 0&&(e=new(c("BezierShim"))(a.point[0],a.point[1],b.c1[0],b.c1[1],b.c2[0],b.c2[1],b.point[0],b.point[1]),f.split=function(a,b){a=e.split(a,b);a.points||(a.points=[a.left.points[0],a.left.points[0],a.left.points[0],a.left.points[0]]);return{type:3,point:[a.points[3].x,a.points[3].y],c1:[a.points[1].x,a.points[1].y],c2:[a.points[2].x,a.points[2].y]}});break}return f},m=[],n=function(a,b,c){a===void 0&&(a=0);b===void 0&&(b=100);c===void 0&&(c=0);a=a/100;b=b/100;c=c%i;c=c===-0?0:c;if(a>b){var d=b;b=a;a=d}a===0&&b===1?(m[0]=c%i/i,m[1]=c%i/i):(a+=c%i/i,b+=c%i/i,m[0]=a>1?a%1:a,m[1]=b>1?b%1:b);return m};function o(a){var b=[],c="";for(var d=0;d<a.length;d++){var e=a[d];c=j(c,e);h.setAttributeNS(null,"d",c);b.push(h.getTotalLength())}return b}function a(a,b,c,d){b===void 0&&(b=0);c===void 0&&(c=100);d===void 0&&(d=0);var e=[];b=b;c=c;d=d;if(b===c)return e;if(b===0&&c===100&&d===0)return a;var f=o(a),g=f[f.length-1];d=n(b,c,d);b=d[0];c=d[1];d=h.getPointAtLength(b*g);if(b<c)for(var i=0;i<a.length;i++){if(b*g>f[i])continue;var j=a[i-1],k=a[i];j=l(j,k);k=0;var m=1,p=f[i]-(f[i-1]||0);if(e.length===0){var q={type:0,point:[d.x,d.y],c1:[0,0],c2:[0,0]};e.push(q);k=p===0?1:(g*b-(f[i-1]||0))/p}if(c*g<f[i]){m=(g*c-(f[i-1]||0))/(f[i]-(f[i-1]||0));e.push(j.split(k,m));break}e.push(j.split(k,m))}else{q=!1;p=!1;for(j=0;j<a.length;j++){k=l(a[j-1],a[j]);m=0;i=1;!p&&c*g<f[j]&&(p=!0,i=(g*c-(f[j-1]||0))/(f[j]-(f[j-1]||0)),e.push(k.split(0,i)),e.push({type:0,point:[d.x,d.y],c1:[0,0],c2:[0,0]}));!q&&b*g<f[j]&&(q=!0,m=(g*b-(f[j-1]||0))/(f[j]-(f[j-1]||0)),i=1);(!q&&!p||q&&p)&&e.push(k.split(m,i))}}return e}g.trimPath=a}),98);
__d("KFShapeComponent",["KFTrimPath"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l){this.path=a,this.trimStart=b,this.trimEnd=c,this.trimOffset=d,this.fillColor=e,this.gradientFill=f,this.strokeColor=g,this.strokeWidth=h,this.strokeLineCap=i,this.strokeLineJoin=j,this.miterLimit=k,this.vectorCompositeOrder=l}var b=a.prototype;b.update=function(a){this.path&&this.path.update(a),this.trimStart&&this.trimStart.update(a),this.trimEnd&&this.trimEnd.update(a),this.trimOffset&&this.trimOffset.update(a),this.fillColor&&this.fillColor.update(a),this.gradientFill&&this.gradientFill.update(a),this.strokeColor&&this.strokeColor.update(a),this.strokeWidth&&this.strokeWidth.update(a),this.miterLimit&&this.miterLimit.update(a)};b.getPath=function(){return d("KFTrimPath").trimPath(this.path.get(),this.trimStart?this.trimStart.get():void 0,this.trimEnd?this.trimEnd.get():void 0,this.trimOffset?this.trimOffset.get():void 0)};return a}();g["default"]=a}),98);
__d("KFTimeComponent",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d){this.$1=a||0,this.$2=b||1,this.$3=c||0,this.$4=d!=null?d:1,this.$5=0}var b=a.prototype;b.isInBounds=function(a){a=a!=null?a:this.$5;return a>=this.$1&&a<=this.$2};b.update=function(a){this.$5=a*this.$4;return this.$5};b.getProgress=function(){return this.$5};b.getProgressOffset=function(){return this.$3};b.toString=function(){return d("KFComponentNames").TIME};return a}();g["default"]=a}),98);
__d("KFMat2d",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=window.Float32Array?new Float32Array(6):new Array(6);a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a}function b(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a}function c(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=c[0],j=c[1],k=c[2],l=c[3],m=c[4];c=c[5];a[0]=d*i+f*j;a[1]=e*i+g*j;a[2]=d*k+f*l;a[3]=e*k+g*l;a[4]=d*m+f*c+h;a[5]=e*m+g*c+b;return a}function d(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=Math.sin(c);c=Math.cos(c);a[0]=d*c+f*i;a[1]=e*c+g*i;a[2]=d*-i+f*c;a[3]=e*-i+g*c;a[4]=h;a[5]=b;return a}function e(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=c[0];c=c[1];a[0]=d*i;a[1]=e*i;a[2]=f*c;a[3]=g*c;a[4]=h;a[5]=b;return a}function g(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=c[0];c=c[1];a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=d*i+f*c+h;a[5]=e*i+g*c+b;return a}function h(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=b[0];a[5]=b[1];return a}f.identity=b;f.multiply=c;f.translate=g;f.rotate=d;f.scale=e;f.fromTranslation=h;f.createMat2d=a}),66);
__d("KFTransformComponent",["KFComponentNames","KFMat2d"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,e){this.$1=a,this.$2=b,this.$3=c,this.$4=e,this.$5,this.$6=d("KFMat2d").createMat2d(),this.$7=d("KFMat2d").createMat2d()}var b=a.prototype;b.getLocalTransform=function(a){if(a!==this.$5){var b,c=this.$4.getValueAtProgress(a);this.$5=a;(b=d("KFMat2d")).fromTranslation(this.$6,this.$1.getValueAtProgress(a));b.rotate(this.$6,this.$6,this.$2.getValueAtProgress(a));b.scale(this.$6,this.$6,this.$3.getValueAtProgress(a));b.translate(this.$6,this.$6,[-c[0],-c[1]])}return this.$6};b.getWorldTransform=function(){return this.$7};b.update=function(a,b){this.getLocalTransform(a);d("KFMat2d").multiply(this.$7,b,this.$6);return this.$7};b.toString=function(){return d("KFComponentNames").TRANSFORM};return a}();g["default"]=a}),98);
__d("KeyframesPathUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return(c-b)*a+b}function b(a,b,c,d,e,f,g){return e*d+2*c*a*f+b*g}function c(a,b,c,d,e,f,g,h){return e*d*c+f*3*d*a+g*3*c*b+h*b*a}e.exports={interpolateLinear:a,interpolateQuad:b,interpolateCubic:c,lerp:a}}),null);
__d("KeyframesTween",["invariant","CubicBezier","KeyframesPathUtils","KeyframesSchema"],(function(a,b,c,d,e,f,g){"use strict";var h=b("KeyframesPathUtils").interpolateCubic,i=b("KeyframesPathUtils").interpolateLinear,j=b("KeyframesPathUtils").interpolateQuad;(d=b("KeyframesSchema")).Color;d.ColorAnimation;d.ColorArray;d.ColorArrayAnimation;d.Command;var k=d.CommandType;d.Path;d.PathAnimation;d.Point;d.PointAnimation;d.ScalarAnimation;d.ScalarArray;d.ScalarArrayAnimation;var l=d.TweenType;function m(a){return a}function n(a){return{x:a.x(),y:a.y()}}function o(a){return{red:a.red(),green:a.green(),blue:a.blue(),alpha:a.alpha()}}function p(a){var b=a.valuesLength(),c=[];for(var d=0;d<b;d++)c.push(a.values(d));return c}function q(a){var b=a.colorsLength(),c=[];for(var d=0;d<b;d++)c.push(o(a.colors(d)));return c}function r(a){var b=a.control1(),c=a.control2();return{type:a.type(),point:n(a.point()),control1:b?n(b):null,control2:c?n(c):null}}function s(a){var b=[];for(var c=0;c<a.commandsLength();c++)b.push(r(a.commands(c)));return b}function t(a,b){if(a>=b.keyframes(b.keyframesLength()-1))return 1;else if(a<b.keyframes(0))return-1;return 0}function u(a,b){if(t(a,b)!==0)return null;var c=0,d=b.keyframesLength()-1;while(c+1<d){var e=Math.floor((d-c)/2+c);b.keyframes(e)<a?c=e:d=e}return c}function v(a,c,d){var e=c.tweens(d),f=e.type();if(f===l.Hold)return 0;a=(a-c.keyframes(d))/(c.keyframes(d+1)-c.keyframes(d));switch(f){case l.Linear:return a;case l.Bezier:default:return new(b("CubicBezier"))([e.control1().x(),e.control1().y()],[e.control2().x(),e.control2().y()]).solve(a)}}var w=function(a,b,c){return a*(c-b)+b};f=function(a,b,c){var d=b.valuesLength(),e=[];for(var f=0;f<d;f++)e.push(w(a,b.values(f),c.values(f)));return e};var x=function(a,b,c){return{x:w(a,b.x(),c.x()),y:w(a,b.y(),c.y())}},y=function(a,b,c){return b&&c?x(a,b,c):null},z=function(a,b,c){return{red:w(a,b.red(),c.red()),green:w(a,b.green(),c.green()),blue:w(a,b.blue(),c.blue()),alpha:w(a,b.alpha(),c.alpha())}};d=function(a,b,c){var d=b.colorsLength(),e=[];for(var f=0;f<d;f++)e.push(z(a,b.colors(f),c.colors(f)));return e};var A=function(a,b,c){var d=[];for(var e=0;e<b.commandsLength();e++){var f=b.commands(e),g=c.commands(e);d.push({type:f.type(),point:x(a,f.point(),g.point()),control1:y(a,f.control1(),g.control1()),control2:y(a,f.control2(),g.control2())})}return d};function a(a,b,c,d){var e=u(c,d);e!=null||g(0,2829);c=v(c,d,e);switch(c){case 0:return b(d.values(e));case 1:return b(d.values(e+1));default:return a(c,d.values(e),d.values(e+1))}}var B=a.bind(null,w,m),C=a.bind(null,f,p),D=a.bind(null,x,n),E=a.bind(null,z,o),F=a.bind(null,d,q),G=a.bind(null,A,s);function H(a,b,c,d){if(b.keyframesLength())switch(t(a,b)){case-1:return d(b.values(0));case 1:return d(b.values(b.valuesLength()-1));case 0:return c(a,b)}return d(b.value())}f=function(a,b){return H(a,b,B,m)};d=function(a,b){return H(a,b,C,p)};a=function(a,b){return H(a,b,D,n)};A=function(a,b){return H(a,b,E,o)};var I=function(a,b){return H(a,b,F,q)},J=function(a,b){return H(a,b,G,s)};function K(a,b,c){return{x:i(a,b.x,c.x),y:i(a,b.y,c.y)}}function L(a,b,c,d){var e=a*a,f=1-a,g=f*f;return{x:j(a,e,f,g,b.x,d.x,c.x),y:j(a,e,f,g,b.y,d.y,c.y)}}function M(a,b,c,d,e){var f=a*a,g=1-a,i=g*g;return{x:h(a,f,g,i,b.x,d.x,e.x,c.x),y:h(a,f,g,i,b.y,d.y,e.y,c.y)}}function N(a,b,c){a=v(a,b,c);b=b.value();var d=n(b.commands(c).point());b=r(b.commands(c+1));switch(b.type){case k.LineTo:return K(a,d,b.point);case k.QuadTo:b.control1||g(0,2830);return L(a,d,b.point,b.control1);case k.CubicTo:b.control1&&b.control2||g(0,2831);return M(a,d,b.point,b.control1,b.control2);default:throw new Error("Unrecognized segment type "+b.type)}}function c(a,b){switch(t(a,b)){case-1:return n(b.value().commands(0).point());case 1:var c=b.value();return n(c.commands(c.commandsLength()-1).point());default:c=u(a,b);c!=null||g(0,2832);return N(a,b,c)}}a={maybeTweenPoint2:a,maybeTweenColor:A,maybeTweenColorArray:I,maybeTweenScalar:f,maybeTweenScalarArray:d,maybeTweenPath:J,tweenPointOnPath:c};e.exports=a}),null);
__d("KFTrimPathComponent",["KFTrimPath","KeyframesTween"],(function(a,b,c,d,e,f,g){var h,i=[0,0],j=function(a){return a.map(function(a){var b,c=i,d=i;((b=a.control1)==null?void 0:b.x)!=null&&((b=a.control1)==null?void 0:b.y)!=null&&(c=[a.control1.x,a.control1.y]);((b=a.control2)==null?void 0:b.x)!=null&&((b=a.control2)==null?void 0:b.y)!=null&&(d=[a.control2.x,a.control2.y]);return{type:a.type,point:[a.point.x,a.point.y],c1:c,c2:d}})};a=function(){function a(a,b,c,e,f,g,i,j,k,l){this.$1=a,this.$2=b,this.$3=c,this.$4=e,this.$6=f,this.$7=g,this.strokeLineCap=i,this.strokeLineJoin=j,this.$5=k,this.vectorCompositeOrder=l,this.path=(h||(h=d("KeyframesTween"))).maybeTweenPath(0,this.$1),this.$8(0,!0)}var b=a.prototype;b.$8=function(a,b){b!==!0&&(this.path=(h||(h=d("KeyframesTween"))).maybeTweenPath(a,this.$1)),this.$2!=null&&(this.trimStart=(h||(h=d("KeyframesTween"))).maybeTweenScalar(a,this.$2)),this.$3!=null&&(this.trimEnd=(h||(h=d("KeyframesTween"))).maybeTweenScalar(a,this.$3)),this.$4!=null&&(this.trimOffset=(h||(h=d("KeyframesTween"))).maybeTweenScalar(a,this.$4)),this.$5!=null&&(this.miterLimit=(h||(h=d("KeyframesTween"))).maybeTweenScalar(a,this.$5)),this.$6!=null&&(this.strokeColor=(h||(h=d("KeyframesTween"))).maybeTweenColor(a,this.$6)),this.$7!=null&&(this.strokeWidth=(h||(h=d("KeyframesTween"))).maybeTweenScalar(a,this.$7))};b.update=function(a){this.$8(a)};b.getPath=function(){var a;return d("KFTrimPath").trimPath(j(this.path),(a=this.trimStart)!=null?a:void 0,(a=this.trimEnd)!=null?a:void 0,(a=this.trimOffset)!=null?a:void 0)};b.getStrokeData=function(){return this.strokeWidth==null||this.strokeColor==null?null:{miterLimit:this.miterLimit,strokeWidth:this.strokeWidth,strokeColor:this.strokeColor,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin}};return a}();g["default"]=a}),98);
__d("KFEntityComponentRegistry",["KFChildrenComponent","KFCompositingComponent","KFEntity","KFIdentificationComponent","KFImageComponent","KFRandomSubdocumentAlternateChildrenComponent","KFRandomSubdocumentComponent","KFSceneComponent","KFShapeComponent","KFTimeComponent","KFTransformComponent","KFTrimPathComponent"],(function(a,b,c,d,e,f,g){"use strict";var h={IMAGE:c("KFImageComponent"),AUDIO:void 0,CHILDREN:c("KFChildrenComponent"),PARENT:void 0,COMPOSITING:c("KFCompositingComponent"),RANDOM_SUBDOCUMENT:c("KFRandomSubdocumentComponent"),RANDOM_SUBDOCUMENT_CHILDREN:c("KFRandomSubdocumentAlternateChildrenComponent"),ROOT:d("KFSceneComponent").KFRootComponent,SCENE:d("KFSceneComponent").KFSceneComponent,SHAPE:c("KFShapeComponent"),TRIM_PATH:c("KFTrimPathComponent"),TIME:c("KFTimeComponent"),IDENTIFICATION:c("KFIdentificationComponent"),TRANSFORM:c("KFTransformComponent"),VIDEO:void 0};a=function(){function a(a){this.$1=babelHelpers["extends"]({},h,a),this.$2={},this.$3={},this.$4={}}var b=a.prototype;b.createEntity=function(){var a=new(c("KFEntity"))();this.$2[a.id]=a;return a};b.getEntity=function(a){return this.$2[a]};b.destroyEntity=function(a){var b=Object.keys(this.$4[a.id]||{});delete this.$4[a.id];for(var c=b.length-1;c>=0;c--){var d=this.$3[b[c]],e=d.indexOf(a);e!==-1&&d.splice(e,1)}};b.createComponent=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return this.$1[a]?babelHelpers.construct(this.$1[a],c):void 0};b.addComponent=function(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];var f=this.createComponent.apply(this,[b].concat(d));this.registerComponentForEntity(a,f,b);return f};b.removeComponentForEntity=function(a,b){var c=this.$3[b],d=c.indexOf(a);d!==-1&&c.splice(d,1);c=this.$4[a.id];c[b]!=null&&(c[b]=void 0)};b.registerComponentForEntity=function(a,b,c){var d=c||b.toString();if(!this.$4[a.id])this.$4[a.id]={};else if(this.$4[a.id][d])return this.$4[a.id][d];this.$4[a.id][d]=b;this.$3[c]||(this.$3[c]=[]);this.$3[c].push(a)};b.getAllComponentsForEntity=function(a){return this.$4[a.id]||{}};b.getComponent=function(a,b){return this.$4[a.id][b]};b.getEntitiesWithComponent=function(a){return this.$3[a]||[]};b.setComponentType=function(a,b){this.$1[a]=b};return a}();g["default"]=a}),98);
__d("KFSchema",[],(function(a,b,c,d,e,f){var g=g||{};g.keyframes=g.keyframes||{};g.keyframes.CommandType={MoveTo:0,LineTo:1,QuadTo:2,CubicTo:3,HorizontalLineTo:4,VerticalLineTo:5,CloseLineTo:6,SmoothQuadTo:7,CloseQuadTo:8,CloseSmoothQuadTo:9,SmoothCubicTo:10,CloseCubicTo:11,CloseSmoothCubicTo:12};g.keyframes.CommandTypeName={0:"MoveTo",1:"LineTo",2:"QuadTo",3:"CubicTo",4:"HorizontalLineTo",5:"VerticalLineTo",6:"CloseLineTo",7:"SmoothQuadTo",8:"CloseQuadTo",9:"CloseSmoothQuadTo",10:"SmoothCubicTo",11:"CloseCubicTo",12:"CloseSmoothCubicTo"};g.keyframes.TweenType={Bezier:0,Linear:1,Hold:2};g.keyframes.TweenTypeName={0:"Bezier",1:"Linear",2:"Hold"};g.keyframes.VectorCompositeOrder={FillStroke:0,StrokeFill:1};g.keyframes.VectorCompositeOrderName={0:"FillStroke",1:"StrokeFill"};g.keyframes.StrokeLineCap={Butt:0,Round:1,Square:2};g.keyframes.StrokeLineCapName={0:"Butt",1:"Round",2:"Square"};g.keyframes.StrokeLineJoin={Miter:0,Round:1,Bevel:2};g.keyframes.StrokeLineJoinName={0:"Miter",1:"Round",2:"Bevel"};g.keyframes.TrackMatteType={None:0,Alpha:1,Alpha_Inverted:2};g.keyframes.TrackMatteTypeName={0:"None",1:"Alpha",2:"Alpha_Inverted"};g.keyframes.GradientType={Linear:0,Radial:1};g.keyframes.GradientTypeName={0:"Linear",1:"Radial"};g.keyframes.TextWeight={Thin:0,UltraLight:1,Light:2,Book:3,Medium:4,SemiBold:5,Bold:6,UltraBold:7,Heavy:8,UltraHeavy:9};g.keyframes.TextWeightName={0:"Thin",1:"UltraLight",2:"Light",3:"Book",4:"Medium",5:"SemiBold",6:"Bold",7:"UltraBold",8:"Heavy",9:"UltraHeavy"};g.keyframes.Size=function(){this.bb=null,this.bb_pos=0};g.keyframes.Size.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Size.prototype.width=function(){return this.bb.readFloat32(this.bb_pos)};g.keyframes.Size.prototype.height=function(){return this.bb.readFloat32(this.bb_pos+4)};g.keyframes.Size.createSize=function(a,b,c){a.prep(4,8);a.writeFloat32(c);a.writeFloat32(b);return a.offset()};g.keyframes.Point=function(){this.bb=null,this.bb_pos=0};g.keyframes.Point.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Point.prototype.x=function(){return this.bb.readFloat32(this.bb_pos)};g.keyframes.Point.prototype.y=function(){return this.bb.readFloat32(this.bb_pos+4)};g.keyframes.Point.createPoint=function(a,b,c){a.prep(4,8);a.writeFloat32(c);a.writeFloat32(b);return a.offset()};g.keyframes.Color=function(){this.bb=null,this.bb_pos=0};g.keyframes.Color.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Color.prototype.red=function(){return this.bb.readUint8(this.bb_pos)};g.keyframes.Color.prototype.green=function(){return this.bb.readUint8(this.bb_pos+1)};g.keyframes.Color.prototype.blue=function(){return this.bb.readUint8(this.bb_pos+2)};g.keyframes.Color.prototype.alpha=function(){return this.bb.readUint8(this.bb_pos+3)};g.keyframes.Color.createColor=function(a,b,c,d,e){a.prep(1,4);a.writeInt8(e);a.writeInt8(d);a.writeInt8(c);a.writeInt8(b);return a.offset()};g.keyframes.ColorArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArray.getRootAsColorArray=function(a,b){return(b||new g.keyframes.ColorArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArray.prototype.colors=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Color()).__init(this.bb.__vector(this.bb_pos+c)+a*4,this.bb):null};g.keyframes.ColorArray.prototype.colorsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArray.startColorArray=function(a){a.startObject(1)};g.keyframes.ColorArray.addColors=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArray.startColorsVector=function(a,b){a.startVector(4,b,1)};g.keyframes.ColorArray.endColorArray=function(a){a=a.endObject();return a};g.keyframes.ColorArray.createColorArray=function(a,b){g.keyframes.ColorArray.startColorArray(a);g.keyframes.ColorArray.addColors(a,b);return g.keyframes.ColorArray.endColorArray(a)};g.keyframes.Path=function(){this.bb=null,this.bb_pos=0};g.keyframes.Path.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Path.getRootAsPath=function(a,b){return(b||new g.keyframes.Path()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Path.prototype.commands=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readInt8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Path.prototype.commandsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Path.prototype.commandsArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Int8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Path.prototype.points=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.Path.prototype.pointsLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Path.prototype.pointsArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Path.startPath=function(a){a.startObject(2)};g.keyframes.Path.addCommands=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Path.createCommandsVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Path.startCommandsVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Path.addPoints=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Path.createPointsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.Path.startPointsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Path.endPath=function(a){a=a.endObject();return a};g.keyframes.Path.createPath=function(a,b,c){g.keyframes.Path.startPath(a);g.keyframes.Path.addCommands(a,b);g.keyframes.Path.addPoints(a,c);return g.keyframes.Path.endPath(a)};g.keyframes.Tween=function(){this.bb=null,this.bb_pos=0};g.keyframes.Tween.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Tween.getRootAsTween=function(a,b){return(b||new g.keyframes.Tween()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Tween.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TweenType.Bezier};g.keyframes.Tween.prototype.control1=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Tween.prototype.control2=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.Point()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Tween.startTween=function(a){a.startObject(3)};g.keyframes.Tween.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.TweenType.Bezier)};g.keyframes.Tween.addControl1=function(a,b){a.addFieldStruct(1,b,0)};g.keyframes.Tween.addControl2=function(a,b){a.addFieldStruct(2,b,0)};g.keyframes.Tween.endTween=function(a){a=a.endObject();return a};g.keyframes.Tween.createTween=function(a,b,c,d){g.keyframes.Tween.startTween(a);g.keyframes.Tween.addType(a,b);g.keyframes.Tween.addControl1(a,c);g.keyframes.Tween.addControl2(a,d);return g.keyframes.Tween.endTween(a)};g.keyframes.ScalarAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarAnimation.getRootAsScalarAnimation=function(a,b){return(b||new g.keyframes.ScalarAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarAnimation.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.startScalarAnimation=function(a){a.startObject(3)};g.keyframes.ScalarAnimation.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addKeyframes=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addTweens=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.endScalarAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarAnimation.createScalarAnimation=function(a,b,c,d){g.keyframes.ScalarAnimation.startScalarAnimation(a);g.keyframes.ScalarAnimation.addValues(a,b);g.keyframes.ScalarAnimation.addKeyframes(a,c);g.keyframes.ScalarAnimation.addTweens(a,d);return g.keyframes.ScalarAnimation.endScalarAnimation(a)};g.keyframes.ScalarArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArray.getRootAsScalarArray=function(a,b){return(b||new g.keyframes.ScalarArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArray.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArray.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArray.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArray.startScalarArray=function(a){a.startObject(1)};g.keyframes.ScalarArray.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArray.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArray.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArray.endScalarArray=function(a){a=a.endObject();return a};g.keyframes.ScalarArray.createScalarArray=function(a,b){g.keyframes.ScalarArray.startScalarArray(a);g.keyframes.ScalarArray.addValues(a,b);return g.keyframes.ScalarArray.endScalarArray(a)};g.keyframes.ScalarArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArrayAnimation.getRootAsScalarArrayAnimation=function(a,b){return(b||new g.keyframes.ScalarArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.ScalarArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation=function(a){a.startObject(3)};g.keyframes.ScalarArrayAnimation.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addTweens=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarArrayAnimation.createScalarArrayAnimation=function(a,b,c,d){g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation(a);g.keyframes.ScalarArrayAnimation.addValues(a,b);g.keyframes.ScalarArrayAnimation.addKeyframes(a,c);g.keyframes.ScalarArrayAnimation.addTweens(a,d);return g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation(a)};g.keyframes.PointAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PointAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PointAnimation.getRootAsPointAnimation=function(a,b){return(b||new g.keyframes.PointAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PointAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Point()).__init(this.bb.__vector(this.bb_pos+c)+a*8,this.bb):null};g.keyframes.PointAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PointAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PointAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PointAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.startPointAnimation=function(a){a.startObject(3)};g.keyframes.PointAnimation.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PointAnimation.startValuesVector=function(a,b){a.startVector(8,b,4)};g.keyframes.PointAnimation.addKeyframes=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PointAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PointAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.addTweens=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PointAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PointAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.endPointAnimation=function(a){a=a.endObject();return a};g.keyframes.PointAnimation.createPointAnimation=function(a,b,c,d){g.keyframes.PointAnimation.startPointAnimation(a);g.keyframes.PointAnimation.addValues(a,b);g.keyframes.PointAnimation.addKeyframes(a,c);g.keyframes.PointAnimation.addTweens(a,d);return g.keyframes.PointAnimation.endPointAnimation(a)};g.keyframes.ColorAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorAnimation.getRootAsColorAnimation=function(a,b){return(b||new g.keyframes.ColorAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Color()).__init(this.bb.__vector(this.bb_pos+c)+a*4,this.bb):null};g.keyframes.ColorAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.startColorAnimation=function(a){a.startObject(3)};g.keyframes.ColorAnimation.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorAnimation.startValuesVector=function(a,b){a.startVector(4,b,1)};g.keyframes.ColorAnimation.addKeyframes=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.addTweens=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.endColorAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorAnimation.createColorAnimation=function(a,b,c,d){g.keyframes.ColorAnimation.startColorAnimation(a);g.keyframes.ColorAnimation.addValues(a,b);g.keyframes.ColorAnimation.addKeyframes(a,c);g.keyframes.ColorAnimation.addTweens(a,d);return g.keyframes.ColorAnimation.endColorAnimation(a)};g.keyframes.ColorArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArrayAnimation.getRootAsColorArrayAnimation=function(a,b){return(b||new g.keyframes.ColorArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.ColorArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.startColorArrayAnimation=function(a){a.startObject(3)};g.keyframes.ColorArrayAnimation.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addTweens=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.endColorArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorArrayAnimation.createColorArrayAnimation=function(a,b,c,d){g.keyframes.ColorArrayAnimation.startColorArrayAnimation(a);g.keyframes.ColorArrayAnimation.addValues(a,b);g.keyframes.ColorArrayAnimation.addKeyframes(a,c);g.keyframes.ColorArrayAnimation.addTweens(a,d);return g.keyframes.ColorArrayAnimation.endColorArrayAnimation(a)};g.keyframes.PathAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PathAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PathAnimation.getRootAsPathAnimation=function(a,b){return(b||new g.keyframes.PathAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PathAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PathAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PathAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.startPathAnimation=function(a){a.startObject(3)};g.keyframes.PathAnimation.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PathAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addKeyframes=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PathAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PathAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addTweens=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PathAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.endPathAnimation=function(a){a=a.endObject();return a};g.keyframes.PathAnimation.createPathAnimation=function(a,b,c,d){g.keyframes.PathAnimation.startPathAnimation(a);g.keyframes.PathAnimation.addValues(a,b);g.keyframes.PathAnimation.addKeyframes(a,c);g.keyframes.PathAnimation.addTweens(a,d);return g.keyframes.PathAnimation.endPathAnimation(a)};g.keyframes.Gradient=function(){this.bb=null,this.bb_pos=0};g.keyframes.Gradient.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Gradient.getRootAsGradient=function(a,b){return(b||new g.keyframes.Gradient()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Gradient.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.GradientType.Linear};g.keyframes.Gradient.prototype.rampStart=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Gradient.prototype.rampStartAnimation=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.rampEnd=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.Point()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Gradient.prototype.rampEndAnimation=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.colors=function(a,b){var c=this.bb.__offset(this.bb_pos,14);return c?(b||new g.keyframes.Color()).__init(this.bb.__vector(this.bb_pos+c)+a*4,this.bb):null};g.keyframes.Gradient.prototype.colorsLength=function(){var a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Gradient.prototype.colorsAnimation=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?(a||new g.keyframes.ColorArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.positions=function(a){var b=this.bb.__offset(this.bb_pos,18);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.Gradient.prototype.positionsLength=function(){var a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Gradient.prototype.positionsArray=function(){var a=this.bb.__offset(this.bb_pos,18);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Gradient.prototype.positionsAnimation=function(a){var b=this.bb.__offset(this.bb_pos,20);return b?(a||new g.keyframes.ScalarArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightLength=function(){var a=this.bb.__offset(this.bb_pos,22);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Gradient.prototype.highlightLengthAnimation=function(a){var b=this.bb.__offset(this.bb_pos,24);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightAngle=function(){var a=this.bb.__offset(this.bb_pos,26);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Gradient.prototype.highlightAngleAnimation=function(a){var b=this.bb.__offset(this.bb_pos,28);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.startGradient=function(a){a.startObject(13)};g.keyframes.Gradient.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.GradientType.Linear)};g.keyframes.Gradient.addRampStart=function(a,b){a.addFieldStruct(1,b,0)};g.keyframes.Gradient.addRampStartAnimation=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Gradient.addRampEnd=function(a,b){a.addFieldStruct(3,b,0)};g.keyframes.Gradient.addRampEndAnimation=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Gradient.addColors=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Gradient.startColorsVector=function(a,b){a.startVector(4,b,1)};g.keyframes.Gradient.addColorsAnimation=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Gradient.addPositions=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Gradient.createPositionsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.Gradient.startPositionsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Gradient.addPositionsAnimation=function(a,b){a.addFieldOffset(8,b,0)};g.keyframes.Gradient.addHighlightLength=function(a,b){a.addFieldFloat32(9,b,0)};g.keyframes.Gradient.addHighlightLengthAnimation=function(a,b){a.addFieldOffset(10,b,0)};g.keyframes.Gradient.addHighlightAngle=function(a,b){a.addFieldFloat32(11,b,0)};g.keyframes.Gradient.addHighlightAngleAnimation=function(a,b){a.addFieldOffset(12,b,0)};g.keyframes.Gradient.endGradient=function(a){a=a.endObject();return a};g.keyframes.Gradient.createGradient=function(a,b,c,d,e,f,h,i,j,k,l,m,n,o){g.keyframes.Gradient.startGradient(a);g.keyframes.Gradient.addType(a,b);g.keyframes.Gradient.addRampStart(a,c);g.keyframes.Gradient.addRampStartAnimation(a,d);g.keyframes.Gradient.addRampEnd(a,e);g.keyframes.Gradient.addRampEndAnimation(a,f);g.keyframes.Gradient.addColors(a,h);g.keyframes.Gradient.addColorsAnimation(a,i);g.keyframes.Gradient.addPositions(a,j);g.keyframes.Gradient.addPositionsAnimation(a,k);g.keyframes.Gradient.addHighlightLength(a,l);g.keyframes.Gradient.addHighlightLengthAnimation(a,m);g.keyframes.Gradient.addHighlightAngle(a,n);g.keyframes.Gradient.addHighlightAngleAnimation(a,o);return g.keyframes.Gradient.endGradient(a)};g.keyframes.Bitmap=function(){this.bb=null,this.bb_pos=0};g.keyframes.Bitmap.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Bitmap.getRootAsBitmap=function(a,b){return(b||new g.keyframes.Bitmap()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Bitmap.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Bitmap.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Bitmap.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Bitmap.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Bitmap.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Bitmap.startBitmap=function(a){a.startObject(3)};g.keyframes.Bitmap.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Bitmap.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Bitmap.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Bitmap.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Bitmap.addName=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Bitmap.endBitmap=function(a){a=a.endObject();return a};g.keyframes.Bitmap.createBitmap=function(a,b,c,d){g.keyframes.Bitmap.startBitmap(a);g.keyframes.Bitmap.addSize(a,b);g.keyframes.Bitmap.addContent(a,c);g.keyframes.Bitmap.addName(a,d);return g.keyframes.Bitmap.endBitmap(a)};g.keyframes.Audio=function(){this.bb=null,this.bb_pos=0};g.keyframes.Audio.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Audio.getRootAsAudio=function(a,b){return(b||new g.keyframes.Audio()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Audio.prototype.length=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Audio.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Audio.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Audio.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Audio.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Audio.startAudio=function(a){a.startObject(3)};g.keyframes.Audio.addLength=function(a,b){a.addFieldFloat32(0,b,0)};g.keyframes.Audio.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Audio.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Audio.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Audio.addName=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Audio.endAudio=function(a){a=a.endObject();return a};g.keyframes.Audio.createAudio=function(a,b,c,d){g.keyframes.Audio.startAudio(a);g.keyframes.Audio.addLength(a,b);g.keyframes.Audio.addContent(a,c);g.keyframes.Audio.addName(a,d);return g.keyframes.Audio.endAudio(a)};g.keyframes.Video=function(){this.bb=null,this.bb_pos=0};g.keyframes.Video.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Video.getRootAsVideo=function(a,b){return(b||new g.keyframes.Video()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Video.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Video.prototype.length=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Video.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Video.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Video.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Video.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Video.startVideo=function(a){a.startObject(4)};g.keyframes.Video.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Video.addLength=function(a,b){a.addFieldInt32(1,b,0)};g.keyframes.Video.addContent=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Video.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Video.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Video.addName=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Video.endVideo=function(a){a=a.endObject();return a};g.keyframes.Video.createVideo=function(a,b,c,d,e){g.keyframes.Video.startVideo(a);g.keyframes.Video.addSize(a,b);g.keyframes.Video.addLength(a,c);g.keyframes.Video.addContent(a,d);g.keyframes.Video.addName(a,e);return g.keyframes.Video.endVideo(a)};g.keyframes.Font=function(){this.bb=null,this.bb_pos=0};g.keyframes.Font.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Font.getRootAsFont=function(a,b){return(b||new g.keyframes.Font()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Font.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Font.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Font.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Font.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Font.startFont=function(a){a.startObject(2)};g.keyframes.Font.addContent=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Font.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Font.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Font.addName=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Font.endFont=function(a){a=a.endObject();return a};g.keyframes.Font.createFont=function(a,b,c){g.keyframes.Font.startFont(a);g.keyframes.Font.addContent(a,b);g.keyframes.Font.addName(a,c);return g.keyframes.Font.endFont(a)};g.keyframes.ProgressMarker=function(){this.bb=null,this.bb_pos=0};g.keyframes.ProgressMarker.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ProgressMarker.getRootAsProgressMarker=function(a,b){return(b||new g.keyframes.ProgressMarker()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ProgressMarker.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.ProgressMarker.prototype.startProgress=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.prototype.endProgress=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.startProgressMarker=function(a){a.startObject(3)};g.keyframes.ProgressMarker.addName=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ProgressMarker.addStartProgress=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.ProgressMarker.addEndProgress=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.ProgressMarker.endProgressMarker=function(a){a=a.endObject();return a};g.keyframes.ProgressMarker.createProgressMarker=function(a,b,c,d){g.keyframes.ProgressMarker.startProgressMarker(a);g.keyframes.ProgressMarker.addName(a,b);g.keyframes.ProgressMarker.addStartProgress(a,c);g.keyframes.ProgressMarker.addEndProgress(a,d);return g.keyframes.ProgressMarker.endProgressMarker(a)};g.keyframes.Layer=function(){this.bb=null,this.bb_pos=0};g.keyframes.Layer.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Layer.getRootAsLayer=function(a,b){return(b||new g.keyframes.Layer()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Layer.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Layer.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.tags=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,b):null};g.keyframes.Layer.prototype.tagsLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.subLayer=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.subLayers=function(a,b){var c=this.bb.__offset(this.bb_pos,12);return c?(b||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.subLayersLength=function(){var a=this.bb.__offset(this.bb_pos,12);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.subScene=function(){var a=this.bb.__offset(this.bb_pos,14);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Layer.prototype.subScenes=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?this.bb.readInt32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.Layer.prototype.subScenesLength=function(){var a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.subScenesArray=function(){var a=this.bb.__offset(this.bb_pos,16);return a?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Layer.prototype.zIndex=function(){var a=this.bb.__offset(this.bb_pos,18);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Layer.prototype.isGroup=function(){var a=this.bb.__offset(this.bb_pos,20);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.fromProgress=function(){var a=this.bb.__offset(this.bb_pos,22);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.toProgress=function(){var a=this.bb.__offset(this.bb_pos,24);return a?this.bb.readFloat32(this.bb_pos+a):1};g.keyframes.Layer.prototype.progressOffset=function(){var a=this.bb.__offset(this.bb_pos,26);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.anchorPoint=function(a){var b=this.bb.__offset(this.bb_pos,28);return b?(a||new g.keyframes.Point()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.anchorPointAnimation=function(a){var b=this.bb.__offset(this.bb_pos,30);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.xPosition=function(){var a=this.bb.__offset(this.bb_pos,32);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.xPositionAnimation=function(a){var b=this.bb.__offset(this.bb_pos,34);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.yPosition=function(){var a=this.bb.__offset(this.bb_pos,36);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.yPositionAnimation=function(a){var b=this.bb.__offset(this.bb_pos,38);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.position=function(a){var b=this.bb.__offset(this.bb_pos,40);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.rotation=function(){var a=this.bb.__offset(this.bb_pos,42);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.rotationAnimation=function(a){var b=this.bb.__offset(this.bb_pos,44);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.scale=function(a){var b=this.bb.__offset(this.bb_pos,46);return b?(a||new g.keyframes.Point()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.scaleAnimation=function(a){var b=this.bb.__offset(this.bb_pos,48);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.opacity=function(){var a=this.bb.__offset(this.bb_pos,50);return a?this.bb.readFloat32(this.bb_pos+a):1};g.keyframes.Layer.prototype.opacityAnimation=function(a){var b=this.bb.__offset(this.bb_pos,52);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.path=function(a){var b=this.bb.__offset(this.bb_pos,54);return b?(a||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.pathAnimation=function(a){var b=this.bb.__offset(this.bb_pos,56);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.trimStart=function(){var a=this.bb.__offset(this.bb_pos,58);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.trimStartAnimation=function(a){var b=this.bb.__offset(this.bb_pos,60);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.trimEnd=function(){var a=this.bb.__offset(this.bb_pos,62);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.trimEndAnimation=function(a){var b=this.bb.__offset(this.bb_pos,64);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.trimOffset=function(){var a=this.bb.__offset(this.bb_pos,66);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.trimOffsetAnimation=function(a){var b=this.bb.__offset(this.bb_pos,68);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.fillColor=function(a){var b=this.bb.__offset(this.bb_pos,70);return b?(a||new g.keyframes.Color()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.fillColorAnimation=function(a){var b=this.bb.__offset(this.bb_pos,72);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.gradientFill=function(a){var b=this.bb.__offset(this.bb_pos,74);return b?(a||new g.keyframes.Gradient()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeColor=function(a){var b=this.bb.__offset(this.bb_pos,76);return b?(a||new g.keyframes.Color()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.strokeColorAnimation=function(a){var b=this.bb.__offset(this.bb_pos,78);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeWidth=function(){var a=this.bb.__offset(this.bb_pos,80);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.strokeWidthAnimation=function(a){var b=this.bb.__offset(this.bb_pos,82);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeLineCap=function(){var a=this.bb.__offset(this.bb_pos,84);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineCap.Butt};g.keyframes.Layer.prototype.strokeLineJoin=function(){var a=this.bb.__offset(this.bb_pos,86);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineJoin.Miter};g.keyframes.Layer.prototype.miterLimit=function(){var a=this.bb.__offset(this.bb_pos,88);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.miterLimitAnimation=function(a){var b=this.bb.__offset(this.bb_pos,90);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.vectorCompositeOrder=function(){var a=this.bb.__offset(this.bb_pos,92);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.VectorCompositeOrder.FillStroke};g.keyframes.Layer.prototype.clippingPath=function(a){var b=this.bb.__offset(this.bb_pos,94);return b?(a||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.clippingPathAnimation=function(a){var b=this.bb.__offset(this.bb_pos,96);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.isTrackMatte=function(){var a=this.bb.__offset(this.bb_pos,98);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.trackMatteType=function(){var a=this.bb.__offset(this.bb_pos,100);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TrackMatteType.None};g.keyframes.Layer.prototype.trackMatteId=function(){var a=this.bb.__offset(this.bb_pos,102);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Layer.prototype.bitmapIndex=function(){var a=this.bb.__offset(this.bb_pos,104);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.audioLevel=function(a){var b=this.bb.__offset(this.bb_pos,106);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.Layer.prototype.audioLevelLength=function(){var a=this.bb.__offset(this.bb_pos,106);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.audioLevelArray=function(){var a=this.bb.__offset(this.bb_pos,106);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Layer.prototype.audioLevels=function(a,b){var c=this.bb.__offset(this.bb_pos,108);return c?(b||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.audioLevelsLength=function(){var a=this.bb.__offset(this.bb_pos,108);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.audioIndex=function(){var a=this.bb.__offset(this.bb_pos,110);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.videoLevels=function(a,b){var c=this.bb.__offset(this.bb_pos,112);return c?(b||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.videoLevelsLength=function(){var a=this.bb.__offset(this.bb_pos,112);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.videoIndex=function(){var a=this.bb.__offset(this.bb_pos,114);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.fontIndex=function(){var a=this.bb.__offset(this.bb_pos,116);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.text=function(a){var b=this.bb.__offset(this.bb_pos,118);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textTypeface=function(a){var b=this.bb.__offset(this.bb_pos,120);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textSize=function(){var a=this.bb.__offset(this.bb_pos,122);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.textColor=function(a){var b=this.bb.__offset(this.bb_pos,124);return b?(a||new g.keyframes.Color()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.textAlign=function(){var a=this.bb.__offset(this.bb_pos,126);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.textValign=function(){var a=this.bb.__offset(this.bb_pos,128);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.textTracking=function(){var a=this.bb.__offset(this.bb_pos,130);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.textLeading=function(){var a=this.bb.__offset(this.bb_pos,132);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.textItalic=function(){var a=this.bb.__offset(this.bb_pos,134);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.textWeight=function(){var a=this.bb.__offset(this.bb_pos,136);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TextWeight.Thin};g.keyframes.Layer.prototype.textTextboxSize=function(a){var b=this.bb.__offset(this.bb_pos,138);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.startLayer=function(a){a.startObject(68)};g.keyframes.Layer.addId=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Layer.addName=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Layer.addTags=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Layer.createTagsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startTagsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addSubLayer=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Layer.addSubLayers=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Layer.createSubLayersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startSubLayersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addSubScene=function(a,b){a.addFieldInt32(5,b,0)};g.keyframes.Layer.addSubScenes=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Layer.createSubScenesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addInt32(b[c]);return a.endVector()};g.keyframes.Layer.startSubScenesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addZIndex=function(a,b){a.addFieldInt32(7,b,0)};g.keyframes.Layer.addIsGroup=function(a,b){a.addFieldInt8(8,+b,0)};g.keyframes.Layer.addFromProgress=function(a,b){a.addFieldFloat32(9,b,0)};g.keyframes.Layer.addToProgress=function(a,b){a.addFieldFloat32(10,b,1)};g.keyframes.Layer.addProgressOffset=function(a,b){a.addFieldFloat32(11,b,0)};g.keyframes.Layer.addAnchorPoint=function(a,b){a.addFieldStruct(12,b,0)};g.keyframes.Layer.addAnchorPointAnimation=function(a,b){a.addFieldOffset(13,b,0)};g.keyframes.Layer.addXPosition=function(a,b){a.addFieldFloat32(14,b,0)};g.keyframes.Layer.addXPositionAnimation=function(a,b){a.addFieldOffset(15,b,0)};g.keyframes.Layer.addYPosition=function(a,b){a.addFieldFloat32(16,b,0)};g.keyframes.Layer.addYPositionAnimation=function(a,b){a.addFieldOffset(17,b,0)};g.keyframes.Layer.addPosition=function(a,b){a.addFieldOffset(18,b,0)};g.keyframes.Layer.addRotation=function(a,b){a.addFieldFloat32(19,b,0)};g.keyframes.Layer.addRotationAnimation=function(a,b){a.addFieldOffset(20,b,0)};g.keyframes.Layer.addScale=function(a,b){a.addFieldStruct(21,b,0)};g.keyframes.Layer.addScaleAnimation=function(a,b){a.addFieldOffset(22,b,0)};g.keyframes.Layer.addOpacity=function(a,b){a.addFieldFloat32(23,b,1)};g.keyframes.Layer.addOpacityAnimation=function(a,b){a.addFieldOffset(24,b,0)};g.keyframes.Layer.addPath=function(a,b){a.addFieldOffset(25,b,0)};g.keyframes.Layer.addPathAnimation=function(a,b){a.addFieldOffset(26,b,0)};g.keyframes.Layer.addTrimStart=function(a,b){a.addFieldFloat32(27,b,0)};g.keyframes.Layer.addTrimStartAnimation=function(a,b){a.addFieldOffset(28,b,0)};g.keyframes.Layer.addTrimEnd=function(a,b){a.addFieldFloat32(29,b,0)};g.keyframes.Layer.addTrimEndAnimation=function(a,b){a.addFieldOffset(30,b,0)};g.keyframes.Layer.addTrimOffset=function(a,b){a.addFieldFloat32(31,b,0)};g.keyframes.Layer.addTrimOffsetAnimation=function(a,b){a.addFieldOffset(32,b,0)};g.keyframes.Layer.addFillColor=function(a,b){a.addFieldStruct(33,b,0)};g.keyframes.Layer.addFillColorAnimation=function(a,b){a.addFieldOffset(34,b,0)};g.keyframes.Layer.addGradientFill=function(a,b){a.addFieldOffset(35,b,0)};g.keyframes.Layer.addStrokeColor=function(a,b){a.addFieldStruct(36,b,0)};g.keyframes.Layer.addStrokeColorAnimation=function(a,b){a.addFieldOffset(37,b,0)};g.keyframes.Layer.addStrokeWidth=function(a,b){a.addFieldFloat32(38,b,0)};g.keyframes.Layer.addStrokeWidthAnimation=function(a,b){a.addFieldOffset(39,b,0)};g.keyframes.Layer.addStrokeLineCap=function(a,b){a.addFieldInt8(40,b,g.keyframes.StrokeLineCap.Butt)};g.keyframes.Layer.addStrokeLineJoin=function(a,b){a.addFieldInt8(41,b,g.keyframes.StrokeLineJoin.Miter)};g.keyframes.Layer.addMiterLimit=function(a,b){a.addFieldFloat32(42,b,0)};g.keyframes.Layer.addMiterLimitAnimation=function(a,b){a.addFieldOffset(43,b,0)};g.keyframes.Layer.addVectorCompositeOrder=function(a,b){a.addFieldInt8(44,b,g.keyframes.VectorCompositeOrder.FillStroke)};g.keyframes.Layer.addClippingPath=function(a,b){a.addFieldOffset(45,b,0)};g.keyframes.Layer.addClippingPathAnimation=function(a,b){a.addFieldOffset(46,b,0)};g.keyframes.Layer.addIsTrackMatte=function(a,b){a.addFieldInt8(47,+b,0)};g.keyframes.Layer.addTrackMatteType=function(a,b){a.addFieldInt8(48,b,g.keyframes.TrackMatteType.None)};g.keyframes.Layer.addTrackMatteId=function(a,b){a.addFieldInt32(49,b,0)};g.keyframes.Layer.addBitmapIndex=function(a,b){a.addFieldInt32(50,b,-1)};g.keyframes.Layer.addAudioLevel=function(a,b){a.addFieldOffset(51,b,0)};g.keyframes.Layer.createAudioLevelVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.Layer.startAudioLevelVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addAudioLevels=function(a,b){a.addFieldOffset(52,b,0)};g.keyframes.Layer.createAudioLevelsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startAudioLevelsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addAudioIndex=function(a,b){a.addFieldInt32(53,b,-1)};g.keyframes.Layer.addVideoLevels=function(a,b){a.addFieldOffset(54,b,0)};g.keyframes.Layer.createVideoLevelsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startVideoLevelsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addVideoIndex=function(a,b){a.addFieldInt32(55,b,-1)};g.keyframes.Layer.addFontIndex=function(a,b){a.addFieldInt32(56,b,-1)};g.keyframes.Layer.addText=function(a,b){a.addFieldOffset(57,b,0)};g.keyframes.Layer.addTextTypeface=function(a,b){a.addFieldOffset(58,b,0)};g.keyframes.Layer.addTextSize=function(a,b){a.addFieldFloat32(59,b,0)};g.keyframes.Layer.addTextColor=function(a,b){a.addFieldStruct(60,b,0)};g.keyframes.Layer.addTextAlign=function(a,b){a.addFieldFloat32(61,b,0)};g.keyframes.Layer.addTextValign=function(a,b){a.addFieldFloat32(62,b,0)};g.keyframes.Layer.addTextTracking=function(a,b){a.addFieldFloat32(63,b,0)};g.keyframes.Layer.addTextLeading=function(a,b){a.addFieldFloat32(64,b,0)};g.keyframes.Layer.addTextItalic=function(a,b){a.addFieldInt8(65,+b,0)};g.keyframes.Layer.addTextWeight=function(a,b){a.addFieldInt8(66,b,g.keyframes.TextWeight.Thin)};g.keyframes.Layer.addTextTextboxSize=function(a,b){a.addFieldStruct(67,b,0)};g.keyframes.Layer.endLayer=function(a){a=a.endObject();return a};g.keyframes.Layer.createLayer=function(a,b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa){g.keyframes.Layer.startLayer(a);g.keyframes.Layer.addId(a,b);g.keyframes.Layer.addName(a,c);g.keyframes.Layer.addTags(a,d);g.keyframes.Layer.addSubLayer(a,e);g.keyframes.Layer.addSubLayers(a,f);g.keyframes.Layer.addSubScene(a,h);g.keyframes.Layer.addSubScenes(a,i);g.keyframes.Layer.addZIndex(a,j);g.keyframes.Layer.addIsGroup(a,k);g.keyframes.Layer.addFromProgress(a,l);g.keyframes.Layer.addToProgress(a,m);g.keyframes.Layer.addProgressOffset(a,n);g.keyframes.Layer.addAnchorPoint(a,o);g.keyframes.Layer.addAnchorPointAnimation(a,p);g.keyframes.Layer.addXPosition(a,q);g.keyframes.Layer.addXPositionAnimation(a,r);g.keyframes.Layer.addYPosition(a,s);g.keyframes.Layer.addYPositionAnimation(a,t);g.keyframes.Layer.addPosition(a,u);g.keyframes.Layer.addRotation(a,v);g.keyframes.Layer.addRotationAnimation(a,w);g.keyframes.Layer.addScale(a,x);g.keyframes.Layer.addScaleAnimation(a,y);g.keyframes.Layer.addOpacity(a,z);g.keyframes.Layer.addOpacityAnimation(a,A);g.keyframes.Layer.addPath(a,B);g.keyframes.Layer.addPathAnimation(a,C);g.keyframes.Layer.addTrimStart(a,D);g.keyframes.Layer.addTrimStartAnimation(a,E);g.keyframes.Layer.addTrimEnd(a,F);g.keyframes.Layer.addTrimEndAnimation(a,G);g.keyframes.Layer.addTrimOffset(a,H);g.keyframes.Layer.addTrimOffsetAnimation(a,I);g.keyframes.Layer.addFillColor(a,J);g.keyframes.Layer.addFillColorAnimation(a,K);g.keyframes.Layer.addGradientFill(a,L);g.keyframes.Layer.addStrokeColor(a,M);g.keyframes.Layer.addStrokeColorAnimation(a,N);g.keyframes.Layer.addStrokeWidth(a,O);g.keyframes.Layer.addStrokeWidthAnimation(a,P);g.keyframes.Layer.addStrokeLineCap(a,Q);g.keyframes.Layer.addStrokeLineJoin(a,R);g.keyframes.Layer.addMiterLimit(a,S);g.keyframes.Layer.addMiterLimitAnimation(a,T);g.keyframes.Layer.addVectorCompositeOrder(a,U);g.keyframes.Layer.addClippingPath(a,V);g.keyframes.Layer.addClippingPathAnimation(a,W);g.keyframes.Layer.addIsTrackMatte(a,X);g.keyframes.Layer.addTrackMatteType(a,Y);g.keyframes.Layer.addTrackMatteId(a,Z);g.keyframes.Layer.addBitmapIndex(a,$);g.keyframes.Layer.addAudioLevel(a,aa);g.keyframes.Layer.addAudioLevels(a,ba);g.keyframes.Layer.addAudioIndex(a,ca);g.keyframes.Layer.addVideoLevels(a,da);g.keyframes.Layer.addVideoIndex(a,ea);g.keyframes.Layer.addFontIndex(a,fa);g.keyframes.Layer.addText(a,ga);g.keyframes.Layer.addTextTypeface(a,ha);g.keyframes.Layer.addTextSize(a,ia);g.keyframes.Layer.addTextColor(a,ja);g.keyframes.Layer.addTextAlign(a,ka);g.keyframes.Layer.addTextValign(a,la);g.keyframes.Layer.addTextTracking(a,ma);g.keyframes.Layer.addTextLeading(a,na);g.keyframes.Layer.addTextItalic(a,oa);g.keyframes.Layer.addTextWeight(a,pa);g.keyframes.Layer.addTextTextboxSize(a,qa);return g.keyframes.Layer.endLayer(a)};g.keyframes.Scene=function(){this.bb=null,this.bb_pos=0};g.keyframes.Scene.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Scene.getRootAsScene=function(a,b){return(b||new g.keyframes.Scene()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Scene.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Scene.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Scene.prototype.frameRate=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Scene.prototype.duration=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Scene.prototype.rootLayer=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Scene.prototype.progressMarkers=function(a,b){var c=this.bb.__offset(this.bb_pos,14);return c?(b||new g.keyframes.ProgressMarker()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Scene.prototype.progressMarkersLength=function(){var a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Scene.startScene=function(a){a.startObject(6)};g.keyframes.Scene.addId=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Scene.addSize=function(a,b){a.addFieldStruct(1,b,0)};g.keyframes.Scene.addFrameRate=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.Scene.addDuration=function(a,b){a.addFieldFloat32(3,b,0)};g.keyframes.Scene.addRootLayer=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Scene.addProgressMarkers=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Scene.createProgressMarkersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Scene.startProgressMarkersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Scene.endScene=function(a){a=a.endObject();return a};g.keyframes.Scene.createScene=function(a,b,c,d,e,f,h){g.keyframes.Scene.startScene(a);g.keyframes.Scene.addId(a,b);g.keyframes.Scene.addSize(a,c);g.keyframes.Scene.addFrameRate(a,d);g.keyframes.Scene.addDuration(a,e);g.keyframes.Scene.addRootLayer(a,f);g.keyframes.Scene.addProgressMarkers(a,h);return g.keyframes.Scene.endScene(a)};g.keyframes.Assets=function(){this.bb=null,this.bb_pos=0};g.keyframes.Assets.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Assets.getRootAsAssets=function(a,b){return(b||new g.keyframes.Assets()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Assets.prototype.bitmaps=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Bitmap()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Assets.prototype.bitmapsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Assets.prototype.audio=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Audio()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Assets.prototype.audioLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Assets.prototype.video=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Video()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Assets.prototype.videoLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Assets.prototype.fonts=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Font()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Assets.prototype.fontsLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Assets.startAssets=function(a){a.startObject(4)};g.keyframes.Assets.addBitmaps=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Assets.createBitmapsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Assets.startBitmapsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Assets.addAudio=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Assets.createAudioVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Assets.startAudioVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Assets.addVideo=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Assets.createVideoVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Assets.startVideoVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Assets.addFonts=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Assets.createFontsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Assets.startFontsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Assets.endAssets=function(a){a=a.endObject();return a};g.keyframes.Assets.createAssets=function(a,b,c,d,e){g.keyframes.Assets.startAssets(a);g.keyframes.Assets.addBitmaps(a,b);g.keyframes.Assets.addAudio(a,c);g.keyframes.Assets.addVideo(a,d);g.keyframes.Assets.addFonts(a,e);return g.keyframes.Assets.endAssets(a)};g.keyframes.Variable=function(){this.bb=null,this.bb_pos=0};g.keyframes.Variable.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Variable.getRootAsVariable=function(a,b){return(b||new g.keyframes.Variable()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Variable.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Variable.prototype.layerIds=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readInt32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.Variable.prototype.layerIdsLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Variable.prototype.layerIdsArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Variable.prototype.fields=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Variable.prototype.fieldsLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Variable.prototype.fieldsArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Variable.startVariable=function(a){a.startObject(3)};g.keyframes.Variable.addName=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Variable.addLayerIds=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Variable.createLayerIdsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addInt32(b[c]);return a.endVector()};g.keyframes.Variable.startLayerIdsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Variable.addFields=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Variable.createFieldsVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Variable.startFieldsVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Variable.endVariable=function(a){a=a.endObject();return a};g.keyframes.Variable.createVariable=function(a,b,c,d){g.keyframes.Variable.startVariable(a);g.keyframes.Variable.addName(a,b);g.keyframes.Variable.addLayerIds(a,c);g.keyframes.Variable.addFields(a,d);return g.keyframes.Variable.endVariable(a)};g.keyframes.Document=function(){this.bb=null,this.bb_pos=0};g.keyframes.Document.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Document.getRootAsDocument=function(a,b){return(b||new g.keyframes.Document()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Document.bufferHasIdentifier=function(a){return a.__has_identifier("KYF3")};g.keyframes.Document.prototype.manifest=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Document.prototype.manifestLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.manifestArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Document.prototype.assets=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Assets()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Document.prototype.scenes=function(a,b){var c=this.bb.__offset(this.bb_pos,8);return c?(b||new g.keyframes.Scene()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.scenesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.defaultScene=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Document.prototype.variables=function(a,b){var c=this.bb.__offset(this.bb_pos,12);return c?(b||new g.keyframes.Variable()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.variablesLength=function(){var a=this.bb.__offset(this.bb_pos,12);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.startDocument=function(a){a.startObject(5)};g.keyframes.Document.addManifest=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Document.createManifestVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Document.startManifestVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Document.addAssets=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Document.addScenes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Document.createScenesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startScenesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addDefaultScene=function(a,b){a.addFieldInt32(3,b,0)};g.keyframes.Document.addVariables=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Document.createVariablesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startVariablesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.endDocument=function(a){a=a.endObject();return a};g.keyframes.Document.finishDocumentBuffer=function(a,b){a.finish(b,"KYF3")};g.keyframes.Document.createDocument=function(a,b,c,d,e,f){g.keyframes.Document.startDocument(a);g.keyframes.Document.addManifest(a,b);g.keyframes.Document.addAssets(a,c);g.keyframes.Document.addScenes(a,d);g.keyframes.Document.addDefaultScene(a,e);g.keyframes.Document.addVariables(a,f);return g.keyframes.Document.endDocument(a)};a=g.keyframes;f["default"]=a}),66);
__d("KFLoader",["BlobFactory","CubicBezier","KFColor","KFComponentNames","KFGradient","KFLoaderUtils","KFManifest","KFPath2d","KFPoint","KFPosition","KFScalar","KFSchema","Promise","flatbuffers"],(function(a,b,c,d,e,f,g){"use strict";var h,i=a.URL||a.webkitURL||{},j=new Map(),k;function e(a,b,e){k=!1;j.clear();a=new(d("flatbuffers").ByteBuffer)(a);a=c("KFSchema").Document.bufferHasIdentifier(a)?c("KFSchema").Document.getRootAsDocument(a):null;m(a);Q(a,e);n(a,null,!0,b,e);l(b)}function l(a){k?c("KFLoaderUtils").maybeGenerateTrackMatteIDs(a):c("KFLoaderUtils").traverseEntitiesAndApply(a,function(b){b=a.getComponent(b,d("KFComponentNames").COMPOSITING);var c=b==null?void 0:b.trackMatteId;if(b==null||c==null||c===0)return;var e=j.get(c);b.trackMatteId=(b=e==null?void 0:e.getID())!=null?b:c})}function m(a,b){var d=[],e=a.manifestLength();for(var f=0;f<e;f++)d.push(a.manifest(f));c("KFManifest")(d,b)}function n(a,b,c,e,f){b=b||a.defaultScene();b=a.scenes(b);var g=e.createEntity();c&&e.addComponent(g,d("KFComponentNames").ROOT);c=e.addComponent(g,d("KFComponentNames").SCENE,[],b.duration()*1e3,b.frameRate(),K(b.size()));p(a,g,e,b.rootLayer(),c,f);c.setEntities(c.getEntities().sort(function(a,b){return o(e,a)<o(e,b)?-1:1}));return g}function o(a,b){a=a.getComponent(b,d("KFComponentNames").COMPOSITING);return a?a.zIndex:-Infinity}function p(a,b,c,d,e,f,g){b=b||c.createEntity();g||e.addEntity(b);r(b,c,d);z(b,c,d);t(b,c,d);E(b,c,d);P(b,c,d,f);var h=y(b,c,d);q(a,b,c,d,e,f,h||g);return b}function q(a,b,c,e,f,g,h){var i,j=e.subLayer(),k=e.subLayersLength();if(j)i=c.addComponent(b,d("KFComponentNames").CHILDREN),i.addChild(p(a,void 0,c,e.subLayer(),f,g,h));else if(k){i=c.addComponent(b,d("KFComponentNames").CHILDREN);for(j=0;j<k;j++)i.addChild(p(a,void 0,c,e.subLayers(j),f,g,h))}j=e.subScene();j!==0&&(i=i||c.addComponent(b,d("KFComponentNames").CHILDREN),i.addChild(n(a,j,!1,c,g)))}function r(a,b,c){var e=c.tagsLength(),f;if(e){f=[];for(var g=0;g<e;g++)f.push(c.tags(g))}g=c.id();j.set(g,a);b.addComponent(a,d("KFComponentNames").IDENTIFICATION,g,c.name(),f)}function s(a){if(!a)return;var b=a.keyframesLength(),c=G(a.values(0)),d=[],e=[];for(var f=0;f<b;f++)d.push(a.keyframes(f)),f<b-1&&e.push(x(a.tweens(f)));return{values:c,keyframes:d,tweens:e}}function t(a,b,e){var f=new(c("KFPosition"))(new(d("KFScalar").KFScalar)(e.xPosition()||0,A(e.xPositionAnimation())),new(d("KFScalar").KFScalar)(e.yPosition()||0,A(e.yPositionAnimation())),D(c("KFPath2d"),null,s(e.position()))),g=new(d("KFScalar").KFScalar)(e.rotation()||0,A(e.rotationAnimation())),h=new(d("KFPoint").KFPoint)(u(e.scale(),[1,1]),v(e.scaleAnimation(),[1,1]));e=new(d("KFPoint").KFPoint)(u(e.anchorPoint()),v(e.anchorPointAnimation()));b.addComponent(a,d("KFComponentNames").TRANSFORM,f,g,h,e)}function u(a,b){b===void 0&&(b=[0,0]);return a?[a.x(),a.y()]:b}function v(a,b){b===void 0&&(b=[0,0]);return w(a,u,b)}function w(a,b,c){b===void 0&&(b=function(b,a){return b===void 0?a:b});c===void 0&&(c=0);if(!a)return;var d=a.keyframesLength(),e=[],f=[],g=[];for(var h=0;h<d;h++)e.push(b(a.values(h),c)),f.push(a.keyframes(h)),h<d-1&&g.push(x(a.tweens(h)));return{values:e,keyframes:f,tweens:g}}function x(a){var b=a.type(),d;b===c("KFSchema").TweenType.Bezier&&(d=new(c("CubicBezier"))(u(a.control1()),u(a.control2())));return{type:b,bezier:d}}function y(a,b,e){var f=e.zIndex(),g=new(d("KFScalar").KFScalar)(e.opacity(),A(e.opacityAnimation())),h=e.isTrackMatte(),i=e.trackMatteType(),j=e.trackMatteId();h&&(j==null||j<=0)&&(k=!0);var l=e.isGroup();e=D(c("KFPath2d"),G(e.clippingPath()),J(e.clippingPathAnimation()));b.addComponent(a,d("KFComponentNames").COMPOSITING,f,g,l,h,i,j,e);return l}function z(a,b,c){b.addComponent(a,d("KFComponentNames").TIME,c.fromProgress(),c.toProgress(),c.progressOffset())}function A(a){return w(a)}function B(a){if(!a)return;var b=a.valuesLength(),c=[];for(var d=0;d<b;d++)c.push(a.values(d));return c}function C(a){return w(a,B)}function D(a,b,c,d){if(b!==void 0&&b!==null||c!==void 0)return new a(b,c,d)}function E(a,b,e){var f=D(c("KFPath2d"),G(e.path()),J(e.pathAnimation()),a.id);if(f){var g=D(d("KFScalar").KFScalar,e.trimStart(),A(e.trimStartAnimation())),h=D(d("KFScalar").KFScalar,e.trimStart()===0&&e.trimEnd()===0?100:e.trimEnd(),A(e.trimEndAnimation())),i=D(d("KFScalar").KFScalar,e.trimOffset(),A(e.trimOffsetAnimation())),j=D(d("KFColor").KFColor,M(e.fillColor()),L(e.fillColorAnimation())),k=F(e.gradientFill()),l=D(d("KFScalar").KFScalar,e.strokeWidth(),A(e.strokeWidthAnimation())),m=D(d("KFColor").KFColor,M(e.strokeColor()),L(e.strokeColorAnimation())),n=D(d("KFScalar").KFScalar,e.miterLimit(),A(e.miterLimitAnimation()));b.addComponent(a,d("KFComponentNames").SHAPE,f,g,h,i,j,k,m,l,e.strokeLineCap(),e.strokeLineJoin(),n,e.vectorCompositeOrder())}}function F(a){if(!a)return;var b=a.type(),e=D(d("KFScalar").KFScalarArray,a.positionsArray(),C(a.positionsAnimation())),f=D(d("KFColor").KFColorArray,N(a),O(a.colorsAnimation())),g=D(d("KFPoint").KFPoint,u(a.rampStart()),v(a.rampStartAnimation())),h=D(d("KFPoint").KFPoint,u(a.rampEnd()),v(a.rampEndAnimation())),i,j;b===c("KFSchema").GradientType.Radial&&(i=D(d("KFScalar").KFScalar,a.highlightAngle(),A(a.highlightAngleAnimation())),j=D(d("KFScalar").KFScalar,a.highlightLength(),A(a.highlightLengthAnimation())));return new(c("KFGradient"))(b,e,f,g,h,i,j)}function G(a){if(!a)return;var b=a.commandsArray();if(!b)return;a=a.pointsArray();var d=0,e=[],f,g=[],h=[],i=[],j=null;for(var k=0;k<b.length;k++){j=e.length>0?e[e.length-1]:null;switch(b[k]){case c("KFSchema").CommandType.MoveTo:case c("KFSchema").CommandType.LineTo:g[0]=a[d++];g[1]=a[d++];e.push({type:b[k],point:[g[0],g[1]]});break;case c("KFSchema").CommandType.QuadTo:g[0]=a[d++];g[1]=a[d++];h[0]=a[d++];h[1]=a[d++];e.push({type:b[k],point:[g[0],g[1]],c1:[h[0],h[1]]});break;case c("KFSchema").CommandType.CubicTo:g[0]=a[d++];g[1]=a[d++];h[0]=a[d++];h[1]=a[d++];i[0]=a[d++];i[1]=a[d++];e.push({type:b[k],point:[g[0],g[1]],c1:[h[0],h[1]],c2:[i[0],i[1]]});break;case c("KFSchema").CommandType.HorizontalLineTo:g[0]=a[d++];e.push({type:c("KFSchema").CommandType.LineTo,point:[g[0],g[1]]});break;case c("KFSchema").CommandType.VerticalLineTo:g[1]=a[d++];e.push({type:c("KFSchema").CommandType.LineTo,point:[g[0],g[1]]});break;case c("KFSchema").CommandType.CloseLineTo:e.push({type:c("KFSchema").CommandType.LineTo,point:[f[0],f[1]]});break;case c("KFSchema").CommandType.SmoothQuadTo:I(h,j);g[0]=a[d++];g[1]=a[d++];e.push({type:c("KFSchema").CommandType.QuadTo,point:[g[0],g[1]],c1:[h[0],h[1]]});break;case c("KFSchema").CommandType.CloseQuadTo:h[0]=a[d++];h[1]=a[d++];e.push({type:c("KFSchema").CommandType.QuadTo,point:[f[0],f[1]],c1:[h[0],h[1]]});break;case c("KFSchema").CommandType.CloseSmoothQuadTo:I(h,j);e.push({type:c("KFSchema").CommandType.QuadTo,point:[f[0],f[1]],c1:[h[0],h[1]]});break;case c("KFSchema").CommandType.SmoothCubicTo:I(h,j);g[0]=a[d++];g[1]=a[d++];i[0]=a[d++];i[1]=a[d++];e.push({type:c("KFSchema").CommandType.CubicTo,point:[g[0],g[1]],c1:[h[0],h[1]],c2:[i[0],i[1]]});break;case c("KFSchema").CommandType.CloseCubicTo:h[0]=a[d++];h[1]=a[d++];i[0]=a[d++];i[1]=a[d++];e.push({type:c("KFSchema").CommandType.CubicTo,point:[f[0],f[1]],c1:[h[0],h[1]],c2:[i[0],i[1]]});break;case c("KFSchema").CommandType.CloseSmoothCubicTo:I(h,j);i[0]=a[d++];i[1]=a[d++];e.push({type:c("KFSchema").CommandType.CubicTo,point:[f[0],f[1]],c1:[h[0],h[1]],c2:[i[0],i[1]]});break}f||(f=[g[0],g[1]])}return e}var H=[0,0];function I(a,b){var d;if(b==null)return;var e=b.point,f;switch(b.type){case c("KFSchema").CommandType.QuadTo:f=(d=b.c1)!=null?d:H;break;case c("KFSchema").CommandType.CubicTo:f=(d=b.c2)!=null?d:H;break;default:f=H;break}a[0]=f[0]+2*(e[0]-f[0]);a[1]=f[1]+2*(e[1]-f[1])}function J(a){return w(a,G)}function K(a){return a?{width:a.width(),height:a.height()}:null}function L(a){return w(a,M)}function M(a){return a?[a.red(),a.green(),a.blue(),a.alpha()]:null}function N(a){if(!a)return null;var b=a.colorsLength(),c=[];for(var d=0;d<b;d++)c.push(M(a.colors(d)));return c}function O(a){return w(a,N)}function P(a,b,c,e){e=c.bitmapIndex();e!==-1&&b.addComponent(a,d("KFComponentNames").IMAGE,e)}function Q(a,b){a=a.assets();a&&(W(a,b),R(a,b))}function R(a,c){var d=a.bitmapsLength();if(d){var e=[];for(var f=0;f<d;f++)e.push(S(a.bitmaps(f),f,c));(h||(h=b("Promise"))).all(e).then(function(){T.bind(null,null,c)})}}function S(d,e,f){if(c("BlobFactory").isSupported()){var g=d.contentArray();if(!g)return(h||(h=b("Promise"))).reject("Decode: tried to decode a null bitmap");var i=c("BlobFactory").getBlob([g]),j=d.size().width(),k=d.size().height();return a.createImageBitmap?a.createImageBitmap(i,0,0,j,k)["catch"](function(a){return U(i,j,k)}).then(function(a){f.addImageAtIndex({src:a,width:j,height:k},e);return{src:a,width:j,height:k}}):U(i,j,k)}return(h||(h=b("Promise"))).reject("Decode: browser does not support bitmap creation")}function T(a,b,c){if(!a)return;b=[];for(c=0;c<a.length;c++){var d=a[c].src;if(a.width!==d.width||a.height!==d.height){var e=document.createElement("canvas");e.width=a.width;e.height=a.heigh;var f=e.getContext("2d");f.drawImage(d,0,0,a.width,a.height);b.push(e)}else b.push(d)}return b}function U(a,c,d){return!i.createObjectURL?(h||(h=b("Promise"))).reject("URL API not supported"):V(i.createObjectURL(a),c,d)}function V(a,c,d){return new(h||(h=b("Promise")))(function(b,e){var f=new Image(a);f.onload=function(){return b({src:f,width:c,height:d})};f.onerror=function(b){return e("Decode: error requesting image uri "+a)};f.src=a})}function W(a,b){var d=a.audioLength();if(d)for(var e=0;e<d;e++){if(!window.Audio)throw new Error("Audio playback not supported");var f=a.audio(e).contentArray();f=c("BlobFactory").getBlob([f]);f=i.createObjectURL(f);b.addAudio(f)}}g["default"]=e}),98);
__d("KFOpacitySystem",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.update=function(a,b){a=this.$1.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0];this.$2(a,1)};b.$2=function(a,b){a=this.$1.getAllComponentsForEntity(a);a[d("KFComponentNames").COMPOSITING]&&a[d("KFComponentNames").COMPOSITING].update(a[d("KFComponentNames").TIME]?a[d("KFComponentNames").TIME].getProgress():0,b);var c=a[d("KFComponentNames").CHILDREN]?a[d("KFComponentNames").CHILDREN].getChildren():void 0;if(c){var e=c.length,f;for(var g=0;g<e;g++)f=this.$1.getComponent(c[g],d("KFComponentNames").SCENE),f?this.$2(c[g],a[d("KFComponentNames").COMPOSITING].getOpacity()):this.$2(c[g],b)}};b.toString=function(){return"OPACITY"};return a}();g["default"]=a}),98);
__d("KFRAFEngine",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1,this.$2,this.$3=!1,this.$4=[],this.$5=this.$6.bind(this)}var b=a.prototype;b.start=function(){this.$3=!0,window.requestAnimationFrame(this.$5)};b.stop=function(){this.$3=!1,this.$2=0,this.$1=0};b.registerCallback=function(a){this.$4.push(a)};b.$6=function(a){if(this.$3){this.$2=this.$1||a;this.$1=a;a=this.$4.length;var b=this.$1-this.$2;for(var c=0;c<a;c++)this.$4[c](this.$1,b);window.requestAnimationFrame(this.$5)}};return a}();f["default"]=a}),66);
__d("KFRandomSubdocumentSystem",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var c=this;this.$1=a;var e=a.getEntitiesWithComponent(d("KFComponentNames").RANDOM_SUBDOCUMENT);if(e.length<=0){var f=a.getEntitiesWithComponent(d("KFComponentNames").RANDOM_SUBDOCUMENT_CHILDREN);f.forEach(function(b){a.removeComponentForEntity(b,d("KFComponentNames").RANDOM_SUBDOCUMENT_CHILDREN)});return}b.onRepeat(function(){c.$2(a,e)});this.$2(a,e)}var b=a.prototype;b.$2=function(a,b){b.forEach(function(b){var c=a.getComponent(b,d("KFComponentNames").CHILDREN);if(c==null)return;var e=a.getComponent(b,d("KFComponentNames").RANDOM_SUBDOCUMENT);if(e==null)return;b=a.getComponent(b,d("KFComponentNames").RANDOM_SUBDOCUMENT_CHILDREN);if(b==null)return;e=e.getNextRandomSubdocumentIndex();var f=b.getLastSwappedChild(),g=b.getSwappableChild(e);c.removeChild(f,g);b.setLastSwappedIndex(e)})};b.update=function(a,b){};b.toString=function(){return"RANDOM_SUBDOCUMENT"};return a}();g["default"]=a}),98);
__d("KFCanvasPolyfills",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a.getTransform!==void 0)return;else a.currentTransform?a.getTransform=function(){var b=a.currentTransform;return{a:b.a,b:b.b,c:b.c,d:b.d,e:b.e,f:b.f}}:a.mozCurrentTransform!==void 0?a.getTransform=function(){var b=a.mozCurrentTransform;return{a:b[0],b:b[1],c:b[2],d:b[3],e:b[4],f:b[5]}}:a.getTransform=function(){return g}}var g={a:1,b:0,c:0,d:1,e:0,f:0};f.addGetTransformPolyfill=a}),66);
__d("KFCanvasPool",["KFCanvasPolyfills"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$6=function(a){a.canvas.width=b.$1.width.physical,a.canvas.height=b.$1.height.physical,a.canvas.style.width=b.$1.width.logical+"px",a.canvas.style.height=b.$1.height.logical+"px"};this.$1=a;this.$2=[];this.$3=[];this.$4=[]}var b=a.prototype;b.$5=function(){var a=document.createElement("canvas"),b=a.getContext("2d");d("KFCanvasPolyfills").addGetTransformPolyfill(b);a={canvas:a,ctx:b};this.$6(a);return a};b.createPermanantCanvas=function(){var a=this.$5();this.$2.push(a);return a};b.getCanvas=function(){var a=this.$3.length?this.$3.pop():this.$5();this.$4.push(a);return a};b.clearAllAllocated=function(){var a=this;this.$4.forEach(function(b){b.ctx.clearRect(0,0,a.$1.width.physical,a.$1.height.physical)})};b.clearAllPermanant=function(){var a=this;this.$2.forEach(function(b){b.ctx.clearRect(0,0,a.$1.width.physical,a.$1.height.physical)})};b.freeAll=function(){this.$3=[].concat(this.$4,this.$3),this.$4=[]};b.resizeAll=function(){this.$3.forEach(this.$6,this),this.$4.forEach(this.$6,this)};return a}();g["default"]=a}),98);
__d("KFColorUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return"rgba("+Math.floor(a[0])+","+Math.floor(a[1])+","+Math.floor(a[2])+","+Math.floor(a[3])/255+")"}function b(a){return[a.red,a.green,a.blue,a.alpha]}f.getRGBAString=a;f.kf2ColorToKF3Color=b}),66);
__d("KeyframesCanvasUtils",["invariant","KeyframesSchema"],(function(a,b,c,d,e,f,g){"use strict";var h=b("KeyframesSchema").StrokeLineCap,i=b("KeyframesSchema").CommandType;f=["miter","round","bevel"];function a(a){return"rgba("+Math.floor(a.red)+","+Math.floor(a.green)+","+Math.floor(a.blue)+","+Math.floor(a.alpha)/255+")"}function c(a){switch(a){case h.Square:return"square";case h.Round:return"round";case h.Butt:default:return"butt"}}function d(a,b){a.beginPath();for(b of b)switch(b.type){case i.MoveTo:a.moveTo(b.point.x,b.point.y);break;case i.CubicTo:b.control1&&b.control2||g(0,2935);a.bezierCurveTo(b.control1.x,b.control1.y,b.control2.x,b.control2.y,b.point.x,b.point.y);break;case i.QuadTo:b.control1||g(0,2936);a.quadraticCurveTo(b.control1.x,b.control1.y,b.point.x,b.point.y);break;case i.LineTo:a.lineTo(b.point.x,b.point.y);break;default:throw new Error("Unrecognized path command "+b.type)}}e.exports={drawPath:d,getCanvasStyle:a,getCanvasLineCap:c,LINE_JOINS:f}}),null);
__d("KFCanvasRenderer",["KFCanvasPool","KFColorUtils","KFMat2d","KFSchema","KeyframesCanvasUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a;this.$2=new(c("KFCanvasPool"))(this.$1);a=this.$2.createPermanantCanvas();this.$3=a.canvas;this.$4=a.ctx;this.$5=d("KFMat2d").createMat2d()}var b=a.prototype;b.resize=function(){this.$3.width=this.$1.width.physical;this.$3.height=this.$1.height.physical;this.$3.style.width=this.$1.width.logical+"px";this.$3.style.height=this.$1.height.logical+"px";this.$4.setTransform(1,0,0,1,0,0);var a=[this.$1.width.getPhysicalChangeRatio(),this.$1.height.getPhysicalChangeRatio()];d("KFMat2d").scale(this.$5,this.$5,a);this.$2.resizeAll()};b.getRootContext=function(){return this.$4};b.getSize=function(){return this.$1};b.getOffscreenCanvas=function(){var a=this.$2.getCanvas();this.setGlobalCompositeOperation(a.ctx,"source-over");return a};b.setGlobalCompositeOperation=function(a,b){a.globalCompositeOperation=b};b.getElement=function(){return this.$3};b.setOpacity=function(a,b){a=a||this.$4;a.globalAlpha=b};b.applyTransform=function(a,b){d("KFMat2d").multiply(b,this.$5,b);a=a||this.$4;a.setTransform(b[0],b[1],b[2],b[3],b[4],b[5])};b.drawShape=function(a,b){a=a||this.$4;this.drawPath(a,b.getPath());var c=!1,e=!0;b.gradientFill?a.fillStyle=h(a,b.gradientFill):b.fillColor?a.fillStyle=d("KFColorUtils").getRGBAString(b.fillColor.get()):e=!1;var f=b.strokeWidth!=void 0?b.strokeWidth.get():void 0;f!==0&&f!==void 0&&(c=!0,b.strokeColor&&(a.strokeStyle=d("KFColorUtils").getRGBAString(b.strokeColor.get())),a.lineCap=i(b.strokeLineCap),a.lineWidth=f);b.vectorCompositeOrder!==0?(c&&a.stroke(),e&&a.fill()):(e&&a.fill(),c&&a.stroke())};b.drawTrimPath=function(a,b){a=a||this.$4;this.drawPath(a,b.getPath());b=b.getStrokeData();if(!b)return!1;var c=b.miterLimit,e=b.strokeWidth,f=b.strokeColor,g=b.strokeLineCap;b=b.strokeLineJoin;if(e==null||e<=0)return!1;a.strokeStyle=d("KFColorUtils").getRGBAString(d("KFColorUtils").kf2ColorToKF3Color(f));a.lineJoin=d("KeyframesCanvasUtils").LINE_JOINS[b];b===0&&c!=null&&(a.miterLimit=c);a.lineCap=i(g);a.lineWidth=e;a.stroke();return!0};b.drawPath=function(a,b){a=a||this.$4;a.beginPath();var c=b.length;for(var d=0;d<c;d++)b[d].type===0?a.moveTo(b[d].point[0],b[d].point[1]):b[d].type===1?a.lineTo(b[d].point[0],b[d].point[1]):b[d].type===2?a.quadraticCurveTo(b[d].c1[0],b[d].c1[1],b[d].point[0],b[d].point[1]):b[d].type===3&&a.bezierCurveTo(b[d].c1[0],b[d].c1[1],b[d].c2[0],b[d].c2[1],b[d].point[0],b[d].point[1])};b.save=function(a){a=a||this.$4;a.save()};b.restore=function(a){a=a||this.$4;a.restore()};b.applyClippingPath=function(a,b){a=a||this.$4;this.drawPath(a,b);a.clip()};b.drawImage=function(a,b){a=a||this.$4;a.drawImage(b,0,0)};b.prepForFrame=function(){this.$2.clearAllPermanant(),this.$2.clearAllAllocated(),this.$2.freeAll()};return a}();function h(a,b){var e,f,g=b.positions.get(),h=b.colors.get();e=(e=b.colorStart)==null?void 0:e.get();f=(f=b.colorEnd)==null?void 0:f.get();var i=b.rampStart.get(),k=b.rampEnd.get();if(b.type===c("KFSchema").GradientType.Radial){var l=b.highlightLength?b.highlightLength.get():0;b=b.highlightAngle?b.highlightAngle.get():0;var m=i[0],n=i[1],o=Math.sqrt(Math.pow(i[0]-k[0],2)+Math.pow(i[1]-k[1],2)),p=Math.acos((k[0]-m)/o),q=m+o*l*Math.cos(p-b);p=n-o*l*Math.sin(p-b);b=0;l!==0&&(a.clip(),a.fillStyle=d("KFColorUtils").getRGBAString(h[h.length-1]),a.fill(),j(a,m,n,o));l=a.createRadialGradient(q,p,b,m,n,o)}else l=a.createLinearGradient(i[0],i[1],k[0],k[1]);e&&f&&(l.addColorStop(0,d("KFColorUtils").getRGBAString(e)),l.addColorStop(1,d("KFColorUtils").getRGBAString(f)));if(h)for(q=0,p=h.length;q<p;q++)l.addColorStop(g[q],d("KFColorUtils").getRGBAString(h[q]));return l}function i(a){var b=c("KFSchema").StrokeLineCap,d=b.Square,e=b.Round;b=b.Butt;switch(a){case d:return"square";case e:return"round";case b:default:return"butt"}}function j(a,b,c,d){a.save(),a.beginPath(),a.arc(b,c,d,0,2*Math.PI,!0),a.closePath(),a.clip(),a.clearRect(b-d,c-d,d*2,d*2),a.restore()}g["default"]=a}),98);
__d("KeyframesTrackMattes",[],(function(a,b,c,d,e,f){"use strict";a={1:"destination-in",2:"destination-out"};f["default"]=a}),66);
__d("KFRenderSystem",["KFCanvasRenderer","KFComponentNames","KeyframesTrackMattes"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a!=null&&a!==0}function i(a){var b=c("KeyframesTrackMattes")["1"];return a==null?b:(a=c("KeyframesTrackMattes")[a])!=null?a:b}a=function(){function a(a,b,d,e){this.$1=e,this.$2=a,this.$3=d,this.$4=b,this.$5={canvasRenderer:new(c("KFCanvasRenderer"))(e)},this.$6()}var b=a.prototype;b.setContainer=function(a){this.$4=a,this.$6()};b.$6=function(){this.$4.appendChild(this.$5.canvasRenderer.getElement())};b.update=function(){var a=this.$2.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0];a=this.$2.getComponent(a,d("KFComponentNames").SCENE);this.$5.canvasRenderer.prepForFrame();this.$1.wasUpdated&&(this.$5.canvasRenderer.resize(),this.$1.wasUpdated=!1);a!=null&&this.$7(a)};b.$8=function(a,b){var c=this.$2.getAllComponentsForEntity(a);b=b||this.$5.canvasRenderer.getRootContext();var e=this.$5.canvasRenderer.getOffscreenCanvas(),f=this.$5.canvasRenderer.getOffscreenCanvas(),g=this.$2.getEntity(c[d("KFComponentNames").COMPOSITING].trackMatteId),h=b.getTransform();this.$9(a,e.ctx,!0);this.$9(g,f.ctx,!0);b.setTransform(1,0,0,1,0,0);e.ctx.setTransform(1,0,0,1,0,0);f.ctx.setTransform(1,0,0,1,0,0);this.$5.canvasRenderer.setGlobalCompositeOperation(e.ctx,i(c[d("KFComponentNames").COMPOSITING].trackMatteType));this.$5.canvasRenderer.drawImage(e.ctx,f.canvas);this.$5.canvasRenderer.drawImage(b,e.canvas);b.setTransform(h.a,h.b,h.c,h.d,h.e,h.f)};b.$7=function(a,b){a=a.getEntities();for(var c=0;c<a.length;c++)this.$10(a[c],b)};b.$9=function(a,b,c){c===void 0&&(c=!1);a=this.$2.getAllComponentsForEntity(a);b=b||this.$5.canvasRenderer.getRootContext();c=c;this.$5.canvasRenderer.save(b);a[d("KFComponentNames").TRANSFORM]&&this.$5.canvasRenderer.applyTransform(b,a[d("KFComponentNames").TRANSFORM].getWorldTransform());if(a[d("KFComponentNames").COMPOSITING]){c=c||a[d("KFComponentNames").COMPOSITING].isGroup;this.$5.canvasRenderer.setOpacity(b,a[d("KFComponentNames").COMPOSITING].getOpacity()*b.globalAlpha);var e=a[d("KFComponentNames").COMPOSITING].getClippingPath();e&&this.$5.canvasRenderer.applyClippingPath(b,e)}if(a[d("KFComponentNames").IMAGE]){e=this.$3.getImage(a[d("KFComponentNames").IMAGE].imageId);e&&this.$5.canvasRenderer.drawImage(b,e.src)}e=!1;a[d("KFComponentNames").TRIM_PATH]&&(e=this.$5.canvasRenderer.drawTrimPath(b,a[d("KFComponentNames").TRIM_PATH]));a[d("KFComponentNames").SHAPE]&&!e&&this.$5.canvasRenderer.drawShape(b,a[d("KFComponentNames").SHAPE]);e=a[d("KFComponentNames").CHILDREN]?a[d("KFComponentNames").CHILDREN].getChildren():void 0;if(e)for(a=0;a<e.length;a++){var f=this.$2.getComponent(e[a],d("KFComponentNames").SCENE);f?this.$7(f,b):c&&this.$10(e[a],b,!0)}this.$5.canvasRenderer.restore(b)};b.$10=function(a,b,c){var e;c===void 0&&(c=!1);var f=this.$2.getAllComponentsForEntity(a);if(f[d("KFComponentNames").TIME]&&!f[d("KFComponentNames").TIME].isInBounds())return;if(((e=f[d("KFComponentNames").COMPOSITING])==null?void 0:e.isTrackMatte)===!0)return;else h((e=f[d("KFComponentNames").COMPOSITING])==null?void 0:e.trackMatteId)?this.$8(a,b):this.$9(a,b,c)};b.toString=function(){return"RENDER"};return a}();g["default"]=a}),98);
__d("KFShapeSystem",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.update=function(a,b){a=this.$1.getEntitiesWithComponent(d("KFComponentNames").SHAPE);b=a.length;for(var c=0;c<b;c++){var e,f=this.$1.getAllComponentsForEntity(a[c]);e=(e=(e=f[d("KFComponentNames").TIME])==null?void 0:e.getProgress())!=null?e:0;(f=f[d("KFComponentNames").SHAPE])==null||f.update(e)}};b.toString=function(){return"SHAPE"};return a}();g["default"]=a}),98);
__d("KFTimeSystem",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.__entityComponentRegistry=a}var b=a.prototype;b.update=function(a,b){var c=this.__entityComponentRegistry.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0];c=this.__entityComponentRegistry.getComponent(c,d("KFComponentNames").SCENE);c&&this.$1(c,a,b)};b.$1=function(a,b,c){var d=a.update(b,c);this.$2(a,d,b,c)};b.$3=function(a,b,c,e){var f=this.__entityComponentRegistry.getComponent(a,d("KFComponentNames").TIME);f&&f.update(b);a=this.__entityComponentRegistry.getComponent(a,d("KFComponentNames").CHILDREN);if(a){a=a.getChildren();for(var g=0;g<a.length;g++){var h,i=this.__entityComponentRegistry.getComponent(a[g],d("KFComponentNames").SCENE);i!=null&&this.$1(i,c,e);h=(h=f==null?void 0:f.getProgressOffset())!=null?h:0;i=i!=null?h:0;this.$3(a[g],b-i,c,e)}}};b.$2=function(a,b,c,d){a=a.getEntities();var e=a.length;for(var f=0;f<e;f++)this.$3(a[f],b,c,d)};b.toString=function(){return"TIME"};return a}();g["default"]=a}),98);
__d("KFTransformSystem",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.update=function(a,b){a=this.$1.getEntitiesWithComponent(d("KFComponentNames").ROOT);for(b=0;b<a.length;b++){var c=this.$1.getComponent(a[b],d("KFComponentNames").SCENE);c&&this.$2(a[b],c.getProgress())}};b.$2=function(a,b,c){c=c||[1,0,0,1,0,0];var e=this.$1.getComponent(a,d("KFComponentNames").TRANSFORM),f=this.$1.getComponent(a,d("KFComponentNames").CHILDREN);a=this.$1.getComponent(a,d("KFComponentNames").TIME);e&&a&&(c=e.update(a.getProgress(),c));if(f){e=f.getChildren();for(a=0;a<e.length;a++)this.$2(e[a],b,c)}};b.toString=function(){return"TRANSFORM"};return a}();g["default"]=a}),98);
__d("KFTrimPathSystem",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.update=function(a,b){a=this.$1.getEntitiesWithComponent(d("KFComponentNames").TRIM_PATH);b=a.length;for(var c=0;c<b;c++){var e,f=this.$1.getAllComponentsForEntity(a[c]);e=(e=(e=f[d("KFComponentNames").TIME])==null?void 0:e.getProgress())!=null?e:0;(f=f[d("KFComponentNames").TRIM_PATH])==null||f.update(e)}};b.toString=function(){return"TRIM_PATH"};return a}();g["default"]=a}),98);
__d("KFContext",["KFAssetRegistry","KFComponentNames","KFDimensions","KFEntityComponentRegistry","KFLoader","KFOpacitySystem","KFRAFEngine","KFRandomSubdocumentSystem","KFRenderSystem","KFSceneComponent","KFShapeSystem","KFTimeSystem","KFTransformSystem","KFTrimPathSystem","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=["preUpdate","update","preRender","render","postRender"];a=function(){function a(a,b){this.$2=new(c("KFAssetRegistry"))(),this.$3=a,this.$4=document.createElement("div"),this.$5=new(c("KFEntityComponentRegistry"))(),this.$6=b!=null?b:new(c("KFRAFEngine"))(),this.$7={__priority:{preUpdate:[],update:[],preRender:[],render:[],postRender:[]}}}var e=a.prototype;e.boot=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=new Uint8Array(a);b!=null?yield b(a,this.$5,this.$2):yield c("KFLoader")(a,this.$5,this.$2);b=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);if(!b)return;b.getSize();b.onEnd(this.$6.stop.bind(this.$6));this.$4.style.position="relative";this.$4.style.display="inline-block";this.$4.style.boxSizing="border-box";this.$4.style.padding="0";this.$4.style.margin="0";this.$6.registerCallback(this.$8.bind(this));this.$6.start();this.$9();this.$10()});function e(b,c){return a.apply(this,arguments)}return e}();e.$8=function(a,b){var c,d,e;for(c=0;c<h.length;c++){e=this.$7.__priority[h[c]];for(d=0;d<e.length;d++)e[d].update(a,b)}};e.$9=function(){var a=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);if(!a)return;this.addSystem(new(c("KFTimeSystem"))(this.$5),"preUpdate");this.addSystem(new(c("KFRandomSubdocumentSystem"))(this.$5,a),"preUpdate");this.addSystem(new(c("KFShapeSystem"))(this.$5),"update");this.addSystem(new(c("KFTrimPathSystem"))(this.$5),"update");this.addSystem(new(c("KFOpacitySystem"))(this.$5),"update");this.addSystem(new(c("KFTransformSystem"))(this.$5),"preRender");a=a.getSize();this.$1=a?new(c("KFDimensions"))(a.width,a.height):new(c("KFDimensions"))(500,500);this.addSystem(new(c("KFRenderSystem"))(this.$5,this.$4,this.$2,this.$1),"render")};e.addSystem=function(a,b){b===void 0&&(b="update"),this.$7[a.toString()]=a,this.$7.__priority[b].push(a)};e.onUpdate=function(a){this.$6.registerCallback(a)};e.$10=function(a){a&&(this.$3=a),this.$3&&this.$3.appendChild(this.$4)};e.getLayer=function(a){return this.$5.getEntity(a)};e.getEngine=function(){return this.$6};e.getSystem=function(a){return this.$7[a]};e.getElement=function(){return this.$4};e.getDuration=function(){var a=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);return a?a.getDuration():0};e.getFrameRate=function(){var a=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);return a?a.getFrameRate():60};e.onError=function(a){return this};e.onRepeatEnd=function(a){a&&this.$11().onRepeat(a);return this};e.onProgress=function(a){a&&this.$11().onUpdate(a);return this};e.repeatCount=function(a){var b=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);b&&b.setPlayCount(a);return this};e.setWidth=function(a){this.$1&&this.$1.setWidth(a);return this};e.setHeight=function(a){this.$1&&this.$1.setHeight(a);return this};e.seekToProgress=function(a){var b=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);b&&b.seekToProgress(a);return this};e.mute=function(){return this};e.unMute=function(){return this};e.play=function(){this.$6.start();return this};e.pause=function(){this.$6.stop();return this};e.resetDimensions=function(){return this};e.setStartAndEndAt=function(a,b){var c=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);c&&c.setStartAndEndProgress(a,b);return this};e.setStartAt=function(a){var b=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);b&&b.setStartProgress(a);return this};e.setEndAt=function(a){var b=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);b&&b.setEndProgress(a);return this};e.redrawIfNeeded=function(){return this};e.$11=function(){var a=this.$5.getComponent(this.$5.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0],d("KFComponentNames").SCENE);return a?a:new(d("KFSceneComponent").KFSceneComponent)([],0,0,[0,0])};return a}();g["default"]=a}),98);
__d("KeyframesDownloadTracker",["NetworkStatus","Promise","XHRRequest","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=2,j=250;function a(a){return new(h||(h=b("Promise")))(function(b,d){var e=0,f,g=function(){e++,new(c("XHRRequest"))(a).setMethod("GET").setResponseType("arraybuffer").setErrorHandler(function(a){var b=e<=i;b?c("setTimeout")(g,j):d(a)}).setAbortHandler(function(a){d(a)}).setResponseHandler(function(a){b(a)}).send()};if(c("NetworkStatus").isOnline())g();else{var h=function(a){a=a.online;a&&(g(),f.remove())};f=c("NetworkStatus").onChange(h)}})}g["default"]=a}),98);
__d("KF",["KF2DeferredLoader","KFContext","KeyframesDownloadTracker","Promise","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b="";for(var c=4;c<8;c++)b+=String.fromCharCode(a[c]);return b}function j(a){a=new Uint8Array(a);a=i(a);return a==="KYF3"}function k(a,d,e){return new(h||(h=b("Promise")))(function(f,g){var i=typeof a==="string"?c("KeyframesDownloadTracker")(a):(h||(h=b("Promise"))).resolve(a);if(e!=null&&e.aborted)return;i.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(e!=null&&e.aborted)return;if(j(a))try{var h=new(c("KFContext"))(d);yield h.boot(a);if(e!=null&&e.aborted)return;f(h)}catch(a){g(a)}else c("promiseDone")(c("KF2DeferredLoader")(),function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){try{var h=new(c("KFContext"))(d);yield h.boot(a,b);if(e!=null&&e.aborted)return;f(h)}catch(a){g(a)}});return function(a){return h.apply(this,arguments)}}(),g)});return function(b){return a.apply(this,arguments)}}())["catch"](g)})}a={requestRendererFromBytes:function(a,b,c){return k(a,b,c)},requestRenderer:function(a,b,c){return k(a,b,c)},isKeyframes3File:j};d=a;g["default"]=d}),98);
__d("KeyframesVersionLogger",["BanzaiLogger","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h="KeyframesFramePerfLoggerConfig",i={appid:256281040558,isemployee:c("CurrentUser").isEmployee()?1:0},j={USE_LEGACY:"keyframes2_used",USE_MODERN:"keyframes3_used"};function k(a,b){c("BanzaiLogger").log(h,babelHelpers["extends"]({},i,{name:a,extras:b!=null?b:void 0}))}a={logLegacy:function(a){k(j.USE_LEGACY,a)},logModern:function(a){k(j.USE_MODERN,a)}};g.KeyframesVersionLogger=a}),98);
__d("KF.react",["FBLogger","KF","KeyframesVersionLogger","Promise","promiseDone","react","testID"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){var b=a.height;a=a.width;a={width:a||0,height:b||0};return j.jsx("div",{style:a})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.width;a=a.height;return j.jsx(k,{width:b,height:a})}l.displayName=l.name+" [from "+f.id+"]";a=function(a){function e(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={error:!1,renderer:null},b.$5=function(a){b.setState({renderer:a,error:!1}),b.props.onLoad&&b.props.onLoad(a)},b.$6=function(a){b.props.onLoadError&&b.props.onLoadError(),b.setState({renderer:null,error:!0})},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.seekToProgress=function(a){this.state.renderer&&this.state.renderer.seekToProgress(a)};f.componentDidMount=function(){this.$3(this.props.source)};f.componentWillUnmount=function(){var a;(a=this.state.renderer)==null||a.pause();(a=this.$2)==null||a.abort()};f.componentDidUpdate=function(a,b){if(this.props.source!==a.source||this.props.projectName!==a.projectName||this.props.assetName!=null&&a.assetName!=null&&this.props.assetName!==a.assetName||a.assetID!=null&&this.props.assetID!=null&&this.props.assetID!==a.assetID)this.$3(this.props.source);else{var c=this.state.renderer;c!==b.renderer?this.$4(b.renderer,c):c&&((a.width!==this.props.width||a.height!==this.props.height)&&(c.resetDimensions(),this.props.width&&c.setWidth(this.props.width),this.props.height&&c.setHeight(this.props.height)),a.muted!==this.props.muted&&(this.props.muted?c.mute():c.unMute()),a.startAt!==this.props.startAt&&a.endAt!==this.props.endAt&&c.setStartAndEndAt(this.props.startAt,this.props.endAt),a.startAt!==this.props.startAt&&c.setStartAt(this.props.startAt),a.endAt!==this.props.endAt&&c.setEndAt(this.props.endAt),a.repeatCount!==this.props.repeatCount&&c.repeatCount(this.props.repeatCount),a.onError!==this.props.onError&&c.onError(this.props.onError),a.onRepeatEnd!==this.props.onRepeatEnd&&c.onRepeatEnd(this.props.onRepeatEnd),a.onProgress!==this.props.onProgress&&c.onProgress(this.props.onProgress),a.initialProgress!==this.props.initialProgress&&c.seekToProgress(this.props.initialProgress),a.playing!==this.props.playing&&(this.props.playing?c.play():(c.pause(),this.props.resetOnPause&&c.repeatCount(this.props.repeatCount).seekToProgress(this.props.initialProgress))),c.redrawIfNeeded())}};f.$4=function(a,b){if(!this.$1)return;b&&(b.onError(this.props.onError).onRepeatEnd(this.props.onRepeatEnd).onProgress(this.props.onProgress).setStartAt(this.props.startAt).setEndAt(this.props.endAt).repeatCount(this.props.repeatCount),this.props.width&&b.setWidth(this.props.width),this.props.height&&b.setHeight(this.props.height),this.props.initialProgress&&b.seekToProgress(this.props.initialProgress),this.props.muted?b.mute():b.unMute(),this.props.playing?b.play():b.pause(),b.redrawIfNeeded());if(a&&b){var d=a.getElement(),e=b.getElement();if(d!=null&&e!=null&&this.$1!=null)try{this.$1.replaceChild(e,d)}catch(a){c("FBLogger")("keyframes-www").catching(a).warn("Caught error when replacing renderers: ",a.toString()),e.replaceWith(d)}else{var f;d&&((f=this.$1)==null?void 0:f.removeChild(d));e&&((f=this.$1)==null?void 0:f.appendChild(e))}}else a&&this.$1.removeChild(a.getElement()),b&&this.$1.appendChild(b.getElement());d=this.props.canvasRef;if(d){e=(f=b==null?void 0:b.getElement())!=null?f:null;typeof d==="function"?d(e):d.current=e}};f.$7=function(a){var d;(d=this.$2)==null||d.abort();this.$2=new AbortController();if(!this.$1)return(h||(h=b("Promise"))).reject("contianer should exist already");if(a instanceof ArrayBuffer)return c("KF").requestRendererFromBytes(a,this.$1,this.$2.signal);else return c("KF").requestRenderer(a,this.$1,this.$2.signal)};f.$3=function(a){!a?this.$6():(d("KeyframesVersionLogger").KeyframesVersionLogger.logModern(this.$8()),c("promiseDone")(this.$7(a),this.$5,this.$6))};f.$8=function(){var a;a=(a=(a=this.props.assetID)!=null?a:this.props.assetName)!=null?a:"__FIXME__missing_react_asset_name";return this.props.projectName+"-"+a};f.render=function(){var a=this,b=this.props,d=b.className,e=b.height,f=b.style;b=b.width;b=this.state.renderer?null:this.state.error?this.props.errorPlaceholder||j.jsx(l,{width:b,height:e}):this.props.placeholder||j.jsx(k,{width:b,height:e});e=this.props.mutator&&this.state.renderer&&j.cloneElement(this.props.mutator,{__renderer:this.state.renderer});return j.jsxs("div",babelHelpers["extends"]({className:d},c("testID")(this.props.testid),{ref:function(b){return a.$1=b},style:babelHelpers["extends"]({display:"inline-block",lineHeight:0,fontSize:0},f),children:[b,e]}))};return e}(j.Component);a.defaultProps={initialProgress:0,resetOnPause:!1,playing:!0,repeatCount:Infinity,startAt:0,endAt:1};g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BusinessConversionCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("277");b=d("FalcoLoggerInternal").create("business_conversion_cancel",a);e=b;g["default"]=e}),98);
__d("BusinessConversionFetchDataErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4531");b=d("FalcoLoggerInternal").create("business_conversion_fetch_data_error",a);e=b;g["default"]=e}),98);
__d("BusinessConversionFetchDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4532");b=d("FalcoLoggerInternal").create("business_conversion_fetch_data",a);e=b;g["default"]=e}),98);
__d("BusinessConversionFinishStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5997");b=d("FalcoLoggerInternal").create("business_conversion_finish_step",a);e=b;g["default"]=e}),98);
__d("BusinessConversionSkipFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5998");b=d("FalcoLoggerInternal").create("business_conversion_skip",a);e=b;g["default"]=e}),98);
__d("BusinessConversionStartStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5999");b=d("FalcoLoggerInternal").create("business_conversion_start_step",a);e=b;g["default"]=e}),98);
__d("BusinessConversionSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6000");b=d("FalcoLoggerInternal").create("business_conversion_submit_error",a);e=b;g["default"]=e}),98);
__d("BusinessConversionSubmitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6001");b=d("FalcoLoggerInternal").create("business_conversion_submit",a);e=b;g["default"]=e}),98);
__d("BusinessConversionTapComponentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("541");b=d("FalcoLoggerInternal").create("business_conversion_tap_component",a);e=b;g["default"]=e}),98);
__d("CreatorConversionCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("497");b=d("FalcoLoggerInternal").create("creator_conversion_cancel",a);e=b;g["default"]=e}),98);
__d("CreatorConversionFetchDataErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6002");b=d("FalcoLoggerInternal").create("creator_conversion_fetch_data_error",a);e=b;g["default"]=e}),98);
__d("CreatorConversionFetchDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6003");b=d("FalcoLoggerInternal").create("creator_conversion_fetch_data",a);e=b;g["default"]=e}),98);
__d("CreatorConversionFinishStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6004");b=d("FalcoLoggerInternal").create("creator_conversion_finish_step",a);e=b;g["default"]=e}),98);
__d("CreatorConversionStartStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6005");b=d("FalcoLoggerInternal").create("creator_conversion_start_step",a);e=b;g["default"]=e}),98);
__d("CreatorConversionSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6006");b=d("FalcoLoggerInternal").create("creator_conversion_submit_error",a);e=b;g["default"]=e}),98);
__d("CreatorConversionSubmitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6007");b=d("FalcoLoggerInternal").create("creator_conversion_submit",a);e=b;g["default"]=e}),98);
__d("CreatorConversionTapComponentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("793");b=d("FalcoLoggerInternal").create("creator_conversion_tap_component",a);e=b;g["default"]=e}),98);
__d("EditProfileCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("498");b=d("FalcoLoggerInternal").create("edit_profile_cancel",a);e=b;g["default"]=e}),98);
__d("EditProfileFetchDataErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6008");b=d("FalcoLoggerInternal").create("edit_profile_fetch_data_error",a);e=b;g["default"]=e}),98);
__d("EditProfileFetchDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6009");b=d("FalcoLoggerInternal").create("edit_profile_fetch_data",a);e=b;g["default"]=e}),98);
__d("EditProfileFinishStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6010");b=d("FalcoLoggerInternal").create("edit_profile_finish_step",a);e=b;g["default"]=e}),98);
__d("EditProfileStartStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6011");b=d("FalcoLoggerInternal").create("edit_profile_start_step",a);e=b;g["default"]=e}),98);
__d("EditProfileSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6012");b=d("FalcoLoggerInternal").create("edit_profile_submit_error",a);e=b;g["default"]=e}),98);
__d("EditProfileSubmitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6013");b=d("FalcoLoggerInternal").create("edit_profile_submit",a);e=b;g["default"]=e}),98);
__d("EditProfileTapComponentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1055");b=d("FalcoLoggerInternal").create("edit_profile_tap_component",a);e=b;g["default"]=e}),98);
__d("IGDSAdsPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e,f,g,h,j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M3.712 9.664a2.327 2.327 0 0 0-1.629 2.86h0a2.327 2.327 0 0 0 2.86 1.628s6.964-1.91 13.146-.022l-3.06-11.154C10.677 7.754 3.713 9.664 3.713 9.664Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),f=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"20.952",x2:"22",y1:"7.348",y2:"7.061"}),g=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"18.988",x2:"19.752",y1:"4.404",y2:"3.631"}),h=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"20.765",x2:"21.816",y1:"10.882",y2:"11.157"}),j=i.jsx("path",{d:"M8.384 13.522a28.836 28.836 0 0 0 3.171 6.636l-3.107.866a28.343 28.343 0 0 1-3.255-6.93",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=j):(e=b[0],f=b[1],g=b[2],h=b[3],j=b[4]);b[5]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f,g,h,j]})),b[5]=a,b[6]=e):e=b[6];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSBusinessPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M20.102 10.853v8.96a1.333 1.333 0 0 1-1.333 1.334H5.436a1.333 1.333 0 0 1-1.333-1.333v-8.961",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),f=i.jsx("path",{d:"M9.658 21.147V16.31a1.333 1.333 0 0 1 1.333-1.333h2.223a1.333 1.333 0 0 1 1.333 1.333v4.837M2.1 8.372a2.5 2.5 0 0 0 5 0m0 0a2.5 2.5 0 0 0 5 0m0 0a2.5 2.5 0 0 0 5 0",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),g=i.jsx("path",{d:"M17.1 8.372a2.5 2.5 0 0 0 5 0V6.158l-2.685-3.305H4.785L2.1 6.158v2.214",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f,g]})),b[3]=a,b[4]=e):e=b[4];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSCircleAddPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),f=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"7.001",x2:"17.001",y1:"12.005",y2:"12.005"}),g=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"12.001",x2:"12.001",y1:"7.005",y2:"17.005"}),b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f,g]})),b[3]=a,b[4]=e):e=b[4];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSDevicePhonePanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M17.749 2.465a2.668 2.668 0 0 0-1.1-1.102A3.635 3.635 0 0 0 14.771 1H9.23a3.63 3.63 0 0 0-1.877.363A2.676 2.676 0 0 0 6.25 2.465a3.591 3.591 0 0 0-.362 1.88v15.31a3.591 3.591 0 0 0 .362 1.88 2.675 2.675 0 0 0 1.1 1.102A3.63 3.63 0 0 0 9.229 23h5.542a3.591 3.591 0 0 0 1.88-.363 2.67 2.67 0 0 0 1.098-1.102 3.591 3.591 0 0 0 .362-1.88V4.345a3.591 3.591 0 0 0-.362-1.88Zm-1.638 17.19c0 .702-.067.827-.126.939a.666.666 0 0 1-.279.28c-.11.06-.235.126-.935.126H9.23c-.7 0-.824-.066-.934-.126a.663.663 0 0 1-.28-.28c-.059-.112-.126-.237-.126-.939V4.345c0-.701.067-.827.126-.938a.664.664 0 0 1 .28-.281C8.407 3.066 8.53 3 9.23 3h.155a1.104 1.104 0 0 0 .113.483 1.115 1.115 0 0 0 1.003.603v.01h3v-.01a1.099 1.099 0 0 0 .51-.11 1.113 1.113 0 0 0 .6-.976h.161c.699 0 .825.067.934.126a.667.667 0 0 1 .28.28c.059.112.126.238.126.94Z",fillRule:"evenodd"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSInsightsPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("rect",{fill:"none",height:"9.091",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",width:"6.667",x:"2",y:"12.909"}),f=i.jsx("rect",{fill:"none",height:"14.545",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",width:"6.667",x:"15.333",y:"7.455"}),g=i.jsx("rect",{fill:"none",height:"20",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",width:"6.667",x:"8.667",y:"2"}),b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f,g]})),b[3]=a,b[4]=e):e=b[4];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSMailPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("rect",{fill:"none",height:"17.273",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"20",x:"2",y:"3.364"}),f=i.jsx("polyline",{fill:"none",points:"2 7.155 12.002 13.81 22 7.157",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=e,b[1]=f):(e=b[0],f=b[1]);b[2]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f]})),b[2]=a,b[3]=e):e=b[3];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSMediaAccountOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M32.2 25.5c5.3 0 9.7-4.3 9.7-9.7s-4.3-9.7-9.7-9.7c-5.3 0-9.7 4.3-9.7 9.7s4.4 9.7 9.7 9.7zm0-16.4a6.7 6.7 0 1 1 0 13.4 6.7 6.7 0 0 1 0-13.4zm5.6 19.5H26.6c-5.6 0-10.2 4.6-10.2 10.2v1.5c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-1.5c0-4 3.2-7.2 7.2-7.2h11.3c4 0 7.2 3.2 7.2 7.2v1.5c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-1.5c-.1-5.6-4.7-10.2-10.3-10.2zM14.6 24l3.6-2.9c.5-.4.8-1.1.5-1.8s-.8-1.1-1.5-1.2l-4.6-.3-1.6-4.2c-.3-.6-.9-1.1-1.6-1.1-.7 0-1.3.4-1.6 1.1l-1.7 4.3-4.6.3c-.7.1-1.3.5-1.5 1.2s0 1.4.5 1.8L4.2 24l-1.1 4.5c-.2.7.1 1.4.7 1.8.6.4 1.3.4 1.9 0l3.8-2.5 3.8 2.5c.3.2.6.3.9.3.3 0 .7-.1 1-.3.6-.4.8-1.1.7-1.8L14.6 24zm-3.3-1.1.8 3-2.6-1.7-2.6 1.7.8-3-2.4-2 3.1-.2 1.2-3 1.2 3 3.1.2-2.6 2z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 48 48",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSWhatsappLogoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{clipRule:"evenodd",d:"M15.662.263A15.166 15.166 0 0 1 26.06 4.48a15.048 15.048 0 0 1 4.653 10.381 15.164 15.164 0 0 1-3.77 10.568 15.063 15.063 0 0 1-11.37 5.138c-2.273 0-4.526-.513-6.567-1.495l-7.93 1.764a.116.116 0 0 1-.138-.13l1.34-8.019a15.181 15.181 0 0 1-1.85-6.837A15.052 15.052 0 0 1 4.555 5.012 15.061 15.061 0 0 1 15.586.263h.075Zm-.085 2.629c-.12 0-.242.002-.364.005-6.902.198-12.356 5.975-12.158 12.877.06 2.107.654 4.176 1.717 5.982l.231.392-.993 5.441 5.385-1.271.407.212a12.527 12.527 0 0 0 6.13 1.402c6.901-.198 12.356-5.974 12.158-12.876-.195-6.78-5.773-12.164-12.513-12.164ZM10.34 8.095c.253.008.507.015.728.032.271.019.57.04.836.683.315.763.996 2.668 1.085 2.86.09.194.146.418.011.668-.134.25-.203.407-.4.623-.196.216-.414.484-.59.649-.197.184-.4.384-.19.771.21.388.934 1.657 2.033 2.7 1.413 1.34 2.546 1.783 2.996 1.993a.998.998 0 0 0 .415.112c.162 0 .292-.068.415-.193.237-.24.95-1.071 1.25-1.454.156-.2.299-.271.453-.271.123 0 .255.045.408.107.345.137 2.185 1.115 2.56 1.317.374.202.625.305.715.466.09.162.066.924-.278 1.803-.344.878-1.922 1.688-2.621 1.73-.205.012-.406.04-.668.04-.634 0-1.621-.166-3.865-1.133-3.817-1.643-6.136-5.683-6.318-5.942-.182-.26-1.489-2.111-1.432-3.983C7.94 9.8 8.951 8.91 9.311 8.54c.345-.355.74-.445.996-.445h.032Z",fill:"currentColor",fillRule:"evenodd"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 31 31",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IgWellbeingRestrictManageCommentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5703");b=d("FalcoLoggerInternal").create("ig_wellbeing_restrict_manage_comment",a);e=b;g["default"]=e}),98);
__d("InstagramWellbeingCommentCoverEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3719");b=d("FalcoLoggerInternal").create("instagram_wellbeing_comment_cover_event",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("500");b=d("FalcoLoggerInternal").create("interest_account_conversion_cancel",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionEnterFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6014");b=d("FalcoLoggerInternal").create("interest_account_conversion_enter",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionFetchDataErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6015");b=d("FalcoLoggerInternal").create("interest_account_conversion_fetch_data_error",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionFetchDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6016");b=d("FalcoLoggerInternal").create("interest_account_conversion_fetch_data",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionFinishStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6017");b=d("FalcoLoggerInternal").create("interest_account_conversion_finish_step",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionStartStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6018");b=d("FalcoLoggerInternal").create("interest_account_conversion_start_step",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6019");b=d("FalcoLoggerInternal").create("interest_account_conversion_submit_error",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionSubmitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6020");b=d("FalcoLoggerInternal").create("interest_account_conversion_submit",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionTapComponentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1056");b=d("FalcoLoggerInternal").create("interest_account_conversion_tap_component",a);e=b;g["default"]=e}),98);
__d("PolarisAPISetGender",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b={custom_gender:b,gender:Number(a)};return d("PolarisInstapi").apiPost("/api/v1/web/accounts/set_gender/",{body:b})}g.setGender=a}),98);
__d("PolarisAdCTAViewabilityAction",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return function(c){c=c.state;switch(c){case"entered":case"updated":a||b(!0);break;case"exited":b(!1);break;default:break}}}f.makeAdCTAViewabilityAction=a}),66);
__d("getPolarisODSKeyWithSurfaceDimension",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if((b==null?void 0:b.isMobile)===!0)return a+".msite";else return a}f["default"]=a}),66);
__d("PolarisAdImpressionAction",["IGNavChain","IgWebSwankFalcoEvent","InstagramAdImpressionFalcoEvent","InstagramAdSubImpressionFalcoEvent","InstagramODS","InstagramWebAdEventsAuditFalcoEvent","PolarisAdsGatingHelpers","PolarisContainerModuleUtils","PolarisUA","PolarisViewpointActionUtils","cometGHLContentDisplayCheck","getPolarisODSKeyWithSurfaceDimension","memoizeStringOnly","polarisLogAction","qex","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qex")._("1229"),i=2e3,j=5e3,k=6e4,l="feed",m="clips",n=c("memoizeStringOnly")(function(a){return new Map()}),o=c("memoizeStringOnly")(function(a){return new Map()}),p=new Set();function q(a,b,d,e,f,g,h,m){f===void 0&&(f=k);h===void 0&&(h=l);return function(k){var q=n(a||""),r=o(a||"");if(k.state!=="entered")return;if(p.has(b))return;p.add(b);var s=q.get(b),t=r.get(b),u=k.snapshotTime,v=function(a){var b=a.isSubImpression;return c("setTimeout")(function(){var a=!c("cometGHLContentDisplayCheck")(k.element);a?b?(c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads."+h+".sub_impression.hidden.delayed",{isMobile:g})),c("polarisLogAction")("adSubImpressionHiddenDelayed")):(c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads."+h+".impression.hidden.delayed",{isMobile:g})),c("polarisLogAction")("adImpressionHiddenDelayed")):c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(b?"web.ads."+h+".sub_impression.delayed":"web.ads."+h+".impression.delayed")},j-i)};c("setTimeout")(function(){var a=c("cometGHLContentDisplayCheck")(k.element);s==null?a?(d(),q.set(b,k.snapshotTime),v({isSubImpression:!1})):t==null&&(r.set(b,k.snapshotTime),c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads."+h+".impression.hidden",{isMobile:g})),c("polarisLogAction")("adImpressionHidden"),h===l&&m!=null&&c("IgWebSwankFalcoEvent").log(function(){return{en:String(4),mt:String(0),sli:m.m_ix,tt:m.tracking_token}})):s!=null&&u-s>=f&&(a?(e(),q.set(b,k.snapshotTime),v({isSubImpression:!0})):(c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads."+h+".sub_impression.hidden",{isMobile:g})),c("polarisLogAction")("adSubImpressionHidden")));p["delete"](b)},i)}}function a(a,b,e,f){var g,i=d("PolarisViewpointActionUtils").getMPKForFeedMedia(a)||"",j=d("PolarisUA").isMobile(),m=babelHelpers["extends"]({brs_threshold:e==null?void 0:e.brs_threshold,m_pk:i,nav_chain:(g=c("IGNavChain").getInstance())==null?void 0:g.getNavChainForSend(),organic_brs_severity_after:e==null?void 0:e.organic_brs_severity_after,organic_brs_severity_before:e==null?void 0:e.organic_brs_severity_before,organic_media_id_after:e==null?void 0:e.organic_media_id_after,organic_media_id_before:e==null?void 0:e.organic_media_id_before,pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(b),source_of_action:d("PolarisContainerModuleUtils").getContainerModule(b)},e);g=function(){f&&c("InstagramODS").incr("web.ads.feed.impression.viewpoint"),a.isVideo===!0&&j&&c("InstagramODS").incr("web.ads.msite.feed.video_ads.impression"),c("InstagramODS").incr("web.ads.feed.impression"),c("InstagramAdImpressionFalcoEvent").logImmediately(function(){return m}),d("PolarisAdsGatingHelpers").enablebWebFeedAdsImpressionAuditSampling()===!0&&c("InstagramWebAdEventsAuditFalcoEvent").log(function(){var a;return{client_token:e.tracking_token,event:"ad_impression",social_context_type:(a=e.social_context)==null?void 0:a.social_context_type}}),h===!0&&d("PolarisAdsGatingHelpers").enablebWebFeedAdsImpressionAuditSampling()===!0&&c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:e.tracking_token,event:"impression_client"}}),c("IgWebSwankFalcoEvent").log(function(){return{en:String(3),mt:String(0),sli:m.m_ix,tt:m.tracking_token}})};var n=function(){c("InstagramODS").incr("web.ads.feed.sub_impression"),c("InstagramAdSubImpressionFalcoEvent").logImmediately(function(){return m}),h===!0&&d("PolarisAdsGatingHelpers").enablebWebFeedAdsImpressionAuditSampling()===!0&&c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:e.tracking_token,event:"sub_impression_client"}})};return q(b,i,g,n,k,j,l,m)}function b(a,b,e){var f;a=d("PolarisViewpointActionUtils").getMPKForClipsMedia(a)||"";var g=d("PolarisUA").isMobile(),h=babelHelpers["extends"]({brs_threshold:e==null?void 0:e.brs_threshold,m_pk:a,nav_chain:(f=c("IGNavChain").getInstance())==null?void 0:f.getNavChainForSend(),organic_brs_severity_after:e==null?void 0:e.organic_brs_severity_after,organic_brs_severity_before:e==null?void 0:e.organic_brs_severity_before,organic_media_id_after:e==null?void 0:e.organic_media_id_after,organic_media_id_before:e==null?void 0:e.organic_media_id_before,pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(b),source_of_action:d("PolarisContainerModuleUtils").getContainerModule(b)},e);f=function(){c("InstagramODS").incr("web.ads.clips.impression"),c("InstagramAdImpressionFalcoEvent").logImmediately(function(){return h})};e=function(){c("InstagramODS").incr("web.ads.clips.sub_impression"),c("InstagramAdSubImpressionFalcoEvent").logImmediately(function(){return h})};return q(b,a,f,e,k,g,m)}function e(a){return function(b){if(b.state!=="entered")return;var d=n(""),e=(a!=null?a:"")+".cta_impression",f=d.get(e);f==null&&(c("InstagramODS").incr("web.ads.feed.cta_impression"),d.set(e,b.snapshotTime))}}function f(a,b,d){var e=n("");a=a+".cta_impression";e=e.get(a);a=Date.now();var f=e!=null?a-e:null;c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:b,cta_dwell_time:f!=null?String(f):null,event:"cta_click",social_context_type:d}})}g.makePostAdImpressionAction=a;g.makeClipsAdImpressionAction=b;g.makeAdCTAImpressionAction=e;g.logCTAClickWithDwellTime=f}),98);
__d("PolarisCommentCover.react",["fbt","BaseButton.react","IGDSBox.react","IGDSEyeOffOutlineIcon.react","IGDSText.react","InstagramWellbeingCommentCoverEventFalcoEvent","PolarisReactRedux.react","react","react-compiler-runtime","usePartialViewImpression","usePolarisLocalStorageState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect,l=b.useState,m={viewHiddenCommentsButton:{userSelect:"x87ps6o",":active_opacity":"x1d5wrs8",$$css:!0}};function n(a){var b=d("react-compiler-runtime").c(4),e;b[0]!==a?(e=function(){a()},b[0]=a,b[1]=e):e=b[1];e=e;var f;b[2]!==e?(f={onImpressionStart:e},b[2]=e,b[3]=f):f=b[3];return c("usePartialViewImpression")(f)}function a(a){var b=d("react-compiler-runtime").c(30),e=a.onClick,f=a.postId;a=a.xstyle;var g=d("PolarisReactRedux.react").useDispatch(),i=l(!1),p=i[0],q=i[1];i=l(!1);var r=i[0],s=i[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(){return s(!0)},b[0]=i):i=b[0];i=n(i);var t=d("usePolarisLocalStorageState").useLocalStorageState("covered_comments_nux_counter",0),u=t[0],v=t[1],w;b[1]!==u?(t=function(){u<=2&&q(!0)},w=[u],b[1]=u,b[2]=t,b[3]=w):(t=b[2],w=b[3]);k(t,w);b[4]!==f||b[5]!==v||b[6]!==r||b[7]!==p?(t=function(){r&&(v(o),c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"impression",media_id:f,step:"comment_cover_cta_impression"}}),p&&c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"impression",media_id:f,step:"comment_cover_nux_impression"}}))},b[4]=f,b[5]=v,b[6]=r,b[7]=p,b[8]=t):t=b[8];b[9]!==g||b[10]!==f||b[11]!==v||b[12]!==r||b[13]!==p?(w=[r,g,f,p,v],b[9]=g,b[10]=f,b[11]=v,b[12]=r,b[13]=p,b[14]=w):w=b[14];k(t,w);b[15]!==e||b[16]!==f||b[17]!==p?(g=function(){c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"click",media_id:f,step:p?"comment_cover_cta_with_nux_click":"comment_cover_cta_without_nux_click"}}),e()},b[15]=e,b[16]=f,b[17]=p,b[18]=g):g=b[18];t=g;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(w=j.jsx(c("IGDSEyeOffOutlineIcon.react"),{alt:h._(/*BTDS*/"View hidden comments"),color:"ig-secondary-text",size:15}),b[19]=w):w=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"medium",children:h._(/*BTDS*/"View hidden comments")}),b[20]=g):g=b[20];b[21]!==t?(w=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginBottom:4,children:[w,j.jsx(c("IGDSBox.react"),{marginStart:2,children:j.jsx(c("BaseButton.react"),{onClick:t,xstyle:m.viewHiddenCommentsButton,children:g})})]}),b[21]=t,b[22]=w):w=b[22];b[23]!==p?(g=p&&j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"light",children:h._(/*BTDS*/"These comments were hidden because they may be misleading, offensive or spam. People can still tap to view them.")}),b[23]=p,b[24]=g):g=b[24];b[25]!==i||b[26]!==g||b[27]!==w||b[28]!==a?(t=j.jsxs(c("IGDSBox.react"),{containerRef:i,direction:"column",xstyle:a,children:[w,g]}),b[25]=i,b[26]=g,b[27]=w,b[28]=a,b[29]=t):t=b[29];return t}function o(a){return a+1}g["default"]=a}),226);
__d("PolarisCommentLikeListsActions",["PolarisCommentLikeListsState","PolarisLegacyGraphQLPaginationUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h="17953756669066153",i=24,j=1;function a(){return d("PolarisLegacyGraphQLPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return((a=a.commentLikeLists[b])!=null?a:d("PolarisCommentLikeListsState").EMPTY_LISTS).pagination},onError:function(a,b,c){return{commentId:c,fetch:b,type:"COMMENT_LIKE_LISTS__REQUEST_FAILED"}},onUpdate:function(a,b,d){b=b&&c("nullthrows")(b.comment).edge_liked_by;return{commentId:d,count:b==null?void 0:b.count,fetch:a,pageInfo:b==null?void 0:b.page_info,type:"COMMENT_LIKE_LISTS_REQUEST_UPDATED",users:((b==null?void 0:b.edges)||[]).map(function(a){return a.node})}},pageSize:i,pagesToPreload:j,queryId:h,queryParams:function(a){return{comment_id:a}}})}b=a();e=b;f=b.first;a=b.next;g._actionCreators=e;g.requestCommentLikes=f;g.requestNextCommentLikes=a}),98);
__d("PolarisCommentLikedByListContainerLazy.react",["CometPlaceholder.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisCommentLikedByListContainer.react").__setRef("PolarisCommentLikedByListContainerLazy.react"));function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:i.jsx(j,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("PolarisCommentLikedByListDialog.entrypointutils",[],(function(a,b,c,d,e,f){"use strict";a=24;f.PAGE_SIZE=a}),66);
__d("PolarisCommentLikedByListDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10011809218875677"}),null);
__d("PolarisCommentLikedByListDialogQuery$Parameters",["PolarisCommentLikedByListDialogQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisCommentLikedByListDialogQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_media__comment_id__comment_likers_connection"]},name:"PolarisCommentLikedByListDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisCommentLikedByListDialogRoot.entrypoint",["JSResourceForInteraction","PolarisCommentLikedByListDialog.entrypointutils","PolarisCommentLikedByListDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{polarisCommentLikedByListDialogQuery:{options:{},parameters:c("PolarisCommentLikedByListDialogQuery$Parameters"),variables:{comment_id:a.routeProps.commentId,first:d("PolarisCommentLikedByListDialog.entrypointutils").PAGE_SIZE}}}}},root:c("JSResourceForInteraction")("PolarisCommentLikedByListDialogRoot.react").__setRef("PolarisCommentLikedByListDialogRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisCommentsSectionText.react",["IGDSBox.react","IGDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.commentsDivider,f=a.marginStart;a=a.text;var g;b[0]!==a?(g=i.jsx(c("IGDSText.react"),{color:"secondaryText",children:a}),b[0]=a,b[1]=g):g=b[1];b[2]!==f||b[3]!==g?(a=i.jsx(c("IGDSBox.react"),{marginBottom:5,marginStart:f,marginTop:2,children:g}),b[2]=f,b[3]=g,b[4]=a):a=b[4];f=e!=null&&e;b[5]!==a||b[6]!==f?(g=i.jsxs(c("IGDSBox.react"),{marginBottom:1,children:[a,f]}),b[5]=a,b[6]=f,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("PolarisCommentsSortContext.react",["PolarisSortCommentsUtil","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j=i.createContext({commentsSortOrder:d("PolarisSortCommentsUtil").CommentsOptionValues.TOP,isImmersiveViewer:!1,setCommentsSortOrder:c("emptyFunction")});function a(a){var b=d("react-compiler-runtime").c(7),c=a.children,e=a.commentsSortOrder,f=a.isImmersiveViewer;a=a.setCommentsSortOrder;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g={commentsSortOrder:e,isImmersiveViewer:f,setCommentsSortOrder:a},b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];e=g;f=e;b[4]!==c||b[5]!==f?(a=i.jsx(j.Provider,{value:f,children:c}),b[4]=c,b[5]=f,b[6]=a):a=b[6];return a}g.PolarisCommentsSortContext=j;g.PolarisCommentsSortContextProvider=a}),98);
__d("PolarisCommentsStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*BTDS*/"Hidden by Instagram");g.COVERED_COMMENTS=a}),226);
__d("PolarisFacebookCommentCountSheet.react",["fbt","IGDSBox.react","IGDSFacebookCircleOutlineIcon.react","IGDSTextVariants.react","PolarisBigNumber.react","PolarisUA","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={textContainer:{maxWidth:"xq8v1hd",overflowWrap:"x1mzt3pk",wordWrap:"x1vvkbs",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.fbCommentCount;a=a.marginStart;if(e==null||e===0)return null;var f;b[0]!==e?(f=j.jsx(c("PolarisBigNumber.react"),{value:e}),b[0]=e,b[1]=f):f=b[1];f=f;if(e===1){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"This reel has 1 comment from Facebook."),b[2]=e):e=b[2];e=e}else{var g;b[3]!==f?(g=h._(/*BTDS*/"This reel has {fbCommentCount} comments from Facebook.",[h._param("fbCommentCount",f)]),b[3]=f,b[4]=g):g=b[4];e=g}f=d("PolarisUA").isMobile()?a:0;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx("div",{className:"x6s0dn4 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x9f619 x78zum5 x2lah0s x10w6t97 xl56j7k x6ikm8r x10wlt62 x1n2onr6 x1td3qas xw7xcb0 xf2sl3m x1bkf050 xibe68o xrw4ojt xg6frx5 xw872ko xhgbb2x xynf4tj xdjs2zz x1r9ni5o xvsnedh xoiy6we x16ouz9t x1qj619r xsrjr5h x1xrz1ek x1s928wv x1unh1gc x1iygr5g x2q1x1w x1j6awrg x1m1drc7",children:j.jsx(c("IGDSFacebookCircleOutlineIcon.react"),{alt:"",size:16})}),b[5]=g):g=b[5];var i;b[6]!==e?(i=j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"primaryText",children:e}),b[6]=e,b[7]=i):i=b[7];b[8]!==a||b[9]!==i?(e=j.jsx(c("IGDSBox.react"),{marginStart:a,position:"relative",xstyle:k.textContainer,children:i}),b[8]=a,b[9]=i,b[10]=e):e=b[10];b[11]!==f||b[12]!==e?(a=j.jsxs(c("IGDSBox.react"),{alignItems:"center",alignSelf:"start","data-testid":void 0,direction:"row",marginBottom:2,marginStart:f,position:"relative",children:[g,e]}),b[11]=f,b[12]=e,b[13]=a):a=b[13];return a}g["default"]=a}),226);
__d("PolarisGenderActions",["fbt","PolarisAPISetGender","PolarisGenericStrings"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){return function(c){c({customGender:b,gender:a,type:"GENDER_INFO_LOADED"})}}function i(a,b,c){return function(e){e({type:"GENDER_INFO_UPDATE_REQUESTED"});return d("PolarisAPISetGender").setGender(a,b).then(function(){e({customGender:b,gender:a,type:"GENDER_INFO_UPDATE_SUCCEEDED"}),c&&c()},function(c){e({toast:{actionHandler:function(){return e(i(a,b))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:c.message||h._(/*BTDS*/"An error occurred. Please try again.")},type:"GENDER_INFO_UPDATE_FAILED"})})}}g.loadGenderInfo=a;g.updateGenderInfo=i}),226);
__d("PolarisIgWellbeingRestrictManageCommentFalcoEvent",["IgWellbeingRestrictManageCommentFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a={log:function(a){var b=a.action,d=a.actorIgUserid,e=a.commentId,f=a.commentThreadId,g=a.parentMediaId,h=a.step;c("IgWellbeingRestrictManageCommentFalcoEvent").log(function(){return{action:b,actor_ig_userid:d,comment_id:e,entrypoint:"comment",parent_comment_id:f===e?void 0:f,parent_media_id:g,step:h}})}};b=a;g["default"]=b}),98);
__d("PolarisLikedByListVariant",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Modal","Page"]);c=a;f["default"]=c}),66);
__d("PolarisSponsoredPersistentCTAThumbnail.react",["fbt","PolarisThumbnail.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.thumbnailImageSrc;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Image from sponsored post"),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("PolarisThumbnail.react"),{alt:e,dimension:32,src:a}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("usePolarisSponsoredPostCTAFooterDominantColor",["DateConsts","PolarisAdCTAViewabilityAction","PolarisAdImpressionAction","PolarisFeedCardProvider.react","PolarisUA","PolarisViewpointReact.react","polarisAdsSelectors.react","react","react-compiler-runtime","useDebounced"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.useRef,l=b.useState,m=4,n=8;function a(a){var b=d("react-compiler-runtime").c(29),e=a.isMediaRendered,f=a.mediaId;a=a.post;var g=d("polarisAdsSelectors.react").useFeedAdInfo(a.id,o),h=l(null),p=h[0],q=h[1];h=l(!1);var r=h[0];h=h[1];var s=k(!1),t=a.isVideo,u=i(d("PolarisFeedCardProvider.react").PolarisFeedCardContext),v=u.isCaptionMoreClicked;u=(d("PolarisUA").isDesktop()?n:m)*d("DateConsts").MS_PER_SEC;var w=c("useDebounced")(q,u);b[0]!==(g==null?void 0:g.ctaItems)||b[1]!==v||b[2]!==e||b[3]!==t||b[4]!==f||b[5]!==w||b[6]!==r?(u=function(){var a;if(f==null||!e&&t===!1)return;var b=g==null||(a=g.ctaItems)==null?void 0:a.get(f);if(b==null)return;if(v)return q(b.ctaDominantColor);if(r){if(w.isPending())return;s.current===!1?(s.current=!0,w(b.ctaDominantColor)):q(b.ctaDominantColor);return}r||(s.current=!1,w.isPending()?w.reset():q(null))},b[0]=g==null?void 0:g.ctaItems,b[1]=v,b[2]=e,b[3]=t,b[4]=f,b[5]=w,b[6]=r,b[7]=u):u=b[7];var x=g==null?void 0:g.ctaItems,y;b[8]!==v||b[9]!==e||b[10]!==t||b[11]!==f||b[12]!==w||b[13]!==r||b[14]!==x?(y=[r,w,f,x,e,t,v],b[8]=v,b[9]=e,b[10]=t,b[11]=f,b[12]=w,b[13]=r,b[14]=x,b[15]=y):y=b[15];j(u,y);b[16]!==r?(x=d("PolarisAdCTAViewabilityAction").makeAdCTAViewabilityAction(r,h),b[16]=r,b[17]=x):x=b[17];b[18]!==f?(u=d("PolarisAdImpressionAction").makeAdCTAImpressionAction(f),b[18]=f,b[19]=u):u=b[19];b[20]!==x||b[21]!==u?(y=[x,u],b[20]=x,b[21]=u,b[22]=y):y=b[22];b[23]!==a.id||b[24]!==y?(h={action:y,id:a.id},b[23]=a.id,b[24]=y,b[25]=h):h=b[25];x=d("PolarisViewpointReact.react").useViewpoint(h);b[26]!==p||b[27]!==x?(u={ctaDominantColor:p,ctaFooterViewpointRef:x},b[26]=p,b[27]=x,b[28]=u):u=b[28];return u}function o(a){return a}g["default"]=a}),98);
__d("PolarisMobileSponsoredPersistentCTA.react",["CometErrorBoundary.react","InstagramODS","InstagramWebAdEventsAuditFalcoEvent","PolarisClickEventLoggerProvider.react","PolarisPostFooterCTA.react","PolarisPostUtils","PolarisSponsoredPersistentCTAThumbnail.react","PolarisTrackingCodeProvider.react","PolarisTrackingNodeProvider.react","getPolarisPostIdFromNativeId","polarisAdsSelectors.react","polarisPostSelectors","react","react-compiler-runtime","usePolarisSelector","usePolarisSponsoredPostCTAFooterDominantColor"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k=60;function l(a){var b=d("react-compiler-runtime").c(27),e=a.bottomOffset,f=a.ctaAdditionalAnimation,g=a.ctaLinkText,h=a.domColor,l=a.entryPoint,m=a.externalURL,n=a.mediaId,o=a.mpk,p=a.post,q=a.socialContextType,r=a.thumbnailImageSrc,s=a.trackingToken;b[0]!==n||b[1]!==p?(a={isMediaRendered:!0,mediaId:n,post:p},b[0]=n,b[1]=p,b[2]=a):a=b[2];n=c("usePolarisSponsoredPostCTAFooterDominantColor")(a);p=n.ctaFooterViewpointRef;b[3]!==l||b[4]!==q||b[5]!==s?(a=function(){c("InstagramODS").incr("web.ads.feed.link_click"),c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:s,event:"persistent_cta_click",social_context_type:q}}),l!==null&&l==="story"?c("InstagramODS").incr("web.ads.story.msite_persistent_link_click"):c("InstagramODS").incr("web.ads.feed.persistent_link_click")},b[3]=l,b[4]=q,b[5]=s,b[6]=a):a=b[6];var t=a;n=k+(e!=null?e:0)+"px";b[7]!==n?(a={bottom:n},b[7]=n,b[8]=a):a=b[8];var u=a;b[9]!==l?(e=function(){l!==null&&l==="story"?c("InstagramODS").incr("web.ads.story.msite_persistent_cta_rendered"):c("InstagramODS").incr("web.ads.feed.persistent_cta_rendered")},n=[l],b[9]=l,b[10]=e,b[11]=n):(e=b[10],n=b[11]);j(e,n);b[12]!==u||b[13]!==f||b[14]!==g||b[15]!==h||b[16]!==m||b[17]!==t||b[18]!==r?(a=function(a){return i.jsx("div",{className:"x1escl5o xbudbmw xixxii4 xr6a42u x11uqc5h",ref:a,style:u,children:i.jsx(c("PolarisPostFooterCTA.react"),{ctaAdditionalAnimation:f,ctaDominantColor:h,disableAnimation:!0,externalURL:m,forceBottomBorder:!1,icon:i.jsx(c("PolarisSponsoredPersistentCTAThumbnail.react"),{thumbnailImageSrc:r}),isActive:!0,isForAd:!0,isForPersistentCta:!0,onClick:t,showChevron:!0,showRoundedBorder:!0,text:g})})},b[12]=u,b[13]=f,b[14]=g,b[15]=h,b[16]=m,b[17]=t,b[18]=r,b[19]=a):a=b[19];b[20]!==p||b[21]!==a?(e=i.jsx(c("PolarisClickEventLoggerProvider.react"),{children:i.jsx(c("PolarisTrackingNodeProvider.react"),{ref:p,trackingNode:86,children:a})}),b[20]=p,b[21]=a,b[22]=e):e=b[22];b[23]!==o||b[24]!==e||b[25]!==s?(n=i.jsx(c("PolarisTrackingCodeProvider.react"),{isSponsored:!0,m_pk:o,trackingToken:s,children:e}),b[23]=o,b[24]=e,b[25]=s,b[26]=n):n=b[26];return n}function a(a){var b=d("react-compiler-runtime").c(25),e=a.entryPoint,f=a.mpk,g;b[0]!==f?(g=c("getPolarisPostIdFromNativeId")(f),b[0]=f,b[1]=g):g=b[1];var h=g;f=d("polarisAdsSelectors.react").useFeedAdInfo(h,n);g=d("polarisAdsSelectors.react").useStoryAdInfo(h,m);g=e!==null&&e==="story"?g:f;b[2]!==h?(f=function(a){return d("polarisPostSelectors").getPostById(a,h)},b[2]=h,b[3]=f):f=b[3];f=c("usePolarisSelector")(f);var j=f.isSidecar,k=f.src,o=f.thumbnailSrc;if(b[4]!==j||b[5]!==f){var p;p=j===!0?(p=d("PolarisPostUtils").getCurrentSidecarItemFromPost(f,0))==null?void 0:p.id:f.id;b[4]=j;b[5]=f;b[6]=p}else p=b[6];j=p;p=o!=null?o:k;if(j==null||p==null)return null;if(b[7]!==(g==null?void 0:g.ctaItems)||b[8]!==j){var q;o=g==null||(q=g.ctaItems)==null||(q=q.get(j))==null?void 0:q.ctaLinkUrl;b[7]=g==null?void 0:g.ctaItems;b[8]=j;b[9]=o}else o=b[9];k=o;if(b[10]!==(g==null?void 0:g.ctaItems)||b[11]!==j){var r;o=g==null||(r=g.ctaItems)==null||(r=r.get(j))==null?void 0:r.ctaLinkText;b[10]=g==null?void 0:g.ctaItems;b[11]=j;b[12]=o}else o=b[12];o=o;var s;if(b[13]!==(g==null?void 0:g.ctaItems)||b[14]!==j){var t;s=g==null||(t=g.ctaItems)==null||(t=t.get(j))==null?void 0:t.ctaDominantColor;b[13]=g==null?void 0:g.ctaItems;b[14]=j;b[15]=s}else s=b[15];g=s;if(k==null||o==null)return null;b[16]!==o||b[17]!==g||b[18]!==e||b[19]!==k||b[20]!==j||b[21]!==f||b[22]!==a||b[23]!==p?(s=i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(l,babelHelpers["extends"]({},a,{ctaLinkText:o,domColor:g,entryPoint:e,externalURL:k,mediaId:j,post:f,thumbnailImageSrc:p}))}),b[16]=o,b[17]=g,b[18]=e,b[19]=k,b[20]=j,b[21]=f,b[22]=a,b[23]=p,b[24]=s):s=b[24];return s}function m(a){return a}function n(a){return a}g["default"]=a}),98);
__d("PolarisNoCommentsPlaceholder.react",["fbt","IGDSBox.react","IGDSTextVariants.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"No comments yet."),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Start the conversation."),a[1]=e):e=a[1];e=e;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSBox.react"),{marginBottom:2,children:j.jsx(d("IGDSTextVariants.react").IGDSTextHeadline2,{textAlign:"center",children:b})}),a[2]=b):b=a[2];a[3]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",children:[b,j.jsx(c("IGDSBox.react"),{marginTop:2,children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:e})})]}),a[3]=b):b=a[3];return b}g["default"]=a}),226);
__d("PolarisPostCommentPlaceholder.react",["IGDSBox.react","IGDSGlimmer.react","PolarisIGTheme.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={avatarGlimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",flexShrink:"x2lah0s",height:"x10w6t97",marginInlineEnd:"x1xegmmw",width:"x1td3qas",$$css:!0},darkModeBackgroundColor:{backgroundColor:"x1c9t90q",$$css:!0},noAnimate:{opacity:"x159chl0",$$css:!0},subtextGlimmer:{height:"x1kpxq89",maxWidth:"xazcve0",$$css:!0},textGlimmer:{height:"x1kpxq89",marginBottom:"x12nagc",maxWidth:"x1ncir08",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(28),e=a.animate,f=a.index;a=a.marginTop;e=e===void 0?!0:e;a=a===void 0?6:a;var g=d("PolarisIGTheme.react").useTheme().getTheme()===d("PolarisIGTheme.react").IGTheme.Dark,h=e?void 0:0,k=g&&j.darkModeBackgroundColor,l=!e&&j.noAnimate,m;b[0]!==k||b[1]!==l?(m=[j.avatarGlimmer,k,l],b[0]=k,b[1]=l,b[2]=m):m=b[2];b[3]!==f||b[4]!==h||b[5]!==m?(k=i.jsx(c("IGDSGlimmer.react"),{index:f,iteration:h,xstyle:m}),b[3]=f,b[4]=h,b[5]=m,b[6]=k):k=b[6];l=e?void 0:0;h=g&&j.darkModeBackgroundColor;m=!e&&j.noAnimate;var n;b[7]!==m||b[8]!==h?(n=[j.textGlimmer,h,m],b[7]=m,b[8]=h,b[9]=n):n=b[9];b[10]!==f||b[11]!==n||b[12]!==l?(m=i.jsx(c("IGDSGlimmer.react"),{index:f,iteration:l,xstyle:n}),b[10]=f,b[11]=n,b[12]=l,b[13]=m):m=b[13];h=e?void 0:0;n=g&&j.darkModeBackgroundColor;l=!e&&j.noAnimate;b[14]!==n||b[15]!==l?(g=[j.subtextGlimmer,n,l],b[14]=n,b[15]=l,b[16]=g):g=b[16];b[17]!==f||b[18]!==h||b[19]!==g?(e=i.jsx(c("IGDSGlimmer.react"),{index:f,iteration:h,xstyle:g}),b[17]=f,b[18]=h,b[19]=g,b[20]=e):e=b[20];b[21]!==m||b[22]!==e?(n=i.jsxs(c("IGDSBox.react"),{flex:"grow",children:[m,e]}),b[21]=m,b[22]=e,b[23]=n):n=b[23];b[24]!==a||b[25]!==n||b[26]!==k?(l=i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",marginTop:a,children:[k,n]}),b[24]=a,b[25]=n,b[26]=k,b[27]=l):l=b[27];return l}g["default"]=a}),98);
__d("PolarisPostCommentsContainerPlaceholder.react",["IGDSBox.react","PolarisPostCommentPlaceholder.react","range","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.animate,f=a.indexOffset,g=a.marginStart,h=a.marginTop,j=a.numRows;a=a.xStyle;var k=e===void 0?!0:e,l=f===void 0?0:f;e=g===void 0?2:g;var m=h===void 0?6:h;f=j===void 0?8:j;b[0]!==k||b[1]!==l||b[2]!==m||b[3]!==f?(g=f>0&&c("range")(0,f).map(function(a){return i.jsx(c("PolarisPostCommentPlaceholder.react"),{animate:k,index:l+a,marginTop:a===0?m:void 0},a)}),b[0]=k,b[1]=l,b[2]=m,b[3]=f,b[4]=g):g=b[4];b[5]!==e||b[6]!==g||b[7]!==a?(h=i.jsx(c("IGDSBox.react"),{marginStart:e,xstyle:a,children:g}),b[5]=e,b[6]=g,b[7]=a,b[8]=h):h=b[8];return h}g["default"]=a}),98);
__d("PolarisProfessionalAccountTapComponentFalcoEvent",["BusinessConversionTapComponentFalcoEvent","CreatorConversionTapComponentFalcoEvent","EditProfileTapComponentFalcoEvent","InterestAccountConversionTapComponentFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a={log:function(a,b){switch(b){case"business_conversion":c("BusinessConversionTapComponentFalcoEvent").log(function(){return a()});break;case"creator_conversion":c("CreatorConversionTapComponentFalcoEvent").log(function(){return a()});break;case"edit_profile":c("EditProfileTapComponentFalcoEvent").log(function(){return a()});break;case"interest_account_conversion":c("InterestAccountConversionTapComponentFalcoEvent").log(function(){return a()});break}}};b=a;g["default"]=b}),98);
__d("PolarisProfessionalAccountLogger",["BusinessConversionCancelFalcoEvent","BusinessConversionFetchDataErrorFalcoEvent","BusinessConversionFetchDataFalcoEvent","BusinessConversionFinishStepFalcoEvent","BusinessConversionSkipFalcoEvent","BusinessConversionStartStepFalcoEvent","BusinessConversionSubmitErrorFalcoEvent","BusinessConversionSubmitFalcoEvent","CreatorConversionCancelFalcoEvent","CreatorConversionFetchDataErrorFalcoEvent","CreatorConversionFetchDataFalcoEvent","CreatorConversionFinishStepFalcoEvent","CreatorConversionStartStepFalcoEvent","CreatorConversionSubmitErrorFalcoEvent","CreatorConversionSubmitFalcoEvent","EditProfileCancelFalcoEvent","EditProfileFetchDataErrorFalcoEvent","EditProfileFetchDataFalcoEvent","EditProfileFinishStepFalcoEvent","EditProfileStartStepFalcoEvent","EditProfileSubmitErrorFalcoEvent","EditProfileSubmitFalcoEvent","InterestAccountConversionCancelFalcoEvent","InterestAccountConversionEnterFalcoEvent","InterestAccountConversionFetchDataErrorFalcoEvent","InterestAccountConversionFetchDataFalcoEvent","InterestAccountConversionFinishStepFalcoEvent","InterestAccountConversionStartStepFalcoEvent","InterestAccountConversionSubmitErrorFalcoEvent","InterestAccountConversionSubmitFalcoEvent","PolarisProfessionalAccountTapComponentFalcoEvent","vulture"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g){this.$1={entry_point:c,fb_page_id:e,fb_user_id:f,is_business_login_request:g,pk:a,source_id:d,waterfall_id:b}}var b=a.prototype;b.logEnter=function(a,b){var d={entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:b,step:a,waterfall_id:this.$1.waterfall_id};c("InterestAccountConversionEnterFalcoEvent").log(function(){return d})};b.logCancel=function(a,b){var d={entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,step:b,waterfall_id:this.$1.waterfall_id},e=babelHelpers["extends"]({},d,{is_business_login_request:this.$1.is_business_login_request});switch(a){case"business_conversion":c("BusinessConversionCancelFalcoEvent").log(function(){return e});break;case"creator_conversion":c("CreatorConversionCancelFalcoEvent").log(function(){return d});break;case"edit_profile":c("vulture")("3Q08R7vIcYF2_EXx5OZCPaD3QTw=");c("EditProfileCancelFalcoEvent").log(function(){return d});break;case"interest_account_conversion":c("InterestAccountConversionCancelFalcoEvent").log(function(){return d});break}};b.logFetchDataError=function(a,b,d,e,f,g){var h={component:d,entry_point:this.$1.entry_point,error_identifier:e,error_message:f,fb_page_id:this.$1.fb_page_id,selected_values:g,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionFetchDataErrorFalcoEvent").log(function(){return h});break;case"creator_conversion":c("CreatorConversionFetchDataErrorFalcoEvent").log(function(){return h});break;case"edit_profile":c("vulture")("Kq3WCMj7A0DqtdYB2Da1cVSEv1k=");c("EditProfileFetchDataErrorFalcoEvent").log(function(){return h});break;case"interest_account_conversion":c("InterestAccountConversionFetchDataErrorFalcoEvent").log(function(){return h});break}};b.logFetchData=function(a,b,d,e,f){var g={available_options:e,component:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:f,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionFetchDataFalcoEvent").log(function(){return g});break;case"creator_conversion":c("CreatorConversionFetchDataFalcoEvent").log(function(){return g});break;case"edit_profile":c("vulture")("pkZROhqUkx1ED3uHyj_DJ-bhjiE=");c("EditProfileFetchDataFalcoEvent").log(function(){return g});break;case"interest_account_conversion":c("InterestAccountConversionFetchDataFalcoEvent").log(function(){return g});break}};b.logFinishStep=function(a,b,d,e){var f={default_values:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:e,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionFinishStepFalcoEvent").log(function(){return f});break;case"creator_conversion":c("CreatorConversionFinishStepFalcoEvent").log(function(){return f});break;case"edit_profile":c("vulture")("XEoAV798zXXcYfoY6vdQRxaHHnE=");c("EditProfileFinishStepFalcoEvent").log(function(){return f});break;case"interest_account_conversion":c("InterestAccountConversionFinishStepFalcoEvent").log(function(){return f});break}};b.logSkip=function(a,b){var d={entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,flow:a,step:b,waterfall_id:this.$1.waterfall_id};a==="business_conversion"&&c("BusinessConversionSkipFalcoEvent").log(function(){return d})};b.logStartStep=function(a,b,d){var e={default_values:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionStartStepFalcoEvent").log(function(){return e});break;case"creator_conversion":c("CreatorConversionStartStepFalcoEvent").log(function(){return e});break;case"edit_profile":c("vulture")("9cWvBsiPDfx8wXzeDFmHbZODfRQ=");c("EditProfileStartStepFalcoEvent").log(function(){return e});break;case"interest_account_conversion":c("InterestAccountConversionStartStepFalcoEvent").log(function(){return e});break}};b.logSubmitError=function(a,b,d,e,f,g){var h={component:d,entry_point:this.$1.entry_point,error_identifier:e,error_message:f,fb_page_id:this.$1.fb_page_id,selected_values:g,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionSubmitErrorFalcoEvent").log(function(){return h});break;case"creator_conversion":c("CreatorConversionSubmitErrorFalcoEvent").log(function(){return h});break;case"edit_profile":c("vulture")("MFKb7x0p8yr61zIJT9uxDUo6f1Q=");c("EditProfileSubmitErrorFalcoEvent").log(function(){return h});break;case"interest_account_conversion":c("InterestAccountConversionSubmitErrorFalcoEvent").log(function(){return h});break}};b.logSubmit=function(a,b,d,e){var f={component:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:e,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},f)});break;case"creator_conversion":c("CreatorConversionSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},f)});break;case"edit_profile":c("vulture")("x4FSb8oMxe2Zvk9MNz9OU_OZ-WA=");c("EditProfileSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},f)});break;case"interest_account_conversion":c("InterestAccountConversionSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},f)});break}};b.logTapComponent=function(a,b,d,e){var f={component:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:e,step:b,waterfall_id:this.$1.waterfall_id};c("PolarisProfessionalAccountTapComponentFalcoEvent").log(function(){return f},a)};return a}();g.ProfessionalAccountLogger=a}),98);
__d("PolarisProfessionalConversionCardTypeConfigs.react",["fbt","ix","IGCoreImage.react","IGDSAdsPanoOutlineIcon.react","IGDSBox.react","IGDSBusinessPanoOutlineIcon.react","IGDSDeviceDesktopPanoOutlineIcon.react","IGDSDevicePhonePanoOutlineIcon.react","IGDSInsightsPanoOutlineIcon.react","IGDSMailPanoOutlineIcon.react","IGDSMediaAccountOutlineIcon.react","IGDSMessagesOutlineIcon.react","IGDSUserPanoOutlineIcon.react","IGDSWhatsappLogoOutlineIcon.react","PolarisFastLink.react","PolarisProfessionalConversionUtils","PolarisUserAvatar.react","react","vulture"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=64,m=40,n=24,o=4,p={subtitle:h._(/*BTDS*/"Choose a category that best describes what you do. You'll have the option to display or hide this on your profile."),title:h._(/*BTDS*/"Select a category")},q={subtitle:h._(/*BTDS*/"This information will be displayed on your profile publicly so people can contact you. You can edit or remove this information at any time."),title:h._(/*BTDS*/"Review your contact info")},r=h._(/*BTDS*/"You now have more tools to connect with your audience on Instagram.");function s(a){return a!=null||a!==void 0?h._(/*BTDS*/"Go to the mobile app to learn about {username}'s followers with insights, display and edit contact buttons, reach customers with promotions and more.",[h._param("username",a)]):h._(/*BTDS*/"Go to the mobile app to learn about your followers with insights, display and edit contact buttons, reach customers with promotions and more.")}var t=h._(/*BTDS*/"Manage your new business account on desktop with {=m1}",[h._implicitParam("=m1",k.jsx(c("PolarisFastLink.react"),{href:"https://business.facebook.com",children:h._(/*BTDS*/"Business Suite.")}))]),u=h._(/*BTDS*/"Manage your new creator account on desktop with {=m1}",[h._implicitParam("=m1",k.jsx(c("PolarisFastLink.react"),{href:"https://business.facebook.com",children:h._(/*BTDS*/"Business Suite.")}))]),v={secondary_subtitle:h._(/*BTDS*/"Next, add WhatsApp to your profile."),subtitle:r,title:h._(/*BTDS*/"Your Instagram creator account is ready")};r={secondary_subtitle:h._(/*BTDS*/"Next, add WhatsApp to your profile."),subtitle:r,title:h._(/*BTDS*/"Your Instagram business account is ready")};var w={subtitle:h._(/*BTDS*/"When you switch back to a personal account, in-app insights will be turned off and insights from all your content, including content and insights for promotions, will be permanently removed."),title:h._(/*BTDS*/"Switch to a Personal Account?")},x={subtitle:h._(/*BTDS*/"When you switch to a personal account, you will lose access to insights from all your content, including your ads. You'll also lose access to Meta business tools like Meta Business Suite and Ads Manager. Your Meta Verified subscription will also be canceled for this account."),title:h._(/*BTDS*/"Switch to personal account?")},y={subtitle:h._(/*BTDS*/"When you switch back to a personal account, in-app insights will be turned off and insights from all of your content,including your promotions, will be permanently removed. Your Meta Verified subscription will also be canceled for this account."),title:h._(/*BTDS*/"Switch to a Personal Account?")};function a(a){return{subtitle:h._(/*BTDS*/"When you switch back to a personal account, in-app insights will be turned off and insights from all of your content, including your promotions, will be permanently removed. Your Meta Verified subscription will be canceled for this account if you do not switch back to a professional account within {grace period expiry days} days.",[h._param("grace period expiry days",a)]),title:h._(/*BTDS*/"Switch to a Personal Account?")}}var z={subtitle:h._(/*BTDS*/"When you switch to a personal account, you will lose access to in-app insights and insights from all your content, including your promotions. Your Meta Verified subscription will also be canceled for this account."),title:h._(/*BTDS*/"Switch to a Personal Account?")};function b(a){return{subtitle:h._(/*BTDS*/"When you switch to a personal account, you will lose access to in-app insights and insights from all your content including your promotions. Your Meta Verified subscription will be canceled for this account if you do not switch back to a professional account within {grace period expiry days} days.",[h._param("grace period expiry days",a)]),title:h._(/*BTDS*/"Switch to a Personal Account?")}}var A={subtitle:h._(/*BTDS*/"Switching to a creator account will make your Instagram account public. Anyone will be able to see your content and all pending follow requests will be approved."),title:h._(/*BTDS*/"Switch to a creator account?")},B={subtitle:h._(/*BTDS*/"Your profile and content on Instagram will be public. Anyone will be able to see your content in search engine results, and you can turn this off anytime in Account privacy in Settings. You\u2019ll no longer need to approve followers, and any pending requests will be automatically approved."),title:h._(/*BTDS*/"Switch to a professional account?")},C={subtitle:h._(/*BTDS*/"Switching to a business account will make your Instagram account public. Anyone will be able to see your content and all pending follow requests will be approved."),title:h._(/*BTDS*/"Switch to a business account?")},D={subtitle:h._(/*BTDS*/"Your profile and content on Instagram will be public. Anyone will be able to see your content in search engine results, and you can turn this off anytime in Account privacy in Settings. You\u2019ll no longer need to approve followers, and any pending requests will be automatically approved."),title:h._(/*BTDS*/"Switch to a professional account?")},E={icon:k.jsx(c("IGDSBox.react"),{alignItems:"center",border:!0,height:l,justifyContent:"center",position:"relative",shape:"circle",width:l,children:k.jsx(c("IGDSMediaAccountOutlineIcon.react"),{alt:h._(/*BTDS*/"Media creator icon"),size:n})}),subtitle:h._(/*BTDS*/"Best for public figures, content producers, artists and influencers."),title:h._(/*BTDS*/"Creator")},F={icon:k.jsx(c("IGDSBox.react"),{alignItems:"center",border:!0,height:l,justifyContent:"center",position:"relative",shape:"circle",width:l,children:k.jsx(c("IGDSBusinessPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Business icon"),size:n})}),subtitle:h._(/*BTDS*/"Best for retailers, local businesses, brands, organizations and service providers."),title:h._(/*BTDS*/"Business")};function e(a){var b=(a==null?void 0:a.username)||"";a=(a=a==null?void 0:a.profilePictureUrlHd)!=null?a:"/images/instagram/xig/anonymousUser.jpg?__d=www";return{icon:k.jsx(c("IGDSBox.react"),{alignItems:"center",border:!0,height:l,justifyContent:"center",position:"relative",shape:"circle",width:l,children:k.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a,size:l,username:b})}),subtitle:h._(/*BTDS*/"With a professional account, you can get access to insights about your followers and account performance, new contact options and more."),title:h._(/*BTDS*/"Get a free professional account")}}function f(a){switch(a){case d("PolarisProfessionalConversionUtils").InterestAccount.media_creator:c("vulture")("KWrlYVnip1ukUh8clpJ1CLex6wo=");return{subtitle:h._(/*BTDS*/"Based on the category you selected, you may be a creator. You can edit this anytime."),title:h._(/*BTDS*/"Are you a creator?")};case d("PolarisProfessionalConversionUtils").InterestAccount.business:c("vulture")("_A2J0oNrvwGSN_VZyehubSkI94I=");return{subtitle:h._(/*BTDS*/"Based on the category you selected, you may be a business. You can edit this anytime."),title:h._(/*BTDS*/"Are you a business?")};default:return{subtitle:null,title:h._(/*BTDS*/"Which best describes you?")}}}var G=[{icon:k.jsx(c("IGDSUserPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"User icon"),size:n}),subtitle:h._(/*BTDS*/"You can choose to hide or display contact info and buttons on your profile."),title:h._(/*BTDS*/"Flexible Profile Controls")},{icon:k.jsx(c("IGDSMessagesOutlineIcon.react"),{alt:h._(/*BTDS*/"Messages icon"),altDeprecated:h._(/*BTDS*/"Direct messaging icon"),size:n}),subtitle:h._(/*BTDS*/"A new inbox makes it easier to manage message requests and connect with fans."),title:h._(/*BTDS*/"Simplified Messaging")},{icon:k.jsx(c("IGDSInsightsPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Insights icon"),size:n}),subtitle:h._(/*BTDS*/"Get more advanced insights and reach more people with promotions."),title:h._(/*BTDS*/"More Growth Tools")}];function H(a){return[{icon:k.jsx(c("IGDSInsightsPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Insights icon"),size:n}),subtitle:h._(/*BTDS*/"Get insights about your followers and see how your posts are performing."),title:h._(/*BTDS*/"Learn about your followers")},{icon:k.jsx(c("IGDSAdsPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Ads icon"),size:n}),subtitle:a===d("PolarisProfessionalConversionUtils").InterestAccount.business?h._(/*BTDS*/"Create promotions on Instagram to reach more customers and build your business."):h._(/*BTDS*/"Create promotions on Instagram to help reach more people and build your community."),title:a===d("PolarisProfessionalConversionUtils").InterestAccount.business?h._(/*BTDS*/"Reach your customers"):h._(/*BTDS*/"Reach more people")},{icon:k.jsx(c("IGDSMailPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Mail icon"),size:n}),subtitle:h._(/*BTDS*/"Add a contact button to your profile to make it easier for people to get in touch with you."),title:h._(/*BTDS*/"Get new contact options")}]}function I(a,b){return[{icon:k.jsx(c("IGDSDevicePhonePanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Mobile phone icon"),size:n}),subtitle:s(b)},{icon:k.jsx(c("IGDSDeviceDesktopPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Desktop icon"),size:n}),subtitle:a===d("PolarisProfessionalConversionUtils").InterestAccount.media_creator?u:t}]}var J=h._(/*BTDS*/"Something went wrong, please try again later."),K=h._(/*BTDS*/"To display a contact button on your profile, please add your contact information."),L=h._(/*BTDS*/"Switched to personal account");function M(){return{icon:k.jsx(k.Fragment,{}),subtitle:h._(/*BTDS*/"Your Instagram business category isn't supported on WhatsApp."),title:h._(/*BTDS*/"Can't add WhatsApp to your profile")}}function N(){return{icon:k.jsx(k.Fragment,{}),subtitle:h._(/*BTDS*/"Make it easy for people visiting your profile to contact you on WhatsApp."),title:h._(/*BTDS*/"Add WhatsApp to your profile")}}var O=h._(/*BTDS*/"Instagram"),P=h._(/*BTDS*/"WhatsApp"),Q=" \xb7 ";function R(a){return{icon:k.jsx(k.Fragment,{}),subtitle:h._(/*BTDS*/"This profile already has a WhatsApp number as a contact option. If you continue, that number will be replaced by +{whatsapp phone }.",[h._param("whatsapp phone ",a)]),title:h._(/*BTDS*/"WhatsApp already added")}}function S(a,b){return{icon:k.jsx(c("IGDSWhatsappLogoOutlineIcon.react"),{alt:h._(/*BTDS*/"WhatsApp icon"),size:m}),subtitle:h._(/*BTDS*/"{whatsapp business name}",[h._param("whatsapp business name",a)]),title:h._(/*BTDS*/"+{whatsapp phone }",[h._param("whatsapp phone ",b)])}}function T(a,b,d){return{icon:k.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a!=null?a:"",size:m,username:b!=null?b:""}),subtitle:h._(/*BTDS*/"{instagram business category}",[h._param("instagram business category",d)]),title:h._(/*BTDS*/"{instagram business name}",[h._param("instagram business name",b)])}}function U(a){return{icon:k.jsx(c("IGCoreImage.react"),{alt:h._(/*BTDS*/"IG success checkmark"),src:{light:i("162687")}}),subtitle:h._(/*BTDS*/"WhatsApp is now a contact option on your {whatsapp business name} profile.",[h._param("whatsapp business name",a)]),title:h._(/*BTDS*/"WhatsApp added")}}var V={icon:k.jsx(c("IGDSDevicePhonePanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Mobile phone icon"),size:n}),subtitle:h._(/*BTDS*/"Go to the Instagram app to add other contact buttons, create promotions, and get insights about your followers.")};g.ICON_SIZE=n;g.DIVIDER_PADDING=o;g.CATEGORY_SELECTION_CARD_CONFIGS=p;g.CONTACT_INFO_CARD_CONFIGS=q;g.getConfirmationBody=s;g.CREATOR_CONFIRMATION_CARD_CONFIGS=v;g.BUSINESS_CONFIRMATION_CARD_CONFIGS=r;g.SWITCHBACK_PERSONAL_CARD_CONFIGS=w;g.SWITCHBACK_PERSONAL_CARD_LOSE_ACCESS_CONFIGS=x;g.SWITCHBACK_PERSONAL_CARD_FOR_MV4B_CONFIGS=y;g.getSwitchbackPersonalCardForMv4BConfigsWithGracePeriod=a;g.SWITCHBACK_PERSONAL_CARD_WITH_LOSE_ACCESS_CONTENT_FOR_MV4B_CONFIGS=z;g.getSwitchbackPersonalCardWithLoseAccessContentForMv4BConfigsWithGracePeriod=b;g.CREATOR_PRIVACY_CARD_CONFIGS=A;g.CREATOR_PRIVACY_CARD_CONFIGS_V2=B;g.BUSINESS_PRIVACY_CARD_CONFIGS=C;g.BUSINESS_PRIVACY_CARD_CONFIGS_V2=D;g.CREATOR_CARD_CONFIGS=E;g.BUSINESS_CARD_CONFIGS=F;g.getGenericCardConfigs=e;g.getAccountSelectionCardConfigs=f;g.CREATOR_VALUE_PROPS=G;g.getBusinessOrGenericValueProps=H;g.getConfirmationValueProps=I;g.CONVERSION_ERROR=J;g.CONVERSION_NO_CONTACT_INFO_ERROR=K;g.SWITCHED_TO_PERSONAL_ACCOUNT=L;g.getAddWhatsAppCategoryModalConfigs=M;g.getAddWhatsAppPageHeaderConfigs=N;g.INSTAGRAM=O;g.WHATSAPP=P;g.INTERPUNCT=Q;g.getAddWhatsAppPagePrelinkedWhatsAppConfigs=R;g.getAddWhatsAppPageBodyWhatsAppConfigs=S;g.getAddWhatsAppPageBodyInstagramConfigs=T;g.getWhatsAppLinkCompletionHeaderConfigs=U;g.WHATSAPP_LINK_COMPLETION_BODY_CONFIGS=V}),226);
__d("PolarisProfessionalConversionActions",["PolarisConfig","PolarisInstapi","PolarisProfessionalAccountLogger","PolarisProfessionalAccountLoggerUtils","PolarisProfessionalConversionCardTypeConfigs.react","PolarisProfessionalConversionUtils","PolarisToastActions","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function h(){return d("PolarisInstapi").apiGet("/api/v1/business/account/get_suggested_categories/",{}).then(function(a){return a.data})}function i(){return d("PolarisInstapi").apiGet("/api/v1/business/account/get_professional_conversion_nux_configuration",{query:{is_professional_signup_flow:!1}}).then(function(a){return a.data})}function j(){return d("PolarisInstapi").apiPost("/api/v1/business/account/convert_account/",{body:{entry_point:d("PolarisProfessionalAccountLoggerUtils").EntryPoint.ig_web_settings,to_account_type:Number(d("PolarisProfessionalConversionUtils").encodeInterestAccountType(d("PolarisProfessionalConversionUtils").InterestAccount.personal))}},{options:{timeout:d("PolarisProfessionalConversionUtils").IGPCP_TIMEOUT}}).then(function(a){return a.data})}function k(a){return d("PolarisInstapi").apiPost("/api/v1/business/account/convert_account/",{body:{to_account_type:Number(d("PolarisProfessionalConversionUtils").encodeInterestAccountType(a))}},{options:{timeout:d("PolarisProfessionalConversionUtils").IGPCP_TIMEOUT}}).then(function(a){return a.data})}function l(a,b,c,e,f,g,h){e=e!==""?JSON.stringify({business_contact_method:"CALL",public_phone_number:e}):"";f=f+a+g!==""?JSON.stringify({address_street:f,city_id:a,zip:g}):"";a={business_address:f,entry_point:c,public_email:b,public_phone_contact:e,should_show_public_contacts:h===!0?1:0};return d("PolarisInstapi").apiPost("/api/v1/accounts/update_business_info/",{body:a}).then(function(a){return a.data})}function m(a){var b=d("PolarisProfessionalConversionUtils").encodeInterestAccountType(a.accountType);return d("PolarisInstapi").apiPost("/api/v1/business/account/convert_account/",{body:{category_id:a.categoryId,create_business_id:a.createBusinessManager,entry_point:a.entryPoint,preferred_business_id:a.preferredBusinessId,set_public:!0,should_bypass_contact_check:String(!0),should_show_category:a.shouldShowCategory===!0?1:0,to_account_type:Number(b)}},{options:{timeout:d("PolarisProfessionalConversionUtils").IGPCP_TIMEOUT}}).then(function(a){return a.data})}function n(){return{type:"GO_FORWARD"}}function a(){return{type:"GO_BACK"}}function b(){return{type:"RESET_CATEGORIES"}}function o(a){return function(b,c){c=c();c=c.professionalConversion;var e=c.conversionFlowOrder;e=e.filter(function(a){return a!==d("PolarisProfessionalConversionUtils").ConversionStep.edit_contact_info});var f=c.entryPoint===d("PolarisProfessionalAccountLoggerUtils").EntryPoint.ig_web_settings||c.entryPoint===d("PolarisProfessionalAccountLoggerUtils").EntryPoint.page_settings;f=a===d("PolarisProfessionalConversionUtils").InterestAccount.business&&Boolean(c.whatsappUserNonce)!==!0&&f&&c.professionalConversionNuxConfig.should_show_edit_contact_info_step;f&&e.splice(-1,0,d("PolarisProfessionalConversionUtils").ConversionStep.edit_contact_info);b({newConversionFlowOrder:e,type:"SET_NUX_CONTACT_INFO_ELIGIBILITY"})}}function p(a){return{creatorBusinessConversionRequestInFlight:a,type:"SET_CREATOR_BUSINESS_CONVERSION_REQUEST_IN_FLIGHT"}}function q(a){return{requestInFlight:a,type:"SET_REQUEST_IN_FLIGHT"}}function e(){return function(a,b){b=b();var c=b.professionalConversion,e=c.logger;return h().then(function(b){var f=[];b.categories.forEach(function(a){var b;f.push({category_account_type:(b=a.category_account_type)!=null?b:"",category_id:(b=a.category_id)!=null?b:"",category_name:(b=a.category_name)!=null?b:""})});a({categories:f,type:"CATEGORIES_LOADED"});b={data_count:String(f.length)};e&&c.accountType&&e.logFetchData(d("PolarisProfessionalConversionUtils").getLoggingFlow(c.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.choose_category,d("PolarisProfessionalAccountLoggerUtils").Component.suggested_category,b)},function(a){var b;b=(b=(b=a.responseObject)==null?void 0:b.message)!=null?b:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;if(e){e.logFetchDataError(d("PolarisProfessionalConversionUtils").getLoggingFlow(c.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.choose_category,d("PolarisProfessionalAccountLoggerUtils").Component.suggested_category,(a=a.responseObject)==null?void 0:a.error_identifier,b)}})["catch"](function(a){var b;b=(b=(b=a.responseObject)==null?void 0:b.message)!=null?b:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;if(e){e.logFetchDataError(d("PolarisProfessionalConversionUtils").getLoggingFlow(c.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.choose_category,d("PolarisProfessionalAccountLoggerUtils").Component.suggested_category,(a=a.responseObject)==null?void 0:a.error_identifier,b)}})}}function f(a,b,c,e,f,g,h){return function(i,j){j=j();var k=j.professionalConversion,m=k.logger;return l(a,b,c,e,f,g,h).then(function(){i(q(!1));if(m&&k.accountType){var c=d("PolarisProfessionalConversionUtils").getLoggingFlow(k.accountType);m.logSubmit(c,d("PolarisProfessionalAccountLoggerUtils").Step.edit_contact_info,d("PolarisProfessionalAccountLoggerUtils").Component.save_info,{address:f,city:a,email:b,phone:e,should_show_public_contacts:h===!0?"true":"false",zip_code:g});m.logFinishStep(c,d("PolarisProfessionalAccountLoggerUtils").Step.edit_contact_info)}i(n())},function(c){var j;i(q(!1));j=((j=c.responseObject)==null?void 0:j.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;i(d("PolarisToastActions").showToast({text:j}));if(m&&k.accountType){m.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(k.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.edit_contact_info,d("PolarisProfessionalAccountLoggerUtils").Component.save_info,(j=c.responseObject)==null?void 0:j.error_identifier,(j=c.responseObject)==null?void 0:j.message,{address:f,city:a,email:b,phone:e,should_show_public_contacts:h===!0?"true":"false",zip_code:g})}})["catch"](function(a){var b;i(q(!1));b=((b=a.responseObject)==null?void 0:b.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;i(d("PolarisToastActions").showToast({text:b}));if(m&&k.accountType){m.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(k.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.edit_contact_info,d("PolarisProfessionalAccountLoggerUtils").Component.save_info,(b=a.responseObject)==null?void 0:b.error_identifier,(b=a.responseObject)==null?void 0:b.message)}})}}function r(a){return function(b,c){c=c();var e=c.professionalConversion,f=e.logger,g=e.isEligibleForATStoNUX?d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion:d("PolarisProfessionalConversionUtils").getLoggingFlow(a);c=e.professionalConversionNuxConfig.should_show_edit_contact_info_step;var h={should_show_edit_contact_info_step:c===!0?"true":"false"};return i().then(function(c){f&&f.logFetchData(g,e.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.nux_config,h),b({professionalConversionNuxConfig:{should_show_edit_contact_info_step:c.should_show_edit_contact_info_step},type:"SET_PROFESSIONAL_CONVERSION_NUX_CONFIG"}),b(o(a)),b(q(!1)),b(n())},function(c){b(o(a));if(f){var h;f.logFetchDataError(g,e.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.nux_config,(h=c.responseObject)==null?void 0:h.error_identifier,(h=c.responseObject)==null?void 0:h.message)}b(q(!1));b(n())})["catch"](function(c){b(o(a));if(f){var h;f.logFetchDataError(g,e.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.nux_config,(h=c.responseObject)==null?void 0:h.error_identifier,(h=c.responseObject)==null?void 0:h.message)}b(q(!1));b(n())})}}function s(a){return function(b,c){c=c();c=c.professionalConversion;var e=c.logger;return k(a).then(function(){b(r(a)),b(w(a)),e&&(e.logSubmit(d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion,d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional),e.logFinishStep(d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion,d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection))},function(a){var c;b(q(!1));c=(c=(c=a.responseObject)==null?void 0:c.message)!=null?c:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;b(d("PolarisToastActions").showToast({text:c}));if(e){e.logSubmitError(d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion,d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional,(c=a.responseObject)==null?void 0:c.error_identifier,(c=a.responseObject)==null?void 0:c.message)}})["catch"](function(a){var c;b(q(!1));c=(c=(c=a.responseObject)==null?void 0:c.message)!=null?c:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;b(d("PolarisToastActions").showToast({text:c}));if(e){e.logSubmitError(d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion,d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional,(c=a.responseObject)==null?void 0:c.error_identifier,(c=a.responseObject)==null?void 0:c.message)}})}}function t(a,b,c){return function(e,f){f=f();f=f.professionalConversion;var g=f.logger;f=k(a).then(function(){e(w(a));b!=null&&e(d("PolarisToastActions").showToast({text:b}));if(g){var f;g.logSubmit((f=d("PolarisProfessionalAccountLoggerUtils")).Flow.business_conversion,f.Step.switch_professional_account_type,f.Component["continue"]);g.logFinishStep(f.Flow.business_conversion,f.Step.switch_professional_account_type)}c&&c()},function(a){var b;b=(b=(b=a.responseObject)==null?void 0:b.message)!=null?b:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;e(d("PolarisToastActions").showToast({text:b}));if(g){g.logSubmitError(d("PolarisProfessionalAccountLoggerUtils").Flow.business_conversion,d("PolarisProfessionalAccountLoggerUtils").Step.switch_professional_account_type,d("PolarisProfessionalAccountLoggerUtils").Component["continue"],(b=a.responseObject)==null?void 0:b.error_identifier,(b=a.responseObject)==null?void 0:b.message)}})["catch"](function(a){var b;b=(b=(b=a.responseObject)==null?void 0:b.message)!=null?b:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;e(d("PolarisToastActions").showToast({text:b}));if(g){g.logSubmitError(d("PolarisProfessionalAccountLoggerUtils").Flow.business_conversion,d("PolarisProfessionalAccountLoggerUtils").Step.switch_professional_account_type,d("PolarisProfessionalAccountLoggerUtils").Component["continue"],(b=a.responseObject)==null?void 0:b.error_identifier,(b=a.responseObject)==null?void 0:b.message)}});function h(){e(p(!1))}f.then(h,h)}}function u(){return function(a,b){b=b();var c=b.professionalConversion,e=c.logger,f=c.isEligibleForATStoNUX?d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion:d("PolarisProfessionalConversionUtils").getLoggingFlow(c.accountType);return m(c).then(function(b){e&&(e.logSubmit(f,c.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional),e.logFinishStep(f,c.conversionStep));b=d("PolarisProfessionalConversionUtils").decodeInterestAccountType(b.user.account_type);c.isEligibleForATStoNUX&&a(w(b));a(r(b))},function(b){var g;a(q(!1));g=((g=b.responseObject)==null?void 0:g.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;a(d("PolarisToastActions").showToast({text:g}));if(e&&c.accountType){e.logSubmitError(f,c.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional,(g=b.responseObject)==null?void 0:g.error_identifier,(g=b.responseObject)==null?void 0:g.message)}})["catch"](function(b){var g;a(q(!1));g=((g=b.responseObject)==null?void 0:g.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;a(d("PolarisToastActions").showToast({text:g}));if(e&&c.accountType){e.logSubmitError(f,c.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional,(g=b.responseObject)==null?void 0:g.error_identifier,(g=b.responseObject)==null?void 0:g.message)}})}}function v(a){var b=a.logger,c=a.onError,e=a.onSuccess;j().then(function(){b&&b.logSubmit(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button),e()},function(a){var e;e=((e=a.responseObject)==null?void 0:e.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;if(b){var f;b.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button,(f=a.responseObject)==null?void 0:f.error_identifier,(f=a.responseObject)==null?void 0:f.message)}c(e)})["catch"](function(a){var e;e=((e=a.responseObject)==null?void 0:e.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;if(b){var f;b.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button,(f=a.responseObject)==null?void 0:f.error_identifier,(f=a.responseObject)==null?void 0:f.message)}c(e)})}function w(a){return function(b,c){c=c();c=c.professionalConversion;b({accountType:a,type:"SET_ACCOUNT_TYPE"});(a===d("PolarisProfessionalConversionUtils").InterestAccount.business||c.accountType===d("PolarisProfessionalConversionUtils").InterestAccount.business)&&b(o(a))}}function x(a){return{categoryId:a,type:"CATEGORY_CHOSEN"}}function y(a){return{shouldShowCategory:a,type:"SHOULD_SHOW_CATEGORY_CHOSEN"}}function z(a){return{shouldShowContact:a,type:"SHOULD_SHOW_CONTACT_INFO"}}function A(a,b,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s={account_type:a,app_id:i,category_id:e,collect_contact_info:f.toString(),create_business_manager:g.toString(),from:h,preferred_business_id:m,show_context_sceen:o.toString()};s=Object.entries(s).reduce(function(a,b){var c=b[0];b=b[1];b!=null&&(a[c]=b);return a},{});a=a!=null&&a in d("PolarisProfessionalConversionUtils").InterestAccount?d("PolarisProfessionalConversionUtils").InterestAccount[a]:d("PolarisProfessionalConversionUtils").InterestAccount.unknown;i=i===""?null:i;m=m===""?null:m;e=e===""?null:e;h=h==null||h===""?d("PolarisProfessionalAccountLoggerUtils").EntryPoint.ig_web_settings:h;k=k===""?null:k;j=j===""?null:j;n=n;var t=new(d("PolarisProfessionalAccountLogger").ProfessionalAccountLogger)(d("PolarisConfig").getViewerId(),c("uuidv4")(),h,i,j,k,n);t.logEnter(d("PolarisProfessionalAccountLoggerUtils").Step.init,s);s=[];o&&s.push(d("PolarisProfessionalConversionUtils").ConversionStep.context);n&&s.push(d("PolarisProfessionalConversionUtils").ConversionStep.business_login_info);(a===d("PolarisProfessionalConversionUtils").InterestAccount.unknown||a===d("PolarisProfessionalConversionUtils").InterestAccount.personal)&&s.push(d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection);s.push(d("PolarisProfessionalConversionUtils").ConversionStep.intro);e==null&&s.push(d("PolarisProfessionalConversionUtils").ConversionStep.choose_category);s.push(d("PolarisProfessionalConversionUtils").ConversionStep.confirmation);o=l===""?null:l;n=r===""?null:r;l=p===""?null:p;r=q===""?null:q;return{accountType:a,appDisplayName:b,categoryId:e,collectContactInfo:f,conversionFlowOrder:s,createBusinessManager:g,entryPoint:h,fbUserId:k,fbUserNonce:o,isEligibleForATStoNUX:!1,logger:t,pageId:j,preferredBusinessId:m,sourceAppId:i,type:"INIT_PROFESSIONAL_CONVERSION_FLOW",whatsappDeeplink:l,whatsappLinkRequestId:r,whatsappUserNonce:n}}g.goForward=n;g.goBack=a;g.resetCategories=b;g.setCreatorBusinessConversionRequestInFlight=p;g.setRequestInFlight=q;g.loadCategories=e;g.saveContactInfo=f;g.overrideAccountType=s;g.switchToAccountType=t;g.convertToProfessionalAccount=u;g.convertToPersonalAccountAction=v;g.setAccountType=w;g.categoryChosen=x;g.shouldShowCategoryChosen=y;g.shouldShowContactInfo=z;g.initProfessionalConversionFlow=A}),98);
__d("PolarisSettingsActionLoadConfigForCommentFilteringPage",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.configResponse;a=a.keywords;return{commentFilteringConfig:!b.disabled,commentFilteringKeywords:a,type:"COMMENT_FILTERING_PAGE_LOADED"}}f.loadConfigForCommentFilteringPage=a}),66);
__d("PolarisSettingsActionLoadCookieSettingsPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a||h(0,65509);a={offsiteTrackingEnabled:a.offsite_tracking_enabled||!1,shouldShowConsentSettings:a.should_show_consent_settings||!1,thirdPartyCookiesEnabled:a.third_party_cookies_enabled||!1};return{formData:a,type:"COOKIE_SETTINGS_PAGE_LOADED"}}g.loadCookieSettingsPage=a}),98);
__d("PolarisSettingsActionLoadEmailsSentPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.data;a||h(0,51683);a={otherEmails:a.other_emails.emails,securityEmails:a.security_emails.emails};return{formData:a,type:"EMAILS_SENT_PAGE_LOADED"}}g.loadEmailsSentPage=a}),98);
__d("PolarisSettingsActionLoadKeywordsForCommentFilteringPage",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.config;a=a.keywordsResponse;a=[].concat(a.keywords).sort().join(", ");return{commentFilteringConfig:b,commentFilteringKeywords:a,type:"COMMENT_FILTERING_PAGE_LOADED"}}f.loadKeywordsForCommentFilteringPage=a}),66);
__d("PolarisSettingsActionLoadLoginActivityPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.data;a||h(0,51685);a={sessions:a.sessions.map(function(a){return babelHelpers["extends"]({},a,{isConfirmed:!1,isCurrent:a.is_current,loginTimestamp:a.login_timestamp,timeStamp:a.timestamp})}),suspiciousLogins:a.suspicious_logins.map(function(a){return babelHelpers["extends"]({},a,{isConfirmed:!1,isCurrent:a.is_current,loginId:a.id,loginTimestamp:a.login_timestamp,timeStamp:a.timestamp})})};return{formData:a,type:"LOGIN_ACTIVITY_PAGE_LOADED"}}g.loadLoginActivityPage=a}),98);
__d("PolarisSettingsActionLoadPrivacyAndSecurityPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a||h(0,51684);a={offsiteTrackingEnabled:{loading:!1,value:a.offsite_tracking_enabled||!1},presenceDisabled:{loading:!1,value:a.presence_disabled||!1},privateAccount:{loading:!1,value:a.private_account||!1},shouldShowConsentSettings:{loading:!1,value:a.should_show_consent_settings||!1},thirdPartyCookiesEnabled:{loading:!1,value:a.third_party_cookies_enabled||!1},twoFactorEnabled:{loading:!1,value:a.two_factor_enabled||!1},userCallSettings:{loading:!1,value:a.user_call_settings||"off"},usertagReviewEnabled:{loading:!1,value:a.usertag_review_enabled||!1}};return{formData:a,type:"PRIVACY_AND_SECURITY_PAGE_LOADED"}}g.loadPrivacyAndSecurityPage=a}),98);
__d("PolarisSettingsActionLoadProfileEditPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.form_data;a||h(0,51686);a={bio:a.biography||"",bioLinksForEditPage:a.bio_links_for_web_edit_only,birthday:a.birthday||null,businessAccount:a.business_account||!1,chainingEnabled:a.chaining_enabled||!1,email:a.email||"",fbBirthday:a.fb_birthday||null,fullName:a.first_name||"",gender:a.gender,isEmailConfirmed:a.is_email_confirmed||!1,isPhoneConfirmed:a.is_phone_confirmed||!1,nameAlternateCtaLink:a.name_alternate_cta_link||null,nameAlternateCtaMessage:a.name_alternate_cta_message||null,nameAlternateMessage:a.name_alternate_message||null,nameDisabled:a.name_disabled||null,phoneNumber:a.phone_number||"",profileEditParams:a.profile_edit_params||null,trustedDays:a.trust_days||14,trustedUsername:a.trusted_username||"",username:a.username,usernameAdditionalCtaLink:a.username_additional_cta_link||null,usernameAdditionalCtaMessage:a.username_additional_cta_message||null,usernameAdditionalMessage:a.username_additional_message||null,website:a.external_url||""};return{formData:a,type:"PROFILE_EDIT_PAGE_LOADED"}}g.loadProfileEditPage=a}),98);
__d("PolarisSettingsActionLoadTwoFactorAuthPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a||h(0,51687);return{phoneNumber:a.phone_number||"",showTrustedDevices:a.show_trusted_devices||!1,totpTwoFactorEnabled:a.eligible_for_totp_two_factor?a.totp_two_factor_enabled||!1:void 0,twoFactorEnabled:a.two_factor_enabled||!1,type:"TWO_FACTOR_AUTH_PAGE_LOADED"}}g.loadTwoFactorAuthPage=a}),98);
__d("PolarisReduxSettingsActions",["PolarisGenderActions","PolarisProfessionalConversionActions","PolarisSettingsActionLoadConfigForCommentFilteringPage","PolarisSettingsActionLoadCookieSettingsPage","PolarisSettingsActionLoadEmailsSentPage","PolarisSettingsActionLoadKeywordsForCommentFilteringPage","PolarisSettingsActionLoadLoginActivityPage","PolarisSettingsActionLoadPrivacyAndSecurityPage","PolarisSettingsActionLoadProfileEditPage","PolarisSettingsActionLoadTwoFactorAuthPage"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){b(d("PolarisSettingsActionLoadLoginActivityPage").loadLoginActivityPage({data:a}))}};b=function(a){return function(b){b(d("PolarisSettingsActionLoadProfileEditPage").loadProfileEditPage(a));b(d("PolarisGenderActions").loadGenderInfo(String(a.form_data.gender),(b=a.form_data.custom_gender)!=null?b:""))}};c=function(a){return function(b){b(d("PolarisSettingsActionLoadPrivacyAndSecurityPage").loadPrivacyAndSecurityPage(a))}};e=function(a){return function(b,c){b(d("PolarisSettingsActionLoadKeywordsForCommentFilteringPage").loadKeywordsForCommentFilteringPage({config:c().settings.commentFilteringConfig,keywordsResponse:a}))}};f=function(a){return function(b,c){b(d("PolarisSettingsActionLoadConfigForCommentFilteringPage").loadConfigForCommentFilteringPage({configResponse:a,keywords:c().settings.commentFilteringKeywords}))}};var h=function(a){return function(b){b(d("PolarisSettingsActionLoadEmailsSentPage").loadEmailsSentPage(a))}},i=function(a){return function(b){b(d("PolarisSettingsActionLoadCookieSettingsPage").loadCookieSettingsPage(a))}},j=function(a){return function(b){b(d("PolarisProfessionalConversionActions").initProfessionalConversionFlow(a.account_type,a.app_display_name,a.category_id,a.collect_contact_info||!1,a.create_business_manager||!1,a.entry_point,a.app_id,a.fb_user_id,a.fb_user_nonce,a.page_id,a.preferred_business_id,a.show_business_login_info_screen||!1,a.show_context_screen||!1,a.whatsapp_deeplink,a.whatsapp_link_request_id,a.whatsapp_user_nonce))}},k=function(a){return function(b){b(d("PolarisSettingsActionLoadTwoFactorAuthPage").loadTwoFactorAuthPage(a))}};g.setupLoginActivityPage=a;g.setupProfileEditPage=b;g.setupPrivacyAndSecurityPage=c;g.setupKeywordsForCommentFilteringPage=e;g.setupConfigForCommentFilteringPage=f;g.setupEmailsSentPage=h;g.setupCookieSettingsPage=i;g.setupConvertToProfessionalAccountPage=j;g.setupTwoFactorAuthPage=k}),98);
__d("PolarisPostGifComment.react",["IGDSBox.react","IGDSText.react","InstagramODS","PolarisExternalLink.react","PolarisFastLink.react","PolarisPostStrings","PolarisReactRedux.react","PolarisReduxSettingsActions","PolarisRoutes","react","react-compiler-runtime","usePolarisGetQuery","usePolarisGetQuerySetup"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l="https://help.instagram.com/cookie_settings";function m(){return i.jsx(c("IGDSText.react"),{color:"primaryButton",weight:"semibold",children:d("PolarisPostStrings").GIF_COMMENT_ALLOW_COOKIES_TEXT})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=d("react-compiler-runtime").c(2),e=a.shouldShowConsentSettings;a=a.thirdPartyCookiesEnabled;if(e&&!a){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("PolarisFastLink.react"),{href:d("PolarisRoutes").COOKIE_SETTINGS_PATH,children:i.jsx(m,{})}),b[0]=e):e=b[0];return e}else{b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("PolarisExternalLink.react"),{href:l,children:i.jsx(m,{})}),b[1]=a):a=b[1];return a}}function o(){var a=d("react-compiler-runtime").c(3),b=c("usePolarisGetQuery")("/api/v1/accounts/cookie_settings/web_info/");c("usePolarisGetQuerySetup")(b,d("PolarisReduxSettingsActions").setupCookieSettingsPage);b=d("PolarisReactRedux.react").useSelector(q);var e=d("PolarisReactRedux.react").useSelector(p);if(!b){var f;a[0]!==e||a[1]!==b?(f=i.jsx(c("IGDSBox.react"),{marginTop:1,children:i.jsxs(c("IGDSText.react"),{color:"secondaryText",children:[d("PolarisPostStrings").GIF_COMMENT_ERROR_EXPLANATION," ",i.jsx(n,{shouldShowConsentSettings:e,thirdPartyCookiesEnabled:b})]})}),a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}}function p(a){return a.settings.privacyAndSecurityData.shouldShowConsentSettings.value}function q(a){return a.settings.privacyAndSecurityData.thirdPartyCookiesEnabled.value}function a(a){var b=d("react-compiler-runtime").c(11);a=a.gifSrc;var e=k(!1),f=e[0],g=e[1];b[0]!==a?(e=[a],b[0]=a,b[1]=e):e=b[1];j(r,e);b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){g(!0),c("InstagramODS").incr("web.comments.gif_comment.img_error")},b[2]=e):e=b[2];e=e;var h;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x12ol6y4 x180vkcf x1khw62d x709u02"},b[3]=h):h=b[3];b[4]!==a?(h=i.jsx("img",babelHelpers["extends"]({},h,{onError:e,src:a})),b[4]=a,b[5]=h):h=b[5];b[6]!==f?(e=f&&i.jsx(o,{}),b[6]=f,b[7]=e):e=b[7];b[8]!==h||b[9]!==e?(a=i.jsxs(c("IGDSBox.react"),{marginTop:2,children:[h,e]}),b[8]=h,b[9]=e,b[10]=a):a=b[10];return a}function r(){c("InstagramODS").incr("web.comments.gif_comment.view_impression")}g["default"]=a}),98);
__d("PolarisThreadedCommentsLoadMoreButton.react",["fbt","IGDSBox.react","IGDSCircleAddPanoOutlineIcon.react","IGDSSpinner.react","PolarisIGCoreSVGIconButton.react","PolarisIsLoggedIn","PolarisUA","react","react-compiler-runtime","usePolarisLoggedOutIntentEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Load more comments");function a(a){var b=d("react-compiler-runtime").c(17),e=a.commentsIsFetching,f=a.handleLoadMoreCommentsClick,g=a.marginBottom,h=a.marginTop,i=a.url;a=c("usePolarisLoggedOutIntentEntryPointDialog")();var l=a[0],m=a[1];b[0]!==f||b[1]!==i||b[2]!==l?(a=function(a){a.preventDefault(),d("PolarisUA").isDesktop()&&!d("PolarisIsLoggedIn").isLoggedIn()?l==null||l({contentReportingLink:i,nextUrl:i,source:"post_comment_view_all"}):f(i)},b[0]=f,b[1]=i,b[2]=l,b[3]=a):a=b[3];var n=a;b[4]!==m?(a=function(){d("PolarisUA").isDesktop()&&!d("PolarisIsLoggedIn").isLoggedIn()&&(m==null||m())},b[4]=m,b[5]=a):a=b[5];a=a;var o;b[6]!==e||b[7]!==n||b[8]!==a?(o=!e&&j.jsx(c("PolarisIGCoreSVGIconButton.react"),{onClick:function(a){return n(a)},onMouseEnter:a,children:j.jsx(c("IGDSCircleAddPanoOutlineIcon.react"),{alt:k})}),b[6]=e,b[7]=n,b[8]=a,b[9]=o):o=b[9];b[10]!==e?(a=e&&j.jsx(c("IGDSSpinner.react"),{position:"absolute",size:"medium"}),b[10]=e,b[11]=a):a=b[11];b[12]!==g||b[13]!==h||b[14]!==o||b[15]!==a?(e=j.jsxs(c("IGDSBox.react"),{justifyContent:"center",marginBottom:g,marginTop:h,minHeight:40,position:"relative",children:[o,a]}),b[12]=g,b[13]=h,b[14]=o,b[15]=a,b[16]=e):e=b[16];return e}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("CAAFetaSavePasswordInterstitialDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9971025792955102"}),null);
__d("CAAFetaSavePasswordInterstitialDialogQuery$Parameters",["CAAFetaSavePasswordInterstitialDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CAAFetaSavePasswordInterstitialDialogQuery_facebookRelayOperation"),metadata:{},name:"CAAFetaSavePasswordInterstitialDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("ConsentFlowName",[],(function(a,b,c,d,e,f){a=Object.freeze({ACV_FB_1ST_TIME_3PD_CONSENT:"acv_fb_1st_time_3pd_consent",ACV_FB_CONSENT_DEBUT_2ND:"acv_fb_consent_debut_2nd",ACV_FB_CONSENT_DEBUT_2ND_RECONSIDER:"acv_fb_consent_debut_2nd_reconsider",ACV_FB_CONSENT_DEBUT_BLOCKING:"acv_fb_consent_debut_blocking",ACV_FB_CONSENT_DEBUT_CONFIRMATION:"acv_fb_consent_debut_confirmation",ACV_FB_CONSENT_DEBUT_RECONSIDER:"acv_fb_consent_debut_reconsider",ACV_FB_HEADLINE:"acv_fb_headline",ACV_FB_OBA_WINBACK_NON_CONSENT_REGION:"acv_fb_oba_winback_non_consent_region",ACV_FB_OBA_WINBACK_NON_CONSENT_REGION_DISMISSIBLE:"acv_fb_oba_winback_non_consent_region_dismissible",ACV_FB_UNCONSENTED_WINBACK:"acv_fb_unconsented_winback",ACV_IG_CONSENT_DEBUT_CONFIRMATION:"acv_ig_consent_debut_confirmation",ACV_IG_OBA_WINBACK_NON_CONSENT_REGION:"acv_ig_oba_winback_non_consent_region",ACV_IG_OBA_WINBACK_NON_CONSENT_REGION_DISMISSIBLE:"acv_ig_oba_winback_non_consent_region_dismissible",ACV_INLINE_CONTROL_WINBACKS_HARDMATCHED:"acv_inline_control_winbacks_hardmatched",ACV_PCD_REFRESH_BLOCKING:"acv_pcd_refresh_blocking",ACV_PCD_REFRESH_DISMISSIBLE:"acv_pcd_refresh_dismissible",AD_FREE_SUBSCRIPTION:"ad_free_subscription",AD_FREE_SUBSCRIPTION_UK:"ad_free_subscription_uk",AD_FREE_SUBSCRIPTION_UPGRADE:"ad_free_subscription_upgrade",AD_FREE_SUBSCRIPTION_WAMO_LINKED:"ad_free_subscription_wamo_linked",AD_FREE_SUBSCRIPTION_WAMO_UNLINKED:"afs_wamo_unlinked",AD_FREE_SUBSCRIPTION_WAMO_UPGRADE:"ad_free_subscription_wamo_upgrade",AD_PREFERENCE_WAMO_UNLINKED:"ad_preference_wamo_unlinked",ANDROID_LAT_OBA_3PD_BLOCKING:"android_lat_oba_3pd_blocking",ANDROID_LAT_OBA_3PD_DISMISSIBLE:"android_lat_oba_3pd_dismissible",ATT_IOS_DEMO:"att_ios_demo",BASIC_ADS_ONBOARDING:"basic_ads_onboarding",BUY_WITH_PRIME:"buy_with_prime",BUY_WITH_PRIME_JEWEL_WINBACK:"buy_with_prime_jewel_winback",BUY_WITH_PRIME_TEST:"buy_with_prime_test",BUY_WITH_PRIME_TWO_SCREEN:"buy_with_prime_two_screen",BUY_WITH_PRIME_UNIVERSAL_LINK:"buy_with_prime_universal_link",BUY_WITH_SHOPEE:"buy_with_shopee",BUY_WITH_SHOPEE_TWO_SCREEN:"buy_with_shopee_two_screen",CA_SETTLEMENT_AUSTRALIA:"ca_settlement_australia",CALENDAR_ACCESS:"calendar_access",CELEB_BAIT_EXPLICIT_CONSENT:"celeb_bait_explicit_consent",CONFIRMACCOUNTS:"confirmaccounts",CONFIRMACCOUNTS_TURKEY:"confirmaccounts_turkey",CONSENT_APP_BLOCKING_DEMO:"consent_app_blocking_demo",CONSENT_NEXT_3PD:"consent_next_3pd",CONSENT_REGION_TRANSITION_3PD_BLOCKING:"consent_region_transition_3pd_blocking",CONSENT_REGION_TRANSITION_3PD_DISMISSIBLE:"consent_region_transition_3pd_dismissible",CONSENTS_BROWSER_TECHNOLOGICAL:"consents_browser_technological",CONSENTZERO:"consentzero",CONTACT_IMPORT_M4A_DISCLOSURE:"contact_import_m4a_disclosure",CONTEXTUAL_META_FLOW:"contextual_meta_flow",CREATOR_INELIGIBLE_COUNTRY_APPEAL:"creator_ineligible_country_appeal",CUSTOM_GENDER_CONSENT:"custom_gender_consent",DATA_COMBINATION_CHAINED_FLOW:"data_combination_chained_flow",DATA_COMBINATION_DETAIL:"data_combination_detail",DATA_COMBINATION_QP_MSGR:"data_combination_qp_msgr",DATA_SLICE_3PD_DEPRECATION:"data_slice_3pd_deprecation",DEMA_DATA_COMBINATION_FLOW:"dema_data_combination_flow",DEMO_ACCOUNTS_CENTER_INTEGRATION:"demo_accounts_center_integration",DEMO_BACKGROUND_CUSTOM_ACTION:"demo_background_custom_action",DEMO_COMPONENT_LIBRARY:"demo_component_library",DEMO_CONTEXTUAL_FLOW:"demo_contextual_flow",DEMO_DYNAMIC:"demo_dynamic",DEMO_EXTRA_PARAMS:"demo_extra_params",DEMO_FLOW_CHAINING_FIRST:"demo_flow_chaining_first",DEMO_FLOW_CHAINING_SECOND:"demo_flow_chaining_second",DEMO_INFO:"demo_info",DEMO_MODULARIZED_GDPR:"demo_modularized_gdpr",DEMO_MULTISTEP:"demo_multistep",DEMO_PROMPT:"demo_prompt",DEMO_QP:"demo_qp",DEMO_RL_CONFIRM_ACCOUNTS:"demo_rl_confirm_accounts",DEMO_USER_ACTION_LAUNCH_ACCOUNTS_CENTER:"demo_user_action_launch_accounts_center",DEMO_USER_ACTION_REQUEST_PAYMENT:"demo_user_action_request_payment",DEMO_USER_ACTION_REQUEST_PERMISSION:"demo_user_action_request_permission",DEMO_USER_CUSTOM_ACTION:"demo_user_custom_action",DEPRECATED_FLOW_PLACEHOLDER:"deprecated_flow_placeholder",DEVICE_LOGIN:"device_login",DEVICE_LOGIN_INVALID_CODE:"device_login_invalid_code",DEVICE_PERMISSION_CAMERA:"device_permission_camera",DEVICE_PERMISSION_CONTACTS:"device_permission_contacts",DEVICE_PERMISSION_MICROPHONE:"device_permission_microphone",DEVICE_PERMISSION_PHOTOS:"device_permission_photos",DEVICE_PERMISSION_SETTINGS:"device_permission_settings",DEVICE_PERMISSIONS_INSTRUCTIONS:"device_permissions_instructions",DMA_ACCOUNT_REGISTRATION_DELAY_NOTIF_QP_FLOW:"dma_account_registration_delay_notif_qp_flow",DMA_CONFIRMATION:"dma_confirmation",DMA_DISMISSIBLE_APP_UPGRADE:"dma_dismissible_app_upgrade",DMA_FORCE_APP_UPGRADE:"dma_force_app_upgrade",EPD_MARKETPLACE_MESSAGING_UPDATE:"epd_marketplace_messaging_update",EVERGREEN_WINBACK_GDPR_INTERSTITIAL:"evergreen_winback_gdpr_interstitial",EVERGREEN_WINBACK_GDPR_JEWEL:"evergreen_winback_gdpr_jewel",EVERGREEN_WINBACK_GDPR_TOF:"evergreen_winback_gdpr_tof",EVERGREEN_WINBACK_HIGH_RISK_INTERSTITIAL:"evergreen_winback_high_risk_interstitial",EVERGREEN_WINBACK_HIGH_RISK_JEWEL:"evergreen_winback_high_risk_jewel",EVERGREEN_WINBACK_INLINE_CONTROL_INTERSTITIAL:"evergreen_winback_inline_control_interstitial",EXAMPLE_ACV:"example_acv",EXP_CONFIRM_ACCOUNTS_FLOW:"exp_confirm_accounts_flow",FB_AGE_COLLECTION:"fb_age_collection",FB_DMA_DATING:"fb_dma_dating",FB_DMA_GAMING:"fb_dma_gaming",FB_DMA_MARKETPLACE:"fb_dma_marketplace",FB_GEMSTONE:"fb_gemstone",FB_PROFILE_CUSTOM_GENDER:"fb_profile_custom_gender",FB_PROFILE_POLITICAL_VIEWS:"fb_profile_political_views",FB_PROFILE_RELIGIOUS_VIEWS:"fb_profile_religious_views",FIRST_PARTY_LOGIN:"first_party_login",FLM_AR_EFFECT:"flm_ar_effect",FLM_MK_AR_EFFECT_CHILD_ASK_PERMISSION:"flm_mk_ar_effect_child_ask_permission",FLM_MK_AR_EFFECT_PARENT_CONSENT:"flm_mk_ar_effect_parent_consent",FLORIDA_YOUTH_DATA_USE:"florida_youth_data_use",FRIEND_MAP_LOCATION_SHARING_DEVICE_PERMISSIONS:"friend_map_location_sharing_device_permissions",GAMING_GDP:"gaming_gdp",GDP:"gdp",GDP_COMPLETION:"gdp_completion",GDP_COOKIE:"gdp_cookie",GDP_COOKIE_ALLOWLIST:"gdp_cookie_allowlist",GDP_CRAYTA:"gdp_crayta",GDP_OPTIN:"gdp_optin",GDPR:"gdpr",GDPR_NEW_3PD:"gdpr_new_3pd",GDPR_SCD:"gdpr_scd",GPC_SIGNAL_RECONCILIATION:"gpc_signal_reconciliation",HORIZON_CALENDAR_APP_LINK:"horizon_calendar_app_link",HZW_DEAPP_PERMISSION_NOTICE_FLOW:"hzw_deapp_permission_notice_flow",HZW_DEAPP_PERMISSION_TELEMETRY_NOTICE_FLOW:"hzw_deapp_permission_telemetry_notice_flow",IG_ACV_AFN_META_INITIATED:"ig_acv_afn_meta_initiated",IG_ACV_CONSENT_DEBUT:"ig_acv_consent_debut",IG_ACV_CONSENT_DEBUT_2:"ig_acv_consent_debut_2",IG_ACV_CONSENT_DEBUT_BLOCKING:"ig_acv_consent_debut_blocking",IG_ACV_CONSENT_DEBUT_RECONSIDER:"ig_acv_consent_debut_reconsider",IG_ACV_CONSENT_DEBUT_RECONSIDER_2:"ig_acv_consent_debut_reconsider_2",IG_ACV_CONTEXTUAL_IAW:"ig_acv_contextual_iaw",IG_ACV_HIDE_AD:"ig_acv_hide_ad",IG_ACV_REELS_ADS_WINBACK:"ig_acv_reels_ads_winback",IG_ACV_WAIST_BACK_WINBACK:"ig_acv_waist_back_winback",IG_ACV_WAIST_MENU_WINBACK:"ig_acv_waist_menu_winback",IG_ACV_WINBACK:"ig_acv_winback",IG_BIZ_LOGIN_OAUTH:"ig_biz_login_oauth",IG_FIRST_TIME_CONSENT:"ig_first_time_consent",IG_IMAGINE_ME_CREATOR_TEMPLATES_CONSENT_FLOW:"ig_imagine_me_creator_templates_consent_flow",IG_MAGIC_MOD_CONSENT_FLOW:"ig_magic_mod_consent_flow",IG_THIRD_PARTY_OAUTH:"ig_third_party_oauth",IGAFSAPP_UPGRADE_BLOCKING_FLOW:"igafsapp_upgrade_blocking_flow",INLINE_3PD_CONTROL_LEARN_HOW:"inline_3pd_control_learn_how",INLINE_CONTROL_WINBACKS:"inline_control_winbacks",IOS14_ATT_FINAL_INTERSTITIAL:"ios14_att_final_interstitial",IOS14_ATT_FINAL_INTERSTITIAL_WITH_LEARN_MORE:"ios14_att_final_interstitial_with_learn_more",IOS14_ATT_WINBACKS:"ios14_att_winbacks",IOS14_ATT_WINBACKS_LEARN_MORE:"ios14_att_winbacks_learn_more",LGPD:"lgpd",LGPD_CONTEXTUAL_BIOMETRIC:"lgpd_contextual_biometric",LGPD_CONTEXTUAL_SCD:"lgpd_contextual_scd",LGPD_CONTEXTUAL_THIRD_PARTY:"lgpd_contextual_third_party",LGPD_MIGRATED:"lgpd_migrated",LIPSYNC_CONSENT_FLOW:"lipsync_consent_flow",LIVE_LOCATION_SHARING_DEVICE_PERMISSION:"live_location_sharing_device_permission",LOCAL_NETWORK:"local_network",LOCATION_ANDROID_10_BUCKET_1:"location_android_10_bucket_1",LOCATION_ANDROID_CUSTOM_BACKGROUND:"location_android_custom_background",LOCATION_ANDROID_DOWNGRADE:"location_android_downgrade",LOCATION_ANDROID_UNIFIED_LOGIN_NUX:"location_android_unified_login_nux",LOCATION_CHECK_IN:"location_check_in",LOCATION_DEVICE_PERMISSION:"location_device_permission",LOCATION_DEVICE_PERMISSION_FB:"location_device_permission_fb",LOCATION_DEVICE_PERMISSION_V2:"location_device_permission_v2",LOCATION_HISTORY_UPSELL:"location_history_upsell",LOCATION_IOS_DOWNGRADE:"location_ios_downgrade",LOCATION_LS_RESURRECTION:"location_ls_resurrection",LOCATION_NEARBY_FRIENDS_RESURRECTION:"location_nearby_friends_resurrection",LOCATION_SERVICES:"location_services",LOCATION_SERVICES_ALWAYS:"location_services_always",LOCATION_SERVICES_FOREGROUND:"location_services_foreground",LOYALTY_WELCOME_CONSENT:"loyalty_welcome_consent",LPA_TRANSPARENCY_FB_FLOW:"lpa_transparency_fb_flow",LPA_TRANSPARENCY_IG_FLOW:"lpa_transparency_ig_flow",MEDIA_ACCESS:"media_access",MESSAGING_TRANSPARENCY_IAB:"messaging_transparency_iab",MP_DMA_CONSENT:"mp_dma_consent",MPI_BUYER_LOCATION_VERIFICATION:"mpi_buyer_location_verification",MPILOCATION_VERIFICATION:"mpilocation_verification",MWA_DEMO_FLOW:"mwa_demo_flow",NDX:"ndx",NDX_EMAIL_ACQUISITION:"ndx_email_acquisition",NDX_LOCATION:"ndx_location",NDX_LOCATION_DPK:"ndx_location_dpk",NDX_PHONE_ACQUISITION:"ndx_phone_acquisition",NEARBY_FRIENDS:"nearby_friends",NEW_USERS_META_FLOW:"new_users_meta_flow",OBA_STATUS_RECONCILIATION_CONSENT_REGION_LOW_RISK_BLOCKING:"oba_status_reconciliation_consent_region_low_risk_blocking",OBA_STATUS_RECONCILIATION_CONSENT_REGION_LOW_RISK_DISMISSIBLE:"oba_status_reconciliation_consent_region_low_risk_dismissible",OBA_STATUS_RECONCILIATION_NON_CONSENT_REGION_BLOCKING:"oba_status_reconciliation_non_consent_region_blocking",OBA_STATUS_RECONCILIATION_NON_CONSENT_REGION_DISMISSIBLE:"oba_status_reconciliation_non_consent_region_dismissible",OPT_IN_TRIAL_PRE_CONSENT_INTERSTITIAL_3PD:"opt_in_trial_pre_consent_interstitial_3pd",PARENTAL_CONSENT_SCD:"parental_consent_scd",PARENTAL_CONSENT_THIRD_PARTY:"parental_consent_third_party",PDP_EMAIL_ACQUISITION:"email_acquisition",PDP_PREFILL_EMAIL_UPDATE:"prefill_email_update",PDPA:"pdpa",PE_CONSENT_RECONCILIATION:"pe_consent_reconciliation",PE_CONSENT_RECONCILIATION_INTERSTITIAL:"pe_consent_reconciliation_interstitial",PHONE_NUMBER_ACQUISITION:"phone_number_acquisition",PHONE_NUMBER_ACQUISITION_EVERGREEN_QP:"phone_number_acquisition_evergreen_qp",PHONE_NUMBER_UPDATE_EVERGREEN_QP:"phone_number_update_evergreen_qp",PHONE_NUMBER_UPDATE_EVERGREEN_QP_WITH_STACKED_CTA:"phone_number_update_evergreen_qp_with_stacked_cta",PIPA:"pipa",POPIA:"popia",PRIVACY_EDUCATION_ADS_TOO_PERSON_QP:"privacy_education_ads_too_person_qp",PRIVACY_INCIDENT_NOTICE_DEFAULT_INTERSTITIAL:"privacy_incident_notice_default_interstitial",PRIVACY_POLICY_NOTICE_BLOCKING:"privacy_policy_notice_blocking",PRIVACY_POLICY_NOTICE_IG_TOU_NOTIF:"privacy_policy_notice_ig_tou_notif",PRIVACY_POLICY_NOTICE_NON_BLOCKING:"privacy_policy_notice_non_blocking",PRIVACY_POLICY_NOTICE_NON_BLOCKING_ACCEPT:"privacy_policy_notice_non_blocking_accept",PRIVACY_POLICY_NOTICE_TEST_CMS:"privacy_policy_notice_test_cms",PRIVACY_POLICY_NOTICE_TEST_DEMO:"privacy_policy_notice_test_demo",PRIVACY_POLICY_NOTICE_USECASE:"privacy_policy_notice_usecase",PRIVACY_POLICY_NOTICE_USECASE_BUNDLED_TERMS_NOTICE_2024:"privacy_policy_notice_usecase_bundled_terms_notice_2024",PRIVACY_POLICY_NOTICE_USECASE_DSA_2023:"privacy_policy_notice_usecase_dsa_2023",PRIVACY_POLICY_NOTICE_USECASE_DSA_NETHERLANDS_NOTICE:"privacy_policy_notice_usecase_dsa_netherlands_notice",PRIVACY_POLICY_NOTICE_USECASE_GENAI_2024:"privacy_policy_notice_usecase_genai_2024",PRIVACY_POLICY_NOTICE_USECASE_GENAI_2025_STITCH:"privacy_policy_notice_usecase_genai_2025_stitch",PRIVACY_POLICY_NOTICE_USECASE_GENAI_EU_TRANSPARENCY_2025:"privacy_policy_notice_usecase_genai_eu_transparency_2025",PRIVACY_POLICY_NOTICE_USECASE_GENAI_UK_BRAZIL_2024:"privacy_policy_notice_usecase_genai_uk_brazil_2024",PRIVACY_POLICY_NOTICE_USECASE_INDIA_ITRULES:"privacy_policy_notice_usecase_india_itrules",PRIVACY_POLICY_NOTICE_USECASE_INTERNAL_QA_TERMS_ART14:"privacy_policy_notice_usecase_internal_qa_terms_art14",PRIVACY_POLICY_NOTICE_USECASE_NOYB_2023:"privacy_policy_usecase_noyb_2023",PRIVACY_POLICY_NOTICE_USECASE_SEMIANNUAL_WITH_OAK:"privacy_policy_notice_usecase_semiannual_with_oak",PRIVACY_POLICY_NOTICE_USECASE_UK_2023:"privacy_policy_notice_usecase_uk_2023",RECONCILIATION_3PD:"reconciliation_3pd",RECONCILIATION_3PD_BLOCKING:"reconciliation_3pd_blocking",RL_ARCATA_EYE_TRACKING:"rl_arcata_eye_tracking",RL_ARCATA_FACE_TRACKING:"rl_arcata_face_tracking",RL_CHECKPOINT:"rl_checkpoint",RL_CONSENTZERO_MR:"rl_consentzero_mr",RL_FC_ENHANCED_SPATIAL_SERVICES:"rl_fc_enhanced_spatial_services",RL_FC_QUEST_HAND_TRACKING:"rl_fc_quest_hand_tracking",RL_FC_QUEST_TELEMETRY:"rl_fc_quest_telemetry",RL_FC_SALSA_PERSONALIZATION:"rl_fc_salsa_personalization",RL_GENERIC_COOKIE:"rl_generic_cookie",RL_GENERIC_DMA:"rl_generic_dma",RL_INTERNAL_E2E_TEST:"rl_internal_e2e_test",RL_INTERNAL_E2E_TEST_RESET_ELIGIBILITY_CONSENT_ZERO:"rl_internal_e2e_test_reset_eligibility_consent_zero",RL_INTERNAL_E2E_TEST_RESET_ELIGIBILITY_ESS_V2:"rl_internal_e2e_test_reset_eligibility_essv2",RL_INTERNAL_E2E_TEST_RESET_ELIGIBILITY_HAND_BODY_TRACKING:"rl_internal_e2e_test_reset_eligibility_hand_body_tracking",RL_INTERNAL_E2E_TEST_RESET_ELIGIBILITY_HAND_BODY_TRACKING_TELEMETRY:"rl_internal_e2e_test_reset_eligibility_hand_body_tracking_telemetry",RL_INTERNAL_E2E_TEST_RESET_ELIGIBILITY_SOCIAL_PRIVACY:"rl_internal_e2e_test_reset_eligibility_social_privacy",RL_INTERNAL_E2E_TEST_RESET_ELIGIBILITY_YOUTH_CONSENT:"rl_internal_e2e_test_reset_eligibility_youth_consent",RL_MR_ESS_V2:"rl_mr_ess_v2",RL_MWA_TELEMETRY:"rl_mwa_telemetry",RL_MWA_TEST_FLOW:"rl_mwa_test_flow",RL_NUX_ADDITIONAL_PRIVACY_DATA:"rl_nux_additional_privacy_data",RL_OCULUS_HAND_BODY_TRACKING:"rl_oculus_hand_body_tracking",RL_OCULUS_HAND_BODY_TRACKING_WITH_TELEMETRY:"rl_oculus_hand_body_tracking_with_telemetry",RL_OCULUS_SALSA_HAND_BODY_TRACKING:"rl_oculus_salsa_hand_body_tracking",RL_OCULUS_TWILIGHT_NUX:"rl_oculus_twilight_nux",RL_OCULUS_TWILIGHT_NUX_EUREKA:"rl_oculus_twilight_nux_eureka",RL_SOCIAL_PRIVACY_SETTING_DEDUP:"rl_social_privacy_setting_dedup",RL_SOCIAL_PRIVACY_SETTING_DEDUP_SALSA:"rl_social_privacy_setting_dedup_salsa",RL_TEST_HELLO_WORLD:"rl_test_hello_world",RL_TWILIGHT_TELEMETRY_DATA_CONSENT:"rl_twilight_telemetry_data_consent",SHOP_WITH_X:"shop_with_x",SLV_AI_DISCLOSURE:"slv_ai_disclosure",SLV_DISCLOSURE_AI:"slv_disclosure_ai",SLV_DISCLOSURE_SOCIAL:"slv_disclosure_social",SLV_DISCLOSURE_VOICE:"slv_disclosure_voice",SLV_PJ_RECONSENT:"slv_pj_reconsent",SUPPORT_PERSONALIZED_ADS_ATT_WINBACKS:"support_personalized_ads_att_winbacks",TEST_ADHAM_PLAYGROUND_FLOW:"test_adham_playground_flow",TEST_ANASTASIA_PLAYGROUND_FLOW:"test_anastasia_playground_flow",TEST_AUTO_LAYOUT_FLOW:"test_auto_layout_flow",TEST_BATCH_FLOW:"test_batch_flow",TEST_CHRIS_PLAYGROUND_FLOW:"test_chris_playground_flow",TEST_CUSTOM_COMPONENTS_FLOW:"test_custom_components_flow",TEST_E2E:"test_e2e",TEST_FLOW:"test_flow",TEST_LAYOUT_FLOW:"test_layout_flow",TEST_PREDEFINED_OUTCOME_FLOW:"test_predefined_outcome_flow",THIRD_PARTY_ACCOUNT_LINKING:"third_party_account_linking",THIRD_PARTY_ACCOUNT_LINKING_WA_YUKON:"third_party_account_linking_wa_yukon",TWILIGHT_APP_TELEMETRY_CONSENT:"twilight_app_telemetry_consent",TWO_FAC_PHONE_ACQUISITION:"two_fac_phone_acquisition",UFAC_SMS_SCARCE_V2_PHONE_ACQUISITION:"ufac_sms_scarce_v2_phone_acquisition",USER_COOKIE_CHOICE_META:"user_cookie_choice_meta",USER_COOKIE_CHOICE_META_V2:"user_cookie_choice_meta_v2",USER_COOKIE_CHOICE_V2:"user_cookie_choice_v2",VR_SPATIAL_DATA:"vr_spatial_data",WAMO_TEST:"wamo_test",WEATHER:"weather",WIFI_ACCESS:"wifi_access",YOUTH_REGULATION_TEEN_REGISTRATION:"youth_regulation_teen_registration",YUKON_CDS_TEST_CUSTOM_COMPONENTS_FLOW:"yukon_cds_test_custom_components_flow",YUKON_CDS_TEST_LAYOUT_FLOW:"yukon_cds_test_layout_flow"});f["default"]=a}),66);
__d("ConsentSurface",[],(function(a,b,c,d,e,f){a=Object.freeze({BARCELONA_ANDROID:"barcelona_android",BARCELONA_IOS:"barcelona_ios",BARCELONA_WEB:"barcelona_web",FACEBOOK_ANDROID:"facebook_android",FACEBOOK_COMET:"facebook_comet",FACEBOOK_IOS:"facebook_ios",FACEBOOK_IOS_PLAYGROUND:"facebook_ios_playground",FACEBOOK_LITE_ANDROID:"facebook_lite_android",FACEBOOK_LITE_KAIOS:"facebook_lite_kaios",FACEBOOK_MBASIC:"facebook_mbasic",FACEBOOK_MTOUCH:"facebook_mtouch",FACEBOOK_WEBBLOKS:"facebook_webbloks",FACEBOOK_WEBLITE:"facebook_weblite",INSTAGRAM_ANDROID:"instagram_android",INSTAGRAM_CARBON:"instagram_carbon",INSTAGRAM_IOS:"instagram_ios",INSTAGRAM_WEB:"instagram_web",MESSENGER_ANDROID:"messenger_android",MESSENGER_DESKTOP_ZERATUL:"messenger_desktop_zeratul",MESSENGER_DOT_COM:"messenger_dot_com",MESSENGER_IOS_LIGHTSPEED:"messenger_ios_lightspeed",MESSENGER_LITE_ANDROID:"messenger_lite_android",MESSENGER_LITE_BURRITO_ANDROID:"messenger_lite_burrito_android",MESSENGER_KIDS_TALK_ANDROID:"messenger_kids_talk_android",MESSENGER_KIDS_TALK_IOS:"messenger_kids_talk_ios",META_COMET:"meta_comet",META_DOT_COM:"meta_dot_com",META_AI_WEB:"meta_ai_web",OCULUS_COMET:"oculus_comet",PAGE_ADMIN_ANDROID:"page_admin_android",PAGE_ADMIN_IOS:"page_admin_ios",REALITY_LABS_ARCATA:"reality_labs_arcata",REALITY_LABS_MIRAMAR:"reality_labs_miramar",REALITY_LABS_OFFLINE:"reality_labs_offline",REALITY_LABS_STINSON:"reality_labs_stinson",REALITY_LABS_VENTURA:"reality_labs_ventura",TWILIGHT_ANDROID:"twilight_android",TWILIGHT_IOS:"twilight_ios",WEARABLES_ANDROID:"wearables_android",WEARABLES_IOS:"wearables_ios",WHATSAPP_ANDROID:"whatsapp_android",WHATSAPP_IOS:"whatsapp_ios",WHATSAPP_WEB:"whatsapp_web",UNKNOWN:"unknown"});f["default"]=a}),66);
__d("FXFetaAutoMigrationPromptDialogRootQuery$Parameters",["cr:18505"],(function(a,b,c,d,e,f,g){"use strict";f.exports=b("cr:18505")}),34);
__d("FXFetaAutoMigrationPromptDialog.entrypoint",["FXFetaAutoMigrationPromptDialogRootQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{query:{options:{fetchPolicy:"store-and-network"},parameters:c("FXFetaAutoMigrationPromptDialogRootQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("FXFetaAutoMigrationPromptDialog.react").__setRef("FXFetaAutoMigrationPromptDialog.entrypoint")};g["default"]=a}),98);
__d("FXFetaAutoMigrationPromptDialogRootQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="30334515502806249"}),null);
__d("FXFetaAutoMigrationPromptDialogRootQuery$Parameters.instagram",["FXFetaAutoMigrationPromptDialogRootQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FXFetaAutoMigrationPromptDialogRootQuery_instagramRelayOperation"),metadata:{},name:"FXFetaAutoMigrationPromptDialogRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("FXFetaPreMigrationDialogRootQuery$Parameters",["cr:18509"],(function(a,b,c,d,e,f,g){"use strict";f.exports=b("cr:18509")}),34);
__d("FXFetaPreMigrationDialog.entrypoint",["FXFetaPreMigrationDialogRootQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{query:{options:{fetchPolicy:"store-and-network"},parameters:c("FXFetaPreMigrationDialogRootQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("FXFetaPreMigrationDialog.react").__setRef("FXFetaPreMigrationDialog.entrypoint")};g["default"]=a}),98);
__d("FXFetaPreMigrationDialogRootQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29746258828351352"}),null);
__d("FXFetaPreMigrationDialogRootQuery$Parameters.instagram",["FXFetaPreMigrationDialogRootQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FXFetaPreMigrationDialogRootQuery_instagramRelayOperation"),metadata:{},name:"FXFetaPreMigrationDialogRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("FXFetaToSDialogRootQuery$Parameters",["cr:18511"],(function(a,b,c,d,e,f,g){"use strict";f.exports=b("cr:18511")}),34);
__d("FXFetaToSDialog.entrypoint",["FXFetaToSDialogRootQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{query:{options:{fetchPolicy:"store-and-network"},parameters:c("FXFetaToSDialogRootQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("FXFetaToSDialog.react").__setRef("FXFetaToSDialog.entrypoint")};g["default"]=a}),98);
__d("FXFetaToSDialogRootQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24182768904661579"}),null);
__d("FXFetaToSDialogRootQuery$Parameters.instagram",["FXFetaToSDialogRootQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FXFetaToSDialogRootQuery_instagramRelayOperation"),metadata:{},name:"FXFetaToSDialogRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("IGDSAdPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M18.44 1H5.56A4.565 4.565 0 0 0 1 5.561v12.878A4.565 4.565 0 0 0 5.56 23h12.88A4.566 4.566 0 0 0 23 18.44V5.56A4.566 4.566 0 0 0 18.44 1ZM21 18.44A2.564 2.564 0 0 1 18.44 21H5.56A2.563 2.563 0 0 1 3 18.44V5.56A2.563 2.563 0 0 1 5.56 3h12.88A2.564 2.564 0 0 1 21 5.561Z"}),f=i.jsx("path",{d:"M12 16H6a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2Zm6-10H6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1Zm-1 6H7V8h10Zm1 4h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2Z"}),b[0]=e,b[1]=f):(e=b[0],f=b[1]);b[2]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f]})),b[2]=a,b[3]=e):e=b[3];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSLicensingPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"m20.414 7-5.412-5.412A2.01 2.01 0 0 0 13.586 1H6a3.003 3.003 0 0 0-3 3v16a3.003 3.003 0 0 0 3 3h12a3.003 3.003 0 0 0 3-3V8.414A1.99 1.99 0 0 0 20.414 7ZM15 4.414 17.586 7H15ZM19 20a1.001 1.001 0 0 1-1 1H6a1.001 1.001 0 0 1-1-1V4a1.001 1.001 0 0 1 1-1h7v4a2.002 2.002 0 0 0 2 2h4ZM8 10h2a1 1 0 0 0 0-2H8a1 1 0 0 0 0 2Zm8 6H8a1 1 0 0 0 0 2h8a1 1 0 0 0 0-2Zm-9-3a1 1 0 0 0 1 1h8a1 1 0 0 0 0-2H8a1 1 0 0 0-1 1Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSMetaLogoPrimaryIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=5;function a(a){var b=d("react-compiler-runtime").c(7),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"b",x1:"125",x2:"160.217",y1:"97",y2:"57.435",children:[i.jsx("stop",{offset:".21",stopColor:"#0278F1"}),i.jsx("stop",{offset:".533",stopColor:"#0180FA"})]}),b[0]=e):e=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"c",x1:"44",x2:"0",y1:"5",y2:"64",children:[i.jsx("stop",{offset:".427",stopColor:"#0165E0"}),i.jsx("stop",{offset:".917",stopColor:"#0180FA"})]}),b[1]=f):f=b[1];var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"d",x1:"28.5",x2:"135",y1:"29",y2:"72",children:[i.jsx("stop",{stopColor:"#0064E0"}),i.jsx("stop",{offset:".656",stopColor:"#0066E2"}),i.jsx("stop",{offset:"1",stopColor:"#0278F1"})]}),b[2]=g):g=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs("defs",{children:[e,f,g,i.jsx("clipPath",{id:"a",children:i.jsx("path",{d:"M0 0h496.236v100H0z",fill:"#fff"})})]}),b[3]=e):e=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsxs("g",{clipPath:"url(#a)",children:[i.jsx("path",{d:"M182.141 3.213h18.808l31.98 57.849 31.979-57.849h18.401V98.27h-15.345V25.416l-28.042 50.448h-14.394l-28.042-50.448V98.27h-15.345V3.213ZM332.804 99.967c-7.107 0-13.353-1.573-18.739-4.718-5.387-3.146-9.586-7.504-12.595-13.07-3.011-5.569-4.515-11.95-4.515-19.148 0-7.287 1.47-13.738 4.413-19.35 2.942-5.613 7.027-10.004 12.255-13.173 5.229-3.168 11.238-4.753 18.027-4.753 6.744 0 12.55 1.596 17.416 4.787 4.865 3.191 8.611 7.661 11.237 13.41 2.624 5.749 3.938 12.492 3.938 20.233v4.21h-52.077c.95 5.794 3.292 10.354 7.027 13.68 3.735 3.328 8.453 4.991 14.157 4.991 4.571 0 8.509-.679 11.814-2.037 3.303-1.358 6.404-3.417 9.302-6.178l8.147 9.98c-8.103 7.425-18.038 11.136-29.807 11.136Zm11.204-56.389c-3.215-3.281-7.425-4.923-12.629-4.923-5.07 0-9.314 1.676-12.731 5.025-3.418 3.35-5.58 7.854-6.484 13.512h37.343c-.453-5.794-2.286-10.331-5.499-13.614ZM382.846 40.014h-14.123V27.453h14.123V6.676h14.802v20.777h21.455v12.561h-21.455v31.844c0 5.295.905 9.075 2.716 11.338 1.809 2.264 4.911 3.395 9.302 3.395 1.945 0 3.598-.078 4.956-.237a92.35 92.35 0 0 0 4.481-.646v12.425c-1.675.498-3.564.906-5.669 1.223a44.63 44.63 0 0 1-6.62.475c-15.979 0-23.968-8.735-23.968-26.208V40.014ZM496.236 98.27h-14.53v-9.913c-2.58 3.712-5.862 6.575-9.845 8.588-3.983 2.014-8.51 3.022-13.579 3.022-6.247 0-11.78-1.596-16.601-4.787s-8.612-7.581-11.373-13.172c-2.761-5.59-4.142-11.983-4.142-19.18 0-7.243 1.403-13.648 4.21-19.216 2.806-5.567 6.688-9.935 11.645-13.104 4.956-3.168 10.648-4.753 17.075-4.753 4.844 0 9.189.94 13.037 2.818a25.768 25.768 0 0 1 9.573 7.978v-9.098h14.53V98.27Zm-14.801-46.035c-1.585-4.028-4.085-7.207-7.503-9.54-3.418-2.33-7.367-3.496-11.848-3.496-6.338 0-11.384 2.128-15.141 6.382-3.758 4.255-5.635 10.004-5.635 17.246 0 7.289 1.809 13.06 5.431 17.314 3.621 4.255 8.532 6.382 14.734 6.382 4.571 0 8.645-1.176 12.222-3.53 3.575-2.353 6.155-5.522 7.74-9.506V52.235Z",fill:"currentColor"}),i.jsx("path",{d:"M108 0C95.66 0 86.015 9.294 77.284 21.1 65.284 5.821 55.25 0 43.24 0 18.76 0 0 31.862 0 65.586 0 86.69 10.21 100 27.31 100c12.308 0 21.16-5.803 36.897-33.31 0 0 6.56-11.584 11.072-19.564 1.582 2.553 3.243 5.3 4.997 8.253l7.38 12.414C102.03 91.848 110.038 100 124.551 100c16.659 0 25.931-13.492 25.931-35.034C150.483 29.656 131.301 0 108 0ZM52.207 59.241c-12.759 20-17.172 24.483-24.276 24.483-7.31 0-11.655-6.418-11.655-17.862 0-24.483 12.207-49.517 26.759-49.517 7.88 0 14.465 4.55 24.552 18.991-9.578 14.691-15.38 23.905-15.38 23.905Zm48.153-2.517-8.823-14.715a301.425 301.425 0 0 0-6.884-10.723c7.952-12.274 14.511-18.39 22.313-18.39 16.206 0 29.172 23.863 29.172 53.173 0 11.172-3.659 17.655-11.241 17.655-7.268 0-10.739-4.8-24.537-27Z",fill:"#0180FA"}),i.jsx("path",{d:"M145.586 35H130.66c3.452 8.746 5.478 19.482 5.478 31.069 0 11.172-3.659 17.655-11.241 17.655-1.407 0-2.672-.18-3.897-.631V99.82c1.143.122 2.324.18 3.552.18 16.659 0 25.931-13.492 25.931-35.034 0-10.737-1.774-20.95-4.897-29.966Z",fill:"url(#b)"}),i.jsx("path",{d:"M43.241 0c.254 0 .507.003.759.008v16.36c-.32-.015-.642-.023-.965-.023-14.183 0-26.139 23.782-26.736 47.655H.014C.59 30.87 19.143 0 43.24 0Z",fill:"url(#c)"}),i.jsx("path",{d:"M43.241 0c11.152 0 20.601 5.02 31.502 17.971 3.065 3.828 6.761 8.805 10.716 14.557l.017.025.025-.003a311.041 311.041 0 0 1 6.036 9.459l8.823 14.715c13.798 22.2 17.269 27 24.537 27H125v16.273c-.149.002-.298.003-.448.003-14.513 0-22.522-8.152-36.897-32.207l-7.38-12.414a596.368 596.368 0 0 0-2.294-3.834L78 51.5c-5.5-9-9-14.5-12-18.5l-.05.038c-9.18-12.63-15.47-16.693-22.916-16.693H43V0L43.241 0Z",fill:"url(#d)"})]}),b[4]=f):f=b[4];b[5]!==a?(g=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{aspectRatio:j,viewBox:"0 0 500 100",children:[e,f]})),b[5]=a,b[6]=g):g=b[6];return g}b=i.memo(a);g["default"]=b}),98);
__d("IGDSPaymentsPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs("g",{fill:"currentColor",children:[i.jsx("path",{d:"M1.4 5.3c-.3.8-.4 4.3-.2 7.8l.3 6.4h21v-15l-10.3-.3c-8-.2-10.4 0-10.8 1.1zM21 7c0 .6-3.7 1-9 1s-9-.4-9-1 3.7-1 9-1 9 .4 9 1zm0 7.5V18H3v-7h18v3.5z"}),i.jsx("path",{d:"M4 16c0 .5 1.1 1 2.5 1S9 16.5 9 16c0-.6-1.1-1-2.5-1S4 15.4 4 16zm6 0c0 .5 1.8 1 4 1s4-.5 4-1c0-.6-1.8-1-4-1s-4 .4-4 1z"})]}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSUserCirclePanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("circle",{cx:"12.004",cy:"12.004",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),f=i.jsx("path",{d:"M18.793 20.014a6.08 6.08 0 0 0-1.778-2.447 3.991 3.991 0 0 0-2.386-.791H9.38a3.994 3.994 0 0 0-2.386.791 6.09 6.09 0 0 0-1.779 2.447",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),g=i.jsx("circle",{cx:"12.006",cy:"9.718",fill:"none",r:"4.109",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f,g]})),b[3]=a,b[4]=e):e=b[4];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSUsersPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M12.931 4.132a3.5 3.5 0 1 1 2.575 5.871h-.06M22 17.546v-.688A3.858 3.858 0 0 0 18.143 13h-3.64",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),f=i.jsx("path",{d:"M12.004 9.502a3.5 3.5 0 1 1-3.501-3.5 3.501 3.501 0 0 1 3.5 3.5Z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2"}),g=i.jsx("path",{d:"M14.997 20.546v-.687A3.858 3.858 0 0 0 11.139 16H5.858A3.858 3.858 0 0 0 2 19.859v.687",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f,g]})),b[3]=a,b[4]=e):e=b[4];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDUBIUpsellInterstitialEntrypointQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9886512594745684"}),null);
__d("IGDUBIUpsellInterstitialEntrypointQuery$Parameters",["IGDUBIUpsellInterstitialEntrypointQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("IGDUBIUpsellInterstitialEntrypointQuery_instagramRelayOperation"),metadata:{},name:"IGDUBIUpsellInterstitialEntrypointQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("IGDUBIUpsellInterstitial.entrypoint",["IGDUBIUpsellInterstitialEntrypointQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryRef:{parameters:c("IGDUBIUpsellInterstitialEntrypointQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("IGDUBIUpsellInterstitialEntrypoint.react").__setRef("IGDUBIUpsellInterstitial.entrypoint")};g["default"]=a}),98);
__d("MDCXWwwHelpControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/{?locale}/help/{?*rest}/",Object.freeze({device_view:!1}),["/help/{?*rest}/","/{?locale}/help/","/help/"],void 0);b=a;g["default"]=b}),98);
__d("PolarisActorGatewayDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9636967049672442"}),null);
__d("PolarisActorGatewayDialogQuery$Parameters",["PolarisActorGatewayDialogQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisActorGatewayDialogQuery_instagramRelayOperation"),metadata:{},name:"PolarisActorGatewayDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisActorGatewayDialog.entrypoint",["JSResourceForInteraction","PolarisActorGatewayDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{polarisActorGatewayDialogQuery:{options:{},parameters:c("PolarisActorGatewayDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("PolarisActorGatewayDialog.react").__setRef("PolarisActorGatewayDialog.entrypoint")};g["default"]=a}),98);
__d("PolarisFXAccountCenterStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*BTDS*/"Accounts Center");b=h._(/*BTDS*/"Facebook wordmark and family of apps logo");c=h._(/*BTDS*/"Control settings for connected experiences across Instagram, the Facebook app and Messenger, including story and post sharing and logging in.");d=h._(/*BTDS*/"Disclosure page");e=h._(/*BTDS*/"Personal information");f=h._(/*BTDS*/"Privacy and security");var i=h._(/*BTDS*/"Ads Preferences"),j=h._(/*BTDS*/"Payments"),k=h._(/*BTDS*/"Manage your connected experiences and account settings across Meta technologies."),l=h._(/*BTDS*/"See more in Accounts Center"),m=h._(/*BTDS*/"Personal details"),n=h._(/*BTDS*/"Password and security"),o=h._(/*BTDS*/"Ad preferences");h=h._(/*BTDS*/"Ad preferences, including subscription for no ads");g.ACCOUNT_CENTER_DIALOG_TITLE=a;g.WATERMARK_FAMILY_APPS_LOGO_ALT=b;g.ACCOUNT_CENTER_DESCRIPTION=c;g.DISCLOSURE_PAGE_TITLE=d;g.ACCOUNT_CENTER_ALT_TEXT_LOCK=e;g.ACCOUNT_CENTER_ALT_TEXT_SHIELD=f;g.ACCOUNT_CENTER_ALT_TEXT_ADS=i;g.ACCOUNT_CENTER_ALT_TEXT_ADS_PAYMENTS=j;g.ACCOUNT_CENTER_DESCRIPTION_NEW_APP_IA=k;g.ACCOUNT_CENTER_SEE_MORE_TEXT=l;g.ACCOUNT_CENTER_PERSONAL_DETAILS_TEXT=m;g.ACCOUNT_CENTER_PASSWORD_AND_SECURITY_TEXT=n;g.ACCOUNT_CENTER_AD_PREFERENCES_TEXT=o;g.ACCOUNT_CENTER_AD_PREFERENCES_WITH_AFS_TEXT=h}),226);
__d("PolarisNidoEnrollmentDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24252703977684041"}),null);
__d("PolarisNidoEnrollmentDialogQuery$Parameters",["PolarisNidoEnrollmentDialogQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisNidoEnrollmentDialogQuery_instagramRelayOperation"),metadata:{},name:"PolarisNidoEnrollmentDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisNidoEnrollmentDialog.entrypoint",["JSResourceForInteraction","PolarisNidoEnrollmentDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:c("PolarisNidoEnrollmentDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("PolarisNidoEnrollmentDialog.react").__setRef("PolarisNidoEnrollmentDialog.entrypoint")};g["default"]=a}),98);
__d("PolarisNidoGraduationDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="32067610436171650"}),null);
__d("PolarisNidoGraduationDialogQuery$Parameters",["PolarisNidoGraduationDialogQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisNidoGraduationDialogQuery_instagramRelayOperation"),metadata:{},name:"PolarisNidoGraduationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisNidoGraduationDialog.entrypoint",["JSResourceForInteraction","PolarisNidoGraduationDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:c("PolarisNidoGraduationDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("PolarisNidoGraduationDialog.react").__setRef("PolarisNidoGraduationDialog.entrypoint")};g["default"]=a}),98);
__d("PolarisQPActorGatewayInterstitial.react",["PolarisActorGatewayDialog.entrypoint","PolarisQPActions","PolarisReactRedux.react","react","react-compiler-runtime","useIGDSEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(9),e=d("PolarisReactRedux.react").useDispatch(),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={routeParams:{},routeProps:{}},b[0]=f):f=b[0];f=c("useIGDSEntryPointDialog")(c("PolarisActorGatewayDialog.entrypoint"),f);var g=f[0],h=j(!1);b[1]!==a.slot?(f=function(b){return b.qp[a.slot].qpDismissed},b[1]=a.slot,b[2]=f):f=b[2];var k=d("PolarisReactRedux.react").useSelector(f),l;b[3]!==e||b[4]!==k||b[5]!==a.slot||b[6]!==g?(f=function(){h.current===!1&&!k&&(h.current=!0,g({},function(){e(d("PolarisQPActions").dismissQP(a.slot))}))},l=[g,e,a.slot,k],b[3]=e,b[4]=k,b[5]=a.slot,b[6]=g,b[7]=f,b[8]=l):(f=b[7],l=b[8]);i(f,l);return null}g["default"]=a}),98);
__d("PolarisQPHelperModule.react",["cx","invariant","$InternalEnum","ConstUriUtils","PolarisExternalLink.react","PolarisFastLink.react","PolarisGenericStrings","isStringNullOrEmpty","joinClasses","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function l(a){var b=/igw:\/\/(.*)/,c=/igw:\/\/root\/(.*)/;b=a.match(b);a=a.match(c);return b?a?a[1]:b[1]:null}function m(a,b){if(!c("isStringNullOrEmpty")(b)){var d=l(b);if(!c("isStringNullOrEmpty")(d))return k.jsx(c("PolarisFastLink.react"),{href:d,children:a});d=b;if(b.includes("webview")){d=decodeURIComponent(b.split("url=")[1]);if(d.includes("www.instagram.com"))return k.jsx(c("PolarisFastLink.react"),{href:d.split("www.instagram.com")[1],children:a});else d.includes("https://")||(d="https://"+d)}return k.jsx(c("PolarisExternalLink.react"),{href:d,children:a})}return a}function a(a){var b=d("react-compiler-runtime").c(12),c=a.Button,e=a.callback,f=a.type;c||i(0,51593);var g=a[f+"Action"];if(!g)return null;var h=f[0].toUpperCase()+f.slice(1),j=a["on"+h+"ButtonClick"];a=f==="primary";b[0]!==g.dismiss_promotion||b[1]!==e||b[2]!==j?(h=function(a){e(j,g.dismiss_promotion,a)},b[0]=g.dismiss_promotion,b[1]=e,b[2]=j,b[3]=h):h=b[3];f=h;b[4]!==c||b[5]!==g||b[6]!==f||b[7]!==a?(h=g?k.jsx(c,{action:g,isPrimary:a,onClick:f}):null,b[4]=c,b[5]=g,b[6]=f,b[7]=a,b[8]=h):h=b[8];c=h;b[9]!==g||b[10]!==c?(f=g&&c?m(c,g.url):null,b[9]=g,b[10]=c,b[11]=f):f=b[11];return f}function e(a){var b=d("react-compiler-runtime").c(4),e=a.className,f=a.dismissAction;a=a.onClick;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=f?k.jsx("button",{className:c("joinClasses")(e,"_9_57","_a9_t"),onClick:a,children:k.jsx("span",{className:"_a9_u",children:d("PolarisGenericStrings").CLOSE_TEXT})}):null,b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}function f(a){var b=d("react-compiler-runtime").c(5),e=a.className,f=a.image;a=a.size;if(!f)return null;f.uri!=null&&f.uri!==""&&(f.spriteClass==null||f.spriteClass==="")||(f.uri==null||f.uri==="")&&f.spriteClass!=null&&f.spriteClass!==""||i(0,51604);var g;b[0]!==e||b[1]!==f.spriteClass||b[2]!==f.uri||b[3]!==a?(g=f.uri!=null&&f.uri!==""?k.jsx("img",{alt:"",className:e,height:a,src:f.uri,width:a}):k.jsx("div",{className:c("joinClasses")(e,f.spriteClass),height:a,width:a}),b[0]=e,b[1]=f.spriteClass,b[2]=f.uri,b[3]=a,b[4]=g):g=b[4];return g}function h(a){var b=d("react-compiler-runtime").c(3),c=a.className;a=a.text;var e;b[0]!==c||b[1]!==a?(e=a&&a.text!=null&&a.text!==""&&a.text!==!1&&a.text!==0?k.jsx("div",{className:c,children:a.text}):null,b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}var n=b("$InternalEnum")({FX_FETA_PRE_MIGRATION_DIALOG:"fx_feta_pre_migration_dialog",FX_FETA_TOS_DIALOG:"fx_feta_tos_dialog",IG_UBI_INBOX_UPSELL:"/ig_ubi_inbox_upsell/",OREGON_CUSTOM_GENDER_CONSENT_URL:"/consent/"});function o(a){var b;a=d("ConstUriUtils").getUri(a);b=Object.keys((b=a==null?void 0:a.getQueryData())!=null?b:{});b=a==null?void 0:a.removeQueryParams(b);if(b==null)return null;b=n.cast(b==null?void 0:b.toString());if(b==null)return null;a=(a=a==null?void 0:a.getQueryData())!=null?a:{};return{action:b,actionData:a}}g.getQPDeepLinkUrl=l;g.QPButton=a;g.QPDismiss=e;g.QPImage=f;g.QPText=h;g.QPCustomActionURL=n;g.getQPCustomActionDataFromUrl=o}),98);
__d("PolarisQPCelebBaitDialog.react",["fbt","IGCoreDialog.react","IGDSBox.react","IGRouter_DO_NOT_USE.react","MDCXWwwHelpControllerRouteBuilder","PolarisIGCoreDialogCircleMedia","PolarisQPHelperModule.react","URI","browserHistory_DO_NOT_USE","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={hideDialog:!1},b.$3=function(a){b.props.primaryAction&&(b.$2(b.props.primaryAction),b.props.onPrimaryButtonClick&&b.props.onPrimaryButtonClick(a))},b.$4=function(a){b.props.secondaryAction&&(b.$2(b.props.secondaryAction),b.props.onSecondaryButtonClick&&b.props.onSecondaryButtonClick(a))},b.$5=function(){b.props.dismissAction&&(b.$1(),b.props.onDismissButtonClick&&b.props.onDismissButtonClick())},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.$1=function(){this.setState({hideDialog:!0})};e.$2=function(a){a.dismiss_promotion&&this.$1();if(a.url){var b=d("PolarisQPHelperModule.react").getQPDeepLinkUrl(a.url);!c("isStringNullOrEmpty")(b)?this.props.history.push(b):d("browserHistory_DO_NOT_USE").redirect(a.url)}};e.render=function(){if(this.state.hideDialog)return null;var a=this.props,b=a.image,e=a.imageSize,f=a.primaryAction,g=a.secondaryAction;a=a.title;b=k.jsx(c("PolarisIGCoreDialogCircleMedia"),{icon:k.jsx(d("PolarisQPHelperModule.react").QPImage,{image:b,size:e})});e=k.jsxs(k.Fragment,{children:[k.jsx(c("IGDSBox.react"),{marginBottom:6,children:h._(/*BTDS*/"We\u2019re using facial recognition technology to help detect and stop scams that use your image. Learn how we use this technology by choosing Learn more below.")}),k.jsx(c("IGDSBox.react"),{children:h._(/*BTDS*/"You can turn this off anytime in Accounts Center.")})]});return k.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:e,media:b,onModalClose:this.$5,title:a==null?void 0:a.text,children:[f&&k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$3,children:(e=f.title)==null?void 0:e.text}),k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:function(a){a=(a=c("MDCXWwwHelpControllerRouteBuilder").buildUri({rest:"1265316287987507"}).getQualifiedUri())==null?void 0:a.setDomain("meta.com");a!=null&&(i||(i=c("URI"))).goURIOnWindow(a,window.open("","_blank"))},children:h._(/*BTDS*/"Learn more")}),g&&k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.$4,children:(b=g.title)==null?void 0:b.text})]})};return b}(k.Component);b=d("IGRouter_DO_NOT_USE.react").withIGRouter(a);g["default"]=b}),226);
__d("PolarisQPContainer.react",["PolarisLogger","PolarisQPConstants","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){function b(){var b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(b=a.call.apply(a,[this].concat(e))||this,b.$4=function(){b.$3(d("PolarisQPConstants").OBJECT_IDS.primary)},b.$5=function(){b.$3(d("PolarisQPConstants").OBJECT_IDS.secondary)},b.$6=function(){b.$3(d("PolarisQPConstants").OBJECT_IDS.dismiss)},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.$1=function(){var a=this.props,b=a.promotionId;a=a.surfaceId;return{nux_id:c("nullthrows")(a),promotion_id:b}};e.componentDidMount=function(){this.props.component&&this.$2()};e.$3=function(a){var b=this.$1();d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.click,babelHelpers["extends"]({object_id:a},b))};e.$2=function(){d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.view,this.$1())};e.render=function(){var a=this.props.component,b=this.props,c=b.body,d=b.bulletList,e=b.dismissAction,f=b.image,g=b.imageSize,h=b.parameters,j=b.primaryAction,k=b.refetchPromotions,l=b.secondaryAction,m=b.slot;b=b.title;return a!=null&&i.jsx(a,{body:c,bulletList:d,dismissAction:e,image:f,imageSize:g,onDismissButtonClick:this.$6,onPrimaryButtonClick:this.$4,onSecondaryButtonClick:this.$5,parameters:h,primaryAction:j,refetchPromotions:k,secondaryAction:l,slot:m,title:b})};return b}(i.PureComponent);g["default"]=a}),98);
__d("PolarisQPFetaAccountAutoMigrationDialog.react",["FXFetaAutoMigrationPromptDialog.entrypoint","react","react-compiler-runtime","useIGDSEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef;function a(){var a=d("react-compiler-runtime").c(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useIGDSEntryPointDialog")(c("FXFetaAutoMigrationPromptDialog.entrypoint"),b,void 0,m);var e=b[0],f=l(!1),g;a[1]!==e?(b=function(){f.current===!1&&(f.current=!0,e({routeProps:{noticeType:"IG_MIGRATION_MOMENT_NOTICE"}}))},g=[e],a[1]=e,a[2]=b,a[3]=g):(b=a[2],g=a[3]);k(b,g);return null}function m(){return j.jsx("div",{})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisQPFetaSavePasswordInterstitial.react",["CAAFetaSavePasswordInterstitial.entrypoint","PolarisOneTapLogin","react","react-compiler-runtime","useIGDSEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef;function a(a){var b=d("react-compiler-runtime").c(9),e=a.onDismissButtonClick,f=a.onPrimaryButtonClick,g=a.onSecondaryButtonClick;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useIGDSEntryPointDialog")(c("CAAFetaSavePasswordInterstitial.entrypoint"),a,void 0,m);var h=a[0],i=l(!1);b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=d("PolarisOneTapLogin").isCAASpiDialogEligible(),b[1]=a):a=b[1];var j=a;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==h?(a=function(){!i.current&&j&&(i.current=!0,h({next:null,onDismissButtonClick:e,onPrimaryButtonClick:f,onSecondaryButtonClick:g}))},b[2]=e,b[3]=f,b[4]=g,b[5]=h,b[6]=a):a=b[6];var n;b[7]!==h?(n=[h,i,j],b[7]=h,b[8]=n):n=b[8];k(a,n);return null}function m(){return j.jsx("div",{})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisQPStandardMegaphone.react",["cx","IGDSBox.react","InstagramODS","PolarisIGCoreButton.react","PolarisQPHelperModule.react","PolarisReactRedux.react","PolarisUA","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=d("react-compiler-runtime").c(10),e=a.action,f=a.isPrimary;a=a.onClick;var g=f?2:3,h=!f;f=(f?"_a9_v":"")+(f?"":" _a9_w");var i;b[0]!==f?(i={__className:f},b[0]=f,b[1]=i):i=b[1];b[2]!==e.title.text||b[3]!==a||b[4]!==h||b[5]!==i?(f=j.jsx(c("PolarisIGCoreButton.react"),{borderless:h,dangerouslySetClassName:i,fullWidth:!0,onClick:a,children:e.title.text}),b[2]=e.title.text,b[3]=a,b[4]=h,b[5]=i,b[6]=f):f=b[6];b[7]!==g||b[8]!==f?(e=j.jsx(c("IGDSBox.react"),{marginTop:g,position:"relative",children:f}),b[7]=g,b[8]=f,b[9]=e):e=b[9];return e}b=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={hideMegaphone:!1},b.$1=function(a,c,d){c===void 0&&(c=!0),c&&b.setState({hideMegaphone:!0}),a&&a(d)},b.$2=function(a){a.preventDefault(),b.$1(b.props.onDismissButtonClick,!0,a)},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.componentDidMount=function(){c("InstagramODS").incr("web.notifications.react_qp_render")};e.render=function(){if(this.props.showCookieModal===!0||this.state.hideMegaphone)return null;var a=this.props,b=a.body,e=a.dismissAction,f=a.image,g=a.title;a=a.type;a=a===void 0?"default":a;return j.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisUA").isMobile()?0:8,position:"relative",children:j.jsx("section",{className:"_a9_x"+(a==="loggedOut"?" _a9_y":"")+(a==="loggedInHalfSheet"?" _a9_z":""),children:j.jsxs("div",{className:"_a9_-",children:[j.jsx(d("PolarisQPHelperModule.react").QPDismiss,{className:"_a9__",dismissAction:e,onClick:this.$2}),j.jsxs("div",{className:"_aa00",children:[j.jsx(d("PolarisQPHelperModule.react").QPImage,{className:"_aa01",image:f,size:this.props.imageSize}),j.jsxs("span",{className:"_aa02",children:[j.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_aa03",text:g}),j.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_aa04",text:b})]}),j.jsxs("span",{className:"_aa05",children:[j.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:k,callback:this.$1,onPrimaryButtonClick:this.props.onPrimaryButtonClick,primaryAction:this.props.primaryAction,type:"primary"}),j.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:k,callback:this.$1,onSecondaryButtonClick:this.props.onSecondaryButtonClick,secondaryAction:this.props.secondaryAction,type:"secondary"})]})]})]})})})};return b}(j.Component);function a(a){return{showCookieModal:a.cookieModal.visible}}e=d("PolarisReactRedux.react").connect(a)(b);g._QPStandardMegaphone=b;g.QPStandardMegaphone=e}),98);
__d("PolarisQPFooterBanner.react",["PolarisQPStandardMegaphone.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),c=a.body,e=a.dismissAction,f=a.image,g=a.imageSize,h=a.onDismissButtonClick,j=a.onPrimaryButtonClick,k=a.onSecondaryButtonClick,l=a.primaryAction,m=a.secondaryAction,n=a.slot;a=a.title;var o;b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==h||b[5]!==j||b[6]!==k||b[7]!==l||b[8]!==m||b[9]!==n||b[10]!==a?(o=i.jsx(d("PolarisQPStandardMegaphone.react").QPStandardMegaphone,{body:c,dismissAction:e,image:f,imageSize:g,onDismissButtonClick:h,onPrimaryButtonClick:j,onSecondaryButtonClick:k,primaryAction:l,secondaryAction:m,slot:n,title:a,type:"loggedOut"}),b[0]=c,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=m,b[9]=n,b[10]=a,b[11]=o):o=b[11];return o}g["default"]=a}),98);
__d("PolarisQPFullscreenBulletListInterstitial.react",["cx","fbt","IGDSAdPanoOutline24Icon.react","IGDSIconButton.react","IGDSLicensingPanoOutline24Icon.react","IGDSMetaLogoPrimaryIcon.react","IGDSPaymentsPanoOutline24Icon.react","IGDSShieldPanoOutlineIcon.react","IGDSUserCirclePanoOutlineIcon.react","IGDSUsersPanoOutline24Icon.react","IGDSXPanoOutlineIcon.react","PolarisFXAccountCenterStrings","PolarisFastLink.react","PolarisGenericStrings","PolarisQPHelperModule.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={hideInterstitial:!1},b.$2=function(a){a.preventDefault(),b.$1(b.props.onDismissButtonClick,!0,a)},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.$1=function(a,b,c){b===void 0&&(b=!0),b&&(this.setState({hideInterstitial:!0}),this.props.refetchPromotions!=null&&this.props.refetchPromotions()),a&&a(c)};e.render=function(){var a;if(this.state.hideInterstitial)return null;var b=this.props.bulletList,e=[k.jsx(c("IGDSUserCirclePanoOutlineIcon.react"),{alt:i._(/*BTDS*/"User circle icon on Accounts Center Interstitial"),color:"ig-primary-text",size:24},"user-circle-pano"),k.jsx(c("IGDSUsersPanoOutline24Icon.react"),{alt:i._(/*BTDS*/"Users icon on Accounts Center Interstitial"),color:"ig-primary-text",size:24},"users-pano"),k.jsx(c("IGDSShieldPanoOutlineIcon.react"),{alt:i._(/*BTDS*/"Shield icon on Accounts Center Interstitial"),color:"ig-primary-text",size:24},"shield-pano"),k.jsx(c("IGDSLicensingPanoOutline24Icon.react"),{alt:i._(/*BTDS*/"Licensing icon on Accounts Center Interstitial"),color:"ig-primary-text",size:24},"licensing-pano"),k.jsx(c("IGDSAdPanoOutline24Icon.react"),{alt:i._(/*BTDS*/"Ad icon on Accounts Center Interstitial"),color:"ig-primary-text",size:24},"ad-pano"),k.jsx(c("IGDSPaymentsPanoOutline24Icon.react"),{alt:i._(/*BTDS*/"Payments icon on Accounts Center Interstitial"),color:"ig-primary-text",size:24},"payments-pano")];return k.jsx("div",{className:"_a9-g",children:k.jsxs("div",{className:"_a9-h",children:[k.jsx("div",{className:"_a9-i",children:k.jsx(c("IGDSIconButton.react"),{onClick:this.$2,padding:0,children:k.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:16})})}),k.jsx("div",{className:"_a9-j",children:k.jsx(c("IGDSMetaLogoPrimaryIcon.react"),{alt:d("PolarisFXAccountCenterStrings").WATERMARK_FAMILY_APPS_LOGO_ALT,color:"ig-primary-text",size:60})}),k.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9-k",text:this.props.title}),k.jsx("div",{className:"_a9-l",children:k.jsxs("p",{className:"_a9-m",children:[(a=this.props.body)==null?void 0:a.text," ",k.jsx(c("PolarisFastLink.react"),{className:"_a9-n",href:(a=this.props.secondaryAction)==null?void 0:a.url,target:"_blank",children:(a=this.props.secondaryAction)==null?void 0:a.title.text})]})}),b!=null?k.jsx("ul",{children:b.map(function(a,b){return k.jsxs("li",{className:"_a9-o",children:[e[b],k.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9-p",text:{text:a.title}})]},a.title)})}):null]})})};return b}(k.Component);g["default"]=a}),226);
__d("PolarisQPFullscreenInterstitial.react",["cx","IGDSBox.react","IGDSIconButton.react","IGDSXPanoOutlineIcon.react","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisQPHelperModule.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function k(a){var b=d("react-compiler-runtime").c(6),e=a.action,f=a.isPrimary,g=a.onClick;b[0]!==g?(a=function(a){g(),a.preventDefault()},b[0]=g,b[1]=a):a=b[1];a=a;f=!f;var h;b[2]!==e.title.text||b[3]!==a||b[4]!==f?(h=j.jsx(c("PolarisIGCoreButton.react"),{borderless:f,fullWidth:!0,onClick:a,children:e.title.text}),b[2]=e.title.text,b[3]=a,b[4]=f,b[5]=h):h=b[5];return h}a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={hideInterstitial:!1},b.$1=function(a,c,d){c===void 0&&(c=!0),c&&b.setState({hideInterstitial:!0}),a&&a(d)},b.$2=function(a){a.preventDefault(),b.$1(b.props.onDismissButtonClick,!0,a)},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.render=function(){return this.state.hideInterstitial?null:j.jsx("div",{className:"_a9_4",children:j.jsxs("div",{className:"_a9_5",children:[j.jsx("div",{className:"_aqt-",children:j.jsx(c("IGDSIconButton.react"),{onClick:this.$2,padding:0,children:j.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:16})})}),j.jsx(d("PolarisQPHelperModule.react").QPImage,{className:"_a9_6",image:this.props.image,size:this.props.imageSize}),j.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9_7",text:this.props.title}),j.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9_8",text:this.props.body}),j.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:k,callback:this.$1,onPrimaryButtonClick:this.props.onPrimaryButtonClick,primaryAction:this.props.primaryAction,type:"primary"}),j.jsx(c("IGDSBox.react"),{margin:2,position:"relative",children:j.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:k,callback:this.$1,onSecondaryButtonClick:this.props.onSecondaryButtonClick,secondaryAction:this.props.secondaryAction,type:"secondary"})})]})})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisQPNidoEnrollmentInterstitial.react",["PolarisDismissEntry","PolarisNidoEnrollmentDialog.entrypoint","react","react-compiler-runtime","useIGDSEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(){var a=d("react-compiler-runtime").c(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={routeParams:{},routeProps:{}},a[0]=b):b=a[0];b=c("useIGDSEntryPointDialog")(c("PolarisNidoEnrollmentDialog.entrypoint"),b);var e=b[0],f=j(!1),g;a[1]!==e?(b=function(){f.current===!1&&!d("PolarisDismissEntry").isDismissed(d("PolarisDismissEntry").NIDO_ENROLLMENT_TYPE)&&(f.current=!0,e({}))},g=[e],a[1]=e,a[2]=b,a[3]=g):(b=a[2],g=a[3]);i(b,g);return null}g["default"]=a}),98);
__d("PolarisQPNidoGraduationInterstitial.react",["PolarisDismissEntry","PolarisNidoGraduationDialog.entrypoint","react","react-compiler-runtime","useIGDSEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(){var a=d("react-compiler-runtime").c(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={routeParams:{},routeProps:{}},a[0]=b):b=a[0];b=c("useIGDSEntryPointDialog")(c("PolarisNidoGraduationDialog.entrypoint"),b);var e=b[0],f=j(!1),g;a[1]!==e?(b=function(){f.current===!1&&!d("PolarisDismissEntry").isDismissed(d("PolarisDismissEntry").NIDO_GRADUATION_TYPE)&&(f.current=!0,e({}))},g=[e],a[1]=e,a[2]=b,a[3]=g):(b=a[2],g=a[3]);i(b,g);return null}g["default"]=a}),98);
__d("SaharaCometConsentExtractExperienceFromExtraParams",[],(function(a,b,c,d,e,f){"use strict";var g="__aectx__";function a(a){if(a==null)return null;if(!Object.prototype.hasOwnProperty.call(a,g))return null;a=a[g];if(typeof a!=="string")return null;a=JSON.parse(a);return a}f.maybeExtractConsentExperienceFromExtraParams=a}),66);
__d("SaharaCometConsentClientSupportedFeatures.entrypointutils",[],(function(a,b,c,d,e,f){"use strict";a={components:["HEADER_TITLE","HEADER_CONTENT","BUTTONS_PRIMARY","BUTTONS_SECONDARY","CONTENT_PARAGRAPH","CONTENT_LIST","SECTION_TITLE","SECTION_CONTENT","CONTENT_TOGGLE"]};f["default"]=a}),66);
__d("SaharaCometConsentFlowContextualRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24235797562783094"}),null);
__d("SaharaCometConsentFlowContextualRootQuery$Parameters",["SaharaCometConsentFlowContextualRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("SaharaCometConsentFlowContextualRootQuery_facebookRelayOperation"),metadata:{},name:"SaharaCometConsentFlowContextualRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("SaharaCometConsentFlowContextual.entrypoint",["ConsentFlowName","ConsentSurface","FBLogger","JSResourceForInteraction","SaharaCometConsentClientSupportedFeatures.entrypointutils","SaharaCometConsentFlowContextualRootQuery$Parameters","WebPixelRatio","getGraphQLEnumSafe"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=c("getGraphQLEnumSafe")(c("ConsentFlowName"),a.routeParams.flow);if(b==null){var e;throw c("FBLogger")("consent_ui_infra").mustfixThrow("Could not find associated GraphQL enum for flowName: "+((e=a.routeParams.flow)!=null?e:"null"),"consent_ui_infra")}e=c("getGraphQLEnumSafe")(c("ConsentSurface"),a.routeParams.surface);if(e==null){var f;throw c("FBLogger")("consent_ui_infra").mustfixThrow("Could not find associated GraphQL enum for surface: "+((f=a.routeParams.surface)!=null?f:"null"),"consent_ui_infra")}return{queries:{saharaCometConsentContextualRootQueryRef:{parameters:c("SaharaCometConsentFlowContextualRootQuery$Parameters"),variables:{client_supported_features:c("SaharaCometConsentClientSupportedFeatures.entrypointutils"),device_id:a.routeParams.device_id,experience_id:a.routeParams.experience_id,extra_params_json:(f=a.routeParams.extra_params_json)!=null?f:"{}",flow_name:b,runtime:"SAHARA",scale:d("WebPixelRatio").get(),source:a.routeParams.source,surface:e}}}}},root:c("JSResourceForInteraction")("SaharaCometConsentFlowContextualRoot.react").__setRef("SaharaCometConsentFlowContextual.entrypoint")};g["default"]=a}),98);
__d("useBaseDynamicEntryPointDialog",["CometDialogContext","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useRef;function n(a){var b=a.entryPoint,e=a.environmentProvider,f=a.onClose,g=a.otherProps,h=a.overrideRelayEnv,j=a.preloadedEntryPoint,k=a.preloadParams;a=d("CometRelay").useEntryPointLoader(e,b);var n=a[0],o=a[1],p=a[2],q=n!=null?n:j,r=m(null);l(function(){r.current!=null&&(c("clearTimeout")(r.current),r.current=null);q.isDisposed&&o(k);return function(){r.current=c("setTimeout")(function(){n?p():j.dispose(),r.current=null},6e4)}},[p,q.isDisposed,j,k,o,n]);e=babelHelpers["extends"]({},g,{onClose:f});b=i.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:j,props:e});return h!=null?i.jsx(d("CometRelay").RelayEnvironmentProvider,{environment:h,children:b}):b}n.displayName=n.name+" [from "+f.id+"]";function a(a,b,e,f){var g=c("useCometRelayEntrypointContextualEnvironmentProvider")(f),h=k(c("CometDialogContext"));return j(function(i,j,k,l,m){var o=d("CometRelay").loadEntryPoint(g,a,i),p=n,q=function(){k&&k.apply(void 0,arguments);var a=o==null?void 0:o.dispose;a&&a()};h(c("CometSuspendedDialogImpl.react"),{dialog:p,dialogProps:{entryPoint:a,environmentProvider:g,otherProps:j,overrideRelayEnv:f,preloadedEntryPoint:o,preloadParams:i},fallback:e},{loadType:"entrypoint",preloadTrigger:b,tracePolicy:l!=null?l:c("tracePolicyFromResource")("comet.dialog",a.root)},q,{replaceCurrentDialog:m})},[g,a,h,e,b,f])}g["default"]=a}),98);
__d("useSaharaCometConsentFlowContextualAPI__EXPERIMENTAL",["SaharaCometConsentExtractExperienceFromExtraParams","SaharaCometConsentFlowContextual.entrypoint","cr:567","react","useBaseDynamicEntryPointDialog","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react"),k=(h||(h=d("react"))).useCallback;function a(a){a===void 0&&(a="facebook_comet");var e=c("useBaseDynamicEntryPointDialog")(c("SaharaCometConsentFlowContextual.entrypoint"),void 0,b("cr:567")!=null?b("cr:567"):function(){return j.jsx("div",{})}),f=k(function(b){var f=b.callbacks,g=b.device_id,h=b.flow,i=b.onError,j=b.params;b=b.source;var k=d("SaharaCometConsentExtractExperienceFromExtraParams").maybeExtractConsentExperienceFromExtraParams(j);k=(k=k==null?void 0:k.id)!=null?k:c("uuidv4")();g={device_id:g,experience_id:k,extra_params_json:JSON.stringify(j),flow:h,source:b,surface:a};e({routeParams:g,routeProps:{}},{flow:h,onClose:function(){},onError:i,source:b,userlandConsentExperienceCallbacks:f})},[e,a]);return f}g["default"]=a}),98);
__d("usePolarisQPCustomActionLaunchOregonCustomGenderConsent",["ConsentFlowName","FBLogger","emptyFunction","getJSEnumSafe","react-compiler-runtime","useSaharaCometConsentFlowContextualAPI__EXPERIMENTAL"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=c("useSaharaCometConsentFlowContextualAPI__EXPERIMENTAL")("instagram_web"),e;a[0]!==b?(e=function(a){a=i(a);var d=h(a==null?void 0:a.flow);if(d==null){c("FBLogger")("consent_ui_infra").mustfix("cannot parse consent flow name: %s from custom action url for custom gender consent sent by QP config");return}a=a==null?void 0:a.source;if(a==null){c("FBLogger")("consent_ui_infra").mustfix("cannot parse consent flow source: %s from custom action url for custom gender consent sent by QP config",a);return}b({flow:d,onError:c("emptyFunction"),source:a})},a[0]=b,a[1]=e):e=a[1];return e}function h(a){var b=Object.keys(c("ConsentFlowName")).find(function(b){return c("ConsentFlowName")[b]===a});return b==null?null:c("getJSEnumSafe")(c("ConsentFlowName"),b)}function i(a){var b={};for(a of Object.entries(a)){var c=a[0],d=a[1];b[c]=typeof d==="string"?d:String(d)}return b}g["default"]=a}),98);
__d("usePolarisQPCustomClickHandler",["FXFetaPreMigrationDialog.entrypoint","FXFetaToSDialog.entrypoint","IGDUBIUpsellInterstitial.entrypoint","PolarisQPHelperModule.react","react","react-compiler-runtime","useIGDSEntryPointDialog","usePolarisQPCustomActionLaunchOregonCustomGenderConsent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(){var a=d("react-compiler-runtime").c(8),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={routeProps:{entry_point:"fx_feta_pre_migration_dialog"}},a[0]=b):b=a[0];b=c("useIGDSEntryPointDialog")(c("FXFetaPreMigrationDialog.entrypoint"),b,void 0,k);var e=b[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b={routeProps:{entry_point:"fx_feta_migration_tos_dialog"}},a[1]=b):b=a[1];b=c("useIGDSEntryPointDialog")(c("FXFetaToSDialog.entrypoint"),b,void 0,j);var f=b[0];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[2]=b):b=a[2];b=c("useIGDSEntryPointDialog")(c("IGDUBIUpsellInterstitial.entrypoint"),b);var g=b[0],h=c("usePolarisQPCustomActionLaunchOregonCustomGenderConsent")();a[3]!==h||a[4]!==e||a[5]!==f||a[6]!==g?(b=function(a,b){bb6:switch(a){case d("PolarisQPHelperModule.react").QPCustomActionURL.FX_FETA_PRE_MIGRATION_DIALOG:e({routeProps:{noticeType:"IG_PRE_MIGRATION_NOTICE",useDialog:!0}});break bb6;case d("PolarisQPHelperModule.react").QPCustomActionURL.FX_FETA_TOS_DIALOG:f({routeProps:{noticeType:"IG_TERMS_OF_SERVICE_NOTICE",useDialog:!0}});break bb6;case d("PolarisQPHelperModule.react").QPCustomActionURL.IG_UBI_INBOX_UPSELL:g({});break bb6;case d("PolarisQPHelperModule.react").QPCustomActionURL.OREGON_CUSTOM_GENDER_CONSENT_URL:h(b)}},a[3]=h,a[4]=e,a[5]=f,a[6]=g,a[7]=b):b=a[7];return b}function j(){return i.jsx("div",{})}j.displayName=j.name+" [from "+f.id+"]";function k(){return i.jsx("div",{})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useWebBloksIGHandleQPActionClick",["PolarisLogger","PolarisNavigationUtils","PolarisQPConstants","PolarisQPHelperModule.react","WebBloksAsyncActions","isStringNullOrEmpty","react","usePolarisQPCustomClickHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a,b){var e=c("usePolarisQPCustomClickHandler")(),f=i(function(f,g,h){d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.click,babelHelpers["extends"]({},b,{object_id:h.toLowerCase()}));if(h==="DISMISS"||g.length===0){a(!1);return}var i=d("PolarisQPHelperModule.react").getQPCustomActionDataFromUrl(g);if(h==="PRIMARY"&&i!=null){h=i.action;i=i.actionData;h!=null&&e(h,i);a(!1);return}h=g.replace(/\\/g,"");i=d("PolarisQPHelperModule.react").getQPDeepLinkUrl(h);if(!c("isStringNullOrEmpty")(i))d("PolarisNavigationUtils").openURL(i);else if(h.includes("webview")){g=decodeURIComponent(h.split("url=")[1]);g.includes("www.instagram.com")&&(g=g.split("www.instagram.com")[1]);d("PolarisNavigationUtils").openURL(g)}else if(h.includes("instagram://run_bloks_action")){g=(i=h.split("?")[1])!=null?i:"";i=new URLSearchParams(g);g=i.get("bloks_app_id");switch(g){case"com.bloks.www.privacy.consent.prompt.action":var j=i.get("params");j!=null&&d("WebBloksAsyncActions").executeAsyncActionCatch(f,g,JSON.parse(j));break;case"com.bloks.www.yp.supervision_launch_qp_landing.async":j=i.get("page_type");j!=null&&d("WebBloksAsyncActions").executeAsyncActionCatch(f,g,{page_type:j});break;case"com.bloks.www.nido.how_teen_account_keeps_you_safe.async":d("WebBloksAsyncActions").executeAsyncActionCatch(f,g);break;case"com.bloks.www.youth_ads.tier_two_onboarding.async":d("WebBloksAsyncActions").executeAsyncActionCatch(f,g);break}}else d("PolarisNavigationUtils").openURL(h)},[e,b,a]);return f}g["default"]=a}),98);
__d("PolarisQPWWWBloksRenderer.react",["cx","IGWebBloksApp","PolarisLogger","PolarisQPConstants","PolarisUA","gkx","react","react-compiler-runtime","useWebBloksIGHandleQPActionClick"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect;b.useMemo;var l=b.useState;function a(a){var b=d("react-compiler-runtime").c(16),e=a.bloks_payload,f=a.encrypted_logging_data,g=a.logging_data,h=a.promotionId,i=a.surfaceId;a=a.triggers;var m=l(!0),n=m[0];m=m[1];var o;b[0]!==f||b[1]!==g||b[2]!==h||b[3]!==i?(o={encrypted_instance_log_data:f,instance_log_data:g,nux_id:i,promotion_id:h},b[0]=f,b[1]=g,b[2]=h,b[3]=i,b[4]=o):o=b[4];f=o;var p=f;b[5]!==p?(g=function(){d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.view,p)},h=[p],b[5]=p,b[6]=g,b[7]=h):(g=b[6],h=b[7]);k(g,h);i=c("useWebBloksIGHandleQPActionClick")(m,p);b[8]!==i?(o={"ig.action.quickpromotion.HandleQuickPromotionActionClick":i},b[8]=i,b[9]=o):o=b[9];f=o;g=f;if(!n)return null;h=a!=null&&a.includes(d("PolarisQPConstants").TRIGGERS.instagram_feed_header);m="_a9_9"+(d("PolarisUA").isDesktop()&&h?" _aeky":"")+(c("gkx")("9971")?" _atdf":"");b[10]!==g||b[11]!==e?(i=j.jsx("div",{className:"_a9_b",children:j.jsx(c("IGWebBloksApp"),{actionOverrides:g,payload:e})}),b[10]=g,b[11]=e,b[12]=i):i=b[12];b[13]!==m||b[14]!==i?(o=j.jsx("div",{className:m,children:i}),b[13]=m,b[14]=i,b[15]=o):o=b[15];return o}e=j.memo(a);g["default"]=e}),98);
__d("PolarisQPManager.react",["FBLogger","PolarisQPActions","PolarisQPActorGatewayInterstitial.react","PolarisQPCelebBaitDialog.react","PolarisQPConstants","PolarisQPContainer.react","PolarisQPFetaAccountAutoMigrationDialog.react","PolarisQPFetaSavePasswordInterstitial.react","PolarisQPFooterBanner.react","PolarisQPFullscreenBulletListInterstitial.react","PolarisQPFullscreenInterstitial.react","PolarisQPNidoEnrollmentInterstitial.react","PolarisQPNidoGraduationInterstitial.react","PolarisQPStandardMegaphone.react","PolarisQPWWWBloksRenderer.react","PolarisReactRedux.react","polarisLogAction","polarisQPSelectors","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.WrapperComponent;b=b===void 0?i.Fragment:b;var e=a.filter,f=a.slot,g=a.triggerContext,h=d("PolarisReactRedux.react").useSelector(d("polarisQPSelectors").getValidPromotion({filter:e,slot:f})),k=d("PolarisReactRedux.react").useDispatch();j(function(){h||k(d("PolarisQPActions").fetchBatchQuickPromotionAction(f,d("PolarisQPConstants").SLOT_TO_SURFACES[f],g))},[k,h,f,g]);a=function(a){var b=d("PolarisQPConstants").TEMPLATES;switch(a.name){case b.standard_megaphone_ig:case b.standard_megaphone:c("vulture")("-rayh2SNhLEcf9KlbZo4K_TX94Q=");return d("PolarisQPStandardMegaphone.react").QPStandardMegaphone;case b.iig_celeb_bait_dialog:return c("PolarisQPCelebBaitDialog.react");case b.iig_fullscreen_bullet_list:return c("PolarisQPFullscreenBulletListInterstitial.react");case b.iig_celebration_fullscreen:case b.iig_fullscreen:case b.iig_fullscreen_rectangular_image:return c("PolarisQPFullscreenInterstitial.react");case b.instagram_direct_launcher:c("vulture")("rzWEOYlGmHKjT0tJR5nFV-T6I5Q=");c("FBLogger")("ig_web").mustfix("IG Web does not currently support the instagram_direct_launcher template");return null;case b.instagram_footer_banner:c("vulture")("t7Rz0wHrejVyVyxpg0dc1vMBT3A=");return c("PolarisQPFooterBanner.react");case b.feta_account_auto_migration_dialog:return c("PolarisQPFetaAccountAutoMigrationDialog.react");case b.feta_save_password_interstitial:return c("PolarisQPFetaSavePasswordInterstitial.react");case b.ig_nido_enrollment:return c("PolarisQPNidoEnrollmentInterstitial.react");case b.ig_nido_graduation:return c("PolarisQPNidoGraduationInterstitial.react");case b.actor_gateway_interstitial:return c("PolarisQPActorGatewayInterstitial.react");default:c("FBLogger")("ig_web").mustfix("Attempted to render unsupported QP template type: %s",a.name);return null}};if(!h)return null;e=h.bloks_view_v2;var l=h.creatives,m=h.encrypted_logging_data,n=h.id,o=h.logging_data,p=h.surface_id,q=h.template,r=h.triggers;l=l[0];var s=l.bullet_list,t=l.content,u=l.dismiss_action,v=l.image,w=l.primary_action,x=l.secondary_action;l=l.title;if(e){c("polarisLogAction")("bloksRenderQP",{target_id:n});e=i.jsx(c("PolarisQPWWWBloksRenderer.react"),{bloks_payload:e.component.bundle.bloks_bundle_tree,encrypted_logging_data:m,logging_data:o,promotionId:n,surfaceId:p,triggers:r});return q.name==="fixed_banner_ig"?i.jsx(b,{children:i.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf x1fj9vlw",children:e})}):i.jsx(b,{children:e})}return i.jsx(b,{children:i.jsx(c("PolarisQPContainer.react"),{body:t,bulletList:s,component:a(q),dismissAction:u,image:v,imageSize:d("PolarisQPConstants").IMAGE_SIZES[q.name],parameters:q.parameters,primaryAction:w,promotionId:n,refetchPromotions:f===d("PolarisQPConstants").SLOTS.settings?function(){return k(d("PolarisQPActions").fetchBatchQuickPromotionAction(f,d("PolarisQPConstants").SLOT_TO_SURFACES[f],g))}:null,secondaryAction:x,slot:f,surfaceId:p,title:l})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SaharaCometConsentFlowContextualConsentFallbackLoadingStateIGDS.react",["IGDSDialogLegacy.react","IGDSSpinner.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSDialogLegacy.react"),{closeButtonPosition:"hidden",enablePopInAnimation:!1,fixedHeight:!0,fixedWidth:!0,size:"large",children:i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k xh8yej3",children:i.jsx(c("IGDSSpinner.react"),{})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBMainThreadEBDBApiDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("EBMainThreadEBDBApi").__setRef("EBMainThreadEBDBApiDeferred");function a(){return h.load().then(function(a){return a.startListeningDeviceRegistrations()})}function b(a){return h.load().then(function(b){return b.trackOverprompting(a)})}function d(a){return h.load().then(function(b){return b.addNewDevice(a)})}function e(){return h.load().then(function(a){return a.getEBDBDump()})}function f(a,b){return h.load().then(function(c){return c.trackConsistency(a,b)})}g.startListeningDeviceRegistrations=a;g.trackOverprompting=b;g.addNewDevice=d;g.getEBDBDump=e;g.trackConsistency=f}),98);
__d("LSWriteSupplementalMessage",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][writeSupplementalMessage] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.messageTimestampMs)})},function(b){return c.i64.neq(d[2],void 0)?c.sequence([function(b){return c.i64.gt(d[2],a[5])?c.resolve((b=[!1,c.i64.cast([0,851])],d[12]=b[0],d[13]=b[1],b)):c.sequence([function(b){return c.forEach(c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}),function(a){return a["delete"]()})},function(b){return c.db.table(302).add({pk:void 0,messagePayload:a[0],threadId:a[1],toplevelOfflineThreadingId:a[2],supplementalKey:a[3],offlineThreadingId:a[4],messageTimestampMs:a[5]})},function(a){return a=[!0,void 0],d[12]=a[0],d[13]=a[1],a}])},function(a){return a=[d[12],d[13]],d[4]=a[0],d[5]=a[1],a}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}),function(a){return a["delete"]()})},function(b){return c.db.table(302).add({pk:void 0,messagePayload:a[0],threadId:a[1],toplevelOfflineThreadingId:a[2],supplementalKey:a[3],offlineThreadingId:a[4],messageTimestampMs:a[5]})},function(a){return a=[!0,void 0],d[4]=a[0],d[5]=a[1],a}])},function(a){return d[6]=c.i64.of_float(Date.now()),d[7]=c.i64.random(),d[9]="Finishing execution. Execution time: ",d[10]=c.i64.to_string(c.i64.sub(d[6],d[0])),d[11]=" ms",d[8]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][writeSupplementalMessage] ",d[8],d[9],d[8],d[10],d[8],d[11]].join("")),c.i64.eq(c.i64.mod_(d[7],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[12]=",",d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"writeSupplementalMessage",[d[9],d[12],d[10],d[12],d[11]].join(""),d[13],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[4],d[5]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMPSWriteSupplementalMessageStoredProcedure";a.__tables__=["local_message_persistence_store_supplemental"];e.exports=a}),null);
__d("LSWriteSupplementalMessageStoredProcedure",["LSSynchronousPromise","LSWriteSupplementalMessage","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSWriteSupplementalMessage"),e.messagePayload,e.threadId,e.toplevelOfflineThreadingId,e.supplementalKey,e.offlineThreadingId,e.messageTimestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSWriteTopLevelMessage",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][writeTopLevelMessage] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.messageTimestampMs)})},function(b){return c.i64.neq(d[2],void 0)?c.sequence([function(b){return c.i64.gt(d[2],a[3])?c.resolve((b=[!1,c.i64.cast([0,851])],d[12]=b[0],d[13]=b[1],b)):c.sequence([function(b){return c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[14]=!1:(a.item,d[14]=!0)})},function(b){return d[14]?c.sequence([function(b){return c.forEach(c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(b){var c=b.update;b.item;return c({deletedMessagePayload:a[0],isLocalOnlyMessage:a[4],messageTimestampMs:a[3]})})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]&&c.i64.eq(b.messageTimestampMs,c.i64.cast([-1,4294967295]))}),function(b){var c=b.update;b.item;return c({messageTimestampMs:a[3]})})},function(a){return a=[!1,c.i64.cast([0,852])],d[16]=a[0],d[17]=a[1],a}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(a){return a["delete"]()})},function(b){return c.db.table(301).add({pk:void 0,messagePayload:a[0],threadId:a[1],offlineThreadingId:a[2],messageTimestampMs:a[3],isLocalOnlyMessage:a[4],extraData:a[5]})},function(a){return a=[!0,void 0],d[16]=a[0],d[17]=a[1],a}])},function(a){return a=[d[16],d[17]],d[12]=a[0],d[13]=a[1],a}])},function(a){return a=[d[12],d[13]],d[4]=a[0],d[5]=a[1],a}]):c.sequence([function(b){return c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[12]=!1:(a.item,d[12]=!0)})},function(b){return d[12]?c.sequence([function(b){return c.forEach(c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(b){var c=b.update;b.item;return c({deletedMessagePayload:a[0],isLocalOnlyMessage:a[4],messageTimestampMs:a[3]})})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]&&c.i64.eq(b.messageTimestampMs,c.i64.cast([-1,4294967295]))}),function(b){var c=b.update;b.item;return c({messageTimestampMs:a[3]})})},function(a){return a=[!1,c.i64.cast([0,852])],d[14]=a[0],d[15]=a[1],a}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(a){return a["delete"]()})},function(b){return c.db.table(301).add({pk:void 0,messagePayload:a[0],threadId:a[1],offlineThreadingId:a[2],messageTimestampMs:a[3],isLocalOnlyMessage:a[4],extraData:a[5]})},function(a){return a=[!0,void 0],d[14]=a[0],d[15]=a[1],a}])},function(a){return a=[d[14],d[15]],d[4]=a[0],d[5]=a[1],a}])},function(a){return d[6]=c.i64.of_float(Date.now()),d[7]=c.i64.random(),d[9]="Finishing execution. Execution time: ",d[10]=c.i64.to_string(c.i64.sub(d[6],d[0])),d[11]=" ms",d[8]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][writeTopLevelMessage] ",d[8],d[9],d[8],d[10],d[8],d[11]].join("")),c.i64.eq(c.i64.mod_(d[7],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[12]=",",d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"writeTopLevelMessage",[d[9],d[12],d[10],d[12],d[11]].join(""),d[13],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[4],d[5]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMPSWriteTopLevelMessageStoredProcedure";a.__tables__=["local_message_persistence_store","local_message_persistence_store_deleted_messages"];e.exports=a}),null);
__d("LSWriteTopLevelMessageStoredProcedure",["LSSynchronousPromise","LSWriteTopLevelMessage","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSWriteTopLevelMessage"),e.messagePayload,e.threadId,e.offlineThreadingId,e.messageTimestampMs,e.isLocalOnlyMessage,e.extraData);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MessageBackupTagsDelimiter",[],(function(a,b,c,d,e,f){"use strict";a=":";f.INSTAMADILLO_TAG_DELIMITER=a}),66);
__d("EncryptedBackupsWriteToMPSTables",["EncryptedBackupsUploadEntity","FBLogger","I64","IGDWEBUploadMessageUtils","LSFactory","LSWriteSupplementalMessageStoredProcedure","LSWriteTopLevelMessageStoredProcedure","MessageBackupTagsDelimiter","WAErrorMessage","WAGetSafeQPLError","WAResultOrError","asyncToGeneratorRuntime","gkx","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("ReverbWriteFailureFalcoEvent").__setRef("EncryptedBackupsWriteToMPSTables"),j=c("requireDeferred")("ReverbWriteSuccessFalcoEvent").__setRef("EncryptedBackupsWriteToMPSTables"),k=c("gkx")("8488");function l(a,b,d,e,f,g){e?c("promiseDone")(j.load(),function(c){return c.log(function(){return{backup_action:d,backup_protocol:f,labyrinth_version:0,message_id:a,thread_id:b}})}):c("promiseDone")(i.load(),function(c){return c.log(function(){return{backup_action:d,backup_protocol:f,failure_reason:g,labyrinth_version:0,message_id:a,thread_id:b}})})}function a(a,b,c,d,e){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var i=b.backupActionType,j=b.instamadilloItemId,m=b.msgId,n=b.originalMsgProtocolId,o=b.protobuf,p=b.serverTs,q=b.sortOrderMs;b=b.supplementalKey;g==null||g.addPoint("mps_tables_write_start");m=m.externalId;n=n==null?void 0:n.externalId;j=j!=null?j:q;if(j==null){g==null||g.addPoint("mps_tables_write_missing_protobuf_ts");return d("WAResultOrError").makeError({errorCode:null,errorMsg:"protobufTimestampMs is null when writing to MPS tables"})}q=(h||(h=d("I64"))).of_float(j);j=!1;var r=k?"protobuf_only":"dual_upload";f&&(r="open_eb_ttlc");f=null;switch(i){case 1:g==null||g.addPoint("mps_top_level_write_start");try{i=(yield c("LSWriteTopLevelMessageStoredProcedure")(c("LSFactory")(a),{isLocalOnlyMessage:!1,messagePayload:d("EncryptedBackupsUploadEntity").getEbBackupMessageBytesBuffer(o),messageTimestampMs:q,offlineThreadingId:m,threadId:e}));var s=i[0];i=i[1];f=i;s&&(j=!0);l(m,e,"upsert_top_level",s,r);g==null||g.addPoint("mps_top_level_write",{bool:{mps_top_level_write_succesful:s}})}catch(a){l(m,e,"upsert_top_level",!1,r,d("WAErrorMessage").maybeGetMessageFromError(a)),g==null||g.addPoint("mps_top_level_write_error",{string:{mps_top_level_write_error:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}})}break;case 2:g==null||g.addPoint("mps_supplemental_write_start");if(n==null||b==null)l(m,e,"upsert_supplemental",!1,r),c("FBLogger")("wmi_eb").warn("Missing toplevelOfflineThreadingId or supplementalKey when writing to MPS tables");else try{i=(yield c("LSWriteSupplementalMessageStoredProcedure")(c("LSFactory")(a),{messagePayload:d("EncryptedBackupsUploadEntity").getEbBackupMessageBytesBuffer(o),messageTimestampMs:q,offlineThreadingId:m,supplementalKey:b,threadId:e,toplevelOfflineThreadingId:n}));s=i[0];q=i[1];f=q;s&&(j=!0);l(m,e,"upsert_supplemental",s,r);g==null||g.addPoint("mps_supplemental_write",{bool:{mps_supplemental_write_successful:s}})}catch(a){l(m,e,"upsert_supplemental",!1,r,d("WAErrorMessage").maybeGetMessageFromError(a)),g==null||g.addPoint("mps_supplemental_write_error",{string:{mps_supplemental_write_error:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}})}break;case 4:g==null||g.addPoint("mps_delete_top_level_with_placeholder_write_start");if(n==null)break;try{b=(yield c("LSWriteTopLevelMessageStoredProcedure")(c("LSFactory")(a),{isLocalOnlyMessage:!1,messagePayload:d("EncryptedBackupsUploadEntity").getEbBackupMessageBytesBuffer(o),messageTimestampMs:(h||(h=d("I64"))).of_float(d("IGDWEBUploadMessageUtils").generateProtobufServerTs(n,p)),offlineThreadingId:m,threadId:e}));i=b[0];q=b[1];f=q;i&&(j=!0);l(n,e,"delete_top_level",i,r);g==null||g.addPoint("mps_delete_top_level_with_placeholder_write",{bool:{mps_delete_top_level_with_placeholder_write_successful:i}})}catch(a){l(n,e,"delete_top_level_with_placeholder",!1,r,d("WAErrorMessage").maybeGetMessageFromError(a)),g==null||g.addPoint("mps_delete_top_level_with_placeholder_write_error",{string:{mps_delete_top_level_with_placeholder_write_error:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}})}break;case 3:j=!0;n!=null&&l(n,e,"delete_top_level",!1,r);break;default:g==null||g.addPoint("mps_write_unsupported_backup_action_type"),c("FBLogger")("wmi_eb").warn("Unsupported backupActionType when writing to MPS tables")}if(j){g==null||g.addPoint("mps_write_successful");return d("WAResultOrError").makeResult(j)}else{g==null||g.addPoint("mps_write_unsuccessful");return d("WAResultOrError").makeError({errorCode:f,errorMsg:"Unsuccessful writing to MPS tables"})}});return m.apply(this,arguments)}function e(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=b.msgId,f=b.sortOrderMs;b=b.tags;b!=null&&b.length!==0&&f!=null&&(yield a.local_message_persistence_store_tag_index.put({localMessagePersistenceStoreKey:(h||(h=d("I64"))).of_string(e.externalId),messageTimestampMs:h.of_float(f),offlineThreadingId:e.externalId,tag:b.join(d("MessageBackupTagsDelimiter").INSTAMADILLO_TAG_DELIMITER),threadId:c}))});return n.apply(this,arguments)}g.writeToMPSTables=a;g.writeTagsToMPSTables=e}),98);
__d("LSEncryptedBackupsAttachmentErrorCode",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_ERROR:0,UNKNOWN_ERROR:1,MEDIA_TYPE_MISSING:2,PRODUCT_TYPE_MISSING:3,SERIALIZATION_ERROR:21});f["default"]=a}),66);
__d("LSEncryptedBackupsClientRestoreState",[],(function(a,b,c,d,e,f){a=Object.freeze({RESTORE_IN_PROGRESS:1,RESTORE_COMPLETE:2});f["default"]=a}),66);
__d("LSFindBackup",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFindBackupStoredProcedure] Beginning execution."),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[1]=f[0],d[2]=f[1],d[3]=f[2],d[4]=f[3],d[5]=f[4],d[6]=f[5],d[7]=f[6],d[8]=f[7],d[9]=f[8],d[10]=f[9],d[11]=f[10],d[12]=f[11],d[13]=f[12],d[14]=f[13],d[15]=f[14],d[16]=f[15],d[17]=f[16],d[18]=f[17],f):(e=a.item,c.sequence([function(a){return d[32]=e.backupTenancy,d[31]=e.encryptionVersion,d[27]=void 0,c.i64.neq(d[27],void 0)?c.resolve(d[28]=d[27]):c.sequence([function(a){return d[33]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[43]=(d[33].push(c.i64.cast([0,0])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[43]=(d[33].push(c.i64.cast([0,2])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[43]=(d[33].push(c.i64.cast([0,3])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[43]=(d[33].push(c.i64.cast([0,4])),d[33]):0,d[38]=c.createArray(),d[39]=c.i64.of_int32(d[33].length),c.i64.gt(d[39],c.i64.cast([0,0]))?c.loopAsync(d[39],function(a){return d[43]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[33],d[43]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],a})},function(a){return d[46]=(d[38].push(d[44]),d[38])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[43]=c.createArray(),d[44]=c.i64.of_int32(d[38].length),c.i64.gt(d[44],c.i64.cast([0,0]))?c.loopAsync(d[44],function(a){return d[46]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[38],d[46]).then(function(a){return a=a,d[47]=a[0],d[48]=a[1],a})},function(a){return d[49]=(d[43].push(c.i64.to_string(d[47])),d[43])}])}):c.resolve()},function(a){return d[45]=d[43].join(","),d[40]=d[45]}])},function(a){return d[38].some(function(a){return c.i64.eq(d[31],a)})?d[41]=d[31]:d[41]=void 0,c.i64.neq(d[41],void 0)?d[42]=d[41]:d[42]=void 0,d[28]=d[42]}])},function(a){return c.i64.neq(d[28],void 0)?d[29]=d[28]:d[29]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[30]=d[32]:d[30]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[29],d[30],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[1]=a[0],d[2]=a[1],d[3]=a[2],d[4]=a[3],d[5]=a[4],d[6]=a[5],d[7]=a[6],d[8]=a[7],d[9]=a[8],d[10]=a[9],d[11]=a[10],d[12]=a[11],d[13]=a[12],d[14]=a[13],d[15]=a[14],d[16]=a[15],d[17]=a[16],d[18]=a[17]}]))})},function(a){return c.i64.neq(d[1],void 0)?d[20]=c.i64.to_string(d[1]):d[20]=void 0,d[21]=c.i64.of_float(Date.now()),d[22]=c.i64.random(),d[24]="Finishing execution. Execution time: ",d[25]=c.i64.to_string(c.i64.sub(d[21],d[0])),d[26]=" ms",d[23]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsFindBackupStoredProcedure] ",d[23],d[24],d[23],d[25],d[23],d[26]].join("")),c.i64.eq(c.i64.mod_(d[22],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[27]=",",d[28]=c.createArray(),void 0!==void 0?d[29]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFindBackupStoredProcedure",[d[24],d[27],d[25],d[27],d[26]].join(""),d[28],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[20]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsFindBackupStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSGetLatestThreadIds.nop",["I64","LSVec","MAWBridgeSafeActionsWorkerAndUI","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=[];e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.mi_act_mapping_table)).then(function(a){return a.map(function(a){a=a.jid;return(i||(i=d("I64"))).to_string(a)})}));if(e.length>0){var g=new Set(e);a.forEach(function(a){g.has(a)&&f.push(a)})}return(h||(h=b("Promise"))).resolve([c("LSVec").ofArray(f),!0])});return k.apply(this,arguments)}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("MAWBridgeSafeActionsWorkerAndUI").sendAndReceiveBackendWorkerAndUIShared("getLatestThreadIds",{numThreads:(i||(i=d("I64"))).to_int32(a)}));return a});return m.apply(this,arguments)}a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k){k===void 0&&(k=!1);if((i||(i=d("I64"))).gt(g,(i||(i=d("I64"))).zero))try{e=(yield l(g));return k?j(e,a):(h||(h=b("Promise"))).resolve([c("LSVec").ofArray(e),!0])}catch(a){return(h||(h=b("Promise"))).resolve([c("LSVec").ofArray([]),!1])}return(h||(h=b("Promise"))).resolve([c("LSVec").ofArray([]),!0])});function e(b,c,d,e,f){return a.apply(this,arguments)}return e}();a.__nop_name__="LSGetLatestThreadIds";g["default"]=a}),98);
__d("LSSerializeAttachmentBackupPayload",["LSArrayGetObjectAt","LSBase64Encode.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSQplAnnotateString.nop","LSQplMarkPoint.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][serializeAttachmentBackupPayload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=void 0,d[3]=c.i64.of_int32(a[0].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(e){return d[17]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[17]).then(function(a){return a=a,d[18]=a[0],d[19]=a[1],a})},function(a){return d[20]=d[18].get("attachment_trace_id"),d[2]=d[20]}])}):c.resolve()},function(a){return d[2]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,637746317]),d[2],"LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure_start"):c.resolve()},function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[17]=new c.Map(),d[17].set("error_msg","Expected a nonempty query result"),d[17].set("code",c.i64.cast([0,3])),d[17].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[18]=c.createArray(),d[19]=(d[18].push(d[17]),d[18]),e=[void 0,d[18]],d[4]=e[0],d[5]=e[1]):(b=a.item,d[17]=new c.Map(),d[17].set("backup_id",b.backupId),d[17].set("device_public_key_blob",b.devicePublicKeyBlob),d[17].set("device_private_key_blob",b.devicePrivateKeyBlob),d[17].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[17].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[17].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[17].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[17].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[17].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[17].set("orf_client_state_v2_blob",void 0),d[17].set("orf_v2_authority_level",void 0),d[17].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[17].set("device_id",b.deviceId),d[17].set("backup_tenancy",b.backupTenancy),d[17].set("encryption_version",b.encryptionVersion),d[17].set("revision_version",b.revisionVersion),d[17].set("initialize_restore_result",void 0),d[17].set("device_creation_timestamp_sec",void 0),d[17].set("authority_level",b.authorityLevel),e=[d[17],void 0],d[4]=e[0],d[5]=e[1])})},function(e){return d[7]=new c.Map(),d[7].set("value",d[4]),d[7].set("errors",d[5]),d[8]=d[7].get("value"),d[8]!==void 0?c.sequence([function(e){return d[17]=d[8].get("backup_id"),d[18]=d[8].get("device_public_key_blob"),d[19]=d[8].get("device_private_key_blob"),d[20]=d[8].get("epoch_storage_public_key_blob"),d[21]=d[8].get("epoch_storage_private_key_blob"),d[22]=d[8].get("epoch_auth_public_key_blob"),d[23]=d[8].get("epoch_auth_private_key_blob"),d[24]=d[8].get("mailbox_root_key_blob"),d[25]=d[8].get("ocmf_client_state_blob"),d[26]=d[8].get("orf_client_state_v2_blob"),d[27]=d[8].get("orf_v2_authority_level"),d[28]=d[8].get("oblivious_validation_token_blob"),d[29]=d[8].get("device_id"),d[30]=d[8].get("backup_tenancy"),d[31]=d[8].get("encryption_version"),d[32]=d[8].get("revision_version"),d[33]=d[8].get("initialize_restore_result"),d[34]=d[8].get("device_creation_timestamp_sec"),d[35]=d[8].get("authority_level"),c.i64.neq(d[29],void 0)?c.sequence([function(a){return d[38]=void 0,c.i64.neq(d[38],void 0)?c.resolve(d[39]=d[38]):c.sequence([function(a){return d[44]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[54]=(d[44].push(c.i64.cast([0,0])),d[44]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[46]?d[54]=(d[44].push(c.i64.cast([0,2])),d[44]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[47]?d[54]=(d[44].push(c.i64.cast([0,3])),d[44]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[48]?d[54]=(d[44].push(c.i64.cast([0,4])),d[44]):0,d[49]=c.createArray(),d[50]=c.i64.of_int32(d[44].length),c.i64.gt(d[50],c.i64.cast([0,0]))?c.loopAsync(d[50],function(a){return d[54]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[44],d[54]).then(function(a){return a=a,d[55]=a[0],d[56]=a[1],a})},function(a){return d[57]=(d[49].push(d[55]),d[49])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[54]=c.createArray(),d[55]=c.i64.of_int32(d[49].length),c.i64.gt(d[55],c.i64.cast([0,0]))?c.loopAsync(d[55],function(a){return d[57]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[49],d[57]).then(function(a){return a=a,d[58]=a[0],d[59]=a[1],a})},function(a){return d[60]=(d[54].push(c.i64.to_string(d[58])),d[54])}])}):c.resolve()},function(a){return d[56]=d[54].join(","),d[51]=d[56]}])},function(a){return d[49].some(function(a){return c.i64.eq(d[31],a)})?d[52]=d[31]:d[52]=void 0,c.i64.neq(d[52],void 0)?d[53]=d[52]:d[53]=void 0,d[39]=d[53]}])},function(e){return c.i64.neq(d[39],void 0)?d[40]=d[39]:d[40]=c.i64.cast([0,0]),c.i64.neq(d[30],void 0)?d[41]=d[30]:d[41]=c.i64.cast([0,1]),c.i64.eq(a[4],c.i64.cast([0,0]))?c.sequence([function(e){return d[44]=c.createArray(),d[45]=c.i64.of_int32(a[0].length),c.i64.gt(d[45],c.i64.cast([0,0]))?c.loopAsync(d[45],function(e){return d[61]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[61]).then(function(a){return a=a,d[62]=a[0],d[63]=a[1],a})},function(a){return d[64]=d[62].get("media_type"),d[65]=d[62].get("zippy_object_id"),d[66]=d[65],c.like(d[66],"%.%")||c.like(d[66],"%\ufffd%")?(d[86]=["Object ID: ",d[66]].join(""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure] ",d[86]].join("")),d[85]=c.createArray(),void 0!==void 0?d[87]=(d[85].push(void 0),d[85]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure",d[86],d[85],c.i64.cast([0,4]))):c.resolve()},function(e){return d[67]=d[62].get("attachment_trace_id"),d[68]=c.createArray(),d[85]=(d[68].push(c.i64.to_string(d[17])),d[68]),d[85]=(d[68].push(d[66]),d[68]),d[69]=c.toJSON(d[68]),d[70]=c.createArray(),d[85]=(d[70].push(a[1]),d[70]),d[85]=(d[70].push(d[66]),d[70]),d[71]=c.toJSON(d[70]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[69]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[72]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[73]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[74]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[71]).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[76]).then(function(a){return a=a,d[77]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[77]).then(function(a){return a=a,d[78]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[78]).then(function(a){return a=a,d[79]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[69]).then(function(a){return a=a,d[80]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[80]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[81]).then(function(a){return a=a,d[82]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[82]).then(function(a){return a=a,d[83]=a[0],a})},function(a){return d[84]=new c.Map(),d[84].set("attachment_index_key",d[75]==null?"":d[75]),d[84].set("media_type",d[64]),d[84].set("zippy_object_id",d[66]),d[84].set("attachment_trace_id",d[67]),d[84].set("salt_partial_access_token",d[79]==null?"":d[79]),d[84].set("salt_partial_attachment_index_key",d[83]==null?"":d[83]),d[85]=(d[44].push(d[84]),d[44])}])}):c.resolve()},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[1]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[46]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[47]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[1]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[2]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(b){return d[58]=new c.Map(),d[58].set("attachment_infos",d[44]),d[58].set("message_partial_id",d[49]==null?"":d[49]),d[58].set("product_type",a[3]),d[58].set("salt_partial_id",d[53]==null?"":d[53]),d[58].set("thread_partial_id",d[57]==null?"":d[57]),d[59]=c.toJSON(d[58]),d[60]=new c.Map(),d[60].set("payload",d[59]),b=[d[60],void 0],d[42]=b[0],d[43]=b[1]}]):c.sequence([function(e){return a[5]!==void 0?d[44]=a[5]:d[44]="",d[45]=".",d[47]=["LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure",d[45],d[44],d[45],c.i64.to_string(c.i64.cast([-1,4294967295]))].join(""),d[2]!==void 0?d[47]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,637746317]),d[2],"attachment_error",d[47]):c.resolve():c.resolve()},function(a){return d[46]=new c.Map(),d[46].set("error_code",c.i64.cast([-1,4294967295])),d[46].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[46].set("error_message",d[44]),a=[void 0,d[46]],d[42]=a[0],d[43]=a[1]}])},function(a){return a=[d[42],d[43]],d[36]=a[0],d[37]=a[1],a}]):c.sequence([function(a){return d[38]=".",d[40]=["LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure",d[38],"Error while reading client state",d[38],c.i64.to_string(c.i64.cast([0,24]))].join(""),d[2]!==void 0?d[40]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,637746317]),d[2],"attachment_error",d[40]):c.resolve():c.resolve()},function(a){return d[39]=new c.Map(),d[39].set("error_code",c.i64.cast([0,24])),d[39].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[39].set("error_message",""),a=[void 0,d[39]],d[36]=a[0],d[37]=a[1]}])},function(a){return a=[d[36],d[37]],d[9]=a[0],d[10]=a[1],a}]):c.sequence([function(a){return d[17]=d[7].get("errors"),d[18]=d[7].get("errors"),d[19]=".",d[21]=["LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure",d[19],"Error while reading client state",d[19],c.i64.to_string(c.i64.cast([0,1]))].join(""),d[2]!==void 0?d[21]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,637746317]),d[2],"attachment_error",d[21]):c.resolve():c.resolve()},function(a){return d[20]=new c.Map(),d[20].set("error_code",c.i64.cast([0,1])),d[20].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[20].set("error_message",""),a=[void 0,d[20]],d[9]=a[0],d[10]=a[1]}])},function(a){return d[11]=c.i64.of_float(Date.now()),d[12]=c.i64.random(),d[14]="Finishing execution. Execution time: ",d[15]=c.i64.to_string(c.i64.sub(d[11],d[0])),d[16]=" ms",d[13]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][serializeAttachmentBackupPayload] ",d[13],d[14],d[13],d[15],d[13],d[16]].join("")),c.i64.eq(c.i64.mod_(d[12],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[17]=",",d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"serializeAttachmentBackupPayload",[d[14],d[17],d[15],d[17],d[16]].join(""),d[18],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[9],d[10]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSWriteToPendingProtobufBackupsContextV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(305).add({pk:void 0,pendingBackupTaskId:a[0],actThreadId:a[1],toplevelOfflineThreadingId:a[2],supplementalOfflineThreadingId:a[3],messageTimestampMs:a[6],backupAction:a[7],supplementalKey:a[5],attachmentPayload:a[8],senderId:a[9],deletionOfflineThreadingId:a[4]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSEncryptedBackupsWriteToPendingProtobufBackupsContextV2StoredProcedure";a.__tables__=["pending_protobuf_backups_context"];e.exports=a}),null);
__d("LSIssueMessageBackup",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop","LSSerializeAttachmentBackupPayload","LSWriteToPendingProtobufBackupsContextV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueMessageBackup] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[15]=new c.Map(),d[15].set("error_msg","Expected a nonempty query result"),d[15].set("code",c.i64.cast([0,3])),d[15].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[16]=c.createArray(),d[17]=(d[16].push(d[15]),d[16]),e=[void 0,d[16]],d[2]=e[0],d[3]=e[1]):(b=a.item,d[15]=new c.Map(),d[15].set("backup_id",b.backupId),d[15].set("device_public_key_blob",b.devicePublicKeyBlob),d[15].set("device_private_key_blob",b.devicePrivateKeyBlob),d[15].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[15].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[15].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[15].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[15].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[15].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[15].set("orf_client_state_v2_blob",void 0),d[15].set("orf_v2_authority_level",void 0),d[15].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[15].set("device_id",b.deviceId),d[15].set("backup_tenancy",b.backupTenancy),d[15].set("encryption_version",b.encryptionVersion),d[15].set("revision_version",b.revisionVersion),d[15].set("initialize_restore_result",void 0),d[15].set("device_creation_timestamp_sec",void 0),d[15].set("authority_level",b.authorityLevel),e=[d[15],void 0],d[2]=e[0],d[3]=e[1])})},function(e){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(e){return d[15]=d[6].get("backup_id"),d[16]=d[6].get("device_public_key_blob"),d[17]=d[6].get("device_private_key_blob"),d[18]=d[6].get("epoch_storage_public_key_blob"),d[19]=d[6].get("epoch_storage_private_key_blob"),d[20]=d[6].get("epoch_auth_public_key_blob"),d[21]=d[6].get("epoch_auth_private_key_blob"),d[22]=d[6].get("mailbox_root_key_blob"),d[23]=d[6].get("ocmf_client_state_blob"),d[24]=d[6].get("orf_client_state_v2_blob"),d[25]=d[6].get("orf_v2_authority_level"),d[26]=d[6].get("oblivious_validation_token_blob"),d[27]=d[6].get("device_id"),d[28]=d[6].get("backup_tenancy"),d[29]=d[6].get("encryption_version"),d[30]=d[6].get("revision_version"),d[31]=d[6].get("initialize_restore_result"),d[32]=d[6].get("device_creation_timestamp_sec"),d[33]=d[6].get("authority_level"),c.i64.neq(d[27],void 0)?c.sequence([function(a){return d[36]=void 0,c.i64.neq(d[36],void 0)?c.resolve(d[37]=d[36]):c.sequence([function(a){return d[48]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[49]=a[0],a})},function(a){return d[49]?d[58]=(d[48].push(c.i64.cast([0,0])),d[48]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[50]=a[0],a})},function(a){return d[50]?d[58]=(d[48].push(c.i64.cast([0,2])),d[48]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[51]=a[0],a})},function(a){return d[51]?d[58]=(d[48].push(c.i64.cast([0,3])),d[48]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[52]=a[0],a})},function(a){return d[52]?d[58]=(d[48].push(c.i64.cast([0,4])),d[48]):0,d[53]=c.createArray(),d[54]=c.i64.of_int32(d[48].length),c.i64.gt(d[54],c.i64.cast([0,0]))?c.loopAsync(d[54],function(a){return d[58]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[58]).then(function(a){return a=a,d[59]=a[0],d[60]=a[1],a})},function(a){return d[61]=(d[53].push(d[59]),d[53])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[58]=c.createArray(),d[59]=c.i64.of_int32(d[53].length),c.i64.gt(d[59],c.i64.cast([0,0]))?c.loopAsync(d[59],function(a){return d[61]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[53],d[61]).then(function(a){return a=a,d[62]=a[0],d[63]=a[1],a})},function(a){return d[64]=(d[58].push(c.i64.to_string(d[62])),d[58])}])}):c.resolve()},function(a){return d[60]=d[58].join(","),d[55]=d[60]}])},function(a){return d[53].some(function(a){return c.i64.eq(d[29],a)})?d[56]=d[29]:d[56]=void 0,c.i64.neq(d[56],void 0)?d[57]=d[56]:d[57]=void 0,d[37]=d[57]}])},function(e){var f;return c.i64.neq(d[37],void 0)?d[38]=d[37]:d[38]=c.i64.cast([0,0]),c.i64.neq(d[28],void 0)?d[39]=d[28]:d[39]=c.i64.cast([0,1]),c.sequence([function(e){return a[11]!==void 0?c.sequence([function(e){return d[50]=a[11].get("attachment_infos"),d[51]=a[11].get("attachment_infos"),d[52]=a[11].get("product_type"),d[53]=a[11].get("error"),d[54]=a[11].get("error_message"),c.storedProcedure(b("LSSerializeAttachmentBackupPayload"),d[51],a[1],a[0],d[52],d[53],d[54]).then(function(a){return a=a,d[55]=a[0],d[56]=a[1],a})},function(a){return d[55]?d[57]=!1:d[57]=!0,d[57]?c.sequence([function(a){return d[56]?d[63]=!1:d[63]=!0,d[63]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Invalid Attachment payload generated"),d[68]="Invalid Attachment payload generated",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ","",d[68]].join("")),d[67]=c.createArray(),void 0!==void 0?d[69]=(d[67].push(void 0),d[67]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[68],d[67],c.i64.cast([0,3]))},function(a){return a=[void 0,void 0,d[50]],d[64]=a[0],d[65]=a[1],d[66]=a[2],a}]):c.resolve((a=[void 0,d[56],d[50]],d[64]=a[0],d[65]=a[1],d[66]=a[2],a))},function(a){return a=[d[64],d[65],d[66]],d[58]=a[0],d[59]=a[1],d[60]=a[2],a}]):c.resolve((d[63]=d[55].get("payload"),a=[d[63],void 0,d[50]],d[58]=a[0],d[59]=a[1],d[60]=a[2]))},function(b){return d[63]=new c.Map(),d[64]=d[63].set("success",d[58]),d[65]=d[63].set("failure",d[59]),d[66]=d[63].set("upload_context",d[60]),d[67]=c.toJSON(d[63]),d[61]=d[67],d[62]=a[11].get("error"),b=[d[61],d[62]],d[48]=b[0],d[49]=b[1]}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Null Attachments for the message"),e=[void 0,void 0],d[48]=e[0],d[49]=e[1]))},function(a){return a=[d[48],d[49]],d[40]=a[0],d[41]=a[1],a}])},function(e){return d[46]=c.i64.add(c.i64.mul(c.i64.div(a[2],c.i64.cast([0,1e3])),c.i64.cast([0,1e3])),c.i64.div(c.i64.mod_(c.i64.and_(c.i64.asr_(c.i64.from_string(a[1]),c.i64.to_int32(c.i64.cast([0,22]))),c.i64.cast([511,4294967295])),c.i64.cast([0,1e5])),c.i64.cast([0,100]))),a[9]!==void 0?(d[48]=a[9].get("backup_action"),c.i64.eq(d[48],c.i64.cast([0,4]))?d[49]=a[2]:d[49]=d[46],d[42]=d[49]):d[42]=d[46],d[47]=["Sort Key (",c.i64.to_string(d[42]),") is not in MS. ","auth_ts (",c.i64.to_string(a[2]),"), otid (",a[1],")"].join(""),c.i64.lt(d[42],c.i64.cast([2,1410065408]))?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ","",d[47]].join("")),d[48]=c.createArray(),void 0!==void 0?d[49]=(d[48].push(void 0),d[48]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[47],d[48],c.i64.cast([0,3]))):c.i64.gt(c.i64.sub(d[42],c.i64.cast([249,3468343296])),c.i64.cast([255,4294967295]))?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ","",d[47]].join("")),d[48]=c.createArray(),void 0!==void 0?d[49]=(d[48].push(void 0),d[48]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[47],d[48],c.i64.cast([0,3]))):c.resolve()},function(e){return d[43]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["eb_upload",":",a[0]].join(""),c.i64.cast([0,50026]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),void 0,c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[43],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[43],c.i64.cast([0,0])))),c.i64.cast([0,0])).then(function(a){return a=a,d[44]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[44],actionType:c.i64.cast([0,1]),contentType:c.i64.cast([0,1]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[1],sortKey:c.i64.to_string(d[42]),persistentId:"",isInstamadillo:a[12],echoContent:a[4],lsTraceId:a[5],error:a[6],echoEncodingLatencyNs:a[7],errorMessage:a[8],attachmentPayload:d[40],attachmentErrorCode:d[41]})},function(b){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?(d[48]=c.createArray(),d[50]=(d[48].push("Successfully issued message backup task. act thread id = "),d[48]),d[50]=(d[48].push(a[0]),d[48]),d[50]=(d[48].push(", otid = "),d[48]),d[50]=(d[48].push(a[1]),d[48]),d[49]=d[48].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[49]].join("")),c.resolve()):(d[48]=c.createArray(),d[50]=(d[48].push("Successfully issued message remove task. act thread id = "),d[48]),d[50]=(d[48].push(a[0]),d[48]),d[50]=(d[48].push(", otid = "),d[48]),d[50]=(d[48].push(a[1]),d[48]),d[49]=d[48].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[49]].join("")),c.resolve()):(d[48]=c.createArray(),d[50]=(d[48].push("Successfully issued thread remove task. act thread id = "),d[48]),d[50]=(d[48].push(a[0]),d[48]),d[49]=d[48].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[49]].join("")),c.resolve())},function(e){return a[9]!==void 0?c.sequence([function(e){return d[48]=a[9].get("act_thread_id"),d[49]=a[9].get("backup_action"),d[50]=a[9].get("toplevel_offline_threading_id"),d[51]=a[9].get("supplemental_offline_threading_id"),d[52]=a[9].get("message_timestamp_ms"),d[53]=a[9].get("supplemental_key"),d[54]=a[9].get("attachment_payload"),d[55]=a[9].get("extra_data_for_eb_upload"),d[56]=a[9].get("message_protobuf"),d[57]=a[9].get("deletion_offline_threading_id"),c.storedProcedure(b("LSWriteToPendingProtobufBackupsContextV2"),d[44],d[48],d[50],d[51],d[57],d[53],d[52],d[49],d[54],void 0,d[56],d[55])},function(e){return d[58]=a[9].get("backup_action"),c.i64.neq(d[42],a[2])?(d[60]=["Sort key (",c.i64.to_string(d[42]),") and authoritative_ts (",c.i64.to_string(a[2]),") are not equal given OTID (",a[1],") for event type: ",c.i64.to_string(d[58])].join(""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ",d[60]].join("")),d[59]=c.createArray(),void 0!==void 0?d[61]=(d[59].push(void 0),d[59]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[60],d[59],c.i64.cast([0,4]))):c.resolve()}]):c.i64.neq(d[42],a[2])?(d[49]=["Sort key (",c.i64.to_string(d[42]),") and authoritative_ts (",c.i64.to_string(a[2]),") are not equal given OTID (",a[1],") for event type: ",c.i64.to_string(c.i64.cast([-1,4294967295]))].join(""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ",d[49]].join("")),d[48]=c.createArray(),void 0!==void 0?d[50]=(d[48].push(void 0),d[48]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[49],d[48],c.i64.cast([0,4]))):c.resolve()},function(a){return d[45]=new c.Map(),d[45].set("task_id",d[44]),a=[d[45],void 0],d[34]=a[0],d[35]=a[1]}]):c.sequence([function(b){return d[36]=c.createArray(),d[39]=(d[36].push("Skipping the message upload since EB is disabled. act thread id = "),d[36]),d[39]=(d[36].push(a[0]),d[36]),d[39]=(d[36].push(", otid = "),d[36]),d[39]=(d[36].push(a[1]),d[36]),d[37]=d[36].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[37]].join("")),c.resolve()},function(a){return d[38]=new c.Map(),d[38].set("error_code",c.i64.cast([0,24])),d[38].set("stored_procedure","LSEncryptedBackupsIssueMessageBackupStoredProcedure"),d[38].set("error_message",""),a=[void 0,d[38]],d[34]=a[0],d[35]=a[1]}])},function(a){return a=[d[34],d[35]],d[7]=a[0],d[8]=a[1],a}]):c.sequence([function(b){return d[15]=d[5].get("errors"),d[16]=d[5].get("errors"),d[17]=c.createArray(),d[20]=(d[17].push("Skipping the message upload since EB is disabled. act thread id = "),d[17]),d[20]=(d[17].push(a[0]),d[17]),d[20]=(d[17].push(", otid = "),d[17]),d[20]=(d[17].push(a[1]),d[17]),d[18]=d[17].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[18]].join("")),c.resolve()},function(a){return d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,1])),d[19].set("stored_procedure","LSEncryptedBackupsIssueMessageBackupStoredProcedure"),d[19].set("error_message",""),a=[void 0,d[19]],d[7]=a[0],d[8]=a[1]}])},function(a){return d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueMessageBackup",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[7],d[8]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueMessageBackupStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2"];e.exports=a}),null);
__d("LSIssueMessageBackupStoredProcedure",["LSIssueMessageBackup","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueMessageBackup"),e.actThreadId,e.otid,e.authoritativeTs,e.source,e.echoDocument,e.traceId,e.error,e.echoEncodingLatencyNs,e.errorMessage,e.protobufBackupContext,e.tamThreadSubtype,e.attachmentBackupContext,e.isInstamadillo);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssueMessageRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueMessageRemove] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[15]=new c.Map(),d[15].set("error_msg","Expected a nonempty query result"),d[15].set("code",c.i64.cast([0,3])),d[15].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[16]=c.createArray(),d[17]=(d[16].push(d[15]),d[16]),e=[void 0,d[16]],d[2]=e[0],d[3]=e[1]):(b=a.item,d[15]=new c.Map(),d[15].set("backup_id",b.backupId),d[15].set("device_public_key_blob",b.devicePublicKeyBlob),d[15].set("device_private_key_blob",b.devicePrivateKeyBlob),d[15].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[15].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[15].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[15].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[15].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[15].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[15].set("orf_client_state_v2_blob",void 0),d[15].set("orf_v2_authority_level",void 0),d[15].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[15].set("device_id",b.deviceId),d[15].set("backup_tenancy",b.backupTenancy),d[15].set("encryption_version",b.encryptionVersion),d[15].set("revision_version",b.revisionVersion),d[15].set("initialize_restore_result",void 0),d[15].set("device_creation_timestamp_sec",void 0),d[15].set("authority_level",b.authorityLevel),e=[d[15],void 0],d[2]=e[0],d[3]=e[1])})},function(e){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(e){return d[15]=d[6].get("backup_id"),d[16]=d[6].get("device_public_key_blob"),d[17]=d[6].get("device_private_key_blob"),d[18]=d[6].get("epoch_storage_public_key_blob"),d[19]=d[6].get("epoch_storage_private_key_blob"),d[20]=d[6].get("epoch_auth_public_key_blob"),d[21]=d[6].get("epoch_auth_private_key_blob"),d[22]=d[6].get("mailbox_root_key_blob"),d[23]=d[6].get("ocmf_client_state_blob"),d[24]=d[6].get("orf_client_state_v2_blob"),d[25]=d[6].get("orf_v2_authority_level"),d[26]=d[6].get("oblivious_validation_token_blob"),d[27]=d[6].get("device_id"),d[28]=d[6].get("backup_tenancy"),d[29]=d[6].get("encryption_version"),d[30]=d[6].get("revision_version"),d[31]=d[6].get("initialize_restore_result"),d[32]=d[6].get("device_creation_timestamp_sec"),d[33]=d[6].get("authority_level"),c.i64.neq(d[27],void 0)?c.sequence([function(a){return d[36]=void 0,c.i64.neq(d[36],void 0)?c.resolve(d[37]=d[36]):c.sequence([function(a){return d[43]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[44]?d[53]=(d[43].push(c.i64.cast([0,0])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[53]=(d[43].push(c.i64.cast([0,2])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[46]?d[53]=(d[43].push(c.i64.cast([0,3])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[47]?d[53]=(d[43].push(c.i64.cast([0,4])),d[43]):0,d[48]=c.createArray(),d[49]=c.i64.of_int32(d[43].length),c.i64.gt(d[49],c.i64.cast([0,0]))?c.loopAsync(d[49],function(a){return d[53]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[43],d[53]).then(function(a){return a=a,d[54]=a[0],d[55]=a[1],a})},function(a){return d[56]=(d[48].push(d[54]),d[48])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[53]=c.createArray(),d[54]=c.i64.of_int32(d[48].length),c.i64.gt(d[54],c.i64.cast([0,0]))?c.loopAsync(d[54],function(a){return d[56]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[56]).then(function(a){return a=a,d[57]=a[0],d[58]=a[1],a})},function(a){return d[59]=(d[53].push(c.i64.to_string(d[57])),d[53])}])}):c.resolve()},function(a){return d[55]=d[53].join(","),d[50]=d[55]}])},function(a){return d[48].some(function(a){return c.i64.eq(d[29],a)})?d[51]=d[29]:d[51]=void 0,c.i64.neq(d[51],void 0)?d[52]=d[51]:d[52]=void 0,d[37]=d[52]}])},function(e){return c.i64.neq(d[37],void 0)?d[38]=d[37]:d[38]=c.i64.cast([0,0]),c.i64.neq(d[28],void 0)?d[39]=d[28]:d[39]=c.i64.cast([0,1]),d[40]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["eb_upload",":",a[0]].join(""),c.i64.cast([0,50026]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),void 0,c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[40],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[40],c.i64.cast([0,0])))),c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[41],actionType:c.i64.cast([0,2]),contentType:c.i64.cast([0,1]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[1],sortKey:c.i64.to_string(c.i64.add(c.i64.mul(c.i64.div(a[2],c.i64.cast([0,1e3])),c.i64.cast([0,1e3])),c.i64.div(c.i64.mod_(c.i64.and_(c.i64.asr_(c.i64.from_string(a[1]),c.i64.to_int32(c.i64.cast([0,22]))),c.i64.cast([511,4294967295])),c.i64.cast([0,1e5])),c.i64.cast([0,100])))),persistentId:"",isInstamadillo:!1,lsTraceId:a[4],error:a[5]})},function(b){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued message backup task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[45]=(d[43].push(", otid = "),d[43]),d[45]=(d[43].push(a[1]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[44]].join("")),c.resolve()):(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued message remove task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[45]=(d[43].push(", otid = "),d[43]),d[45]=(d[43].push(a[1]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[44]].join("")),c.resolve()):(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued thread remove task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[44]].join("")),c.resolve())},function(a){return d[42]=new c.Map(),d[42].set("task_id",d[41]),a=[d[42],void 0],d[34]=a[0],d[35]=a[1]}]):c.sequence([function(b){return d[36]=c.createArray(),d[39]=(d[36].push("Skipping message upload since EB is disabled. act thread id = "),d[36]),d[39]=(d[36].push(a[0]),d[36]),d[39]=(d[36].push(", otid = "),d[36]),d[39]=(d[36].push(a[1]),d[36]),d[37]=d[36].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[37]].join("")),c.resolve()},function(a){return d[38]=new c.Map(),d[38].set("error_code",c.i64.cast([0,24])),d[38].set("stored_procedure","LSEncryptedBackupsIssueMessageRemoveStoredProcedure"),d[38].set("error_message",""),a=[void 0,d[38]],d[34]=a[0],d[35]=a[1]}])},function(a){return a=[d[34],d[35]],d[7]=a[0],d[8]=a[1],a}]):c.sequence([function(b){return d[15]=d[5].get("errors"),d[16]=d[5].get("errors"),d[17]=c.createArray(),d[20]=(d[17].push("Skipping message upload since EB is disabled. act thread id = "),d[17]),d[20]=(d[17].push(a[0]),d[17]),d[20]=(d[17].push(", otid = "),d[17]),d[20]=(d[17].push(a[1]),d[17]),d[18]=d[17].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[18]].join("")),c.resolve()},function(a){return d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,1])),d[19].set("stored_procedure","LSEncryptedBackupsIssueMessageRemoveStoredProcedure"),d[19].set("error_message",""),a=[void 0,d[19]],d[7]=a[0],d[8]=a[1]}])},function(a){return d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueMessageRemove",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[7],d[8]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueMessageRemoveStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2"];e.exports=a}),null);
__d("LSIssueMessageRemoveStoredProcedure",["LSIssueMessageRemove","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueMessageRemove"),e.actThreadId,e.otid,e.authoritativeTs,e.source,e.traceId,e.error);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSTamThreadSubtype",[],(function(a,b,c,d,e,f){a=Object.freeze({STANDARD:0,VANISH_MODE:1,DUAL_SEND_SHADOW:2,BTV_COMPANION:3,BLEND_DUAL_SEND:4,BLEND_DUAL_SEND_NO_NETWORK:5});f["default"]=a}),66);
__d("isStringNullOrWhitespaceOnly",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==null||a.trim()===""}f["default"]=a}),66);
__d("MAWMemoriesShareXMASnippetFbt",["fbt","isStringNullOrWhitespaceOnly"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){return h._(/*BTDS*/"You sent a memory")};b=function(a){return c("isStringNullOrWhitespaceOnly")(a)?h._(/*BTDS*/"This user sent a memory"):h._(/*BTDS*/"{user_name} sent a memory",[h._param("user_name",a)])};g.getCurrentUserSendMemoriesShareSnippetFbt=a;g.getParticipantSendMemoriesShareSnippetFbt=b}),226);
__d("MAWPostMentionXMASnippetFbt",["fbt","isStringNullOrWhitespaceOnly"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return c("isStringNullOrWhitespaceOnly")(a)?h._(/*BTDS*/"You tagged this user in your post"):h._(/*BTDS*/"You tagged {user_name} in your post",[h._param("user_name",a)])};b=function(a){return c("isStringNullOrWhitespaceOnly")(a)?h._(/*BTDS*/"This user tagged you in their post"):h._(/*BTDS*/"{user_name} tagged you in their post",[h._param("user_name",a)])};g.getCurrentUserSendPostMentionSnippetFbt=a;g.getParticipantSendPostMentionSnippetFbt=b}),226);
__d("getMAWLocalizedBumpMsgReplySnippet",["fbt","FBLogger"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,d){switch(a){case"currentUserBumpedOwnMessage":return h._(/*BTDS*/"You bumped your message");case"currentUserBumpedMessage":return d!=null?h._(/*BTDS*/"You bumped {name}'s message",[h._param("name",d)]):h._(/*BTDS*/"You bumped a message");case"participantBumpedCurrentUserMessage":return h._(/*BTDS*/"{sender_name} bumped your message",[h._param("sender_name",b)]);case"participantBumpedOwnMessage":return h._(/*BTDS*/"{name} bumped their message",[h._param("name",b)]);case"participantBumpedParticipantMessage":return d!=null?h._(/*BTDS*/"{sender_name} bumped {reply_source_sender_name}'s message",[h._param("sender_name",b),h._param("reply_source_sender_name",d)]):h._(/*BTDS*/"{user_name} bumped a message",[h._param("user_name",b)]);default:a;c("FBLogger")("messenger_web").mustfix("unexpected bump type %s",a);return""}}g["default"]=a}),226);
__d("getMAWLocalizedFallbackMsgSnippet",["fbt","FBLogger"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){switch(a){case"userSendEncryptedMessage":return h._(/*BTDS*/"Waiting for this message. This might take a while.");case"currentUserSendUnrenderableMessage":return h._(/*BTDS*/"You sent a message but this browser can't show it.");case"participantSendUnrenderableMessage":return h._(/*BTDS*/"You received a message but this browser can't show it.");case"currentUserSendLiveLocationFallback":return h._(/*BTDS*/"You sent a live location. Use the Messenger mobile app to see it.");case"currentUserSendLocationFallback":return h._(/*BTDS*/"You sent a pinned location. Use the Messenger mobile app to see it.");case"participantSendLiveLocation":return h._(/*BTDS*/"You received a live location. Use the Messenger mobile app to see it.");case"participantSendLocation":return h._(/*BTDS*/"You received a pinned location. Use the Messenger mobile app to see it.");case"currentUserSendPollCreationFallback":return h._(/*BTDS*/"You sent a poll. Use the Messenger mobile app to see it.");case"participantSendPollCreation":return h._(/*BTDS*/"You received a poll. Use the Messenger mobile app to see it.");case"currentUserSendContactShareFallback":return h._(/*BTDS*/"You sent a contact card. Use the Messenger mobile app to see it.");case"participantSendContactShareFallback":return h._(/*BTDS*/"You received a contact card. Use the Messenger mobile app to see it.");case"currentUserSendStoryMentionFallback":return h._(/*BTDS*/"You sent a story mention. Use the Messenger mobile app to see it.");case"participantSendStoryMentionFallback":return h._(/*BTDS*/"You received a story mention. Use the Messenger mobile app to see it.");case"currentUserSendPostMentionFallback":return h._(/*BTDS*/"You sent a post mention. Use the Messenger mobile app to see it.");case"participantSendPostMentionFallback":return h._(/*BTDS*/"You received a post mention. Use the Messenger mobile app to see it.");case"currentUserSendNoteMentionFallback":return h._(/*BTDS*/"You mentioned someone in your note. Use the Messenger mobile app to see it.");case"participantSendNoteMentionFallback":return h._(/*BTDS*/"Someone mentioned you in their note. Use the Messenger mobile app to see it.");case"messengerMemoryEncryptedMessageFallback":return h._(/*BTDS*/"To see this memory, open the Messenger app on your phone.");case"metaAISendMessageFallback":return h._(/*BTDS*/"You received a message from Meta AI. Use the Messenger mobile app to see it.");case"currentUserSendBumpMessageFallback":return h._(/*BTDS*/"You sent a bumped message. Use the Messenger mobile app to see it.");case"participantSendBumpMessageFallback":return h._(/*BTDS*/"You received a bumped message. Use the Messenger mobile app to see it.");case"participantSendStickerReceiverFetchMessageFallback":return h._(/*BTDS*/"You received a sticker. Use the Messenger mobile app to see it.");case"currentUserSendStickerReceiverFetchMessageFallback":return h._(/*BTDS*/"You sent a sticker. Use the Messenger mobile app to see it.");case"userSendUnavailableMessage":return h._(/*BTDS*/"Message sent before this device was added to this conversation. This message cannot be delivered.");case"participantSendBumpMessageOriginalUnavailable":return h._(/*BTDS*/"Message unavailable.");case"unavailableStory":return h._(/*BTDS*/"Story unavailable");case"viewOncePhotoMessageFallback":return h._(/*BTDS*/"This photo can only be viewed once. Use the mobile app to view.");case"viewOnceVideoMessageFallback":return h._(/*BTDS*/"This video can only be viewed once. Use the mobile app to view.");case"rtcXMAMessageFallback":return h._(/*BTDS*/"To see this call notification message, open the Messenger app on your phone.");default:a;c("FBLogger")("messenger_web").mustfix("unexpected content fallback type %s",a);return""}}g["default"]=a}),226);
__d("MAWAdminMsg",["fbt","MAWLocalizationType","MAWMemoriesShareXMASnippetFbt","MAWPostMentionXMASnippetFbt","getMAWLocalizedBumpMsgReplySnippet","getMAWLocalizedFallbackMsgSnippet"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,e){switch(e){case d("MAWLocalizationType").LOCALIZATION_TYPE.EMPTY_SNIPPET:return"";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_GROUP:return h._(/*BTDS*/"You created this group").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_GROUP:return h._(/*BTDS*/"{actor} created this group",[h._param("actor",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_CREATED_GROUP:return h._(/*BTDS*/"This group was created.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:return h._(/*BTDS*/"You named the group {custom group name}.",[h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:return h._(/*BTDS*/"The group name was set to {custom group name}.",[h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:return h._(/*BTDS*/"{actor} named the group {custom group name}.",[h._param("actor",b[0]),h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE:return h._(/*BTDS*/"You added a new device to this conversation.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:return h._(/*BTDS*/"{actor} added a new device to this conversation.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE:return h._(/*BTDS*/"You removed a device from this conversation.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:return h._(/*BTDS*/"{actor} removed a device from this conversation.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE:return h._(/*BTDS*/"Your key has changed.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:return h._(/*BTDS*/"{user_name}'s key has changed.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:return h._(/*BTDS*/"You added {user_name} to the group. They can only see messages sent after they were added.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:return h._(/*BTDS*/"You added {user_name_1} and {user_name_2} to the group. They can only see messages sent after they were added.",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:return h._(/*BTDS*/"You added {user_name} and {number of participants} others to the group. They can only see messages sent after they were added.",[h._param("user_name",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:return h._(/*BTDS*/"{actor} added you to the group. You can only see messages sent after you were added.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:return h._(/*BTDS*/"{actor} added you and {user_name} to the group. You can only see messages sent after you were added.",[h._param("actor",b[0]),h._param("user_name",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:return h._(/*BTDS*/"{actor} added you and {number of participants} others to the group. You can only see messages sent after you were added.",[h._param("actor",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:return h._(/*BTDS*/"{actor} added {user_name} to the group. They can only see messages sent after they were added.",[h._param("actor",b[0]),h._param("user_name",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:return h._(/*BTDS*/"{actor} added {user_name_1} and {user_name_2} to the group. They can only see messages sent after they were added.",[h._param("actor",b[0]),h._param("user_name_1",b[1]),h._param("user_name_2",b[2])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:return h._(/*BTDS*/"{actor} added {user_name_1} and {number of participants} others to the group. They can only see messages sent after they were added.",[h._param("actor",b[0]),h._param("user_name_1",b[1]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:return h._(/*BTDS*/"You removed {user_name} from the group.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:return h._(/*BTDS*/"{user_name_1} removed you from the group.",[h._param("user_name_1",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:return h._(/*BTDS*/"{user_name_1} removed {user_name_2} from the group.",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:return h._(/*BTDS*/"{name} left the group.",[h._param("name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LEFT_GROUP:return h._(/*BTDS*/"You left the group.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:return h._(/*BTDS*/"{user_name} is now an admin.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:return h._(/*BTDS*/"{user_name} is no longer an admin.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_PROMOTED:return h._(/*BTDS*/"You are now an admin.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_DEMOTED:return h._(/*BTDS*/"You are no longer an admin.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:return h._(/*BTDS*/"{actor} added you as a group admin.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:return h._(/*BTDS*/"{actor} removed you as a group admin.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:return h._(/*BTDS*/"{actor} added {target} as a group admin.",[h._param("actor",b[0]),h._param("target",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:return h._(/*BTDS*/"{actor} removed {target} as a group admin.",[h._param("actor",b[0]),h._param("target",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:return h._(/*BTDS*/"You removed {target} as a group admin.",[h._param("target",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:return h._(/*BTDS*/"You added {target} as a group admin.",[h._param("target",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:return h._(/*BTDS*/"{actor} removed themself as a group admin.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SELF_DEMOTED:return h._(/*BTDS*/"You removed yourself as a group admin.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:return h._(/*BTDS*/"You").toString()+": "+a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:return a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP:return b[0]+": "+a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_IMAGE:return h._(/*BTDS*/"You sent a photo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_VIDEO:return h._(/*BTDS*/"You sent a video.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_AUDIO:return h._(/*BTDS*/"You sent a voice message.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_GIF:return h._(/*BTDS*/"You sent a GIF.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER:return h._(/*BTDS*/"You sent a sticker.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_ATTACHMENT:return h._(/*BTDS*/"You sent an attachment.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_POST:return h._(/*BTDS*/"You sent a post").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_REEL:return h._(/*BTDS*/"You sent a reel").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY:return h._(/*BTDS*/"You sent a story.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_AI_CONTACT_SHARE:return h._(/*BTDS*/"You sent a contact card.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_EVENT:return h._(/*BTDS*/"You sent an event.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY_HIGHLIGHT:return h._(/*BTDS*/"You sent a story highlight").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG:return h._(/*BTDS*/"You mentioned \u0040{user} in your story.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_RECEIVED_STORY_MENTION_IG:return h._(/*BTDS*/"Mentioned you in their story").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION:return h._(/*BTDS*/"You mentioned this user in your story").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION:return h._(/*BTDS*/"{user} mentioned you in their story",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_IMAGE:return h._(/*BTDS*/"{user} sent a photo.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_VIDEO:return h._(/*BTDS*/"{user} sent a video.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_AUDIO:return h._(/*BTDS*/"{user} sent a voice message.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_GIF:return h._(/*BTDS*/"{user} sent a GIF.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER:return h._(/*BTDS*/"{user} sent a sticker.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_POST:return h._(/*BTDS*/"Sent a post").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_REEL:return h._(/*BTDS*/"Sent a reel").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_ATTACHMENT:return h._(/*BTDS*/"{user} sent an attachment.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POST_MENTION:return d("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(b[1]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POST_MENTION:return d("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(b[0]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION:return h._(/*BTDS*/"You sent a location.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION:return h._(/*BTDS*/"{user} sent a location.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY:return h._(/*BTDS*/"{user} sent a story.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_AI_CONTACT_SHARE:return h._(/*BTDS*/"{user} sent a contact card.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_EVENT:return h._(/*BTDS*/"{user} sent an event.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY_HIGHLIGHT:return h._(/*BTDS*/"Sent a story highlight").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_SNIPPET:return h._(/*BTDS*/"Unavailable message").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.TWO_USERS_CONNECTED:return h._(/*BTDS*/"You can now message and call each other and see info like active status and when you have read messages.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.TWO_USERS_CONNECTED_ONE_MSPLIT:return h._(/*BTDS*/"You can now message and call each other.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.REACHABILITY_ERROR:return h._(/*BTDS*/"This account can't receive your message because they don't allow new message requests from everyone.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were turned on. Messages will disappear {number} seconds after they're sent.\",\"_1\":\"Disappearing messages were turned on. Messages will disappear 1 second after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were turned on. Messages will disappear {number} minutes after they're sent.\",\"_1\":\"Disappearing messages were turned on. Messages will disappear 1 minute after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were turned on. Messages will disappear {number} hours after they're sent.\",\"_1\":\"Disappearing messages were turned on. Messages will disappear 1 hour after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were turned on. Messages will disappear {number} days after they're sent.\",\"_1\":\"Disappearing messages were turned on. Messages will disappear 1 day after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"You turned on disappearing messages. Messages will disappear {number} seconds after they're sent.\",\"_1\":\"You turned on disappearing messages. Messages will disappear 1 second after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"You turned on disappearing messages. Messages will disappear {number} minutes after they're sent.\",\"_1\":\"You turned on disappearing messages. Messages will disappear 1 minute after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._(/*BTDS*/"_j{\"*\":\"You turned on disappearing messages. Messages will disappear {number} hours after they're sent.\",\"_1\":\"You turned on disappearing messages. Messages will disappear 1 hour after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._(/*BTDS*/"_j{\"*\":\"You turned on disappearing messages. Messages will disappear {number} days after they're sent.\",\"_1\":\"You turned on disappearing messages. Messages will disappear 1 day after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"{user} turned on disappearing messages. Messages will disappear {number} seconds after they're sent.\",\"_1\":\"{user} turned on disappearing messages. Messages will disappear 1 second after they're sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"{user} turned on disappearing messages. Messages will disappear {number} minutes after they're sent.\",\"_1\":\"{user} turned on disappearing messages. Messages will disappear 1 minute after they're sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._(/*BTDS*/"_j{\"*\":\"{user} turned on disappearing messages. Messages will disappear {number} hours after they're sent.\",\"_1\":\"{user} turned on disappearing messages. Messages will disappear 1 hour after they're sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._(/*BTDS*/"_j{\"*\":\"{user} turned on disappearing messages. Messages will disappear {number} days after they're sent.\",\"_1\":\"{user} turned on disappearing messages. Messages will disappear 1 day after they're sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were changed. Messages will disappear {number} seconds after they're sent.\",\"_1\":\"Disappearing messages were changed. Messages will disappear 1 second after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were changed. Messages will disappear {number} minutes after they're sent.\",\"_1\":\"Disappearing messages were changed. Messages will disappear 1 minute after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were changed. Messages will disappear {number} hours after they're sent.\",\"_1\":\"Disappearing messages were changed. Messages will disappear 1 hour after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were changed. Messages will disappear {number} days after they're sent.\",\"_1\":\"Disappearing messages were changed. Messages will disappear 1 day after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:return h._(/*BTDS*/"New messages and calls are secured with end-to-end encryption. Only people in this chat can read, listen to, or share them.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return h._(/*BTDS*/"Your other chat has been archived.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return h._(/*BTDS*/"Instagram upgraded the security of this chat. Messages and calls will be secured with end-to-end encryption.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return h._(/*BTDS*/"Previous messages may be in your other chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return h._(/*BTDS*/"An unrecognized device was detected on your account. We recommend comparing your keys with your contacts to secure the chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"You changed disappearing messages. Messages will disappear {number} seconds after they're sent.\",\"_1\":\"You changed disappearing messages. Messages will disappear 1 second after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"You changed disappearing messages. Messages will disappear {number} minutes after they're sent.\",\"_1\":\"You changed disappearing messages. Messages will disappear 1 minute after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:return h._(/*BTDS*/"_j{\"*\":\"You changed disappearing messages. Messages will disappear {number} hours after they're sent.\",\"_1\":\"You changed disappearing messages. Messages will disappear 1 hour after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:return h._(/*BTDS*/"_j{\"*\":\"You changed disappearing messages. Messages will disappear {number} days after they're sent.\",\"_1\":\"You changed disappearing messages. Messages will disappear 1 day after they're sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"{user} changed disappearing messages. Messages will disappear {number} seconds after they're sent.\",\"_1\":\"{user} changed disappearing messages. Messages will disappear 1 second after they're sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"{user} changed disappearing messages. Messages will disappear {number} minutes after they're sent.\",\"_1\":\"{user} changed disappearing messages. Messages will disappear 1 minute after they're sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:return h._(/*BTDS*/"_j{\"*\":\"{user} changed disappearing messages. Messages will disappear {number} hours after they're sent.\",\"_1\":\"{user} changed disappearing messages. Messages will disappear 1 hour after they're sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:return h._(/*BTDS*/"_j{\"*\":\"{user} changed disappearing messages. Messages will disappear {number} days after they're sent.\",\"_1\":\"{user} changed disappearing messages. Messages will disappear 1 day after they're sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:return h._(/*BTDS*/"Disappearing messages were turned off.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:return h._(/*BTDS*/"You turned off disappearing messages.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:return h._(/*BTDS*/"{user} turned off disappearing messages.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET:return h._(/*BTDS*/"Disappearing messages were turned off. Turn them back on to have messages disappear 24 hours after they're sent.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNSENT_MESSAGE:return h._(/*BTDS*/"You unsent a message").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNSENT_MESSAGE:return h._(/*BTDS*/"{first name} unsent a message",[h._param("first name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE_IN_GROUP:return h._(/*BTDS*/"{name} reacted {emoji} to your message",[h._param("name",b[0]),h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE:return h._(/*BTDS*/"Reacted {emoji} to your message",[h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:return h._(/*BTDS*/"A screenshot was taken.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:return h._(/*BTDS*/"Current screen was recorded.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:return h._(/*BTDS*/"You took a screenshot.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:return h._(/*BTDS*/"You recorded the screen.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:return h._(/*BTDS*/"{user} took a screenshot.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:return h._(/*BTDS*/"{user} recorded the screen.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return h._(/*BTDS*/"Messages and calls are secured with end-to-end encryption.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU:return h._(/*BTDS*/"Someone added you to the group. You can only see messages sent after you were added.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:return h._(/*BTDS*/"Someone added you and {user_name} to the group. You can only see messages sent after you were added.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:return h._(/*BTDS*/"Someone added you and {number of participants} others to the group. You can only see messages sent after you were added.",[h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER:return h._(/*BTDS*/"Someone added {user_name} to the group. They can only see messages sent after they were added.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER:return h._(/*BTDS*/"Someone added {user_name_1} and {user_name_2} to the group. They can only see messages sent after they were added.",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:return h._(/*BTDS*/"Someone added {user_name_1} and {number of participants} others to the group. They can only see messages sent after they were added.",[h._param("user_name_1",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.DEBUG_MSG:return a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"You missed an audio call from {user_name}.",[h._param("user_name",e)]).toString():h._(/*BTDS*/"You missed a call from a contact.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"{user_name} missed your audio call.",[h._param("user_name",e)]).toString():h._(/*BTDS*/"A contact missed your audio call.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"You missed a video call from {user_name}.",[h._param("user_name",e)]).toString():h._(/*BTDS*/"You missed a video call from a contact.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"{user} missed your video call.",[h._param("user",e)]).toString():h._(/*BTDS*/"A contact missed your video chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_AUDIO_CALLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_AUDIO_CALLED:return h._(/*BTDS*/"The audio call ended.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_VIDEO_CALLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_VIDEO_CALLED:return h._(/*BTDS*/"The video call ended.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_AUDIO_CALL:return h._(/*BTDS*/"You started a call.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_AUDIO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"{user} started a call.",[h._param("user",e)]).toString():h._(/*BTDS*/"A contact started a call.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_VIDEO_CALL:return h._(/*BTDS*/"You started a video chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_VIDEO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"{user} started a video chat.",[h._param("user",e)]).toString():h._(/*BTDS*/"A contact started a video chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:return h._(/*BTDS*/"You set the quick reaction to {emoji}.",[h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:return h._(/*BTDS*/"{participant_name} set the quick reaction to {emoji}.",[h._param("participant_name",b[0]),h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:return h._(/*BTDS*/"You set the nickname for {participant_name} to {nickname}.",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:return a[1]!=null?h._(/*BTDS*/"You changed the theme to {theme_name} {theme_emoji}.",[h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._(/*BTDS*/"You changed the theme to {theme_name}.",[h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:return a[1]!=null?h._(/*BTDS*/"You changed the theme using AI to \"{theme_name}\" {theme_emoji}.",[h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._(/*BTDS*/"You changed the theme using AI to \"{theme_name}\".",[h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO:return h._(/*BTDS*/"You changed the group photo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:return h._(/*BTDS*/"You pinned a message.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:return h._(/*BTDS*/"You unpinned a message.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return h._(/*BTDS*/"You're messaging {participant_name} for the first time. If you ever feel uncomfortable, there are",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:return h._(/*BTDS*/"{participant_name_1} set the nickname for {participant_name_2} to {nickname}.",[h._param("participant_name_1",b[0]),h._param("participant_name_2",b[1]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:return h._(/*BTDS*/"{participant_name_1} cleared the nickname for {participant_name_2}.",[h._param("participant_name_1",b[0]),h._param("participant_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:return a[1]!=null?h._(/*BTDS*/"{participant_name} changed the theme to {theme_name} {theme_emoji}.",[h._param("participant_name",b[0]),h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._(/*BTDS*/"{participant_name} changed the theme to {theme_name}.",[h._param("participant_name",b[0]),h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME:return a[1]!=null?h._(/*BTDS*/"{participant_name} changed the theme using AI to \"{theme_name}\" {theme_emoji}.",[h._param("participant_name",b[0]),h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._(/*BTDS*/"{participant_name} changed the theme using AI to \"{theme_name}\".",[h._param("participant_name",b[0]),h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL:return h._(/*BTDS*/"You created a poll: {poll_name}.",[h._param("poll_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL:return h._(/*BTDS*/"{participant_name} created a poll: {poll_name}.",[h._param("participant_name",b[0]),h._param("poll_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION:return h._(/*BTDS*/"{participant_name} added \"{poll_option}\" to the poll.",[h._param("participant_name",b[0]),h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE:return h._(/*BTDS*/"{participant_name} voted for \"{poll_option}\" in the poll.",[h._param("participant_name",b[0]),h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION:return h._(/*BTDS*/"You added \"{poll_option}\" to the poll.",[h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE:return h._(/*BTDS*/"You voted for \"{poll_option}\" in the poll.",[h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"{participant_name} added \\\"{poll_option}\\\" and {num_other_options} other options to the poll.\",\"_1\":\"{participant_name} added \\\"{poll_option}\\\" and {num_other_options} other option to the poll.\"}",[h._plural(e),h._param("participant_name",b[0]),h._param("poll_option",a[0]),h._param("num_other_options",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"You added \\\"{poll_option}\\\" and {num_other_options} other options to the poll.\",\"_1\":\"You added \\\"{poll_option}\\\" and {num_other_options} other option to the poll.\"}",[h._plural(e),h._param("poll_option",a[0]),h._param("num_other_options",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"You voted for \\\"{poll_option}\\\" and {num_other_votes} other options in the poll.\",\"_1\":\"You voted for \\\"{poll_option}\\\" and {num_other_votes} other option in the poll.\"}",[h._plural(e),h._param("poll_option",a[0]),h._param("num_other_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"{participant_name} voted for \\\"{poll_option}\\\" and {num_other_votes} other options in the poll.\",\"_1\":\"{participant_name} voted for \\\"{poll_option}\\\" and {num_other_votes} other option in the poll.\"}",[h._plural(e),h._param("participant_name",b[0]),h._param("poll_option",a[0]),h._param("num_other_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"You removed your vote for \\\"{poll_option}\\\" and {num_other_removed_votes} other options in the poll.\",\"_1\":\"You removed your vote for \\\"{poll_option}\\\" and {num_other_removed_votes} other option in the poll.\"}",[h._plural(e),h._param("poll_option",a[0]),h._param("num_other_removed_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"{participant_name} removed their vote for \\\"{poll_option}\\\" and {num_other_removed_votes} other options in the poll.\",\"_1\":\"{participant_name} removed their vote for \\\"{poll_option}\\\" and {num_other_removed_votes} other option in the poll.\"}",[h._plural(e),h._param("participant_name",b[0]),h._param("poll_option",a[0]),h._param("num_other_removed_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE:return h._(/*BTDS*/"You removed your vote for \"{poll_option}\" in the poll.",[h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE:return h._(/*BTDS*/"{participant_name} removed their vote for \"{poll_option}\" in the poll.",[h._param("participant_name",b[0]),h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE:return h._(/*BTDS*/"{participant_name}'s poll has multiple updates.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE:return h._(/*BTDS*/"Your poll has multiple updates.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE:return h._(/*BTDS*/"You changed your vote to \"{poll_option}\" in the poll.",[h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE:return h._(/*BTDS*/"{participant_name} changed their vote to \"{poll_option}\" in the poll.",[h._param("participant_name",b[0]),h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"You changed your vote to \\\"{poll_option}\\\" and {num_other_changed_votes} other options in the poll.\",\"_1\":\"You changed your vote to \\\"{poll_option}\\\" and {num_other_changed_votes} other option in the poll.\"}",[h._plural(e),h._param("poll_option",a[0]),h._param("num_other_changed_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"{participant_name} changed their vote to \\\"{poll_option}\\\" and {num_other_changed_votes} other options in the poll.\",\"_1\":\"{participant_name} changed their vote to \\\"{poll_option}\\\" and {num_other_changed_votes} other option in the poll.\"}",[h._plural(e),h._param("participant_name",b[0]),h._param("poll_option",a[0]),h._param("num_other_changed_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.POLL_UNSENT_UPDATE:return h._(/*BTDS*/"A poll has been unsent.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO:return h._(/*BTDS*/"{participant_name} changed the group photo.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:return h._(/*BTDS*/"{participant_name} pinned a message.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return h._(/*BTDS*/"{participant_name} unpinned a message.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:return h._(/*BTDS*/"{participant_name} set your nickname to {nickname}.",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:return h._(/*BTDS*/"You set your nickname to {nickname}.",[h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME:return h._(/*BTDS*/"You cleared your nickname.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:return h._(/*BTDS*/"You cleared the nickname for {participant_name}.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:return h._(/*BTDS*/"{participant_name} set their own nickname to {nickname}.",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:return h._(/*BTDS*/"{participant_name} cleared their own nickname.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:return h._(/*BTDS*/"{participant_name} cleared your nickname.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY:return h._(/*BTDS*/"You changed who can add people to admins only.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS:return h._(/*BTDS*/"You changed who can add people to all members.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:return h._(/*BTDS*/"{participant_name} changed who can add people to admins only.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:return h._(/*BTDS*/"{participant_name} changed who can add people to all members.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ADMIN_ONLY:return h._(/*BTDS*/"A chat admin changed who can add people to all members.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ALL_MEMBERS:return h._(/*BTDS*/"A chat admin changed who can add people to admins only.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:return h._(/*BTDS*/"Your other chat with {user} was archived.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:return h._(/*BTDS*/"Your other chat with yourself was archived.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN:return h._(/*BTDS*/"Your other chat with this person was archived.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE,null,null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE,null,b[0]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE,b[0],null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE,b[0],null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE,b[0],b[1]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_MEMORIES_SHARE:return d("MAWMemoriesShareXMASnippetFbt").getCurrentUserSendMemoriesShareSnippetFbt().toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_MEMORIES_SHARE:return d("MAWMemoriesShareXMASnippetFbt").getParticipantSendMemoriesShareSnippetFbt(b[0]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.RTC_XMA_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.RTC_XMA_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:return h._(/*BTDS*/"You turned on message sharing permissions for this chat. Everyone in this chat can now share messages with Meta AI or auto-save photos.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:return h._(/*BTDS*/"You turned off message sharing permissions for this chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:return h._(/*BTDS*/"{participant_name} turned on message sharing permissions for this chat. Everyone in this chat can now share messages with Meta AI or auto-save photos.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return h._(/*BTDS*/"{participant_name} turned off message sharing permissions for this chat.",[h._param("participant_name",b[0])]).toString();default:return""}}g.buildLocalizedString=a}),226);
__d("MAWThreadCustomizationUtils",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME}function b(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME}g.skipNicknameCheck=a;g.nicknameOnlyForFirstParticipantChecking=b}),98);
__d("fillArray",[],(function(a,b,c,d,e,f){function a(a,b){var c=new Array(a);for(var d=0;d<a;d++)c[d]=b;return c}f["default"]=a}),66);
__d("mapPull",[],(function(a,b,c,d,e,f){function a(a,b,c){var d=new Map();for(a of a)d.set(c(a),b(a));return d}f["default"]=a}),66);
__d("MAWBridgeBuildMsgMentions",["MAWSubscribeToContactNames","MAWThreadCustomizationUtils","WACommon.pb","WAJids","emptyFunction","fillArray","mapPull"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.length>0?a.join(","):void 0}function i(a,b){return a.index-b.index}function j(a,b){return a==null||a===""?a:Array.from(b).reduce(function(a,b){var c=b[0];b=b[1];c=new RegExp(c,"g");return a.replace(c,b)},a)}function k(a,b){return a==null||a===""?[]:Array.from(b.keys()).flatMap(function(b){return Array.from(a.matchAll(b))}).sort(i)}function l(a,b,e,f,g){g===void 0&&(g=[]);e=c("mapPull")(e,function(a){var c=a[0];a[1];return d("MAWSubscribeToContactNames").getContactNameFromLookup(b,c)},function(a){a[0];a=a[1];return a});var i=k(a,e),l=[],m=[],n=[],o=0;for(i of i){var p=d("WAJids").unsafeCoerceToUserJid(i[0]);l.push(d("WAJids").userIdFromJid(p));var q=d("MAWSubscribeToContactNames").getContactNameFromLookup(e,p);m.push(q.length+1);n.push(Math.max(i.index-1+o,0));o+=q.length-p.length}q=c("fillArray")(l.length,"p");for(p of g){i=p.commandType;o=p.length;g=p.offset;if(o==null||g==null)continue;switch(i){case d("WACommon.pb").COMMAND_COMMAND_TYPE.EVERYONE:q.push("t");l.push("t");n.push(g);m.push(o);break;case d("WACommon.pb").COMMAND_COMMAND_TYPE.AI:q.push("ai");l.push("ai");n.push(g);m.push(o);break;case d("WACommon.pb").COMMAND_COMMAND_TYPE.AI_IMAGINE:q.push("im");l.push("im");n.push(g);m.push(o);break;default:break}}i=k(f,e);for(g of i){o=d("WAJids").unsafeCoerceToUserJid(g[0]);l.push(d("WAJids").userIdFromJid(o))}return{mentionIds:h(l),mentionLengths:h(m),mentionOffsets:h(n),mentionTypes:h(q),replyMessageText:j(f,e),text:j(a,e)}}function m(a,b,c,e){a=l(a,c,e);e=a.text;a=b.map(function(a){return d("MAWSubscribeToContactNames").getContactNameFromLookup(c,a)});return[e,a]}function a(a,b,e,f){b=c("mapPull")(b,c("emptyFunction").thatReturnsArgument,d("WAJids").userIdFromJid);return l(a,b,b,e,f)}function n(a,b,c,e,f){return b&&c>0||e?f===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$CONTACT_FIRST_NAME("+a+")":"$CONTACT_FULL_NAME("+a+")":f===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$PARTICIPANT_FIRST_NAME("+a+")":"$PARTICIPANT_FULL_NAME("+a+")"}function b(a,b,e,f){b=c("mapPull")(b!=null?b:[],c("emptyFunction").thatReturnsArgument,d("WAJids").userIdFromJid);if(b.size===0||a==null||a===""){var g=d("MAWSubscribeToContactNames").getContactNameModeFromLocalizationType(f),h=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(f),i=d("MAWThreadCustomizationUtils").skipNicknameCheck(f);f=e.map(function(a,b){return n(a,h,b,i,g)});return[a,f]}f=new Map([].concat(Array.from(b.keys()),e).map(function(a){return[a,"$PARTICIPANT_FULL_NAME("+a+")"]}));return m(a,e,f,b)}g.buildMsgTextWithMentions=a;g.buildThreadSnippetWithMentions=b}),98);
__d("MAWBridgeBuildThreadSnippet",["MAWAdminMsg","MAWBridgeBuildMsgMentions","MAWLocalizationType","MAWVault","first"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a!=null?d("MAWVault").unvault(a):void 0}function i(a,b,c){if(a==null)return b;b=[].concat(b);switch(c){case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP:b[0]=a;break}return b}function j(a){return a.replace(/\$/g,"$$$$")}function a(a,b){var e=a.snippetContactIDs,f=a.snippetMentionJIDs,g=a.snippetParams,k=a.snippetSenderContactId;a=a.snippetType;if(g==null||a==null||e==null)return b;k!=null&&!e.includes(k)&&e.push(k);b=h(c("first")(g));k=d("MAWBridgeBuildMsgMentions").buildThreadSnippetWithMentions(b==null?null:j(b),f,e,a);b=k[0];f=k[1];return d("MAWAdminMsg").buildLocalizedString(i(b,g,a),f,a)}g.buildBridgeThreadSnippet=a}),98);
__d("MAWEBFrontendQPLLogger",["EBEnableUnifiedAttachment","EBUnifyLegacyMediaUpload","ExecutionEnvironment","FBLogger","MAWBridgeSafeActionsWorkerAndUI","MAWEBUploadTrackingUtils","MWEBODSEntityName.enum","ODS","QPLUserFlow","WAHashStringToNumber","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){a!=null&&((i||(i=c("ExecutionEnvironment"))).isInWorker?(o("point",b),d("MAWEBUploadTrackingUtils").handleBridgeEbUploadTrackingQPL("point",a,b,e)):d("MAWBridgeSafeActionsWorkerAndUI").fireAndForgetBackendWorkerAndUIShared("addEbUploadTrackingWorkerQPL",{annotations:e,pointName:b,qplInstanceKey:a,qplType:"point"}))}function k(a,b){(i||(i=c("ExecutionEnvironment"))).isInWorker?(o("success","upload_tracking_completed"),d("MAWEBUploadTrackingUtils").handleBridgeEbUploadTrackingQPL("success",a,"upload_tracking_completed",b)):d("MAWBridgeSafeActionsWorkerAndUI").fireAndForgetBackendWorkerAndUIShared("addEbUploadTrackingWorkerQPL",{annotations:b,pointName:"upload_tracking_completed",qplInstanceKey:a,qplType:"success"})}function l(a,b,e){(i||(i=c("ExecutionEnvironment"))).isInWorker?(o("fail",b),d("MAWEBUploadTrackingUtils").handleBridgeEbUploadTrackingQPL("fail",a,b,e)):d("MAWBridgeSafeActionsWorkerAndUI").fireAndForgetBackendWorkerAndUIShared("addEbUploadTrackingWorkerQPL",{annotations:e,pointName:b,qplInstanceKey:a,qplType:"fail"})}function a(a){var b=a.deliveryObjectId,e=a.flow,f=a.mediaType,g=a.messageId,h=a.threadId;a=a.traceId;if(!m(e))return;var i=d("WAHashStringToNumber").hashStringToNumber(a);b={bool:{is_legacy_hardening:d("EBUnifyLegacyMediaUpload").getEnableUnifyLegacyMediaUpload(),is_unified_attachment:d("EBEnableUnifiedAttachment").getEbEnableUnifiedAttachment()},string:{deliveryObjectId:b,flow:e,mediaType:f,messageId:g,threadId:h,traceId:a}};c("QPLUserFlow").start(c("qpl")._(521480391,"1167"),{annotations:b,instanceKey:i})}function b(a,b,e,f){if(a==null)return;if(!m(e))return;e=d("WAHashStringToNumber").hashStringToNumber(a);if(b){c("QPLUserFlow").endSuccess(c("qpl")._(521480391,"1167"),{instanceKey:e});return}c("QPLUserFlow").endFailure(c("qpl")._(521480391,"1167"),"upload_attachment_backup_failed",{annotations:{string:{error:f!=null?f:"upload_attachment_backup_failed"}},instanceKey:e})}function m(a){return a==="unified"&&d("EBEnableUnifiedAttachment").getEbEnableUnifiedAttachment()||a==="old"&&!d("EBEnableUnifiedAttachment").getEbEnableUnifiedAttachment()}function e(a,b){a.forEach(function(a){if(a.uploadTrackingInstanceKey!=null){var c={string:{traceId:a.traceId}};j(a.uploadTrackingInstanceKey,b,c)}})}function f(a){return{addAnnotations:function(b){n(a,b)},addPoint:function(b,c){j(a,b,c)},endCancel:function(b,c){l(a,""+(b!=null?b:""),c)},endFail:function(b,c){l(a,b,c)},endSuccess:function(b){k(a,b)},getQPLAttrs:function(){return{event:c("qpl")._(521481602,"829"),instanceKey:a}},isActive:function(){return!0}}}function n(a,b){c("FBLogger")("EBFrontendQPLLogger").warn("addAnnotations not implemented for EB Frontend QPL")}function o(a,b){(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_FRONTEND_QPL_IN_WORKER,a+"."+b)}g.addPointEBUploadTracking=j;g.endEBUploadTracking=k;g.failEBUploadTracking=l;g.startFlowUploadAttachmentBackup=a;g.endFlowUploadAttachmentBackup=b;g.addPointForUploadMessageArray=e;g.makeEBFrontendQplFlowFromInstanceKey=f}),98);
__d("MAWBridgeUploadMessageHandler",["EBIsEbEnabled","EncryptedBackupsWriteToMPSTables","FBLogger","I64","LSDataTraceCheckPoint","LSEncryptedBackupsAttachmentErrorCode","LSFactory","LSIntEnum","LSIssueMessageBackupStoredProcedure","LSIssueMessageRemoveStoredProcedure","LSMEBTaskCreationSource","LSShape","LSTamThreadSubtype","LSVec","MAWCastToMsgrServerMediaType","MAWEBFrontendQPLLogger","MAWMsgType","MAWTraceUtils","MWEBODSEntityName.enum","MWEBODSUtils","Promise","WATimeUtils","asyncToGeneratorRuntime","cr:17101","gkx","isInstamadillo","isInstamadilloEB"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f,g;if(c("isInstamadilloEB")())return(j||(j=b("Promise"))).resolve();var k=m(e.uploadTrackingInstanceKey);e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_bridge_handler");d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+((f=e.messageType)!=null?f:"unknown"));f=e.protoMsg;var n=e.traceId;g=((g=e.uploadTrackingInstanceKey)!=null?g:e.traceId).toString();if(!(yield d("EBIsEbEnabled").isEbEnabledLS(a,n,k))){if(e.uploadTrackingInstanceKey!=null){n=e.uploadTrackingInstanceKey;d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(n,"user_device_not_enrolled_invalid_echo_request");d("MAWEBFrontendQPLLogger").endEBUploadTracking(n)}d("MAWTraceUtils").recordCheckpointForTrace(g,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED),[],!1);d("MAWTraceUtils").recordInvalidUploadRequestAndFlushTrace(g,h.ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST),[]);return}n=e.echoDocument;var o=d("WATimeUtils").castMilliSecondsToUnixTime(e.sortOrderMs);if(e.actionType===1){var p=e.echoEncodingLatencyNs,q=e.errorCode,r=e.errorMessage;e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"issuing_message_backup");var s;if(f!=null)try{var t=f.sortOrderMs;if(t==null)throw c("FBLogger")("messenger_web").mustfixThrow("sort order is null for the protobuf message");yield d("EncryptedBackupsWriteToMPSTables").writeToMPSTables(a,f,e.threadId,!1,k);s=d("LSShape").ofRecord({act_thread_id:e.threadId,attachment_payload:null,backup_action:(h||(h=d("LSIntEnum"))).ofNumber(f.backupActionType),message_timestamp_ms:(i||(i=d("I64"))).of_float(t),supplemental_key:f.supplementalKey,toplevel_offline_threading_id:(t=(k=f.originalMsgProtocolId)==null?void 0:k.externalId)!=null?t:f.msgId.externalId})}catch(a){a instanceof Error?c("FBLogger")("wmi_eb").catching(a).mustfix("[labyrinth_web] Error writing to MPSTables for the upload message due to runtime error"):c("FBLogger")("wmi_eb").mustfix("[labyrinth_web] Error writing to MPSTables for the upload message")}var u;if(e.attachmentBackupContext!=null){k=l({bridgeUploadAttachmentBackupContext:e.attachmentBackupContext,messageId:e.messageId,serverThreadKey:null,threadId:e.threadId,traceId:e.traceId});k!=null&&(u=d("LSShape").ofRecord(k))}e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_handler_echo_protobuf_context",{bool:{attachment_backup_context:u!=null,protobuf_context:s!=null}});if(e.messageType!=null){t=d("MAWMsgType").isMAWSupportedMediaType(e.messageType)?"media":"non-media";d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+t)}u!=null&&d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.attachment_unified_backup");yield c("LSIssueMessageBackupStoredProcedure")(c("LSFactory")(a),{actThreadId:e.threadId,attachmentBackupContext:u,authoritativeTs:(i||(i=d("I64"))).of_float(o*1e3),echoDocument:n!=null?n:"",echoEncodingLatencyNs:p!=null?(i||(i=d("I64"))).of_float(p):void 0,error:q!=null?(h||(h=d("LSIntEnum"))).ofNumber(q):void 0,errorMessage:r!=null?r:void 0,isInstamadillo:c("isInstamadillo")(),otid:e.messageId,protobufBackupContext:s,source:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM),tamThreadSubtype:h.ofNumber(c("isInstamadillo")()?c("LSTamThreadSubtype").BLEND_DUAL_SEND:c("LSTamThreadSubtype").STANDARD),traceId:g});e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_upload_task_issued");void b("cr:17101").log(function(){return{message_id:e.messageId,trace_id:e.traceId}})}else e.actionType===2&&(yield c("LSIssueMessageRemoveStoredProcedure")(c("LSFactory")(a),{actThreadId:e.threadId,authoritativeTs:(i||(i=d("I64"))).of_float(o*1e3),otid:e.messageId,source:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM),traceId:g}),e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_remove_task_issued"))});return k.apply(this,arguments)}function l(a){var b;if(!c("gkx")("6956"))return void 0;var e=a.bridgeUploadAttachmentBackupContext,f=a.messageId,g=a.serverThreadKey,i=a.threadId;a=a.traceId;if(e.attachmentInfos.length===0)return;var j=e.attachmentInfos;d("MAWEBFrontendQPLLogger").startFlowUploadAttachmentBackup({deliveryObjectId:j[0].zippyObjectId,flow:"unified",mediaType:(b=d("MAWCastToMsgrServerMediaType").castMediaAttachmentTypeToServerMediaType(j[0].mediaType))!=null?b:"unknown",messageId:f,threadId:i,traceId:a});b=c("LSVec").ofArray(j.map(function(a){return d("LSShape").ofRecord({attachment_trace_id:a.attachmentTraceId,media_type:a.mediaType,zippy_object_id:a.zippyObjectId})}));f=(h||(h=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsAttachmentErrorCode").NO_ERROR);e.error!=null&&(f=(h||(h=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsAttachmentErrorCode").UNKNOWN_ERROR));i={attachment_infos:b,error:f,error_message:null,product_type:e.productType,server_thread_key:g};return i}function m(a){return a==null?null:d("MAWEBFrontendQPLLogger").makeEBFrontendQplFlowFromInstanceKey(a)}g.call=a;g.getMessageUploadAttachmentBackupContext=l}),98);
__d("MWEncryptedBackupsInitializeRestoreDeferred",["MWChatEncryptedBackupsQPLEvents","QPLUserFlow","WALogger","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MWEncryptedBackupsInitializeRestore").__setRef("MWEncryptedBackupsInitializeRestoreDeferred");function a(a){var b=a.db,e=a.onFailure,f=a.onSuccess;i.onReady(function(a){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"add_device_init_restore_sproc"),c("promiseDone")(a.initializeRestore(b),f,function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Error initializing restore: ",""])),a),e==null||e("failed_to_initialize_restore")})})}g.encryptedBackupsInitializeRestoreDeferred=a}),98);
__d("getMAWLastMessageCtaType",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL:return"xma_rtc_missed_audio";case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL:return"xma_rtc_missed_group_audio";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL:return"xma_rtc_missed_video";case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL:return"xma_rtc_missed_group_video";case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:return"messenger_reply_reminder"}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EmojiRendererData",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}a.isEmoji=function(a){return a>983041||a<35?!1:a===35||a===42||a>=48&&a<=57||a===169||a===174||a===8205||a===8252||a===8265||a===8419||a===8482||a===8505||a>=8596&&a<=8601||a>=8617&&a<=8618||a>=8986&&a<=8987||a===9e3||a===9167||a>=9193&&a<=9203||a>=9208&&a<=9210||a===9410||a>=9642&&a<=9643||a===9654||a===9664||a>=9723&&a<=9726||a>=9728&&a<=9732||a===9742||a===9745||a>=9748&&a<=9749||a===9752||a===9760||a>=9762&&a<=9763||a===9766||a===9770||a>=9774&&a<=9775||a>=9784&&a<=9786||a===9792||a===9794||a>=9800&&a<=9811||a>=9823&&a<=9824||a===9827||a>=9829&&a<=9830||a===9832||a===9851||a>=9854&&a<=9855||a>=9874&&a<=9879||a===9881||a>=9883&&a<=9884||a>=9888&&a<=9889||a===9895||a>=9898&&a<=9899||a>=9904&&a<=9905||a>=9917&&a<=9918||a>=9924&&a<=9925||a===9928||a>=9934&&a<=9935||a===9937||a>=9939&&a<=9940||a>=9961&&a<=9962||a>=9968&&a<=9973||a>=9975&&a<=9976||a===9978||a===9981||a===9986||a===9989||a>=9992&&a<=9993||a===9999||a===10002||a===10004||a===10006||a===10013||a===10017||a===10024||a>=10035&&a<=10036||a===10052||a===10055||a===10060||a===10062||a>=10067&&a<=10069||a===10071||a>=10083&&a<=10084||a>=10133&&a<=10135||a===10145||a===10160||a===10175||a>=10548&&a<=10549||a>=11013&&a<=11015||a>=11035&&a<=11036||a===11088||a===11093||a===12336||a===12349||a===12951||a===12953||a===126980||a===127183||a>=127344&&a<=127345||a>=127358&&a<=127359||a===127374||a>=127377&&a<=127386||a>=127462&&a<=127487||a>=127489&&a<=127490||a===127514||a===127535||a>=127538&&a<=127546||a>=127568&&a<=127569||a>=127744&&a<=127777||a>=127780&&a<=127876||a>=127878&&a<=127891||a>=127894&&a<=127895||a>=127897&&a<=127899||a>=127902&&a<=127937||a>=127941&&a<=127942||a>=127944&&a<=127945||a>=127949&&a<=127984||a>=127987&&a<=127989||a>=127991&&a<=127994||a>=128e3&&a<=128065||a>=128068&&a<=128069||a>=128081&&a<=128101||a>=128121&&a<=128123||a>=128125&&a<=128128||a===128132||a>=128136&&a<=128142||a===128144||a>=128146&&a<=128169||a>=128171&&a<=128253||a>=128255&&a<=128317||a>=128329&&a<=128334||a>=128336&&a<=128359||a>=128367&&a<=128368||a===128371||a>=128374&&a<=128377||a===128391||a>=128394&&a<=128397||a>=128420&&a<=128421||a===128424||a>=128433&&a<=128434||a===128444||a>=128450&&a<=128452||a>=128465&&a<=128467||a>=128476&&a<=128478||a===128481||a===128483||a===128488||a===128495||a===128499||a>=128506&&a<=128580||a>=128584&&a<=128586||a>=128640&&a<=128674||a>=128676&&a<=128691||a>=128695&&a<=128703||a>=128705&&a<=128709||a===128715||a>=128717&&a<=128722||a>=128725&&a<=128727||a>=128732&&a<=128741||a===128745||a>=128747&&a<=128748||a===128752||a>=128755&&a<=128764||a>=128992&&a<=129003||a===129008||a>=129293&&a<=129294||a>=129296&&a<=129303||a>=129312&&a<=129317||a>=129319&&a<=129327||a===129338||a>=129343&&a<=129349||a>=129351&&a<=129398||a>=129400&&a<=129460||a===129463||a===129466||a>=129468&&a<=129484||a===129488||a>=129502&&a<=129535||a>=129648&&a<=129660||a>=129664&&a<=129673||a>=129679&&a<=129730||a===129734||a>=129742&&a<=129756||a>=129759&&a<=129769||a>=917536&&a<=917631||a>=983040&&a<=983041};a.isEmojiModifier=function(a){return a>127999||a<127995?!1:a>=127995&&a<=127999};a.isEmojiModifierBase=function(a){return a>129784||a<9757?!1:a===9757||a===9977||a>=9994&&a<=9997||a===127877||a>=127938&&a<=127940||a===127943||a>=127946&&a<=127948||a>=128066&&a<=128067||a>=128070&&a<=128080||a>=128102&&a<=128120||a===128124||a>=128129&&a<=128131||a>=128133&&a<=128135||a===128143||a===128145||a===128170||a>=128372&&a<=128373||a===128378||a===128400||a>=128405&&a<=128406||a>=128581&&a<=128583||a>=128587&&a<=128591||a===128675||a>=128692&&a<=128694||a===128704||a===128716||a===129292||a===129295||a>=129304&&a<=129311||a===129318||a>=129328&&a<=129337||a>=129340&&a<=129342||a===129399||a>=129461&&a<=129462||a>=129464&&a<=129465||a===129467||a>=129485&&a<=129487||a>=129489&&a<=129501||a>=129731&&a<=129733||a>=129776&&a<=129784};a.isEmojiVariationSelector=function(a){return a===65039};a.isNonSpacingCombiningMark=function(a){return a>8419||a<8416?!1:a===8416||a===8419};a.isRegionalIndicator=function(a){return a>127487||a<127462?!1:a>=127462&&a<=127487};a.isTagSpec=function(a){return a>917630||a<917536?!1:a>=917536&&a<=917568||a>=917595&&a<=917630};a.isTagTerm=function(a){return a===917631};a.isText=function(a){return a>8419||a<35?!1:a===35||a===42||a>=48&&a<=57||a===8419};a.isTextVariationSelector=function(a){return a===65038};a.isDefaultTextPresentation=function(a){return a>917631||a<35?!1:a===35||a===42||a>=48&&a<=57||a===169||a===174||a===8205||a===8252||a===8265||a===8419||a===8482||a===8505||a>=8596&&a<=8597||a>=8617&&a<=8618||a===9e3||a===9167||a>=9197&&a<=9199||a>=9201&&a<=9202||a>=9208&&a<=9210||a===9410||a===9654||a===9664||a>=9730&&a<=9732||a===9745||a===9752||a===9760||a>=9762&&a<=9763||a===9766||a===9770||a>=9774&&a<=9775||a>=9784&&a<=9785||a===9792||a===9794||a===9823||a===9851||a===9854||a===9874||a>=9876&&a<=9879||a===9881||a>=9883&&a<=9884||a===9895||a>=9904&&a<=9905||a===9928||a===9935||a===9937||a===9939||a===9961||a>=9968&&a<=9969||a===9972||a>=9975&&a<=9977||a===9997||a===9999||a===10002||a===10004||a===10013||a===10017||a===10052||a===10055||a===10083||a===12336||a>=127344&&a<=127345||a>=127358&&a<=127359||a===127777||a>=127780&&a<=127788||a===127798||a===127869||a>=127894&&a<=127895||a>=127897&&a<=127899||a>=127902&&a<=127903||a>=127947&&a<=127950||a>=127956&&a<=127967||a===127987||a===127989||a===127991||a===128063||a===128065||a===128253||a>=128329&&a<=128330||a>=128367&&a<=128368||a>=128371&&a<=128377||a===128391||a>=128394&&a<=128397||a===128400||a===128421||a===128424||a>=128433&&a<=128434||a===128444||a>=128450&&a<=128452||a>=128465&&a<=128467||a>=128476&&a<=128478||a===128481||a===128483||a===128488||a===128495||a===128499||a===128506||a===128715||a>=128717&&a<=128719||a>=128736&&a<=128741||a===128745||a===128752||a===128755||a>=917536&&a<=917631};a.isSymbol=function(a){return a>8482||a<169?!1:a===169||a===174||a===8482};a.isZWJ=function(a){return a===8205};return a}();e.exports=a}),null);
__d("UnicodeUtils",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i=55296,j=56319,k=56320,l=57343,m=/[\uD800-\uDFFF]/;function n(a){return i<=a&&a<=l}function a(a,b){0<=b&&b<a.length||h(0,1346,b,a.length);if(b+1===a.length)return!1;var c=a.charCodeAt(b);a=a.charCodeAt(b+1);return i<=c&&c<=j&&k<=a&&a<=l}function o(a){return m.test(a)}function p(a,b){a=n(a.charCodeAt(b));return a?2:1}function b(a){if(!o(a))return a.length;var b=0;for(var c=0;c<a.length;c+=p(a,c))b++;return b}function c(a,b){return r(a,b,b+1)}function q(a,b,c){var d=b||0;c=c===void 0?Infinity:c||0;if(!o(a))return a.substr(d,c);var e=a.length;if(e<=0||d>e||c<=0)return"";var f=0;if(d>0){for(;d>0&&f<e;d--)f+=p(a,f);if(f>=e)return""}else if(b<0){for(f=e;d<0&&0<f;d++)f-=p(a,f-1);f<0&&(f=0)}b=e;if(c<e)for(b=f;c>0&&b<e;c--)b+=p(a,b);return a.substring(f,b)}function r(a,b,c){b=b||0;c=c===void 0?Infinity:c||0;b<0&&(b=0);c<0&&(c=0);var d=Math.abs(c-b);b=b<c?b:c;return q(a,b,d)}function d(a){var b=[];for(var c=0;c<a.length;c+=p(a,c))b.push(a.codePointAt(c));return b}g.isCodeUnitInSurrogateRange=n;g.isSurrogatePair=a;g.hasSurrogateUnit=o;g.getUTF16Length=p;g.strlen=b;g.charAt=c;g.substr=q;g.substring=r;g.getCodePoints=d}),98);
__d("EmojiRenderer",["EmojiRendererData","UnicodeUtils"],(function(a,b,c,d,e,f,g){var h,i,j=0,k=1,l=2,m=3,n=4,o=5,p=6,q=7,r=8,s=9,t=10,u=11;function v(a){var b=a[0];if(b===void 0)return!1;var d=a.length,e=a[d-1];if(e){e=e.charCodeAt(0);if((i||(i=c("EmojiRendererData"))).isTagSpec(e))return!1}b=b.charCodeAt(0);if((i||(i=c("EmojiRendererData"))).isSymbol(b)&&d<2)return!1;if((i||(i=c("EmojiRendererData"))).isText(b))if(d===1)return!1;else if(a.length==2)return(i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(a[1].charCodeAt(0));else{e=1;(i||(i=c("EmojiRendererData"))).isEmojiVariationSelector(a[e].charCodeAt(0))&&e++;while(e<a.length){if(!(i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(a[e].charCodeAt(0)))return!1;e++}return!0}return!0}function w(a,b){var e=null,f=[],g=r,w=0,x=a.length;while(w<x){var y=a.codePointAt(w),z=(h||(h=d("UnicodeUtils"))).getUTF16Length(a,w),A=a.substr(w,z);switch(g){case s:(i||(i=c("EmojiRendererData"))).isRegionalIndicator(y)?g=m:g=r;break;case n:if((i||(i=c("EmojiRendererData"))).isEmojiModifier(y)){g=o;break}case j:(i||(i=c("EmojiRendererData"))).isZWJ(y)?g=q:(i||(i=c("EmojiRendererData"))).isEmojiVariationSelector(y)?g=l:(i||(i=c("EmojiRendererData"))).isTextVariationSelector(y)?g=u:(i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(y)?g=k:(i||(i=c("EmojiRendererData"))).isTagSpec(y)?g=p:g=r;break;case k:case l:if((i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(y))break;case m:case o:(i||(i=c("EmojiRendererData"))).isZWJ(y)?g=q:(i||(i=c("EmojiRendererData"))).isTagSpec(y)?g=p:g=r;break;case p:(i||(i=c("EmojiRendererData"))).isTagSpec(y)||(i||(i=c("EmojiRendererData"))).isTagTerm(y)?g=p:g=r;break;case q:(i||(i=c("EmojiRendererData"))).isRegionalIndicator(y)?g=s:(i||(i=c("EmojiRendererData"))).isEmojiModifierBase(y)?g=n:(i||(i=c("EmojiRendererData"))).isEmoji(y)?g=j:g=r;break;case t:(i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(y)?g=k:(i||(i=c("EmojiRendererData"))).isEmojiVariationSelector(y)?g=l:g=r;break;default:g=r;break}if(g===r){(i||(i=c("EmojiRendererData"))).isRegionalIndicator(y)?g=s:(i||(i=c("EmojiRendererData"))).isEmojiModifierBase(y)?g=n:(i||(i=c("EmojiRendererData"))).isText(y)?g=t:(i||(i=c("EmojiRendererData"))).isEmoji(y)&&(g=j);if(g!==r){e!==null&&v(e.emoji)&&f.push(e);if(b!==null&&b===f.length){e=null;break}e={emoji:[A],length:z,offset:w}}}else e!==null&&(e.emoji.push(A),e.length+=z);w+=z}e!==null&&v(e.emoji)&&f.push(e);return f}function a(a,b,c){c=w(a);var d=[],e=0;c.forEach(function(c){var f=c.offset;f>e&&d.push(a.substr(e,f-e));var g=b(c.emoji);g!=null&&d.push(g);e=f+c.length});d.push(a.substr(e,a.length-e));return d}function b(a){return w(a,1).length===1}function e(a){return w(a).length}g.parse=w;g.render=a;g.containsEmoji=b;g.countEmoji=e}),98);
__d("EmoticonsList",[],(function(a,b,c,d,e,f){e.exports={emotes:{"O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel","'-_-":"coldsweat",":3":"colonthree","o.O":"confused",O_O:"confused",o_o:"confused","0_0":"confused","O.o":"confused_rev",":'(":"cry",":'-(":"cry","3:)":"devil","3:-)":"devil",":dog:":"dog","-3-":"flushkiss",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp","=D":"grin",":-D":"grin",":D":"grin",">:(":"grumpy",">:-(":"grumpy","<3":"heart","&lt;3":"heart","^_^":"kiki","^~^":"kiki",":*":"kiss",":-*":"kiss","(y)":"like",":like:":"like","(Y)":"like",T_T:"loudly_crying","T-T":"loudly_crying",ToT:"loudly_crying","T.T":"loudly_crying",":-|":"neutral",":|":"neutral",":v":"pacman",":V":"pacman",'<(")':"penguin",">_<":"persevere",">.<":"persevere",":poop:":"poop",":|]":"robot","(^^^)":"shark",":)":"smile",":-)":"smile",":]":"smile","(:":"smile","=)":"smilingface","(=":"smilingface","-_-":"squint","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses","B-)":"sunglasses","8-)":"sunglasses","8)":"sunglasses","(n)":"thumbsdown","(N)":"thumbsdown",":+1:":"thumbsup",":thumbsup:":"thumbsup",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue",":trans:":"transflag",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",";)":"wink",";-)":"wink",";*":"winkkiss",";-*":"winkkiss",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":cheese:":"cheesewedge",":eyes:":"eyes",":peek:":"eyes",":clown:":"clown"},symbols:{angel:"O:)",coldsweat:"'-_-",colonthree:":3",confused:"o.O",confused_rev:"O.o",cry:":'(",devil:"3:)",dog:":dog:",flushkiss:"-3-",frown:":(",gasp:":o",grin:"=D",grumpy:">:(",heart:"<3",kiki:"^_^",kiss:":*",like:"(y)",loudly_crying:"T_T",neutral:":-|",pacman:":v",penguin:'<(")',persevere:">_<",poop:":poop:",robot:":|]",shark:"(^^^)",smile:":)",smilingface:"=)",squint:"-_-",sunglasses:"B|",thumbsdown:"(n)",thumbsup:":+1:",tongue:":P",transflag:":trans:",unsure:":/",upset:">:o",wink:";)",winkkiss:";*",winktongue:";-P",cheesewedge:":cheese:",eyes:":eyes:",clown:":clown:"},emoji:{angel:"1f607",coldsweat:"1f613",colonthree:"FACE_WITH_COLON_THREE",confused:"1f633",confused_rev:"1f633",cry:"1f622",devil:"1f608",dog:"1f436",flushkiss:"1f61a",frown:"1f641",gasp:"1f62e",grin:"1f603",grumpy:"1f620",heart:"2764",kiki:"1f60a",kiss:"1f618",like:"LIKE",loudly_crying:"1f62d",neutral:"1f610",pacman:"PACMAN",penguin:"1f427",persevere:"1f623",poop:"1f4a9",robot:"1f916",shark:"1f988",smile:"1f642",smilingface:"1f60a",squint:"1f611",sunglasses:"1f60e",thumbsdown:"1f44e",thumbsup:"1f44d",tongue:"1f61b",transflag:"1f3f3_fe0f_200d_26a7_fe0f",unsure:"1f615",upset:"1f620",wink:"1f609",winkkiss:"1f618",winktongue:"1f61c",cheesewedge:"1f9c0",eyes:"1f440",clown:"1f921"},regexp:/(^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|\'\-_\-|:3|o\.O|O_O|o_o|0_0|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:dog:|\-3\-|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|T_T|T\-T|ToT|T\.T|:\-\||:\||:v|:V|<\(\"\)(?!\))|>_<|>\.<|:poop:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|\(:|=\)(?!\))|\(=|\-_\-|B\||8\-\||8\||B\-\||B\-\)(?!\))|8\-\)(?!\))|8\)(?!\))|\(n\)(?!\))|\(N\)(?!\))|:\+1:|:thumbsup:|:P|:\-P|:\-p|:p|=P|:trans:|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|;\)(?!\))|;\-\)(?!\))|;\*|;\-\*|;\-P|;P|;\-p|;p|:cheese:|:eyes:|:peek:|:clown:)([\s\'\".,!?\)]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|\'\-_\-|:3|o\.O|O_O|o_o|0_0|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:dog:|\-3\-|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|T_T|T\-T|ToT|T\.T|:\-\||:\||:v|:V|<\(\"\)(?!\))|>_<|>\.<|:poop:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|\(:|=\)(?!\))|\(=|\-_\-|B\||8\-\||8\||B\-\||B\-\)(?!\))|8\-\)(?!\))|8\)(?!\))|\(n\)(?!\))|\(N\)(?!\))|:\+1:|:thumbsup:|:P|:\-P|:\-p|:p|=P|:trans:|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|;\)(?!\))|;\-\)(?!\))|;\*|;\-\*|;\-P|;P|;\-p|;p|:cheese:|:eyes:|:peek:|:clown:)(?:[\s\'\".,!?\)]|<br>|$)/}}),null);
__d("EmoticonRenderer",["EmoticonsList"],(function(a,b,c,d,e,f,g){"use strict";var h=["LIKE","PACMAN","FACE_WITH_COLON_THREE"];function i(a){var b=[],c=new RegExp(d("EmoticonsList").regexp),e=0,f=a.match(c);while(f!==null){var g=f[1],i=f[2].split(""),j=d("EmoticonsList").emotes[f[2]];j=d("EmoticonsList").emoji[j];b.push({chars:i,isCustom:h.includes(j),key:j,offset:e+f.index+g.length});e+=f.index+f[0].length;f=a.slice(e).match(c)}return b}function a(a,b,c){var d=i(a),e=[],f=0;d.forEach(function(d){var g=d.offset;g>f&&e.push(a.substr(f,g-f));d.isCustom?e.push(c(d.key,d.chars)):e.push(b(d.key));f=g+d.chars.length});e.push(a.substr(f,a.length-f));return e}g.parse=i;g.render=a}),98);
__d("LSCancelTaskByQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.forEach(b.filter(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])}),function(a){var d=a.item;return b.sequence([function(a){return c[0]=d.taskDispatchPriority,b.forEach(b.filter(b.db.table(2).fetch([[[d.taskId]]]),function(a){return b.i64.eq(a.taskId,d.taskId)&&a.queueName===d.queueName}),function(a){return a["delete"]()})},function(a){return b.i64.eq(c[0],b.i64.cast([0,1e3]))||b.i64.eq(c[0],b.i64.cast([0,2e3]))?c[1]=b.i64.cast([0,734739218]):c[1]=b.i64.cast([0,734737036])}])})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreCancelTaskByQueueNameStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSDatascriptEvaluatorMaybeEagerly",["LSEagerlyLoadOnMessenger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorMaybeEagerly");function a(){return d("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(h).load()}g["default"]=a}),98);
__d("LSMailboxType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSENGER:0,COMMUNITIES:1,TINCAN:1024,TAM:4096});f["default"]=a}),66);
__d("LSThreadMediaGalleryGroup",[],(function(a,b,c,d,e,f){a=Object.freeze({PHOTOS_AND_VIDEOS:0,FILES_ONLY:1,LINKS:2});f["default"]=a}),66);
__d("MAWAdminAddParticipantMsg",["MAWLocalizationType","MAWUserJidWrapper","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h=1;function i(a,b,c){switch(a){case 1:return{adminMsgContent:[b],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU};case 2:return{adminMsgContent:[b,c],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER};default:return{adminMsgContent:[b,(a-1).toString()],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS}}}function j(a,b,c){switch(a){case 1:return{adminMsgContent:[b],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT};case 2:return{adminMsgContent:[b,c],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS};default:return{adminMsgContent:[b,(a-1).toString()],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS}}}function k(a,b,c,e){switch(a){case 1:return{adminMsgContent:[b,c],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER};case 2:return{adminMsgContent:[b,c,e],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER}}return{adminMsgContent:[b,c,(a-1).toString()],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER}}function l(a,b){switch(a){case 1:return{adminMsgContent:[],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU};case 2:return{adminMsgContent:[b],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER}}return{adminMsgContent:[(a-1).toString()],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER}}function m(a,b,c){switch(a){case 1:return{adminMsgContent:[b],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER};case 2:return{adminMsgContent:[b,c],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER}}return{adminMsgContent:[b,(a-1).toString()],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER}}function n(a,b){var c=d("MAWUserJidWrapper").getMyUserJid(),e=b[0],f=b[1],g=d("WAJids").userIdFromJid(e);f=f!=null?d("WAJids").userIdFromJid(f):"";if(a==null)return b.includes(c)?l(b.length,e===c?f:g):m(b.length,g,f);if(a===c)return j(b.length,g,f);a=d("WAJids").userIdFromJid(a);return b.includes(c)?i(b.length,a,e===c?f:g):k(b.length,a,g,f)}function a(a,b){return babelHelpers["extends"]({},n(a,b),{version:h})}g.createAddParticipantsAdminMessage=a}),98);
__d("MAWAdminRemoveParticipantMsg",["MAWAdminMsgType","MAWUserJidWrapper","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h=1;function i(a,b,c){switch(a){case 1:return{adminMsgContent:[b],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU};case 2:return{adminMsgContent:[b,c],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER};default:return{adminMsgContent:[b,(a-1).toString()],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS}}}function j(a,b,c,e){switch(a){case 1:return e?{adminMsgContent:[],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LEFT_GROUP}:{adminMsgContent:[b],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT};case 2:return{adminMsgContent:[b,c],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_TWO_PARTICIPANTS};default:return{adminMsgContent:[b,(a-1).toString()],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS}}}function k(a,b,c,e,f){switch(a){case 1:return f?{adminMsgContent:[b],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LEFT_GROUP}:{adminMsgContent:[b,c],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_ONE_USER};case 2:return{adminMsgContent:[b,c,e],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_TWO_USER}}return{adminMsgContent:[b,c,(a-1).toString()],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_MORE_THAN_TWO_USER}}function l(a,b){var c=d("MAWUserJidWrapper").getMyUserJid(),e=b[0],f=b[1],g=d("WAJids").userIdFromJid(e);f=f!=null?d("WAJids").userIdFromJid(f):"";if(a==null)return b.includes(c)?{adminMsgContent:[],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_REMOVED_YOU}:{adminMsgContent:[g],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_REMOVED_ONE_USER};if(a===c)return j(b.length,g,f,e===c);var h=d("WAJids").userIdFromJid(a);return b.includes(c)?i(b.length,h,e===c?f:g):k(b.length,h,g,f,e===a)}function a(a,b){return babelHelpers["extends"]({},l(a,b),{version:h})}g.createRemoveParticipantsAdminMessage=a}),98);
__d("MAWAdminWriteGroupNameChangeAdminMsgContent",["MAWAdminMsgType","MAWUserJidWrapper","WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=d("MAWUserJidWrapper").getMyUserJid(),e=[];a===c?(c=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_NAMED_GROUP,e.push(b)):a==null?(c=d("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_NAMED_GROUP,e.push(b)):(c=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_NAMED_GROUP,e.push(d("WAJids").userIdFromJid(a),b));return{adminMsgContent:e,adminType:c,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWBridgeSearchMsg",["MAWCurrentUser","MAWVault","WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=!0);var c=a,e=d("MAWCurrentUser").getID(),f=a.author,g=a.externalId,h=a.msgId,i=a.threadJid;if(i==null)return null;var j=c.content;c=c.sortOrderMs;i={chatJid:i,externalId:g,msg:{msgId:h,sender:d("WAJids").authorToUserId(f,e),ts:a.canonicalTs},sortOrderMs:c};g=j;return babelHelpers["extends"]({},i,{msg:babelHelpers["extends"]({},i.msg,{content:g!=null?d("MAWVault").isVaulted(g)?b?g:d("MAWVault").unvault(g):b?d("MAWVault").vault(g):g:void 0})})}b="message_content_search";c="non_message_content_search";g.createBridgeSearchMsg=a;g.MESSAGE_CONTENT_SEARCH=b;g.NON_MESSAGE_CONTENT_SEARCH=c}),98);
__d("MAWBridgeTraceEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ReceivedReceipt","ReceivedSent","FlowEndForFailure","FlowEndForSuccess"]);c=a;f["default"]=c}),66);
__d("MAWCatQuery.graphql",["cr:11203"],(function(a,b,c,d,e,f,g){"use strict";f.exports=b("cr:11203")}),34);
__d("MAWCatQuery",["MAWCatQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MAWCatQuery.graphql");c=a;g["default"]=c}),98);
__d("MAWCryptoAuthToken",["FBLogger","MAWCatQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null||a.secure_message_over_wa_cat_query==null||a.secure_message_over_wa_cat_query.encrypted_serialized_cat==null||a.secure_message_over_wa_cat_query.expiration_time_in_seconds==null){var b,d;c("FBLogger")("maw_device_reg").warn("Crypto Auth Token was null or incomplete %s:%s:%s:%s",a==null,(a==null?void 0:a.secure_message_over_wa_cat_query)==null,(a==null||(b=a.secure_message_over_wa_cat_query)==null?void 0:b.encrypted_serialized_cat)==null,a==null||(d=a.secure_message_over_wa_cat_query)==null?void 0:d.expiration_time_in_seconds);return{error:"Crypto Auth Token was null or incomplete"}}return{success:{encrypted_serialized_cat:a.secure_message_over_wa_cat_query.encrypted_serialized_cat,expiration_time_in_seconds:a.secure_message_over_wa_cat_query.expiration_time_in_seconds}}}function a(a){return d("relay-runtime").fetchQuery(a,c("MAWCatQuery"),{}).toPromise().then(h).then(function(a){if(a.error!==null&&a.error!==void 0)throw c("FBLogger")("maw_device_reg").mustfixThrow("[MAWCryptoAuthToken] Error while fetching CAT from GraphQL: %s",a.error);return a.success})}g.processCatResponse=h;g.fetchFreshCAT=a}),98);
__d("MAWDbXMA",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a}function b(a){return a}function c(a){return(h||(h=d("I64"))).to_float(a)}g.convertNumbersToXMAIds=a;g.convertNumberToXMAId=b;g.convertXMAId64ToXMAId=c}),98);
__d("MAWEphemeralUtils",["MAWLocalizationType","MAWUserJidWrapper","WAArmadilloApplication.pb","WAJids","err"],(function(a,b,c,d,e,f,g){"use strict";var h=60,i=60*h,j=24*i;function a(a,b,c,e){var f=[],g=b===j,k=a===d("MAWUserJidWrapper").getMyUserJid();if(e)e=d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET;else if(a==null)b===0?e=d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:b<h?(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS,f.push(b.toString())):b<i?(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES,f.push((b/h).toString())):b<j||g?(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS,f.push((b/i).toString())):(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS,f.push((b/j).toString()));else{a=d("WAJids").extractUserId(a).toString();b===0?k?e=d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:(e=d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF,f.push(a)):b<h?(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS,f.push(a)),f.push(b.toString())):b<i?(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES,f.push(a)),f.push((b/h).toString())):b<j||g?(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS,f.push(a)),f.push((b/i).toString())):(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS,f.push(a)),f.push((b/j).toString()))}return{adminMsgContent:f,adminType:e,version:1}}function b(a,b,e){var f,g=[];b=d("WAJids").extractUserId(b).toString();switch(a){case d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREENSHOT_IMAGE:e?f=d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:(f=d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT,g.push(b));break;case d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREEN_RECORDING:e?f=d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:(f=d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN,g.push(b));break;default:throw c("err")("Received unexpected screenshot action type")}return{ephemeralScreenshotActionContent:g,ephemeralScreenshotActionType:f}}g.getEphemeralSettingChangeData=a;g.getEphemeralScreenshotActionData=b}),98);
__d("MAWFetchXMABlob",["FBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var d=a.descriptionForLogging,e=a.url,f=a.xmaContentType;return e==null||e===""?(h||(h=b("Promise"))).resolve():window.fetch(e).then(function(a){return a.blob()})["catch"](function(a){c("FBLogger")("messenger_web_sharing").mustfix("Error fetching url in xma share from %s, with XMA content type %s and error %s",d,f,a);return(h||(h=b("Promise"))).resolve()})}g.fetchBlob=a}),98);
__d("MAWGetIsMediaDownloadStatusEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("gkx")("7858")}function a(){return h()}g.getIsMediaDownloadStatusForXMAsEnabled=h;g.getIsMediaDownloadStatusForXMAsEnabledWithChunkVerification=a}),98);
__d("MAWMediaGalleryEBTaggingUtils",["LSThreadMediaGalleryGroup","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("13725")}function b(a){return a===c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS}g.isMediaGalleryEBTaggingRestoreEnabled=a;g.isMediaGalleryGroupSupportedForTaggedRestore=b}),98);
__d("MAWMediaManagerUiIntegrationCheck",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return(a=c("qex")._("4221"))!=null?a:!1}g.getIsMediaManagerUiIntegrationEnabled=a}),98);
__d("MAWUpdateClientRestoreStatusOperationType",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;f.upsertClientRestoreStatus=a;f.markCompleteClientRestoreStatus=b}),66);
__d("MAWWriteLimitSharingAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c;b?(b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED,c=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED?[a]:[]):(b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED,c=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED?[a]:[]);return{adminMsgContent:c,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWritePinMessageAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_PINNED_MESSAGE:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE;a=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE?[a]:[];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteThreadHotlikeCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a===d("MAWCurrentUser").getID();c=c?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE;var e=[];c===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE?e.push(b):e.push(a,b);return{adminMsgContent:e,adminType:c,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteThreadNicknameCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=d("MAWCurrentUser").getID(),f=a===e&&a!==b,g=b===e&&b!==a,h=b===a&&e===b;e=b===a&&e!==b;var i;h&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_SET_OWN_NICKNAME:h&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME:e&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_SET_OWN_NICKNAME:e&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:f&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:f&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:g&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:g&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME;h=[];switch(i){case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:h.push(b,c);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_SET_OWN_NICKNAME:h.push(a,c);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_SET_OWN_NICKNAME:h.push(c);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:h.push(b);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:h.push(a);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:h.push(a,b,c);break;default:break}return{adminMsgContent:h,adminType:i,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteThreadPhotoCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO;a=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO?[a]:[];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MessengerThreadThemeType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({COLOR_GRADIENT:1,THEME:2,THIRD_PARTY:3,INTERACTIVE:4,IGD_CHANNEL_CUSTOMIZED_THEME:5,AI_AGENT:6,AI_GENERATED_THEME:7,AI_STUDIO_GENERATED_THEME:8,AI_INTERACTIVE_THEME:9,AI_INTERACTIVE_THEME_GENERATED:10,MSGR_CUSTOM_THEME:11});c=a;f["default"]=c}),66);
__d("MAWWriteThreadThemeCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser","MessengerThreadThemeType","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,e){var f=a===d("MAWCurrentUser").getID();f=i(f,e);e=[];f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_THEME||f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME?e.push(c):e.push(a,c);b!=null&&e.push(b);return{adminMsgContent:e,adminType:f,version:1}}function i(a,b){if(b!=null)try{b=c("MessengerThreadThemeType").cast(parseInt(b,10))===7;if(b)return a?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Unable to convert theme type to integer: ",""])),a)}return a?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_THEME:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_THEME}g.getAdminMsgContent=a}),98);
__d("MAWWriteUKOSAAdminMsgContent",["MAWAdminMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MAWAdminMsgType").ADMIN_MSG_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE;a=[a];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteUnpinMessageAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_UNPINNED_MESSAGE:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE;a=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE?[a]:[];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MWPExecuteTaskBridge",["FBLogger","QuickPerformanceLogger","cr:6551"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,d,e){var f=d.event,g=d.taskID;(h||(h=c("QuickPerformanceLogger"))).markerPoint(f,"execute_task_through_bridge",{instanceKey:g});if(b("cr:6551")==null||b("cr:6551")[e]==null){(h||(h=c("QuickPerformanceLogger"))).markerPoint(f,"handler_not_found",{instanceKey:g});throw c("FBLogger")("messenger_web").mustfixThrow("[LS] No bridge task handler found for %s",e)}h.markerPoint(f,"bridge_api_call",{instanceKey:g});return b("cr:6551")[e](a,d)}g.executeTask=a}),98);
__d("MWPHandleNativeTaskBatched",["FBLogger","I64","LSHandleTaskSendSuccessForQueue2","LSJson","LSShape","LSSyncStoredProcedureUtils","LSVec","MWPExecuteTaskBridge","Promise","QuickPerformanceLogger","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new Set();function l(a){try{var b=a.payload!==""?d("LSJson").parse(a.payload):"";return b}catch(b){throw c("FBLogger")("messenger_web").catching(b).mustfix("[LS] parseLSTaskReqType: Error parsing native task payload for queue: %s, falling back to null payload",a.queue_name)}}function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g){if(k.has((j||(j=d("I64"))).to_string(e.task_id))){c("FBLogger")("messenger_web").warn("[LS] MWPHAndleNativeTask: Task is already being processed, skipping");return(i||(i=b("Promise"))).resolve()}k.add((j||(j=d("I64"))).to_string(e.task_id));var m=j.to_float(e.task_id),n=c("qpl")._(164763515,"1216");(h||(h=c("QuickPerformanceLogger"))).markerStart(n,m);if(e.label==null){c("FBLogger")("messenger_web").warn("[LS] MWPHandleNativeTask: Cannot find a handler for task if task label is empty");(h||(h=c("QuickPerformanceLogger"))).markerPoint(n,"null_task_label",{instanceKey:m});h.markerEnd(n,3,m);k["delete"]((j||(j=d("I64"))).to_string(e.task_id));return a.runInTransaction(function(a){return a.pending_tasks["delete"](e.task_id)},"readwrite",void 0,void 0,f.id+":81")}var o;try{(h||(h=c("QuickPerformanceLogger"))).markerPoint(n,"parse_task",{instanceKey:m}),o=l(e)}catch(a){(h||(h=c("QuickPerformanceLogger"))).markerPoint(n,"parse_task_failed",{instanceKey:m});c("FBLogger")("messenger_web").catching(a);k["delete"]((j||(j=d("I64"))).to_string(e.task_id));return}var p=e.label;h.markerAnnotate(n,{string:{source:"MWPHandleNativeTaskBatched_handleTask",taskName:p}},{instanceKey:m});try{(h||(h=c("QuickPerformanceLogger"))).markerPoint(n,"task_execute",{instanceKey:m}),yield d("MWPExecuteTaskBridge").executeTask(o,{actorID:g,event:n,source:"MWPHandleNativeTaskBatched_handleTask",taskID:(j||(j=d("I64"))).to_float(e.task_id)},p),yield a.runInTransaction(function(a){return a.pending_tasks["delete"](e.task_id)},"readwrite",void 0,void 0,f.id+":130"),h.markerEnd(n,2,m)}catch(g){yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield a.pending_tasks.get(e.task_id));if(b!=null)return d("LSSyncStoredProcedureUtils").incrementPendingTaskFailureCount(a,b)});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":141"),(h||(h=c("QuickPerformanceLogger"))).markerPoint(n,"task_execute_failed",{instanceKey:m}),h.markerEnd(n,3,m),c("FBLogger")("messenger_web").catching(g).mustfix("Error handling native task for %s.",e.label)}k["delete"](j.to_string(e.task_id))});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g){var h=e.network_payload,k=e.queue_name;if(h==null){c("FBLogger")("messenger_web").warn("[LS] MWPHAndleNativeTask: network_payload is empty, there's nothing to handle");return(i||(i=b("Promise"))).resolve()}e=d("LSShape").toRecord(h);h=c("LSVec").toArray(e.tasks).map(function(a){return d("LSShape").toRecord(a)});e=h.map(function(b){return m(a,b,g)});try{yield (i||(i=b("Promise"))).all(e),yield a.runInTransaction(function(a){return c("LSHandleTaskSendSuccessForQueue2")(a,k)},"readwrite",void 0,void 0,f.id+":184")}catch(e){c("FBLogger")("messenger_web").warn("[LS] MWPHAndleNativeTask: tasks network_payload is empty, there's nothing to handle",k);try{yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("LSSyncStoredProcedureUtils").incrementNetworkRequestsTaskFailureCount(a,k,(j||(j=d("I64"))).neg_one),yield d("LSSyncStoredProcedureUtils").closeEpoch(a,k,j.neg_one)});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":194")}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("[LS] Error bumping failure cound for task")}}});return o.apply(this,arguments)}e={handleLSWork:a};g["default"]=e}),98);
__d("MpsAdminMsgToBridge",["FBLogger","MAWAckLevel","MAWAdminAddParticipantMsg","MAWAdminMsgHelpers","MAWAdminRemoveParticipantMsg","MAWAdminWriteGroupNameChangeAdminMsgContent","MAWEphemeralUtils","MAWJids","MAWWriteLimitSharingAdminMsgContent","MAWWritePinMessageAdminMsgContent","MAWWriteThreadHotlikeCustomizationAdminMsgContent","MAWWriteThreadNicknameCustomizationAdminMsgContent","MAWWriteThreadPhotoCustomizationAdminMsgContent","MAWWriteThreadThemeCustomizationAdminMsgContent","MAWWriteUKOSAAdminMsgContent","MAWWriteUnpinMessageAdminMsgContent","WAArmadilloMiTransportAdminMessage.pb","WAMsgType","err","getErrorSafe","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=["$$unknownFieldCount"],i=["type"],j=["type"],k=["type"],l=["type"],m=["type"],n=["type"],o=["type"],p=["type"],q=["type"],r=["type"],s=["type"],t=["type"],u=["type"],v=["type"],w=["type"],x=["type"],y=["type"],z=["type"],A=["type"],B=["type"];function C(a,b){return d("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(a,c("nullthrows")(b.emojiName,"emojiName is null"))}function D(a,b){return d("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(a,c("nullthrows")(b.threadIcon,"threadIcon is null"))}function E(a,b){return d("MAWWriteThreadThemeCustomizationAdminMsgContent").getAdminMsgContent(a,b.themeEmoji,c("nullthrows")(b.themeName,"themeName is null"),""+((a=b.themeType)!=null?a:""))}function F(a,b){return b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.PINNED?d("MAWWritePinMessageAdminMsgContent").getAdminMsgContent(a):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNPINNED?d("MAWWriteUnpinMessageAdminMsgContent").getAdminMsgContent(a):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNSET?null:b.action===null||b.action===void 0?null:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b.action)}()}function G(a,b){return d("MAWWriteThreadNicknameCustomizationAdminMsgContent").getAdminMsgContent(a,c("nullthrows")(b.targetUserId,"targetUserId is null"),c("nullthrows")(b.nickname,"nickname is null"))}function H(a){return d("MAWWriteUKOSAAdminMsgContent").getAdminMsgContent(c("nullthrows")((a=a.ukOsaAdminText)==null?void 0:a.initiatorUserId,"initiatorUserId is null"))}function I(a,b){return d("MAWEphemeralUtils").getEphemeralSettingChangeData(d("MAWJids").toUserJid(a),(a=b.disappearingSettingDurationSeconds)!=null?a:0,((a=b.oldDisappearingSettingDurationSeconds)!=null?a:0)===0,!1)}function J(a,b){return b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.CHANGED?d("MAWWriteThreadPhotoCustomizationAdminMsgContent").getAdminMsgContent(a):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.REMOVED?d("MAWWriteThreadPhotoCustomizationAdminMsgContent").getAdminMsgContent(a):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.UNSET?null:b.action===void 0?null:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b.action)}()}function K(a,b){return b.sharingType===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.ENABLED?d("MAWWriteLimitSharingAdminMsgContent").getAdminMsgContent(a,!0):b.sharingType===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.DISABLED?d("MAWWriteLimitSharingAdminMsgContent").getAdminMsgContent(a,!1):b.sharingType===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.UNSET?null:b.sharingType===void 0?null:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b.sharingType)}()}function L(a,b){return b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.ADDED?d("MAWAdminAddParticipantMsg").createAddParticipantsAdminMessage(d("MAWJids").toUserJid(a),(b.targetUserId||[]).map(function(a){return d("MAWJids").toUserJid(a)})):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.REMOVED?d("MAWAdminRemoveParticipantMsg").createRemoveParticipantsAdminMessage(d("MAWJids").toUserJid(a),(b.targetUserId||[]).map(function(a){return d("MAWJids").toUserJid(a)})):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.UNSET?null:b.action===void 0?null:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b.action)}()}function M(a,b){return d("MAWAdminWriteGroupNameChangeAdminMsgContent").getAdminMsgContent(d("MAWJids").toUserJid(a),c("nullthrows")(b.groupName))}function N(a,b){var e;return b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.ADDED?d("MAWAdminMsgHelpers").createParticipantPromoteAdminMessage(d("MAWJids").toUserJid(c("nullthrows")((e=b.targetUserId)==null?void 0:e[0])),d("MAWJids").toUserJid(a)):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.REMOVED?d("MAWAdminMsgHelpers").createParticipantDemoteAdminMessage(d("MAWJids").toUserJid(c("nullthrows")((e=b.targetUserId)==null?void 0:e[0])),d("MAWJids").toUserJid(a)):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.UNSET?null:b.action===void 0?null:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b.action)}()}function O(a,b){return b.mode===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.ADMINS_ONLY?d("MAWAdminMsgHelpers").createMemberAddModeChangeAdminMessage(d("MAWJids").toUserJid(a),"admin_add"):b.mode===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.ALL_MEMBERS?d("MAWAdminMsgHelpers").createMemberAddModeChangeAdminMessage(d("MAWJids").toUserJid(a),"all_member_add"):b.mode===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.UNSET?null:b.mode===void 0?null:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b.mode)}()}function P(a,b){return I(a,{disappearingSettingDurationSeconds:b.disappearingSettingTime!=null?Number(b.disappearingSettingTime):0,oldDisappearingSettingDurationSeconds:b.oldDisappearingSettingTime!=null?Number(b.oldDisappearingSettingTime):0})}function Q(a){return a.initiatorUserId!=null?H({ukOsaAdminText:{initiatorUserId:a.initiatorUserId}}):null}function R(a,b){return K(a,{sharingType:b.limitSharingType==="disabled"?d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.DISABLED:b.limitSharingType==="enabled"?d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.ENABLED:d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.UNSET})}function S(a){return F(a,{action:d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.PINNED})}function T(a){return F(a,{action:d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNPINNED})}function U(a,b){return E(a,{themeEmoji:b.themeEmoji,themeName:b.themeNameWithSubtitle,themeType:b.themeType})}function V(a,b){return b.threadIcon!=null?D(a,{threadIcon:b.threadIcon}):null}function W(a,b){return b.participantId!=null&&b.nickname!=null?G(a,{nickname:b.nickname,targetUserId:""+b.participantId}):null}function X(a,b){return b.threadQuickReactionEmoji!=null?C(a,{emojiName:b.threadQuickReactionEmoji}):null}function Y(a){var b=Object.keys(a);if(b.length!==1)throw c("err")("Expected exactly one key");b=b[0];return babelHelpers["extends"]({type:b},a[b])}function Z(a,b){b.$$unknownFieldCount;b=babelHelpers.objectWithoutPropertiesLoose(b,h);b=Y(b);return function(b){if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="quickReactionChanged"){b.type;var c=babelHelpers.objectWithoutPropertiesLoose(b,i);return C(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="iconChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,j);return D(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="chatThemeChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,k);return E(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="messagePinned"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,l);return F(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="nicknameChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,m);return G(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="linkCta"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,n);return H(c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="disappearingSettingChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,o);return I(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="groupImageChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,p);return J(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="limitSharingChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,q);return K(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="groupParticipantChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,r);return L(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="groupNameChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,s);return M(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="groupAdminChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,t);return N(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="groupMembershipAddModeChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,u);return O(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatDisappearingSetting"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,v);return P(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatLinkCta"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,w);return Q(c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMessagingLimitSharing"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,x);return R(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatPinMessageV2")return S(a);if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatUnpinMessageV2")return T(a);if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatThemeColor"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,y);return U(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatThreadIcon"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,z);return V(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatThreadNickname"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,A);return W(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatThreadQuickReaction"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,B);return X(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatFriendRequestConfirmedEncrypted"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatInstantGameEncryptedDynamicCustomUpdate"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMagicWords"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMessengerQrCodeScanned"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMessengerSharedAlbumAddition"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMessengerSharedAlbumContentRemoval"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMessengerSharedAlbumDeletion"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMessengerSharedAlbumRename"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMessengerSharedAlbum"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatUpdatePayments")return null;throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b)}(b)}function a(a){var b;b=(b=a.deserialize().adminMessage())==null?void 0:b.proto;if(b==null)return;var e;try{e=Z(a.message.senderId,b)}catch(a){c("FBLogger")("mps").catching(c("getErrorSafe")(a)).warn("Failed to get admin message content")}b={ack:d("MAWAckLevel").ACK.received,adminContent:(b=e)==null?void 0:b.adminMsgContent,adminType:(b=e)==null?void 0:b.adminType,adminVersion:(b=e)==null?void 0:b.version,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:b}}g.getMessageContent=Z;g.adminMsgToBridgeMsg=a}),98);
__d("MpsBumpMessageToBridgeMsg",["MAWAckLevel","MAWMsgType","MpsToBridgeMessageId","MpsTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c,e=a.deserialize().encryptedTransportMessage(),f=e==null||(b=e.armadillo())==null||(b=b.proto.payload)==null||(b=b.content)==null?void 0:b.bumpExistingMessage;if(f==null||((c=f.key)==null?void 0:c.id)==null||e==null)return null;c=d("MpsTypes").toMessageId(f.key.id);c={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),replyContent:{isBumpMsg:!0,replyToMsgId:d("MpsToBridgeMessageId").mpsToBridgeMsgId(a.message.threadId,c),replyType:"MESSAGE"},replySourceId:(e=f.key)==null?void 0:e.id,sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE};return{kind:"bridgeMsg",value:c}}g.bumpMessageToBridgeMsg=a}),98);
__d("MpsEditToBridge",["LSMessageSendStatus","MAWDbEditMsgHistory","MAWMpsGating","WAJids","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var e=d("MAWDbEditMsgHistory").convertToEditMsgHistoryId64(d("MAWDbEditMsgHistory").unsafeCoerceToEditMsgHistoryId(Number(a.getExternalId()))),f=a.topLevelMetadata();e={author:a.getAuthor(),editExternalId:d("WAStanzaUtils").toStanzaId(a.getExternalId()),editMsgHistoryId:e,editTs:a.getUnixTs(),msgContent:b,originalMsgExternalId:d("WAStanzaUtils").toStanzaId(f.getExternalId()),originalMsgId:f.getMsgId(),sendStatus:c("LSMessageSendStatus").SENDING_TO_SERVER,threadJid:a.getChatJid()};return{kind:"bridgeEditHistoryMsg",value:e}}function a(a){var b;b=(b=a.deserialize().encryptedTransportMessage())==null||(b=b.consumerMessage())==null||(b=b.payload)==null||(b=b.content)==null||(b=b.editMessage)==null?void 0:b.message;if(b==null)return;return h(a,{commands:b==null?void 0:b.commands,content:((a=b==null?void 0:b.text)!=null?a:"")+(d("MAWMpsGating").isFullMpsEnabled()?" *":""),mentionedJids:b==null?void 0:b.mentionedJid.map(d("WAJids").validateUserJid).filter(Boolean)})}function b(a){var b,c,d=a.supplementals,e=a.topLevel;if(e.kind!=="bridgeMsg")return a;var f=d.map(function(a){return a.kind==="bridgeEditHistoryMsg"?a.value:null}).filter(Boolean).sort(function(a,b){return b.editTs-a.editTs});if(f.length===0)return a;d.push(h(a.message,{commands:e.value.commands&&[].concat(e.value.commands),content:(b=e.value.content)!=null?b:"",mentionedJids:e.value.mentionedJids&&[].concat(e.value.mentionedJids)}));b=f[0].msgContent;e.value=babelHelpers["extends"]({},e.value,{commands:(c=b.commands)!=null?c:e.value.commands,content:(c=b.content)!=null?c:e.value.content,editCount:f.length,mentionedJids:(c=b.mentionedJids)!=null?c:e.value.mentionedJids});return babelHelpers["extends"]({},a,{supplementals:d,topLevel:e})}g.editMessageToBridgeMsg=a;g.processEditedMessage=b}),98);
__d("MpsEphemeralMessageToBridge",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.supplementals,e=a.topLevel;b=(b=a.message.deserialize().encryptedTransportMessage())==null||(b=b.proto.metadata)==null||(b=b.chatEphemeralSetting)==null?void 0:b.ephemeralExpiration;if(b==null||b===0)return a;var f=d("WATimeUtils").castToUnixTime(a.message.getUnixTs()+b),g=d("WATimeUtils").cappedMillisecondsUntil(f);if(g<=0)return a;e.kind==="bridgeMsg"&&(e.value=babelHelpers["extends"]({},e.value,{ephemeralDurationInSec:b}));a.supplementals.push({kind:"bridgeMsgsStartCountdown",value:{msgs:[{countdownTs:f,millisecondsUntilCountdownTs:g,msgId:a.message.getMsgId(),threadJid:a.message.getChatJid(),ts:a.message.getUnixTs()}]}});return babelHelpers["extends"]({},a,{supplementals:c,topLevel:e})}g.processEphemeralMessage=a}),98);
__d("MpsForwardToBridge",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b,c=a.message,d=a.topLevel;c=c.deserialize().encryptedTransportMessage();if(c==null||d.kind!=="bridgeMsg"||((b=c.proto.metadata)==null?void 0:b.isForwarded)!==!0)return a;d.value=babelHelpers["extends"]({},d.value,{forwardingScore:(d=(b=c.proto.metadata)==null?void 0:b.forwardingScore)!=null?d:0,isForwarded:(d=(b=c.proto.metadata)==null?void 0:b.isForwarded)!=null?d:!1,replyContent:{replyType:"FORWARD"}});return a}f.processForwarding=a}),66);
__d("MpsFutureproofToBridge",["MAWAckLevel","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.FUTUREPROOF};return{kind:"bridgeMsg",value:a}}g.futureproofBridgeMsg=a}),98);
__d("MpsMediaToBridge",["FBLogger","MAWAckLevel","MAWDbMedia","MAWMsgType","WAHashUtils","WALongInt","WATimeUtils","getMediaTypeFromConsumerMessage"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=d("getMediaTypeFromConsumerMessage").getMediaTypeFromConsumerMessage(a.proto);if(b==null)return;return b==="ptt"?d("MAWMsgType").MSG_TYPE.PTT:b==="image"?d("MAWMsgType").MSG_TYPE.IMAGE:b==="video"?d("MAWMsgType").MSG_TYPE.VIDEO:b==="gif"?d("MAWMsgType").MSG_TYPE.GIF:b==="sticker"?d("MAWMsgType").MSG_TYPE.STICKER:b==="document"?d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:b==="xma-image"?null:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b)}()}function a(a){var b,c=a.deserialize().encryptedTransportMessage(),e=c==null?void 0:c.consumerMessage();if(c==null||e==null)return;e=h(e);if(e==null)return;c={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,groupId:(b=c.proto.metadata)==null?void 0:b.groupId,groupIndex:(b=c.proto.metadata)==null?void 0:b.groupIndex,groupSize:(b=c.proto.metadata)==null?void 0:b.groupSize,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:e};return{kind:"bridgeMsg",value:c}}function i(a,b){var e,f,g,i,j,k,l,m,n;e=(e=a.documentMessage())==null?void 0:e.fileName;f=(f=(f=(f=(f=(f=(f=a.audioMessage())==null?void 0:f.payload)!=null?f:(f=a.documentMessage())==null?void 0:f.payload)!=null?f:(f=a.imageMessage())==null?void 0:f.payload)!=null?f:(f=a.stickerMessage())==null?void 0:f.payload)!=null?f:(f=a.videoMessage())==null?void 0:f.payload)!=null?f:{};var o=f.ancillary;f=f.integral;if((o==null?void 0:o.receiverFetchId)!=null||(f==null?void 0:f.receiverFetchId)!=null)return;a=h(a);if(a==null||o==null||f==null){a==null&&(o!=null||f!=null)&&c("FBLogger")("mps").mustfix("media type is null but ancillary or integral is not");return}var p=b.getMsgId(),q=f==null||(g=f.transport)==null||(g=g.integral)==null?void 0:g.mediaKeyTimestamp,r=f==null||(i=f.transport)==null||(i=i.integral)==null?void 0:i.fileSha256;r=r!=null?d("WAHashUtils").toPlaintextHash(r):void 0;return babelHelpers["extends"]({accessibilitySummaryText:o.accessibilityLabel,defaultFilename:e,duration:((j=o.seconds)!=null?j:0)*1e3,filenames:e!=null?(j={},j[p]=e,j):void 0,filesize:d("WALongInt").numberOrThrowIfTooLarge((e=f==null||(k=f.transport)==null||(k=k.ancillary)==null?void 0:k.fileLength)!=null?e:0),hasMedia:!0,hasPreviewMedia:(f==null||(l=f.transport)==null||(l=l.ancillary)==null?void 0:l.thumbnail)!=null},o.hdType!=null?{hdTypes:(j={},j[p]=o.hdType,j)}:{},{mediaId:d("MAWDbMedia").convertNumberToMediaId(0),mediaType:a,messagesSortOrderMs:(e={},e[p]=b.topLevel.timestampMs,e),msgIds:[p],offlineAttachmentId:r,plaintextHash:r,previewHeight:f==null||(m=f.transport)==null||(m=m.ancillary)==null||(m=m.thumbnail)==null?void 0:m.thumbnailHeight,previewHeightLarge:o==null?void 0:o.height,previewWidth:f==null||(n=f.transport)==null||(n=n.ancillary)==null||(n=n.thumbnail)==null?void 0:n.thumbnailWidth,previewWidthLarge:o==null?void 0:o.width,sortOrderMs:q!=null?d("WATimeUtils").castLongIntToMillisTime(q):void 0,threadJid:b.getChatJid(),transportKey:"WhatsApp",ts:b.getUnixTs()})}function b(a){var b;b=(b=a.message.deserialize().encryptedTransportMessage())==null?void 0:b.consumerMessage();if(b==null)return a;b=i(b,a.message);if(b==null)return a;a.supplementals.push({kind:"bridgeMedia",value:b});return a}g.getMediaTypeForMessage=h;g.mediaToBridge=a;g.getBridgeMediaFromConsumerMessage=i;g.processAttachment=b}),98);
__d("mwv2MessageIsEmojiOnly",["EmojiRenderer","EmoticonRenderer","ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,b){if(a==null)return!1;var c=d("ReStoreVaulting").maybeUnvault(a);a=d("EmojiRenderer").parse(c).map(function(a){return{length:a.length,offset:a.offset}});b=b?d("EmoticonRenderer").parse(c).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];a=a.concat(b);if(a.length===0)return!1;b=a.sort(function(a,b){return a.offset-b.offset|0});var e={contents:0},f={contents:0};a=b.some(function(a){e.contents===a.offset?(e.contents=e.contents+a.length|0,f.contents=e.contents):f.contents=a.offset;var b=c.substring(e.contents,f.contents);e.contents=a.offset+a.length|0;return h.test(b)===!1});b=e.contents!==c.length&&!h.test(c.substring(f.contents));if(a)return!1;else return!b}g["default"]=a}),98);
__d("MpsMessageTextToBridge",["MAWAckLevel","MAWMpsGating","MAWVault","WAJids","WAMsgType","maybeConvertMessageTextMentionsV2ToV1","mwv2MessageIsEmojiOnly"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e,f=a.deserialize().encryptedTransportMessage(),g=f==null?void 0:f.consumerMessage(),h=(g==null||(b=g.payload)==null||(b=b.content)==null?void 0:b.messageText)&&c("maybeConvertMessageTextMentionsV2ToV1")(g==null||(e=g.payload)==null||(e=e.content)==null?void 0:e.messageText);if(g==null||h==null||f==null)return;f=(f=h.text)!=null?f:"";d("MAWMpsGating").isFullMpsEnabled()&&!c("mwv2MessageIsEmojiOnly")(f,!0)&&(f+="*");f=d("MAWVault").vault(f);g={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),commands:h.commands,content:f,externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,mentionedJids:h.mentionedJid.map(d("WAJids").validateUserJid).filter(Boolean),msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,specialTextSize:(h=(f=g.metadata)==null?void 0:f.specialTextSize)!=null?h:void 0,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.TEXT};return{kind:"bridgeMsg",value:g}}g.messageTextToBridgeMsg=a}),98);
__d("MpsNoteReplyToBridge",["MAWAckLevel","MAWVault","WALongInt","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c,e=a.deserialize().encryptedTransportMessage(),f=e==null||(b=e.armadillo())==null||(b=b.payload)==null||(b=b.content)==null?void 0:b.noteReplyMessage;if(e==null||f==null)return;e=a.message.senderId;c={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),content:d("MAWVault").vault((c=(c=f.textContent)==null?void 0:c.text)!=null?c:""),editCount:0,externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isExpiredMsg:!1,isForwarded:!1,isNoteReply:!0,msgId:a.getMsgId(),replyContent:{noteContent:d("MAWVault").vault((c=(c=f.noteText)==null?void 0:c.text)!=null?c:""),replyMediaExpirationTimestampMs:f.noteTimestampMs!=null?d("WATimeUtils").castToMillisTime(d("WALongInt").numberOrThrowIfTooLarge(f.noteTimestampMs)):void 0,replyToMsgId:a.getMsgId(),replyToUserId:e,replyType:"LIGHTWEIGHT_STATUS"},sender:e,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:"Text"};return{kind:"bridgeMsg",value:c}}g.noteReplyToBridge=a}),98);
__d("MpsRavenToBridge",["EphemeralMediaViewMode","FBLogger","MAWAckLevel","MAWDbMedia","MAWProtobufDeserializers","RavenMessagingState","WAArmadilloApplication.pb","WAHashUtils","WAMsgType","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c;b=(b=a.deserialize().encryptedTransportMessage())==null||(b=b.armadillo())==null||(b=b.payload)==null?void 0:b.content;c=(c=b==null?void 0:b.ravenMessage)!=null?c:b==null?void 0:b.ravenMessageMsgr;if(c==null)return;b={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),content:"",externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.RAVEN};return{kind:"bridgeMsg",value:b}}function b(a){var b,e=a.message;e=(e=e.deserialize().encryptedTransportMessage())==null||(e=e.armadillo())==null||(e=e.payload)==null?void 0:e.content;var f=(b=e==null?void 0:e.ravenMessage)!=null?b:e==null?void 0:e.ravenMessageMsgr;if(f==null)return a;var g,h;a.supplementalMessages.forEach(function(a){var b;a=(a=d("MAWProtobufDeserializers").DeserializedBackupMessage.create(a.payload).encryptedTransportMessage())==null||(a=a.armadillo())==null||(a=a.payload)==null?void 0:a.content;g=(b=a==null?void 0:a.ravenMessage)!=null?b:a==null?void 0:a.ravenMessageMsgr;h=a==null?void 0:a.ravenActionNotifMessage});b=(typeof g==="object"&&g!==null||typeof g==="function")&&(typeof g.videoMessage==="object"&&g.videoMessage!==null||typeof g.videoMessage==="function")?d("WAMsgType").MSG_TYPE.VIDEO:(typeof g==="object"&&g!==null||typeof g==="function")&&(typeof g.imageMessage==="object"&&g.imageMessage!==null||typeof g.imageMessage==="function")?d("WAMsgType").MSG_TYPE.IMAGE:null;if(b==null&&h==null){c("FBLogger")("mps").mustfix("Unsupported Raven type");return a}e=a.message.getMsgId();var i=f.ephemeralType===d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.VIEW_ONCE?c("EphemeralMediaViewMode").READ_ONCE:f.ephemeralType===d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.ALLOW_REPLAY?c("EphemeralMediaViewMode").REPLAYABLE:f.ephemeralType===d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.KEEP_IN_CHAT?c("EphemeralMediaViewMode").PERMANENT:f.ephemeralType===void 0?void 0:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+f.ephemeralType)}();b={duration:null,ephemeralMediaState:h==null?c("RavenMessagingState").UNSEEN:c("RavenMessagingState").SEEN,ephemeralMediaViewMode:i,filesize:100,hasMedia:!1,hasPreviewMedia:!1,mediaId:d("MAWDbMedia").convertNumberToMediaId(0),mediaType:b||d("WAMsgType").MSG_TYPE.IMAGE,messagesSortOrderMs:(i={},i[e]=a.message.topLevel.timestampMs,i),msgIds:[a.message.getMsgId()],plaintextHash:d("WAHashUtils").stringToPlaintextHash("aaa"),previewHeight:1,previewHeightLarge:1,previewWidth:1,previewWidthLarge:1,sortOrderMs:d("WATimeUtils").castLongIntToMillisTime(a.message.topLevel.timestampMs),threadJid:a.message.getChatJid(),ts:a.message.getUnixTs()};a.supplementals.push({kind:"bridgeMedia",value:b});return a}g.ravenToBridge=a;g.processRavenAttachment=b}),98);
__d("MpsReactionToBridge",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;b=(b=a.deserialize().encryptedTransportMessage())==null||(b=b.consumerMessage())==null||(b=b.payload)==null||(b=b.content)==null?void 0:b.reactionMessage;if(b==null)return;var c=b.senderTimestampMs!=null?d("WATimeUtils").castMilliSecondsToUnixTime(d("WATimeUtils").castLongIntToMillisTime(b.senderTimestampMs)):a.getUnixTs();b={reaction:{actorId:a.message.senderId,chatJid:a.getChatJid(),messageId:a.topLevelMetadata().getMsgId(),reaction:(a=b.text)!=null?a:"",ts:c},type:"upsert"};return{kind:"bridgeReactionAction",value:b}}g.reactionMessageToBridgeMsg=a}),98);
__d("MpsReceiverFetchInfoToBridge",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c,e,f,g;a=(a=(a=a.stickerMessage())==null?void 0:a.payload)!=null?a:{};var h=a.ancillary;a=a.integral;c=(c=a==null?void 0:a.receiverFetchId)!=null?c:h==null?void 0:h.receiverFetchId;a=a==null||(e=a.transport)==null||(e=e.ancillary)==null?void 0:e.mimetype;if(c==null||a==null)return;f=(f=h==null?void 0:h.width)!=null?f:0;g=(g=h==null?void 0:h.height)!=null?g:0;return{accessibilitySummaryText:h==null?void 0:h.accessibilityLabel,mimetype:a,msgId:b.getMsgId(),previewHeight:g,previewWidth:f,receiverFetchId:c,sortOrderMs:d("WATimeUtils").castLongIntToMillisTime(b.message.timestampMs),threadJid:b.getChatJid(),transportKey:"WhatsApp",type:"sticker"}}function a(a){var b;b=(b=a.message.deserialize().encryptedTransportMessage())==null?void 0:b.consumerMessage();if(b==null)return a;b=h(b,a.message);if(b==null)return a;a.supplementals.push({kind:"bridgeReceiverFetchInfo",value:b});return a}g.getReceiverFetchInfoFromConsumerMessage=h;g.processReceiverFetchInfo=a}),98);
__d("MpsReplyToBridge",["MpsToBridgeMessageId","MpsTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.message,c=a.topLevel,e=b.deserialize().encryptedTransportMessage();if(c.kind!=="bridgeMsg"||e==null)return a;e=(e=e.proto.metadata)==null?void 0:e.quotedMessage;if(e==null||e.stanzaId==null)return a;if(c.value.replyContent!=null)return a;e=d("MpsTypes").toMessageId(e.stanzaId);c.value=babelHelpers["extends"]({},c.value,{replyContent:{isBumpMsg:!1,replyToMsgId:d("MpsToBridgeMessageId").mpsToBridgeMsgId(b.message.threadId,e),replyType:"MESSAGE"}});return babelHelpers["extends"]({},a,{topLevel:c})}g.processReplyMessage=a}),98);
__d("MpsRevokeMessageToBridgeMsg",["MAWAckLevel","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.deserialize().encryptedTransportMessage(),e=c==null||(b=c.consumerMessage())==null||(b=b.payload)==null||(b=b.applicationData)==null?void 0:b.revoke;if(c==null||e==null)return;return{kind:"bridgeMsg",value:{ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.REVOKED}}}g.revokeMessageToBridgeMsg=a}),98);
__d("MpsScreenshotActionToBridgeMsg",["MAWAckLevel","MAWEphemeralUtils","WAArmadilloApplication.pb","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.deserialize().encryptedTransportMessage(),e=c==null||(b=c.armadillo())==null||(b=b.proto.payload)==null||(b=b.content)==null?void 0:b.screenshotAction;if(e==null||c==null)return;e=d("MAWEphemeralUtils").getEphemeralScreenshotActionData((c=e.screenshotType)!=null?c:d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREENSHOT_IMAGE,a.getSenderJid(),a.isAuthorMe());c={ack:d("MAWAckLevel").ACK.received,adminContent:e.ephemeralScreenshotActionContent,adminType:e.ephemeralScreenshotActionType,adminVersion:1,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:c}}g.screenshotActionToBridgeMsg=a}),98);
__d("MpsUnsupportedMessagesToBridge",["MAWAckLevel","MAWParseXMAFBConfig","MAWParseXMAUnsupportedMessageType","WACommon.pb","WAMsgType","WAParseReadOnlyMetadataDataclassUtils","gkx","justknobx","maybeConvertMessageTextMentionsV2ToV1"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e,f,g,h,i,j,k=a.deserialize().encryptedTransportMessage();if(k==null)return;var l=k==null?void 0:k.consumerMessage();a={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.FUTUREPROOF};var m=(l==null||(b=l.payload)==null||(b=b.content)==null?void 0:b.messageText)&&c("maybeConvertMessageTextMentionsV2ToV1")(l==null||(e=l.payload)==null||(e=e.content)==null?void 0:e.messageText);if(m!=null){m=((m=m.commands)==null?void 0:m.some(function(a){return a.commandType===d("WACommon.pb").COMMAND_COMMAND_TYPE.AI}))===!0;if(m&&!c("gkx")("12661"))return{kind:"bridgeMsg",value:babelHelpers["extends"]({},a,{unsupportedType:"metaAiMessage"})}}m=k==null||(f=k.armadillo())==null?void 0:f.paymentsTransactionMessage();var n=m!=null?m:k==null||(g=k.armadillo())==null?void 0:g.extendedContentMessage();if(n!=null){n=n.payload;var o=n.targetType;n=n.xmaDataclass;if(o==null||!d("MAWParseXMAFBConfig").isFBSupportedTargetType({fbTargetType:o,xmaDataclass:n})){m=m!=null;return{kind:"bridgeMsg",value:babelHelpers["extends"]({},a,{unsupportedType:d("MAWParseXMAUnsupportedMessageType").getXMAUnsupportedMessageType(o,n,m)})}}}o=l==null||(h=l.stickerMessage())==null?void 0:h.payload;if(o!=null){n=((n=o.integral)==null?void 0:n.receiverFetchId)!=null||((m=o.ancillary)==null?void 0:m.receiverFetchId)!=null;if(n&&!c("justknobx")._("3677"))return{kind:"bridgeMsg",value:babelHelpers["extends"]({},a,{unsupportedType:"stickerReceiverFetchMessage"})}}o=l==null||(i=l.documentMessage())==null?void 0:i.payload;if(o!=null&&!!c("gkx")("23924"))return{kind:"bridgeMsg",value:babelHelpers["extends"]({},a)};if(d("WAParseReadOnlyMetadataDataclassUtils").isNoteMention(k.proto.metadata))return{kind:"bridgeMsg",value:babelHelpers["extends"]({},a,{unsupportedType:"noteMention"})};m=l==null||(j=l.payload)==null||(j=j.content)==null?void 0:j.pollCreationMessage;if(m!=null)return{kind:"bridgeMsg",value:babelHelpers["extends"]({},a,{unsupportedType:"pollCreationMessage"})}}g.unsupportedMessagesBridgeMsg=a}),98);
__d("MpsWaAdminMsgToBridge",["MAWAckLevel","MAWGetUserDeviceChangeAdminType","MAWJids","MAWLocalizationType","MAWMpsGating","MAWUserJidWrapper","WAArmadilloTransportEvent.pb","WAJids","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c;if(d("MAWMpsGating").isMpsWaAdminMsgsEnabled()===!1&&d("MAWMpsGating").isFullMpsEnabled()===!1)return;var e=a.deserialize();b=(b=e.encryptedTransportEvent())==null?void 0:b.proto.event;if(!b)return;var f=b.deviceChange;b=b.icdcAlert;if(((c=e.proto.metadata)==null?void 0:c.senderId)==null)return;c=d("WAJids").unsafeCoerceToUserJid((c=e.proto.metadata)==null?void 0:c.senderId);c=d("MAWJids").toUserJid(c);c=c===d("MAWUserJidWrapper").getMyUserJid()?[]:[d("WAJids").userIdFromJid(c)];if(b)return{kind:"bridgeMsg",value:{ack:d("MAWAckLevel").ACK.received,adminContent:c,adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE,adminVersion:1,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.ICDC_ALERT}};if(f){var g;b=(typeof f==="object"&&f!==null||typeof f==="function")&&"type"in f&&f.type===d("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.ADDED?"add":(typeof f==="object"&&f!==null||typeof f==="function")&&"type"in f&&f.type===d("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.REMOVED?"remove":typeof f==="object"&&f!==null||typeof f==="function"?"update":function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+f)}();if(((g=e.proto.metadata)==null?void 0:g.senderId)==null)return;e=d("WAJids").unsafeCoerceToUserJid((g=e.proto.metadata)==null?void 0:g.senderId);g=d("MAWJids").toUserJid(e);e=d("MAWGetUserDeviceChangeAdminType").getUserDeviceAdminType(b,g===d("MAWUserJidWrapper").getMyUserJid());b={ack:d("MAWAckLevel").ACK.received,adminContent:c,adminType:e,adminVersion:1,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:b}}return}g.waAdminMsgToBridgeMsg=a}),98);
__d("MpsWaPlaceholderToBridge",["MAWAckLevel","WAArmadilloTransportEvent.pb","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.deserialize().encryptedTransportEvent(),e=c==null||(b=c.proto.placeholder)==null?void 0:b.type;if(c==null||e==null)return;c={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:e===d("WAArmadilloTransportEvent.pb").TransportEvent$Placeholder$Type.UNAVAILABLE_MESSAGE?d("WAMsgType").MSG_TYPE.UNAVAILABLE:d("WAMsgType").MSG_TYPE.CIPHERTEXT};return{kind:"bridgeMsg",value:c}}g.waPlaceholderToBridgeMsg=a}),98);
__d("MpsXmaMentionToBridge",["MAWUserJidWrapper","MAWXMAUtils","WAJids","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.message,e=a.topLevel,f=c.deserialize().encryptedTransportMessage(),g=f==null||(b=f.armadillo())==null?void 0:b.extendedContentMessage(),h=g==null?void 0:g.payload.targetType,i=d("MAWXMAUtils").isXMAStoryMention(h)||d("MAWXMAUtils").isFBXMAPostMention(h);if(f==null||g==null||!i||e.kind!=="bridgeMsg")return a;f=d("MAWXMAUtils").isFBXMAPostMention(h);g=d("WAJids").interpretAsUserJid(c.getChatJid());i=d("WAJids").extractUserId(d("MAWUserJidWrapper").getMyUserJid());h=g==null?i:d("WAJids").userIdFromJid(g);g={mentionedUserId:h!=null?h:i,timestampMs:d("WATimeUtils").castToMillisTime(c.message.timestampMs)};h=f?babelHelpers["extends"]({},g,{replyType:"FB_POST_MENTION"}):babelHelpers["extends"]({},g,{replyType:"FB_STORY_MENTION"});e.value=babelHelpers["extends"]({},e.value,{replyContent:h});return a}g.processXmaMention=a}),98);
__d("MpsXmaToBridge",["MAWAckLevel","MAWBridgeXMA","MAWDbMedia","MAWDbXMA","MAWXMAUtils","WAHashUtils","WAJids","WALongInt","WAMedia","maybeConvertMessageTextMentionsV2ToV1","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=["actionContentBlob"];function i(a){var b;if(((b=(b=a.payload.messageText)==null?void 0:b.length)!=null?b:0)>0)return c("maybeConvertMessageTextMentionsV2ToV1")({commands:a.payload.commands,mentionedJid:a.payload.mentionedJid,mentions:a.payload.mentions,text:a.payload.messageText});a=(b=a.associatedMessage())==null||(b=b.consumerMessage())==null||(b=b.payload)==null||(b=b.content)==null?void 0:b.messageText;if(a!=null&&a.text!=null)return c("maybeConvertMessageTextMentionsV2ToV1")(a)}function a(a){var b,c=a.deserialize().encryptedTransportMessage(),e=c==null||(b=c.armadillo())==null?void 0:b.extendedContentMessage();if(c==null||e==null||d("MAWXMAUtils").isXMAStoryReply(e.payload.targetType))return;c=i(e);c={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),commands:c==null?void 0:c.commands,content:c==null?void 0:c.text,externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isFBPostMention:d("MAWXMAUtils").isFBXMAPostMention(e.payload.targetType),isFBStoryMention:d("MAWXMAUtils").isFBXMAStoryMention(e.payload.targetType),isForwarded:!1,isIGStoryMention:d("MAWXMAUtils").isIGXMAStoryMention(e.payload.targetType),isIGXMAPostShare:d("MAWXMAUtils").isIGXMAPostShare(e.payload.targetType),isIGXMAStoryShare:d("MAWXMAUtils").isIGXMAStoryShare(e.payload.targetType),isMsgHighlightsTabFriendUpdatesReply:d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(e.payload.targetType),isPostPrivateReply:d("MAWXMAUtils").isXMAPostPrivateReply(e.payload.targetType),isStoryHighlightShare:d("MAWXMAUtils").isXMAStoryHighlightShare(e.payload.targetType),isStoryProducerReply:d("MAWXMAUtils").isXMAStoryProducerReply(e.payload.targetType),isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(e.payload.targetType),isStoryReply:d("MAWXMAUtils").isXMAStoryReply(e.payload.targetType),isStoryShare:d("MAWXMAUtils").isXMAStoryShare(e.payload.targetType),mentionedJids:c==null?void 0:c.mentionedJid.map(d("WAJids").validateUserJid).filter(Boolean),msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:"XMA",xmaMessageType:e.payload.targetType};return{kind:"bridgeMsg",value:c}}function b(a){var b,e,f,g,i,j,k,l,m,n=a.message,o=a.topLevel;if(o.value.type_!=="XMA")return a;o=n.deserialize().encryptedTransportMessage();var p=o==null||(b=o.armadillo())==null?void 0:b.extendedContentMessage();if(o==null||p==null)return a;o=p.payload.ctas.map(function(a){a.actionContentBlob;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return a});var q=p.previews().at(0),r=q==null||(e=q.integral)==null||(e=e.transport)==null||(e=e.integral)==null?void 0:e.fileSha256;r=r!=null?d("WAHashUtils").toPlaintextHash(r):void 0;f=(f=p.favicon())==null||(f=f.integral)==null||(f=f.transport)==null||(f=f.integral)==null?void 0:f.fileSha256;f=f!=null?d("WAHashUtils").toPlaintextHash(f):void 0;g=(g=p.headerImage())==null||(g=g.integral)==null||(g=g.transport)==null||(g=g.integral)==null?void 0:g.fileSha256;g=g!=null?d("WAHashUtils").toPlaintextHash(g):void 0;var s=d("WAMedia").MEDIA_TYPE.IMAGE,t=d("MAWBridgeXMA").mediaTypeToMimeType(s),u=c("nullthrows")(p.payload.targetType);o={author:n.getAuthor(),contentRef:p.payload.contentRef,ctas:o.slice(1),defaultCTA:o.at(0),defaultPreviewMediaId:d("MAWDbMedia").convertNumberToMediaId(0),defaultPreviewMediaPlaintextHash:r,duration:null,faviconMediaId:d("MAWDbMedia").convertNumberToMediaId(0),faviconPlaintextHash:f,filesize:d("WALongInt").numberOrThrowIfTooLarge((n=q==null||(i=q.integral)==null||(i=i.transport)==null||(i=i.ancillary)==null?void 0:i.fileLength)!=null?n:0),hasMedia:!0,hasXmaFaviconMedia:!0,hasXmaHeaderMedia:!0,headerMediaId:d("MAWDbMedia").convertNumberToMediaId(0),headerMediaPlaintextHash:g,headerTitle:p.payload.headerTitle,maxSubtitleNumOfLines:p.payload.maxSubtitleNumOfLines,maxTitleNumOfLines:p.payload.maxTitleNumOfLines,mediaType:s,msgId:a.message.getMsgId(),offlineAttachmentId:r,overlayIconGlyph:p.payload.overlayIconGlyph,overlayTitle:p.payload.overlayTitle,playableUrlMimeType:t,previewHeight:q==null||(j=q.integral)==null||(j=j.transport)==null||(j=j.ancillary)==null||(j=j.thumbnail)==null?void 0:j.thumbnailHeight,previewHeightLarge:q==null||(k=q.ancillary)==null?void 0:k.height,previewUrlMimeType:t,previewWidth:q==null||(l=q.integral)==null||(l=l.transport)==null||(l=l.ancillary)==null||(l=l.thumbnail)==null?void 0:l.thumbnailWidth,previewWidthLarge:q==null||(m=q.ancillary)==null?void 0:m.width,subtitleText:p.payload.subtitleText,targetId:p.payload.targetId,targetType:u,targetUsername:p.payload.targetUsername,threadJid:a.message.getChatJid(),titleText:p.payload.titleText,ts:a.message.getUnixTs(),xmaDataclass:p.payload.xmaDataclass,xmaId:d("MAWDbXMA").convertNumberToXMAId(0),xmaLayoutType:p.payload.xmaLayoutType};a.supplementals.push({kind:"bridgeXMA",value:o});return a}g.computeXmaContent=i;g.xmaToBridge=a;g.processXmaAttachment=b}),98);
__d("MpsXmaStoryReplyToBridge",["MAWAckLevel","MAWDbMedia","MAWMsgType","MAWUserJidWrapper","MAWXMAUtils","MpsMediaToBridge","MpsReceiverFetchInfoToBridge","MpsXmaToBridge","WAHashUtils","WAJids","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c;c=(c=d("WAJids").interpretAsUserJid(b.getChatJid()))!=null?c:b.getSenderJid();var e=d("MAWUserJidWrapper").getMyUserJid();if(d("MAWXMAUtils").isXMAStoryProducerReply(a.targetType))return b.isAuthorMe()?e:c;else return b.isAuthorMe()?c:e}function a(a){var b,c,e,f=a.deserialize().encryptedTransportMessage(),g=f==null||(b=f.armadillo())==null?void 0:b.extendedContentMessage();if(f==null||g==null||!d("MAWXMAUtils").isXMAStoryReply(g.payload.targetType))return;f=d("MpsXmaToBridge").computeXmaContent(g);var i=g.previews().at(0);i=i==null||(c=i.integral)==null||(c=c.transport)==null||(c=c.integral)==null?void 0:c.fileSha256;i=i!=null?d("WAHashUtils").toPlaintextHash(i):void 0;e=(e=g.payload.ctas.at(0))==null?void 0:e.nativeUrl;var j=h(g.payload,a),k=d("MAWXMAUtils").isXMAStoryProducerReply(g.payload.targetType);g=(g=g.associatedMessage())==null?void 0:g.consumerMessage();g=g!=null?d("MpsMediaToBridge").getMediaTypeForMessage(g):null;k=k?{replyType:"FB_PRODUCER_STORY_REPLY",storyMediaId:d("MAWDbMedia").convertNumberToMediaId(1),storyMediaPlaintextHash:i,storyMsgType:d("MAWMsgType").MSG_TYPE.IMAGE,storyOwnerId:d("WAJids").extractUserId(j),storyUrl:e!=null?e:"",timestampMs:d("WATimeUtils").castToMillisTime(a.message.timestampMs)}:{replyType:"STORY",storyMediaPlaintextHash:i,storyOwnerId:d("WAJids").extractUserId(j),storyUrl:e!=null?e:"",timestampMs:d("WATimeUtils").castToMillisTime(a.message.timestampMs)};i={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),commands:f==null?void 0:f.commands,content:f==null?void 0:f.text,externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,isStoryReply:!0,mentionedJids:f==null?void 0:f.mentionedJid.map(d("WAJids").validateUserJid).filter(Boolean),msgId:a.getMsgId(),replyContent:k,sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:g!=null?g:"Text"};return{kind:"bridgeMsg",value:i}}function b(a){var b;b=(b=a.message.deserialize().encryptedTransportMessage())==null||(b=b.armadillo())==null||(b=b.extendedContentMessage())==null||(b=b.associatedMessage())==null?void 0:b.consumerMessage();if(b==null)return a;var c=d("MpsMediaToBridge").getBridgeMediaFromConsumerMessage(b,a.message);c!=null&&a.supplementals.push({kind:"bridgeMedia",value:c});c=d("MpsReceiverFetchInfoToBridge").getReceiverFetchInfoFromConsumerMessage(b,a.message);c!=null&&a.supplementals.push({kind:"bridgeReceiverFetchInfo",value:c});return a}g.storyReplyToBridge=a;g.processXmaAssociatedMessageAttachment=b}),98);
__d("MpsMessageToBridge",["MAWMsgType","MpsAdminMsgToBridge","MpsBumpMessageToBridgeMsg","MpsEditToBridge","MpsEphemeralMessageToBridge","MpsForwardToBridge","MpsFutureproofToBridge","MpsMediaToBridge","MpsMessageTextToBridge","MpsMessageToBridgeWrapper","MpsNoteReplyToBridge","MpsRavenToBridge","MpsReactionToBridge","MpsReceiverFetchInfoToBridge","MpsReplyToBridge","MpsRevokeMessageToBridgeMsg","MpsScreenshotActionToBridgeMsg","MpsUnsupportedMessagesToBridge","MpsWaAdminMsgToBridge","MpsWaPlaceholderToBridge","MpsXmaMentionToBridge","MpsXmaStoryReplyToBridge","MpsXmaToBridge"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MpsUnsupportedMessagesToBridge").unsupportedMessagesBridgeMsg,d("MpsMessageTextToBridge").messageTextToBridgeMsg,d("MpsMediaToBridge").mediaToBridge,d("MpsAdminMsgToBridge").adminMsgToBridgeMsg,d("MpsScreenshotActionToBridgeMsg").screenshotActionToBridgeMsg,d("MpsRevokeMessageToBridgeMsg").revokeMessageToBridgeMsg,d("MpsBumpMessageToBridgeMsg").bumpMessageToBridgeMsg,d("MpsWaAdminMsgToBridge").waAdminMsgToBridgeMsg,d("MpsXmaToBridge").xmaToBridge,d("MpsXmaStoryReplyToBridge").storyReplyToBridge,d("MpsRavenToBridge").ravenToBridge,d("MpsNoteReplyToBridge").noteReplyToBridge,d("MpsWaPlaceholderToBridge").waPlaceholderToBridgeMsg,d("MpsFutureproofToBridge").futureproofBridgeMsg],i=[d("MpsEditToBridge").editMessageToBridgeMsg,d("MpsReactionToBridge").reactionMessageToBridgeMsg],j=[d("MpsEditToBridge").processEditedMessage,d("MpsReplyToBridge").processReplyMessage,d("MpsMediaToBridge").processAttachment,d("MpsEphemeralMessageToBridge").processEphemeralMessage,d("MpsReceiverFetchInfoToBridge").processReceiverFetchInfo,d("MpsXmaToBridge").processXmaAttachment,d("MpsXmaStoryReplyToBridge").processXmaAssociatedMessageAttachment,d("MpsXmaMentionToBridge").processXmaMention,d("MpsRavenToBridge").processRavenAttachment,d("MpsForwardToBridge").processForwarding];function k(a,b){for(a of a){var c=a(b);if(c!=null)return c}}function a(a){var b=d("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(a.toplevelProtobuf),c=k(h,b);if(c==null)return;if(c.kind==="bridgeMsg"&&c.value.type_===d("MAWMsgType").MSG_TYPE.ADMIN&&c.value.adminType==null)return;if(c.kind==="bridgeMsg"&&c.value.type_===d("MAWMsgType").MSG_TYPE.FUTUREPROOF)return{supplementals:[],topLevel:c};var e=a.supplementalProtobufs.values().toArray().map(function(b){return k(i,d("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromSupplemental(b,a.toplevelProtobuf))}).filter(Boolean);b=j.reduce(function(a,b){return b(a)},{message:b,supplementalMessages:a.supplementalProtobufs,supplementals:e,topLevel:c});return{supplementals:b.supplementals,topLevel:b.topLevel}}g.mpsFullMessagetoBridge=a}),98);
__d("WAAbPropsTypes",[],(function(a,b,c,d,e,f){"use strict";a={noyb_opt_out_flag:[3488,"bool",!1,!1],service_improvement_opt_out_flag:[3664,"bool",!1,!1],msgrw_test_bool:[704,"bool",!1,!1],msgrw_test_int:[705,"int",0,0],msgrw_test_string:[706,"string","test_string","test_string"],msgrw_test_float:[707,"float",1,1],msgrw_icdc_alert_trigger_failure_count:[1233,"int",8,8],msgrw_icdc_cooldown_interval_in_minutes:[1234,"int",35,35],msgrw_icdc_interval_in_minutes:[1236,"int",1500,1500],msgrw_logger_entries:[1298,"int",0,0],msgrw_max_keys:[2453,"int",812,812],msgrw_job_manager_conf:[2667,"string",'{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}','{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}'],client_group_participants_limit:[618,"int",257,257],client_group_name_length_limit:[1200,"int",25,25]};f.ABPropConfigs=a}),66);
__d("WAAbPropsToUI",["WAAbPropsTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=["client_group_participants_limit","client_group_name_length_limit"];function a(a){var b=a!=null?a:{},c={};h.forEach(function(a){b[a]!=null?c[a]=b[a]:c[a]=d("WAAbPropsTypes").ABPropConfigs[a][2]});return c}g.prepareAbPropsForUI=a}),98);
__d("WAOfflineUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["INIT","OFFLINE_RESUME","ONLINE"]);c=b("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});f.ServerRPCMode=a;f.WAClientInfraOfflineProgress=c}),66);
__d("isGroupInvitesEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("125")===!0}g["default"]=a}),98);
__d("isMAWUniversalSearchWithEBEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("4741")}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ExploreSeeLessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("720");b=d("FalcoLoggerInternal").create("explore_see_less",a);e=b;g["default"]=e}),98);
__d("IGDBlockUserDialogOffMsysQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24517333957879833"}),null);
__d("IGDBlockUserDialogOffMsysQuery$Parameters",["IGDBlockUserDialogOffMsysQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("IGDBlockUserDialogOffMsysQuery_instagramRelayOperation"),metadata:{},name:"IGDBlockUserDialogOffMsysQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("IGDBlockUserDialogOffMsys.entrypoint",["IGDBlockUserDialogOffMsysQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.userFbId;return{queries:{queryReference:{parameters:c("IGDBlockUserDialogOffMsysQuery$Parameters"),variables:{userID:a}}}}},root:c("JSResourceForInteraction")("IGDBlockUserDialogOffMsys.react").__setRef("IGDBlockUserDialogOffMsys.entrypoint")};g["default"]=a}),98);
__d("InstagramAdDirectReshareSendFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3447");b=d("FalcoLoggerInternal").create("instagram_ad_direct_reshare_send",a);e=b;g["default"]=e}),98);
__d("PolarisAPIApproveRestrictedComment",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/restrict_action/approve_restricted_comment/",{body:{comment_id:a}}).then(function(a){return a.data})}g.approveRestrictedComment=a}),98);
__d("PolarisAPIDeleteCommentOnPost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("PolarisInstapi").apiPost("/api/v1/web/comments/{media_id}/delete/{comment_id}/",{path:{comment_id:b,media_id:a}}).then(function(a){return a.data})}g.deleteCommentOnPost=a}),98);
__d("PolarisAPIEditCollection",["PolarisInstapi","emptyObject","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,e=a.collectionName,f=a.postIdsToAdd;a=a.postIdsToRemove;f=babelHelpers["extends"]({added_media_ids:JSON.stringify(f!=null?f:[]),removed_media_ids:JSON.stringify(a!=null?a:[])},c("isStringNullOrEmpty")(e)?c("emptyObject"):{name:e});return d("PolarisInstapi").apiPost("/api/v1/collections/{collection_id}/edit/",{body:f,path:{collection_id:b}}).then(function(a){return a.data})}g.editCollection=a}),98);
__d("XPolarisViewChildCommentsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/api/v1/media/{media_id}/comments/{parent_comment_id}/child_comments/",Object.freeze({can_support_threading:!0,can_support_carousel_mentions:!1,can_support_nested_replies:!1,is_ranked_replies:!1}),void 0);b=a;g["default"]=b}),98);
__d("PolarisAPIGetChildComments",["PolarisInstapi","XPolarisViewChildCommentsControllerRouteBuilder","asyncToGeneratorRuntime","cometAsyncFetch","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=c("gkx")("13423");if(g){g=(yield c("cometAsyncFetch")(c("XPolarisViewChildCommentsControllerRouteBuilder").buildURL(babelHelpers["extends"]({media_id:a,min_id:e!=null?e:void 0,parent_comment_id:b},f===!0?{paging_direction:"view_more"}:{}))));return g}g=(yield d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/{parent_comment_id}/child_comments/",{path:{media_id:a,parent_comment_id:b},query:babelHelpers["extends"]({min_id:e!=null?e:void 0},f===!0?{is_chronological:!0,paging_direction:"view_more"}:{})}));return g.data});return h.apply(this,arguments)}g.getChildComments=a}),98);
__d("XPolarisViewCommentsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/api/v1/media/{media_id}/comments/",Object.freeze({permalink_enabled:!1,should_send_media:!1,can_support_threading:!1,can_support_carousel_mentions:!1,can_support_nested_replies:!1,add_graphql_debug_info:!1,should_fetch_creator_comment_nudge:!1,should_fetch_fb_comments_for_ads:!1}),void 0);b=a;g["default"]=b}),98);
__d("PolarisAPIGetInitialComments",["PolarisInstapi","XPolarisViewCommentsControllerRouteBuilder","asyncToGeneratorRuntime","cometAsyncFetch","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=c("gkx")("13423");if(f){f=(yield c("cometAsyncFetch")(c("XPolarisViewCommentsControllerRouteBuilder").buildURL({can_support_threading:!0,media_id:a,permalink_enabled:!!b,sort_order:e!=null?e:void 0,target_comment_id:b})));return f}f=(yield d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/",{path:{media_id:a},query:{can_support_threading:!0,permalink_enabled:!!b,sort_order:e!=null?String(e):void 0,target_comment_id:b}}));return f.data});return h.apply(this,arguments)}g.getInitialComments=a}),98);
__d("PolarisAPIGetPaginationComments",["PolarisInstapi","XPolarisViewCommentsControllerRouteBuilder","asyncToGeneratorRuntime","cometAsyncFetch","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){e===void 0&&(e=!0);var g=c("gkx")("13423");if(g){g=(yield c("cometAsyncFetch")(c("XPolarisViewCommentsControllerRouteBuilder").buildURL(babelHelpers["extends"]({can_support_threading:!0},e===!0?{min_id:b}:{max_id:b},{media_id:a,sort_order:f}))));return g}g=(yield d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/",{path:{media_id:a},query:babelHelpers["extends"]({can_support_threading:!0},e===!0?{min_id:b}:{max_id:b},{sort_order:String(f)})}));return g.data});return h.apply(this,arguments)}g.getPaginationComments=a}),98);
__d("PolarisAPILikeComment",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/comments/like/{comment_id}/",{path:{comment_id:a}}).then(function(a){return a.data})}g.likeComment=a}),98);
__d("PolarisAPIUnlikeComment",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/comments/unlike/{comment_id}/",{path:{comment_id:a}}).then(function(a){return a.data})}g.unlikeComment=a}),98);
__d("PolarisCommentActions",["FBLogger","PolarisAPIApproveRestrictedComment","PolarisAPIDeleteCommentOnPost","PolarisAPILikeComment","PolarisAPIUnlikeComment","PolarisEngagementLogger","PolarisInstapi","PolarisSentryFeedbackActions","QPLUserFlow","asyncToGeneratorRuntime","polarisLogAction","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){c("QPLUserFlow").start(c("qpl")._(379197659,"1208"),{annotations:{string:{source:e}}});return function(e){e({commentId:b,postId:a,type:"DELETE_COMMENT_REQUESTED"});c("polarisLogAction")("deleteCommentAttempt");return d("PolarisAPIDeleteCommentOnPost").deleteCommentOnPost(a,b).then(function(){e({commentId:b,postId:a,type:"DELETE_COMMENT_SUCCEEDED"}),c("polarisLogAction")("deleteCommentSuccess"),c("QPLUserFlow").endSuccess(c("qpl")._(379197659,"1208"))},function(){e({commentId:b,postId:a,type:"DELETE_COMMENT_FAILED"}),c("polarisLogAction")("deleteCommentFailure"),c("QPLUserFlow").endFailure(c("qpl")._(379197659,"1208"),"api_errored")})}}function e(a){var b=a.commentId,e=a.userId;return function(f){c("QPLUserFlow").start(c("qpl")._(379199145,"1297"),{annotations:{string:{source:a.containerModule}}});f({commentId:b,type:"LIKE_COMMENT_REQUESTED",userId:e});return d("PolarisAPILikeComment").likeComment(b).then(function(){f({commentId:b,type:"LIKE_COMMENT_SUCCEEDED",userId:e}),d("PolarisEngagementLogger").logOrganicCommentLike(a),c("QPLUserFlow").endSuccess(c("qpl")._(379199145,"1297"))},function(g){var h;h=((h=g.responseObject)==null?void 0:h.spam)||!1;if(h){var i,j,k,l,m;h=(h=g.responseObject)==null?void 0:h.feedback_title;i=(i=g.responseObject)==null?void 0:i.feedback_message;j=(j=g.responseObject)==null?void 0:j.feedback_url;k=(k=g.responseObject)==null?void 0:k.feedback_action;l=(l=g.responseObject)==null?void 0:l.feedback_appeal_label;m=(m=g.responseObject)==null?void 0:m.restriction_enrollment_data;g=(g=g.responseObject)==null?void 0:g.enforcement_transparency_instance_identifier;f(d("PolarisSentryFeedbackActions").showSentryFeedback({action:k,enforcement_transparency_instance_identifier:g,feedback_appeal_label:l,message:i,restriction_enrollment_data:m,source:a.containerModule,sourceOfAction:"like_comment",title:h,url:j}))}f({commentId:b,type:"LIKE_COMMENT_FAILED",userId:e});c("QPLUserFlow").endFailure(c("qpl")._(379199145,"1297"),"api_errored")})}}function f(a){var b=a.commentId,e=a.userId;return function(f){c("QPLUserFlow").start(c("qpl")._(379197191,"1298"),{annotations:{string:{source:a.containerModule}}});f({commentId:b,type:"UNLIKE_COMMENT_REQUESTED",userId:e});return d("PolarisAPIUnlikeComment").unlikeComment(b).then(function(){f({commentId:b,type:"UNLIKE_COMMENT_SUCCEEDED",userId:e}),d("PolarisEngagementLogger").logOrganicCommentUnlike(a),c("QPLUserFlow").endSuccess(c("qpl")._(379197191,"1298"))},function(){f({commentId:b,type:"UNLIKE_COMMENT_FAILED",userId:e}),c("QPLUserFlow").endFailure(c("qpl")._(379197191,"1298"),"api_errored")})}}function h(a){return function(b){b({commentId:a,type:"APPROVE_RESTRICTED_COMMENT_REQUESTED"});return d("PolarisAPIApproveRestrictedComment").approveRestrictedComment(a).then(function(){b({commentId:a,type:"APPROVE_RESTRICTED_COMMENT_SUCCEEDED"})},function(){b({commentId:a,type:"APPROVE_RESTRICTED_COMMENT_FAILED"})})}}function i(a){return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e={comment_ids:[a].join()};b({commentId:a,type:"TRANSLATE_COMMENT_REQUESTED"});c("polarisLogAction")("translateCommentAttempt");try{e=(yield d("PolarisInstapi").apiGet("/api/v1/language/bulk_translate/",{query:e}));b({commentId:a,translation:e.data.comment_translations[0].translation,type:"TRANSLATE_COMMENT_SUCCEEDED"});c("polarisLogAction")("translateCommentSuccess")}catch(d){c("FBLogger")("ig_web").catching(d),b({commentId:a,type:"TRANSLATE_COMMENT_FAILED"}),c("polarisLogAction")("translateCommentFailure")}});return function(a){return e.apply(this,arguments)}}()}function j(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b({commentId:a,type:"SHOW_COMMENT_TRANSLATED_TEXT"})});return function(a){return c.apply(this,arguments)}}()}function k(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b({commentId:a,type:"SHOW_COMMENT_ORIGINAL_TEXT"})});return function(a){return c.apply(this,arguments)}}()}g.deleteComment=a;g.likeComment=e;g.unlikeComment=f;g.approveRestrictedComment=h;g.translateComment=i;g.showCommentTranslatedText=j;g.showCommentOriginalText=k}),98);
__d("PolarisApproveCommentDialog.react",["fbt","IGCoreDialog.react","PolarisCommentActions","PolarisGenericStrings","PolarisIgWellbeingRestrictManageCommentFalcoEvent","PolarisReactRedux.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Approve"),l=h._(/*BTDS*/"Approve This Comment?");function m(a){return h._(/*BTDS*/"Only you and {username} can see this comment. If you approve it, it'll be visible to everyone.",[h._param("username",a)])}b=function(a){function b(){var b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=a.call.apply(a,[this].concat(e))||this,b.$1=function(){var a=b.props,d=a.commentId,e=a.commentOwnerId,f=a.commentThreadId;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:e,commentId:d,commentThreadId:f,parentMediaId:a,step:"approval_page_approve_this_comment"});b.props.onApproveClick();b.props.onClose()},b.$2=function(){var a=b.props,d=a.commentId,e=a.commentOwnerId,f=a.commentThreadId;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:e,commentId:d,commentThreadId:f,parentMediaId:a,step:"approval_page_cancel"});b.props.onClose()},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.render=function(){var a=this.props.commentOwnerUsername;return j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:m(a),onModalClose:this.props.onClose,title:l,children:[j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$1,children:k}),j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.$2,children:d("PolarisGenericStrings").CANCEL_TEXT})]})};return b}(j.Component);function a(a,b){return{onApproveClick:function(){a(d("PolarisCommentActions").approveRestrictedComment(b.commentId))}}}e=d("PolarisReactRedux.react").connect(null,a)(b);g.APPROVE_COMMENT_CTA=k;g.ApproveCommentDialog=e}),226);
__d("PolarisTextWithEntities.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a,b){return a.offset===b.offset&&(a.length===0||b.length===0)?a.length-b.length:a.offset-b.offset}function k(a){return[].concat(a.ranges).filter(Boolean).sort(j)}function a(a){var b=d("react-compiler-runtime").c(4);if(b[0]!==a){var c=0,e=[],f=a.text,g=k(a),h=[],j=[];for(var l=0;l<g.length;l++)h.push(g[l].offset),j.push(g[l].offset+g[l].length);l=[];var m=0;while(m<g.length){var n=g[m];if(j[m]<c){m=l.length>0?l.pop():m+1;continue}if(n.offset>c){var o=f.substring(c,n.offset);e.push(i.jsx(i.Fragment,{children:o},o+m));c=n.offset}o=0;for(var p=m+1;p<g.length;p++)if(h[p]<j[m]&&h[p]>=c){o=p;break}if(o!==0){p=f.substring(c,h[o]);e.push(i.jsx(i.Fragment,{children:a.rangeRenderer(p,n)},p+m));c=h[o];l.push(m);m=o;continue}p=f.substring(c,j[m]);e.push(i.jsx(i.Fragment,{children:a.rangeRenderer(p,n)},p+m));c=j[m];l.length>0?m=l.pop():m++}if(f.length>c){o=f.substr(c);b[2]!==o?(n=i.jsx(i.Fragment,{children:o},o),b[2]=o,b[3]=n):n=b[3];e.push(n)}p=a.textRenderer(e);b[0]=a;b[1]=p}else p=b[1];return p}g["default"]=a}),98);
__d("goURIOnWindow",["ConstUriUtils","FBLogger","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=typeof b==="string"?d("ConstUriUtils").getUri(b):d("ConstUriUtils").isConstUri(b);if(e){if(a==null)return!1;a.location=e.toString();return!0}else{a="Invalid URI "+b.toString()+" provided to goURIOnWindow";c("FBLogger")("comet_infra").blameToPreviousFrame().mustfix(a);return!1}}g["default"]=a}),98);
__d("goUriOnNewWindow",["goURIOnWindow"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=window.open("","_blank");return b==null?!1:c("goURIOnWindow")(b,a)}g["default"]=a}),98);
__d("PolarisCommentOptionsDialog.react",["fbt","IGCoreDialog.react","IGDSDialogBackwardsCompatibilityWrapper.react","PolarisFRXReportModal.react","PolarisGenericStrings","PolarisIsLoggedIn","PolarisReportConstants","PolarisReportUnderLawDialogItem.react","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState;function a(a){var b=d("react-compiler-runtime").c(33),e=a.canDeleteComment,f=a.canPinComment,g=a.commentId,i=a.commentOwnerAvatar,l=a.commentOwnerFbidV2,m=a.commentOwnerId,n=a.commentOwnerUsername,o=a.mediaOwnerId,p=a.onClose,q=a.onDelete;a=a.onPin;f=f===void 0?!1:f;var r=k(!1),s=r[0],t=r[1];r=m!==((r=c("usePolarisViewer")())==null?void 0:r.id);var u;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(u=function(){t(!0)},b[0]=u):u=b[0];u=u;var v;b[1]!==p?(v=function(){p(),t(!1)},b[1]=p,b[2]=v):v=b[2];v=v;var w;b[3]!==p||b[4]!==q?(w=function(){q(),p()},b[3]=p,b[4]=q,b[5]=w):w=b[5];w=w;if(s){b[6]!==i||b[7]!==l||b[8]!==m||b[9]!==n?(s={fbidV2:l,id:m,profilePicURL:i,username:n},b[6]=i,b[7]=l,b[8]=m,b[9]=n,b[10]=s):s=b[10];i=m===o;b[11]!==g||b[12]!==v||b[13]!==s||b[14]!==i?(l=j.jsx(c("IGDSDialogBackwardsCompatibilityWrapper.react"),{children:j.jsx(c("PolarisFRXReportModal.react"),{frxLocation:d("PolarisReportConstants").FRXLocation.COMMENTS,frxObjectType:d("PolarisReportConstants").FRXObjectType.COMMENT,onClose:v,reportedObjectID:g,reportedOwner:s,useSimpleBlockModalWithoutRefresh:i})}),b[11]=g,b[12]=v,b[13]=s,b[14]=i,b[15]=l):l=b[15];return l}b[16]!==g||b[17]!==n?(m=d("PolarisIsLoggedIn").isLoggedIn()?j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:u,children:h._(/*BTDS*/"Report")}):j.jsx(d("PolarisReportUnderLawDialogItem.react").ReportUnderLawDialogItem,{contentId:g,reportingType:d("PolarisReportUnderLawDialogItem.react").InstagramLegalReportingType.COMMENT,username:n}),b[16]=g,b[17]=n,b[18]=m):m=b[18];o=m;s=r&&o;b[19]!==f||b[20]!==a?(i=f&&j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-secondary-button",onClick:a,children:h._(/*BTDS*/"Pin comment")}),b[19]=f,b[20]=a,b[21]=i):i=b[21];b[22]!==e||b[23]!==w?(l=e&&j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive","data-testid":void 0,onClick:w,children:h._(/*BTDS*/"Delete")}),b[22]=e,b[23]=w,b[24]=l):l=b[24];b[25]!==v?(u=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:v,children:d("PolarisGenericStrings").CANCEL_TEXT}),b[25]=v,b[26]=u):u=b[26];b[27]!==v||b[28]!==s||b[29]!==i||b[30]!==l||b[31]!==u?(g=j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{onModalClose:v,children:[s,i,l,u]}),b[27]=v,b[28]=s,b[29]=i,b[30]=l,b[31]=u,b[32]=g):g=b[32];return g}g["default"]=a}),226);
__d("PolarisDirectActionSendPostToUsers",["InstagramODS","MercuryLocalIDs","PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionSendText","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectConstants","PolarisDirectStrings","PolarisToastActions","Promise","isStringNullOrEmpty","nullthrows","polarisDirectSelectors"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=a.comment,f=a.customToast,g=a.mediaId,j=a.mediaOverlayInfo,k=a.mqtt,l=a.onError,m=a.onSuccess,n=a.productType,o=a.recipients;return function(a,p){var q=function(b){f!=null?f({text:b}):a(d("PolarisToastActions").showToast({text:b}))};o.forEach(function(f,o){var r;f.type==="user"?r=d("polarisDirectSelectors").getThreadIdForUserId(p(),o):f.type==="thread"&&(r=o);d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_attempt",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE});r!=null?i(k,r,g,j,n).then(function(){m==null||m(o),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE}),c("InstagramODS").incr("web.share_sheet.send_post"),q(d("PolarisDirectStrings").SENT_TOAST_TEXT)}).then(function(){var a=d("MercuryLocalIDs").generateOfflineThreadingID();r!=null&&!c("isStringNullOrEmpty")(e)&&new(h||(h=b("Promise")))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(k,c("nullthrows")(r),e,a)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT}),c("InstagramODS").incr("web.share_sheet.send_post_with_comment")})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),q(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})["catch"](function(a){l==null||l(a,o),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_post_to_users_failed",a),q(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)}):d("PolarisDirectAPI").createGroupThread([o]).then(function(p){var r=p.thread_id;a(d("PolarisDirectActionThreadLoaded").threadLoaded(p));i(k,r,g,j,n).then(function(){m==null||m(o),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE}),q(d("PolarisDirectStrings").SENT_TOAST_TEXT)}).then(function(){var a=d("MercuryLocalIDs").generateOfflineThreadingID();r!=null&&!c("isStringNullOrEmpty")(e)&&new(h||(h=b("Promise")))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(k,c("nullthrows")(r),e,a)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT}),q(d("PolarisDirectStrings").SENT_TOAST_TEXT)})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),q(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})["catch"](function(a){l==null||l(a,o),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_post_to_users_failed",a)})},function(a){l==null||l(a,o),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_create_thread_send_post_to_users_failed",a),q(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})}}function i(a,c,d,e,f){return a!=null?a.sendMediaShare(c,d,e,f):(h||(h=b("Promise"))).reject(new Error("MQTT is not instantiated"))}g.sendPostToUsers=a}),98);
__d("PolarisHeroPageletLogger",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=b("$InternalEnum")({FEED:"feed",POST:"post"});function a(a,b){a=a;if(b!=null)if(b<2)return a+"_"+b;else return a+"_n";return a}f.PageletLogName=c;f.getHeroPageletLogName=a}),66);
__d("PolarisIGCoreHoverCardConstants",[],(function(a,b,c,d,e,f){"use strict";a=8;b=100;c=600;d=300;f.WINDOW_BOUNDARY_THRESHOLD_PX=a;f.INTENTIONAL_HOVER_THRESHOLD=b;f.SHOW_DELAY_MS=c;f.HIDE_DELAY_MS=d}),66);
__d("PolarisHoverCardPositioner",["Locale","PolarisIGCoreHoverCardConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=14;a=function(){function a(a,b,d,e,f,g,h,i,j,k,l){d===void 0&&(d=0);e===void 0&&(e=0);f===void 0&&(f=0);g===void 0&&(g=0);h===void 0&&(h=null);l===void 0&&(l=c("Locale").isRTL());this.anchorRect=a;this.hoverCardContentContainerRect=b;this.isRTL=l;this.offsetBottom=d;this.offsetLeft=e;this.offsetRight=f;this.offsetTop=g;this.positionType=i;this.x=j;this.y=k;this.styles={};this.arrowOffset=0;this.xPlacement=j;this.yPlacement=k;if(h!=null){a=h.getBoundingClientRect();b=a.bottom;l=a.left;d=a.right;e=a.top;this.bottomBound=b;this.leftBound=l;this.rightBound=d;this.topBound=e}else this.bottomBound=window.innerHeight,this.leftBound=0,this.rightBound=window.innerWidth,this.topBound=0}var b=a.prototype;b.calculateStyles=function(){new i(this).resolve();return{arrowOffset:this.arrowOffset,positionStyles:this.styles,x:this.xPlacement,y:this.yPlacement}};b.fitsLeft=function(){return this.anchorRect.right-(this.hoverCardContentContainerRect.width+d("PolarisIGCoreHoverCardConstants").WINDOW_BOUNDARY_THRESHOLD_PX)+this.offsetLeft>=this.leftBound};b.fitsRight=function(){return this.anchorRect.left+this.hoverCardContentContainerRect.width+d("PolarisIGCoreHoverCardConstants").WINDOW_BOUNDARY_THRESHOLD_PX+this.offsetRight<=this.rightBound};b.fitsCenter=function(){var a=this.hoverCardContentContainerRect.width/2+d("PolarisIGCoreHoverCardConstants").WINDOW_BOUNDARY_THRESHOLD_PX,b=this.anchorRect.left+this.anchorRect.width/2,c=b-a-this.offsetLeft>=this.leftBound;b=b+a+this.offsetRight<=this.rightBound;return c&&b};b.fitsAbove=function(){return this.anchorRect.top-this.hoverCardContentContainerRect.height+this.offsetTop-d("PolarisIGCoreHoverCardConstants").WINDOW_BOUNDARY_THRESHOLD_PX>=this.topBound};b.fitsBelow=function(){return this.anchorRect.bottom+this.hoverCardContentContainerRect.height+this.offsetBottom+d("PolarisIGCoreHoverCardConstants").WINDOW_BOUNDARY_THRESHOLD_PX<=this.bottomBound};b.placeLeft=function(){this.styles.left=this.anchorRect.right-this.hoverCardContentContainerRect.width+this.offsetLeft,this.xPlacement="left"};b.placeRight=function(){this.styles.left=this.anchorRect.left+this.offsetRight,this.xPlacement="right"};b.placeCenter=function(){this.styles.left=this.offsetRight-this.offsetLeft+this.anchorRect.left+this.anchorRect.width/2-this.hoverCardContentContainerRect.width/2,this.xPlacement="center"};b.placeAbove=function(){this.styles.top=this.$1()+this.offsetTop+this.anchorRect.top-this.hoverCardContentContainerRect.height,this.yPlacement="top"};b.placeBelow=function(){this.styles.top=this.$1()+this.offsetBottom+this.anchorRect.bottom,this.yPlacement="bottom"};b.$1=function(){return this.positionType==="fixed"?0:window.pageYOffset};return a}();var i=function(){function a(a){this.hoverCardPositioner=a,this.$2=0,this.$1=0}var b=a.prototype;b.resolve=function(){this.$3(),this.$4(),this.$5()};b.$5=function(){var a=this.hoverCardPositioner.anchorRect.left+this.hoverCardPositioner.anchorRect.width/2;this.hoverCardPositioner.arrowOffset=a-this.hoverCardPositioner.styles.left-h/2;this.hoverCardPositioner.isRTL&&(this.hoverCardPositioner.arrowOffset=this.hoverCardPositioner.hoverCardContentContainerRect.width-this.hoverCardPositioner.arrowOffset-h)};b.$3=function(){var a=this.hoverCardPositioner.y;this.$2+=1;a==="bottom"?this.hoverCardPositioner.fitsBelow()||this.$2===3?this.hoverCardPositioner.placeBelow():(this.shiftPosition("y"),this.$3()):this.hoverCardPositioner.fitsAbove()||this.$2===3?this.hoverCardPositioner.placeAbove():(this.shiftPosition("y"),this.$3())};b.$4=function(){var a=this.hoverCardPositioner.x;this.$1+=1;a==="left"?this.hoverCardPositioner.fitsLeft()||this.$1===3?this.hoverCardPositioner.placeLeft():(this.shiftPosition("x","right"),this.$4()):a==="center"?this.hoverCardPositioner.fitsCenter()||this.$1===3?this.hoverCardPositioner.placeCenter():(this.shiftPosition("x","either"),this.$4()):this.hoverCardPositioner.fitsRight()||this.$1===3?this.hoverCardPositioner.placeRight():(this.shiftPosition("x","left"),this.$4())};b.$6=function(a){var b=["left","center","right"],c=b.indexOf(this.hoverCardPositioner.x);a==="left"?c-=1:c+=1;c=Math.min(Math.max(0,c),2);this.hoverCardPositioner.x=b[c]};b.$7=function(){this.hoverCardPositioner.y==="top"?this.hoverCardPositioner.y="bottom":this.hoverCardPositioner.y="top"};b.shiftPosition=function(a,b){a==="y"&&this.$7();if(a==="x"&&b){a=b;if(b==="either"){b=this.hoverCardPositioner.rightBound-this.hoverCardPositioner.anchorRect.right-this.hoverCardPositioner.offsetRight;a=this.hoverCardPositioner.anchorRect.left>b?"left":"right"}this.$6(a)}};return a}();g.HoverCardPositioner=a;g.HoverCardPositionResolver=i}),98);
__d("PolarisIGCoreHoverCardProvider.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;c=b.createContext;b.useMemo;var j=b.useState;e={hoverDelayShow:!1,setHoverDelayShow:function(){}};var k=c(e);function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var c=j(!1),e=c[0];c=c[1];b[0]!==e?(c={hoverDelayShow:e,setHoverDelayShow:c},b[0]=e,b[1]=c):c=b[1];e=c;c=e;b[2]!==a||b[3]!==c?(e=i.jsx(k.Provider,{value:c,children:a}),b[2]=a,b[3]=c,b[4]=e):e=b[4];return e}g.IGCoreHoverCardContext=k;g.IGCoreHoverCardProvider=a}),98);
__d("PolarisIGCorePortalPositionProvider.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext;c.useMemo;var k=c.useRef,l=c.useState,m={anchorElRef:{current:null},contentElRef:{current:null},offsetBottom:0,offsetLeft:0,offsetRight:0,offsetTop:0,positionStyles:{positionStyles:{},x:"right",y:"bottom"},positionType:"absolute",preferredPositionX:"right",preferredPositionY:"bottom",setPositionStyles:function(){}},n=e(m);function a(){return j(n)}function b(a){var b=d("react-compiler-runtime").c(12),c=a.children,e=a.initialPositionStyles,f=a.offsetBottom,g=a.offsetLeft,h=a.offsetRight,j=a.offsetTop,o=a.positionType,p=a.preferredPositionX;a=a.preferredPositionY;f=f===void 0?0:f;g=g===void 0?0:g;h=h===void 0?0:h;j=j===void 0?0:j;p=p===void 0?"right":p;a=a===void 0?"bottom":a;e=l(e!=null?e:m.positionStyles);var q=e[0];e=e[1];var r=k(null),s=k(null);b[0]!==f||b[1]!==g||b[2]!==h||b[3]!==j||b[4]!==q||b[5]!==o||b[6]!==p||b[7]!==a?(r={anchorElRef:r,contentElRef:s,offsetBottom:f,offsetLeft:g,offsetRight:h,offsetTop:j,positionStyles:q,positionType:o,preferredPositionX:p,preferredPositionY:a,setPositionStyles:e},b[0]=f,b[1]=g,b[2]=h,b[3]=j,b[4]=q,b[5]=o,b[6]=p,b[7]=a,b[8]=r):r=b[8];s=r;e=s;b[9]!==c||b[10]!==e?(f=i.jsx(n.Provider,{value:e,children:c}),b[9]=c,b[10]=e,b[11]=f):f=b[11];return f}g.useIGCorePortalPositionContext=a;g.IGCorePortalPositionProvider=b}),98);
__d("usePolarisHoverCardDelay",["PolarisIGCoreHoverCardConstants","PolarisIGCoreHoverCardProvider.react","emptyFunction","react","react-compiler-runtime","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext,j=b.useEffect,k=b.useRef,l=b.useState;function a(){var a=d("react-compiler-runtime").c(13),b=l(!1),e=b[0],f=b[1];b=i(d("PolarisIGCoreHoverCardProvider.react").IGCoreHoverCardContext);var g=b.hoverDelayShow,h=b.setHoverDelayShow,m=k(null),n=k(null),o=k(null);a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){window.clearTimeout(m.current),window.clearTimeout(n.current),window.clearTimeout(o.current)},a[0]=b):b=a[0];var p=b,q;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){return function(){return p()}},q=[p],a[1]=b,a[2]=q):(b=a[1],q=a[2]);j(b,q);a[3]!==h?(b=function(){p(),o.current=window.setTimeout(function(){f(!0)},d("PolarisIGCoreHoverCardConstants").INTENTIONAL_HOVER_THRESHOLD),m.current=window.setTimeout(function(){h(!0)},d("PolarisIGCoreHoverCardConstants").SHOW_DELAY_MS)},a[3]=h,a[4]=b):b=a[4];q=b;a[5]!==h?(b=function(){p(),n.current=window.setTimeout(function(){f(!1),h(!1)},d("PolarisIGCoreHoverCardConstants").HIDE_DELAY_MS)},a[5]=h,a[6]=b):b=a[6];b=b;var r=c("useMatchMedia")("(hover: hover)");if(!r){a[7]===Symbol["for"]("react.memo_cache_sentinel")?(r={handleMouseEnter:c("emptyFunction"),handleMouseLeave:c("emptyFunction"),hoverDelayShow:!1,isHovering:!1},a[7]=r):r=a[7];return r}a[8]!==q||a[9]!==b||a[10]!==g||a[11]!==e?(r={handleMouseEnter:q,handleMouseLeave:b,hoverDelayShow:g,isHovering:e},a[8]=q,a[9]=b,a[10]=g,a[11]=e,a[12]=r):r=a[12];return r}g["default"]=a}),98);
__d("PolarisIGCoreAnchoredPopover.react",["CometPlaceholder.react","JSResourceForInteraction","PolarisIGCoreHoverCardProvider.react","PolarisIGCorePortalPositionProvider.react","lazyLoadComponent","react","react-compiler-runtime","usePolarisHoverCardDelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("BasePortal.react").__setRef("PolarisIGCoreAnchoredPopover.react"));function k(a){var b=d("react-compiler-runtime").c(11),e=a.children,g=a.content,h=a.display;a=a.showOnHover;var k=c("usePolarisHoverCardDelay")(),l=k.handleMouseEnter,m=k.handleMouseLeave;k=k.isHovering;var n=d("PolarisIGCorePortalPositionProvider.react").useIGCorePortalPositionContext();n=n.anchorElRef;h=h==="inline"?"span":"div";l=a?l:null;m=a?m:null;var o;b[0]!==g||b[1]!==k||b[2]!==a?(o=k||!a?i.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:i.jsx(j,{children:g})}):null,b[0]=g,b[1]=k,b[2]=a,b[3]=o):o=b[3];b[4]!==h||b[5]!==n||b[6]!==e||b[7]!==l||b[8]!==m||b[9]!==o?(g=i.jsxs(h,{onMouseEnter:l,onMouseLeave:m,ref:n,children:[e,o]}),b[4]=h,b[5]=n,b[6]=e,b[7]=l,b[8]=m,b[9]=o,b[10]=g):g=b[10];return g}function a(a){var b=d("react-compiler-runtime").c(15),c=a.children,e=a.content,f=a.display,g=a.initialPositionStyles,h=a.offsetBottom,j=a.offsetLeft,l=a.offsetRight,m=a.offsetTop,n=a.positionType,o=a.preferredPositionX,p=a.preferredPositionY;a=a.showOnHover;f=f===void 0?"inline-block":f;h=h===void 0?0:h;j=j===void 0?0:j;l=l===void 0?0:l;m=m===void 0?0:m;n=n===void 0?"absolute":n;o=o===void 0?"right":o;p=p===void 0?"bottom":p;a=a===void 0?!1:a;var q;b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==a?(q=i.jsx(d("PolarisIGCoreHoverCardProvider.react").IGCoreHoverCardProvider,{children:i.jsx(k,{content:e,display:f,showOnHover:a,children:c})}),b[0]=c,b[1]=e,b[2]=f,b[3]=a,b[4]=q):q=b[4];b[5]!==g||b[6]!==h||b[7]!==j||b[8]!==l||b[9]!==m||b[10]!==n||b[11]!==o||b[12]!==p||b[13]!==q?(c=i.jsx(d("PolarisIGCorePortalPositionProvider.react").IGCorePortalPositionProvider,{initialPositionStyles:g,offsetBottom:h,offsetLeft:j,offsetRight:l,offsetTop:m,positionType:n,preferredPositionX:o,preferredPositionY:p,children:q}),b[5]=g,b[6]=h,b[7]=j,b[8]=l,b[9]=m,b[10]=n,b[11]=o,b[12]=p,b[13]=q,b[14]=c):c=b[14];return c}g["default"]=a}),98);
__d("usePolarisPopoverLayer",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({popoverPlacementContainerElem:null});function a(){return i(j)}g["default"]=a}),98);
__d("usePolarisHoverCardPosition",["PolarisHoverCardPositioner","PolarisIGCorePortalPositionProvider.react","polarisDebounce","react","react-compiler-runtime","usePolarisPopoverLayer"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useLayoutEffect,k=30;function l(a){var b=a.anchorEl,c=a.offsetBottom,e=a.offsetLeft,f=a.offsetRight,g=a.offsetTop,h=a.popoverEl,i=a.popoverPlacementContainerElem,j=a.positionType,k=a.positionX;a=a.positionY;b=new(d("PolarisHoverCardPositioner").HoverCardPositioner)(b.getBoundingClientRect(),h.getBoundingClientRect(),c,e,f,g,i,j,k,a);return b.calculateStyles()}function m(a){var b=a.anchorRef,c=a.offsetBottom,d=a.offsetLeft,e=a.offsetRight,f=a.offsetTop,g=a.popoverPlacementContainerElem,h=a.popoverRef,i=a.positionType,j=a.positionX,k=a.positionY;a=a.setPositionStyles;b.current&&h.current&&a(l({anchorEl:b.current,offsetBottom:c,offsetLeft:d,offsetRight:e,offsetTop:f,popoverEl:h.current,popoverPlacementContainerElem:g,positionType:i,positionX:j,positionY:k}))}function a(){var a=d("react-compiler-runtime").c(18),b=d("PolarisIGCorePortalPositionProvider.react").useIGCorePortalPositionContext(),e=b.anchorElRef,f=b.contentElRef,g=b.offsetBottom,h=b.offsetLeft,l=b.offsetRight,n=b.offsetTop,o=b.positionStyles,p=b.positionType,q=b.preferredPositionX,r=b.preferredPositionY,s=b.setPositionStyles;b=c("usePolarisPopoverLayer")();var t=b.popoverPlacementContainerElem;a[0]!==e||a[1]!==f||a[2]!==g||a[3]!==h||a[4]!==l||a[5]!==n||a[6]!==t||a[7]!==p||a[8]!==q||a[9]!==r||a[10]!==s?(b=function(){m({anchorRef:e,offsetBottom:g,offsetLeft:h,offsetRight:l,offsetTop:n,popoverPlacementContainerElem:t,popoverRef:f,positionType:p,positionX:q,positionY:r,setPositionStyles:s})},a[0]=e,a[1]=f,a[2]=g,a[3]=h,a[4]=l,a[5]=n,a[6]=t,a[7]=p,a[8]=q,a[9]=r,a[10]=s,a[11]=b):b=a[11];var u=b,v;a[12]!==u?(b=function(){return u()},v=[u],a[12]=u,a[13]=b,a[14]=v):(b=a[13],v=a[14]);j(b,v);a[15]!==u?(b=function(){window.addEventListener("resize",c("polarisDebounce")(u,k));return function(){window.removeEventListener("resize",c("polarisDebounce")(u,k))}},v=[u],a[15]=u,a[16]=b,a[17]=v):(b=a[16],v=a[17]);i(b,v);return o}g["default"]=a}),98);
__d("PolarisIGCoreAnchoredPopoverContentContainer.react",["cx","IGDSBox.react","PolarisIGCorePopover.react","PolarisIGCorePortalPositionProvider.react","emptyFunction","react","react-compiler-runtime","usePolarisHoverCardPosition"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b,e=d("react-compiler-runtime").c(17),f=a.boldBoxShadow,g=a.children,h=a.height,i=a.hideArrow,k=a.isVisible,l=a.onClose;a=a.width;f=f===void 0?!1:f;i=i===void 0?!1:i;l=l===void 0?c("emptyFunction"):l;var m=d("PolarisIGCorePortalPositionProvider.react").useIGCorePortalPositionContext(),n=m.contentElRef;m=m.positionType;var o=c("usePolarisHoverCardPosition")(),p=(o==null?void 0:o.y)!=null&&o.y==="top";m="_abmv"+(m==="absolute"?" _abmw":"")+(m==="fixed"?" _abmx":"");b=(b=o==null?void 0:o.positionStyles)!=null?b:null;p=p?"bottom":"top";o=o==null?void 0:o.arrowOffset;var q;e[0]!==f||e[1]!==g||e[2]!==i||e[3]!==k||e[4]!==l||e[5]!==p||e[6]!==o?(q=j.jsx(c("PolarisIGCorePopover.react"),{arrowPosition:p,arrowStartOffset:o,boldBoxShadow:f,fillContainer:!0,hideArrow:i,isVisible:k,onClose:l,children:g}),e[0]=f,e[1]=g,e[2]=i,e[3]=k,e[4]=l,e[5]=p,e[6]=o,e[7]=q):q=e[7];e[8]!==h||e[9]!==q||e[10]!==a?(f=j.jsx(c("IGDSBox.react"),{alignContent:"center",height:h,position:"relative",width:a,children:q}),e[8]=h,e[9]=q,e[10]=a,e[11]=f):f=e[11];e[12]!==n||e[13]!==m||e[14]!==b||e[15]!==f?(g=j.jsx("div",{className:m,ref:n,style:b,children:f}),e[12]=n,e[13]=m,e[14]=b,e[15]=f,e[16]=g):g=e[16];return g}g["default"]=a}),98);
__d("PolarisOrganicImpressionAction",["IGNavChain","InstagramODS","InstagramOrganicCarouselImpressionFalcoEvent","InstagramOrganicImpressionFalcoEvent","PolarisContainerModuleUtils","PolarisMediaChainingPageConstants","PolarisUA","PolarisViewpointActionUtils","memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a===d("PolarisViewpointActionUtils").IMPRESSION_KIND.POST||a===d("PolarisViewpointActionUtils").IMPRESSION_KIND.CLIP?c("InstagramOrganicImpressionFalcoEvent"):c("InstagramOrganicCarouselImpressionFalcoEvent")}var i=c("memoizeWithArgs")(function(a,b){return new Map()},function(a,b){return a+"/"+b});function j(a,b,e,f){var g;e=d("PolarisContainerModuleUtils").getContainerModule(e);if(e==="unknown")return null;var h=b.id;g=(g=b.owner)==null?void 0:g.id;if(h==null||g==null)return null;var i=null,j=null;if(a===d("PolarisViewpointActionUtils").IMPRESSION_KIND.POST){var k;i=b==null||(k=b.sidecarChildren)==null||(k=k[0])==null?void 0:k.id;j=i}else a===d("PolarisViewpointActionUtils").IMPRESSION_KIND.CAROUSEL&&(i=h,j=null);return{carousel_media_id:i!=null?i+"_"+g:null,carousel_starting_media_id:j,chaining_position:null,chaining_session_id:null,inventory_source:b.inventorySource,m_ix:f==null?void 0:f.toString(),m_pk:h+"_"+g,module_name:e,nav_chain:(i=c("IGNavChain").getInstance())==null?void 0:i.getNavChainForSend(),pigeon_reserved_keyword_module:e,ranking_session_id:null,reel_id:a===d("PolarisViewpointActionUtils").IMPRESSION_KIND.CLIP?h:null,tray_session_id:null,viewer_session_id:null}}function k(a,b,d,e,f){return function(g){var k=d||"",n=j(a,b,d,f);if(i(a,k).get(b.id)===!0)return;if(g.state==="entered"){if(!n){c("InstagramODS").incr("web.impression.dropped");return}h(a).log(function(){return n});m(d,e);l(d,f);i(a,k).set(b.id,!0)}}}function l(a,b){if(a!==d("PolarisMediaChainingPageConstants").MEDIA_CHAINING_ANALYTICS_CONTEXT)return;b===0?c("InstagramODS").incr("web.msite.explore.chaining.seed"):c("InstagramODS").incr("web.msite.explore.chaining.recommended")}function m(a,b){if(a!=="postPage"||!d("PolarisUA").isMobile())return;c("InstagramODS").incr("web.msite.single_post.impression");switch(b){case void 0:c("InstagramODS").incr("web.msite.single_post.impression.direct_visit");break;case"polaris.profilePage":c("InstagramODS").incr("web.msite.single_post.impression.profile")}}function a(a,b,c,e){return k(d("PolarisViewpointActionUtils").IMPRESSION_KIND.POST,a,b,c,e)}function b(a,b){return k(d("PolarisViewpointActionUtils").IMPRESSION_KIND.CAROUSEL,a,b)}function e(a,b){return k(d("PolarisViewpointActionUtils").IMPRESSION_KIND.CLIP,a,b)}g.makePostImpressionAction=a;g.makeCarouselImpressionAction=b;g.makeClipImpressionAction=e}),98);
__d("PolarisPostActionAddPostToCollection",["InstagramODS","PolarisAPIEditCollection","nullthrows","polarisUserSelectors"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,e=a.failureHandler,f=a.postIds,g=a.successHandler;return function(a,h){h=h();var i=c("nullthrows")(d("polarisUserSelectors").getViewer__DEPRECATED(h)).id;a({collectionId:b,postIds:f,type:"ADD_POST_TO_COLLECTION_REQUESTED"});c("InstagramODS").incr("web.saveToCollection.attempt");return d("PolarisAPIEditCollection").editCollection({collectionId:b,postIdsToAdd:[].concat(f)}).then(function(){a({collectionId:b,postIds:f,type:"ADD_POST_TO_COLLECTION_SUCCEEDED",userId:i}),c("InstagramODS").incr("web.saveToCollection.success"),g!=null&&g()})["catch"](function(){a({collectionId:b,postIds:f,type:"ADD_POST_TO_COLLECTION_FAILED"}),c("InstagramODS").incr("web.saveToCollection.failure"),e!=null&&e()})}}g.addPostToCollection=a}),98);
__d("PolarisPostActionRequestSavedCollectionsForPost",["PolarisGenericStrings","PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.postId;return function(a){a({postId:b,type:"COLLECTION_IDS_FOR_POST_REQUESTED"}),d("PolarisInstapi").apiGet("/api/v1/save/media/{media_id}/saved_collections_for_media/",{path:{media_id:b}}).then(function(c){c=c.data;c=c.collection_ids;a({collectionIds:(c=c==null?void 0:c.map(function(a){return a.toString()}))!=null?c:[],postId:b,type:"COLLECTION_IDS_FOR_POST_SUCCEEDED"})})["catch"](function(){a({postId:b,toast:{text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE},type:"COLLECTION_IDS_FOR_POST_FAILED"})})}}g.requestSavedCollectionsForPost=a}),98);
__d("PolarisPostConstants",["IGDSThemeConstantsHelpers"],(function(a,b,c,d,e,f,g){"use strict";a=30;b=40;c=d("IGDSThemeConstantsHelpers").getNumericValue("medium-screen-max");e=d("IGDSThemeConstantsHelpers").getNumericValue("medium-screen-min");f=56;g.AVATAR_SIZE_SMALL=a;g.AVATAR_SIZE_LARGE=b;g.MEDIUM_SCREEN_MAX=c;g.SIDEBAR_VARIANT_CUTOFF=e;g.POST_TOAST_HEIGHT=f}),98);
__d("PolarisPostShareUtils.next.react",["PolarisLinkBuilder","PolarisMediaConstants","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ExternalShareSucceededFalcoEvent").__setRef("PolarisPostShareUtils.next.react");function a(a,b){return!a&&b}function i(a,b){return a===d("PolarisMediaConstants").MediaTypes.VIDEO?d("PolarisLinkBuilder").buildClipsMediaLink(b):d("PolarisLinkBuilder").buildMediaLink(b)}function b(a,b){a=window.location.origin+i(a,b);return a+"?utm_source=ig_web_copy_link"}function e(b){var c=b.mediaAuthorId,d=b.mediaId,a=b.module,e=b.shareOption;b=b.url;var g={media_author_id:c,media_id:d,module:a,share_option:e,url:b};h.onReady(function(a){return a.log(function(){return g})})}g.getIsShareable=a;g.getShareURL=i;g.getCopyUrl=b;g.logExternalShareSucceeded=e}),98);
__d("usePolarisHidePostHideMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9568413533269684"}),null);
__d("usePolarisHidePostHideMutation.graphql",["usePolarisHidePostHideMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"inputData"}],c=[{alias:null,args:[{kind:"Variable",name:"request",variableName:"inputData"}],concreteType:"XDTExploreReportResponse",kind:"LinkedField",name:"xdt_api__v1__discover__explore_report",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisHidePostHideMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisHidePostHideMutation",selections:c},params:{id:b("usePolarisHidePostHideMutation_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_api__v1__discover__explore_report"]},name:"usePolarisHidePostHideMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisHidePostUnhideMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9384654951656476"}),null);
__d("usePolarisHidePostUnhideMutation.graphql",["usePolarisHidePostUnhideMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"inputData"}],c=[{alias:null,args:[{kind:"Variable",name:"request",variableName:"inputData"}],concreteType:"XDTExploreReportResponse",kind:"LinkedField",name:"xdt_api__v1__discover__explore_report_undo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisHidePostUnhideMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisHidePostUnhideMutation",selections:c},params:{id:b("usePolarisHidePostUnhideMutation_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_api__v1__discover__explore_report_undo"]},name:"usePolarisHidePostUnhideMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisHidePost",["CometRelay","ExploreSeeLessFalcoEvent","FBLogger","IGNavChain","InstagramODS","polarisGetXDTMediaDict","react","react-compiler-runtime","usePolarisHidePostHideMutation.graphql","usePolarisHidePostUnhideMutation.graphql","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a?(c=babelHelpers["extends"]({},a,{isHiding:!0}),b[0]=a,b[1]=c):c=b[1];return k(c)}function e(a){var b=d("react-compiler-runtime").c(2);c("vulture")("9nR23ZX0ndPpd6yt9vFnOfbU6HY=");var e;b[0]!==a?(e=babelHelpers["extends"]({},a,{isHiding:!1}),b[0]=a,b[1]=e):e=b[1];return k(e)}function k(a){var e=d("react-compiler-runtime").c(11),f=a.inventorySource,g=a.isHiding,j=a.onSuccess,k=a.postId,n=a.rankingInfoToken,o=a.reason;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h!==void 0?h:h=b("usePolarisHidePostHideMutation.graphql"),e[0]=a):a=e[0];a=d("CometRelay").useMutation(a);var p=a[0];e[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=i!==void 0?i:i=b("usePolarisHidePostUnhideMutation.graphql"),e[1]=a):a=e[1];a=d("CometRelay").useMutation(a);var q=a[0];e[2]!==p||e[3]!==q||e[4]!==f||e[5]!==g||e[6]!==j||e[7]!==k||e[8]!==n||e[9]!==o?(a=function(){var a={container_module:"feed_timeline",inventory_source:f,m_pk:k,selected_reason:o,sfplt_source:"sfplt_in_menu"};if(g){var b=function(a){a=c("polarisGetXDTMediaDict")(a,k);a==null||a.setValue(!0,"is_hidden")};p({onCompleted:function(){c("InstagramODS").incr("web.hide_post.succeeded"),c("ExploreSeeLessFalcoEvent").log(function(){var a;return{canonical_nav_chain:(a=c("IGNavChain").getInstance())==null?void 0:a.getNavChainForSend(),inventory_source:f,m_pk:k,media_id_int:k,module:"feed_timeline",ranking_info_token:n,see_less_reason:o,sfplt_source:"sfplt_in_menu"}}),j&&j()},onError:m,optimisticUpdater:b,updater:b,variables:{inputData:a}})}else{b=function(a){a=c("polarisGetXDTMediaDict")(a,k);a==null||a.setValue(!1,"is_hidden")};q({onCompleted:function(){c("InstagramODS").incr("web.unhide_post.succeeded"),j==null||j()},onError:l,optimisticUpdater:b,updater:b,variables:{inputData:a}})}},e[2]=p,e[3]=q,e[4]=f,e[5]=g,e[6]=j,e[7]=k,e[8]=n,e[9]=o,e[10]=a):a=e[10];return a}function l(a){c("InstagramODS").incr("web.unhide_post.failed"),c("FBLogger")("ig_web").catching(a)}function m(a){c("InstagramODS").incr("web.hide_post.failed"),c("FBLogger")("ig_web").catching(a)}g.usePolarisHidePost=a;g.usePolarisUnhidePost=e}),98);
__d("PolarisPostSuggestedHeader.react",["cx","fbt","IGDSBox.react","IGDSIconButton.react","IGDSText.react","IGDSXPanoOutlineIcon.react","InstagramODS","PolarisGenericStrings","PolarisUA","polarisGetIGFormattedText","react","react-compiler-runtime","stylex","usePolarisHidePost"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react")),m=k.useEffect,n={familiarFeedRoot:{borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",paddingTop:"xz9dl7a",paddingInlineEnd:"xyri2b",paddingBottom:"xsag5q8",paddingInlineStart:"x1c1uobl",$$css:!0},root:{alignItems:"x6s0dn4",borderBottomColor:"xd18jyu",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",display:"x78zum5",flexDirection:"x1q0g3np",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(20),e=a.postId,f=a.rankingInfoToken,g=a.title;a=a.xstyle;var h;b[0]!==e||b[1]!==f?(h={inventorySource:"mixed_unconnected",postId:e,rankingInfoToken:f},b[0]=e,b[1]=f,b[2]=h):h=b[2];var k=d("usePolarisHidePost").usePolarisHidePost(h);b[3]!==k?(e=function(){k()},b[3]=k,b[4]=e):e=b[4];f=e;b[5]!==g?(h=g!=null?c("polarisGetIGFormattedText")(g,{className:"_agj9",removeAt:!0}):null,b[5]=g,b[6]=h):h=b[6];e=h;g=d("PolarisUA").isDesktop();b[7]===Symbol["for"]("react.memo_cache_sentinel")?(h=[],b[7]=h):h=b[7];m(o,h);h=(j||(j=c("stylex"))).props(n.root,g&&n.familiarFeedRoot,a);b[8]!==e?(g=e!=null?e:i._(/*BTDS*/"Suggested for you"),b[8]=e,b[9]=g):g=b[9];b[10]!==g?(a=l.jsx(c("IGDSBox.react"),{alignItems:"start",flex:"grow",justifyContent:"center",children:l.jsx(c("IGDSText.react"),{children:g})}),b[10]=g,b[11]=a):a=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1mfogq2"},b[12]=e):e=b[12];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:12}),b[13]=g):g=b[13];b[14]!==f?(e=l.jsx("div",babelHelpers["extends"]({},e,{children:l.jsx(c("IGDSIconButton.react"),{onClick:f,padding:0,children:g})})),b[14]=f,b[15]=e):e=b[15];b[16]!==e||b[17]!==h||b[18]!==a?(g=l.jsxs("div",babelHelpers["extends"]({},h,{children:[a,e]})),b[16]=e,b[17]=h,b[18]=a,b[19]=g):g=b[19];return g}function o(){c("InstagramODS").incr("web.post.in_feed_recommendation_header")}g["default"]=a}),226);
__d("PolarisPostToast.react",["CometPlaceholder.react","deferredLoadComponent","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("PolarisPostToastImpl.react").__setRef("PolarisPostToast.react"));function a(a){var b=d("react-compiler-runtime").c(3),e=a.isFeedVariant;a=a.isModal;var g;b[0]!==e||b[1]!==a?(g=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:i.jsx(j,{isFeedVariant:e,isModal:a})}),b[0]=e,b[1]=a,b[2]=g):g=b[2];return g}g["default"]=a}),98);
__d("PolarisPostVariants",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({feed:null,flexible:null,narrow:null,wide:null});g.VARIANTS=a}),98);
__d("PolarisSavedCollectionPickerListHeader.react",["fbt","IGDSAddPanoFilledIcon.react","IGDSBox.react","IGDSIconButton.react","IGDSTextVariants.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Collections"),l=h._(/*BTDS*/"Add collection");function a(a){var b=d("react-compiler-runtime").c(10),e=a.headerMinHeight,f=a.setHidePopover,g=a.setShowCreateCollectionModal;b[0]!==f||b[1]!==g?(a=function(){g(!0),f(!0)},b[0]=f,b[1]=g,b[2]=a):a=b[2];a=a;var h;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:j.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:1,position:"relative",children:j.jsx(d("IGDSTextVariants.react").IGDSTextSection,{children:k})})}),b[3]=h):h=b[3];var i;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("IGDSAddPanoFilledIcon.react"),{alt:l,size:12}),b[4]=i):i=b[4];b[5]!==a?(h=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",height:46,position:"relative",children:[h,j.jsx(c("IGDSBox.react"),{marginTop:1,position:"relative",children:j.jsx(c("IGDSIconButton.react"),{onClick:a,children:i})})]}),b[5]=a,b[6]=h):h=b[6];b[7]!==e||b[8]!==h?(i=j.jsx(c("IGDSBox.react"),{marginEnd:2,marginStart:4,minHeight:e,position:"relative",children:h}),b[7]=e,b[8]=h,b[9]=i):i=b[9];return i}g["default"]=a}),226);
__d("PolarisSavedCollectionPickerListItem.react",["fbt","CometPressable.react","IGDSBox.react","IGDSTextVariants.react","PolarisLinkBuilder","PolarisPostToastProvider.react","PolarisThumbnail.react","PolarisUrlHelpers","emptyFunction","nullthrows","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;var k=32,l=152,m=50;function n(a){return h._(/*BTDS*/"Saved to \"{collection name}\".",[h._param("collection name",a)])}function o(a){var b=d("react-compiler-runtime").c(6),e=a.collectionName;a=a.coverMedia;a=a.image_versions2;a=a.candidates;var f=a.length>0,g;b[0]!==a[0]||b[1]!==e||b[2]!==f?(g=f?j.jsx(c("PolarisThumbnail.react"),{alt:h._(/*BTDS*/"Image from {collectionName} saved collection",[h._param("collectionName",e)]),src:a[0].url}):null,b[0]=a[0],b[1]=e,b[2]=f,b[3]=g):g=b[3];b[4]!==g?(a=j.jsx(j.Fragment,{children:g}),b[4]=g,b[5]=a):a=b[5];return a}function a(a){var b=d("react-compiler-runtime").c(34),e=a.collection,f=a.onSaveMedia,g=a.onSaveMediaToCollection,i=a.postIsSaved,p=a.postIsSavedToCollection,q=a.setHidePopover,r=f===void 0?c("emptyFunction"):f;a=e.cover_media;f=e.cover_media_list;var s;a!=null&&(s=a);f!=null&&(s=f[0]);a=s!=null;var t=d("PolarisPostToastProvider.react").usePostToastContext();f=c("usePolarisViewer")();var u;b[0]!==f?(u=c("nullthrows")(f),b[0]=f,b[1]=u):u=b[1];var v=u;b[2]!==e.name?(f=d("PolarisUrlHelpers").slugify(e.name),b[2]=e.name,b[3]=f):f=b[3];var w=f;b[4]!==e.id||b[5]!==e.name||b[6]!==w||b[7]!==t||b[8]!==v.username?(u=function(){d("PolarisPostToastProvider.react").showPostToast(babelHelpers["extends"]({},t,{ActionText:h._(/*BTDS*/"View collection"),BodyText:n(e.name),actionHref:d("PolarisLinkBuilder").buildUserSavedCollectionLink(c("nullthrows")(v.username),w===""?"_":w,e.id)}))},b[4]=e.id,b[5]=e.name,b[6]=w,b[7]=t,b[8]=v.username,b[9]=u):u=b[9];var x=u;b[10]!==e.id||b[11]!==r||b[12]!==g||b[13]!==i||b[14]!==p||b[15]!==q||b[16]!==x?(f=function(){g(p,e.id),p||x(),i===!1&&r(!0),q(!0)},b[10]=e.id,b[11]=r,b[12]=g,b[13]=i,b[14]=p,b[15]=q,b[16]=x,b[17]=f):f=b[17];u=f;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1qjc9v5 x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak x6ikm8r x10wlt62 xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf"},b[18]=f):f=b[18];var y;b[19]!==e.name||b[20]!==a||b[21]!==s?(y=a?j.jsx(o,{collectionName:e.name,coverMedia:c("nullthrows")(s)}):null,b[19]=e.name,b[20]=a,b[21]=s,b[22]=y):y=b[22];b[23]!==y?(a=j.jsx("div",babelHelpers["extends"]({},f,{children:j.jsx(c("IGDSBox.react"),{color:"secondaryBackground",height:k,position:"relative",shape:"square",width:k,children:y})})),b[23]=y,b[24]=a):a=b[24];b[25]!==e.name||b[26]!==p?(f=j.jsx(c("IGDSBox.react"),{marginStart:2,maxWidth:l,position:"relative",children:p?j.jsx(d("IGDSTextVariants.react").IGDSTextSection,{maxLines:1,zeroMargin:!0,children:e.name}):j.jsx(d("IGDSTextVariants.react").IGDSTextLabel,{maxLines:1,zeroMargin:!0,children:e.name})}),b[25]=e.name,b[26]=p,b[27]=f):f=b[27];b[28]!==f||b[29]!==a?(y=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",height:m,paddingX:4,position:"relative",children:[a,f]}),b[28]=f,b[29]=a,b[30]=y):y=b[30];b[31]!==u||b[32]!==y?(f=j.jsx(c("CometPressable.react"),{onPress:u,children:y}),b[31]=u,b[32]=y,b[33]=f):f=b[33];return f}g.LIST_ITEM_HEIGHT=m;g.savedToCollectionText=n;g.SavedCollectionPickerListItem=a}),226);
__d("PolarisSavedCollectionPicker.react",["FBLogger","IGDSBox.react","IGDSDivider.react","IGDSSpinner.react","PolarisIGCoreAnchoredPopoverContentContainer.react","PolarisIGVirtualList.react","PolarisPostActionRequestSavedCollectionsForPost","PolarisReactRedux.react","PolarisSavedCollectionPickerListHeader.react","PolarisSavedCollectionPickerListItem.react","PolarisSavedPostsActionRequestNextSavedCollections","PolarisSavedPostsTypes","PolarisScrollWatchedComponent.react","PolarisScrollableContainer.react","polarisCollectionsLoading","polarisSavedPostsSelectors","react","react-compiler-runtime","usePolarisHoverCardDelay","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect,k={x:1,y:2},l=280,m=264,n=4,o=47;function p(a){return a.moreAvailable&&!a.isFetching}function q(a,b){p(a)&&b()}function a(a){var b=d("react-compiler-runtime").c(52),e=a.collectionsPostSavedTo,f=a.hidePopover,g=a.onSaveMedia,h=a.onSaveMediaToCollection,t=a.postId,u=a.postIsSaved,v=a.setHidePopover;a=a.setShowCreateCollectionModal;var w=d("PolarisReactRedux.react").useDispatch(),x=c("usePolarisViewer")();if(x==null)throw c("FBLogger")("ig_web").mustfixThrow("PolarisSavedCollectionPicker: viewer must exist");var y;b[0]!==x.id?(y=function(a){return d("polarisSavedPostsSelectors").getSavedCollectionsPaginationForUser(a,x.id)},b[0]=x.id,b[1]=y):y=b[1];var z=d("PolarisReactRedux.react").useSelector(y);b[2]!==x.id?(y=function(a){return d("polarisSavedPostsSelectors").getAllSavedCollectionsForUser(a,x.id)},b[2]=x.id,b[3]=y):y=b[3];y=d("PolarisReactRedux.react").useSelector(y);var A;b[4]!==y?(A=y.filter(s),b[4]=y,b[5]=A):A=b[5];var B=A;A=c("usePolarisHoverCardDelay")();var C=A.handleMouseLeave;A=A.hoverDelayShow;var D;b[6]!==y||b[7]!==z||b[8]!==e?(D=d("polarisCollectionsLoading").collectionsLoading(y,z)||e==null,b[6]=y,b[7]=z,b[8]=e,b[9]=D):D=b[9];y=D;b[10]!==t?(D=function(){return d("PolarisPostActionRequestSavedCollectionsForPost").requestSavedCollectionsForPost({postId:t})},b[10]=t,b[11]=D):D=b[11];var E=D;D=Math.min((B.length+1)*d("PolarisSavedCollectionPickerListItem.react").LIST_ITEM_HEIGHT,l);var F;b[12]!==z.isFetching||b[13]!==z.moreAvailable||b[14]!==e||b[15]!==g||b[16]!==h||b[17]!==t||b[18]!==u||b[19]!==v||b[20]!==B?(F=function(a){a=a.index;if(a===B.length)return i.jsx(c("IGDSBox.react"),{alignItems:"center",height:d("PolarisSavedCollectionPickerListItem.react").LIST_ITEM_HEIGHT,justifyContent:"center",paddingY:2,position:"relative",children:z.isFetching&&z.moreAvailable&&i.jsx(c("IGDSSpinner.react"),{size:"medium"})},"spinner");a=B[a];var b=u&&a.id===d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION;b=b||((b=e==null?void 0:e.includes(a.id))!=null?b:!1);return i.jsx(d("PolarisSavedCollectionPickerListItem.react").SavedCollectionPickerListItem,{collection:a,onSaveMedia:g,onSaveMediaToCollection:h,postId:t,postIsSaved:u,postIsSavedToCollection:b,setHidePopover:v},a.id)},b[12]=z.isFetching,b[13]=z.moreAvailable,b[14]=e,b[15]=g,b[16]=h,b[17]=t,b[18]=u,b[19]=v,b[20]=B,b[21]=F):F=b[21];var G=F;b[22]!==z.moreAvailable||b[23]!==B.length?(F=function(){return B.length+(z.moreAvailable?1:0)},b[22]=z.moreAvailable,b[23]=B.length,b[24]=F):F=b[24];F=F;var H,I;b[25]!==e||b[26]!==w||b[27]!==E?(H=function(){e==null&&w(E())},I=[e,w,E],b[25]=e,b[26]=w,b[27]=E,b[28]=H,b[29]=I):(H=b[28],I=b[29]);j(H,I);b[30]!==C||b[31]!==f?(H=function(){f&&C()},I=[C,f],b[30]=C,b[31]=f,b[32]=H,b[33]=I):(H=b[32],I=b[33]);j(H,I);if(A===!1||f)return null;b[34]!==v||b[35]!==a?(H=i.jsx(c("PolarisSavedCollectionPickerListHeader.react"),{headerMinHeight:o,setHidePopover:v,setShowCreateCollectionModal:a}),b[34]=v,b[35]=a,b[36]=H):H=b[36];b[37]!==z||b[38]!==w||b[39]!==F||b[40]!==y||b[41]!==D||b[42]!==G||b[43]!==x.id?(I=y?i.jsx(c("IGDSBox.react"),{alignItems:"center",height:D-o,justifyContent:"center",position:"relative",width:m,children:i.jsx(c("IGDSSpinner.react"),{size:"medium"})}):i.jsxs(c("IGDSBox.react"),{position:"relative",children:[i.jsx(c("IGDSDivider.react"),{}),i.jsxs(d("PolarisScrollableContainer.react").ScrollableContainer,{children:[i.jsx(c("PolarisIGVirtualList.react"),{containerSize:D-d("PolarisSavedCollectionPickerListItem.react").LIST_ITEM_HEIGHT,estimatedItemSize:d("PolarisSavedCollectionPickerListItem.react").LIST_ITEM_HEIGHT,itemCount:F(),overscanCount:n,renderer:function(a){return G(a)}}),p(z)&&i.jsx(c("PolarisScrollWatchedComponent.react"),{boundScaleFactor:k,onScrollEnter:function(){return q(z,function(){return w(d("PolarisSavedPostsActionRequestNextSavedCollections").requestNextSavedCollections(x.id))})}})]})]}),b[37]=z,b[38]=w,b[39]=F,b[40]=y,b[41]=D,b[42]=G,b[43]=x.id,b[44]=I):I=b[44];b[45]!==D||b[46]!==H||b[47]!==I?(A=i.jsxs(c("IGDSBox.react"),{height:D,overflow:"hidden",position:"relative",width:m,children:[H,I]}),b[45]=D,b[46]=H,b[47]=I,b[48]=A):A=b[48];b[49]!==D||b[50]!==A?(a=i.jsx("div",{onWheel:r,children:i.jsx(c("PolarisIGCoreAnchoredPopoverContentContainer.react"),{height:D,isVisible:!0,width:m,children:A})}),b[49]=D,b[50]=A,b[51]=a):a=b[51];return a}function r(a){return a.stopPropagation()}function s(a){return a.id!==d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.AUDIO_AUTO_COLLECTION&&a.id!==d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION}g["default"]=a}),98);
__d("PolarisSavedPostsActionEditCollection",["PolarisAPIEditCollection","PolarisGenericStrings","PolarisSavedPostsLogger","Promise","polarisNormalizeCollections"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=a.collectionId,e=a.collectionName,f=a.postIdsToAdd,g=a.postIdsToRemove,i=a.retryHandler,j=a.source,k=a.userId;return function(a){a({collectionId:c,type:"SAVED_COLLECTION_EDIT_PENDING",userId:k});d("PolarisSavedPostsLogger").logEditCollection("attempt",j);return d("PolarisAPIEditCollection").editCollection({collectionId:c,collectionName:e,postIdsToAdd:f,postIdsToRemove:g}).then(function(b){b=d("polarisNormalizeCollections").normalizeCollection(b);a({collection:b,postIdsToAdd:f,postIdsToRemove:g,type:"SAVED_COLLECTION_EDIT_SUCCESS",userId:k});d("PolarisSavedPostsLogger").logEditCollection("success",j)})["catch"](function(e){a({collectionId:c,toast:{actionHandler:i,actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE},type:"SAVED_COLLECTION_EDIT_ERRORED",userId:k});d("PolarisSavedPostsLogger").logEditCollection("failure",j);return(h||(h=b("Promise"))).reject(e)})}}g.editCollection=a}),98);
__d("polarisTransformCommentEntities",["PolarisCommentModel","PolarisUserModel","polarisTransformEntities"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;return{comments:c("polarisTransformEntities")((b=a.commentDicts)!=null?b:{},function(a){return c("PolarisCommentModel").fromNativeResponse(a).toReduxStore()}),users:c("polarisTransformEntities")((b=a.userDicts)!=null?b:{},function(a){return c("PolarisUserModel").fromNativeResponse(a).toReduxStore()})}}g["default"]=a}),98);
__d("PolarisThreadedCommentActions",["PolarisAPIGetChildComments","PolarisAPIGetInitialComments","PolarisAPIGetPaginationComments","PolarisLegacyGraphQLPaginationUtils","PolarisPaginationUtils","PolarisThreadedCommentActionConstants","polarisNormalizeComments","polarisTransformCommentEntities","qex"],(function(a,b,c,d,e,f,g){"use strict";var h="6718530511526291";function a(a){return{parentId:a,type:"HIDE_CHILD_COMMENTS"}}function b(a){return{parentId:a,type:"SHOW_CHILD_COMMENTS"}}function i(a,b){b=b.map(function(a){return a.pk});var c={};for(b of b)b!=null&&a[b]!=null&&(c[b]=a[b]);return c}h=d("PolarisLegacyGraphQLPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return(a=a.threadedComments.childByParentId[b])==null?void 0:a.pagination},onError:function(a,b,c){return{fetch:b,parentId:c,type:"CHILD_COMMENT_REQUEST_FAILED"}},onUpdate:function(a,b,c){var d;b=b==null||(d=b.comment)==null?void 0:d.edge_threaded_comments;return{comments:b&&b.edges?b.edges.map(function(a){return a.node}):[],count:b&&b.count,fetch:a,pageInfo:b&&b.page_info,parentId:c,type:"CHILD_COMMENT_REQUEST_UPDATED"}},pageSize:c("qex")._("2137")?d("PolarisThreadedCommentActionConstants").CHILD_PAGE_SIZE_V2:d("PolarisThreadedCommentActionConstants").CHILD_PAGE_SIZE,pagesToPreload:d("PolarisThreadedCommentActionConstants").PAGES_TO_PRELOAD,queryId:h,queryParams:function(a){return{comment_id:a}}});function j(a,b,e){var f,g=b.has_more_comments===!0||b.has_more_headload_comments===!0,h=b.has_more_headload_comments===!0,j=g?h?b.next_min_id:b.next_max_id:"";f=(f=b.comment_count)!=null?f:0;b=(b=b.comments)!=null?b:[];var k=c("polarisTransformCommentEntities")(d("polarisNormalizeComments").normalizeComments(b).entities);return{comments:i(k.comments,b),count:f,pagination:{end_cursor:j,has_next_page:g,has_previous_page:h},postId:a,sortOrder:e,type:"INITIAL_PARENT_COMMENT_REQUEST_LOADED",users:(b=k.users)!=null?b:{}}}function k(a){return{postId:a,type:"INITIAL_PARENT_COMMENT_REQUEST_FAILED"}}function l(a,b,c){return function(e,f){f=f();f=f.threadedComments;if(c!=null&&((f=f.parentByPostId[a])==null?void 0:f.sortOrder)===c)return;e({postId:a,type:"INITIAL_PARENT_COMMENT_REQUEST_LOADING"});return d("PolarisAPIGetInitialComments").getInitialComments(a,b,c).then(function(b){e(j(a,b,c))})["catch"](function(b){e(k(a))})}}function m(a,b){return function(e,f){var g;f=f();f=f.threadedComments;g=(g=(g=f.parentByPostId[a])==null?void 0:g.pagination)!=null?g:null;f=f.parentByPostId[a].sortOrder;if(g==null)return;var h=d("PolarisPaginationUtils").getEndCursor(g);if(h==null)return;e({postId:a,type:"PARENT_COMMENT_REQUEST_LOADING"});return d("PolarisAPIGetPaginationComments").getPaginationComments(a,h,d("PolarisPaginationUtils").hasPreviousPage(g)===!0,f).then(function(f){var g,h=f.has_more_comments===!0||f.has_more_headload_comments===!0,j=f.has_more_headload_comments===!0,k=h?j?f.next_min_id:f.next_max_id:"";g=(g=f.comment_count)!=null?g:0;f=(f=f.comments)!=null?f:[];var l=c("polarisTransformCommentEntities")(d("polarisNormalizeComments").normalizeComments(f).entities);e({comments:i(l.comments,f),count:g,hasRankedComments:b!=null?b:!1,pagination:{end_cursor:k,has_next_page:h,has_previous_page:j},postId:a,type:"PARENT_COMMENT_REQUEST_UPDATED_V2",users:(f=l.users)!=null?f:{}})})["catch"](function(){e({postId:a,type:"PARENT_COMMENT_REQUEST_FAILED_V2"})})}}function n(a,b){return function(e,f){e({parentId:b,type:"CHILD_COMMENT_REQUEST_LOADING"});var g=c("qex")._("2138")===!0;f=f();f=f.threadedComments;f=(f=f.childByParentId[b])==null?void 0:f.pagination;var h;f!=null&&(h=d("PolarisPaginationUtils").getEndCursor(f));h=h!=null?h:null;return d("PolarisAPIGetChildComments").getChildComments(a,b,h,g).then(function(f){var h,i,j,k=f.has_more_head_child_comments===!0||f.has_more_tail_child_comments===!0;h=g?f.next_min_child_cursor:(h=f.next_max_child_cursor)!=null?h:"";i=(i=f.child_comment_count)!=null?i:0;f=(f=f.child_comments)!=null?f:[];f=c("polarisTransformCommentEntities")(d("polarisNormalizeComments").normalizeComments(f).entities);e({comments:(j=f.comments)!=null?j:{},count:i,pagination:{end_cursor:h,has_next_page:k},parentId:b,postId:a,type:"CHILD_COMMENT_REQUEST_UPDATED_V2",users:(j=f.users)!=null?j:{}})})["catch"](function(){e({parentId:b,type:"CHILD_COMMENT_REQUEST_FAILED_V2"})})}}function e(a,b){return function(c){return c(m(a,b))}}function f(a,b,c){return function(d){return d(l(a,b,c))}}h=h.next;function o(a,b){return function(c){return c(n(a,b))}}function p(a){return function(b){return function(c){c(j(a,b))}}}g.hideChildComments=a;g.showChildComments=b;g.initialCommentsError=k;g.requestNextParentCommentPageV2=e;g.requestInitialComments=f;g.requestNextChildCommentPage=h;g.requestNextChildCommentPageV2=o;g.setupPostComments=p}),98);
__d("PolarisVideoPlayButton.react",["cx","fbt","PolarisGenericStrings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=i._(/*BTDS*/"Control");function a(a){var b=d("react-compiler-runtime").c(7),c=a.onClick;a=a.showPlayButton;var e="_aakh";a="_aaki _aakj"+(a?" _aakk":"")+" _9zwu";b[0]!==a?(e=k.jsx("div",{className:e,children:k.jsx("span",{"aria-label":d("PolarisGenericStrings").ASSISTIVE_TEXT_PLAY_BUTTON,className:a,role:"button"})}),b[0]=a,b[1]=e):e=b[1];b[2]!==c?(a=k.jsx("div",{"aria-label":l,className:"_aakl",onClick:c,role:"button",tabIndex:0}),b[2]=c,b[3]=a):a=b[3];b[4]!==e||b[5]!==a?(c=k.jsxs(k.Fragment,{children:[e,a]}),b[4]=e,b[5]=a,b[6]=c):c=b[6];return c}g["default"]=a}),226);
__d("useMaybeLogInstagramAdDirectReshareSend",["InstagramAdDirectReshareSendFalcoEvent","InstagramODS","PolarisContainerModuleUtils","PolarisViewpointActionUtils","polarisAdsSelectors.react","polarisRelationshipSelectors.react","react","react-compiler-runtime","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(7),e=a.id,f=a.mediaType,g=a.mpk,h=a.ownerId,j=c("usePolarisAnalyticsContext")(),k=d("polarisAdsSelectors.react").useFeedAdInfo(e,i),l=d("polarisRelationshipSelectors.react").useRelationship(h||"");b[0]!==k||b[1]!==j||b[2]!==f||b[3]!==g||b[4]!==h||b[5]!==l?(a=function(){if(k!=null&&k.ad_id!=null&&k.tracking_token!=null&&l!=null){var a=k.ad_id,b=k.tracking_token,e=d("PolarisContainerModuleUtils").getContainerModule(j);c("InstagramODS").incr("web.ads.feed.share");c("InstagramAdDirectReshareSendFalcoEvent").log(function(){return{a_pk:h!=null?h:"",ad_id:a,follow_status:d("PolarisViewpointActionUtils").getFollowStatus(l),m_pk:g,m_t:f.toString(),pigeon_reserved_keyword_module:e,source_of_action:e,tracking_token:b}})}},b[0]=k,b[1]=j,b[2]=f,b[3]=g,b[4]=h,b[5]=l,b[6]=a):a=b[6];return a}function i(a){return a}g["default"]=a}),98);
__d("useIGDShareSheetSendPostToOpenRecipients",["InstagramMediaProductTypeName","PolarisDirectActionSendPostToUsers","PolarisInteractionsLogger","PolarisReactRedux.react","PolarisViewpointActionUtils","react-compiler-runtime","useMaybeLogInstagramAdDirectReshareSend","usePolarisMQTT","useStableCallback"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(19),e=c("usePolarisMQTT")(),f=d("PolarisReactRedux.react").useDispatch();if(b[0]!==a.id||b[1]!==a.owner){var g;g=(g=d("PolarisViewpointActionUtils").getMPKForFeedMedia({id:a.id,owner:a.owner}))!=null?g:"";b[0]=a.id;b[1]=a.owner;b[2]=g}else g=b[2];g=g;var h;b[3]!==a?(h=d("PolarisInteractionsLogger").getMediaTypeFromPost(a),b[3]=a,b[4]=h):h=b[4];h=h;var i;b[5]!==a.productType?(i=c("InstagramMediaProductTypeName").cast(a.productType),b[5]=a.productType,b[6]=i):i=b[6];var j=i;i=(i=a.owner)==null?void 0:i.id;var k;b[7]!==h||b[8]!==g||b[9]!==a.id||b[10]!==i?(k={id:a.id,mediaType:h,mpk:g,ownerId:i},b[7]=h,b[8]=g,b[9]=a.id,b[10]=i,b[11]=k):k=b[11];var l=c("useMaybeLogInstagramAdDirectReshareSend")(k);b[12]!==f||b[13]!==l||b[14]!==e||b[15]!==a.id||b[16]!==a.mediaOverlayInfo||b[17]!==j?(h=function(b,c,g,h){f(d("PolarisDirectActionSendPostToUsers").sendPostToUsers({comment:c!=null?c:void 0,mediaId:a.id,mediaOverlayInfo:a.mediaOverlayInfo,mqtt:e,onError:h,onSuccess:g,productType:j,recipients:b})),l()},b[12]=f,b[13]=l,b[14]=e,b[15]=a.id,b[16]=a.mediaOverlayInfo,b[17]=j,b[18]=h):h=b[18];return c("useStableCallback")(h)}g["default"]=a}),98);
__d("useIGDShareSheetOnSubmitPost",["IGDShareSheetOnSubmitFactory","IGDThreadTTLCUtils","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisPostShareUtils.next.react","asyncToGeneratorRuntime","react-compiler-runtime","requireDeferred","useIGDShareSheetSendPostToOpenRecipients","useStableCallback"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("getSendPostToInstamadilloRecipient").__setRef("useIGDShareSheetOnSubmitPost");function a(a){var e=d("react-compiler-runtime").c(7),f=c("useIGDShareSheetSendPostToOpenRecipients")(a),g=d("PolarisInteractionsLogger").getMediaTypeFromPost(a),i=d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisPostShareUtils.next.react").getShareURL(g,(g=a.code)!=null?g:"");if(e[0]!==a.id||e[1]!==((g=a.owner)==null?void 0:g.id)||e[2]!==((g=a.owner)==null?void 0:g.username)||e[3]!==a.productType||e[4]!==f||e[5]!==i){var j;g=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,e;for(var g=arguments.length,j=new Array(g),k=0;k<g;k++)j[k]=arguments[k];var l=j,m=(yield h.load());return c("IGDShareSheetOnSubmitFactory")(f,m(a.id,(b=a.owner)==null?void 0:b.id,(e=a.owner)==null?void 0:e.username,i),function(b){return d("IGDThreadTTLCUtils").isIGDTTLCEnabledForIGDCandidate(b,a.productType)}).apply(void 0,l)});return function(){return e.apply(this,arguments)}}();e[0]=a.id;e[1]=(j=a.owner)==null?void 0:j.id;e[2]=(j=a.owner)==null?void 0:j.username;e[3]=a.productType;e[4]=f;e[5]=i;e[6]=g}else g=e[6];return c("useStableCallback")(g)}g["default"]=a}),98);
__d("usePolarisMediaSensitivityOverlay",["polarisGetPostFromGraphMediaInterface","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.useState;function a(a,b,c,e){var f=d("react-compiler-runtime").c(16),g=i(!0),h=g[0],j=g[1];f[0]!==c?(g=function(a){c&&c(a),j(!1)},f[0]=c,f[1]=g):g=f[1];g=g;var k;f[2]!==a?(k=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPostOrSidecarItem(a),f[2]=a,f[3]=k):k=f[3];k=k;var l=k;f[4]!==b||f[5]!==e||f[6]!==l||f[7]!==a||f[8]!==h?(k=function(){return e!=null&&e(a)?!1:l!=null&&h&&(b==="profilePage"||b==="profilePageModal"||b==="postPage"||b==="feed"||b==="feedPage"||b==="feedPageModal"||b==="DirectThreadPage"||b==="directThreadPageModal"||b==="reelsTab")},f[4]=b,f[5]=e,f[6]=l,f[7]=a,f[8]=h,f[9]=k):k=f[9];k=k;var m;f[10]!==k?(m=k(),f[10]=k,f[11]=m):m=f[11];k=m;m=k;f[12]!==g||f[13]!==l||f[14]!==m?(k={handleHideSensitivityOverlay:g,mediaOverlayCoverInfo:l,shouldShowSensitivityOverlay:m},f[12]=g,f[13]=l,f[14]=m,f[15]=k):k=f[15];return k}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ExternalShareSucceededFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5748");b=d("FalcoLoggerInternal").create("external_share_succeeded",a);e=b;g["default"]=e}),98);
__d("PolarisBdChallengeGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","PolarisDirectLogger","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="17935802131473058";a=function(a){function b(b){var e;e=a.call(this)||this;e.$BdChallengeGraphQLEventHandler$p_1=new(d("PolarisDirectLogger").DirectLogger)("BDChallengeGraphQLEventHandler",b);e.$BdChallengeGraphQLEventHandler$p_1.debugTrace("bd_challenge_gql_handler_init");e.$BdChallengeGraphQLEventHandler$p_2=e.getGraphQLSubsciptionPrefix()+h+"/"+JSON.stringify({input_data:{client_subscription_id:c("uuidv4")()}});return e}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.processEventMessage=function(a){a=a.bd_challenge_event;if(a==null){this.$BdChallengeGraphQLEventHandler$p_1.debugTrace("parsed_message_bad_data");return}};e.getSubTopic=function(){return this.$BdChallengeGraphQLEventHandler$p_2};e.getType=function(){return d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.BD_CHALLENGE};return b}(d("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);g.BdChallengeGraphQLEventHandler=a}),98);
__d("PolarisChannelClientID",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("uuidv4")();a={getID:function(){return h}};b=a;g["default"]=b}),98);
__d("PolarisDirectBaseSubscription",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d){var e=this;this.$5=function(a){e.$4.debugTrace("message_received");var b=e.parsePayload(a);if(b==null)return;if(a.length===0){e.$4.logError("empty_message");return}else a[a.length-1]==="\0"?(b=a.substring(0,a.length-1),e.$4.debugTrace("trimmed_null_char")):b=a;var c={};try{c=JSON.parse(b)}catch(c){typeof c.message==="string"&&c.message.includes("Unexpected token")&&(c.jsonFirstChars=typeof b==="string"?b.substr(0,3):null);e.$4.logError("Cannot parse message "+a,c);return}e.processMessage(c)};this.$1=a;this.$2=b;this.$3=c;this.$4=d;this.$4.debugTrace("ctor")}var b=a.prototype;b.parsePayload=function(a){return a};b.processMessage=function(a){return};b.$6=function(a){var b;return JSON.stringify((b={},b[a]=this.getSubTopics(),b))};b.subscribe=function(){var a=this;if(this.getSubTopics().length<1){this.$4.debugTrace("no_subtopics_to_subscribe");return}this.$4.debugTrace("subscribe_start");this.unsubscribe();this.$3.subscribe(this.$1,this.$5);this.$3.publish(this.$1,this.$6("sub"))["catch"](function(b){return a.$4.logError(b,b==null?void 0:b.message)});this.$4.debugTrace("subscribe_end")};b.unsubscribe=function(){var a=this;if(this.getSubTopics().length<1){this.$4.debugTrace("no_subtopics_to_unsubscribe");return}this.$4.debugTrace("unsubscribe_start");this.$3.publish(this.$1,this.$6("unsub"))["catch"](function(b){return a.$4.logError(b,b==null?void 0:b.message)});this.$3.unsubscribe(this.$1);this.$4.debugTrace("unsubscribe_end")};b.updateSubTopics=function(a){this.$2=a};b.getSubTopics=function(){return this.$2};return a}();f.DirectBaseSubscription=a}),66);
__d("PolarisDirectDeltaHandlers",["invariant","PolarisDirectLogger","memoize"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return i(a)}function b(a){return i(a)}function e(a){return i(a)}function i(a){if(a==null)return null;if(typeof a!=="string")return a;var b;a;try{b=j(a)}catch(c){d("PolarisDirectLogger").DirectLogger.logError("DirectDeltaHandlers","parse_delta_item.stringify_ids_error",{errorMessage:c.message}),b=a}try{b=JSON.parse(b)}catch(c){d("PolarisDirectLogger").DirectLogger.logError("DirectDeltaHandlers","parse_delta_item.parse_json_error",{errorMessage:c.message}),b=JSON.parse(a)}return b}function j(a){var b=Array.from(a.matchAll(/(id\":)\s*([0-9]+)/gi)),c=0;return b.reduce(function(a,b){var d=new RegExp(b[0]);d.lastIndex=c;a=a.replace(d,b[1]+' "'+b[2]+'"');c=b.index;return a},a)}function f(a){var b=parseInt(a,10);isNaN(b)&&h(0,61446,a);return isNaN(b)?0:b}var k=function(a,b){var e=this;this.$3=c("memoize")(function(){return[{listeners:{replace:e.$1.onHasSeen},regex:/^\/direct_v2\/threads\/(.+)\/participants\/(.+)\/has_seen$/},{listeners:{add:e.$1.onMakeAdmin,remove:e.$1.onRemoveAdmin},regex:/^\/direct_v2\/threads\/(\d+)\/admin_user_ids\/(\d+)$/},{listeners:{add:e.$1.onIndicateTypingActivity},regex:/^\/direct_v2\/threads\/(.+)\/activity_indicator_id\/(.+)$/},{listeners:{add:e.$1.onUpdateEmoji,remove:e.$1.onRemoveEmoji,replace:e.$1.onUpdateEmoji},regex:/^\/direct_v2\/threads\/(\d+)\/items\/(\d+)\/reactions\/likes\/(\d+)$/},{listeners:{add:e.$1.onNewMessage,remove:e.$1.onRemoveMessage,replace:e.$1.onUpdatedMessage},regex:/^\/direct_v2\/threads\/(.+)\/items\/(\d+)$/},{listeners:{replace:e.$1.onUpdateDMSettings},regex:/^\/direct_v2\/threads\/(.+)\/dm_settings$/},{listeners:{remove:e.$1.onRemoveThread,replace:e.$1.onNewThread},regex:/^\/direct_v2\/inbox\/threads\/(.+)$/},{listeners:{replace:e.$1.onUnseenCountChange},regex:/^\/direct_v2\/inbox\/unseen_count$/}]});this.handleDelta=function(a,b){var c=a.op,d=a.path;a=a.value;e.$2.debugTrace("handle_delta_start",{mutationToken:b,op:c,path:d});for(var f of e.$3()){var g=f.listeners[c];if(g){var h=f.regex.exec(d);h&&(e.$2.debugTrace("handle_delta_match"),g.apply(void 0,[a,b].concat(h.slice(1))))}}e.$2.debugTrace("handle_delta_end")};this.onSeqIdUpdated=function(a){e.$1.onSeqIdUpdated&&e.$1.onSeqIdUpdated(a)};this.onMqttConnectivityChanged=function(a){e.$1.onMqttConnectivityChanged&&e.$1.onMqttConnectivityChanged(a)};this.onIrisConnectivityChanged=function(a,b){e.$1.onIrisConnectivityChanged&&e.$1.onIrisConnectivityChanged(a,b)};this.onResnapshotRequested=function(a){e.$1.onResnapshotRequested&&e.$1.onResnapshotRequested(a)};this.$1=a;this.$2=new(d("PolarisDirectLogger").DirectLogger)("DirectDeltaHandlers",b)};g.parsePartialDeltaEmoji=a;g.parseDMSettings=b;g.parseDeltaItem=e;g.stringifyIds=j;g.parseDeltaNumber=f;g.DirectDeltaHandlers=k}),98);
__d("PolarisPinnedQuestionGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="PINNED_QUESTION",i="18005526940184517";a=function(a){function b(b,d){var e;e=a.call(this)||this;e.$PinnedQuestionGraphQLEventHandler$p_1=b;e.$PinnedQuestionGraphQLEventHandler$p_2=e.getGraphQLSubsciptionPrefix()+i+"/"+JSON.stringify({input_data:{broadcast_id:String(d.id),client_subscription_id:c("uuidv4")()}});return e}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.processEventMessage=function(a){a=a.live_active_question_event;if(a==null)return;a={question:a,type:h};this.$PinnedQuestionGraphQLEventHandler$p_1.eventHandler(a)};e.getSubTopic=function(){return this.$PinnedQuestionGraphQLEventHandler$p_2};e.getType=function(){return d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION};return b}(d("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);g.PinnedQuestionGraphQLEventHandler=a}),98);
__d("PolarisQuestionStatusGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="QUESTION_STATUS",i="18027779584026952";a=function(a){function b(b,d){var e;e=a.call(this)||this;e.$QuestionStatusGraphQLEventHandler$p_1=b;e.$QuestionStatusGraphQLEventHandler$p_2=e.getGraphQLSubsciptionPrefix()+i+"/"+JSON.stringify({input_data:{broadcast_id:String(d.id),client_subscription_id:c("uuidv4")()}});return e}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.processEventMessage=function(a){a=a.live_question_submission_status_event;if(a==null)return;a={status:a,type:h};this.$QuestionStatusGraphQLEventHandler$p_1.eventHandler(a)};e.getSubTopic=function(){return this.$QuestionStatusGraphQLEventHandler$p_2};e.getType=function(){return d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS};return b}(d("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);g.QuestionStatusGraphQLEventHandler=a}),98);
__d("PolarisWaveGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","PolarisConfig","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="LIVE_WAVE",i="17882305414154951";a=function(a){function b(b,e){var f;f=a.call(this)||this;f.$WaveGraphQLEventHandler$p_1=b;f.$WaveGraphQLEventHandler$p_2=f.getGraphQLSubsciptionPrefix()+i+"/"+JSON.stringify({input_data:{broadcast_id:String(e.id),client_subscription_id:c("uuidv4")(),receiver_id:d("PolarisConfig").getViewerId()},publish_data:{broadcast_id:String(e.id),receiver_id:d("PolarisConfig").getViewerId(),waver_id:String(e.broadcast_owner)}});return f}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.processEventMessage=function(a){a=a.live_video_wave_event;if(a==null)return;a={type:h,wave:a};this.$WaveGraphQLEventHandler$p_1.eventHandler(a)};e.getSubTopic=function(){return this.$WaveGraphQLEventHandler$p_2};e.getType=function(){return d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE};return b}(d("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);g.WaveGraphQLEventHandler=a}),98);
__d("PolarisDirectGraphQLSubscription",["PolarisBaseGraphQLEventHandler","PolarisBdChallengeGraphQLEventHandler","PolarisDirectBaseSubscription","PolarisDirectLogger","PolarisPinnedQuestionGraphQLEventHandler","PolarisQuestionStatusGraphQLEventHandler","PolarisWaveGraphQLEventHandler","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h="/ig_realtime_sub";a=function(a){function b(b,c,e){e=new(d("PolarisDirectLogger").DirectLogger)("DirectGraphQLSubscription",e);c=a.call(this,h,[],c,e)||this;c.$DirectGraphQLSubscription$p_2=e;c.$DirectGraphQLSubscription$p_1=b;c.$DirectGraphQLSubscription$p_3=new Map();c.$DirectGraphQLSubscription$p_4();c.getSubTopics();return c}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.$DirectGraphQLSubscription$p_4=function(){for(var a of Object.keys(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES))d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES[a]!==d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE&&d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES[a]!==d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION&&!this.$DirectGraphQLSubscription$p_5(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES[a])&&this.$DirectGraphQLSubscription$p_2.debugTrace("invalid_handler_type")};e.getSubTopics=function(){var a=[];for(var b of this.$DirectGraphQLSubscription$p_3){b[0];var d=b[1];d=d.getSubTopic();c("isStringNullOrEmpty")(d)||a.push(d)}this.updateSubTopics(a);return a};e.processMessage=function(b){for(var c of this.$DirectGraphQLSubscription$p_3){c[0];var d=c[1];d.processEventMessage(b)}a.prototype.processMessage.call(this,b)};e.enableOrDisableEventHandlerByType=function(a,b){b?this.$DirectGraphQLSubscription$p_5(a)||this.$DirectGraphQLSubscription$p_2.debugTrace("invalid_handler_type"):this.$DirectGraphQLSubscription$p_3["delete"](a);return this};e.$DirectGraphQLSubscription$p_5=function(a){this.$DirectGraphQLSubscription$p_3||(this.$DirectGraphQLSubscription$p_3=new Map());var b=this.$DirectGraphQLSubscription$p_6(a);if(b!=null){this.$DirectGraphQLSubscription$p_3.set(a,b);return!0}return!1};e.$DirectGraphQLSubscription$p_6=function(a){switch(a){case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.BD_CHALLENGE:return new(d("PolarisBdChallengeGraphQLEventHandler").BdChallengeGraphQLEventHandler)(this.$DirectGraphQLSubscription$p_2.getDebugId());default:return null}};e.enableLiveEventHandler=function(a,b,c){switch(c){case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE:this.$DirectGraphQLSubscription$p_3.set(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE,new(d("PolarisWaveGraphQLEventHandler").WaveGraphQLEventHandler)(b,a));return this;case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION:this.$DirectGraphQLSubscription$p_3.set(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION,new(d("PolarisPinnedQuestionGraphQLEventHandler").PinnedQuestionGraphQLEventHandler)(b,a));return this;case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS:this.$DirectGraphQLSubscription$p_3.set(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS,new(d("PolarisQuestionStatusGraphQLEventHandler").QuestionStatusGraphQLEventHandler)(b,a));return this;default:return this}};e.disableLiveEventHandler=function(a){switch(a){case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE:this.$DirectGraphQLSubscription$p_3["delete"](d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE);return this;case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION:this.$DirectGraphQLSubscription$p_3["delete"](d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION);return this;case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS:this.$DirectGraphQLSubscription$p_3["delete"](d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS);return this;default:return this}};e.unsubscribeGraphQL=function(){this.unsubscribe(),this.enableOrDisableEventHandlerByType(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE,!1)};return b}(d("PolarisDirectBaseSubscription").DirectBaseSubscription);g.DirectGraphQLSubscription=a}),98);
__d("PolarisDirectIrisSubscription",["FBLogger","PolarisDirectLogger","isObject"],(function(a,b,c,d,e,f,g){"use strict";var h=1,i=2,j=1e3,k=64e3;a=function(){function a(a,b,e,f){var g=this;this.$7=function(){g.$6.logDirectClientEvent("ig_direct_iris_subscription",d("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers["extends"]({},g.$2,{action:"attempt",attempt_reason:"mqtt-connected"}));g.$1.onIrisConnectivityChanged("Subscribing");var a=JSON.stringify(g.$2);g.$3.publish("/ig_sub_iris",a)["catch"](function(a){g.$6.logDirectClientEvent("ig_direct_iris_subscription",d("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers["extends"]({},g.$2,{action:"error",error:JSON.stringify(a)})),g.$1.onIrisConnectivityChanged("Unsubscribed")})};this.$8=function(a){var b;if(typeof a==="string"||a instanceof String)try{b=JSON.parse(a)}catch(a){var e="Could not parse sub iris response $(response)";g.$6.logError(e,a);c("FBLogger")("ig_web").mustfix(e);b=a}else c("isObject")(a)?b=a:(c("FBLogger")("ig_web").mustfix("Unknown sub iris response $(response)"),b={succeeded:!1});if(b.succeeded===!0)g.$6.logDirectClientEvent("ig_direct_iris_subscription",d("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers["extends"]({},g.$2,{action:"success"})),g.$1.onIrisConnectivityChanged("Subscribed",g.$2.subscription_type);else{g.$6.logDirectClientEvent("ig_direct_iris_subscription",d("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers["extends"]({},g.$2,b,{action:"error"}));g.$1.onIrisConnectivityChanged("Unsubscribed");if(b.error_type===h)g.$1.onResnapshotRequested(g.$2);else if(b.error_type===i){e=g.$4+Math.floor(Math.random()*1e3);window.setTimeout(g.$7,e);g.$4=Math.min(g.$4*2,k)}}};this.$6=new(d("PolarisDirectLogger").DirectLogger)("DirectIrisSubscription",f);this.$6.debugTrace("ctor",b);this.$1=a;this.$2=b;this.$3=e;this.$4=j}var b=a.prototype;b.subscribe=function(){this.$6.debugTrace("subscribe_start"),this.unsubscribe(),this.$3.subscribe("/ig_sub_iris_response",this.$8),this.$7(),this.$6.debugTrace("subscribe_end")};b.unsubscribe=function(){this.$6.debugTrace("unsubscribe_start"),this.$5&&(window.clearTimeout(this.$5),this.$5=null),this.$3.unsubscribe("/ig_sub_iris_response"),this.$1.onIrisConnectivityChanged("Unsubscribed"),this.$6.debugTrace("unsubscribe_end")};return a}();g.DirectIrisSubscription=a}),98);
__d("PolarisDirectSkywalkerSubscription",["PolarisConfig","PolarisDirectBaseSubscription","PolarisDirectLogger","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h="/pubsub";a=function(a){function b(b,e,f){f=new(d("PolarisDirectLogger").DirectLogger)("DirectSkywalkerSubscription",f);e=a.call(this,h,["ig/u/v1/"+c("nullthrows")(d("PolarisConfig").getViewerId())],e,f)||this;e.$DirectSkywalkerSubscription$p_2=f;e.$DirectSkywalkerSubscription$p_1=b;return e}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.parsePayload=function(b){if(b.indexOf("/activity_indicator_id/")===-1){this.$DirectSkywalkerSubscription$p_2.debugTrace("not_activity_indicator_message");return null}return a.prototype.parsePayload.call(this,b)};e.processMessage=function(b){var c=b.data,d=b.event;if(d!=="patch"){this.$DirectSkywalkerSubscription$p_2.debugTrace("skipped_message",{event:d});return}if(!Array.isArray(c)){this.$DirectSkywalkerSubscription$p_2.debugTrace("parsed_message_bad_data",typeof c);return}for(d of c)this.$DirectSkywalkerSubscription$p_1.handleDelta(d,"");a.prototype.processMessage.call(this,b)};return b}(d("PolarisDirectBaseSubscription").DirectBaseSubscription);g.DirectSkywalkerSubscription=a}),98);
__d("PolarisLiveDeltaHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(a){this.eventHandler=a};f["default"]=a}),66);
__d("PolarisMqttEnv",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({messenger_uses_mqtt_rollout:2,mqtt_ep_with_sid:0,mqtt_fast_lp:11,mqtt_lp_use_fetch:9,mqtt_waterfall_log_client_sampling:1,mqtt_ws_forced_polling_only:4,mqtt_ws_polling_enabled:3,mqtt_ws_reconnect_reset:7});b=function(){function a(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}var b=a.prototype;b.random=function(){return this.$1!=null?this.$1():Math.random()};b.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};b.clearTimeout=function(a){if(this.$3!=null){this.$3(a);return}window.clearTimeout(a)};b.setTimeout=function(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return this.$4!=null?this.$4.apply(null,arguments):window.setTimeout.apply(null,arguments)};b.getLoggerInstance=function(){return this.$5!=null?this.$5():g.getInstance()};b.genGk=function(a){return this.$6!=null?this.$6(a):!1};b.createSocket=function(a,b){return this.$7!=null?this.$7(a,b):new WebSocket(a)};b.scheduleCallback=function(a){return this.$8!=null?this.$8(a):a()};b.scheduleLoggingCallback=function(a){return this.$9!=null?this.$9(a):a()};b.configRead=function(a,b){return this.$10!=null?this.$10(a,b):b};b.configWrite=function(a,b){this.$11!=null&&this.$11(a,b)};b.initialize=function(a,b,c,d,e,f,g,h,i,j,k){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$10=j,this.$11=k};return a}();var g=function(){function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){a.attemptNumber,a.connectionStatus,a.duration,a.errorCode,a.errorMessage,a.failTotal,a.hostname,a.publishes,a.sessionID,a.subscribedTopics,a.successTotal};b.eventLogPull=function(a){a.duration,a.errorMessage,a.hostname,a.pullEventName,a.sessionID,a.status};b.eventLogDisconnect=function(a){a.duration,a.errorCode,a.errorMessage,a.sessionID};b.eventLogPublish=function(a){a.connectionStatus,a.publishStatus,a.sessionID,a.topic};b.eventLogMiscellaneousError=function(a){a.errorMessage};b.logError=function(a,b){};b.logErrorWarn=function(a,b){};b.logWarn=function(a,b){};b.debugTrace=function(a,b){};b.bumpCounter=function(a){};return a}();c={Env:new b(),MqttGkNames:a};f["default"]=c}),66);
__d("PolarisIrisSubscribeChecker",["PolarisMqttEnv"],(function(a,b,c,d,e,f){"use strict";var g=b("PolarisMqttEnv").Env,h=b("PolarisMqttEnv").MqttGkNames;a=function(){function a(a){this.$1=g.getLoggerInstance();this.$2=null;this.$3=!1;this.$4=!1;this.$5=!1;this.$6=!0;this.$7=0;this.$8=a;if(typeof window!=="undefined"){a=window.location.hostname;(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")&&(this.$6=!1)}g.genGk(h.messenger_uses_mqtt_rollout)||(this.$6=!1)}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=g.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(g.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7===1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$1.eventLogMiscellaneousError({errorMessage:a});this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();e.exports=a}),null);
__d("PolarisMqttAnalyticsHook",["InstagramODS","PolarisMqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=c("PolarisMqttEnv").Env.getLoggerInstance(),this.$2=0,this.$3=0,this.$4=0,this.$5=0,c("InstagramODS").incr("web.mqtt.session_start"),c("PolarisMqttEnv").Env.isUserLoggedInNow()||c("InstagramODS").incr("web.mqtt.session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){c("InstagramODS").incr("web.mqtt.ws_connect_attempt")};b.onConnectFailure=function(){this.$3++,c("InstagramODS").incr("web.mqtt.ws_connect_failure")};b.onConnected=function(){c("InstagramODS").incr("web.mqtt.ws_connect_connected")};b.onConnectSuccess=function(){this.$2===0&&c("InstagramODS").incr("web.mqtt.ws_connect_first_success"),this.$2++,c("InstagramODS").incr("web.mqtt.ws_connect_success")};b.onConnectionLost=function(){c("InstagramODS").incr("web.mqtt.ws_disconnect")};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){c("InstagramODS").incr("web.mqtt.ws_publish")};b.onMessage=function(a){c("InstagramODS").incr("web.mqtt.message_arrived")};b.onWSFatal=function(){c("InstagramODS").incr("web.mqtt.ws_fatal")};b.onPollRequestSent=function(){c("InstagramODS").incr("web.mqtt.polling_request_send")};b.onPollRequestSuccess=function(){c("InstagramODS").incr("web.mqtt.polling_request_succeed"),this.$4===0&&c("InstagramODS").incr("web.mqtt.polling_first_success"),this.$4++};b.onPollResponse=function(){c("InstagramODS").incr("web.mqtt.lp.message_arrived")};b.onPollFinish=function(){};b.onPollRequestFailed=function(){c("InstagramODS").incr("web.mqtt.polling_request_failed"),this.$5++};return a}();g["default"]=a}),98);
__d("PolarisMqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal()})};return a}();f["default"]=a}),66);
__d("PolarisMqttProtocolUtils",["PolarisMqttEnv"],(function(a,b,c,d,e,f){"use strict";var g=b("PolarisMqttEnv").Env;function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function c(a,b){b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{offset:b,value:c}}function d(a){a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function f(a,b){return 256*a[b]+a[b+1]}function i(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function j(a,b,c,d){d=h(b,c,d);k(a,c,d);return d+b}function k(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function l(a,b,c){var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}b=function(){function a(a,b,c){this.$1=a*1e3,this.$4=b,this.$5=c,this.$3=!1}var b=a.prototype;b.$6=function(){var a=this;this.$3?(this.$3=!1,this.$4(),this.$2=g.setTimeout(function(){a.$6()},this.$1)):this.$5()};b.reset=function(){var a=this;this.$3=!0;this.$2&&(g.clearTimeout(this.$2),this.$2=null);this.$1>0&&(this.$2=g.setTimeout(function(){a.$6()},this.$1))};b.cancel=function(){this.$2&&(g.clearTimeout(this.$2),this.$2=null)};return a}();e.exports={Pinger:b,UTF8Length:i,concatBuffers:a,convertStringToUTF8:k,convertUTF8ToString:l,decodeMultiByteInt:c,encodeMultiByteInt:d,readUInt16BE:f,writeString:j,writeUInt16BE:h}}),null);
__d("PolarisMqttUtils",["PolarisMqttEnv","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={endpointWithExtraParameter:function(a,b,c){return a.indexOf("?")>0?a+"&"+b+"="+c:a+"?"+b+"="+c},endpointWithExtraParameters:function(a,b){var c=a;b.forEach(function(a,b){c=h.endpointWithExtraParameter(c,b,a)});return c},endpointWithSessionId:function(a,b){return!c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ep_with_sid)?a:h.endpointWithExtraParameter(a,"sid",b.toString())},generateSessionId:function(){return Math.floor(c("PolarisMqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)},hasWSSupport:function(){return"WebSocket"in a&&a.WebSocket!==null},promiseDone:function(a,b,d){var e=arguments.length>1?a.then(b,d):a;c("promiseDone")(e.then(null,function(a){c("PolarisMqttEnv").Env.setTimeout(function(){if(a instanceof Error)throw a;else throw c("err")("promiseDone")},0)}))},sprintf:function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})}};b=h;g["default"]=b}),98);
__d("PolarisMqttProtocolCodec",["PolarisMqttProtocolUtils","PolarisMqttUtils"],(function(a,b,c,d,e,f){"use strict";var g=(c=b("PolarisMqttProtocolUtils")).UTF8Length,h=c.convertStringToUTF8,i=c.convertUTF8ToString,j=c.decodeMultiByteInt,k=c.encodeMultiByteInt,l=c.readUInt16BE,m=c.writeString,n=c.writeUInt16BE,o=b("PolarisMqttUtils").sprintf,p=Object.freeze({CONNACK:2,CONNECT:1,DISCONNECT:14,PINGREQ:12,PINGRESP:13,PUBACK:4,PUBLISH:3,SUBACK:9,SUBSCRIBE:8,UNSUBACK:11,UNSUBSCRIBE:10}),q=[0,6,77,81,73,115,100,112,3];function r(a,b){b=b;var c=b,d=a[b],e=d>>4;b+=1;var f=j(a,b);if(f==null)return{position:c,wireMessage:null};b=f.offset;f=b+f.value;if(f>a.length)return{position:c,wireMessage:null};var g;switch(e){case p.CONNACK:c=a[b++];c=!!(c&1);var h=a[b++];g=new u(c,h);break;case p.PUBLISH:c=d&15;h=c>>1&3;d=l(a,b);b+=2;var k=i(a,b,d);b+=d;d=null;h===1&&(d=l(a,b),b+=2);var m=w.createWithBytes(a.subarray(b,f)),n=(c&1)===1;c=(c&8)===8;g=new x(k,m,h,d,n,c);break;case p.PINGREQ:g=new s("PINGREQ");break;case p.PINGRESP:g=new s("PINGRESP");break;case p.PUBACK:case p.UNSUBACK:k=l(a,b);g=new v(e===p.PUBACK?"PUBACK":"UNSUBACK",k);break;case p.SUBACK:m=l(a,b);b+=2;h=a.subarray(b,f);g=new t(m,h);break;default:throw new Error(o("Invalid MQTT message type %s.",e))}return{position:f,wireMessage:g}}function a(a){var b=[],c=0;while(c<a.length){var d=r(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}d=function(){function a(a){this.messageType=p[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var s=function(a){function b(b){return a.call(this,b)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return b}(d);f=function(a){function b(){return a.call(this,"DISCONNECT")||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(k(0),1);return b};return b}(d);var t=function(a){function b(b,c){var d;d=a.call(this,"SUBACK")||this;d.messageIdentifier=b;d.returnCode=c;return d}babelHelpers.inheritsLoose(b,a);return b}(d),u=function(a){function b(b,c){var d;d=a.call(this,"CONNACK")||this;d.sessionPresent=b;d.returnCode=c;return d}babelHelpers.inheritsLoose(b,a);return b}(d),v=function(a){function b(b,c){b=a.call(this,b)||this;b.messageIdentifier=c;return b}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=k(b),d=c.length+1;b=new ArrayBuffer(b+d);var e=new Uint8Array(b);e[0]=a;e.set(c,1);d=n(this.messageIdentifier,e,d);return b};return b}(d);c=function(a){function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=q.length+3;b+=g(this.clientId)+2;b+=g(this.connectOptions.userName)+2;var c=k(b);b=new ArrayBuffer(1+c.length+b);var d=new Uint8Array(b);d[0]=a;a=1;d.set(c,1);a+=c.length;d.set(q,a);a+=q.length;c=2|128;d[a++]=c;a=n(this.connectOptions.keepAliveInterval,d,a);a=m(this.clientId,g(this.clientId),d,a);a=m(this.connectOptions.userName,g(this.connectOptions.userName),d,a);return b};return b}(d);b=function(a){function b(b,c,d,e){var f;f=a.call(this,b)||this;f.topic=c;if(d<0&&d>1||d===1&&e==null)throw new TypeError(o("Argument Invalid. qos: %s messageType: %s.",d,b));f.qos=d;f.messageIdentifier=e;return f}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4;a|=2;var b=g(this.topic),c=2+b+2;this.messageType===p.SUBSCRIBE&&(c+=1);var d=k(c);c=new ArrayBuffer(1+d.length+c);var e=new Uint8Array(c);e[0]=a;a=1;e.set(d,1);a+=d.length;this.messageIdentifier!=null&&(a=n(this.messageIdentifier,e,a));a=m(this.topic,b,e,a);this.messageType===p.SUBSCRIBE&&this.qos!=null&&(e[a++]=this.qos);return c};return b}(d);var w=function(){function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(g(b)));h(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=0,d=b.length;while(c<b.length&&b[c]!==123&&b[c]!==91)c++,d--;var e=i(b,c,d);b=b.subarray(c,d);return new a(e,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),x=function(a){function b(b,c,d,e,f,g){var h;h=a.call(this,"PUBLISH")||this;h.topic=b;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&(a|=1);var b=g(this.topic),c=b+2;c+=this.messageIdentifier==null?0:2;var d=this.payloadMessage.bytes();c+=d.byteLength;var e=k(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;f.set(e,1);a=1+e.length;a=m(this.topic,b,f,a);this.messageIdentifier!=null&&(a=n(this.messageIdentifier,f,a));f.set(d,a);return c};return b}(d);e.exports={MESSAGE_TYPE:p,WireMessage:{Base:d,ConnAck:u,Connect:c,Disconnect:f,Ping:s,PubAckUnsubAck:v,Publish:x,Subscription:b},createMessageWithString:w.createWithString,decodeByteMessages:a,decodeMessage:r}}),null);
__d("PolarisMqttTypes",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){this.errorCode=a,this.errorMessage=b};b=function(a,b){this.mqttError=a,this.connAck=b};c=function(a){function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));e.exports={ConnectFailure:b,MqttChannelError:c,MqttError:a}}),null);
__d("PolarisMqttProtocolClient",["PolarisMqttEnv","PolarisMqttProtocolCodec","PolarisMqttProtocolUtils","PolarisMqttTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("PolarisMqttEnv").Env,h=(a=b("PolarisMqttProtocolCodec")).MESSAGE_TYPE,i=a.WireMessage,j=a.createMessageWithString,k=a.decodeByteMessages,l=b("PolarisMqttProtocolUtils").Pinger,m=b("PolarisMqttProtocolUtils").concatBuffers,n=b("PolarisMqttTypes").ConnectFailure;c=b("PolarisMqttTypes").MqttError;var o=30,p=6e4,q={APP_DISCONNECT:new c(7,"Disconnect initiated by app"),CONNACK_FAILURE:new c(5,"Connection failure due to connack"),CONNECT_TIMEOUT:new c(4,"Connect timed out"),INVALID_DATA_TYPE:new c(3,"Received non-arraybuffer from socket."),PING_TIMEOUT:new c(6,"Ping timeout"),SERVER_DISCONNECT:new c(8,"Disconnect message sent my server"),SOCKET_CLOSE:new c(9,"Socket connection closed"),SOCKET_ERROR:new c(1,"Socket error"),SOCKET_MESSAGE:new c(2,"Unable to parse invalid socket message")};d=function(){function a(a){var b=this;this.$11=function(a,c){var d=b.$5,e=b.$2,f=e.onConnectFailure,h=e.onConnectionLost;b.setConnected(!1);d?g.scheduleCallback(function(){h(a)}):g.scheduleCallback(function(){f(new n(a,c!=null?c:-1))});b.$13()};this.$12=function(a){var c=b.$6;if(c==null)return;if(c.readyState!==c.OPEN)return;c.send(a.encode())};this.handleMessage=function(a){switch(a.messageType){case h.CONNACK:b.$7!=null&&(g.clearTimeout(b.$7),b.$7=null);if(a instanceof i.ConnAck){var c=a;if(c.returnCode!==0){b.$9.bumpCounter("protocol.error.connack.invalidreturncode");b.setConnected(!1);b.$11(q.CONNACK_FAILURE,c.returnCode);return}g.scheduleCallback(function(){b.$2.onConnectSuccess()});b.$8!=null&&b.$8.reset()}break;case h.PUBLISH:if(a instanceof i.Publish){var d=a;g.scheduleCallback(function(){b.$2.onMessageArrived(d.topic,d.payloadMessage.payloadString)});c=d.messageIdentifier;b.$9.bumpCounter("protocol.publish.received");if(d.qos===1&&c!=null){c=new i.PubAckUnsubAck("PUBACK",c);b.$12(c)}}break;case h.PUBACK:if(a instanceof i.PubAckUnsubAck){c=a;var e=c.messageIdentifier;b.$9.bumpCounter("protocol.puback.received");g.scheduleCallback(function(){b.$2.onMessageDelivered(e)})}break;case h.PINGRESP:b.$8!=null&&b.$8.reset();break;case h.DISCONNECT:b.$11(q.SERVER_DISCONNECT);break;case h.SUBACK:b.$9.bumpCounter("protocol.suback.received");break;case h.UNSUBACK:b.$9.bumpCounter("protocol.unsuback.received");break;default:b.$9.logError(new Error("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");b.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};this.$3=a;this.$2={ignoreSubProtocol:!1,keepAliveInterval:10,mqttVersion:3,onConnectFailure:function(a){},onConnection:function(){},onConnectionError:function(a){},onConnectionLost:function(a){},onConnectSuccess:function(){},onMessageArrived:function(a,b){},onMessageDelivered:function(a){},userName:""};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=g.getLoggerInstance()}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw new Error("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(g.clearTimeout(this.$7),this.$7=null);this.$7=g.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$11(q.CONNECT_TIMEOUT)},o*1e3);this.$6=g.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$12(new i.Connect(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$11(q.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=m(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=k(a);var c=a.messages;b.$10=a.remaining;for(a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,q.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter("protocol.error.onmessage.parse"),b.$11(q.SOCKET_MESSAGE)}};this.$6.onerror=function(a){b.$9.bumpCounter("protocol.error.socket"),b.$11(q.SOCKET_ERROR)};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),b.$11(q.SOCKET_CLOSE)};this.$8!=null&&this.$8.cancel();this.$8=new l(a.keepAliveInterval,this.$12.bind(this,new i.Ping("PINGREQ")),this.$11.bind(this,q.PING_TIMEOUT))};b.$13=function(){this.setConnected(!1),this.$8!=null&&this.$8.cancel(),this.$7!=null&&(g.clearTimeout(this.$7),this.$7=null),this.$6!=null&&(this.$6.onopen=function(a){},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(a){},this.$6.readyState===this.$6.OPEN&&this.$6.close(),delete this.$6,this.$6=null),this.$2.onConnectSuccess=function(){},this.$2.onConnectFailure=function(a){},this.$2.onConnection=function(){},this.$2.onConnectionError=function(a){},this.$2.onConnectionLost=function(a){},this.$2.onMessageArrived=function(a,b){},this.$2.onMessageDelivered=function(a){}};b.disconnect=function(){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$13();return}this.$12(new i.Disconnect());this.$9.bumpCounter("protocol.debug.disconnect");this.$11(q.APP_DISCONNECT)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw new Error("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new i.Subscription("SUBSCRIBE",a,0,this.$14());this.$12(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw new Error("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new i.Subscription("UNSUBSCRIBE",a,0,this.$14());this.$12(a)};b.publish=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var d=this.$14();a=new i.Publish(a,j(b),c,d);this.$12(a);return d};b.$14=function(){++this.$4===p&&(this.$4=1);return this.$4};return a}();e.exports=d}),null);
__d("PolarisMqttUserName",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e,f,g){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$8=g,this.$7=typeof document==="object"&&document&&document.hasFocus()}var b=a.prototype;b.gen=function(a,b,c){c={a:navigator.userAgent,aid:this.$5,asi:void 0,chat_on:this.$6,cp:this.$3,ct:"cookie_auth",d:this.$4,dc:"",ecp:this.$2,fg:this.$7,mqtt_sid:"",no_auto_fg:!0,pm:c,s:a,st:b,u:this.$1};this.$8&&this.$8.appSpecificInfo&&(c.asi=this.$8.appSpecificInfo);return JSON.stringify(c)};b.setForegroundState=function(a){this.$7=a};b.setChatVisibility=function(a){this.$6=a};return a}();f["default"]=a}),66);
__d("PolarisMqttConnection",["InstagramODS","PolarisMqttConnectionHookCollection","PolarisMqttEnv","PolarisMqttProtocolClient","PolarisMqttTypes","PolarisMqttUserName","PolarisMqttUtils","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=10,j="publish",k="subscribe",l="unsubscribe";function m(a){}var n=18e4,o=5*1e3,p=15,q=21;a=function(){function a(a){this.$8=!1;this.$10=c("PolarisMqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$14=new Set();this.$15=new Map();this.$17=0;this.$18=0;this.$12=0;this.$13=0;this.$8=!1;this.$5="";this.$6=new(c("PolarisMqttUserName"))("0",0,1,"",0,!0);this.$9=0;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$19=new(c("PolarisMqttConnectionHookCollection"))();this.$4=function(){return[]};this.$16=a}var d=a.prototype;d.run=function(a){var b=this,c=a.endpoint,d=a.extraConnectMessageProvider,e=a.mqttUserName,f=a.onJSError,g=a.onMessageReceived,h=a.onStateChange;a=a.subscribedTopics;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=h;this.$3=g;this.$5=c;this.$6=e;this.$8=!0;this.$12=0;this.$2=f||m;a&&a.forEach(function(a){return b.$14.add(a)});this.$4=d;this.$20()};d.shutdown=function(){this.$21(),this.$22("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};d.subscribe=function(a){this.$14.add(a);this.ensureConnected(k)&&this.$23(a);return!0};d.publish=function(a,c,d){var e={reject:function(a){},resolve:function(){}},f=new(h||(h=b("Promise")))(function(a,b){e.resolve=a,e.reject=b}),g=this.ensureConnected(j),i="connection_unknown";if(!g)i="connection_not_connected",e.reject(new Error("Client disconnected"));else{c=this.$24(a,c,d,e);i=c===!0?"connection_published":"connection_failed"}this.$10.eventLogPublish({connectionStatus:g,publishStatus:i,sessionID:this.$9,topic:a});return f};d.unsubscribe=function(a){this.$14["delete"](a);this.ensureConnected(l)&&this.$25(a);return!0};d.addHook=function(a){this.$19.addHook(a)};d.removeHook=function(a){this.$19.removeHook(a)};d.isRunning=function(){return this.$8};d.getSessionId=function(){return this.$9};d.ensureConnected=function(a){if(!this.$8){this.$10.debugTrace("ensureConnected","Mqtt connection: "+a+" called when not running");return!1}if(this.$7==null){this.$10.debugTrace("ensureConnected","Mqtt connection: "+a+" called when not connected, ignored");return!1}var b=this.$7.isConnected();if(!b){this.$10.debugTrace("ensureConnected","Mqtt connection: "+a+" called with client not connected");return!1}return!0};d.connectionState=function(){return this.$11};d.testOnlyGetSubscribedTopics=function(){return this.$14};d.$21=function(){this.$8&&this.$7!=null&&(this.$26("Disconnected"),this.$7!=null&&this.$7.disconnect(),this.$7=null)};d.$26=function(a){a!==this.$11&&(this.$11=a,this.$1(a))};d.$20=function(){var a=this;if(!this.$8)return;this.$26("Connecting");var b=Date.now();this.$9=c("PolarisMqttUtils").generateSessionId();var d=Array.from(this.$14),e=c("PolarisMqttUtils").endpointWithSessionId(this.$5,this.$9);try{this.$7=new(c("PolarisMqttProtocolClient"))(e);var f=this.$27(),g=f.map(function(a){return a.topic});e=this.$6.gen(this.$9,d,f);this.$7!=null&&(this.$7.connect({ignoreSubProtocol:!0,keepAliveInterval:i,mqttVersion:3,onConnectFailure:function(c){return a.$28(c,b,d,g)},onConnection:function(){return a.$29(f,d)},onConnectionError:function(b){return a.$30(b)},onConnectionLost:function(b){return a.$31(b)},onConnectSuccess:function(){return a.$32(b,d,g)},onMessageArrived:function(b,c){return a.$33(b,c)},onMessageDelivered:function(b){return a.$34(b)},userName:e}),c("InstagramODS").incr("web.mqtt.protocol.connectattempt"),this.$19.onConnectAttempt())}catch(a){c("InstagramODS").incr("web.mqtt.js_error_in_init_exception"),this.$26("Disconnected"),this.$35(!1,b,d,[],14,a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$19.onWSFatal(),this.$36(new(c("PolarisMqttTypes").MqttChannelError)(!1,"ws_js_error",a),"client_init")}};d.$27=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};d.$23=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("#doSubscribe","Subscribing to "+a);this.$19.onSubscribe(a);c("InstagramODS").incr("web.mqtt.protocol.subscribe");return!0}}catch(a){this.$10.logError(a,"Exception subscribing"),c("InstagramODS").incr("web.mqtt.subscribe_exception"),c("InstagramODS").incr("web.mqtt.protocol.subscribe.error")}return!1};d.$25=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("#doUnsubscribe","Unsubscribing to "+a);this.$19.onUnsubscribe(a);c("InstagramODS").incr("web.mqtt.protocol.unsubscribe");return!0}}catch(a){this.$10.logError(a,"Exception unsubscribing"),c("InstagramODS").incr("web.mqtt.unsubscribe_exception"),c("InstagramODS").incr("web.mqtt.protocol.unsubscribe.error")}return!1};d.$24=function(a,b,d,e){if(this.$7!=null)try{b=this.$7.publish(a,b,d);c("InstagramODS").incr("web.mqtt.protocol.publish");var f=b!=null?b:"null";this.$10.debugTrace("#doPublish","publish "+a+" with messageId:"+f+" qos:"+d);this.$19.onPublish(a);b!=null?this.$15.set(b,e):e.resolve();return!0}catch(a){this.$10.logError(a,"Exception publishing");c("InstagramODS").incr("web.mqtt.publish_exception");e.reject(a);c("InstagramODS").incr("web.mqtt.protocol.publish.error");return!1}else return!1};d.$37=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$21();this.$22("reconnect");this.$38();this.$9=-1;this.$13=0;a=a!=null?a:Math.pow(2,Math.min(this.$12,6))*(1e3+c("PolarisMqttEnv").Env.random()*200);this.$10.debugTrace("#scheduleReconnect","Reconnect in "+a+" ms");c("PolarisMqttEnv").Env.setTimeout(function(){b.$20()},a);this.$12+=1};d.$38=function(){if(!c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_reconnect_reset))return;var a=Date.now()-this.$13,b=this.$13!==0&&a>o,d=this.$12>p;(b||d)&&(this.$12=0);this.$13!==0&&a<=o&&c("InstagramODS").incr("web.mqtt.short_lived_session");d&&c("InstagramODS").incr("web.mqtt.connection_attempt_limit")};d.$35=function(a,b,c,d,e,f){a===!0?this.$18++:this.$17++,this.$10.eventLogConnect({attemptNumber:this.$12,connectionStatus:a,duration:Date.now()-b,errorCode:e,errorMessage:f,failTotal:this.$17,hostname:this.$5,publishes:d,sessionID:this.$9,subscribedTopics:c,successTotal:this.$18})};d.$28=function(a,b,d,e){var f=a.mqttError,g=f.errorMessage;this.$10.debugTrace("connect","Connect failed "+g);c("InstagramODS").incr("web.mqtt.protocol.onconnectfailure");this.$19.onConnectFailure();this.$35(!1,b,d,e,f.errorCode,g);if(a.connAck!=null){c("InstagramODS").incr("web.mqtt.protocol.connect_failure");if(a.connAck===q){this.$37(n);return}}this.$37()};d.$29=function(a,b){var d=this;c("InstagramODS").incr("web.mqtt.protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$19.onConnected();b.forEach(function(a){d.$19.onSubscribe(a)});a.forEach(function(a){d.$19.onPublish(a.topic)});this.$26("TransportConnected")};d.$32=function(a,b,d){c("InstagramODS").incr("web.mqtt.protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$19.onConnectSuccess(),this.$35(!0,a,b,d),this.$26("Connected"),this.$39(b),c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_reconnect_reset)||(this.$12=0),this.$13=Date.now()};d.$31=function(a){c("InstagramODS").incr("web.mqtt.protocol.onconnectionlost"),a.errorCode&&this.$10.eventLogDisconnect({duration:Date.now()-this.$13,errorCode:a.errorCode,errorMessage:a.errorMessage,sessionID:this.$9}),this.$10.debugTrace("connect","connection lost"),this.$19.onConnectionLost(),this.$37()};d.$30=function(a){};d.$33=function(a,b){c("InstagramODS").incr("web.mqtt.protocol.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$19.onMessage(a);try{this.$3(a,b)}catch(a){this.$10.logError(a,"Listener threw error"),c("InstagramODS").incr("web.mqtt.listener_error")}};d.$34=function(a){c("InstagramODS").incr("web.mqtt.protocol.onmessagedelivered");var b=a!=null?a:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+b+"}");if(a==null)return;b=this.$15.get(a);if(b==null)return;this.$15["delete"](a);b.resolve()};d.$22=function(a){this.$15.forEach(function(b,c,d){b.reject(new Error(a))}),this.$15.clear()};d.$39=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$14.has(a)||b.unsubscribe(a)});a=new Set(this.$14);a.forEach(function(a){c.has(a)||b.subscribe(a)})};d.$36=function(a,b){try{c("InstagramODS").incr("web.mqtt.js_error_in_init");var d=a?a.message:"error";this.$10.debugTrace("onError",b+": "+d);this.$2(a)}catch(a){c("InstagramODS").incr("web.mqtt.js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};return a}();g["default"]=a}),98);
__d("PolarisMqttChannel",["FBLogger","InstagramODS","PolarisChannelClientID","PolarisIrisSubscribeChecker","PolarisMqttAnalyticsHook","PolarisMqttConnection","PolarisMqttEnv","PolarisMqttUserName","PolarisMqttUtils","Promise","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=60*1e3;a=function(){function a(a){var b=this,d=a.appId,e=a.capabilities,f=a.chatVisibility;f=f===void 0?!0:f;var g=a.clientCapabilities,h=a.endpoint,i=a.igSpecificOptions,j=a.initialSubscribedTopics,k=a.observer;a=a.userFbid;this.$8=c("PolarisMqttEnv").Env.getLoggerInstance();this.$8.setAppId(d);this.$9=new(c("PolarisMqttUserName"))(a,e,g,c("PolarisChannelClientID").getID(),d,f,i);this.$1=h;this.$5="Disconnected";this.$2=[k];this.$4=new Set();this.$6=new Map();this.$7=new(c("PolarisMqttConnection"))(i);(i==null?void 0:i.deviceId)!=null?this.$3=i.deviceId:this.$3=c("uuidv4")();this.$13=new(c("PolarisMqttAnalyticsHook"))();this.$7.addHook(this.$13);this.$7.addHook(new(c("PolarisIrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$10=!1;this.$12=new Map();this.$11=[];this.$14(j)}var d=a.prototype;d.$14=function(a){var b=this;if(this.$7.isRunning()){this.$15("run","Connection started calling run again");return}if(c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_polling_enabled))if(c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_forced_polling_only)){this.$15("MqttChannel","Websocket disabled, will do long polling only");return}else if(!c("PolarisMqttUtils").hasWSSupport()){this.$15("MqttChannel","Websocket Unavailable, will do long polling only");c("InstagramODS").incr("web.mqtt.ws_unavailable_polling");return}this.$7.run({endpoint:this.$1,extraConnectMessageProvider:function(){return b.$16()},mqttUserName:this.$9,onJSError:function(a){b.$17(a)},onMessageReceived:function(a,c){b.$18(a,c)},onStateChange:function(a){b.$19(a)},subscribedTopics:a})};d.shutdown=function(){this.$7&&this.$7.shutdown()};d.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return c.qos===0?this.$20(a,b):this.$21(a,b,c)};d.$20=function(a,b){return this.$7.publish(a,b,0)};d.$21=function(a,d,e){var f={reject:function(a){},resolve:function(){}},g=new(h||(h=b("Promise")))(function(a,b){f.resolve=a,f.reject=b}),i=c("PolarisMqttEnv").Env.random();d={ack:f,options:e,payload:d,publishToken:i,timeoutId:null,topic:a};e.skipBuffer?this.$7.connectionState()==="Connecting"?this.$11.push(d):this.$22(d):(d.timeoutId=this.$23(i),this.$12.set(i,d),this.$24(d));return g};d.$22=function(a){c("PolarisMqttUtils").promiseDone(this.$7.publish(a.topic,a.payload,a.options.qos),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};d.$24=function(a){var b=this;c("PolarisMqttUtils").promiseDone(this.$7.publish(a.topic,a.payload,a.options.qos),function(){return b.$25(a)},function(){})};d.subscribe=function(a,b){this.$7.subscribe(a);var c=this.$6.get(a);!c?(c=[b],this.$6.set(a,c)):c.push(b)};d.subscribeChannelEvents=function(a){this.$2.push(a)};d.registerExtraConnectPayloadProvider=function(a){var b=this;this.$4.add(a);if(this.$7.isRunning()){a=a.getPublishMessages();a.forEach(function(a){b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})["catch"](function(a){return b.$8.logError(a,a==null?void 0:a.message)})})}};d.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};d.unsubscribe=function(a){this.$7.unsubscribe(a),this.$6["delete"](a)};d.getConnectionState=function(){return this.$5};d.getEndpoint=function(){return this.$1};d.addHook=function(a){this.$7.addHook(a)};d.removeHook=function(a){this.$7.removeHook(a)};d.testOnlyMessageReceived=function(a,b){this.$18(a,b)};d.$26=function(a){var b=this.$12.get(a);b!=null&&b.timeoutId!=null&&c("PolarisMqttEnv").Env.clearTimeout(b.timeoutId);this.$12["delete"](a)};d.$23=function(a){var b=this;return c("PolarisMqttEnv").Env.setTimeout(function(a){var d=b.$12.get(a);if(!d)return;var e=d.topic;c("InstagramODS").incr("web.mqtt.publish_timeout");b.$8.debugTrace("publish_timeout","Timeout publishing topic: "+e+" publishToken: "+a);b.$26(a);d.ack.reject(new Error("Publish Timed Out"))},i,a)};d.$25=function(a){var b=a.publishToken,d=this.$12.get(b);if(!d)return;this.$26(b);a.ack.resolve();this.$8.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);c("InstagramODS").incr("web.mqtt.publish_success")};d.$18=function(a,b){var d=this.$6.get(a);if(!d)this.$8.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(a of d)try{a(b)}catch(a){this.$8.logError(a,"Listener exception"),c("InstagramODS").incr("web.mqtt.listener_error")}};d.$17=function(a){if(c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?c("InstagramODS").incr("web.mqtt.recoverable_error_skipped"):c("InstagramODS").incr("web.mqtt.unrecoverable_error_skipped");return}a.isRecoverable?c("InstagramODS").incr("web.mqtt.recoverable_error_not_skipped"):c("InstagramODS").incr("web.mqtt.unrecoverable_error_not_skipped");a.isRecoverable||(this.$10=!0);this.$27(a)};d.$27=function(a){for(var b of this.$2)b.onJSError&&b.onJSError(a)};d.$19=function(a){var b=this;a==="Connecting"?(this.$11.forEach(function(a){a.ack.reject(new Error("Client Reconnecting"))}),this.$11=[]):a==="TransportConnected"&&(this.$11.forEach(function(a){b.$22(a)}),this.$11=[],this.$12.forEach(function(a,c,d){b.$24(a)}));this.$5=this.$28(a);this.$15("_changeState","Connection state = "+a);this.$29()};d.$28=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("FBLogger")("ig_web").mustfixThrow("Unknown state "+a)};d.$29=function(){for(var a of this.$2)a.onMQTTStateChanged(this.$5)};d.$16=function(){var a=this,b=[];this.$4.forEach(function(d){try{d=d.getPublishMessages();Array.prototype.push.apply(b,d)}catch(b){a.$8.logError(b,"ConnectPayload provider exception"),c("InstagramODS").incr("web.mqtt.connectPayloadProvider_error")}});return b};d.$15=function(a,b){this.$8.debugTrace(a,"Mqtt channel: "+b)};d.setForegroundState=function(a){this.$9&&this.$9.setForegroundState(a)};d.setChatVisibility=function(a){this.$9&&this.$9.setChatVisibility(a)};return a}();g["default"]=a}),98);
__d("PolarisMqttLogger",["InstagramODS","PolarisChannelClientID","PolarisDirectLogger","PolarisMqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a="mqtt_client";var h=null,i=new(d("PolarisDirectLogger").DirectLogger)(a,c("PolarisChannelClientID").getID()),j={CLIENT_ERROR:"mqtt_client_error",CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish"};b=function(){function a(){this.$1=0,this.$2=Date.now(),this.$3=c("PolarisChannelClientID").getID()}a.getInstance=function(){h||(h=new a());return h};var b=a.prototype;b.setAppId=function(a){this.$1===0&&(this.$1=a)};b.eventLogConnect=function(a){var b=a.attemptNumber,d=a.connectionStatus,e=a.duration,f=a.errorCode,g=a.errorMessage;a.failTotal;var h=a.hostname,i=a.publishes,k=a.sessionID,l=a.subscribedTopics;a.successTotal;d?c("InstagramODS").incr("web.mqtt.mqtt_client_connect.success"):c("InstagramODS").incr("web.mqtt.mqtt_client_connect.failed");a={attempt_number:b,connection_status:d,device_id:this.$3,duration:e,error_code:f,error_message:g,hostname:h,href:window.location.hostname,logged_in:c("PolarisMqttEnv").Env.isUserLoggedInNow(),publishes:i,session_id:k,subscribed_topics:l};this.$4(j.CONNECT,a)};b.eventLogPull=function(a){var b=a.duration,d=a.errorMessage,e=a.hostname,f=a.pullEventName,g=a.sessionID;a=a.status;a={connection_status:a,device_id:this.$3,duration:b,error_message:d,hostname:e,href:window.location.hostname,logged_in:c("PolarisMqttEnv").Env.isUserLoggedInNow(),session_id:g};this.$4(f,a)};b.eventLogDisconnect=function(a){var b=a.duration,d=a.errorCode,e=a.errorMessage;a=a.sessionID;c("InstagramODS").incr("web.mqtt.mqtt_client_disconnect");b={device_id:this.$3,duration:b,error_code:d,error_message:e,href:window.location.hostname,session_id:a};this.$4(j.DISCONNECT,b)};b.eventLogPublish=function(a){a.connectionStatus;a.publishStatus;a.sessionID;a=a.topic;c("InstagramODS").incr("web.mqtt.mqtt_client_publish");c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.mqtt.mqtt_client_publish."+a)};b.logError=function(a,b){c("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){i.logError(b,a)})};b.eventLogMiscellaneousError=function(a){a=a.errorMessage;a={device_id:this.$3,error_message:a,href:window.location.hostname,logged_in:c("PolarisMqttEnv").Env.isUserLoggedInNow(),time_passed:Date.now()-this.$2};this.$4(j.CLIENT_ERROR,a)};b.logErrorWarn=function(a,b){c("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){i.logError(b,a)})};b.logWarn=function(a,b){};b.debugTrace=function(a,b){c("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){i.debugTrace(a,b)})};b.bumpCounter=function(a){};b.$4=function(a,b){var d=this;c("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a,b.app_id=d.$1,b.online=d.$5(),i.logDirectEvent(a,b)})};b.$5=function(){return window.navigator&&window.navigator.onLine!==void 0?window.navigator.onLine:!1};return a}();g["default"]=b}),98);
__d("polarisSetTimeoutAcrossTransitions",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return setTimeout.apply(void 0,[a,b].concat(d))}f["default"]=a}),66);
__d("PolarisMqttEnvInitializer",["PolarisIsLoggedIn","PolarisMqttEnv","PolarisMqttLogger","PolarisWebStorage","polarisSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h="mqtt:";a={initialize:function(){c("PolarisMqttEnv").Env.initialize(null,d("PolarisIsLoggedIn").isLoggedIn,null,c("polarisSetTimeoutAcrossTransitions"),function(){return c("PolarisMqttLogger").getInstance()},null,null,null,null,function(a,b){var d=c("PolarisWebStorage").getLocalStorage();if(d){d=d.getItem(h+a);if(d!=null)return d}return b},function(a,b){var d=c("PolarisWebStorage").getLocalStorage();d&&(b==null?d.removeItem(h+a):d.setItem(h+a,b))})}};b=a;g["default"]=b}),98);
__d("PolarisDirectMQTT",["InstagramODS","MercuryLocalIDs","PolarisCallGatingHelpers","PolarisConfig","PolarisDeviceOrMachineId","PolarisDirectConstants","PolarisDirectDeltaHandlers","PolarisDirectGraphQLSubscription","PolarisDirectIrisSubscription","PolarisDirectLogger","PolarisDirectSkywalkerSubscription","PolarisLiveDeltaHandler","PolarisLocales","PolarisMediaOverlayInfoTypes","PolarisMqttChannel","PolarisMqttEnvInitializer","PolarisReactRedux.react","nullthrows","polarisArraySplitChunks","polarisDeveloperSettings","polarisForEachAsync","randomInt"],(function(a,b,c,d,e,f,g){"use strict";var h=20;a=function(){function a(a,b){var e=this;this.$8=0;this.$14=function(a){var b;try{b=JSON.parse(a.substr(0,a.length-1))}catch(a){e.$4.logError("Could not parse mqttMessages",a);return}a=b.payload.header;if(a.type===4&&a.conferenceName.includes("ROOM")){var d,f;d=((d=b.payload.body)==null||(d=d.ringRequest)==null?void 0:d.ringType)%2===1;f=(f=b.payload.body)==null||(f=f.ringRequest)==null||(f=f.appMessages)==null?void 0:f.find(function(a){return a.body.genericMessage.topic==="ring_data"});var g="",h="",i="",j=[];if(f){var k;f=JSON.parse(f==null||(k=f.body)==null||(k=k.genericMessage)==null?void 0:k.data);var l=f.display_name,m=f.display_uri,n=f.group_name,o=f.ig_thread_id;f=f.participant_usernames;g=o;i=l;j.push(m);if(n)h=n;else{o=f;try{o=JSON.parse(f)}catch(a){}h=Array.isArray(o)?[l].concat(o).join(", "):l}}e.$6(a.type,a.serverInfoData,g,d,h,j,i);c("InstagramODS").incr("web.rtc.ack_ring_message");e.$15(a.conferenceName,a.sequenceNumber,a.serverInfoData,a.transactionId,a.type,a.conferenceType)}else a.type===5&&a.conferenceName.includes("ROOM")?(e.$6(a.type,a.serverInfoData,"",!1,"",[],""),c("InstagramODS").incr("web.rtc.ack_dismiss_message"),e.$15(a.conferenceName,a.sequenceNumber,a.serverInfoData,a.transactionId,a.type,a.conferenceType)):c("InstagramODS").incr("web.rtc.rtc_message_ignored")};this.$16=function(a){var b=c("nullthrows")(e.$1),f;try{f=JSON.parse(a)}catch(a){e.$4.logError("Could not parse mqttMessages",a);return}if(!Array.isArray(f)){e.$4.debugTrace("parsed_message_not_array",typeof f);return}c("polarisForEachAsync")(c("polarisArraySplitChunks")(f,h),function(a){d("PolarisReactRedux.react").batch(function(){for(var c of a){var d=c.data,f=c.event,g=c.mutation_token,h=c.seq_id;e.$4.debugTrace("parsed_message",{event:f,mutation_token:g});if(f!=="patch"){e.$4.debugTrace("skipped_message",{event:f});return}if(!Array.isArray(d)){e.$4.debugTrace("parsed_message_bad_operations",typeof d);return}for(f of d)b.handleDelta(f,g);if(h){d=e.$2.subscription_type;e.$4.debugTrace("seq_id",{seq_id:h,subscriptionType:d});d==="message"&&b.onSeqIdUpdated(h)}}})})};this.$17=function(a){try{a=JSON.parse(a);if(a.status==="ok"){var b;(a==null||(b=a.payload)==null?void 0:b.activity_status)==null?e.$4.logDirectEvent("send_message_response_success"):e.$4.logDirectEvent("send_activity_response_success")}else{var c;(a==null||(c=a.payload)==null?void 0:c.activity_status)==null?e.$4.logError("send_message_response_failed"):e.$4.logDirectEvent("send_activity_response_failed")}}catch(a){e.$4.logError("send_message_response_parse_failed",a)}};this.$18=function(a){e.$4.debugTrace("state_changed",a);var b=c("nullthrows")(e.$1);if(a==="Connected"){var f=c("nullthrows")(e.$5);f.subscribe("/ig_message_sync",e.$16);f.subscribe("/ig_send_message_response",e.$17);d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&!d("PolarisCallGatingHelpers").isWebCallingEnabled()&&f.subscribe("/pubsub",e.$14);e.$3||(e.$3=new(d("PolarisDirectIrisSubscription").DirectIrisSubscription)(b,e.$2,f,e.$4.getDebugId()));e.$3.subscribe();e.$10||(e.$10=new(d("PolarisDirectGraphQLSubscription").DirectGraphQLSubscription)(b,f,e.$4.getDebugId()));e.$2.subscription_type==="message"?(e.$9||(e.$9=new(d("PolarisDirectSkywalkerSubscription").DirectSkywalkerSubscription)(b,f,e.$4.getDebugId())),e.$9.subscribe()):e.$4.debugTrace("skip_skywalker",e.$2);e.$10&&e.$10.subscribe()}else if(a==="Disconnected"){e.$3&&(e.$3.unsubscribe(),e.$3=null);e.$9&&(e.$9.unsubscribe(),e.$9=null);e.$10&&(e.$10.unsubscribeGraphQL(),e.$10=null);f=e.$5;f&&(f.unsubscribe("/ig_message_sync"),f.unsubscribe("/ig_send_message_response"),d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&!d("PolarisCallGatingHelpers").isWebCallingEnabled()&&f.unsubscribe("/pubsub"))}b.onMqttConnectivityChanged(a)};this.$4=new(d("PolarisDirectLogger").DirectLogger)("DirectMQTT",b);this.$4.debugTrace("ctor",a);this.$1=null;this.$2=a;this.$3=null;this.$5=null;this.$9=null;this.$10=null}var b=a.prototype;b.$11=function(){return c("nullthrows")(d("PolarisConfig").getViewerId())};b.$12=function(){return parseInt(d("PolarisConfig").getIGAppID(),10)};b.$13=function(){return d("PolarisDeviceOrMachineId").getDeviceOrMachineId()};b.$15=function(a,b,d,e,f,g){var h=this;if(this.$7==null){var i=c("randomInt")(0,4294967294)+1;this.$7=String(i)}i={endpoint:{appId:this.$12(),deviceId:this.$13(),userId:this.$11()},jsonPayload:{body:{ringResponse:{deviceCapabilities:[],deviceStatus:0}},header:{clientSessionId:this.$7,clientStack:5,conferenceName:a,conferenceType:g,messageTags:[],responseStatusCode:200,retryCount:0,sequenceNumber:b,serverInfoData:d,transactionId:e,type:f}}};c("nullthrows")(this.$5).publish("/rtc_multi",JSON.stringify(i))["catch"](function(a){var b;f===4?c("InstagramODS").incr("web.rtc.ack_ring_message_failed"):f===5?c("InstagramODS").incr("web.rtc.ack_dismiss_message_failed"):c("InstagramODS").incr("web.rtc.ack_message_failed");b=(b=(b=h.$5)==null?void 0:b.getConnectionState())!=null?b:"Unknown";h.$4.logError("ack_rtc_message_failed",a,{conference_type:g,message_type:f,mqtt_state:b});throw a})};b.$19=function(a){var b=this;this.$4.logDirectEvent("send_attempt",{action:a.action,type:a.item_type||""});return c("nullthrows")(this.$5).publish("/ig_send_message",JSON.stringify(babelHelpers["extends"]({client_context:d("MercuryLocalIDs").generateOfflineThreadingID(),device_id:this.$13()},a)))["catch"](function(a){b.$4.logError("send_message_failed",a);throw a})};b.sendRtcHangupRequest=function(a){var b=this;a={endpoint:{appId:this.$12(),deviceId:this.$13(),userId:this.$11()},jsonPayload:{body:{hangupRequest:{detailedReasonString:"",reason:0}},header:{clientSessionId:this.$7,clientStack:5,messageTags:[],retryCount:0,sequenceNumber:this.$8++,serverInfoData:a,transactionId:String(c("randomInt")(0,4294967294)+1),type:2}}};return c("nullthrows")(this.$5).publish("/rtc_multi",JSON.stringify(a))["catch"](function(a){b.$4.logError("send_rtc_hangup_message_failed",a);throw a})};b.sendTextMessage=function(a,b,c,e,f){return this.$19({action:"send_item",item_type:d("PolarisDirectConstants").ThreadItemType.TEXT,mutation_token:c,replied_to_client_context:f,replied_to_item_id:e,text:b,thread_id:a})};b.sendMediaShare=function(a,b,c,e){var f=d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE;e==="clips"&&(f=d("PolarisDirectConstants").ThreadItemType.CLIP_SHARE);return(c==null?void 0:c.overlay_layout)===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_LAYOUTS.MEDIA_COVER||(c==null?void 0:c.overlay_layout)===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_LAYOUTS.MEDIA_COVER_WITH_BOTTOM_BANNER?this.$19({action:"send_item",item_type:f,media_id:b,share_treatment_title:d("PolarisDirectConstants").InformTreatmentTitleValues.FALLBACK,share_treatment_type:d("PolarisDirectConstants").InformTreatmentTypeValues.WARNING_SCREENS,thread_id:a}):this.$19({action:"send_item",item_type:f,media_id:b,thread_id:a})};b.sendLike=function(a,b){return this.$19({action:"send_item",item_type:d("PolarisDirectConstants").ThreadItemType.LIKE,mutation_token:b,thread_id:a})};b.indicateTypingActivity=function(a,b){return this.$19({action:"indicate_activity",activity_status:a,thread_id:b})};b.markVisualItemSeen=function(a,b){return this.$19({action:"mark_visual_item_seen",item_ids:JSON.stringify([a]),target_item_type:"voice_media",thread_id:b})};b.modifyLikeReaction=function(a,b,c,d,e){return this.$19({action:"send_item",emoji:e!=null?e:"",item_id:a,item_type:"reaction",node_type:"item",reaction_status:d,reaction_type:"like",target_item_type:b,thread_id:c})};b.disconnect=function(){this.$4.debugTrace("disconnect_start"),this.$3?(this.$4.debugTrace("unsubscribe_iris"),c("nullthrows")(this.$3).unsubscribe(),this.$3=null):this.$4.debugTrace("no_iris"),this.$9?(this.$4.debugTrace("unsubscribe_skywalker"),this.$9=null):this.$4.debugTrace("no_skywalker"),this.$10?(this.$4.debugTrace("unsubscribe_graphql"),this.$10=null):this.$4.debugTrace("no_graphql"),this.$5?(this.$4.debugTrace("shutdown_channel"),c("nullthrows")(this.$5).shutdown(),this.$5=null):this.$4.debugTrace("no_channel"),this.$1&&(this.$1=null),this.$4.debugTrace("disconnect_end")};b.connect=function(a,b){var e=this;this.$4.debugTrace("connect_start");this.disconnect();this.$1=new(d("PolarisDirectDeltaHandlers").DirectDeltaHandlers)(a,this.$4.getDebugId());this.$6=b;a={onJSError:function(a){e.$4.logError("mqtt_js_error",a)},onMQTTStateChanged:this.$18};b={appSpecificInfo:{},deviceId:this.$13()};var f=c("PolarisLocales").language_code;f!=null&&(b.appSpecificInfo["Accept-Language"]=f);c("PolarisMqttEnvInitializer").initialize();f={appId:this.$12(),capabilities:0,chatVisibility:!0,clientCapabilities:1,endpoint:d("PolarisDirectConstants").PROD_MQTT_GATEWAY,igSpecificOptions:b,initialSubscribedTopics:[],observer:a,userFbid:this.$11()};this.$5=new(c("PolarisMqttChannel"))(f);this.$4.debugTrace("connect_end")};b.subscribeToLiveEvent=function(a,b,d){var e=this.$10;if(e==null)return;b=new(c("PolarisLiveDeltaHandler"))(b);e.enableLiveEventHandler(a,b,d);e.subscribe()};b.unsubscribeToLiveEvent=function(a){var b=this.$10;if(b==null)return;b.disableLiveEventHandler(a);b.subscribe()};b.getLogger=function(){return this.$4};return a}();g.DirectMQTT=a}),98);
__d("usePolarisPostToastPosition",["PolarisPostConstants","PolarisPostToastProvider.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect,j=-4,k=-1,l=16,m=1;function n(a){var b=a.isFeed,c=a.isNarrow,e=a.postToastContainerElem;a=a.setPositionStyles;if(e!=null){e=e.getBoundingClientRect();var f=e.left-(c?l:0);f={left:f};var g=e.right-e.left+(c?2*l:0);b?a({absolutePositionStyles:{left:e.left+m,top:e.bottom+window.pageYOffset-d("PolarisPostConstants").POST_TOAST_HEIGHT-2},width:e.width-m}):a({absolutePositionStyles:babelHelpers["extends"]({},f,{top:e.top+window.pageYOffset-d("PolarisPostConstants").POST_TOAST_HEIGHT+k-(c?j:0)}),width:g})}}function a(a){var b=d("react-compiler-runtime").c(11),c=a.isFeed,e=a.isNarrow;a=d("PolarisPostToastProvider.react").usePostToastContext();var f=a.positionStyles,g=a.postToastContainerElem,h=a.setPositionStyles;a=a.showToast;var j;b[0]!==c||b[1]!==e||b[2]!==g||b[3]!==h?(j=function(){return n({isFeed:c,isNarrow:e,postToastContainerElem:g,setPositionStyles:h})},b[0]=c,b[1]=e,b[2]=g,b[3]=h,b[4]=j):j=b[4];var k;b[5]!==c||b[6]!==e||b[7]!==g||b[8]!==h||b[9]!==a?(k=[c,e,g,h,a],b[5]=c,b[6]=e,b[7]=g,b[8]=h,b[9]=a,b[10]=k):k=b[10];i(j,k);return f}g["default"]=a}),98);
__d("PolarisPostToastImpl.react",["BasePortal.react","ExecutionEnvironment","IGDSTextVariants.react","PolarisIGAnimate","PolarisIGCoreButton.react","PolarisPostConstants","PolarisPostStrings","PolarisPostToastProvider.react","PolarisSizing","PolarisUA","browserHistory_DO_NOT_USE","react","react-compiler-runtime","usePolarisDisplayProperties","usePolarisPostToastPosition"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useEffect,l=3e3,m=350;function a(a){var b=d("react-compiler-runtime").c(13),e=a.isFeedVariant;a=a.isModal;var f=e&&d("PolarisUA").isDesktop(),g=d("PolarisPostToastProvider.react").usePostToastContext(),i=g.ActionText,n=g.BodyText,o=g.actionHref,p=g.setShowToast;g=g.showToast;var q=c("usePolarisDisplayProperties")();q=q.viewportWidth;q=q<d("PolarisSizing").SMALL_SCREEN_MAX;var r;b[0]!==e||b[1]!==q?(r={isFeed:e,isNarrow:q},b[0]=e,b[1]=q,b[2]=r):r=b[2];e=c("usePolarisPostToastPosition")(r);r=(q=e==null?void 0:e.width)!=null?q:0;var s=e!=null?babelHelpers["extends"]({},e.absolutePositionStyles,{width:r}):null,t=r>m;b[3]!==p?(q=function(){var a=window.setTimeout(function(){p(!1)},l);return function(){return window.clearTimeout(a)}},b[3]=p,b[4]=q):q=b[4];k(q,void 0);e=g===!0;b[5]!==e?(r={show:e},b[5]=e,b[6]=r):r=b[6];q=d("PolarisIGAnimate").useFadeTransition(r);g=c("BasePortal.react");b[7]!==a?(e=(h||(h=c("ExecutionEnvironment"))).canUseDOM?a?document.body:document.querySelector('[role="main"]'):null,b[7]=a,b[8]=e):e=b[8];r=q(function(a,b){return b?j.jsx(d("PolarisIGAnimate").Animated.div,{className:"x10l6tqk xhtitgo",style:babelHelpers["extends"]({},a,s),children:j.jsx("div",{className:{0:"xc26acl x6s0dn4 xvbhtw8 xhpglom x18b5jzi x1lun4ml x1fqc88y x1t7ytsu xpilrb4 x78zum5",1:"xc26acl x6s0dn4 xvbhtw8 xhpglom x18b5jzi x1lun4ml x1fqc88y x1t7ytsu xpilrb4 x78zum5 xh05dso x1q0q8m5 xso031l x1wcsgtt x1pczhz8 x1xp8e9x x13fuv20 x178xt8z"}[!!f<<0],style:{height:d("PolarisPostConstants").POST_TOAST_HEIGHT},children:j.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np x1szn6h9 xyamay9 xv54qhq x1l90r2v xf7dkkf xh8yej3",children:[j.jsx("div",{className:"x1iyjqo2",children:j.jsx(d("IGDSTextVariants.react").IGDSTextLabel,{maxLines:1,textAlign:"start",children:n})}),j.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(){return d("browserHistory_DO_NOT_USE").redirect(o!=null?o:"/")},children:i!=null&&t?i:d("PolarisPostStrings").POST_PAGE_ACTION_TEXT})]})})}):null});b[9]!==g||b[10]!==e||b[11]!==r?(a=j.jsx(g,{target:e,children:r}),b[9]=g,b[10]=e,b[11]=r,b[12]=a):a=b[12];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("InstagramGdprConsentFlowActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4180");b=d("FalcoLoggerInternal").create("instagram_gdpr_consent_flow_actions",a);e=b;g["default"]=e}),98);
__d("InstagramGdprConsentFlowEntryFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4187");b=d("FalcoLoggerInternal").create("instagram_gdpr_consent_flow_entry",a);e=b;g["default"]=e}),98);
__d("InstagramGdprConsentFlowFinishedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4188");b=d("FalcoLoggerInternal").create("instagram_gdpr_consent_flow_finished",a);e=b;g["default"]=e}),98);
__d("InstagramGdprConsentFlowViewFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4189");b=d("FalcoLoggerInternal").create("instagram_gdpr_consent_flow_view",a);e=b;g["default"]=e}),98);
__d("InstagramSignupQPL",["QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$1=a}var b=a.prototype;b.$3=function(a,b){c("QPLUserFlow").addPoint(this.$1,a,b)};b.isActive=function(){return this.$2};b.start=function(a){a===void 0&&(a={}),this.$2=!0,c("QPLUserFlow").start(this.$1,babelHelpers["extends"]({cancelExisting:!0},a))};b.endSuccess=function(){if(!this.$2)return;c("QPLUserFlow").endSuccess(this.$1);this.$2=!1};b.endFailure=function(a,b){if(!this.$2)return;c("QPLUserFlow").endFailure(this.$1,a,{error:b});this.$2=!1};b.endCancel=function(a,b){if(!this.$2)return;c("QPLUserFlow").endCancel(this.$1,{annotations:{string:{cancel_type:b}},cancelReason:a});this.$2=!1};b.endCancelSeamlessLogin=function(){this.endCancel(4,"valid_credentials_seamless_login")};b.endCancelSmsFallback=function(){this.endCancel(4,"sms_fallback")};b.endFailureFormValidationError=function(){this.endFailure("form_validation_error")};b.addPointSignupAttempt=function(){this.$3("signup_attempt")};return a}();g["default"]=a}),98);
__d("InstagramWebRegistrationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5678");b=d("FalcoLoggerInternal").create("instagram_web_registration",a);e=b;g["default"]=e}),98);
__d("PolarisAPIFetchParentalConsent",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("PolarisInstapi").apiGet("/api/v1/web/consent/fetch_parental_consent_reg/").then(function(a){return a.data})}g.fetchParentalConsent=a}),98);
__d("PolarisAPIFetchUnconsentedConsents",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("PolarisInstapi").apiGet("/api/v1/web/consent/get/roadblocking/").then(function(a){return a.data})}g.fetchUnconsentedConsents=a}),98);
__d("PolarisAPIGetUsernameSuggestions",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a={email:a,name:b};return d("PolarisInstapi").apiPost("/api/v1/web/accounts/username_suggestions/",{body:a}).then(function(a){return a.data})}g.getUsernameSuggestions=a}),98);
__d("PolarisAPIRequestSignupSMSCode",["PolarisAPIConstants","PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c={captcha_token:c,client_id:a,phone_number:b};return d("PolarisInstapi").apiPost("/api/v1/web/accounts/send_signup_sms_code_ajax/",{body:c},{options:{timeout:d("PolarisAPIConstants").SIGNUP_TIMEOUT}}).then(function(a){return a.data})}g.requestSignupSMSCode=a}),98);
__d("PolarisAPISendParentalConsentEmail",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b={current_screen_key:b,guardian_email:a};return d("PolarisInstapi").apiPost("/api/v1/web/consent/send_parental_consent_email/",{body:b}).then(function(a){return a.data})}g.sendParentalConsentEmail=a}),98);
__d("PolarisAPISignup",["invariant","PolarisAPIConstants","PolarisEncryptionHelper","PolarisInstapi","PolarisPasswordEncryptionLogger","WebSession","asyncToGeneratorRuntime","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=a.email,g=a.password,i=a.phoneNumber,j=a.username;(f!=null||i!=null||j!=null)&&g!=null||h(0,51789);i={requestUUID:c("uuidv4")()};j=babelHelpers["extends"]({},yield d("PolarisEncryptionHelper").getEncryptedParam("password",g,i),{captcha:a.captcha,day:a.day,email:f,failed_birthday_year_count:a.failedBirthdayYearCount,first_name:a.fullName,month:a.month,phone_number:typeof a.phoneNumber==="string"?a.phoneNumber:null,subno_key:a.subnoKey,username:a.username,year:a.year});typeof a.smsCode==="string"&&(j.sms_code=a.smsCode);typeof a.clientId==="string"&&(j.client_id=a.clientId);typeof a.seamlessLoginEnabled==="string"&&(j.seamless_login_enabled=a.seamlessLoginEnabled);typeof a.gdpr_s==="string"&&(j.gdpr_s=a.gdpr_s);typeof a.tosVersion==="string"&&(j.tos_version=a.tosVersion);typeof a.phoneId==="string"&&(j.phone_id=a.phoneId);typeof a.optIntoOneTap==="boolean"&&(j.opt_into_one_tap=a.optIntoOneTap);typeof a.fbToken==="string"&&(j.big_blue_token=a.fbToken);typeof a.emailSignupCode==="string"&&(j.force_sign_up_code=a.emailSignupCode);typeof a.failedBirthdayYearCount==="string"&&(j.failed_birthday_year_count=a.failedBirthdayYearCount);b?j.use_new_suggested_user_name="true":j.extra_session_id=d("WebSession").getId();g=b?"/api/v1/web/accounts/web_create_ajax/attempt/":"/api/v1/web/accounts/web_create_ajax/";d("PolarisPasswordEncryptionLogger").logEncryptedPayloadSend(g,j,i);return d("PolarisInstapi").apiPost(g,{body:j},{before:e,options:{timeout:d("PolarisAPIConstants").getSignupTimeout()}}).then(function(a){return a.data})});return j.apply(this,arguments)}function a(a){return i(a,!1)}function e(a,b){return i(a,!0,b)}g.signup=a;g.signupDryRun=e}),98);
__d("PolarisAPISkipParentalConsent",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a={action:"skip",current_screen_key:a};return d("PolarisInstapi").apiPost("/api/v1/web/consent/update/",{body:a}).then(function(a){return a.data})}g.skipParentalConsent=a}),98);
__d("PolarisAPIUpdateConsentDob",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("PolarisInstapi").apiPost("/api/v1/web/consent/update_dob/",{body:babelHelpers["extends"]({},a,{current_screen_key:b})}).then(function(a){return a.data})}g.updateConsentDob=a}),98);
__d("PolarisAPIUpdateConsentState",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("PolarisInstapi").apiPost("/api/v1/web/consent/update/",{body:{current_screen_key:b,updates:JSON.stringify(a)}}).then(function(a){return a.data})}g.updateConsentState=a}),98);
__d("PolarisAPIUpdateNewUserConsent",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.dob,e=a.gdpr_s;a=a.updates;b=babelHelpers["extends"]({current_screen_key:b},c,{gdpr_s:e});a&&(b.updates=JSON.stringify(a));return d("PolarisInstapi").apiPost("/api/v1/web/consent/new_user_flow/",{body:b}).then(function(a){return a.data})}g.updateNewUserConsent=a}),98);
__d("PolarisAPIValidateSignupSMSCode",["PolarisAPIConstants","PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return d("PolarisInstapi").apiPost("/api/v1/web/accounts/validate_signup_sms_code_ajax/",{body:{client_id:a,phone_number:b,sms_code:c}},{options:{timeout:d("PolarisAPIConstants").SIGNUP_TIMEOUT}}).then(function(a){return a.data})}g.validateSignupSMSCode=a}),98);
__d("PolarisAPIVerifyAge",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/consent/check_age_eligibility/",{body:a}).then(function(a){return a.data})}g.verifyAge=a}),98);
__d("PolarisRegistrationLogger",["IGNavChain","InstagramWebRegistrationFalcoEvent","PolarisFBConnectStatus","PolarisLogger","PolarisPigeonLogger","PolarisUA","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=d("PolarisLogger").getExtra(a),e=d("PolarisUA").isMobile()?"mobile":"desktop",f=d("PolarisFBConnectStatus").getFBConnectStatusMapping(a.fbconnect_status),g=d("PolarisPigeonLogger").getState(),h={account_creation_error_type:a.account_creation_error_type,confirmation_code:a.confirmation_code,confirmation_error_type:a.confirmation_error_type,contactpoint:a.contactpoint,contactpoint_type:a.contactpoint_type,error_message:a.error_message,event_name:a.event_name,fbconnect_status:f,frontend_env:b.frontend_env,ig_userid:b.ig_userid,input_error_type:a.input_error_type,module:a.containermodule,nav_chain:(f=c("IGNavChain").getInstance())==null?void 0:f.getNavChainForSend(),pigeon_session_id:g.session.sessionID,platform:e,referral_source:a.referral_source,rollout_hash:b.rollout_hash,step:a.step,username:a.username};a.event_name==="account_creation_success"&&c("gkx")("6383")?c("InstagramWebRegistrationFalcoEvent").logCritical(function(){return h}):c("InstagramWebRegistrationFalcoEvent").log(function(){return h})}function a(a){h(babelHelpers["extends"]({},a,{containermodule:"multiStepSignupPage",referral_source:a.referral_source}))}g.logRegistrationEvent=h;g.logMultiStepRegistrationEvent=a}),98);
__d("PolarisConsentLogger",["InstagramGdprConsentFlowActionsFalcoEvent","InstagramGdprConsentFlowEntryFalcoEvent","InstagramGdprConsentFlowFinishedFalcoEvent","InstagramGdprConsentFlowViewFalcoEvent","PolarisLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("InstagramGdprConsentFlowEntryFalcoEvent").log(function(){return d("PolarisLogger").getExtra(a)})}function b(a){c("InstagramGdprConsentFlowActionsFalcoEvent").log(function(){return d("PolarisLogger").getExtra(a)})}function e(a){c("InstagramGdprConsentFlowViewFalcoEvent").log(function(){return d("PolarisLogger").getExtra(a)})}function f(a){c("InstagramGdprConsentFlowFinishedFalcoEvent").log(function(){return d("PolarisLogger").getExtra(a)})}function h(a){}function i(a){}g.logConsentFlowEntry=a;g.logConsentAction=b;g.logConsentView=e;g.logConsentFlowFinished=f;g.logConsentEmailSuccess=h;g.logConsentEmailFailure=i}),98);
__d("PolarisConsentActions",["invariant","FBLogger","PolarisAPIFetchParentalConsent","PolarisAPIFetchUnconsentedConsents","PolarisAPISendParentalConsentEmail","PolarisAPISkipParentalConsent","PolarisAPIUpdateConsentDob","PolarisAPIUpdateConsentState","PolarisAPIUpdateNewUserConsent","PolarisAgeCollectionHelpers","PolarisConsentLogger","PolarisConsentStrings.react","PolarisConsentTypes","PolarisEmailValidator","PolarisGenericStrings","PolarisIsLoggedIn","PolarisNavigationUtils","PolarisRoutes","PolarisSignupActionSignup","Promise","browserHistory_DO_NOT_USE","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a,b,c){c===void 0&&(c=d("PolarisConsentStrings.react").CONSENTS_FINISHED_TEXT);if(a.screen_key&&a.screen_key===d("PolarisConsentTypes").ConsentScreenKeys.FINISHED){d("PolarisConsentLogger").logConsentFlowFinished(s(babelHelpers["extends"]({},b,{isNewUserFlow:!1})));if(b.entrypointType===d("PolarisConsentTypes").ConsentEntrypoints.BLOCK){a=d("browserHistory_DO_NOT_USE").getQuery(d("browserHistory_DO_NOT_USE").browserHistory);a.next?a.next.startsWith("instagram://")?d("browserHistory_DO_NOT_USE").redirect(a.next):d("PolarisNavigationUtils").redirectToNextParam():d("browserHistory_DO_NOT_USE").browserHistory.push("/")}return{toast:{text:c}}}return{}}function a(){return function(a,b){a({type:"LOAD_TERMS_UNBLOCK_PAGE"}),d("PolarisConsentLogger").logConsentView(babelHelpers["extends"]({},s(babelHelpers["extends"]({},b().consent,{isNewUserFlow:!1})),{stage:"gdpr_block_screen"}))}}function e(a){return function(b,e){a===d("PolarisConsentTypes").ConsentEntrypoints.BLOCK&&d("PolarisConsentLogger").logConsentAction(babelHelpers["extends"]({},s(babelHelpers["extends"]({},e().consent,{isNewUserFlow:!1})),{action:"next",stage:"gdpr_block_screen"}));b({entrypointType:a,type:"FETCH_CONSENTS_REQUESTED"});d("PolarisConsentLogger").logConsentFlowEntry(s(babelHelpers["extends"]({},e().consent,{isNewUserFlow:!1})));var f=a===d("PolarisConsentTypes").ConsentEntrypoints.REG?d("PolarisAPIFetchParentalConsent").fetchParentalConsent:d("PolarisAPIFetchUnconsentedConsents").fetchUnconsentedConsents;return f().then(function(a){b({consents:a.contents,primaryButtonText:a.primary_button_text,screenKey:a.screen_key,tosVersion:a.tos_version,type:"FETCH_CONSENTS_SUCCESS"})})["catch"](function(d){c("FBLogger")("ig_web","consent_fetch_failed").catching(d).warn("failed to fetch consents %s for entrypoint %s",JSON.stringify(e().consent),a),b({type:"FETCH_CONSENTS_FAILED"})})}}function k(a){return function(c,e){if(a.screen_key===d("PolarisConsentTypes").ConsentScreenKeys.FINISHED||a.screen_key===d("PolarisConsentTypes").ConsentScreenKeys.PARENTAL_CONSENT){var f=e().signup.signupCredentials;f||h(0,50425);d("PolarisConsentLogger").logConsentFlowFinished(s(babelHelpers["extends"]({},e().consent,{isNewUserFlow:!0})));c(p());e={};a.screen_key===d("PolarisConsentTypes").ConsentScreenKeys.PARENTAL_CONSENT&&(e.forceRedirectUrl=""+d("PolarisRoutes").TERMS_START_PATH+d("PolarisConsentTypes").ConsentEntrypoints.REG);return c(d("PolarisSignupActionSignup").signup(babelHelpers["extends"]({},f,{emailOrPhone:f.emailOrPhone!=null&&f.emailOrPhone!==""?f.emailOrPhone:f.phoneNumber!=null&&f.phoneNumber!==""?f.phoneNumber:f.email,gdpr_s:a.gdpr_s}),"gdpr",e))}else a.screen_key===d("PolarisConsentTypes").ConsentScreenKeys.UNDER_13&&d("PolarisAgeCollectionHelpers").incrementNumInvalidAgeAttempts();return(i||(i=b("Promise"))).resolve()}}function f(){return function(a){a({entrypointType:d("PolarisConsentTypes").ConsentEntrypoints.REG,type:"FETCH_CONSENTS_REQUESTED"}),a({consents:{},primaryButtonText:d("PolarisGenericStrings").OK_TEXT,screenKey:d("PolarisConsentTypes").ConsentScreenKeys.UNDER_13,type:"FETCH_CONSENTS_SUCCESS"})}}function l(a){return function(b,c){var e=!d("PolarisIsLoggedIn").isLoggedIn(),f=c().consent,g=f.gdpr_s;f=f.screenKey;f||h(0,50424);b({type:"UPDATE_CONSENT_REQUESTED"});return e?d("PolarisAPIUpdateNewUserConsent").updateNewUserConsent({gdpr_s:g,updates:a},f).then(function(a){b(k(a)),b({consents:a.contents,gdpr_s:a.gdpr_s,primaryButtonText:a.primary_button_text,screenKey:a.screen_key,tosVersion:a.tos_version,type:"UPDATE_CONSENT_SUCCESS"})})["catch"](function(){b({type:"UPDATE_CONSENT_FAILED"})}):d("PolarisAPIUpdateConsentState").updateConsentState(a,f).then(function(a){b(babelHelpers["extends"]({consents:a.contents,primaryButtonText:a.primary_button_text,screenKey:a.screen_key,tosVersion:a.tos_version,type:"UPDATE_CONSENT_SUCCESS"},j(a,c().consent)))})["catch"](function(){b({type:"UPDATE_CONSENT_FAILED"})})}}function m(a){return function(b,c){var e=!d("PolarisIsLoggedIn").isLoggedIn(),f=c().consent,g=f.gdpr_s;f=f.screenKey;f||h(0,50424);b({type:"UPDATE_CONSENT_DOB_REQUESTED"});return e?d("PolarisAPIUpdateNewUserConsent").updateNewUserConsent({dob:a,gdpr_s:g},f).then(function(a){b(k(a)),b({consents:a.contents,gdpr_s:a.gdpr_s,primaryButtonText:a.primary_button_text,screenKey:a.screen_key,tosVersion:a.tos_version,type:"UPDATE_CONSENT_DOB_SUCCESS"})})["catch"](function(a){b({errorMessage:a.message,type:"UPDATE_CONSENT_DOB_FAILED"})}):d("PolarisAPIUpdateConsentDob").updateConsentDob(a,f).then(function(a){b(babelHelpers["extends"]({consents:a.contents,primaryButtonText:a.primary_button_text,screenKey:a.screen_key,tosVersion:a.tos_version,type:"UPDATE_CONSENT_DOB_SUCCESS"},j(a,c().consent)))})["catch"](function(a){b({errorMessage:a.message,type:"UPDATE_CONSENT_DOB_FAILED"})})}}function n(a){return function(e,f){var g=f().consent,k=g.screenKey,l=g.sessionId;k||h(0,50424);e({type:"SEND_PARENTAL_CONSENT_EMAIL_REQUESTED"});if(!c("PolarisEmailValidator")(a)){d("PolarisConsentLogger").logConsentEmailFailure({module:"instagram_terms_flow",reason:d("PolarisConsentStrings.react").INVALID_EMAIL_TEXT,session_id:l});e({errorMessage:d("PolarisConsentStrings.react").INVALID_EMAIL_TEXT,type:"SEND_PARENTAL_CONSENT_EMAIL_FAILED"});return(i||(i=b("Promise"))).resolve()}return d("PolarisAPISendParentalConsentEmail").sendParentalConsentEmail(a,k).then(function(a){d("PolarisConsentLogger").logConsentEmailSuccess({module:"instagram_terms_flow",session_id:l}),e(babelHelpers["extends"]({consents:a.contents,primaryButtonText:a.primary_button_text,screenKey:a.screen_key,tosVersion:a.tos_version,type:"SEND_PARENTAL_CONSENT_EMAIL_SUCCESS"},j(a,f().consent,d("PolarisConsentStrings.react").EMAIL_SENT_CONSENTS_FINISHED_TEXT)))})["catch"](function(a){e({errorMessage:a.message,type:"SEND_PARENTAL_CONSENT_EMAIL_FAILED"});d("PolarisConsentLogger").logConsentEmailFailure({module:"instagram_terms_flow",reason:a.message,session_id:l});return})}}function o(){return function(a,b){var c=b().consent.screenKey;c||h(0,50424);a({type:"SKIP_PARENTAL_CONSENT_REQUESTED"});return d("PolarisAPISkipParentalConsent").skipParentalConsent(c).then(function(c){a(babelHelpers["extends"]({consents:c.contents,primaryButtonText:c.primary_button_text,screenKey:c.screen_key,tosVersion:c.tos_version,type:"SKIP_PARENTAL_CONSENT_SUCCESS"},j(c,b().consent)))})["catch"](function(b){a({errorMessage:b.message,type:"SKIP_PARENTAL_CONSENT_FAILED"});return})}}function p(){return{type:"CLOSE_CONSENT_MODAL"}}function q(a){return{email:a,type:"PARENTAL_EMAIL_FIELD_CHANGE"}}function r(a){return{dob:a,type:"DOB_FIELD_CHANGE"}}function s(a){return{entry_point:c("nullthrows")(a.entrypointType),module:"instagram_terms_flow",session_id:c("nullthrows")(a.sessionId),user_state:a.isNewUserFlow?"new":"existing"}}g.loadTermsUnblockPage=a;g.loadConsents=e;g.checkNewUserStatus=k;g.handleAgeSignupBlocked=f;g.updateConsent=l;g.updateConsentDob=m;g.sendParentalConsentEmail=n;g.skipParentalConsent=o;g.closeConsentModal=p;g.parentEmailFieldChange=q;g.dobFieldChange=r;g.getDataForLogger=s}),98);
__d("PolarisAuthLimitedRegistrationHelpers",["PolarisConfig","YouthRegulationConfig"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=c("YouthRegulationConfig").config;return a!=null&&a!=null&&a.should_block_registration?!0:!1};b=function(){return d("PolarisConfig").getCountryCode()==="KR"};g.hasRestrictedRegistration=a;g.shouldShowSouthKoreaTOS=b}),98);
__d("PolarisSignupAPI",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/accounts/check_confirmation_code/",{body:a}).then(function(a){return a.data})}function b(a){return d("PolarisInstapi").apiPost("/api/v1/accounts/send_verify_email/",{body:a}).then(function(a){return a.data})}g.checkEmailConfirmationCode=a;g.sendVerifyEmail=b}),98);
__d("PolarisSignupActionConstants",[],(function(a,b,c,d,e,f){"use strict";a=3;f.VALID_CREDENTIALS_RESPONSE_CODE=a}),66);
__d("PolarisSignupDryRunExitError",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(){var a=new Error();a._dryRunEarlyExit=!0;return(g||(g=b("Promise"))).reject(a)}f.dryRunExitError=a}),66);
__d("PolarisSignupGetAPISignupFields",["PolarisAgeCollectionHelpers","PolarisDateHelpers"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.birthday!=null?d("PolarisDateHelpers").dateStringToDateType(a.birthday):{};return babelHelpers["extends"]({},b,{day:c.day!=null?String(c.day):void 0,failedBirthdayYearCount:d("PolarisAgeCollectionHelpers").getFailedBirthdayYearCount(),fullName:a.fullName,month:c.month!=null?String(c.month):void 0,optIntoOneTap:a.optIntoOneTap,password:a.password,username:a.username,year:c.year!=null?String(c.year):void 0})}g.getAPISignupFields=a}),98);
__d("PolarisSignupSeamlessLogin",["PolarisLoginActionLogin","PolarisRegistrationLogger","nullthrows","polarisLogAction"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g,h){a=c("nullthrows")(a.username);b=b.password;c("polarisLogAction")("signupWithValidCredentialsLoginAttempt",e);d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:f,containermodule:g,event_name:"reg_existing_login",username:a});h(d("PolarisLoginActionLogin").login(a,b||"",{isFromReg:!0,source:g}))}g.seamlessLogin=a}),98);
__d("polarisSignupSelectors",["mapObject"],(function(a,b,c,d,e,f,g){"use strict";var h,i=6;function a(a,b){var c;return Boolean(b==null||(c=b.fields)==null||(c=c[a])==null?void 0:c.validated)}function b(a){return a&&typeof a==="object"?(h||(h=c("mapObject")))(a,function(){return!0}):{}}function d(a,b,c){c===void 0&&(c={isOnlyError:!1});b=Boolean(a[b]);return c.isOnlyError?Object.keys(a).length===1&&b:b}function e(a,b){var c;return b==null||(c=b.fields)==null||(c=c[a])==null?void 0:c.error}function j(a,b){var c;return b==null||(c=b.fields)==null||(c=c[a])==null?void 0:c.value}function f(a){return a?j("username",a):null}function k(a,b){var c=a.needEmailOrPhone;a=a.needPassword;var d=b.emailOrPhone,e=b.password;b=b.username;c=c===!0&&(d==null||d==="");d=b==null||b==="";b=a===!0&&(e==null||e.length<i);return c||d||b}g.isAccepted=a;g.getAllErrorsFromSignupResponse=b;g.getErrorFromSignupResponse=d;g.getErrorFromSignupResult=e;g.getValueFromSignupResult=j;g.getUsernameFromSignupResult=f;g.getSubmitDisabled=k}),98);
__d("PolarisSignupActions",["invariant","PolarisAPIGetUsernameSuggestions","PolarisAPIRequestSignupSMSCode","PolarisAPISignup","PolarisAPIValidateSignupSMSCode","PolarisAPIVerifyAge","PolarisAgeCollectionHelpers","PolarisAuthLimitedRegistrationHelpers","PolarisAuthStrings","PolarisConsentActions","PolarisDateHelpers","PolarisInstajax","PolarisMachineID","PolarisRegistrationLogger","PolarisSignupAPI","PolarisSignupActionConstants","PolarisSignupActionSignup","PolarisSignupDryRunExitError","PolarisSignupGetAPISignupFields","PolarisSignupSeamlessLogin","PolarisSignupTypes","PolarisToastActions","PolarisUA","Promise","asyncToGeneratorRuntime","isStringNullOrEmpty","nullthrows","polarisGetAppPlatform","polarisIsPhoneNumber","polarisLogAction","polarisNormalizeSignupResponse","polarisSignupSelectors","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){var b=a.eventName,c=a.formContents,e=a.referralSource;a=a.source;var f=c.emailOrPhone;f=f!=null?p(f):void 0;d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:c.emailOrPhone,contactpoint_type:f,containermodule:a,event_name:b,full_name:c.fullName,referral_source:e,username:c.username})}function k(a,b,c){return function(e,f){var g;f=f().auth;var i=f.signup&&f.signup.signupCredentials;g=(g=c!=null?c:i==null?void 0:i.username)!=null?g:"";f=(f=f.multiSignup)==null?void 0:f.referralSource;i||h(0,51693);d("PolarisRegistrationLogger").logRegistrationEvent({confirmation_code:a,contactpoint:i.phoneNumber,contactpoint_type:"phone",containermodule:b,event_name:"confirmation_code_submit",full_name:i.fullName,referral_source:f,username:g});f=babelHelpers["extends"]({},i,{emailOrPhone:i.phoneNumber,smsCode:a,username:g});d("PolarisUA").isMobile()?e(d("PolarisSignupActionSignup").signup(f,b)):e(d("PolarisSignupActionSignup").signup(f,b))}}function a(a,b,c){return function(e){d("PolarisAPIGetUsernameSuggestions").getUsernameSuggestions(a||"",b||"").then(function(c){c=c.suggestions;e({forEmail:a,forFullName:b,suggestions:c,type:"USERNAME_SUGGESTIONS_FETCHED"})})["catch"](function(){d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:c,event_name:"username_suggestions_fetch_failed"}),e({type:"USERNAME_SUGGESTIONS_FETCH_FAILED"})})}}function e(a,b){return function(c,d){c({focusedField:b,formContents:a,type:"SIGNUP_FORM_FOCUS_CHANGED"})}}var l,m=["username","password","emailOrPhone","fullName"];function f(a){var e=d("PolarisMachineID").getMID()||"";return function(f,g){var j=g().auth.signup;j||h(0,51714);g=j.requestInFlight;var k=j.signupResult,n=k?k.fields.emailOrPhone&&k.fields.emailOrPhone.value!==a.emailOrPhone:a.emailOrPhone!==void 0,o=k?k.fields.fullName&&k.fields.fullName.value!==a.fullName:a.fullName!==void 0,p=k==null?a.username!==void 0:k.fields.username&&k.fields.username.value!==a.username,q=!Object.keys(a).some(function(b){return a[b]}),r=m;r=k?r.some(function(b){return(k.fields[b]||{}).value!==a[b]}):!q;if(r&&!g){l&&(l.abort(),l=null);a.emailOrPhone!=null||h(0,51697);q=c("polarisIsPhoneNumber")(a.emailOrPhone);r=d("PolarisSignupGetAPISignupFields").getAPISignupFields(a,{email:q?void 0:a.emailOrPhone,phoneNumber:q?a.emailOrPhone:void 0});q&&(r.clientId=e);return d("PolarisAPISignup").signupDryRun(r,function(a){l=a}).then(function(b){l=null,d("PolarisRegistrationLogger").logRegistrationEvent({event_name:"signup_dryrun_success"}),f({formContents:a,isInlineDryRun:!0,result:d("polarisNormalizeSignupResponse").normalizeSignupResponse(b,a,!0),type:"SIGNUP_DRY_RUN_RESULT_RECEIVED",usernameSuggestions:(n!=null&&n||!!o||p?b.username_suggestions:j==null?void 0:j.usernameSuggestions)||[]})},function(a){a=a instanceof d("PolarisInstajax").AjaxError?(a=a.responseObject)==null?void 0:a.message:void 0;d("PolarisRegistrationLogger").logRegistrationEvent({error_message:a,event_name:"signup_dryrun_failed"})})}return(i||(i=b("Promise"))).resolve()}}function n(a){return function(c){return d("PolarisAPIVerifyAge").verifyAge(d("PolarisDateHelpers").dateStringToDateType(a)).then(function(d){if(d.eligible_to_register){c({birthday:a,type:"SIGNUP_AGE_VERIFICATION_SUCCEEDED"});return(i||(i=b("Promise"))).resolve()}return(i||(i=b("Promise"))).reject(new Error("failed to verify age"))})["catch"](function(a){return(i||(i=b("Promise"))).reject(a)})}}function o(a,c,e){return function(f,g){a!=null||h(0,67032);d("PolarisAgeCollectionHelpers").maybeCooldownAgeAttempt();if(d("PolarisAgeCollectionHelpers").isAgeBlockedFromSignup()){f(d("PolarisConsentActions").handleAgeSignupBlocked());f(w());f(e);return(i||(i=b("Promise"))).resolve()}return(i||(i=b("Promise"))).resolve(f(n(a))).then(function(a){f(c)})["catch"](function(){d("PolarisAgeCollectionHelpers").incrementNumInvalidAgeAttempts(),d("PolarisAgeCollectionHelpers").saveAgeWrongAttemptSignal(a),d("PolarisAgeCollectionHelpers").isAgeBlockedFromSignup()&&f(d("PolarisConsentActions").handleAgeSignupBlocked()),f(w()),f(e)})}}function p(a){a=c("polarisIsPhoneNumber")(a);return a?"phone":"email"}function q(a,e){var f=d("PolarisMachineID").getMID()||"";return function(g){var h=a.emailOrPhone;if(h==null){c("polarisLogAction")("validationAttempt",{platform:d("polarisGetAppPlatform").getAppPlatform()});return d("PolarisSignupDryRunExitError").dryRunExitError()}var k=c("polarisIsPhoneNumber")(h),m=p(h),n={platform:d("polarisGetAppPlatform").getAppPlatform(),type:m};c("polarisLogAction")("validationAttempt",n);j({eventName:"form_submit",formContents:a,source:e});var o=d("PolarisSignupGetAPISignupFields").getAPISignupFields(a,{clientId:f,email:k?void 0:a.emailOrPhone,fullName:a.fullName,phoneNumber:k?a.emailOrPhone:void 0,seamlessLoginEnabled:"1"});l&&(l.abort(),l=null);return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var f=(yield d("PolarisAPISignup").signupDryRun(o));if(f.code===d("PolarisSignupActionConstants").VALID_CREDENTIALS_RESPONSE_CODE){d("PolarisSignupSeamlessLogin").seamlessLogin(f,a,n,m,e,g);return d("PolarisSignupDryRunExitError").dryRunExitError()}var h=d("polarisSignupSelectors").getAllErrorsFromSignupResponse(f.errors),j=!1;k?j=d("polarisSignupSelectors").getErrorFromSignupResponse(h,"sms_code",{isOnlyError:!0}):j=Object.keys(h).length===0;if(!j&&d("PolarisUA").isMobile()&&d("polarisSignupSelectors").getErrorFromSignupResponse(h,"username",{isOnlyError:!0}))return(i||(i=b("Promise"))).resolve();g({formContents:a,fromPhoneSignup:k,result:d("polarisNormalizeSignupResponse").normalizeSignupResponse(f,a,!0),type:"SIGNUP_DRY_RUN_RESULT_RECEIVED",usernameSuggestions:f.username_suggestions||[]});if(!j){c("polarisLogAction")("validationFailure",babelHelpers["extends"]({fields:h},n));j=d("polarisNormalizeSignupResponse").normalizeSignupResponse(f,a);for(h in j.fields){if(!Object.prototype.hasOwnProperty.call(j.fields,h))continue;if(k&&h==="sms_code")continue;var l=j.fields[h];l.error&&d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:a.emailOrPhone,contactpoint_type:m,containermodule:e,event_name:"form_input_error",full_name:a.fullName,input_error_type:l.errorCode,username:a.username})}g({result:j,type:"SIGNUP_FAILED",usernameSuggestions:f.username_suggestions});return d("PolarisSignupDryRunExitError").dryRunExitError()}k||c("polarisLogAction")("validationSuccess",n);return(i||(i=b("Promise"))).resolve()}catch(a){h=a instanceof d("PolarisInstajax").AjaxError?(l=a.responseObject)==null?void 0:l.message:void 0;d("PolarisRegistrationLogger").logRegistrationEvent({error_message:h,event_name:"base_form_validation_failed"});return d("PolarisSignupDryRunExitError").dryRunExitError()}})()}}function r(a,e){var f=d("PolarisMachineID").getMID()||"",g={platform:d("polarisGetAppPlatform").getAppPlatform(),type:"phone"},k=a.emailOrPhone;k!=null||h(0,51691);return function(h,l){return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var m;m=(m=l().auth.multiSignup)==null?void 0:m.referralSource;var n=(yield d("PolarisAPIRequestSignupSMSCode").requestSignupSMSCode(f,k,a.captcha));if(n.require_captcha===!0){h({emailOrPhone:a.emailOrPhone||"",type:"REQUEST_CAPTCHA"});j({eventName:"captcha_required",formContents:a,referralSource:m,source:e});return(i||(i=b("Promise"))).resolve()}else if(n.sms_sent){h({clientId:f,formContents:a,type:"PHONE_SIGNUP_CODE_SENT"});c("polarisLogAction")("validationSuccess",g);j({eventName:"confirmation_code_sent",formContents:a,referralSource:m,source:e});return(i||(i=b("Promise"))).resolve()}var o=n.errors||{};n=Object.keys(o).map(function(a){return o[a][0]})[0]||d("PolarisAuthStrings").ERROR_SIGNUP_UNKNOWN;h({formContents:a,message:n,type:"PHONE_SIGNUP_CODE_REQUEST_FAILED"});c("polarisLogAction")("validationFailure",g);d("PolarisRegistrationLogger").logRegistrationEvent({confirmation_error_type:"conf_code_not_sent",contactpoint:a.emailOrPhone,contactpoint_type:"phone",containermodule:e,error_message:JSON.stringify(o),event_name:"confirmation_error",full_name:a.fullName,referral_source:m,username:a.username});return(i||(i=b("Promise"))).reject(new Error("phone signup code validation failure"))}catch(f){n=f instanceof d("PolarisInstajax").AjaxError?f.responseObject:null;m=(n==null?void 0:n.message)!=null?n==null?void 0:n.message:d("PolarisAuthStrings").ERROR_SIGNUP_UNKNOWN;h({formContents:a,message:m||d("PolarisAuthStrings").ERROR_SIGNUP_UNKNOWN,type:"PHONE_SIGNUP_CODE_REQUEST_FAILED"});c("polarisLogAction")("validationFailure",g);d("PolarisRegistrationLogger").logRegistrationEvent({confirmation_error_type:"conf_code_not_sent",contactpoint:a.emailOrPhone,contactpoint_type:"phone",containermodule:e,error_message:JSON.stringify(n),event_name:"confirmation_error",full_name:a.fullName,username:a.username});return(i||(i=b("Promise"))).reject(new Error("phone signup validation failure"))}})()}}function s(a,c){var e=d("PolarisMachineID").getMID()||"",f=a.emailOrPhone;f!=null||h(0,51691);return function(d){return(i||(i=b("Promise"))).resolve(d(q(a,c))).then(function(b){d({clientId:e,formContents:a,type:"PHONE_SIGNUP_CODE_REQUESTED"}),d(r(a,c))})["catch"](function(a){if(a&&"_dryRunEarlyExit"in a)return})}}function t(a,e){var f=a.emailOrPhone!=null&&c("polarisIsPhoneNumber")(a.emailOrPhone);return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){if(f){var g=d("PolarisMachineID").getMID()||"",i=a.emailOrPhone;i!=null||h(0,51691);b({clientId:g,formContents:a,type:"PHONE_SIGNUP_CODE_REQUESTED"});b(r(a,e))}else{i=a.emailOrPhone;i!=null||h(0,51698);yield b(E(i,a.captcha));((g=c().signup.emailConfirmationCodeRequest)==null?void 0:g.require_captcha)!==!0&&b({type:"SIGNUP_EMAIL_CONFIRMATION_STEP_REQUESTED"})}});return function(a,b){return c.apply(this,arguments)}}()}function u(){return function(a){a({type:"SIGNUP_FORM_GO_BACK"})}}function v(){return{type:"SIGNUP_BIRTHDAY_PROCESSING"}}function w(){return{type:"SIGNUP_BIRTHDAY_FAILED"}}function x(a,e,f){f===void 0&&(f={});return function(g,l){var m,n,p=d("PolarisMachineID").getMID();m=c("polarisIsPhoneNumber")((m=a==null?void 0:a.emailOrPhone)!=null?m:"");l=l();l.auth.signup!=null||h(0,756);var r=l.auth.signup.step,s=(n=l.auth.multiSignup)==null?void 0:n.referralSource;switch(r){case d("PolarisSignupTypes").STEP.captcha:j({eventName:"captcha_next_clicked",formContents:a,referralSource:s,source:e});return g(t(a,e));case d("PolarisSignupTypes").STEP.birthday:n=a.birthday;n!=null||h(0,67031);j({eventName:"birthday_form_next_clicked",formContents:a,referralSource:s,source:e});r=function(b){j({eventName:"age_verification_succeeded",formContents:a,referralSource:s,source:e}),g(t(a,e))};var u=function(b){j({eventName:"age_verification_failed",formContents:a,referralSource:s,source:e}),d("PolarisAgeCollectionHelpers").isAgeBlockedFromSignup()||b({errorMessage:d("PolarisAgeCollectionHelpers").WE_COULDNT_CREATE_AN_ACC,type:"SIGNUP_ERROR"})};return g(o(n,r,u));case d("PolarisSignupTypes").STEP.emailConfirmation:return g(G(a,e,f));case d("PolarisSignupTypes").STEP.phoneConfirmation:n=l.signup.gdprRequired;r=a.twofac;c("isStringNullOrEmpty")(r)&&h(0,51694);return n||d("PolarisUA").isMobile()||d("PolarisAuthLimitedRegistrationHelpers").shouldShowSouthKoreaTOS()?g(A(r,e)):g(k(r,e));case d("PolarisSignupTypes").STEP.acceptTerms:return g(y(m,l,a,e,f,p));case d("PolarisSignupTypes").STEP.accountPrivacy:c("vulture")("NJrwr5YAtXa4DsWRQAqrC2zlvWk=");return d("PolarisAuthLimitedRegistrationHelpers").shouldShowSouthKoreaTOS()?g({type:"SIGNUP_ACCEPT_TERMS_REQUESTED"}):g(y(m,l,a,e,f,p));case d("PolarisSignupTypes").STEP.base:default:return(i||(i=b("Promise"))).resolve(g(q(a,e))).then(function(){return g({type:"SIGNUP_BIRTHDAY_REQUESTED"})})["catch"](function(a){if(a&&"_dryRunEarlyExit"in a)return})}}}function y(a,b,c,d,e,f){return function(g){g(z(a,b,c,d,e,f))}}function z(a,b,e,f,g,i){return function(j,k){var l={};if(a){var m;m=c("nullthrows")((m=b.auth.signup)==null?void 0:m.signupCredentials);var n=b.signup.gdprRequired,o=m.smsCode;c("isStringNullOrEmpty")(o)&&h(0,51690);n&&(l.smsCode=o,l.emailOrPhone=m.phoneNumber)}else{m=(o=(n=k().signup)==null?void 0:n.emailSignupCode)!=null?o:{};k=m.signupCode;k!=null||h(0,51695);l.emailSignupCode=k}return j(d("PolarisSignupActionSignup").signup(babelHelpers["extends"]({},e,l,{clientId:i}),f,g))}}function A(a,b){var e=d("PolarisMachineID").getMID()||"";return function(f,g){var i=g();i.auth.signup||h(0,756);var j=c("nullthrows")(i.auth.signup.signupCredentials),k=c("nullthrows")(j.phoneNumber);f({type:"PHONE_SIGNUP_CODE_VERIFICATION_REQUESTED"});return d("PolarisAPIValidateSignupSMSCode").validateSignupSMSCode(e,k,a).then(function(c){if(!c.verified){var e;f({message:c==null||(e=c.errors)==null||(e=e.nonce)==null?void 0:e[0],type:"PHONE_SIGNUP_CODE_VERIFICATION_FAILED"});d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:k,contactpoint_type:"phone",event_name:"form_input_error",input_error_type:c.error_type})}else{f({smsCode:a,type:"PHONE_SIGNUP_CODE_VERIFICATION_SUCCEEDED"});d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:k,contactpoint_type:"phone",event_name:"twofac_confirmation_code_success"});if(d("PolarisAuthLimitedRegistrationHelpers").shouldShowSouthKoreaTOS())f({type:"SIGNUP_ACCEPT_TERMS_REQUESTED"});else{c=i.signup.gdprRequired;c&&f(d("PolarisSignupActionSignup").signup(babelHelpers["extends"]({},j,{emailOrPhone:j.phoneNumber,smsCode:a}),b))}}},function(a){f({message:a.message,type:"PHONE_SIGNUP_CODE_VERIFICATION_FAILED"}),d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"phone",error_message:a.message,event_name:"form_input_error",input_error_type:"sms_verification_unknown_error"})})}}function B(a){var b=d("PolarisMachineID").getMID()||"",e={platform:d("polarisGetAppPlatform").getAppPlatform(),type:"phone"};return function(f,g){g=g();g.auth.signup||h(0,756);var i=g.auth.signup.signupCredentials;i||h(0,51696);g=i.phoneNumber;g!=null||h(0,51699);var j=a!=null?a:g;j!==g&&(e.newNum="1");f({clientId:b,phoneNumber:j,type:"PHONE_SIGNUP_CODE_REREQUESTED"});c("polarisLogAction")("signupSmsResendAttempt",e);d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:j,contactpoint_type:"phone",event_name:"request_new_code_click",full_name:i.fullName,username:i.username});return d("PolarisAPIRequestSignupSMSCode").requestSignupSMSCode(b,j).then(function(a){if(a.require_captcha===!0)f({emailOrPhone:j,type:"REQUEST_CAPTCHA"}),d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:j,contactpoint_type:"phone",event_name:"captcha_required",full_name:i.fullName,username:i.username});else if(a.sms_sent)f({clientId:b,phoneNumber:j,type:"PHONE_SIGNUP_CODE_RESENT"}),c("polarisLogAction")("signupSmsResendSuccess",e),d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:j,contactpoint_type:"phone",event_name:"confirmation_code_sent",full_name:i.fullName,username:i.username});else{var g=a.errors||{};a=Object.keys(g).map(function(a){return g[a][0]})[0]||d("PolarisAuthStrings").ERROR_SIGNUP_UNKNOWN;f({message:a,type:"PHONE_SIGNUP_CODE_REREQUEST_FAILED"});c("polarisLogAction")("signupSmsResendFailure",e);d("PolarisRegistrationLogger").logRegistrationEvent({confirmation_error_type:"conf_code_not_sent",contactpoint:j,contactpoint_type:"phone",error_message:JSON.stringify(g),event_name:"confirmation_error",full_name:i.fullName,username:i.username})}},function(a){a=a instanceof d("PolarisInstajax").AjaxError?a.responseObject:null;var b=(a==null?void 0:a.message)!=null?a==null?void 0:a.message:d("PolarisAuthStrings").ERROR_SIGNUP_UNKNOWN;f({message:b,type:"PHONE_SIGNUP_CODE_REREQUEST_FAILED"});c("polarisLogAction")("signupSmsResendFailure",e);d("PolarisRegistrationLogger").logRegistrationEvent({confirmation_error_type:"conf_code_not_sent",contactpoint:j,contactpoint_type:"phone",error_message:JSON.stringify(a),event_name:"confirmation_error",full_name:i.fullName,username:i.username})})}}function C(a){return function(c,e){if(a==="changePhoneNumber"){e=e();e.auth.signup||h(0,756);e=e.auth.signup.signupCredentials;e||h(0,51696);d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:e.phoneNumber,contactpoint_type:"phone",event_name:"change_phone_number_click",full_name:e.fullName,username:e.username})}c({newStep:a,type:"PHONE_SIGNUP_STEP_SWITCHED"});return(i||(i=b("Promise"))).resolve()}}function D(a,b,c,e){c===void 0&&(c=null);e===void 0&&(e=!1);return function(f){f({type:"SIGNUP_CONFIRMATION_EMAIL_REQUESTED"});return d("PolarisSignupAPI").sendVerifyEmail({captcha_token:c,device_id:a,email:b}).then(function(a){if(a.require_captcha===!0){d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"email",event_name:"captcha_required"});f({emailOrPhone:b,type:"REQUEST_CAPTCHA"});f({type:"SIGNUP_CONFIRMATION_EMAIL_RECAPTCHA"});return}f({type:"SIGNUP_CONFIRMATION_EMAIL_SUCCEEDED"});return d("PolarisAuthStrings").emailConfirmationCodeSentToast(b)},function(a){a=(a=a.responseObject)!=null?a:{};var b=a.error_type;a=a.message;f({error:{message:a,type:b},type:"SIGNUP_CONFIRMATION_EMAIL_FAILED"});return d("PolarisAuthStrings").ERROR_SENDING_EMAIL_CONFIRMATION_CODE_UNKNOWN}).then(function(a){e&&f(d("PolarisToastActions").showToast({text:a}))})}}function E(a,c,e,f){c===void 0&&(c=null);e===void 0&&(e=!1);f===void 0&&(f=d("PolarisRegistrationLogger").logRegistrationEvent);return function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){var h;h=(h=g().auth.multiSignup)==null?void 0:h.referralSource;f({contactpoint:a,contactpoint_type:"email",event_name:"email_confirmation_send_attempt",referral_source:h});yield b(D(d("PolarisMachineID").getMID(),a,c,e));b=g().signup.emailConfirmationCodeRequest;if((b==null?void 0:b.require_captcha)===!0)return;g=b==null?void 0:b.error;if(g==null)f({contactpoint:a,contactpoint_type:"email",event_name:"email_confirmation_send_success",referral_source:h});else{f({contactpoint:a,contactpoint_type:"email",error_message:(b=g.type)!=null?b:"",event_name:"email_confirmation_send_error",referral_source:h})}});return function(a,b){return g.apply(this,arguments)}}()}function F(a,c,e){return function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,f){f=f();f=f.signup.emailSignupCode;if((f==null?void 0:f.confirmationCode)===a&&(f==null?void 0:f.email)===e&&(f==null?void 0:f.signupCode)!=null)return;try{f=(yield d("PolarisSignupAPI").checkEmailConfirmationCode({code:a,device_id:c,email:e}));b(H({confirmationCode:a,email:e,error:null,signupCode:f.signup_code}))}catch(c){f=(f=c.responseObject)!=null?f:{};var g=f.error_type;f=f.message;b(H({confirmationCode:a,email:e,error:{message:f,type:g},signupCode:null}))}});return function(a,b){return f.apply(this,arguments)}}()}function G(a,c,e){return function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,f){var g;a.emailOrPhone!=null||h(0,51680);a.emailConfirmationCode!=null||h(0,51682);var i=a.birthday;i!=null||h(0,56388);i=a.emailOrPhone;var j=a.emailConfirmationCode,k=d("PolarisMachineID").getMID();g=(g=f().auth.multiSignup)==null?void 0:g.referralSource;b({type:"EMAIL_SIGNUP_CODE_REQUESTED"});d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:i,event_name:"email_confirmation_code_attempt",referral_source:g});yield b(F(j,k,i));f=(j=f().signup)==null?void 0:j.emailSignupCode;if((f==null?void 0:f.signupCode)!=null){j=f.signupCode;d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:i,event_name:"email_confirmation_code_success",referral_source:g});d("PolarisAuthLimitedRegistrationHelpers").shouldShowSouthKoreaTOS()?b({type:"SIGNUP_ACCEPT_TERMS_REQUESTED"}):yield b(d("PolarisSignupActionSignup").signup(babelHelpers["extends"]({},a,{clientId:k,emailSignupCode:j}),c,e))}else if((f==null?void 0:f.error)!=null){k=f.error;j=k.message;f=k.type;d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:i,contactpoint_type:"email",error_message:j,event_name:"form_input_error",input_error_type:f,referral_source:g});k=f==="invalid_nonce"?j:d("PolarisAuthStrings").ERROR_CONFIRMING_EMAIL_CONFIRMATION_CODE_UNKNOWN;b({errorMessage:k,type:"EMAIL_SIGNUP_CODE_FAILED"})}});return function(a,b){return f.apply(this,arguments)}}()}function H(a){return{signupCode:a,type:"SIGNUP_SET_EMAIL_SIGNUP_CODE"}}function I(){return{type:"SHOW_REGULATORY_CONSENT_MODAL"}}function J(){return{type:"REGULATORY_CONSENT_MODAL_DISMISSED"}}function K(){return{type:"SIGNUP_ADS_FREE_SUBSCRIPTION_EXISTS"}}g.signupWithPhoneCode=k;g.fetchUsernameSuggestions=a;g.changeSignupFormFocus=e;g.performDryRun=f;g.validateSignupAgeAndContinue=o;g.validateBaseSignupFormAndMaybeLogin=q;g.validateFormAndRequestSMSCode=s;g.requestContactpointConfirmationCode=t;g.returnToBaseSignupForm=u;g.processBirthday=v;g.failBirthday=w;g.validateFormAndContinue=x;g.verifySMSCode=A;g.rerequestSMSCode=B;g.switchPhoneSignupStep=C;g.requestConfirmationEmail=D;g.requestConfirmationEmailWithLogging=E;g.verifyEmailConfirmationCode=F;g.submitEmailConfirmationForm=G;g.setEmailSignupCode=H;g.setShowRegulatoryConsentModal=I;g.setDismissRegulatoryConsentModal=J;g.setSignupAdsFreeSubscriptionExists=K}),98);
__d("PolarisSignupQPL",["InstagramSignupQPL","qpl"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("InstagramSignupQPL"))(c("qpl")._(316872749,"2561"));g["default"]=a}),98);
__d("trackFBRegistrationConversion",["ExecutionEnvironment","PolarisFBPixel"],(function(a,b,c,d,e,f,g){"use strict";var h,i={complete_registration:"CompleteRegistration"};function a(){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM)return;d("PolarisFBPixel").trackEvent(i.complete_registration)}g["default"]=a}),98);
__d("PolarisSignupActionSignup",["invariant","PolarisAPILogin","PolarisAPISignup","PolarisAuthStrings","PolarisConsentTypes","PolarisInstajax","PolarisOneTapLogin","PolarisQueryParams","PolarisRedirectHelper","PolarisRegistrationLogger","PolarisSignupActionConstants","PolarisSignupActions","PolarisSignupGetAPISignupFields","PolarisSignupQPL","PolarisSignupSeamlessLogin","PolarisUA","Promise","asyncToGeneratorRuntime","gkx","mapObject","nullthrows","performance","polarisGetAppPlatform","polarisIsPhoneNumber","polarisLogAction","polarisNormalizeSignupResponse","polarisSignupSelectors","qex","trackFBRegistrationConversion"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=6e4,m=function(a){return new(k||(k=b("Promise")))(function(b){return window.setTimeout(b,a)})};function a(a,e,f){f===void 0&&(f={});var g={platform:d("polarisGetAppPlatform").getAppPlatform(),source:e};a.emailOrPhone!=null||h(0,51697);var k=c("polarisIsPhoneNumber")(a.emailOrPhone);g.type=k?"phone":"email";"captcha"in a&&(g.captcha="yes");var n=a.emailOrPhone!=null?k?"phone":"email":null,o=d("PolarisSignupGetAPISignupFields").getAPISignupFields(a,{captcha:a.captcha,email:k?void 0:a.emailOrPhone,phoneNumber:k?a.emailOrPhone:void 0,seamlessLoginEnabled:"1"});a.smsCode&&(o.smsCode=a.smsCode);a.clientId&&(o.clientId=a.clientId);a.gdpr_s&&(o.gdpr_s=a.gdpr_s);a.phoneId!=null&&(o.phoneId=a.phoneId);a.fbToken!=null&&(o.fbToken=a.fbToken);return function(h,p){var q,r=(i||(i=c("performance"))).now(),s=p(),t=s.auth;s=s.signup;c("PolarisSignupQPL").isActive()||c("PolarisSignupQPL").start();c("PolarisSignupQPL").addPointSignupAttempt();o.tosVersion=s.tosVersion||d("PolarisConsentTypes").TosVersion.DEFAULT;((q=s.emailSignupCode)==null?void 0:q.signupCode)!=null&&(o.emailSignupCode=s.emailSignupCode.signupCode);var u=(q=p().auth.multiSignup)==null?void 0:q.referralSource,v=t.multiSignup?d("PolarisRegistrationLogger").logMultiStepRegistrationEvent:d("PolarisRegistrationLogger").logRegistrationEvent;c("polarisLogAction")("signupAttempt",g);k||d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:a.emailOrPhone,contactpoint_type:n,containermodule:e,event_name:"form_submit",full_name:a.fullName,referral_source:u,username:a.username});h({type:"SIGNUP_ATTEMPTED"});v({contactpoint:a.emailOrPhone,contactpoint_type:n,containermodule:e,event_name:"signup_attempted",full_name:a.fullName,referral_source:u,username:a.username});var w=p().auth.next;s=function(b){if(b.account_created===!0){c("PolarisSignupQPL").endSuccess();h({type:"SIGNUP_SUCCEEDED"});b.user_id!=null&&(g.ig_userid=b.user_id);c("polarisLogAction")("signupSuccess",g);v({contactpoint:a.emailOrPhone,contactpoint_type:n,containermodule:e,event_name:"account_creation_success",full_name:a.fullName,ig_userid:b.user_id,referral_source:u,username:a.username});if(b.login_nonce!=null){var i;d("PolarisOneTapLogin").addLoginNonce((i=c("nullthrows"))(b.user_id),String(i(b.login_nonce)),i(b.username),i(b.profile_picture_url))}i=b.show_privacy_page;f.forceRedirectUrl!=null?d("PolarisRedirectHelper").redirectAfterSignup(f.forceRedirectUrl,!1,i):w?d("PolarisRedirectHelper").redirectAfterSignup(w,!1,i):d("PolarisRedirectHelper").redirectAfterSignup("/",!1,i);c("trackFBRegistrationConversion")();return}v({contactpoint:a.emailOrPhone,contactpoint_type:n,containermodule:e,error_message:JSON.stringify(b.errors),event_name:"account_creation_rejection",full_name:a.fullName,ig_userid:b.user_id,referral_source:u,username:a.username});if(b.code===d("PolarisSignupActionConstants").VALID_CREDENTIALS_RESPONSE_CODE){c("PolarisSignupQPL").endCancelSeamlessLogin();d("PolarisSignupSeamlessLogin").seamlessLogin(b,a,g,n,e,h);return}i=d("polarisNormalizeSignupResponse").normalizeSignupResponse(b,a);if(b.errors&&"phone_autoconfirm"in b.errors){d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:a.emailOrPhone,contactpoint_type:n,containermodule:e,event_name:"account_creation_sms_fallback",full_name:a.fullName,referral_source:u,username:a.username});h(d("PolarisSignupActions").validateFormAndRequestSMSCode(a,e));c("PolarisSignupQPL").endCancelSmsFallback();return}var j=d("polarisSignupSelectors").getAllErrorsFromSignupResponse(b.errors);c("polarisLogAction")("signupFailure",babelHelpers["extends"]({fields:j},g));c("PolarisSignupQPL").endFailureFormValidationError();for(j in i.fields){if(!Object.prototype.hasOwnProperty.call(i.fields,j))continue;var l=i.fields[j];l.error&&v({contactpoint:a.emailOrPhone,contactpoint_type:n,containermodule:e,event_name:"form_input_error",full_name:a.fullName,input_error_type:l.errorCode,referral_source:u,username:a.username})}l="form_validation_error";i.otherError&&k&&(v({confirmation_error_type:i.otherErrorCode,contactpoint:a.emailOrPhone,contactpoint_type:n,containermodule:e,event_name:"confirmation_error",full_name:a.fullName,referral_source:u,username:a.username}),l="confirmation_error"+(i.otherErrorCode!=null?"_"+i.otherErrorCode:""));v({account_creation_error_type:l,contactpoint:a.emailOrPhone,contactpoint_type:n,containermodule:e,event_name:"account_creation_error",full_name:a.fullName,referral_source:u,username:a.username});t.multiSignup?h({result:i,type:"MULTI_SIGNUP_FAILED"}):h({result:i,type:"SIGNUP_FAILED",usernameSuggestions:b.username_suggestions})};var x=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(i||(i=c("performance"))).now();while(e-r<l){try{var f=(yield d("PolarisAPILogin").login(a,b,d("PolarisOneTapLogin").queryParamStringWithOneTapInfo(d("PolarisQueryParams").parseQueryParams())));if(f.authenticated){c("PolarisSignupQPL").endSuccess();h({type:"SIGNUP_SUCCEEDED"});(f==null?void 0:f.userId)!=null&&(g.ig_userid=f.userId);c("polarisLogAction")("signupSuccess",g);d("PolarisRedirectHelper").redirectAfterSignup("/",!1,!1);return!0}else yield m(5e3)}catch(a){yield m(5e3)}e=(i||(i=c("performance"))).now()}return!1});return function(b,c){return a.apply(this,arguments)}}();q=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){c("polarisLogAction")("signupFailure",g);var f,i="error_unknown";if(b instanceof d("PolarisInstajax").AjaxError){var k;f=(k=b.responseText)!=null?k:void 0;if(((k=b.responseObject)==null?void 0:k.error_type)!=null){i=(k=b.responseObject)==null?void 0:k.error_type}else b.statusCode===429&&(i="rate_limit_error");(b.statusCode===572||b.statusCode===0)&&(i="signup_killed_timeout")}k=a.password;b=a.username;if(b!=null&&k!=null&&i==="signup_killed_timeout"){var l=c("qex")._("957")===!0;l=d("PolarisUA").isMobile()&&!l;if(!l){l=(yield x(b,k));if(l)return}}c("PolarisSignupQPL").endFailure(f!=null?f:"account_creation_error");v({account_creation_error_type:i,contactpoint:a.emailOrPhone,contactpoint_type:n,containermodule:e,error_message:f!=null?f:void 0,event_name:"account_creation_error",full_name:a.fullName,referral_source:u,username:a.username});b={fields:(j||(j=c("mapObject")))(a,function(a,b){return{value:a}}),otherError:d("PolarisAuthStrings").ERROR_SIGNUP_UNKNOWN,wasDryRun:!1};t.multiSignup?h({result:b,type:"MULTI_SIGNUP_FAILED"}):h({formContents:a,result:b,type:"SIGNUP_FAILED",usernameSuggestions:null})});return function(a){return f.apply(this,arguments)}}();return d("PolarisAPISignup").signup(o).then(s,q)}}function e(a,b,e){if(!c("gkx")("2717"))return function(){e()};a.emailOrPhone!=null||h(0,51697);var f=c("polarisIsPhoneNumber")(a.emailOrPhone),g=d("PolarisSignupGetAPISignupFields").getAPISignupFields(a,{captcha:a.captcha,email:f?void 0:a.emailOrPhone,phoneNumber:f?a.emailOrPhone:void 0,seamlessLoginEnabled:"1"});return function(c,h){return d("PolarisAPISignup").signupDryRun(g).then(function(g){var i;g=d("polarisNormalizeSignupResponse").normalizeSignupResponse(g,a,!0);var j=h();j=j.auth;j=j.multiSignup?d("PolarisRegistrationLogger").logMultiStepRegistrationEvent:d("PolarisRegistrationLogger").logRegistrationEvent;var k=a.emailOrPhone!=null?f?"phone":"email":null;if(g.fields.fullName.error!=null||((i=g.fields.password)==null?void 0:i.error)!=null){var l;i=(i=h().auth.multiSignup)==null?void 0:i.referralSource;g.fields.fullName.errorCode!=null&&j({contactpoint:a.emailOrPhone,contactpoint_type:k,containermodule:b,event_name:"form_input_error",full_name:g.fields.fullName.value||"",input_error_type:g.fields.fullName.errorCode,referral_source:i,username:a.username});if(((l=g.fields.password)==null?void 0:l.errorCode)!=null){j({contactpoint:a.emailOrPhone,contactpoint_type:k,containermodule:b,event_name:"form_input_error",full_name:g.fields.fullName.value||"",input_error_type:(l=g.fields.password)==null?void 0:l.errorCode,referral_source:i,username:a.username})}c({result:g,type:"MULTI_SIGNUP_NAME_PASSWORD_VERIFICATION_FAILED"})}else e()})["catch"](function(){e()})}}g.signup=a;g.signupDryRunNamePassword=e}),98);
__d("PolarisLabeledTextInput.react",["cx","PolarisTextInput.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["isInputFocused","onInput","placeholder","slimTextInputCol"],j,k=j||d("react");a=function(a){function b(b){var c;c=a.call(this)||this;c.$4=function(a){var b=a.currentTarget;c.$3(b.value);c.props.onInput&&c.props.onInput(a)};c.state={hasContent:!!b.value};return c}babelHelpers.inheritsLoose(b,a);b.getDerivedStateFromProps=function(a,c){return b.$2(a.value||"",c)};b.$2=function(a,b){if(a.length>0&&!b.hasContent)return{hasContent:!0};else if(a.length===0)return{hasContent:!1};return null};var d=b.prototype;d.$3=function(a){a=b.$2(a,this.state);a!==null&&this.setState(a)};d.$5=function(){return this.props.id!=null?this.props.id:void 0};d.blur=function(){this.$1&&this.$1.blur()};d.focus=function(){this.$1&&this.$1.focus()};d.select=function(){this.$1&&this.$1.select()};d.render=function(){var a=this,b=this.props,d=b.isInputFocused;b.onInput;var e=b.placeholder,f=b.slimTextInputCol;b=babelHelpers.objectWithoutPropertiesLoose(b,i);return k.jsxs("label",{className:"_aa48"+(this.state.hasContent||d?" _aa49":""),htmlFor:this.$5(),children:[k.jsx("span",{className:"_aa4a",children:e}),k.jsx(c("PolarisTextInput.react"),babelHelpers["extends"]({},b,{className:"_aa4b"+(f?" _add6":""),id:this.$5(),onInput:this.$4,ref:function(b){return a.$1=b}}))]})};return b}(k.Component);g["default"]=a}),98);
__d("PolarisSlimTextInput.react",["fbt","IGDSBox.react","PolarisIGCoreButton.react","PolarisLabeledTextInput.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["accepted","canRefresh","className","disabled","errorMessage","hasError","isPasswordHidden","omitErrorMarginBottom","onFocus","onPasswordToggle","onRefresh","showPasswordToggleLink"],j,k=j||d("react");a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={inputFocused:!1},b.$2=function(a){b.props.onFocus&&b.props.onFocus(a),b.setState({inputFocused:!0})},b.$3=function(){b.setState({inputFocused:!1})},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.$4=function(){var a=this.props,b=a.accepted,c=a.canRefresh,d=a.hasError;a=a.showPasswordToggleLink;var e=[];b===!0?e.push(k.jsx("span",{className:"xo3uz88 x1twbzvy xiy17q3 x17rw0jw x17z2i9w xnsbi7g x1quspbi xermsev x972fbf x10w94by x1qhh985 x14e42zd xjb2p0i xk390pu xdj266r x14z9mp xat24cr x13fj5qh xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},"accepted")):d===!0&&e.push(k.jsx("span",{className:"xo3uz88 x1nxxyus xiy17q3 x17rw0jw x17z2i9w xnsbi7g x1mb7f8p xermsev x972fbf x10w94by x1qhh985 x14e42zd xjb2p0i xk390pu xdj266r x14z9mp xat24cr x13fj5qh xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},"error"));a===!0&&e.push(this.$5());c===!0&&e.push(this.$6());return e};d.$6=function(){return k.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:this.props.onRefresh,children:k.jsx("span",{className:"xo3uz88 xcdibw7 xiy17q3 x17rw0jw x1kl0l3y xnsbi7g x1hu2l8e xermsev x1lliihq x6ikm8r x10wlt62 xevxmoj xuxw1ft",children:h._(/*BTDS*/"Refresh suggestion")})})},"refresh")};d.$5=function(){var a=this.props.isPasswordHidden;return k.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,color:"ig-secondary-button",onClick:this.props.onPasswordToggle,children:a===!0?h._(/*BTDS*/"Show"):h._(/*BTDS*/"Hide")})},"toggle-password")};d.$7=function(){var a,b;(a=(b=this.props).onError)==null||a.call(b);return k.jsx("div",babelHelpers["extends"]({},{0:{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 xxk16z8 x78zum5 xdt5ytf x2lah0s x1fhwpqd x1gslohp x14z9mp xat24cr x13fj5qh xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf"},1:{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 xxk16z8 x78zum5 xdt5ytf x2lah0s x1fhwpqd x1gslohp x14z9mp x13fj5qh xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf x1e56ztr"}}[!!(this.props.omitErrorMarginBottom!==!0)<<0],{children:this.props.errorMessage}))};d.render=function(){var a=this,b=this.props;b.accepted;b.canRefresh;var d=b.className,e=b.disabled,f=b.errorMessage,g=b.hasError;b.isPasswordHidden;b.omitErrorMarginBottom;b.onFocus;b.onPasswordToggle;b.onRefresh;b.showPasswordToggleLink;b=babelHelpers.objectWithoutPropertiesLoose(b,i);var h=this.state.inputFocused;g=g===!0&&f!=null&&f!=="";f=this.$4();var j={0:"x6s0dn4 xnz67gz x19gtwsn xhpglom x1xp9za0 x1fqc88y x1fqc64z xs83zq4 xt6ovg4 x1ru8ea5 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x5n08af x78zum5 x1q0g3np xvs91rp x1n2onr6 xh8yej3",4:"x6s0dn4 xnz67gz x1fqc64z xs83zq4 xt6ovg4 x1ru8ea5 x9f619 x5n08af x78zum5 x1q0g3np xvs91rp x1n2onr6 xh8yej3 x11f1dot x1lpj336 x1ii8w9m x1c5q3k4 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4",2:"x6s0dn4 xnz67gz x1fqc64z xs83zq4 xt6ovg4 x1ru8ea5 x9f619 x5n08af x78zum5 x1q0g3np xvs91rp x1n2onr6 xh8yej3 xplnoro x1mrmp0p x11j5czd x1d24mgy x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4",6:"x6s0dn4 xnz67gz x1fqc64z xs83zq4 xt6ovg4 x1ru8ea5 x9f619 x5n08af x78zum5 x1q0g3np xvs91rp x1n2onr6 xh8yej3 xplnoro x1mrmp0p x11j5czd x1d24mgy x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4",1:"x6s0dn4 x19gtwsn xhpglom x1xp9za0 x1fqc88y x1fqc64z xs83zq4 xt6ovg4 x1ru8ea5 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x78zum5 x1q0g3np xvs91rp x1n2onr6 xh8yej3 x19g9edo x1roi4f4",5:"x6s0dn4 x1fqc64z xs83zq4 xt6ovg4 x1ru8ea5 x9f619 x78zum5 x1q0g3np xvs91rp x1n2onr6 xh8yej3 x11f1dot x1lpj336 x1ii8w9m x1c5q3k4 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x19g9edo x1roi4f4",3:"x6s0dn4 x1fqc64z xs83zq4 xt6ovg4 x1ru8ea5 x9f619 x78zum5 x1q0g3np xvs91rp x1n2onr6 xh8yej3 xplnoro x1mrmp0p x11j5czd x1d24mgy x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x19g9edo x1roi4f4",7:"x6s0dn4 x1fqc64z xs83zq4 xt6ovg4 x1ru8ea5 x9f619 x78zum5 x1q0g3np xvs91rp x1n2onr6 xh8yej3 xplnoro x1mrmp0p x11j5czd x1d24mgy x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x19g9edo x1roi4f4"}[!!h<<2|!!g<<1|!!Boolean(e)<<0];return k.jsxs("div",{className:d,children:[k.jsxs("div",{className:j,children:[k.jsx(c("PolarisLabeledTextInput.react"),babelHelpers["extends"]({},b,{disabled:e,isInputFocused:h&&!!this.props.isInputFocused,onBlur:this.$3,onFocus:this.$2,ref:function(b){return a.$1=b},slimTextInputCol:!0})),k.jsx("div",{className:"x6s0dn4 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdl72j9 x1q0g3np x1c4vz4f x2lah0s xk390pu x5yr21d xdj266r x14z9mp xat24cr x1lziwak xexx8yu x18d9i69 x1c1uobl xf159sx x1n2onr6 xxymvpz",children:f})]}),g&&this.$7()]})};d.focus=function(){this.$1&&this.$1.focus()};return b}(k.Component);g["default"]=a}),226);
__d("PolarisConsentModal.react",["cx","invariant","FBLogger","IGCoreDialog.react","IGCoreModal.react","IGDSBox.react","IGDSButton.react","IGDSCircleCheckPanoOutlineIcon.react","IGDSLockOutline96Icon.react","IGDSRadioButton.react","IGDSRadioButtonGroup.react","IGDSSpinner.react","PolarisAgeCollectionHelpers","PolarisAuthStrings","PolarisConfirmDialog.react","PolarisConsentActions","PolarisConsentConstants","PolarisConsentLogger","PolarisConsentStrings.react","PolarisConsentTypes","PolarisDOBFieldSelect.react","PolarisDateHelpers","PolarisExternalLink.react","PolarisExternalRoutes","PolarisGenericStrings","PolarisIGCoreModalHeader.react","PolarisIsLoggedIn","PolarisNavigationUtils","PolarisReactRedux.react","PolarisSlimTextInput.react","PolarisUA","emptyFunction","isStringNullOrEmpty","joinClasses","nullthrows","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=["optional_paragraphs","paragraphs"],k=["screenKey"],l,m=l||d("react");function n(a){return{entry_point:c("nullthrows")(a.entrypointType),module:"instagram_terms_flow",session_id:c("nullthrows")(a.sessionId),user_state:a.isNewUserFlow?"new":"existing"}}function o(a){var b=d("react-compiler-runtime").c(5),c=a.style;a=a.text;switch(c){case"bulletpoint":b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={className:"x1roi4f4 x1fhwpqd xtaz4m5 xdj266r x11t971q x1e56ztr xyqm7xq xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},b[0]=c):c=b[0];b[1]!==a?(c=m.jsx("ul",babelHelpers["extends"]({},c,{children:m.jsx("li",{children:a})})),b[1]=a,b[2]=c):c=b[2];return c;case"paragraph":default:b[3]!==a?(c=m.jsx("span",{className:"_aa6o",children:a}),b[3]=a,b[4]=c):c=b[4];return c}}function p(a){var b=d("react-compiler-runtime").c(4),e=a.buttonText,f=a.disabled;a=a.onClick;f=!!f;var g;b[0]!==e||b[1]!==a||b[2]!==f?(g=m.jsx(c("IGDSBox.react"),{margin:3,position:"relative",children:m.jsx(c("IGDSButton.react"),{fullWidth:!0,isDisabled:f,label:e,onClick:a,size:"large"})}),b[0]=e,b[1]=a,b[2]=f,b[3]=g):g=b[3];return g}function q(a){var b=d("react-compiler-runtime").c(15),e=a.bodyWrapperClass,f=a.consent_key,g=a.headline;a=a.paragraphs;var h;b[0]!==g?(h=m.jsx("header",{className:"_aa6p",children:g}),b[0]=g,b[1]=h):h=b[1];b[2]!==e?(g=c("joinClasses")("_aa6q",e),b[2]=e,b[3]=g):g=b[3];if(b[4]!==f||b[5]!==a){b[7]!==f?(e=function(a,b){return m.createElement(o,babelHelpers["extends"]({},a,{key:f+".paragraph."+b}))},b[7]=f,b[8]=e):e=b[8];e=a.map(e);b[4]=f;b[5]=a;b[6]=e}else e=b[6];b[9]!==g||b[10]!==e?(a=m.jsx("div",{className:g,children:e}),b[9]=g,b[10]=e,b[11]=a):a=b[11];b[12]!==h||b[13]!==a?(g=m.jsxs(m.Fragment,{children:[h,a]}),b[12]=h,b[13]=a,b[14]=g):g=b[14];return g}function r(a){var b=d("react-compiler-runtime").c(8),c=a.handleOpenHelpCenter;a=a.handleOtherOptionsExit;var e;b[0]!==c?(e=m.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:c,children:d("PolarisConsentStrings.react").OPEN_HELP_CENTER_TITLE}),b[0]=c,b[1]=e):e=b[1];b[2]!==a?(c=m.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:a,children:d("PolarisGenericStrings").CANCEL_TEXT}),b[2]=a,b[3]=c):c=b[3];var f;b[4]!==a||b[5]!==e||b[6]!==c?(f=m.jsxs(d("IGCoreDialog.react").IGCoreDialog,{onModalClose:a,children:[e,c]}),b[4]=a,b[5]=e,b[6]=c,b[7]=f):f=b[7];return f}var s="ageBucketSection",t=[d("PolarisConsentTypes").ConsentScreenKeys.TOS,d("PolarisConsentTypes").ConsentScreenKeys.TOS_AND_TWO_AGE_BUTTON,d("PolarisConsentTypes").ConsentScreenKeys.TOS_AND_THREE_AGE_BUTTON],u=[d("PolarisConsentTypes").ConsentScreenKeys.TOS_AND_THREE_AGE_BUTTON,d("PolarisConsentTypes").ConsentScreenKeys.AGE_CONSENT_THREE_BUTTON];e=function(a){function b(){var b;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=a.call.apply(a,[this].concat(f))||this,b.state={ageBucket:null,parentalConsentEntered:!1,showAgeUnderageConfirm:!1,showCloseConfirm:!1,showDobUnderageConfirm:!1,showOtherOptionsMenu:!1},b.onClose=function(){b.$2("dismiss"),b.setState({showAgeUnderageConfirm:!1,showCloseConfirm:!1,showDobUnderageConfirm:!1,showOtherOptionsMenu:!1}),b.props.onCloseModal(),d("PolarisUA").isMobile()&&(document.body.style.overflow="auto")},b.$3=function(){b.props.screenKey===d("PolarisConsentTypes").ConsentScreenKeys.FINISHED||b.props.screenKey===d("PolarisConsentTypes").ConsentScreenKeys.ALREADY_FINISHED||b.props.screenKey===d("PolarisConsentTypes").ConsentScreenKeys.PARENTAL_CONSENT?b.onClose():b.setState({showCloseConfirm:!0})},b.$4=function(){b.setState({showCloseConfirm:!1})},b.$5=function(a){b.props.onDobFieldChange(a)},b.$6=function(a){a=a.target;b.props.onEmailFieldChange(a.value)},b.$7=function(a){b.setState({ageBucket:a})},b.$8=function(){b.setState({showOtherOptionsMenu:!0})},b.$9=function(){b.setState({showOtherOptionsMenu:!1})},b.$10=function(){d("PolarisNavigationUtils").openURLWithFullPageReload(d("PolarisConsentConstants").OTHER_OPTIONS_LINK,{openInNewTab:!0}),b.$2("link_click",{click_point:d("PolarisConsentConstants").OTHER_OPTIONS_LINK}),b.setState({showOtherOptionsMenu:!1})},b.$11=function(){b.$2("next"),b.setState({parentalConsentEntered:!0})},b.$12=function(a){a.preventDefault(),b.state.ageBucket===d("PolarisConsentTypes").ConsentAgeBuckets.UNDER_13&&u.includes(b.props.screenKey)&&!b.props.isNewUserFlow?(b.$2("next",{age_selection:c("nullthrows")(b.state.ageBucket)}),b.setState({showAgeUnderageConfirm:!0})):b.$13()},b.$13=function(){var a={};t.includes(b.props.screenKey)&&(a[d("PolarisConsentTypes").ConsentKeys.TOS_CONSENT_KEY]=d("PolarisConsentTypes").ConsentStates.CONSENTED);b.props.screenKey!==d("PolarisConsentTypes").ConsentScreenKeys.TOS&&(a[d("PolarisConsentTypes").ConsentKeys.AGE_CONSENT_KEY]=b.state.ageBucket===d("PolarisConsentTypes").ConsentAgeBuckets.ABOVE_18?d("PolarisConsentTypes").ConsentStates.CONSENTED:b.state.ageBucket===d("PolarisConsentTypes").ConsentAgeBuckets.UNDER_13?d("PolarisConsentTypes").ConsentStates.BLOCKING:d("PolarisConsentTypes").ConsentStates.WITHDRAWN);b.props.onUpdateConsent(a);b.$2("next",{age_selection:b.state.ageBucket});b.setState({showAgeUnderageConfirm:!1})},b.$14=function(){b.$2("cancel",{age_selection:c("nullthrows")(b.state.ageBucket)}),b.setState({showAgeUnderageConfirm:!1})},b.$15=function(){var a;b.$2("next");b.props.onUpdateConsent((a={},a[d("PolarisConsentTypes").ConsentKeys.EXISTING_USER_CONSENT_KEY]=d("PolarisConsentTypes").ConsentStates.CONSENTED,a))},b.$16=function(a){a.preventDefault();a=new Date();a=new Date(a.getFullYear()-d("PolarisConsentConstants").MIN_INSTAGRAM_AGE,a.getMonth(),a.getDate());var e=d("PolarisDateHelpers").dateTypeToDate(c("nullthrows")(b.props.dob.value)),f=d("PolarisDateHelpers").dateTypeToIsoStringForLogging(c("nullthrows")(b.props.dob.value));e>=a&&b.props.screenKey===d("PolarisConsentTypes").ConsentScreenKeys.DOB&&!b.props.isNewUserFlow?(b.$2("next",{age_selection:f}),b.setState({showDobUnderageConfirm:!0})):b.$17()},b.$17=function(a){a&&a.preventDefault();b.props.dob.value||i(0,63795);a=d("PolarisDateHelpers").dateTypeToIsoStringForLogging(b.props.dob.value);b.setState({showDobUnderageConfirm:!1});b.$2("next",{age_selection:a});b.props.onUpdateDob(c("nullthrows")(b.props.dob.value))},b.$18=function(){b.props.dob.value||i(0,63795);var a=d("PolarisDateHelpers").dateTypeToIsoStringForLogging(b.props.dob.value);b.$2("cancel",{age_selection:a});b.setState({showDobUnderageConfirm:!1})},b.$19=function(){b.$2("next"),b.props.email.value!=null||i(0,63796),b.props.onSendParentalConsentEmail(b.props.email.value)},b.$20=function(){b.$2("link_click",{click_point:d("PolarisExternalRoutes").NEW_LEGAL_TERMS_PATH})},b.$21=function(){b.$2("link_click",{click_point:d("PolarisExternalRoutes").INSTAGRAM_PRIVACY_POLICY_PATH})},b.$22=function(){var a;a=(a=b.props.redirectUrl)!=null?a:"/";b.onClose();d("PolarisNavigationUtils").openURLWithFullPageReload(a)},b.$31=function(){b.$2("skip"),b.props.onSkipParentalConsent()},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.componentDidUpdate=function(a,b){(this.props.screenKey&&a.screenKey!==this.props.screenKey||this.state.parentalConsentEntered!==b.parentalConsentEntered)&&d("PolarisConsentLogger").logConsentView(babelHelpers["extends"]({},n(this.props),{stage:this.$1()}))};e.$1=function(){if(this.state.showDobUnderageConfirm)return"dob_dialog";else if(this.state.showAgeUnderageConfirm)return"age_dialog";else if(this.state.showCloseConfirm)return"dismiss_dialog";else if(this.props.screenKey===d("PolarisConsentTypes").ConsentScreenKeys.PARENTAL_CONSENT)return!this.state.parentalConsentEntered?"parental_approval":"parental_contact";else if(this.props.screenKey===d("PolarisConsentTypes").ConsentScreenKeys.UNDER_13)return"underage";else if(this.props.screenKey===d("PolarisConsentTypes").ConsentScreenKeys.ALREADY_FINISHED)return d("PolarisConsentTypes").ConsentScreenKeys.FINISHED;return c("nullthrows")(this.props.screenKey)};e.$2=function(a,b){var c=this.$1();d("PolarisConsentLogger").logConsentAction(babelHelpers["extends"]({},n(this.props),{action:a,stage:c},b))};e.$23=function(){var a=c("nullthrows")(this.props.consents[d("PolarisConsentTypes").ConsentKeys.TOS_CONSENT_KEY]),b=a.optional_paragraphs,e=a.paragraphs;a=babelHelpers.objectWithoutPropertiesLoose(a,j);e=[].concat(e);this.state.ageBucket&&this.state.ageBucket!==d("PolarisConsentTypes").ConsentAgeBuckets.ABOVE_18&&b&&b.length>0&&e.splice(1,0,b[0]);return m.jsxs("div",{children:[m.jsx(q,babelHelpers["extends"]({paragraphs:e},a)),this.props.tosVersion===d("PolarisConsentTypes").TosVersion.EU?m.jsx("div",{className:"_aa6r",children:m.jsx(c("PolarisExternalLink.react"),{href:d("PolarisExternalRoutes").NEW_LEGAL_TERMS_PATH,onClick:this.$20,children:d("PolarisConsentStrings.react").TERMS_LINK_TEXT})}):m.jsx("div",{className:"_aa6s",children:m.jsx(d("PolarisConsentStrings.react").RowTermsPrivacyPolicyLinkTextFixed,{linkClassName:"_aa6t"})})]})};e.$24=function(){return m.jsxs("div",{id:s,children:[m.jsx(q,babelHelpers["extends"]({},this.props.consents[d("PolarisConsentTypes").ConsentKeys.AGE_CONSENT_KEY])),m.jsxs(c("IGDSRadioButtonGroup.react"),{name:"ageRadio",onChange:this.$7,selectedValue:this.state.ageBucket,children:[m.jsx(c("IGDSRadioButton.react"),{label:d("PolarisConsentStrings.react").DOB_ABOVE_18_RADIO_OPTION,value:d("PolarisConsentTypes").ConsentAgeBuckets.ABOVE_18}),m.jsx(c("IGDSRadioButton.react"),{label:d("PolarisConsentStrings.react").DOB_UNDER_18_RADIO_OPTION,value:d("PolarisConsentTypes").ConsentAgeBuckets.UNDER_18})]})]})};e.$25=function(){var a;return m.jsxs("div",{id:s,children:[m.jsx(q,babelHelpers["extends"]({},this.props.consents[(a=d("PolarisConsentTypes")).ConsentKeys.AGE_CONSENT_KEY])),m.jsxs(c("IGDSRadioButtonGroup.react"),{name:"ageRadio",onChange:this.$7,selectedValue:this.state.ageBucket,children:[m.jsx(c("IGDSRadioButton.react"),{label:d("PolarisConsentStrings.react").DOB_ABOVE_18_RADIO_OPTION,value:a.ConsentAgeBuckets.ABOVE_18}),m.jsx(c("IGDSRadioButton.react"),{label:d("PolarisConsentStrings.react").DOB_13_18_RADIO_OPTION,value:a.ConsentAgeBuckets.TEEN_13_18}),m.jsx(c("IGDSRadioButton.react"),{label:d("PolarisConsentStrings.react").DOB_UNDER_13_RADIO_OPTION,value:a.ConsentAgeBuckets.UNDER_13})]})]})};e.$26=function(){return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xw2csxc x1odjw0f x1p5oq8j xv54qhq xwxc41k xf7dkkf x1n2onr6 x11njtxf",children:[m.jsx(q,babelHelpers["extends"]({},this.props.consents[d("PolarisConsentTypes").ConsentKeys.EXISTING_USER_CONSENT_KEY],{bodyWrapperClass:"_aa6v"})),m.jsx("div",{className:"_aa6r",children:m.jsx(c("PolarisExternalLink.react"),{href:d("PolarisExternalRoutes").INSTAGRAM_PRIVACY_POLICY_PATH,onClick:this.$21,children:d("PolarisConsentStrings.react").PRIVACY_POLICY_LINK_TEXT})})]}),m.jsx("div",{className:"_aa6w",children:m.jsx(p,{buttonText:this.props.primaryButtonText,disabled:this.props.isUpdating,onClick:this.$15})})]})};e.$27=function(){var a=this.props.screenKey===d("PolarisConsentTypes").ConsentScreenKeys.TOS_AND_TWO_AGE_BUTTON,b=this.props.screenKey===d("PolarisConsentTypes").ConsentScreenKeys.TOS_AND_THREE_AGE_BUTTON,c=!(a||b)||!!this.state.ageBucket,e=d("PolarisConsentStrings.react").OtherOptionsFooter,f=d("PolarisConsentStrings.react").SelectYourAgeFooter;return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xw2csxc x1odjw0f x1p5oq8j xv54qhq xwxc41k xf7dkkf x1n2onr6 x11njtxf",children:[a&&this.$24(),b&&this.$25(),(a||b)&&m.jsx("hr",{className:"_aa6x"}),this.$23()]}),m.jsxs("div",{className:"_aa6w",children:[m.jsx(p,{buttonText:this.props.primaryButtonText,disabled:this.props.isUpdating||!c,onClick:this.$12}),m.jsx("span",{className:"_aa6y",children:c?m.jsx(e,{linkClassName:"_aa6z",otherOptionsClick:this.$8}):m.jsx(f,{ageAnchorLink:"#"+s,linkClassName:"_aa6z",otherOptionsClick:this.$8})})]})]})};e.$28=function(){var a=this.props.screenKey===d("PolarisConsentTypes").ConsentScreenKeys.AGE_CONSENT_TWO_BUTTON,b=this.props.screenKey===d("PolarisConsentTypes").ConsentScreenKeys.AGE_CONSENT_THREE_BUTTON;return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xw2csxc x1odjw0f x1p5oq8j xv54qhq xwxc41k xf7dkkf x1n2onr6 x11njtxf",children:[a&&this.$24(),b&&this.$25()]}),m.jsx("div",{className:"_aa6w",children:m.jsx(p,{buttonText:this.props.primaryButtonText,disabled:this.props.isUpdating||!this.state.ageBucket,onClick:this.$12})})]})};e.$29=function(){var a=this.props.dob.dirty?"":this.props.dob.errorMessage;this.props.dob||i(0,63795);return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xw2csxc x1odjw0f x1p5oq8j xv54qhq xwxc41k xf7dkkf x1n2onr6 x11njtxf",children:[m.jsx(q,babelHelpers["extends"]({},this.props.consents[d("PolarisConsentTypes").ConsentKeys.DOB_CONSENT_KEY])),m.jsx("div",{className:"x78zum5 xdt5ytf",children:m.jsx(c("PolarisDOBFieldSelect.react"),{className:"x6s0dn4 x78zum5 xqui205 x1ys307a x1hq5gj4 xyqm7xq",date:c("nullthrows")(this.props.dob.value),errorMessage:a,onDateChange:this.$5})})]}),m.jsx("div",{className:"_aa6w",children:m.jsx(p,{buttonText:this.props.primaryButtonText,disabled:this.props.isUpdating,onClick:this.$16})})]})};e.$30=function(){var a=this.props,b=a.isBlockedFromCreatingAccount,e=a.isNewUserFlow;a=a.screenKey;switch(!0){case b||a===d("PolarisConsentTypes").ConsentScreenKeys.UNDER_13:return d("PolarisConsentStrings.react").NEW_USER_UNDER_13_TITLE;case e:c("vulture")("ETM0w4Ob5VqxElT7MwPQ4hOLMZw=");return d("PolarisConsentStrings.react").NEW_USER_DOB_HEADER;case a===d("PolarisConsentTypes").ConsentScreenKeys.PARENTAL_CONSENT:return d("PolarisConsentStrings.react").PARENTAL_CONSENT_MODAL_HEADER;default:return d("PolarisConsentStrings.react").MODAL_HEADER}};e.$32=function(){if(!this.state.parentalConsentEntered)return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xw2csxc x1odjw0f x1p5oq8j xv54qhq xwxc41k xf7dkkf x1n2onr6 x11njtxf",children:m.jsx(q,babelHelpers["extends"]({},c("nullthrows")(this.props.consents[d("PolarisConsentTypes").ConsentKeys.PARENTAL_CONSENT_INTRO_KEY])))}),m.jsxs("div",{className:"_aa6w",children:[m.jsx(p,{buttonText:d("PolarisConsentStrings.react").GET_APPROVAL_BUTTON_SHORT_TEXT,disabled:!1,onClick:this.$11}),m.jsx(p,{buttonText:d("PolarisConsentStrings.react").SKIP_PARENTAL_CONSENT_BUTTON_TEXT,disabled:!1,onClick:this.$31})]})]});var a=this.props.email.dirty?"":this.props.email.errorMessage;return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xw2csxc x1odjw0f x1p5oq8j xv54qhq xwxc41k xf7dkkf x1n2onr6 x11njtxf",children:[m.jsx(q,babelHelpers["extends"]({},c("nullthrows")(this.props.consents[d("PolarisConsentTypes").ConsentKeys.PARENTAL_CONSENT_EMAIL_KEY]))),m.jsx(c("PolarisSlimTextInput.react"),{"aria-describedby":d("PolarisAuthStrings").EMAIL,"aria-label":d("PolarisAuthStrings").EMAIL,"aria-required":"true",autoCapitalize:"off",autoCorrect:"off",errorMessage:a,hasError:!!a,name:"email",onChange:this.$6,placeholder:d("PolarisAuthStrings").EMAIL,showInlineError:!0,value:this.props.email.value})]}),m.jsx("div",{className:"_aa6w",children:m.jsx(p,{buttonText:d("PolarisConsentStrings.react").PARENTAL_CONSENT_SEND_BUTTON_TEXT,disabled:this.props.isUpdating||c("isStringNullOrEmpty")(this.props.email.value)||!!a,onClick:this.$19})})]})};e.$33=function(){return m.jsxs(m.Fragment,{children:[m.jsx(c("IGDSBox.react"),{alignItems:"center",marginBottom:10,marginTop:10,position:"relative",children:m.jsx(c("IGDSLockOutline96Icon.react"),{alt:d("PolarisConsentStrings.react").BLOCK_UNDER_13_TITLE,size:96})}),m.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 x1r8uery xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x2b8uid x11njtxf",children:m.jsx(o,{style:"paragraph",text:d("PolarisConsentStrings.react").NEW_USER_UNDER_13_BODY})}),m.jsx("div",{className:"_aa6w",children:m.jsx(p,{buttonText:d("PolarisConsentStrings.react").NEW_USER_UNDER_13_CONFIRMATION,disabled:!1,onClick:this.onClose})})]})};e.$34=function(){return m.jsxs(m.Fragment,{children:[m.jsx(c("IGDSBox.react"),{alignItems:"center",marginBottom:10,marginTop:10,children:m.jsx(c("IGDSCircleCheckPanoOutlineIcon.react"),{alt:"",size:62})}),m.jsxs("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xw2csxc x1odjw0f x1p5oq8j xv54qhq xwxc41k xf7dkkf x1n2onr6 x11njtxf",children:[m.jsx("header",{className:"_aa6p",children:d("PolarisConsentStrings.react").NOTIFICATION_DONE_HEADLINE}),m.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 x1r8uery xdt5ytf x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x2b8uid x11njtxf",children:m.jsx("div",{className:"_aa6s",children:m.jsx(d("PolarisConsentStrings.react").NotificationDoneBodyWithLinks,{linkClassName:"_aa6t"})})}),m.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",children:m.jsx("div",{className:"_aa6w",children:m.jsx(p,{buttonText:d("PolarisConsentStrings.react").CONSENT_FINISHED_SCREEN_BUTTON_TEXT,disabled:!1,onClick:this.$22})})})]})]})};e.renderConsents=function(){if(this.props.isBlockedFromCreatingAccount)return this.$33();switch(this.props.screenKey){case d("PolarisConsentTypes").ConsentScreenKeys.QP_INTRO:return this.$26();case d("PolarisConsentTypes").ConsentScreenKeys.TOS:case d("PolarisConsentTypes").ConsentScreenKeys.TOS_AND_TWO_AGE_BUTTON:case d("PolarisConsentTypes").ConsentScreenKeys.TOS_AND_THREE_AGE_BUTTON:return this.$27();case d("PolarisConsentTypes").ConsentScreenKeys.AGE_CONSENT_TWO_BUTTON:case d("PolarisConsentTypes").ConsentScreenKeys.AGE_CONSENT_THREE_BUTTON:c("vulture")("UMNkQbZg8055po620OoPANRSsPw=");return this.$28();case d("PolarisConsentTypes").ConsentScreenKeys.DOB:return this.$29();case d("PolarisConsentTypes").ConsentScreenKeys.PARENTAL_CONSENT:return this.$32();case d("PolarisConsentTypes").ConsentScreenKeys.UNDER_13:return this.$33();case d("PolarisConsentTypes").ConsentScreenKeys.FINISHED:case d("PolarisConsentTypes").ConsentScreenKeys.ALREADY_FINISHED:return this.$34();default:c("FBLogger")("ig_web").mustfix("Should not show ConsentModal with unexpected key "+String(this.props.screenKey));return m.jsx("div",{children:d("PolarisConsentStrings.react").CONSENTS_FINISHED_TEXT})}};e.render=function(){if(!this.props.isModalOpen)return null;var a=this.state.showCloseConfirm,b=this.props.screenKey===d("PolarisConsentTypes").ConsentScreenKeys.DOB&&this.state.showDobUnderageConfirm,e=u.includes(this.props.screenKey)&&this.state.showAgeUnderageConfirm,f=t.includes(this.props.screenKey)&&this.state.showOtherOptionsMenu,g=b||f?"_aa71":"_aa72",h=!this.props.hideExitButton||this.props.isLoading;d("PolarisUA").isMobile()&&(document.body.style.overflow="hidden");var i=this.$30();return m.jsxs(m.Fragment,{children:[m.jsxs(c("IGCoreModal.react"),{"aria-label":i,size:d("PolarisUA").isMobile()?"large":"default",children:[m.jsx(c("PolarisIGCoreModalHeader.react"),{onClose:h?this.$3:void 0,children:i}),this.props.isLoading?m.jsx(c("IGDSBox.react"),{padding:5,position:"relative",children:m.jsx(c("IGDSSpinner.react"),{position:"absolute",size:"medium"})}):this.renderConsents()]}),a&&m.jsx(c("PolarisConfirmDialog.react"),{body:this.props.isNewUserFlow?d("PolarisConsentStrings.react").CLOSE_CONFIRM_BODY_NEW_USER:d("PolarisConsentStrings.react").CLOSE_CONFIRM_BODY,cancelLabel:d("PolarisConsentStrings.react").CLOSE_CONFIRM_LEAVE,className:g,confirmLabel:this.props.isNewUserFlow?d("PolarisConsentStrings.react").CLOSE_CONFIRM_GO_BACK:d("PolarisConsentStrings.react").CLOSE_CONFIRM_KEEP_REVIEWING,onClose:this.onClose,onConfirm:this.$4,onModalClose:c("emptyFunction"),title:d("PolarisConsentStrings.react").CLOSE_CONFIRM_TITLE}),b&&m.jsx(c("PolarisConfirmDialog.react"),{body:d("PolarisConsentStrings.react").dobConfirmAgeText(d("PolarisDateHelpers").getAgeWithOneDayLeeway(c("nullthrows")(this.props.dob.value))),cancelLabel:d("PolarisConsentStrings.react").DOB_CANCEL_AGE_BUTTON_TEXT,className:g,confirmLabel:d("PolarisConsentStrings.react").DOB_CONFIRM_AGE_BUTTON_TEXT,onClose:this.$18,onConfirm:this.$17,title:d("PolarisConsentStrings.react").DOB_CONFIRM_AGE}),e&&m.jsx(c("PolarisConfirmDialog.react"),{body:d("PolarisConsentStrings.react").UNDER_13_CONFIRM_TEXT,cancelLabel:d("PolarisConsentStrings.react").DOB_CANCEL_BUTTON_TEXT,className:g,confirmLabel:d("PolarisConsentStrings.react").DOB_CONFIRM_BUTTON_TEXT,onClose:this.$14,onConfirm:this.$13,title:d("PolarisConsentStrings.react").UNDER_13_CONFIRM_HEADER}),f&&m.jsx(r,{handleOpenHelpCenter:this.$10,handleOtherOptionsExit:this.$9})]})};return b}(m.Component);function a(a){var b,c,e=!d("PolarisIsLoggedIn").isLoggedIn(),f=e&&d("PolarisAgeCollectionHelpers").isAgeBlockedFromSignup(),g=a==null||(b=a.consent)==null?void 0:b.dob,h=a==null||(c=a.consent)==null||(c=c.dob)==null?void 0:c.value;a=a.consent;var i=a.screenKey;a=babelHelpers.objectWithoutPropertiesLoose(a,k);return babelHelpers["extends"]({},a,{dob:babelHelpers["extends"]({},g,{value:h===null?d("PolarisConsentConstants").getInitialDate(d("PolarisConsentConstants").DEFAULT_DATE_YEAR_OFFSET):h}),isBlockedFromCreatingAccount:f,isNewUserFlow:e,screenKey:i})}function b(a){return{onCloseModal:function(){a(d("PolarisConsentActions").closeConsentModal())},onDobFieldChange:function(b){a(d("PolarisConsentActions").dobFieldChange(b))},onEmailFieldChange:function(b){a(d("PolarisConsentActions").parentEmailFieldChange(b))},onSendParentalConsentEmail:function(b){a(d("PolarisConsentActions").sendParentalConsentEmail(b))},onSkipParentalConsent:function(){a(d("PolarisConsentActions").skipParentalConsent())},onUpdateConsent:function(b){a(d("PolarisConsentActions").updateConsent(b))},onUpdateDob:function(b){a(d("PolarisConsentActions").updateConsentDob(b))}}}f=d("PolarisReactRedux.react").connect(a,b)(e);g["default"]=f}),98);/*FB_PKG_DELIM*/
/**
 *
 * This file is generated from fbsource. Please do not modify it directly.
 *
 *
 * @nolint
 * @generated
 * @nopackage
 * @fullSyntaxTransform
 * @preserve-whitespace
 */__d("ls_voprf_utils_v2",["Promise"],(function $module_ls_voprf_utils_v2(global,require,requireDynamic,requireLazy,module,exports){var _require_closure_Promise;


var Module=function(){
var _scriptDir=typeof document!=='undefined'&&document.currentScript?document.currentScript.src:undefined;

return(
function(moduleArg){if(moduleArg===void 0){moduleArg={};}

var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module["ready"]=new(_require_closure_Promise||(_require_closure_Promise=require("Promise")))(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject;});["_main","getExceptionMessage","___get_exception_message","_free","_memory","_curve_create","_curve_free","_curve_init_ristretto","_get_curve_element_bytes","_get_curve_scalar_bytes","_kdf_create","_kdf_free","_kdf_init_naor_reingold","_sodiumInit","_voprf_create","_voprf_free","_voprf_init_exp_twohashdh","_blind","_verifiable_unblind","_voprf_client_finalize","_voprf_setup","_voprf_evaluate","_voprf_server_finalize","_get_voprf_final_evaluation_bytes","___indirect_function_table","__embind_initialize_bindings","_fflush","___start_em_asm","___stop_em_asm","onRuntimeInitialized"].forEach(function(prop){if(!Object.getOwnPropertyDescriptor(Module["ready"],prop)){Object.defineProperty(Module["ready"],prop,{get:function get(){return abort("You are getting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");},set:function set(){return abort("You are setting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");}});}});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=function quit_(status,toThrow){throw toThrow;};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory);}return scriptDirectory+path;}var read_,readAsync,readBinary,setWindowTitle;if(ENVIRONMENT_IS_SHELL){if(typeof process=="object"&&typeof require==="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");if(typeof read!="undefined"){read_=read;}readBinary=function readBinary(f){if(typeof readbuffer=="function"){return new Uint8Array(readbuffer(f));}var data=read(f,"binary");assert(typeof data=="object");return data;};readAsync=function readAsync(f,onload,onerror){setTimeout(function(){return onload(readBinary(f));});};if(typeof clearTimeout=="undefined"){globalThis.clearTimeout=function(id){};}if(typeof setTimeout=="undefined"){globalThis.setTimeout=function(f){return typeof f=="function"?f():abort();};}if(typeof scriptArgs!="undefined"){arguments_=scriptArgs;}else if(typeof arguments!="undefined"){arguments_=arguments;}if(typeof quit=="function"){quit_=function quit_(status,toThrow){setTimeout(function(){if(!(toThrow instanceof ExitStatus)){var toLog=toThrow;if(toThrow&&typeof toThrow=="object"&&toThrow.stack){toLog=[toThrow,toThrow.stack];}err("exiting due to exception: "+toLog);}quit(status);});throw toThrow;};}if(typeof print!="undefined"){if(typeof console=="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!="undefined"?printErr:print;}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href;}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src;}if(_scriptDir){scriptDirectory=_scriptDir;}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1);}else{scriptDirectory="";}if(!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{read_=function read_(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.send(null);return xhr.responseText;};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response);};}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest();xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return;}onerror();};xhr.onerror=onerror;xhr.send(null);};}setWindowTitle=function setWindowTitle(title){return document.title=title;};}else{throw new Error("environment detection error");}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module["arguments"])arguments_=Module["arguments"];legacyModuleProp("arguments","arguments_");if(Module["thisProgram"])thisProgram=Module["thisProgram"];legacyModuleProp("thisProgram","thisProgram");if(Module["quit"])quit_=Module["quit"];legacyModuleProp("quit","quit_");assert(typeof Module["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]=="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");legacyModuleProp("asm","wasmExports");legacyModuleProp("read","read_");legacyModuleProp("readAsync","readAsync");legacyModuleProp("readBinary","readBinary");legacyModuleProp("setWindowTitle","setWindowTitle");assert(!ENVIRONMENT_IS_WORKER,"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_NODE,"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];legacyModuleProp("wasmBinary","wasmBinary");var noExitRuntime=Module["noExitRuntime"]||true;legacyModuleProp("noExitRuntime","noExitRuntime");if(typeof WebAssembly!="object"){abort("no native wasm support detected");}var wasmMemory;var wasmExports;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed"+(text?": "+text:""));}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);}assert(!Module["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");assert(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");assert(!Module["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end2();assert((max&3)==0);if(max==0){max+=4;}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029;}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end2();if(max==0){max+=4;}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten at "+ptrToString(max)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ptrToString(cookie2)+" "+ptrToString(cookie1));}if(HEAPU32[0>>2]!=1668509029){abort("Runtime error: The application has corrupted its heap memory area (address zero)!");}}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)";})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift());}}callRuntimeCallbacks(__ATPRERUN__);}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();callRuntimeCallbacks(__ATINIT__);}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift());}}callRuntimeCallbacks(__ATPOSTRUN__);}function addOnPreRun(cb){__ATPRERUN__.unshift(cb);}function addOnInit(cb){__ATINIT__.unshift(cb);}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb);}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return;}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:");}err("dependency: "+dep);}if(shown){err("(end of list)");}},1e4);}}else{err("warning: run dependency added without ID");}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id];}else{err("warning: run dependency removed without ID");}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null;}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback();}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what);}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e;}var FS={error:function error(){abort("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM");},init:function init(){FS.error();},createDataFile:function createDataFile(){FS.error();},createPreloadedFile:function createPreloadedFile(){FS.error();},createLazyFile:function createLazyFile(){FS.error();},open:function open(){FS.error();},mkdev:function mkdev(){FS.error();},registerDevice:function registerDevice(){FS.error();},analyzePath:function analyzePath(){FS.error();},ErrnoError:function ErrnoError(){FS.error();}};Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return filename.startsWith(dataURIPrefix);}function isFileURI(filename){return filename.startsWith("file://");}function createExportWrapper(name){return function(){assert(runtimeInitialized,"native function `"+name+"` called before runtime initialization");var f=wasmExports[name];assert(f,"exported native function `"+name+"` not found");return f.apply(null,arguments);};}var _EmscriptenEH3=function(_Error){"use strict";function EmscriptenEH(){return _Error.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenEH,_Error);return EmscriptenEH;}(babelHelpers.wrapNativeSuper(Error));var _EmscriptenSjLj=function(_EmscriptenEH){"use strict";function EmscriptenSjLj(){return _EmscriptenEH.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenSjLj,_EmscriptenEH);return EmscriptenSjLj;}(_EmscriptenEH3);var _CppException=function(_EmscriptenEH2){"use strict";function CppException(excPtr){var _this;_this=_EmscriptenEH2.call(this,excPtr)||this;_this.excPtr=excPtr;var excInfo=getExceptionMessage(excPtr);_this.name=excInfo[0];_this.message=excInfo[1];return _this;}babelHelpers.inheritsLoose(CppException,_EmscriptenEH2);return CppException;}(_EmscriptenEH3);var wasmBinaryFile;wasmBinaryFile="crypto_utils_v2.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile);}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary);}if(readBinary){return readBinary(file);}throw"both async and sync fetching of the wasm failed";}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'";}return response["arrayBuffer"]();})["catch"](function(){return getBinarySync(binaryFile);});}}return(_require_closure_Promise||(_require_closure_Promise=require("Promise"))).resolve().then(function(){return getBinarySync(binaryFile);});}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(function(binary){return WebAssembly.instantiate(binary,imports);}).then(function(instance){return instance;}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing");}abort(reason);});}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback);});});}return instantiateArrayBuffer(binaryFile,imports,callback);}function createWasm(){var info={"env":wasmImports,"wasi_snapshot_preview1":wasmImports};function receiveInstance(instance,module){var exports=instance.exports;wasmExports=exports;wasmMemory=wasmExports["memory"];Module["wasmMemory"]=wasmMemory;assert(wasmMemory,"memory not found in wasm exports");updateMemoryViews();wasmTable=wasmExports["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(wasmExports["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate");return exports;}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(result["instance"]);}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance);}catch(e){err("Module.instantiateWasm callback failed with error: "+e);readyPromiseReject(e);}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult)["catch"](readyPromiseReject);return{};}function legacyModuleProp(prop,newName,incomming){if(incomming===void 0){incomming=true;}if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get:function get(){var extra=incomming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";abort("`Module."+prop+"` has been replaced by `"+newName+"`"+extra);}});}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort("`Module."+prop+"` was supplied but `"+prop+"` not included in INCOMING_MODULE_JS_API");}}function isExportedByForceFilesystem(name){return name==="FS_createPath"||name==="FS_createDataFile"||name==="FS_createPreloadedFile"||name==="FS_unlink"||name==="addRunDependency"||name==="FS_createLazyFile"||name==="FS_createDevice"||name==="removeRunDependency";}function missingGlobal(sym,msg){if(typeof globalThis!=="undefined"){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){_warnOnce("`"+sym+"` is not longer defined by emscripten. "+msg);return undefined;}});}}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");function missingLibrarySymbol(sym){if(typeof globalThis!=="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,sym)){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){var msg="`"+sym+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line";var librarySymbol=sym;if(!librarySymbol.startsWith("_")){librarySymbol="$"+sym;}msg+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+librarySymbol+"')";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}_warnOnce(msg);return undefined;}});}unexportedRuntimeSymbol(sym);}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get:function get(){var msg="'"+sym+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}abort(msg);}});}}var ASM_CONSTS={50356:function _(){return Module.getRandomValue();},50392:function _(){if(Module.getRandomValue===undefined){try{var window_="object"===typeof window?window:self;var crypto_=typeof window_.crypto!=="undefined"?window_.crypto:window_.msCrypto;var randomValuesStandard=function randomValuesStandard(){var buf=new Uint32Array(1);crypto_.getRandomValues(buf);return buf[0]>>>0;};randomValuesStandard();Module.getRandomValue=randomValuesStandard;}catch(e){{throw"No secure random number generator found";}}}}};function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status;}var callRuntimeCallbacks=function callRuntimeCallbacks(callbacks){while(callbacks.length>0){callbacks.shift()(Module);}};var withStackSave=function withStackSave(f){var stack=stackSave();var ret=f();stackRestore(stack);return ret;};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var UTF8ArrayToString=function UTF8ArrayToString(heapOrArray,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue;}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue;}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2;}else{if((u0&248)!=240)_warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63;}if(u0<65536){str+=String.fromCharCode(u0);}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}}return str;};var UTF8ToString=function UTF8ToString(ptr,maxBytesToRead){assert(typeof ptr=="number");return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):"";};var getExceptionMessageCommon=function getExceptionMessageCommon(ptr){return withStackSave(function(){var type_addr_addr=stackAlloc(4);var message_addr_addr=stackAlloc(4);___get_exception_message(ptr,type_addr_addr,message_addr_addr);var type_addr=HEAPU32[type_addr_addr>>2];var message_addr=HEAPU32[message_addr_addr>>2];var type=UTF8ToString(type_addr);_free(type_addr);var message;if(message_addr){message=UTF8ToString(message_addr);_free(message_addr);}return[type,message];});};function getExceptionMessage(ptr){return getExceptionMessageCommon(ptr);}Module["getExceptionMessage"]=getExceptionMessage;function getValue(ptr,type){if(type===void 0){type="i8";}if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort("invalid type for getValue: "+type);}}var ptrToString=function ptrToString(ptr){assert(typeof ptr==="number");ptr>>>=0;return"0x"+ptr.toString(16).padStart(8,"0");};var _warnOnce=function warnOnce(text){if(!_warnOnce.shown)_warnOnce.shown={};if(!_warnOnce.shown[text]){_warnOnce.shown[text]=1;err(text);}};var ___assert_fail=function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"]);};var exceptionCaught=[];var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var info=new ExceptionInfo(ptr);if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--;}info.set_rethrown(false);exceptionCaught.push(info);___cxa_increment_exception_refcount(info.excPtr);return info.get_exception_ptr();}var exceptionLast=0;function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type;};this.get_type=function(){return HEAPU32[this.ptr+4>>2];};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor;};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2];};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught;};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0;};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown;};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0;};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor);};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr;};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2];};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2];}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr;};}function ___resumeException(ptr){if(!exceptionLast){exceptionLast=new _CppException(ptr);}throw exceptionLast;}var findMatchingCatch=function findMatchingCatch(args){var thrown=exceptionLast&&exceptionLast.excPtr;if(!thrown){setTempRet0(0);return 0;}var info=new ExceptionInfo(thrown);info.set_adjusted_ptr(thrown);var thrownType=info.get_type();if(!thrownType){setTempRet0(0);return thrown;}for(var arg in args){var caughtType=args[arg];if(caughtType===0||caughtType===thrownType){break;}var adjusted_ptr_addr=info.ptr+16;if(___cxa_can_catch(caughtType,thrownType,adjusted_ptr_addr)){setTempRet0(caughtType);return thrown;}}setTempRet0(thrownType);return thrown;};var ___cxa_find_matching_catch_2=function ___cxa_find_matching_catch_2(){return findMatchingCatch([]);};var ___cxa_find_matching_catch_3=function ___cxa_find_matching_catch_3(arg0){return findMatchingCatch([arg0]);};function __embind_register_bigint(primitiveType,name,size,minRange,maxRange){}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size);}}function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i);}embind_charCodes=codes;}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]];}return ret;}var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message);}var InternalError=undefined;function throwInternalError(message){throw new InternalError(message);}function sharedRegisterType(rawType,registeredInstance,options){if(options===void 0){options={};}var name=registeredInstance.name;if(!rawType){throwBindingError("type \""+name+"\" must have a positive integer typeid pointer");}if(Object.prototype.hasOwnProperty.call(registeredTypes,rawType)){if(options.ignoreDuplicateRegistrations){return;}else{throwBindingError("Cannot register type '"+name+"' twice");}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(Object.prototype.hasOwnProperty.call(awaitingDependencies,rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){return cb();});}}function registerType(rawType,registeredInstance,options){if(options===void 0){options={};}if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance");}return sharedRegisterType(rawType,registeredInstance,options);}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(wt){return!!wt;},"toWireType":function toWireType(destructors,o){return o?trueValue:falseValue;},"argPackAdvance":8,"readValueFromPointer":function readValueFromPointer(pointer){var heap;if(size===1){heap=HEAP8;}else if(size===2){heap=HEAP16;}else if(size===4){heap=HEAP32;}else{throw new TypeError("Unknown boolean type size: "+name);}return this["fromWireType"](heap[pointer>>shift]);},destructorFunction:null});}function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get:function get(id){assert(this.allocated[id]!==undefined,"invalid handle: "+id);return this.allocated[id];},has:function has(id){return this.allocated[id]!==undefined;},allocate:function allocate(handle){var id=this.freelist.pop()||this.allocated.length;this.allocated[id]=handle;return id;},free:function free(id){assert(this.allocated[id]!==undefined);this.allocated[id]=undefined;this.freelist.push(id);}});}function HandleAllocator(){this.allocated=[undefined];this.freelist=[];}var emval_handles=new HandleAllocator();function __emval_decref(handle){if(handle>=emval_handles.reserved&&0===--emval_handles.get(handle).refcount){emval_handles.free(handle);}}function count_emval_handles(){var count=0;for(var i=emval_handles.reserved;i<emval_handles.allocated.length;++i){if(emval_handles.allocated[i]!==undefined){++count;}}return count;}function init_emval(){emval_handles.allocated.push({value:undefined},{value:null},{value:true},{value:false});emval_handles.reserved=emval_handles.allocated.length;Module["count_emval_handles"]=count_emval_handles;}var Emval={toValue:function toValue(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle);}return emval_handles.get(handle).value;},toHandle:function toHandle(value){switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{return emval_handles.allocate({refcount:1,value:value});}}}};function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAP32[pointer>>2]);}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(handle){var rv=Emval.toValue(handle);__emval_decref(handle);return rv;},"toWireType":function toWireType(destructors,value){return Emval.toHandle(value);},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null});}function embindRepr(v){if(v===null){return"null";}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString();}else{return""+v;}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2]);};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3]);};default:throw new TypeError("Unknown float type: "+name);}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(value){return value;},"toWireType":function toWireType(destructors,value){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert "+embindRepr(value)+" to "+this.name);}return value;},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null});}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer];}:function readU8FromPointer(pointer){return HEAPU8[pointer];};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1];}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1];};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2];}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2];};default:throw new TypeError("Unknown integer type: "+name);}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295;}var shift=getShiftFromSize(size);var fromWireType=function fromWireType(value){return value;};if(minRange===0){var bitshift=32-8*size;fromWireType=function fromWireType(value){return value<<bitshift>>>bitshift;};}var isUnsignedType=name.includes("unsigned");var checkAssertions=function checkAssertions(value,toTypeName){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert \""+embindRepr(value)+"\" to "+toTypeName);}if(value<minRange||value>maxRange){throw new TypeError("Passing a number \""+embindRepr(value)+"\" from JS side to C/C++ side to an argument of type \""+name+"\", which is outside the valid range ["+minRange+", "+maxRange+"]!");}};var toWireType;if(isUnsignedType){toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value>>>0;};}else{toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value;};}registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":toWireType,"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null});}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(heap.buffer,data,size);}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true});}var stringToUTF8Array=function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){assert(typeof str==="string");if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023;}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u;}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63;}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}else{if(outIdx+3>=endIdx)break;if(u>1114111)_warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}}heap[outIdx]=0;return outIdx-startIdx;};var stringToUTF8=function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);};var lengthBytesUTF8=function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++;}else if(c<=2047){len+=2;}else if(c>=55296&&c<=57343){len+=4;++i;}else{len+=3;}}return len;};function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+1;}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i]);}str=a.join("");}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value);}var length;var valueIsOfTypeString=typeof value=="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string");}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value);}else{length=value.length;}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1);}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits");}HEAPU8[ptr+i]=charCode;}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i];}}}if(destructors!==null){destructors.push(_free,base);}return base;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});}var UTF16Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):undefined;var UTF16ToString=function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit);}return str;};var stringToUTF16=function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2;}HEAP16[outPtr>>1]=0;return outPtr-startPtr;};var lengthBytesUTF16=function lengthBytesUTF16(str){return str.length*2;};var UTF32ToString=function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}else{str+=String.fromCharCode(utf32);}}return str;};var stringToUTF32=function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023;}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break;}HEAP32[outPtr>>2]=0;return outPtr-startPtr;};var lengthBytesUTF32=function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4;}return len;};var __embind_register_std_wstring=function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function getHeap(){return HEAPU16;};shift=1;}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function getHeap(){return HEAPU32;};shift=2;}registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+charSize;}}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(!(typeof value=="string")){throwBindingError("Cannot pass non-string to C++ string type "+name);}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr);}return ptr;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});};function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function fromWireType(){return undefined;},"toWireType":function toWireType(destructors,o){return undefined;}});}var _abort=function _abort(){abort("native code called abort()");};var readEmAsmArgsArray=[];var readEmAsmArgs=function readEmAsmArgs(sigPtr,buf){assert(Array.isArray(readEmAsmArgsArray));assert(buf%16==0);readEmAsmArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){var chr=String.fromCharCode(ch);var validChars=["d","f","i"];assert(validChars.includes(chr),"Invalid character "+ch+"(\""+chr+"\") in readEmAsmArgs! Use only ["+validChars+"], and do not specify \"v\" for void return argument.");buf+=ch!=105&buf;readEmAsmArgsArray.push(ch==105?HEAP32[buf]:HEAPF64[buf++>>1]);++buf;}return readEmAsmArgsArray;};var runEmAsmFunction=function runEmAsmFunction(code,sigPtr,argbuf){var args=readEmAsmArgs(sigPtr,argbuf);if(!Object.prototype.hasOwnProperty.call(ASM_CONSTS,code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args);};var _emscripten_asm_const_int=function _emscripten_asm_const_int(code,sigPtr,argbuf){return runEmAsmFunction(code,sigPtr,argbuf);};var getHeapMax=function getHeapMax(){return 1048576;};var _emscripten_get_heap_max=function _emscripten_get_heap_max(){return getHeapMax();};var growMemory=function growMemory(size){var b=wasmMemory.buffer;var pages=size-b.byteLength+65535>>>16;try{wasmMemory.grow(pages);updateMemoryViews();return 1;}catch(e){err("growMemory: Attempted to grow heap from "+b.byteLength+" bytes to "+size+" bytes, but got error: "+e);}};var _emscripten_resize_heap=function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize>>>=0;assert(requestedSize>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false;}var alignUp=function alignUp(x,multiple){return x+(multiple-x%multiple)%multiple;};for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true;}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false;};var SYSCALLS={varargs:undefined,get:function get(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret;},getStr:function getStr(ptr){var ret=UTF8ToString(ptr);return ret;}};var _fd_close=function _fd_close(fd){abort("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM");};function convertI32PairToI53Checked(lo,hi){assert(lo==lo>>>0||lo==(lo|0));assert(hi===(hi|0));return hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN;}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);return 70;}var printCharBuffers=[null,[],[]];var printChar=function printChar(stream,curr){var buffer=printCharBuffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0;}else{buffer.push(curr);}};var flush_NO_FILESYSTEM=function flush_NO_FILESYSTEM(){_fflush(0);if(printCharBuffers[1].length)printChar(1,10);if(printCharBuffers[2].length)printChar(2,10);};var _fd_write=function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j]);}num+=len;}HEAPU32[pnum>>2]=num;return 0;};var getWasmTableEntry=function getWasmTableEntry(funcPtr){return wasmTable.get(funcPtr);};var writeArrayToMemory=function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer);};embind_init_charCodes();BindingError=Module["BindingError"]=function(_Error2){"use strict";function BindingError(message){var _this2;_this2=_Error2.call(this,message)||this;_this2.name="BindingError";return _this2;}babelHelpers.inheritsLoose(BindingError,_Error2);return BindingError;}(babelHelpers.wrapNativeSuper(Error));InternalError=Module["InternalError"]=function(_Error3){"use strict";function InternalError(message){var _this3;_this3=_Error3.call(this,message)||this;_this3.name="InternalError";return _this3;}babelHelpers.inheritsLoose(InternalError,_Error3);return InternalError;}(babelHelpers.wrapNativeSuper(Error));handleAllocatorInit();init_emval();function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings");}var wasmImports={__assert_fail:___assert_fail,__cxa_begin_catch:___cxa_begin_catch,__cxa_find_matching_catch_2:___cxa_find_matching_catch_2,__cxa_find_matching_catch_3:___cxa_find_matching_catch_3,__resumeException:___resumeException,_embind_register_bigint:__embind_register_bigint,_embind_register_bool:__embind_register_bool,_embind_register_emval:__embind_register_emval,_embind_register_float:__embind_register_float,_embind_register_integer:__embind_register_integer,_embind_register_memory_view:__embind_register_memory_view,_embind_register_std_string:__embind_register_std_string,_embind_register_std_wstring:__embind_register_std_wstring,_embind_register_void:__embind_register_void,abort:_abort,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii};var asm=createWasm();var ___wasm_call_ctors=createExportWrapper("__wasm_call_ctors");var _curve_create=Module["_curve_create"]=createExportWrapper("curve_create");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var _curve_free=Module["_curve_free"]=createExportWrapper("curve_free");var _free=Module["_free"]=createExportWrapper("free");var _curve_init_ristretto=Module["_curve_init_ristretto"]=createExportWrapper("curve_init_ristretto");var _get_curve_element_bytes=Module["_get_curve_element_bytes"]=createExportWrapper("get_curve_element_bytes");var _get_curve_scalar_bytes=Module["_get_curve_scalar_bytes"]=createExportWrapper("get_curve_scalar_bytes");var _kdf_create=Module["_kdf_create"]=createExportWrapper("kdf_create");var _kdf_free=Module["_kdf_free"]=createExportWrapper("kdf_free");var _kdf_init_naor_reingold=Module["_kdf_init_naor_reingold"]=createExportWrapper("kdf_init_naor_reingold");var _sodiumInit=Module["_sodiumInit"]=createExportWrapper("sodiumInit");var _voprf_create=Module["_voprf_create"]=createExportWrapper("voprf_create");var _voprf_free=Module["_voprf_free"]=createExportWrapper("voprf_free");var _voprf_init_exp_twohashdh=Module["_voprf_init_exp_twohashdh"]=createExportWrapper("voprf_init_exp_twohashdh");var _blind=Module["_blind"]=createExportWrapper("blind");var _verifiable_unblind=Module["_verifiable_unblind"]=createExportWrapper("verifiable_unblind");var _voprf_client_finalize=Module["_voprf_client_finalize"]=createExportWrapper("voprf_client_finalize");var _voprf_setup=Module["_voprf_setup"]=createExportWrapper("voprf_setup");var _voprf_evaluate=Module["_voprf_evaluate"]=createExportWrapper("voprf_evaluate");var _voprf_server_finalize=Module["_voprf_server_finalize"]=createExportWrapper("voprf_server_finalize");var _get_voprf_final_evaluation_bytes=Module["_get_voprf_final_evaluation_bytes"]=createExportWrapper("get_voprf_final_evaluation_bytes");var ___errno_location=createExportWrapper("__errno_location");var ___getTypeName=createExportWrapper("__getTypeName");var __embind_initialize_bindings=Module["__embind_initialize_bindings"]=createExportWrapper("_embind_initialize_bindings");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var _emscripten_builtin_memalign=createExportWrapper("emscripten_builtin_memalign");var _setThrew=createExportWrapper("setThrew");var setTempRet0=createExportWrapper("setTempRet0");var _emscripten_stack_init2=function _emscripten_stack_init(){return(_emscripten_stack_init2=wasmExports["emscripten_stack_init"])();};var _emscripten_stack_get_free2=function _emscripten_stack_get_free(){return(_emscripten_stack_get_free2=wasmExports["emscripten_stack_get_free"])();};var _emscripten_stack_get_base2=function _emscripten_stack_get_base(){return(_emscripten_stack_get_base2=wasmExports["emscripten_stack_get_base"])();};var _emscripten_stack_get_end2=function _emscripten_stack_get_end(){return(_emscripten_stack_get_end2=wasmExports["emscripten_stack_get_end"])();};var stackSave=createExportWrapper("stackSave");var stackRestore=createExportWrapper("stackRestore");var stackAlloc=createExportWrapper("stackAlloc");var _emscripten_stack_get_current2=function _emscripten_stack_get_current(){return(_emscripten_stack_get_current2=wasmExports["emscripten_stack_get_current"])();};var ___cxa_free_exception=createExportWrapper("__cxa_free_exception");var ___cxa_increment_exception_refcount=createExportWrapper("__cxa_increment_exception_refcount");var ___cxa_decrement_exception_refcount=createExportWrapper("__cxa_decrement_exception_refcount");var ___get_exception_message=Module["___get_exception_message"]=createExportWrapper("__get_exception_message");var ___cxa_can_catch=createExportWrapper("__cxa_can_catch");var ___cxa_is_pointer_type=createExportWrapper("__cxa_is_pointer_type");var dynCall_iiiji=Module["dynCall_iiiji"]=createExportWrapper("dynCall_iiiji");var dynCall_iiij=Module["dynCall_iiij"]=createExportWrapper("dynCall_iiij");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_iiijiji=Module["dynCall_iiijiji"]=createExportWrapper("dynCall_iiijiji");var dynCall_iiijiii=Module["dynCall_iiijiii"]=createExportWrapper("dynCall_iiijiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");function invoke_v(index){var sp=stackSave();try{getWasmTableEntry(index)();}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_vii(index,a1,a2){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3,a4);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_ii(index,a1){var sp=stackSave();try{return getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_vi(index,a1){var sp=stackSave();try{getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}Module["wasmMemory"]=wasmMemory;Module["getValue"]=getValue;Module["stringToUTF8"]=stringToUTF8;Module["lengthBytesUTF8"]=lengthBytesUTF8;Module["writeArrayToMemory"]=writeArrayToMemory;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","runMainThreadEmAsm","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","getTypeName","heap32VectorToArray","requireRegisteredType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","enumReadValueFromPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_addMethodCaller"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","out","err","callMain","abort","keepRuntimeAlive","wasmTable","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getWasmTableEntry","handleAllocatorInit","HandleAllocator","freeTableIndexes","functionsInTableMap","setValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","GLFW","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","UnboundTypeError","PureVirtualError","embindRepr","registeredInstances","registeredPointers","registerType","getShiftFromSize","integerReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","finalizationRegistry","detachFinalizer_deps","deletionQueue","delayFunction","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_newers","emval_methodCallers","emval_registeredMethods"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller;};function stackCheckInit(){_emscripten_stack_init2();writeStackCookie();}function run(){if(runDependencies>0){return;}stackCheckInit();preRun();if(runDependencies>0){return;}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun();}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("");},1);doRun();},1);}else{doRun();}checkStackCookie();}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()();}}run();


return moduleArg.ready;
});


}();
if(typeof exports==='object'&&typeof module==='object')
module.exports=Module;else
if(typeof define==='function'&&define['amd'])
define([],function(){return Module;});}),null);/*FB_PKG_DELIM*/
__d("AccessibilityWebAssistiveTechTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:AccessibilityWebAssistiveTechLoggerConfig")}),null);
__d("AsyncTypedRequest",["AsyncRequest"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){b=a.call(this,b)||this;b.setReplaceTransportMarkers();return b}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.promisePayload=function(b){return a.prototype.promisePayload.call(this,b)};c.setPayloadHandler=function(b){a.prototype.setPayloadHandler.call(this,b);return this};return b}(c("AsyncRequest"));g["default"]=a}),98);
__d("BDSignalBufferData",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;f["default"]=b}),66);
__d("SignalValueContext",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.cn=a}var b=a.prototype;b.getSignalValueContextName=function(){return this.cn};return a}();f["default"]=a}),66);
__d("BDSignalCollectorBase",["BDSignalBufferData","SignalValueContext","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.signalType=a}var d=a.prototype;d.executeSignalCollection=function(){throw new Error("Child class responsibility to implement executeSignalCollection")};d.executeAsyncSignalCollection=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.executeSignalCollection());return a});function c(){return a.apply(this,arguments)}return c}();a.getSanitizedURI=function(){var a=window.location.href,b=a.indexOf("?");return b<0?a:a.substring(0,b)};d.getContext=function(){return new(c("SignalValueContext"))(a.getSanitizedURI())};d.throwIfNotInitialized=function(){if(!(this.signalType in c("BDSignalBufferData")))throw new Error("Signal is not intialized")};return a}();g["default"]=a}),98);
__d("BDBiometricSignalCollectorBase",["BDSignalCollectorBase","err"],(function(a,b,c,d,e,f,g){"use strict";a="biometric_signal_collected";b=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.listenForSignals=function(){throw c("err")("Child class responsibility to implement listenForSignals")};d.executeSignalCollection=function(){throw c("err")("executeAsyncSignalCollection and executeSignalCollection should not be called on biometric signals")};return b}(c("BDSignalCollectorBase"));g.BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME=a;g.BDBiometricSignalCollectorBase=b}),98);
__d("BDSignalWrapper",["BDSignalBufferData","SignalCollectorMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.signalFlags=a,this.signalType=b}var b=a.prototype;b.getSignalCollector=function(){return c("SignalCollectorMap").get(this.signalType)};b.getBufferConfig=function(){return c("BDSignalBufferData")[this.signalType]};return a}();g["default"]=a}),98);
__d("BDLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a={ERROR:"error",WARNING:"warning",INFO:"info"};b={KEY_NOT_FOUND:"key_not_found",APPEND_SIGNAL:"bd_append_signal",APPEND_SIGNAL_FAIL:"bd_append_signal_fail",HB_COLLECTED:"append_hb",HB_COLLECTION_FAILED:"hb_collection_failed",BD_EXCEPTION:"bd_exception",SIGNAL_NOT_IMPLEMENTED:"signal_not_implemented",SIGNAL_VALUE_NULL:"signal_value_null",EMPTY_SIGNAL_CONFIG:"empty_signal_config",INVALID_BUFFER_SIZE:"invalid_buffer_size",INVALID_DURATION:"invalid_duration",SIGNAL_FLAGS_MISSING:"signal_flags_missing",DYNAMIC_SIGNAL_COLLECTION_STARTED:"dynamic_signal_collection_started",BIOMETRIC_SIGNAL_COLLECTION_STARTED:"biometric_signal_collection_started",INVALID_GUID:"invalid_guid",INVALID_LENGTH:"invalid_length",GET_LOCAL_STORAGE_ERROR:"get_local_storage_error",WEB_STORAGE:"web_storage",PARSE_CONFIG_ERROR:"parse_config_error",HB_START_FAILURE:"hb_start_failure",HB_ALREADY_RUNNING:"hb_already_running",TRY_RESTARTING_HB:"try_restarting_hb",BANZAI_LOG_ERROR:"banzai_log_error"};c="JS";f.LEVELS=a;f.OPERATIONS=b;f.COMPONENT_NAME=c}),66);
__d("GeneratedLoggerUtils",["invariant","Banzai","JstlMigrationFalcoEvent","getDataWithLoggerOptions"],(function(a,b,c,d,e,f,g){"use strict";var h=window.location.search.indexOf("showlog")>-1;function a(a,c,d,e){var f=b("getDataWithLoggerOptions")(c,e);c=a.split(":")[0];var g=a.split(":")[1];c=="logger"?b("JstlMigrationFalcoEvent").log(function(){return{logger_config_name:g,payload:f}}):b("Banzai").post(a,f,d);h}c={log:a,serializeVector:function(a){if(!a)return a;if(Array.isArray(a))return a;if(a.toArray){var b=a;return b.toArray()}if(typeof a==="object"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"])return Array.from(a);g(0,3874,a)},serializeMap:function(a){if(!a)return a;if(a.toJS){var b=a;return b.toJS()}if(typeof a==="object"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]){b=a;var c={};for(b of b)c[b[0]]=b[1];return c}if(Object.prototype.toString.call(a)==="[object Object]")return a;g(0,3875,a)},checkExtraDataFieldNames:function(a,b){Object.keys(a).forEach(function(a){Object.prototype.hasOwnProperty.call(b,a)&&g(0,3876,a)})},warnForInvalidFieldNames:function(a,b,c,d){},throwIfNull:function(a,b){a||g(0,3877,b);return a}};e.exports=c}),null);
__d("BDOperationTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBdSessionID=function(a){this.$1.bd_session_id=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setDurationUs=function(a){this.$1.duration_us=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setExceptionStackTrace=function(a){this.$1.exception_stack_trace=a;return this};c.setExceptionType=function(a){this.$1.exception_type=a;return this};c.setIntValue=function(a){this.$1.int_value=a;return this};c.setLevel=function(a){this.$1.level=a;return this};c.setOperation=function(a){this.$1.operation=a;return this};c.setOperationInfo=function(a){this.$1.operation_info=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setSessionlets=function(a){this.$1.sessionlets=b("GeneratedLoggerUtils").serializeVector(a);return this};return a}();c={bd_session_id:!0,component:!0,duration_us:!0,exception_message:!0,exception_stack_trace:!0,exception_type:!0,int_value:!0,level:!0,operation:!0,operation_info:!0,sessionlets:!0};f["default"]=a}),66);
__d("BDOperationLogHelper",["BDLoggingConstants","BDOperationTypedLogger","Random"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.INFO,b,c,e)}function b(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.WARNING,b,c,e)}function e(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.ERROR,b,c,e)}function h(a,b,e,f,g){f===void 0&&(f={});if(d("Random").coinflip(i(e))){if(f===null)throw new Error("opeartion info null");f.source=a;new(c("BDOperationTypedLogger"))().setLevel(b).setDurationUs(g).setOperation(e).setComponent(d("BDLoggingConstants").COMPONENT_NAME).setOperationInfo(f).log()}}function i(a){var b=d("BDLoggingConstants").OPERATIONS;switch(a){case b.APPEND_SIGNAL:case b.HB_COLLECTED:case b.GET_LOCAL_STORAGE_ERROR:case b.WEB_STORAGE:case b.SIGNAL_NOT_IMPLEMENTED:case b.BIOMETRIC_SIGNAL_COLLECTION_STARTED:return 1e3;default:return 1}}g.logInfo=a;g.logWarning=b;g.logError=e;g.log=h;g.getFlipSamplingByOperation=i}),98);
__d("SignalErrorValueTypeDef",[],(function(a,b,c,d,e,f){"use strict";var g="ec",h="en",i="es",j=500;a=function(){function a(a,b,c){this.$1=a,this.$2=b,c!=null&&(this.$3=c.substr(0,j))}var b=a.prototype;b.getErrorCode=function(){return this.$1};b.getErrorName=function(){return this.$2};b.getErrorDetails=function(){return this.$3};b.isEqual=function(a){return this.$1===a.getErrorCode()&&this.$3===a.getErrorDetails()&&this.$2===a.getErrorName()};b.toJSON=function(){var a={};a[g]=this.$1;switch(this.$1){case 0:a[h]=this.$2;a[i]=this.$3;break}return a};return a}();f.SignalErrorValueTypeDef=a}),66);
__d("SignalValueTypeDef",["BDLoggingConstants","BDOperationLogHelper","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalValueTypeDef",i="t",j="ctx",k="v",l="e",m={NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",CUSTOM_OBJECT:"CUSTOM_OBJECT",INT_ARRAY:"INT_ARRAY",TOUCH:"TOUCH",MAP:"MAP",LIST:"LIST",SENSOR:"SENSOR",ERROR:"ERROR"};a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e!=null?e:0}var b=a.prototype;b.getTimeStampMS=function(){return this.$1};b.getSignalContext=function(){return this.$2};b.getSignalValue=function(){return this.$3};b.getSignalValueType=function(){return this.$4};b.isEqual=function(a,b){if(a==null){d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_VALUE_NULL);return!1}if(this.getSignalValueType()!==a.getSignalValueType())return!1;if(this.getSignalValueType()===m.ERROR&&a.getSignalValueType()===m.ERROR)return this.equalValue(a);var c=!1;b.has(128)&&(c=this.equalValue(a));b.has(256)&&(c=c&&this.getSignalContext()!=null&&a.getSignalContext()!=null&&this.getSignalContext().getSignalValueContextName()===a.getSignalContext().getSignalValueContextName());b.has(512)&&(c=c&&Math.abs(this.getTimeStampMS()-a.getTimeStampMS())<=this.$5);return c};b.equalValue=function(a){if(this.isPrimitiveType())return this.getSignalValue()===a.getSignalValue();throw new Error("Must implement in the subclasses")};b.toJSON=function(a){var b={};a&&(b[i]=this.$1/1e3,this.$2!=null&&(b[j]=this.$2));this.$3==null?b[l]=new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(2):this.addValueOrErrorToJSON(b);return b};b.addValueOrErrorToJSON=function(a){if(this.isPrimitiveType())a[k]=this.$3;else throw new Error("Must implement in the subclasses")};b.isPrimitiveType=function(){switch(typeof this.$3){case"number":case"boolean":case"string":return!0;default:return!1}};return a}();g.BD_VALUE=k;g.BD_ERROR=l;g.VALUE_TYPES=m;g.SignalValueTypeDef=a}),98);
__d("ErrorSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.ERROR)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_ERROR]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("NumberSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.NUMBER)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDConnectionRTTSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","NumberSignalValueType","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.executeSignalCollection=function(){if(navigator.connection!=null&&navigator.connection.rtt!=null){var a=navigator.connection.rtt;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.connection.rtt not supported"));return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30004,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("CustomObjectSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.CUSTOM_OBJECT)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_VALUE]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("HeartbeatObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.isAppForeground=!0}var b=a.prototype;b.toJSON=function(){return{f:this.isAppForeground}};b.isEqual=function(a){return!1};return a}();f["default"]=a}),66);
__d("BDHeartbeatSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatObject"))());return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:38e3,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("KeyDownUpObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.action=null,this.key_code=null,this.action=a,this.key_code=b}var b=a.prototype;b.toJSON=function(){return{action:this.action,key_code:this.key_code}};b.isEqual=function(b){return b instanceof a?this.action===b.action&&this.key_code===b.key_code:!1};return a}();f["default"]=a}),66);
__d("BDKeyDownUpSignalCollector",["BDBiometricSignalCollectorBase","CustomObjectSignalValueType","KeyDownUpObject","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.listenForSignals=function(){var a=this;c("gkx")("21049")&&(document.addEventListener("keydown",function(b){return a.collectSignals(2)}),document.addEventListener("keyup",function(b){return a.collectSignals(1)}))};e.collectSignals=function(a){a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("KeyDownUpObject"))(a,0));a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return b}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase),i=null,j={signalType:30100,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("StringArrayObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.strings=[],this.strings=a}var b=a.prototype;b.toJSON=function(){return this.strings};b.isEqual=function(b){if(!(b instanceof a))return!1;if(b.strings===this.strings)return!0;if(b.strings.length!==this.strings.length)return!1;for(var c=0;c<this.strings.length;c++)if(this.strings[c]!==b.strings[c])return!1;return!0};return a}();f["default"]=a}),66);
__d("BDLanguagesSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=[].concat(navigator.languages);a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("StringArrayObject"))(a));return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30003,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDMimeTypeCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=navigator.mimeTypes?navigator.mimeTypes.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30002,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BooleanSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.BOOLEAN)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDTouchOrMouseSignalCollectorBase",["BDBiometricSignalCollectorBase","BDLoggingConstants","BDOperationLogHelper","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h="BDTouchOrMouseSignalCollectorBase";a=function(a){function b(b,c,d){var e;e=a.call(this,b)||this;e.eventsToSubscribe=[];e.pauseTimeout=60*60*1e3;e.eventsToSubscribe=c;e.pauseTimeout=d;e.handler=function(a){return e.collectSignals(a)};return e}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.listenForSignals=function(){this.collectSignals(),this.addListeners()};e.addListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){try{document.addEventListener(b,a.handler)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{e:a})}})};e.pauseListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){document.removeEventListener(b,a.handler)});window.setTimeout(function(){return a.addListeners()},this.pauseTimeout)};e.collectSignals=function(a){a=a!=null;a&&this.pauseListeners();a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return b}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase);g["default"]=a}),98);
__d("BDMousePresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(a){function b(){return a.call(this,k.signalType,["mousedown","mousemove"],h)||this}babelHelpers.inheritsLoose(b,a);return b}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30106,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("StringSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.STRING)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDNavigatorAppVersionSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=navigator.appVersion;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30013,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorHardwareConcurrencySignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=navigator.hardwareConcurrency)!=null?a:0);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30018,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorMaxTouchPointSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),navigator.maxTouchPoints);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30093,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function e(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.executeAsyncSignalCollection=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{if(navigator.permissions){var a=(yield navigator.permissions.query({name:"notifications"}));a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a.state)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.permissions not supported"))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"notifications cannot be queried from navigator.permissions"))}return{valueOrError:a}});function e(){return a.apply(this,arguments)}return e}();return e}(c("BDSignalCollectorBase")),i=null,j={signalType:30008,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorPlatformSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.platform);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30015,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorPluginsFileExtensionsSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=function(a){function b(){return a.call(this,k.signalType)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.executeSignalCollection=function(){var a=null;try{var b=navigator.plugins?navigator.plugins.length:0,e=new Set();for(var f=0;f<b;f++){var g=navigator.plugins[f].filename;if(!g)continue;var i=g.indexOf(".");if(i==-1||i==g.length-1)continue;e.add(g.substr(i+1));if(e.size>=h)break}e.size&&(a=new(c("StringArrayObject"))(Array.from(e)))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.plugins is not defined"))}return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),j=null,k={signalType:30019,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDNavigatorUserAgentSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.userAgent);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30094,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorVendorSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=navigator.vendor;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30012,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.executeSignalCollection=function(){var a;window.Notification?a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),Notification.permission):a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"Notification not supported"));return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30007,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDPluginCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=navigator.plugins?navigator.plugins.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTimezoneOffsetSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=new Date().getTimezoneOffset())!=null?a:999);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30040,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTouchPresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(a){function b(){return a.call(this,k.signalType,["touchstart","touchcancel"],h)||this}babelHelpers.inheritsLoose(b,a);return b}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30107,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDWebdriverSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=!!navigator.webdriver;a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:3e4,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWebglSupportSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=document.createElement("canvas"),b=null;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(a){}a=Boolean(b);b=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:b}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30022,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWindowHistoryLengthSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),window.history?window.history.length:0);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30095,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("DimensionObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.width=null,this.height=null,this.width=a,this.height=b}var b=a.prototype;b.toJSON=function(){return{w:this.width,h:this.height}};b.isEqual=function(b){if(b instanceof a)return this.width===b.width&&this.height===b.height;else return!1};return a}();f["default"]=a}),66);
__d("BDWindowOuterDimensionSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","DimensionObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=window.innerHeight,b=window.innerWidth;b=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("DimensionObject"))(b,a));return{valueOrError:b}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30005,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("SignalCollectorMap",["BDConnectionRTTSignalCollector","BDHeartbeatSignalCollector","BDHeartbeatV2SignalCollector","BDKeyDownUpSignalCollector","BDLanguagesSignalCollector","BDMimeTypeCountSignalCollector","BDMousePresenceSignalCollector","BDNavigatorAppVersionSignalCollector","BDNavigatorHardwareConcurrencySignalCollector","BDNavigatorMaxTouchPointSignalCollector","BDNavigatorNotificationPermissionSignalCollector","BDNavigatorPlatformSignalCollector","BDNavigatorPluginsFileExtensionsSignalCollector","BDNavigatorUserAgentSignalCollector","BDNavigatorVendorSignalCollector","BDNotificationPermissionSignalCollector","BDPluginCountSignalCollector","BDTimezoneOffsetSignalCollector","BDTouchPresenceSignalCollector","BDWebdriverSignalCollector","BDWebglSupportSignalCollector","BDWindowHistoryLengthSignalCollector","BDWindowOuterDimensionSignalCollector"],(function(a,b,c,d,e,f,g){"use strict";a={get:function(a){switch(a){case 3e4:return c("BDWebdriverSignalCollector").get();case 30001:return c("BDPluginCountSignalCollector").get();case 30002:return c("BDMimeTypeCountSignalCollector").get();case 30003:return c("BDLanguagesSignalCollector").get();case 30004:return c("BDConnectionRTTSignalCollector").get();case 30005:return c("BDWindowOuterDimensionSignalCollector").get();case 30007:return c("BDNotificationPermissionSignalCollector").get();case 30008:return c("BDNavigatorNotificationPermissionSignalCollector").get();case 30012:return c("BDNavigatorVendorSignalCollector").get();case 30013:return c("BDNavigatorAppVersionSignalCollector").get();case 30015:return c("BDNavigatorPlatformSignalCollector").get();case 30018:return c("BDNavigatorHardwareConcurrencySignalCollector").get();case 30019:return c("BDNavigatorPluginsFileExtensionsSignalCollector").get();case 30022:return c("BDWebglSupportSignalCollector").get();case 30040:return c("BDTimezoneOffsetSignalCollector").get();case 30093:return c("BDNavigatorMaxTouchPointSignalCollector").get();case 30094:return c("BDNavigatorUserAgentSignalCollector").get();case 30095:return c("BDWindowHistoryLengthSignalCollector").get();case 30100:return c("BDKeyDownUpSignalCollector").get();case 30106:return c("BDMousePresenceSignalCollector").get();case 30107:return c("BDTouchPresenceSignalCollector").get();case 38e3:return c("BDHeartbeatSignalCollector").get();case 38001:return c("BDHeartbeatV2SignalCollector").get()}}};b=a;g["default"]=b}),98);
__d("HeartbeatV2Object",["HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var c;c=a.call(this)||this;c.id="";c.id=b;return c}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.toJSON=function(){return{f:this.isAppForeground,id:this.id}};return b}(c("HeartbeatObject"));g["default"]=a}),98);
__d("BDHeartbeatV2SignalCollector",["BDClientConfig","BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatV2Object"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatV2Object"))(c("BDClientConfig").get().getHeartbeatVersion()));return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:38001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDClientConfig",["BDLoggingConstants","BDOperationLogHelper","BDSignalWrapper"],(function(a,b,c,d,e,f,g){"use strict";var h="BDClientConfig",i=function(){function a(){this.staticSignalBufferSize=1,this.dynamicSignalBufferSize=1,this.biometricSignalBufferSize=1,this.staticSignals=[],this.dynamicSignals=[],this.biometricSignals=[],this.biometricSignalsMap=new Map(),this.heartbeatSignal=new(c("BDSignalWrapper"))([],38001),this.bufferSizeBySignalIdMap={},this.periodicCollectionIntervalMs=Number.MAX_SAFE_INTEGER,this.signalConfigGenerationTimeStampMs=0,this.suspiciousTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.allTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.heartbeatIntervalMs=-1,this.parsingDone=!1,this.sid=-1,this.hbVersion="",this.bufferSizeBySignalIdMap[38001]=1}var b=a.prototype;b.setStaticSignalBufferSize=function(a){a>0?this.staticSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"s"});return this};b.getStaticSignalBufferSize=function(){return this.staticSignalBufferSize};b.setDynamicSignalBufferSize=function(a){a>1?this.dynamicSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"d"});return this};b.getDynamicSignalBufferSize=function(){return this.dynamicSignalBufferSize};b.setBiometricSignalBufferSize=function(a){a>1?this.biometricSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"b"});return this};b.setSID=function(a){this.sid=a;return this};b.setHeartbeatVersion=function(a){this.hbVersion=a;return this};b.getHeartbeatVersion=function(){return this.hbVersion};b.getBiometricSignalBufferSize=function(){return this.biometricSignalBufferSize};b.setConfigGenerationTimeStamp=function(a){this.signalConfigGenerationTimeStampMs=a;return this};b.getConfigGenerationTimeStamp=function(){return this.signalConfigGenerationTimeStampMs};b.setHeartbeatIntervalMinutes=function(a){this.heartbeatIntervalMs=a*60*1e3;return this};b.getHeartbeatIntervalMs=function(){return this.heartbeatIntervalMs};b.setSuspiciousTiersFlushDurationMinutes=function(a){a>0?this.suspiciousTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fds"});return this};b.getSuspiciousTiersFlushDurationMs=function(){return this.suspiciousTiersFlushDurationMs};b.setAllTiersFlushDurationMinutes=function(a){a>0?this.allTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fda"});return this};b.getAllTiersFlushDurationMs=function(){return this.allTiersFlushDurationMs};b.addMultipleSignalsToClientConfig=function(a){var b=this;a.forEach(function(a){return b.addSignalToClientConfig(a)});return this};b.addSignalToClientConfig=function(a){var b=a.getSignalFlags(),d=a.getSignalId();if(d===38e3)return this;var e=new(c("BDSignalWrapper"))(b,d);if(d===38001){this.heartbeatSignal=e;return this}!b.includes(2)?this.staticSignals.push(e):b.includes(4)?this.biometricSignals.push(e):this.dynamicSignals.push(e);a.getBufferSize()>0&&(this.bufferSizeBySignalIdMap[a.getSignalId()]=a.getBufferSize());return this};b.setPeriodicCollectionIntervalSeconds=function(a){a>0?this.periodicCollectionIntervalMs=a*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"pi"});return this};b.getPeriodicCollectionIntervalMs=function(){return this.periodicCollectionIntervalMs};b.getDynamicSignals=function(){return this.dynamicSignals};b.getStaticSignals=function(){return this.staticSignals};b.getBiometricSignals=function(){return this.biometricSignals};b.getBiometricSignalsMap=function(){this.biometricSignalsMap.size===0&&this.biometricSignals.length>0&&(this.biometricSignalsMap=this.biometricSignals.reduce(function(a,b){return a.set(b.signalType,b)},new Map()));return this.biometricSignalsMap};b.getHeartbeatSignal=function(){return this.heartbeatSignal};b.getBufferSizeBySignalId=function(a){return this.bufferSizeBySignalIdMap[a]};b.setParsingDone=function(a){this.parsingDone=a};b.isParsingDone=function(){return this.parsingDone};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g["default"]=b}),98);
__d("BDCollectionTypeEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({STATIC:0,DYNAMIC:1,BIOMETRIC:2});f["default"]=a}),66);
__d("BotDetection_SignalFlags",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,DYNAMIC:2,BIOMETRIC:4,DEPRECATED:8,WEB:16,IOS_NATIVE:32,ANDROID_NATIVE:64,EQUAL_BY_VALUE:128,EQUAL_BY_CONTEXT:256,EQUAL_BY_TIMESTAMP:512,SUSPICIOUS_TIER:1024,PARANOID_TIER:2048,RANDOM_SAMPLE_TIER_DEPRECATED:4096,BENIGN_TIER:262144,EMPLOYEES_TIER:524288,BUNDLE:8192,ONSITE:16384,OFFSITE:32768,OFFSITE_SENSITIVE:65536,SENSITIVE:131072});f["default"]=a}),66);
__d("BDServerSignalConfig",["BDLoggingConstants","BDOperationLogHelper","BotDetection_SignalFlags"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerSignalConfig";a=function(){function a(a,b,c){this.parsedSignalFlags=[],this.signalId=a,this.signalFlags=b,this.bufferSize=c}var b=a.prototype;b.getSignalId=function(){return this.signalId};b.getSignalFlags=function(){var a=this;if(this.parsedSignalFlags.length===0){var b=Object.keys(c("BotDetection_SignalFlags"));b.forEach(function(b){(c("BotDetection_SignalFlags")[b]&a.signalFlags)===c("BotDetection_SignalFlags")[b]&&a.parsedSignalFlags.push(c("BotDetection_SignalFlags")[b])})}this.parsedSignalFlags.length===0&&d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_FLAGS_MISSING,{id:this.signalId.toString(),flags:this.signalFlags.toString()});return this.parsedSignalFlags};b.getBufferSize=function(){return this.bufferSize!=null?this.bufferSize:0};return a}();g["default"]=a}),98);
__d("BDServerConfig",["BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDServerSignalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerConfig";function a(a){var b=[];try{var e=JSON.parse(a.sc),f=new Map(e.c);f.forEach(function(a,d){return b.push(new(c("BDServerSignalConfig"))(d,a))});if(f.size===0){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.EMPTY_SIGNAL_CONFIG);return}f=c("BDClientConfig").get();f.setPeriodicCollectionIntervalSeconds(a.i).addMultipleSignalsToClientConfig(b).setConfigGenerationTimeStamp(e.t).setAllTiersFlushDurationMinutes(a.fda).setSuspiciousTiersFlushDurationMinutes(a.fds).setHeartbeatIntervalMinutes(a.hbi).setStaticSignalBufferSize(a.sbs).setDynamicSignalBufferSize(a.dbs).setBiometricSignalBufferSize(a.bbs).setSID(a.sid).setHeartbeatVersion(a.hbv).setParsingDone(!0)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{e:a})}}g.parseConfig=a}),98);
__d("BDSignalBuffer",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDSignalBufferData"],(function(a,b,c,d,e,f,g){"use strict";var h="BDSignalBuffer";function a(a,b,d){if(a in c("BDSignalBufferData"))return;var e=1;b!==void 0&&(e=b);c("BDSignalBufferData")[a]={values:[],max_buffer_size:e,signal_flags:d!=null?d:[]}}function i(a){if(a in c("BDSignalBufferData"))c("BDSignalBufferData")[a].values=[];else throw new Error("Tried to clear signal buffer that was not intialized:")}function b(a,b){if(a in c("BDSignalBufferData")){var e=c("BDSignalBufferData")[a],f=e.max_buffer_size;e.values.length>=f&&e.values.shift();e.values.push(b);d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL,{id:a.toString()})}else{d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL_FAIL,{id:a.toString()});throw new Error("Tried to append signal that was not intialized:")}}function e(){var a=c("BDClientConfig").get();a=a.getBiometricSignals();a.forEach(function(a){a.signalType in c("BDSignalBufferData")&&i(a.signalType)})}function f(a){var b;a=c("BDSignalBufferData")[a];var d=a==null||(b=a.values)==null?void 0:b.length;return d!=null&&d>0?a.values[d-1]:{valueOrError:void 0}}function j(a){return c("BDSignalBufferData")[a].values}function k(a){var b={};for(a of a)a in c("BDSignalBufferData")&&(b[a]=j(a).map(function(a){return a.valueOrError}));return b}function l(a){a=m(a);return JSON.stringify(k(a))}function m(a){var b=c("BDClientConfig").get(),d=[];a.forEach(function(a){switch(a){case c("BDCollectionTypeEnum").STATIC:d=[].concat(d,b.getStaticSignals());break;case c("BDCollectionTypeEnum").DYNAMIC:d=[].concat(d,b.getDynamicSignals());break;case c("BDCollectionTypeEnum").BIOMETRIC:d=[].concat(d,b.getBiometricSignals());break}});return d.map(function(a){return a.signalType})}g.initialize=a;g.clearBuffer=i;g.appendSignal=b;g.clearBiometricSignals=e;g.getLastSignalFormatBySignalId=f;g.retrieveSignal=j;g.retrieveSignals=k;g.getSignalsAsJSONString=l;g._getSignalIdsByCollectionType=m}),98);
__d("BDUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a=="x"?b:b&3|8;return a.toString(16)})}f.uuid=a}),66);
__d("BdPdcSignalsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743095");b=d("FalcoLoggerInternal").create("bd_pdc_signals",a);e=b;g["default"]=e}),98);
__d("SignalCollectionManager",["BDBiometricSignalCollectorBase","BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDSignalBuffer","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i="SignalCollectionManager",j=function(){function a(){var a=this;this.$1=!1;this.$6=function(b){if(b instanceof CustomEvent&&b.detail!=null&&b.detail.data!=null){var d=c("BDClientConfig").get().getBiometricSignalsMap().get(b.detail.signalId);d!=null&&a.$4(b.detail.data,d)}}}var e=a.prototype;e.collectSignals=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=this,d=[];a.forEach(function(a){a.signalFlags.includes(4)?c.$2(a):d.push(c.$3(a))});yield (h||(h=b("Promise"))).all(d)});function c(b){return a.apply(this,arguments)}return c}();e.isEqualToLastCollectedSignal=function(a,b){var c=d("BDSignalBuffer").getLastSignalFormatBySignalId(b.signalType);return c.valueOrError==void 0?!1:a.isEqual(c.valueOrError,new Set(b.signalFlags))};e.getCircularBufferSize=function(a){var b=c("BDClientConfig").get(),d=b.getBufferSizeBySignalId(a.signalType);if(d!=null&&b.getBufferSizeBySignalId(a.signalType)>0)return d;if(!a.signalFlags.includes(2))return b.getStaticSignalBufferSize();else if(a.signalFlags.includes(4))return b.getBiometricSignalBufferSize();else return b.getDynamicSignalBufferSize()};e.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.getSignalCollector();if(b!=null)try{b=(yield b.executeAsyncSignalCollection());this.$4(b,a)}catch(a){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:a})}});function c(b){return a.apply(this,arguments)}return c}();e.$2=function(a){this.$5();a=a.getSignalCollector();a!=null&&a instanceof d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase&&a.listenForSignals()};e.$5=function(){if(this.$1)return;window.addEventListener(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,this.$6);this.$1=!0};e.$4=function(a,b){b.getBufferConfig()==null&&d("BDSignalBuffer").initialize(b.signalType,this.getCircularBufferSize(b),b.signalFlags),a.valueOrError&&!this.isEqualToLastCollectedSignal(a.valueOrError,b)&&d("BDSignalBuffer").appendSignal(b.signalType,a)};return a}(),k=null;a={get:function(){k==null&&(k=new j());return k}};e=a;g["default"]=e}),98);
__d("BDClientSignalCollectionTrigger",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDServerConfig","BDSignalBuffer","BDUtils","BdPdcSignalsFalcoEvent","Promise","SignalCollectionManager","WebStorage","asyncToGeneratorRuntime","javascript-blowfish"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="BDClientSignalCollectionTrigger",k="signal_flush_timestamp",l=!1,m=!1,n=!1,o=!1,p=0,q=0,r=0,s=30,t=5,u,v,w=d("BDUtils").uuid(),x=c("BDClientConfig").get(),y=Object.freeze({NONE:0,VITAL:1,CRITICAL:2}),z={startSignalCollection:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){x.setSID(a.sid);if(!l){l=!0;d("BDServerConfig").parseConfig(a);if(!x.isParsingDone()){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{config:JSON.stringify(a)});l=!1;return}a!=null&&(q=a.hbcbc&&a.hbcbc>0?a.hbcbc:q,r=a.hbvbc&&a.hbvbc>0?a.hbvbc:r,s=a.hbbi&&a.hbbi>0?a.hbbi:s);z.startHeartbeatDelayed();v=new(i||(i=b("Promise")))(function(a,b){try{x.getDynamicSignals().length>0&&(z.collectDynamicSignals(),d("BDOperationLogHelper").logInfo(j,d("BDLoggingConstants").OPERATIONS.DYNAMIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),x.getBiometricSignals().length>0&&(z.collectBiometricSignals(),d("BDOperationLogHelper").logInfo(j,d("BDLoggingConstants").OPERATIONS.BIOMETRIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),a()}catch(a){b(a)}});yield v;yield z.startSignalPosting()}l&&!n&&!o&&t>0&&(t-=1,d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.TRY_RESTARTING_HB),z.startHeartbeatDelayed())});function c(b){return a.apply(this,arguments)}return c}(),retrieveSignals:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield v,yield z.postSignals([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC,c("BDCollectionTypeEnum").STATIC])});function d(){return a.apply(this,arguments)}return d}(),postSignals:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield z.collectStaticSignals(),z._postSignalsHelper(d("BDSignalBuffer").getSignalsAsJSONString(a),y.NONE)&&z.setTimestampInStorage(Date.now(),k)});function c(b){return a.apply(this,arguments)}return c}(),_postSignalsHelper:function(a,b){if(a.length<=2)return!1;var e=x.getConfigGenerationTimeStamp(),f=z.encryptDataUsingAsid(w,a);a=function(){return{asid:w,ct:e,sjd:f,sid:x.sid}};var g=!1;try{b===y.CRITICAL?c("BdPdcSignalsFalcoEvent").logCritical(a):b===y.VITAL?c("BdPdcSignalsFalcoEvent").logImmediately(a):c("BdPdcSignalsFalcoEvent").log(a),g=!0}catch(a){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.BANZAI_LOG_ERROR,a),g=!1}finally{return g}},getInitialVector:function(a){if(a.length!==16){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.INVALID_LENGTH);return""}var b="";for(var c=0;c<8;c++)b+=String.fromCharCode(a.charCodeAt(c)^a.charCodeAt(8+c));return b},encryptDataUsingAsid:function(a,b){if(a.length!==36){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.INVALID_GUID);return b}a=a.slice(19,23)+a.slice(24,36);var e=z.getInitialVector(a);a=new(c("javascript-blowfish"))(a,"cbc");return a.base64Encode(a.encrypt(b,e))},startSignalPosting:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=z.getTimestampInStorage(k);a=Date.now()-a;a>=x.getAllTiersFlushDurationMs()?yield z.postSignalsIntermittently():window.setTimeout(function(){z.postSignalsIntermittently()},x.getAllTiersFlushDurationMs()-a)});function c(){return a.apply(this,arguments)}return c}(),postSignalsIntermittently:function(){z.postSignals([c("BDCollectionTypeEnum").STATIC]),window.setInterval(function(){z.postSignals([c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC])},x.getAllTiersFlushDurationMs())},setTimestampInStorage:function(a,b){var e=(h||(h=c("WebStorage"))).getLocalStorage();if(!e){d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return}e=h.setItemGuarded(e,b,a.toString());e!=null&&d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.WEB_STORAGE,{error:e.message})},getTimestampInStorage:function(a){var b=(h||(h=c("WebStorage"))).getLocalStorage();if(!b){d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return 0}b=b.getItem(a);if(b==null)return 0;a=Number.parseInt(b,10);return Number.isFinite(a)?a:0},resetHeartbeatStartedForTest:function(){n=!1,o=!1},startHeartbeatDelayed:function(){if(n||o)return;var a=z.getTimestampInStorage(z.HEARTBEAT_TIMESTAMP_STORAGE_KEY);a=Date.now()-a;try{a>=x.getHeartbeatIntervalMs()?z.startHeartbeat():(window.setTimeout(function(){return z.startHeartbeat()},x.getHeartbeatIntervalMs()-a),o=!0)}catch(b){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.HB_START_FAILURE,{lastBeatSince:a.toString(),hbi:x.getHeartbeatIntervalMs().toString(),e:b})}},HEARTBEAT_TIMESTAMP_STORAGE_KEY:"hb_timestamp",startHeartbeat:function(){!n&&x.getHeartbeatIntervalMs()>0&&(z.collectHeartbeatTimes(q,r),p!==0&&(window.clearInterval(p),d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.HB_ALREADY_RUNNING)),p=window.setInterval(function(){return z.collectHeartbeatTimes(q,r)},x.getHeartbeatIntervalMs()),n=!0)},collectHeartbeatTimes:function(a,b){if(a<=0&&b<=0)return;a>0&&z.collectHeartbeat(y.CRITICAL);b>0&&z.collectHeartbeat(y.VITAL);(a>1||b>1)&&window.setTimeout(function(){return z.collectHeartbeatTimes(a-1,b-1)},s*1e3)},collectHeartbeat:function(a){var b,c=x==null||(b=x.getHeartbeatSignal())==null||(b=b.getSignalCollector())==null?void 0:b.executeSignalCollection();if(c==null){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.HB_COLLECTION_FAILED,{urgency:a.toString()});return}else d("BDOperationLogHelper").logInfo(j,d("BDLoggingConstants").OPERATIONS.HB_COLLECTED,{urgency:a.toString()});z.postHeartbeat(a,c)&&z.setTimestampInStorage(Date.now(),z.HEARTBEAT_TIMESTAMP_STORAGE_KEY)},postHeartbeat:function(a,b){var c={};c[38001]=[b==null?void 0:b.valueOrError];b=JSON.stringify(c);return z._postSignalsHelper(b,a)},collectStaticSignals:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield z.collectSignalsOneTime(x.getStaticSignals())});function c(){return a.apply(this,arguments)}return c}(),collectDynamicSignals:function(){z.stopDynamicSignalCollection(),u=window.setInterval(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield z.collectSignalsOneTime(x.getDynamicSignals())}),x.getPeriodicCollectionIntervalMs())},collectBiometricSignals:function(){z.collectSignalsOneTime(x.getBiometricSignals())},stopDynamicSignalCollection:function(){u!=null&&(window.clearInterval(u),u=null)},collectSignalsOneTime:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield c("SignalCollectionManager").get().collectSignals(a)});function d(b){return a.apply(this,arguments)}return d}(),startLoginTimeSignalCollection:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){m||(m=!0,d("BDServerConfig").parseConfig(a),yield z.collectSignalsOneTime(x.getDynamicSignals()),yield z.collectSignalsOneTime(x.getBiometricSignals()),yield z.collectSignalsOneTime(x.getStaticSignals()))});function c(b){return a.apply(this,arguments)}return c}(),getSignalsAsJSONString:function(){return d("BDSignalBuffer").getSignalsAsJSONString([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").BIOMETRIC])}};a=z;g["default"]=a}),98);
__d("BDCometSignalCollectionTrigger",["BDClientSignalCollectionTrigger","BDSignalCollectionData"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("BDClientSignalCollectionTrigger").startSignalCollection(c("BDSignalCollectionData"))}g.initSignalCollection=a}),98);
__d("Chromedome",["fbt"],(function(a,b,c,d,e,f,g,h){function i(){if(document.domain==null)return null;var a=document.domain,b=/^intern\./.test(a);if(b)return null;b=/(^|\.)facebook\.(com|sg)$/.test(a);if(b)return"facebook";b=/(^|\.)instagram\.com$/.test(a);if(b)return"instagram";b=/(^|\.)threads\.(com|net)$/.test(a);if(b)return"threads";b=/(^|\.)messenger\.com$/.test(a);return b?"messenger":null}function j(a){if(a==="instagram")return h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable an Instagram feature or \"hack\" someone's account, it is a scam and will give them access to your Instagram account.");return a==="threads"?h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable a Threads feature or \"hack\" someone's account, it is a scam and will give them access to your Threads account."):h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable a Facebook feature or \"hack\" someone's account, it is a scam and will give them access to your Facebook account.")}function a(a){if(top!==window)return;a=i();if(a==null)return;var b=h._(/*BTDS*/"Stop!");a=j(a);var c=h._(/*BTDS*/"See {url} for more information.",[h._param("url","https://www.facebook.com/selfxss")]),d="font-family:helvetica; font-size:20px; ";[[b,d+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[a,d],[c,d],["",""]].map(function(a){window.setTimeout(console.log.bind(console,"\n%c"+a[0].toString(),a[1]))})}g.start=a}),226);
__d("ClientConsistencyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1764786");b=d("FalcoLoggerInternal").create("client_consistency",a);e=b;g["default"]=e}),98);
__d("WebBrowserDimensionsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:WebBrowserDimensionsLoggerConfig")}),null);
__d("CometBrowserDimensionsLogger",["CometDebounce","Cookie","ExecutionEnvironment","SiteData","WebBrowserDimensionsTypedLoggerLite","getViewportDimensions","isInIframe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=!1,k={height:0,width:0};function l(){i===null&&(i=c("getViewportDimensions")());return i}function m(){var a=c("getViewportDimensions")(),b=a.height;a=a.width;(k.width!==a||k.height!==b)&&(k={height:b,width:a},c("Cookie").set("wd",a+"x"+b))}function n(){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM||c("isInIframe")()||j)return;j=!0;m();window.addEventListener("resize",c("CometDebounce")(m,{wait:250}),{passive:!0});window.addEventListener("focus",m,{passive:!0})}function a(a){var b,d=l();n();b={client_hint_width:a==null?void 0:a.clientHintWidth,pixel_ratio:(b=window.devicePixelRatio)!=null?b:1,screen_x:window.screen.width,screen_y:window.screen.height,server_pixel_ratio:c("SiteData").pr,server_viewport_x:a==null?void 0:a.viewportWidth,server_viewport_y:a==null?void 0:a.viewportHeight,viewport_x:d.width,viewport_y:d.height};window.navigator&&window.navigator.hardwareConcurrency&&(b.cpu_cores_count=window.navigator.hardwareConcurrency);if(window.innerWidth>0&&window.outerWidth>0){a=Math.round(window.outerWidth/window.innerWidth*100)/100;b.zoom_ratio=a}if(window.getComputedStyle&&document.documentElement!=null){d=window.getComputedStyle(document.documentElement);d!=null&&(b.document_font_size=d.fontSize)}c("WebBrowserDimensionsTypedLoggerLite").log(b)}g.init=a}),98);
__d("CometChromeDome",["JSScheduler","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("Chromedome").__setRef("CometChromeDome");function a(){i.onReady(function(a){(h||(h=d("JSScheduler"))).scheduleLoggingPriCallback(function(){a.start({})})})}g.init=a}),98);
__d("CometFocusTableContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({FocusCell:null,FocusRow:null,FocusTable:null});g["default"]=b}),98);
__d("FDSButtonGroup.react",["CometFocusTableContext","CometRow.react","CometRowItem.react","FDSButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","testid"],i=["ref","testid"],j,k=j||(j=d("react")),l=j.useContext,m={resetFlexBasis:{flexBasis:"xdl72j9",$$css:!0}},n="secondary";function o(a){var b=l(c("CometFocusTableContext"));b=b.FocusCell;a=a.children;return b!=null?k.jsx(b,{children:a}):a}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.align,d=b===void 0?"justify":b;b=a.direction;b=b===void 0?"forward":b;var e=a.expanding;e=e===void 0?!1:e;var f=a.paddingHorizontal,g=a.paddingTop,j=a.paddingVertical,l=a.primary,p=a.secondary,q=a.secondaryIcon,r=a.secondaryIconGroup,s=a.size,t=a.verticalAlign;a=a.wrap;a=a===void 0?"none":a;var u=[],v=[],w=null;if(l!=null){var x=l.ref,y=l.testid;y=babelHelpers.objectWithoutPropertiesLoose(l,h);w=k.jsx(o,{children:k.jsx(c("FDSButton.react"),babelHelpers["extends"]({},y,{ref:x,size:s,testid:void 0}))});u.push({hidden:k.jsx(c("FDSButton.react"),babelHelpers["extends"]({},y,{disabled:!0,padding:"normal",size:s})),visible:w})}if(p!=null){l=p.ref;x=p.testid;y=babelHelpers.objectWithoutPropertiesLoose(p,i);u.push({hidden:k.jsx(c("FDSButton.react"),babelHelpers["extends"]({},y,{disabled:!0,padding:"normal",size:s,type:"secondary"})),visible:k.jsx(o,{children:k.jsx(c("FDSButton.react"),babelHelpers["extends"]({},y,{ref:l,size:s,testid:void 0,type:"secondary"}))})})}else if(q!=null){v.push(k.jsx(c("CometRowItem.react"),{children:k.jsx(o,{children:k.jsx(c("FDSButton.react"),babelHelpers["extends"]({},q,{labelIsHidden:!0,size:s,type:(x=q.type)!=null?x:n}))})},"secondary-icon"))}else if(r!=null){p=r.primaryIcon;y=r.secondaryIcon;v.push(k.jsx(c("CometRowItem.react"),{children:k.jsx(o,{children:k.jsx(c("FDSButton.react"),babelHelpers["extends"]({},p,{labelIsHidden:!0,size:s,type:(l=p.type)!=null?l:n}))})},"secondary-icon-1"),k.jsx(c("CometRowItem.react"),{children:k.jsx(o,{children:k.jsx(c("FDSButton.react"),babelHelpers["extends"]({},y,{labelIsHidden:!0,size:s,type:(q=y.type)!=null?q:n}))})},"secondary-icon-2"))}x=u.map(function(a,b){return k.jsx(c("CometRowItem.react"),{expanding:d==="justify",xstyle:m.resetFlexBasis,children:u.map(function(a,c){return k.jsx(k.Fragment,{children:b!==c?k.jsx("div",{"aria-hidden":!0,className:"xqtp20y x6ikm8r x10wlt62 xlshs6z",children:a.hidden}):a.visible},c)})},b)});r=w!=null?k.jsx(c("CometRowItem.react"),{expanding:d==="justify",xstyle:m.resetFlexBasis,children:w},"primary"):null;p=[r].concat(v);l=u.length===2;s=l||w==null?x:p;y=b==="forward"?s:s.reverse();return k.jsx(c("CometRow.react"),{align:d,expanding:e,paddingHorizontal:f,paddingTop:g,paddingVertical:j,spacing:8,verticalAlign:t,wrap:a,children:y})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometOnBeforeUnloadDialog.react",["fbt","CometTrackingNodeProvider.react","FDSButtonGroup.react","FDSCardedDialogLegacy.react","FDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.body,d=a.cancel,e=a.confirm,f=a.disabled;f=f===void 0?!1:f;var g=a.onClose,i=a.onCloseButtonPress,k=a.primaryAction,l=a.secondaryAction;a=a.title;var m=function(){k(),g()},n=function(){l(),g()};return j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:163,children:j.jsxs(c("FDSCardedDialogLegacy.react"),{onClose:function(){i(),g()},testid:void 0,title:a,titleHorizontalAlignment:"start",withCloseButton:!0,children:[j.jsx("div",{className:"xz9dl7a xsag5q8 xf7dkkf xv54qhq x1n2onr6",children:j.jsx(c("FDSText.react"),{type:"body3",children:b})}),j.jsx("div",{className:"x78zum5 x1q0g3np x13a6bvl x1l90r2v xyri2b x1c1uobl xexx8yu",children:j.jsx(c("FDSButtonGroup.react"),{direction:"backward",paddingHorizontal:16,primary:{disabled:f,label:e!=null?e:h._(/*BTDS*/"Confirm"),onPress:m,testid:"CometOnBeforeUnloadDialogConfirmButton"},secondary:{disabled:f,label:d!=null?d:h._(/*BTDS*/"Cancel"),onPress:n,reduceEmphasis:!0,testid:"CometOnBeforeUnloadDialogCancelButton"}})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometPixelRatioUpdater",["Cookie","Run","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";var h="dpr";function i(a){c("Cookie").set(h,String(a))}function j(){window.devicePixelRatio!==d("WebPixelRatio").get()&&i(window.devicePixelRatio)}function a(){j(),d("Run").onBeforeUnload(j,!1),"onpagehide"in window&&window.addEventListener("pageHide",j)}g.startDetecting=a}),98);
__d("CometVirtualCursorStatus",["UserAgent","cr:1345969","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null;function j(){i||(i=window.addEventListener("blur",function(){h=null,k()}))}function k(){i&&(i.remove(),i=null)}function a(a){h=a.keyCode,j()}function d(a){h=null,k()}if(typeof window!=="undefined"&&window.document&&window.document.createElement){f=document.documentElement;if(f)if(f.addEventListener)f.addEventListener("keydown",a,!0),f.addEventListener("keyup",d,!0);else if(f.attachEvent){f=f.attachEvent;f("onkeydown",a);f("onkeyup",d)}}var l={getKeyDownCode:function(){return h},isKeyDown:function(){return!!h}},m=!1,n=!1,o=null,p=!1;function q(a){var b=new Set(),d=l.isKeyDown(),e=a.WEBKIT_FORCE_AT_MOUSE_DOWN,f=a.clientX,g=a.clientY,h=a.isTrusted,i=a.mozInputSource,j=a.offsetX,k=a.offsetY,o=a.webkitForce;f===0&&g===0&&j>=0&&k>=0&&n&&h&&i==null&&b.add("Chrome");m&&n&&!d&&o!=null&&o<e&&j===0&&k===0&&i==null&&b.add("Safari-edge");f===0&&g===0&&j<0&&k<0&&n&&i==null&&b.add("Safari-old");if(!m&&!n&&!d&&h&&c("UserAgent").isBrowser("IE >= 10")&&i==null){o=a.target;e=o.clientHeight;d=o.clientWidth;f<0&&g<0?b.add("IE"):(j<0||j>d)&&(k<0||k>e)&&b.add("MSIE")}i===0&&h&&b.add("Firefox");return b}function r(){m=!0,c("setTimeout")(function(){m=!1},0)}function s(){n=!0,c("setTimeout")(function(){n=!1},0)}function t(a){p&&b("cr:1345969").log({extra_data:{source_app:"comet"},indicated_browsers:o,is_virtual_cursor_action:a})}function u(a){o===null&&(o=Array.from(q(a)));p=o!=null&&o.length>0;a=a.target!=null&&a.target.getAttribute!=null&&a.target.getAttribute("data-accessibilityid")==="virtual_cursor_trigger";t(a);c("setTimeout")(function(){p=!1,o=null},0)}function e(){document.addEventListener("click",u,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("mouseup",s,!0)}g.initLogging=e}),98);
__d("SimplePageLoadLogger",["ODS","performance"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){(i||(i=d("ODS"))).bumpEntityKey(1678,"www_client_navigations",j())}function j(){if((h||(h=c("performance"))).navigation==null||(h||(h=c("performance"))).navigation.type==null)return"UNSUPPORTED";switch((h||(h=c("performance"))).navigation.type){case(h||(h=c("performance"))).navigation.TYPE_NAVIGATE:return"NAVIGATE";case(h||(h=c("performance"))).navigation.TYPE_RELOAD:return"RELOAD";case(h||(h=c("performance"))).navigation.TYPE_BACK_FORWARD:return"BACK_FORWARD";case(h||(h=c("performance"))).navigation.TYPE_RESERVED:return"RESERVED";default:return"UNKNOWN"}}g.logPageNavigationType=a}),98);
__d("StringTransformations",[],(function(a,b,c,d,e,f){"use strict";a={unicodeEscape:function(a){return a.replace(/[^A-Za-z0-9\-\.\:\_\$\/\+\=]/g,function(a){a=a.charCodeAt(0).toString(16);return"\\u"+("0000"+a.toUpperCase()).slice(-4)})},unicodeUnescape:function(a){return a.replace(/(\\u[0-9A-Fa-f]{4})/g,function(a){return String.fromCharCode(parseInt(a.slice(2),16))})}};f["default"]=a}),66);
__d("WebStorageMonster",["AsyncRequest","CacheStorage","Event","ExecutionEnvironment","NetworkStatus","StringTransformations","UserActivity","WebStorage","WebStorageCleanupReason","WebStorageMonsterLoggingURI","ifRequired","isEmpty","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=1e4,l=5,m=!1;function n(a){var b={};for(var d in a){var e=a.getItem(d),f=c("StringTransformations").unicodeEscape(d);typeof e==="string"&&(b[f]=e.length)}return b}function o(a){var b=(h||(h=c("WebStorage"))).getLocalStorage();if(!b||a==null||!a.keys)return;r._getLocalStorageKeys().forEach(function(c){a.keys.includes(c)&&b.removeItem(c)})}function p(a){var b=(h||(h=c("WebStorage"))).getLocalStorage();b&&r._getLocalStorageKeys().forEach(function(c){a.some(function(a){return new RegExp(a).test(c)})||b.removeItem(c)})}function q(a,b){a===void 0&&(a=!1);b===void 0&&(b=k);if(c("UserActivity").isActive(b)){var d=Math.max(k,Math.floor(b/l));c("setTimeoutAcrossTransitions")(function(){q(a,d)},d)}else{r.cleanNow(a);var e=b*l;c("setTimeoutAcrossTransitions")(function(){q(a,e)},e)}}var r={_getLocalStorageKeys:function(){var a=(h||(h=c("WebStorage"))).getLocalStorage();return a?Object.keys(a):[]},cleanNow:function(a){a===void 0&&(a=!1);var b=Date.now(),d={},e=(h||(h=c("WebStorage"))).getLocalStorage();e&&(d.local_storage=n(e));e=h.getSessionStorage();e&&(d.session_storage=n(e));e=!(i||(i=c("isEmpty")))(d);var f=Date.now();d.logtime=f-b;if(e){var g,j=c("WebStorageMonsterLoggingURI").uri;if(j===null)return null;var k=function(){new(c("AsyncRequest"))(j).setData(d).setHandler(function(b){b=b.getPayload();b&&b.keys&&(b.keys=b.keys.map(c("StringTransformations").unicodeUnescape));a||o(b);c("NetworkStatus").reportSuccess()}).setErrorHandler(function(){c("NetworkStatus").reportError()}).setOption("retries",2).send()};if(c("NetworkStatus").isOnline())k();else{f=function(a){a=a.online;a&&(k(),g.remove())};g=c("NetworkStatus").onChange(f)}}},cleanOnLogout:function(a,b){d("WebStorageCleanupReason").setLastCleanupReason(b);c("CacheStorage").disablePersistentWrites();c("ifRequired")("WebAsyncStorage",function(a){a.disablePersistentWrites()});a?p(a):p([]);b=(h||(h=c("WebStorage"))).getSessionStorage();b&&b.clear();c("ifRequired")("WebAsyncStorage",function(a){a.clear(function(){})})},registerLogoutForm:function(a,b){c("Event").listen(a,"submit",function(a){r.cleanOnLogout(b,"WebStorageMonster.registerLogoutForm")})},schedule:function(a){a===void 0&&(a=!1);if(m||!(j||(j=c("ExecutionEnvironment"))).isInBrowser)return;m=!0;q(a)}};a=r;g["default"]=a}),98);
__d("setCometDeferredCookies",["DeferredCookie","ErrorGuard"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1,j=new Set();function a(a){i?a():j.add(a)}function b(a){Object.entries(a).forEach(function(a){var b=a[0];a=a[1];var d=a.expiration_for_js,e=a.first_party_only,f=a.path,g=a.secure;a=a.value;c("DeferredCookie").addToQueue(b,a,d,f,e,!1,g)}),i=!0,j.forEach(function(a){return(h||(h=c("ErrorGuard"))).applyWithGuard(a,null,[])}),j.clear()}g.onCometDeferredCookieSet=a;g.setCometDeferredCookies=b}),98);
__d("CometRootDeferredShared",["CometBootloaderErrorLoggerUtil","CometBootloaderLoggerUtil","CometOfflineTracing","CometVirtualCursorStatus","ErrorGuard","JSScheduler","RunComet","SimplePageLoadLogger","WebStorageMonster","cr:1201738","cr:1332233","cr:1516609","cr:17080","cr:1813330","cr:22915","cr:2718","gkx","setCometDeferredCookies","vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=null;function a(a){var e=a.blLoggingCavalryFields,f=a.deferredCookies;a=a.networkStatusToast;var g=a===void 0?b("cr:17080"):a;(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return d("CometBootloaderLoggerUtil").initLogging(e)},null,[]);i.applyWithGuard(function(){return d("CometBootloaderErrorLoggerUtil").initLogging(e)},null,[]);i.applyWithGuard(function(){return d("CometVirtualCursorStatus").initLogging()},null,[]);g!=null&&!c("gkx")("11394")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return g.subscribe()},null,[]);i.applyWithGuard(function(){return d("CometOfflineTracing").initialize()},null,[]);i.applyWithGuard(function(){return d("SimplePageLoadLogger").logPageNavigationType()},null,[]);(h||(h=d("JSScheduler"))).scheduleSpeculativeCallback(function(){c("WebStorageMonster").schedule()});b("cr:1201738")&&c("vc-tracker").VisualCompletionTraceObserver.subscribe(function(a){a.interactionType==="INITIAL_LOAD"&&b("cr:1201738").init("comet.idle")});j&&c("vc-tracker").VisualCompletionTraceObserver.subscribe(function(a){a.interactionType==="INITIAL_LOAD"&&j.init()});d("setCometDeferredCookies").setCometDeferredCookies(f);b("cr:1332233")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1332233")()},null,[]);b("cr:1516609")!=null&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1516609").initSignalCollection()},null,[]);b("cr:1813330")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1813330").init()},null,[]);b("cr:2718")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:2718").init()},null,[]);if(b("cr:22915"))var k=d("RunComet").onAfterLoad(function(){(i||(i=c("ErrorGuard"))).applyWithGuard(function(){b("cr:22915")==null||b("cr:22915").startRSTFromMainThread(),k.remove()},null,[])})}g.initDeferred=a}),98);
__d("InstagramWebNotificationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5614");b=d("FalcoLoggerInternal").create("instagram_web_notification",a);e=b;g["default"]=e}),98);
__d("LogWebMemoryUsageFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1765264");b=d("FalcoLoggerInternal").create("log_web_memory_usage",a);e=b;g["default"]=e}),98);
__d("PolarisBackgroundFeedDataFetchEager",["CometRelay","CurrentUser","PolarisFeedActionLoadFeedPageExtras","PolarisFeedQueryConstants","PolarisFeedTimelineRootV2Query.graphql","PolarisRelayEnvironmentFactory","getPolarisFeedInitialPageSize.entrypointutils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("PolarisRelayEnvironmentFactory").getForActorID(c("CurrentUser").getPossiblyNonFacebookUserID()),e=d("PolarisFeedQueryConstants").FEED_TIMELINE_REQUEST_BODY;d("CometRelay").fetchQuery(b,c("PolarisFeedTimelineRootV2Query.graphql"),{data:e,first:d("getPolarisFeedInitialPageSize.entrypointutils").getPolarisFeedInitialPageSize(),variant:String("home")}).subscribe({});a.dispatch(d("PolarisFeedActionLoadFeedPageExtras").loadFeedPageExtras())}g.runBackgroundFeedDataFetch=a}),98);
__d("PolarisInitWindowsPWAKeyCommand",["ExecutionEnvironment","PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1;function a(){if(i)return;(h||(h=c("ExecutionEnvironment"))).canUseDOM&&d("PolarisUA").isDesktopPWA()&&(window.addEventListener("keydown",function(a){a.ctrlKey&&a.key==="r"&&window.location.reload()}),i=!0)}g["default"]=a}),98);
__d("PolarisLogPushNotification",["InstagramODS","InstagramWebNotificationFalcoEvent","PolarisConfig","PolarisQueryParams","URI","polarisReferrerFormatter"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){d("PolarisQueryParams").isPushNotificationParam()&&(c("InstagramWebNotificationFalcoEvent").log(function(){var a;return{landing_page_url:(a=d("polarisReferrerFormatter").sanitizeReferrer(window.location.pathname))!=null?a:"",ndid:(a=d("PolarisQueryParams").getNdidParam())!=null?a:"",target_user_id:(a=d("PolarisConfig").getViewerId())!=null?a:"",web_push_event_name:"web_push_clicked"}}),i())}function i(){try{var a=new(h||(h=c("URI")))(window.location.href);a.removeQueryData("utm_source");a.removeQueryData("ndid");window.history.replaceState({},null,a)}catch(a){c("InstagramODS").incr("web.notifications.remove_utm.failure")}}g["default"]=a}),98);
__d("WebPerfDeviceInfoLogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1871697");b=d("FalcoLoggerInternal").create("web_perf_device_info_log",a);e=b;g["default"]=e}),98);
__d("XDeviceClassRealtimeControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/web_perf/get_perf_level/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("WebDevicePerfInfoLogging",["AsyncTypedRequest","JSScheduler","Promise","WebDevicePerfInfoData","WebPerfDeviceInfoLogFalcoEvent","XDeviceClassRealtimeControllerRouteBuilder","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){var b=document.createElement("canvas");b=b.getContext("webgl")||b.getContext("experimental-webgl");if(!b)return;var c=b.getExtension("WEBGL_debug_renderer_info");if(!c)return;var d=b.getParameter(c.UNMASKED_RENDERER_WEBGL);b=b.getParameter(c.UNMASKED_VENDOR_WEBGL);a.gpu_vendor=b;a.gpu_renderer=d}function k(){var a=window.navigator,b={};a&&a.hardwareConcurrency!==void 0&&(b.cpu_cores=a.hardwareConcurrency);a&&a.deviceMemory!==void 0&&(b.ram=a.deviceMemory);c("WebDevicePerfInfoData").needsFullUpdate&&j(b);return b}function l(){var a=k();c("WebPerfDeviceInfoLogFalcoEvent").log(function(){var b;return{cpu_cores:(b=a.cpu_cores)!=null?b:null,ram:(b=a.ram)!=null?b:null,gpu_renderer:(b=a.gpu_renderer)!=null?b:null,gpu_vendor:(b=a.gpu_vendor)!=null?b:null}})}function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=k();a=(yield new(c("AsyncTypedRequest"))(c("XDeviceClassRealtimeControllerRouteBuilder").buildURL({})).setData(a).promisePayload());return a.devicePerfClassLevel});return n.apply(this,arguments)}function a(){(c("WebDevicePerfInfoData").needsFullUpdate||c("WebDevicePerfInfoData").needsPartialUpdate)&&(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(l)}function e(){return new(h||(h=b("Promise")))(function(a,b){c("WebDevicePerfInfoData").needsFullUpdate||c("WebDevicePerfInfoData").needsPartialUpdate?(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){m().then(a)["catch"](b)}):a()})}g.doLog=a;g.doLogPromise=e}),98);
__d("polarisDebugLogODS",["cr:4890"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){b("cr:4890")==null||b("cr:4890")(a,c)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("Clipboard",["Promise","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return window.document&&window.document.queryCommandSupported instanceof Function&&window.document.queryCommandSupported("copy")&&!(c("UserAgent").isBrowser("Firefox < 41")||c("UserAgent").isPlatform("iOS < 10.3"))||c("UserAgent").isBrowser("Chrome >= 43")}var i=c("UserAgent").isPlatform("iOS >= 10.3")&&!c("UserAgent").isPlatform("iOS >= 18.4");function j(a,b){b=b||document.body;if(!b)return!1;var c=document.activeElement,d=!0,e=document.createElement("textarea");b.appendChild(e);e.value=a;if(i){a=document.createRange();a.selectNodeContents(e);var f=window.getSelection();f.removeAllRanges();f.addRange(a);e.setSelectionRange(0,999999)}else e.select();try{d=document.execCommand("copy")}catch(a){d=!1}b.removeChild(e);c!=null&&c.focus();return d}function d(a){if(i)return j(a.textContent);var b=a.style.userSelect;a.style.userSelect="text";var c=window.getSelection(),d=null;c.rangeCount>0&&(d=c.getRangeAt(0));var e=document.createRange();e.selectNodeContents(a);c.removeAllRanges();c.addRange(e);try{document.execCommand("copy"),e=!0}catch(a){e=!1}c.removeAllRanges();d!==null&&c.addRange(d);a.style.userSelect=b;return e}function e(a){var c=window.navigator;if(c&&c.clipboard&&typeof c.clipboard.writeText==="function")return c.clipboard.writeText(a);return j(a)?(h||(h=b("Promise"))).resolve():(h||(h=b("Promise"))).reject()}g.isSupported=a;g.copy=j;g.copyDOM=d;g.copyAsync=e}),98);
__d("IGDSActionDialog.react",["IGDSDialogLegacy.react","IGDSTextVariants.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(26),e=a.ariaLabel,f=a.body,g=a.children,h=a.closeButtonPosition,j=a["data-testid"],k=a.disableMediaMargin,l=a.enablePopInAnimation,m=a.forceTop,n=a.forwardRef,o=a.isVisible,p=a.media,q=a.onModalClose,r=a.size;a=a.title;h=h===void 0?"hidden":h;m=m===void 0?!1:m;r=r===void 0?"default":r;var s=!!p,t=a!=null||f!=null,u;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x78zum5 xdt5ytf xl56j7k"},b[0]=u):u=b[0];var v;b[1]!==k||b[2]!==p?(v=p!=null&&i.jsx("div",babelHelpers["extends"]({},{0:{className:"x1qjc9v5 xl56j7k x1crbq5u xmp7c8h x19qqan6 xlep54o x14dv08r"},1:{className:"x1qjc9v5 xl56j7k xdj266r x14z9mp xat24cr x1lziwak x14l7nz5 x8z4y6v x1gut22 x1pwwqoy"}}[!!(k!=null)<<0],{children:p})),b[1]=k,b[2]=p,b[3]=v):v=b[3];b[4]!==f||b[5]!==s||b[6]!==t||b[7]!==a?(k=t&&i.jsxs("div",{"aria-level":"1",className:"x1crbq5u x5x8j7v x19qqan6 x1dol6g5 x2b8uid x14dv08r",role:"heading",children:[a!=null&&(s?i.jsx(d("IGDSTextVariants.react").IGDSTextHeadline2,{elementType:"h2",children:a}):i.jsx(d("IGDSTextVariants.react").IGDSTextTitle,{elementType:"h1",children:a})),f!=null&&i.jsx("div",{className:"xyamay9",children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",children:f})})]}),b[4]=f,b[5]=s,b[6]=t,b[7]=a,b[8]=k):k=b[8];b[9]!==g?(p=g!=null&&i.jsx("div",{className:"x78zum5 xdt5ytf x1crbq5u xvrdyt3 x179zr98",children:g}),b[9]=g,b[10]=p):p=b[10];b[11]!==j||b[12]!==v||b[13]!==k||b[14]!==p?(f=i.jsxs("div",babelHelpers["extends"]({},u,{"data-testid":void 0,children:[v,k,p]})),b[11]=j,b[12]=v,b[13]=k,b[14]=p,b[15]=f):f=b[15];b[16]!==e||b[17]!==h||b[18]!==l||b[19]!==m||b[20]!==n||b[21]!==o||b[22]!==q||b[23]!==r||b[24]!==f?(s=i.jsx(c("IGDSDialogLegacy.react"),{closeButtonPosition:h,enablePopInAnimation:l,forceTop:m,isVisible:o,label:e,onClose:q,ref:n,size:r,children:f}),b[16]=e,b[17]=h,b[18]=l,b[19]=m,b[20]=n,b[21]=o,b[22]=q,b[23]=r,b[24]=f,b[25]=s):s=b[25];return s}g["default"]=a}),98);
__d("IGDSDialogItem.react",["IGDSBox.react","IGDSSpinner.react","react","react-compiler-runtime","shouldUseIGDSPrismButton","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={item:{backgroundColor:"xjbqb8w",borderBottomWidth:"x1qhh985",borderInlineEndWidth:"x10w94by",borderInlineStartWidth:"x14e42zd",borderTopColor:"x1yvgwvq",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",cursor:"x1ypdohk",fontSize:"xvs91rp",lineHeight:"x1evy7pa",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",minHeight:"x1wxaq2x",paddingTop:"x1iorvi4",paddingInlineEnd:"xf159sx",paddingBottom:"xjkvuk6",paddingInlineStart:"xmzvs34",textAlign:"x2b8uid",userSelect:"x87ps6o",verticalAlign:"xxymvpz",width:"xh8yej3",":active_backgroundColor":"x52vrxo",":active_opacity":"x4gyw5p",$$css:!0},itemDanger:{color:"xkmlbd1",fontWeight:"x1xlr1w8",$$css:!0},itemDisabled:{color:"x1roi4f4",cursor:"xt0e3qv",$$css:!0},itemPrimary:{color:"x173jzuc",fontWeight:"x1xlr1w8",$$css:!0},itemPrimaryPrism:{color:"x1t4m9lo",fontWeight:"x1xlr1w8",$$css:!0},itemSecondary:{color:"x5n08af",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.children,f=a.color,g=a.disabled,i=a.forwardRef,l=a.loading,m=a.onClick,n=a.onMouseEnter;a=a.testid;f=f===void 0?"secondaryButton":f;g=g===void 0?!1:g;l=l===void 0?!1:l;var o;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=c("shouldUseIGDSPrismButton")(),b[0]=o):o=b[0];o=o;b[1]!==f||b[2]!==g?(o=(h||(h=c("stylex"))).props([k.item,f==="errorOrDestructive"&&k.itemDanger,f==="primaryButton"?o?k.itemPrimaryPrism:k.itemPrimary:void 0,f==="secondaryButton"&&k.itemSecondary,g&&k.itemDisabled]),b[1]=f,b[2]=g,b[3]=o):o=b[3];f=l||g;b[4]!==e||b[5]!==l?(g=l===!0?j.jsx(c("IGDSBox.react"),{alignItems:"center",children:j.jsx(c("IGDSSpinner.react"),{size:"small"})}):e,b[4]=e,b[5]=l,b[6]=g):g=b[6];b[7]!==i||b[8]!==m||b[9]!==n||b[10]!==o||b[11]!==f||b[12]!==g||b[13]!==a?(e=j.jsx("button",babelHelpers["extends"]({},o,{"data-testid":void 0,disabled:f,onClick:m,onMouseEnter:n,ref:i,tabIndex:0,children:g})),b[7]=i,b[8]=m,b[9]=n,b[10]=o,b[11]=f,b[12]=g,b[13]=a,b[14]=e):e=b[14];return e}function b(a){var b=d("react-compiler-runtime").c(3);a=a.children;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={className:"xjbqb8w xt0e3qv xvs91rp xdj266r x14z9mp xat24cr x1lziwak x1wxaq2x x1iorvi4 xf159sx xjkvuk6 xmzvs34 x2b8uid x87ps6o"},b[0]=c):c=b[0];b[1]!==a?(c=j.jsx("div",babelHelpers["extends"]({},c,{children:a})),b[1]=a,b[2]=c):c=b[2];return c}g.IGDSDialogItem=a;g.IGDSDialogSection=b}),98);
__d("IGDSConfirmDialog.react",["fbt","IGDSActionDialog.react","IGDSDialogItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(19),e=a.body,f=a.cancelLabel,g=a.confirmLabel,i=a.confirmLoading,k=a.destructiveConfirm,l=a.onClose,m=a.onConfirm,n=a.testid;a=a.title;var o;b[0]!==f?(o=f===void 0?h._(/*BTDS*/"Cancel"):f,b[0]=f,b[1]=o):o=b[1];f=o;b[2]!==g?(o=g===void 0?h._(/*BTDS*/"Okay"):g,b[2]=g,b[3]=o):o=b[3];g=o;o=k===void 0?!1:k;b[4]!==g||b[5]!==i||b[6]!==o||b[7]!==m?(k=m!=null&&g!=null&&j.jsx(d("IGDSDialogItem.react").IGDSDialogItem,{color:o?"errorOrDestructive":"primaryButton",loading:i,onClick:m,testid:void 0,children:g}),b[4]=g,b[5]=i,b[6]=o,b[7]=m,b[8]=k):k=b[8];b[9]!==f||b[10]!==l?(g=l!=null&&f!=null&&j.jsx(d("IGDSDialogItem.react").IGDSDialogItem,{onClick:l,testid:void 0,children:f}),b[9]=f,b[10]=l,b[11]=g):g=b[11];b[12]!==e||b[13]!==l||b[14]!==k||b[15]!==g||b[16]!==n||b[17]!==a?(i=j.jsxs(c("IGDSActionDialog.react"),{body:e,"data-testid":void 0,isVisible:!0,onModalClose:l,size:"default",title:a,children:[k,g]}),b[12]=e,b[13]=l,b[14]=k,b[15]=g,b[16]=n,b[17]=a,b[18]=i):i=b[18];return i}g["default"]=a}),226);
__d("IGDSSaveOutline96Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("circle",{cx:"48",cy:"48",fill:"none",r:"47",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),f=i.jsx("path",{d:"M66 68.685 49.006 51.657a1.42 1.42 0 0 0-2.012 0L30 68.685V27h36Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=e,b[1]=f):(e=b[0],f=b[1]);b[2]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 96 96",children:[e,f]})),b[2]=a,b[3]=e):e=b[3];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSTagUpOutline96Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e,f,g,h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("circle",{cx:"48",cy:"48",fill:"none",r:"47",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),f=i.jsx("path",{d:"M56.826 44.119a8.824 8.824 0 1 1-8.823-8.825 8.823 8.823 0 0 1 8.823 8.825Z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2"}),g=i.jsx("path",{d:"M63.69 67.999a9.038 9.038 0 0 0-9.25-8.998H41.56A9.038 9.038 0 0 0 32.31 68",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),h=i.jsx("path",{d:"M48 20.215c-2.94 0-7.125 8.76-11.51 8.785h-4.705A8.785 8.785 0 0 0 23 37.784v22.428a8.785 8.785 0 0 0 8.785 8.785h32.43A8.785 8.785 0 0 0 73 60.212V37.784A8.785 8.785 0 0 0 64.215 29h-4.704c-4.385-.026-8.57-8.785-11.511-8.785Z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2"}),b[0]=e,b[1]=f,b[2]=g,b[3]=h):(e=b[0],f=b[1],g=b[2],h=b[3]);b[4]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 96 96",children:[e,f,g,h]})),b[4]=a,b[5]=e):e=b[5];return e}b=i.memo(a);g["default"]=b}),98);
__d("useIGDSTextInputHideOutline",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState,k=!1,l="Tab",m={hide:{outline:"xzd0ubt",$$css:!0},root:{outline:"x12uuly6",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(6),b=j(k),c=b[0],e=b[1],f;a[0]!==c?(b=function(){function a(b){(b.code===l||b.key===l)&&(k=!0,e(k),document.removeEventListener("keydown",a))}c||document.addEventListener("keydown",a);return function(){document.removeEventListener("keydown",a)}},f=[c],a[0]=c,a[1]=b,a[2]=f):(b=a[1],f=a[2]);i(b,f);b=!c;f=b?m.hide:m.root;var g;a[3]!==b||a[4]!==f?(g=[b,f],a[3]=b,a[4]=f,a[5]=g):g=a[5];return g}g["default"]=a}),98);
__d("IGDSTextInput.react",["IGDSBox.react","IGDSTextVariants.react","UserAgentData","react","react-compiler-runtime","stylex","useIGDSTextInputHideOutline"],(function(a,b,c,d,e,f,g){"use strict";var aa=["ref","autoCapitalize","autoComplete","autoFocus","backgroundColor","disabled","endAdornment","hasError","height","hintText","id","inputMode","maxLength","name","onBlur","onChange","onFocus","onKeyDown","persistentLabelName","placeholder","readOnly","required","spellCheck","startAdornment","style","testid","type","validationState","value","xstyle"],h,i,j=i||(i=d("react")),ba=i.useState,ca={borderless:{borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",$$css:!0},inputFloat:{backgroundColor:"xjbqb8w",paddingInlineStart:"xmzvs34",paddingBottom:"x18d9i69",paddingInlineEnd:"xyri2b",paddingTop:"x96k8nx",":disabled_backgroundColor":"x1oqui1x",$$css:!0}},k={borderless:{borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",paddingInlineStart:"x106a9eq",$$css:!0},error:{borderTopColor:"xj1v7p2",borderInlineEndColor:"x163q4s8",borderBottomColor:"x1gcu4e2",borderInlineStartColor:"xvz9zrv",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4","::placeholder_color":"xordcmm",$$css:!0},pill:{borderTopColor:"x5ur3kl",borderInlineEndColor:"x6usi7g",borderBottomColor:"x1bs97v6",borderInlineStartColor:"x18dxpii",borderStartStartRadius:"x15dp1bm",borderStartEndRadius:"x1pg3x37",borderEndEndRadius:"xqi6p0a",borderEndStartRadius:"x102ru31",paddingInlineStart:"x106a9eq",$$css:!0},root:{borderTopColor:"x5ur3kl",borderInlineEndColor:"x6usi7g",borderBottomColor:"x1bs97v6",borderInlineStartColor:"x18dxpii",borderStartStartRadius:"x1lv5crc",borderStartEndRadius:"x1ojqjes",borderEndEndRadius:"x1mr1won",borderEndStartRadius:"xdy5mtz",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",color:"x5n08af",flexGrow:"x1iyjqo2",fontSize:"xvs91rp",lineHeight:"xklk4pu",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",overflowX:"x1plvlek",overflowY:"xryxfnj",paddingTop:"x1iorvi4",paddingInlineEnd:"xpdmqnj",paddingBottom:"xjkvuk6",paddingInlineStart:"x1g0dm76",":-webkit-autofill_transition":"x1s3xk63","::-webkit-inner-spin-button_height":"xlqc9nw","::-webkit-outer-spin-button_height":"x8tigb1","::-webkit-search-cancel-button_appearance":"x1ad04t7","::-webkit-search-decoration_appearance":"x1glnyev","::placeholder_color":"xs3hnx8","::placeholder_opacity":"x7xwk5j",":disabled_backgroundColor":"x1rheh84",":disabled_borderTopColor":"x1ck6gwh",":disabled_borderInlineEndColor":"xm4o3d5",":disabled_borderBottomColor":"x1meze4m",":disabled_borderInlineStartColor":"x1t1bzth",":disabled_color":"x1qt4tve",":disabled_cursor":"x1s07b3s",":focus_outline":"xkq2eht",":focus_outlineOffset":"x1rvh84u",$$css:!0},rootFocused:{borderTopColor:"x11f1dot",borderInlineEndColor:"x1lpj336",borderBottomColor:"x1ii8w9m",borderInlineStartColor:"x1c5q3k4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0},rootWithAdornment:{borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",paddingTop:"x1iorvi4",paddingInlineEnd:"xrw5ot4",paddingBottom:"xjkvuk6",paddingInlineStart:"x7coems",width:"xh8yej3",":focus_borderTopStyle":"x1jguvu7",":focus_borderInlineEndStyle":"x14yaztv",":focus_borderBottomStyle":"xygx6cg",":focus_borderInlineStartStyle":"x1g4dfn0",":focus_outline":"x1uvtmcs",$$css:!0}},da={root:{":disabled_color":"x2bbx33",$$css:!0}},l={borderless:{borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",$$css:!0},disabled:{backgroundColor:"x19g9edo",borderTopColor:"x5ur3kl",borderInlineEndColor:"x6usi7g",borderBottomColor:"x1bs97v6",borderInlineStartColor:"x18dxpii",color:"x1roi4f4",cursor:"x1h6gzvc",$$css:!0},error:{borderTopColor:"xj1v7p2",borderInlineEndColor:"x163q4s8",borderBottomColor:"x1gcu4e2",borderInlineStartColor:"xvz9zrv",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0},pill:{borderTopColor:"x5ur3kl",borderInlineEndColor:"x6usi7g",borderBottomColor:"x1bs97v6",borderInlineStartColor:"x18dxpii",borderStartStartRadius:"x15dp1bm",borderStartEndRadius:"x1pg3x37",borderEndEndRadius:"xqi6p0a",borderEndStartRadius:"x102ru31",paddingInlineStart:"x1iwz3mf",$$css:!0},root:{alignItems:"x6s0dn4",borderTopColor:"x5ur3kl",borderInlineEndColor:"x6usi7g",borderBottomColor:"x1bs97v6",borderInlineStartColor:"x18dxpii",borderStartStartRadius:"x1lv5crc",borderStartEndRadius:"x1ojqjes",borderEndEndRadius:"x1mr1won",borderEndStartRadius:"xdy5mtz",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",display:"x78zum5",flexGrow:"x1iyjqo2",height:"xg7h5cd",justifyContent:"x1qughib",paddingInlineEnd:"xf159sx",position:"x1n2onr6",$$css:!0},rootFocused:{borderTopColor:"x11f1dot",borderInlineEndColor:"x1lpj336",borderBottomColor:"x1ii8w9m",borderInlineStartColor:"x1c5q3k4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",outline:"xtjps4z",outlineOffset:"x2ssjo2",$$css:!0},warning:{borderTopColor:"x1rclf1i",borderInlineEndColor:"x15u35ps",borderBottomColor:"xbb4h0s",borderInlineStartColor:"xg0v2pu",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0}},ea={highlightBackground:{backgroundColor:"x19g9edo",$$css:!0},secondaryBackground:{backgroundColor:"xnz67gz",$$css:!0},transparent:{backgroundColor:"xjbqb8w",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(112),e,f,g,i,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M;b[0]!==a?(C=a.ref,f=a.autoCapitalize,g=a.autoComplete,i=a.autoFocus,G=a.backgroundColor,m=a.disabled,n=a.endAdornment,o=a.hasError,p=a.height,q=a.hintText,r=a.id,s=a.inputMode,t=a.maxLength,u=a.name,v=a.onBlur,w=a.onChange,x=a.onFocus,y=a.onKeyDown,z=a.persistentLabelName,A=a.placeholder,B=a.readOnly,D=a.required,E=a.spellCheck,F=a.startAdornment,H=a.style,I=a.testid,J=a.type,K=a.validationState,L=a.value,M=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,aa),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=m,b[6]=n,b[7]=o,b[8]=p,b[9]=q,b[10]=r,b[11]=s,b[12]=t,b[13]=u,b[14]=v,b[15]=w,b[16]=x,b[17]=y,b[18]=z,b[19]=A,b[20]=B,b[21]=C,b[22]=D,b[23]=E,b[24]=F,b[25]=G,b[26]=H,b[27]=I,b[28]=J,b[29]=K,b[30]=L,b[31]=M):(e=b[1],f=b[2],g=b[3],i=b[4],m=b[5],n=b[6],o=b[7],p=b[8],q=b[9],r=b[10],s=b[11],t=b[12],u=b[13],v=b[14],w=b[15],x=b[16],y=b[17],z=b[18],A=b[19],B=b[20],C=b[21],D=b[22],E=b[23],F=b[24],G=b[25],H=b[26],I=b[27],J=b[28],K=b[29],L=b[30],M=b[31]);a=G===void 0?"secondaryBackground":G;G=H===void 0?"regular":H;H=ba(!1);var ga=H[0],ha=H[1];H=c("useIGDSTextInputHideOutline")();H=H[1];var N;b[32]!==v?(N=function(a){ha(!1),v&&v(a)},b[32]=v,b[33]=N):N=b[33];N=N;var O;b[34]!==x?(O=function(a){ha(!0),x&&x(a)},b[34]=x,b[35]=O):O=b[35];O=O;var P=n!=null||F!=null||z!=null;K=K!=null?K:"CORRECT";o===!0&&(K="ERROR");b[36]!==K?(o={0:{className:"x18l2ej8 xz9dl7a x6s0dn4 x1roi4f4 x1fhwpqd x1fcty0u x1gslohp x19dbzi3 x12nagc x1y3qizg x6ikm8r x10wlt62 x47corl x10l6tqk xlyipyv x13vifvy x19w6rv xk1frcx xuxw1ft"},1:{className:"x18l2ej8 xz9dl7a x6s0dn4 x1fhwpqd x1fcty0u x1gslohp x19dbzi3 x12nagc x1y3qizg x6ikm8r x10wlt62 x47corl x10l6tqk xlyipyv x13vifvy x19w6rv xk1frcx xuxw1ft x1a1m0xk"}}[!!(K==="ERROR")<<0],b[36]=K,b[37]=o):o=b[37];var Q=L.length>0&&z,R;b[38]!==o||b[39]!==Q?(R=j.jsx("span",babelHelpers["extends"]({},o,{children:Q})),b[38]=o,b[39]=Q,b[40]=R):R=b[40];o=R;b[41]===Symbol["for"]("react.memo_cache_sentinel")?(Q={className:"x1y1aw1k"},b[41]=Q):Q=b[41];b[42]!==q?(R=j.jsx("div",babelHelpers["extends"]({},Q,{children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",children:q})})),b[42]=q,b[43]=R):R=b[43];Q=R;R=K==="CORRECT"&&ga&&k.rootFocused;var S=P&&k.rootWithAdornment,T=K==="ERROR"&&k.error,U=!P&&G==="pill"&&k.pill,V=!P&&G==="borderless"&&k.borderless,W=P&&ca.borderless,X=ea[a],Y=z!=null&&L.length>0&&ca.inputFloat,Z=z!=null&&ea.transparent,$;b[44]!==H||b[45]!==R||b[46]!==S||b[47]!==T||b[48]!==U||b[49]!==V||b[50]!==W||b[51]!==X||b[52]!==Y||b[53]!==Z||b[54]!==M?($=(h||(h=c("stylex")))(k.root,R,S,T,U,V,W,X,H,Y,Z,(c("UserAgentData").platformName==="iOS"||c("UserAgentData").browserName==="Safari")&&da.root,M),b[44]=H,b[45]=R,b[46]=S,b[47]=T,b[48]=U,b[49]=V,b[50]=W,b[51]=X,b[52]=Y,b[53]=Z,b[54]=M,b[55]=$):$=b[55];R=E===!1?"false":"true";b[56]!==P||b[57]!==p?(S=P?void 0:{height:p},b[56]=P,b[57]=p,b[58]=S):S=b[58];T=J||"text";b[59]!==e||b[60]!==f||b[61]!==g||b[62]!==i||b[63]!==m||b[64]!==N||b[65]!==O||b[66]!==r||b[67]!==s||b[68]!==t||b[69]!==u||b[70]!==w||b[71]!==y||b[72]!==A||b[73]!==B||b[74]!==C||b[75]!==D||b[76]!==$||b[77]!==R||b[78]!==S||b[79]!==T||b[80]!==I||b[81]!==L?(U=j.jsx("input",babelHelpers["extends"]({},e,{autoCapitalize:f,autoComplete:g,autoFocus:i,className:$,"data-testid":void 0,disabled:m,id:r,inputMode:s,maxLength:t,name:u,onBlur:N,onChange:w,onClick:fa,onFocus:O,onKeyDown:y,placeholder:A,readOnly:B,ref:C,required:D,spellCheck:R,style:S,type:T,value:L})),b[59]=e,b[60]=f,b[61]=g,b[62]=i,b[63]=m,b[64]=N,b[65]=O,b[66]=r,b[67]=s,b[68]=t,b[69]=u,b[70]=w,b[71]=y,b[72]=A,b[73]=B,b[74]=C,b[75]=D,b[76]=$,b[77]=R,b[78]=S,b[79]=T,b[80]=I,b[81]=L,b[82]=U):U=b[82];V=U;if(P){W=K==="CORRECT"&&ga&&l.rootFocused;X=K==="WARN"&&l.warning;Y=K==="ERROR"&&l.error;Z=ea[a];E=m===!0&&l.disabled;J=G==="pill"&&l.pill;e=G==="borderless"&&l.borderless;b[83]!==H||b[84]!==W||b[85]!==X||b[86]!==Y||b[87]!==Z||b[88]!==E||b[89]!==J||b[90]!==e||b[91]!==M?(f=(h||(h=c("stylex")))(l.root,W,X,Y,Z,E,J,e,H,M),b[83]=H,b[84]=W,b[85]=X,b[86]=Y,b[87]=Z,b[88]=E,b[89]=J,b[90]=e,b[91]=M,b[92]=f):f=b[92];b[93]!==p?(g={height:p},b[93]=p,b[94]=g):g=b[94];b[95]!==V||b[96]!==z||b[97]!==o?(i=z!=null?j.jsxs("div",{className:"x16wdlz0 xf159sx x1n2onr6 xh8yej3 x1rheh84 x1ck6gwh xm4o3d5 x1meze4m x1t1bzth x1qt4tve x1s07b3s xjbqb8w",children:[V,o]}):V,b[95]=V,b[96]=z,b[97]=o,b[98]=i):i=b[98];b[99]!==n||b[100]!==r||b[101]!==F||b[102]!==f||b[103]!==g||b[104]!==i?(N=j.jsxs("label",{className:f,htmlFor:r,style:g,children:[F,i,n]}),b[99]=n,b[100]=r,b[101]=F,b[102]=f,b[103]=g,b[104]=i,b[105]=N):N=b[105];O=q!=null&&Q;b[106]!==N||b[107]!==O?(s=j.jsxs(c("IGDSBox.react"),{flex:"grow",children:[N,O]}),b[106]=N,b[107]=O,b[108]=s):s=b[108];return s}else{t=q!=null&&Q;b[109]!==V||b[110]!==t?(u=j.jsxs(j.Fragment,{children:[V,t]}),b[109]=V,b[110]=t,b[111]=u):u=b[111];return u}}function fa(a){return a.preventDefault()}g["default"]=a}),98);
__d("PolarisPostBlockConfirmDialog.react",["fbt","IGDSConfirmDialog.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.isBlockedByViewer,f=a.onClose;a=a.username;var g;b[0]!==e||b[1]!==a?(g=e?h._(/*BTDS*/"Blocked {Username of current profile}.",[h._param("Username of current profile",a)]):h._(/*BTDS*/"Unblocked {Username of current profile}.",[h._param("Username of current profile",a)]),b[0]=e,b[1]=a,b[2]=g):g=b[2];a=g;b[3]!==e?(g=e?h._(/*BTDS*/"You can unblock them anytime from their profile."):h._(/*BTDS*/"You can block them anytime from their profile."),b[3]=e,b[4]=g):g=b[4];e=g;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Dismiss"),b[5]=g):g=b[5];b[6]!==e||b[7]!==a||b[8]!==f?(g=j.jsx(c("IGDSConfirmDialog.react"),{body:e,cancelLabel:g,onClose:f,testid:void 0,title:a}),b[6]=e,b[7]=a,b[8]=f,b[9]=g):g=b[9];return g}g["default"]=a}),226);
__d("PolarisPreBlockConfirmDialog.react",["fbt","IGDSConfirmDialog.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.isBlockedByViewer,f=a.onClose,g=a.onConfirm;a=a.username;var i;b[0]!==e||b[1]!==a?(i=e?h._(/*BTDS*/"Unblock {Username of current profile}?",[h._param("Username of current profile",a)]):h._(/*BTDS*/"Block {Username of current profile}?",[h._param("Username of current profile",a)]),b[0]=e,b[1]=a,b[2]=i):i=b[2];a=i;b[3]!==e?(i=e?h._(/*BTDS*/"They will now be able to see your posts and follow you on Instagram. Instagram won't let them know you unblocked them."):h._(/*BTDS*/"They won't be able to find your profile, posts or story on Instagram. Instagram won't let them know you blocked them."),b[3]=e,b[4]=i):i=b[4];i=i;var k;b[5]!==e?(k=e?h._(/*BTDS*/"Unblock"):h._(/*BTDS*/"Block"),b[5]=e,b[6]=k):k=b[6];e=k;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"Cancel"),b[7]=k):k=b[7];b[8]!==i||b[9]!==e||b[10]!==a||b[11]!==f||b[12]!==g?(k=j.jsx(c("IGDSConfirmDialog.react"),{body:i,cancelLabel:k,confirmLabel:e,destructiveConfirm:!0,onClose:f,onConfirm:g,testid:void 0,title:a}),b[8]=i,b[9]=e,b[10]=a,b[11]=f,b[12]=g,b[13]=k):k=b[13];return k}g["default"]=a}),226);
__d("PolarisSupervisionStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";e=h._(/*BTDS*/"Family Center");f=h._(/*BTDS*/"Education Hub");function a(a){return h._(/*BTDS*/"You can't block {Username of current profile} because you supervise their account.",[h._param("Username of current profile",a)])}function b(a){return h._(/*BTDS*/"To block {Username of current profile}, you'll need to remove them from supervision.",[h._param("Username of current profile",a)])}function c(a){return h._(/*BTDS*/"You can't block {Username of current profile} because they supervise your account.",[h._param("Username of current profile",a)])}function d(a){return h._(/*BTDS*/"To block {Username of current profile}, you'll need to remove them from supervision using the Instagram app.",[h._param("Username of current profile",a)])}var i=h._(/*BTDS*/"Go to Family Center"),j=h._(/*BTDS*/"Go to supervision"),k=h._(/*BTDS*/"You need to remove supervision first"),l=h._(/*BTDS*/"You can't block this account");g.FAMILY_CENTER_LABEL=e;g.EDUCATION_HUB_LABEL=f;g.getCantBlockDialogBodyForGuardianUpdated=a;g.getCantBlockDialogBodyForGuardian=b;g.getCantBlockDialogBodyForSupervisedUserUpdated=c;g.getCantBlockDialogBodyForSupervisedUser=d;g.NAVIGATE_TO_FC_BUTTON_TEXT=i;g.NAVIGATE_TO_SUPERVISION_BUTTON_TEXT=j;g.CANT_BLOCK_DIALOG_TITLE=k;g.CANT_BLOCK_DIALOG_TITLE_UPDATED=l}),226);
__d("PolarisRemoveSupervisionDialog.react",["fbt","IGDSActionDialog.react","IGDSDialogItem.react","PolarisNavigationUtils","PolarisSupervisionStrings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){return"https://familycenter.instagram.com/accounts/"+a+"/remove"}function k(a){return"https://familycenter.instagram.com/accounts/"+a+"/?account_type=INSTAGRAM"}function b(a){var b=d("react-compiler-runtime").c(15),e=a.onClose,f=a.supervisedByViewer,g=a.userFbId;a=a.username;var i;b[0]!==f||b[1]!==a?(i=f?d("PolarisSupervisionStrings").getCantBlockDialogBodyForGuardianUpdated(a):d("PolarisSupervisionStrings").getCantBlockDialogBodyForSupervisedUserUpdated(a),b[0]=f,b[1]=a,b[2]=i):i=b[2];f=i;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"OK"),b[3]=a):a=b[3];i=a;a=e;var l;b[4]!==g?(l=k(g),b[4]=g,b[5]=l):l=b[5];var m=l;b[6]!==a?(g=a!=null&&i!=null&&j.jsx(d("IGDSDialogItem.react").IGDSDialogItem,{color:"primaryButton",onClick:a,testid:void 0,children:i}),b[6]=a,b[7]=g):g=b[7];b[8]!==m?(l=j.jsx(d("IGDSDialogItem.react").IGDSDialogItem,{onClick:function(){return d("PolarisNavigationUtils").openURLWithFullPageReload(m,{openInNewTab:!0})},testid:void 0,children:d("PolarisSupervisionStrings").NAVIGATE_TO_FC_BUTTON_TEXT}),b[8]=m,b[9]=l):l=b[9];b[10]!==f||b[11]!==e||b[12]!==g||b[13]!==l?(i=j.jsxs(c("IGDSActionDialog.react"),{body:f,isVisible:!0,onModalClose:e,size:"default",title:d("PolarisSupervisionStrings").CANT_BLOCK_DIALOG_TITLE_UPDATED,children:[g,l]}),b[10]=f,b[11]=e,b[12]=g,b[13]=l,b[14]=i):i=b[14];return i}g.getRemoveSupervisionUrl=a;g.getGoToFamilyCenterURL=k;g.RemoveSupervisionDialog=b}),226);
__d("PolarisBlockDialog.react",["PolarisPostBlockConfirmDialog.react","PolarisPreBlockConfirmDialog.react","PolarisRemoveSupervisionDialog.react","Promise","QPLUserFlow","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useState;function a(a){var e=d("react-compiler-runtime").c(21),f=a.guardianOfViewer,g=a.isBlockedByViewer,i=a.onBlockUser,m=a.onClose,n=a.onUnblockUser,o=a.supervisedByViewer,p=a.userFbId,q=a.userId;a=a.username;var r=k(!1),s=r[0],t=r[1];e[0]!==m?(r=function(){t(!1),m()},e[0]=m,e[1]=r):r=e[1];var u=r;e[2]!==g||e[3]!==i||e[4]!==u||e[5]!==n||e[6]!==q?(r=function(){var a=g?c("qpl")._(379204232,"1261"):c("qpl")._(379192731,"1257");c("QPLUserFlow").addPoint(a,"block_dialog_action_confirmed");a=g?n(q,"reportModal"):i(q,"reportModal");(h||(h=b("Promise"))).resolve(a).then(function(){t(!0)})["catch"](function(){u()})},e[2]=g,e[3]=i,e[4]=u,e[5]=n,e[6]=q,e[7]=r):r=e[7];r=r;var v=l;if(f||o){e[8]!==m||e[9]!==o||e[10]!==p||e[11]!==a?(f=j.jsx(d("PolarisRemoveSupervisionDialog.react").RemoveSupervisionDialog,{onClose:m,supervisedByViewer:o,userFbId:p,username:a}),e[8]=m,e[9]=o,e[10]=p,e[11]=a,e[12]=f):f=e[12];return f}if(s){e[13]!==g||e[14]!==a?(o=j.jsx(c("PolarisPostBlockConfirmDialog.react"),{isBlockedByViewer:g,onClose:v,username:a}),e[13]=g,e[14]=a,e[15]=o):o=e[15];return o}e[16]!==g||e[17]!==u||e[18]!==r||e[19]!==a?(p=j.jsx(c("PolarisPreBlockConfirmDialog.react"),{isBlockedByViewer:g,onClose:u,onConfirm:r,username:a}),e[16]=g,e[17]=u,e[18]=r,e[19]=a,e[20]=p):p=e[20];return p}function l(){window.location.reload()}g["default"]=a}),98);
__d("PolarisDirectActionBlockDirectUser",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){return b({type:"DIRECT_BLOCK_USER",userId:a})}}f.blockDirectUser=a}),66);
__d("PolarisRelationshipActionBlockUser",["fbt","PolarisDirectActionBlockDirectUser","PolarisGenericStrings","PolarisInteractionsStrings","PolarisRelationshipTypes","PolarisSharedAPI","PolarisToastActions","QPLUserFlow","polarisLogAction","polarisRelationshipSelectors.react","qpl"],(function(a,b,c,d,e,f,g,h){"use strict";var i=h._(/*BTDS*/"Unable to block user - you are the guardian of the user you are trying to block."),j=h._(/*BTDS*/"Unable to block user - you are being supervised by the user you are trying to block."),k=h._(/*BTDS*/"To block, you'll need to remove supervision first.");function a(a,b){return function(e,f){c("polarisLogAction")("blockUserAttempt",{source:b});f=d("polarisRelationshipSelectors.react").getRelationship(f().relationships,a);f=f.followedByViewer;var g=f.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING;e({subjectUserId:a,type:"BLOCK_USER",wasFollowedByViewer:g});return d("PolarisSharedAPI").blockUser(a).then(function(){c("polarisLogAction")("blockUserSuccess",{source:b}),e({subjectUserId:a,type:"BLOCK_USER_SUCCEEDED",wasFollowedByViewer:g}),e(d("PolarisDirectActionBlockDirectUser").blockDirectUser(a)),e(d("PolarisToastActions").showToast({text:d("PolarisInteractionsStrings").BLOCK_TEXT})),c("QPLUserFlow").endSuccess(c("qpl")._(379192731,"1257"))},function(f){var g;c("polarisLogAction")("blockUserFailure",{source:b});c("QPLUserFlow").endFailure(c("qpl")._(379192731,"1257"),"api_errored");g=(g=f.responseObject)==null?void 0:g.message;g=g===i||g===j?k:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE;e(d("PolarisToastActions").showToast({text:g}));e({subjectUserId:a,type:"BLOCK_USER_FAILED"});throw f})}}g.blockUser=a}),226);
__d("PolarisDirectActionUnblockDirectUser",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){return b({type:"DIRECT_UNBLOCK_USER",userId:a})}}f.unblockDirectUser=a}),66);
__d("PolarisRelationshipActionUnblockUser",["PolarisDirectActionUnblockDirectUser","PolarisInteractionsStrings","PolarisSharedAPI","PolarisToastActions","QPLUserFlow","polarisLogAction","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return function(e){c("polarisLogAction")("unblockUserAttempt",{source:b});e({subjectUserId:a,type:"UNBLOCK_USER"});return d("PolarisSharedAPI").unblockUser(a).then(function(){c("polarisLogAction")("unblockUserSuccess",{source:b}),e({subjectUserId:a,type:"UNBLOCK_USER_SUCCEEDED"}),e(d("PolarisDirectActionUnblockDirectUser").unblockDirectUser(a)),e(d("PolarisToastActions").showToast({text:d("PolarisInteractionsStrings").UNBLOCK_TEXT})),c("QPLUserFlow").endSuccess(c("qpl")._(379204232,"1261"))},function(){c("polarisLogAction")("unblockUserFailure",{source:b}),c("QPLUserFlow").endFailure(c("qpl")._(379204232,"1261"),"api_errored"),e({subjectUserId:a,type:"UNBLOCK_USER_SUCCEEDED"}),e(d("PolarisDirectActionUnblockDirectUser").unblockDirectUser(a))})}}g.unblockUser=a}),98);
__d("PolarisBlockDialogContainer.react",["PolarisBlockDialog.react","PolarisReactRedux.react","PolarisRelationshipActionBlockUser","PolarisRelationshipActionUnblockUser","polarisRelationshipSelectors.react","polarisUserSelectors"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=b.fbidV2,e=b.relationship,f=b.userId;c=c!=null?c:d("polarisUserSelectors").getUserByIdOrThrows(a,f).fbid;return{guardianOfViewer:d("polarisRelationshipSelectors.react").guardianOfViewer(e),isBlockedByViewer:d("polarisRelationshipSelectors.react").isBlockedByViewer(e),supervisedByViewer:d("polarisRelationshipSelectors.react").supervisedByViewer(e),userFbId:c,username:b.username}}function b(a){return{onBlockUser:function(b,c){return a(d("PolarisRelationshipActionBlockUser").blockUser(b,c))},onUnblockUser:function(b,c){return a(d("PolarisRelationshipActionUnblockUser").unblockUser(b,c))}}}e=d("PolarisReactRedux.react").connect(a,b)(c("PolarisBlockDialog.react"));g["default"]=e}),98);
__d("PolarisIGCoreTabV2.react",["IGDSTextVariants.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.children;var c;b[0]!==a?(c=i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"link",textAlign:"center",children:a}),b[0]=a,b[1]=c):c=b[1];return c}g["default"]=a}),98);
__d("PolarisIGCoreTabsV2.react",["cx","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","IGRouter_DO_NOT_USE.react","PolarisIGCorePressable.react","PolarisIGCoreTabV2.react","PolarisUA","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState;function l(a){var b=d("react-compiler-runtime").c(14),e=a.borderless,f=a.children,g=a.selectedIndex,h=a.setSelectedIndex,i=a.size,k=d("IGRouter_DO_NOT_USE.react").useIGHistory();a="_acbs"+(i==="small"?" _acbt":"")+(Boolean(e)?" _acbu":"");if(b[0]!==f||b[1]!==k||b[2]!==g||b[3]!==h||b[4]!==i){b[6]!==k||b[7]!==g||b[8]!==h||b[9]!==i?(e=function(a,b){if(!a||typeof a==="boolean")return null;var e=b===g;return j.jsx(c("PolarisIGCorePressable.react"),{className:"_acbv"+(i==="large"?" _acbw":"")+(i==="large"&&d("PolarisUA").isDesktop()?" _acbx":"")+(e?" _acby":"")+(e&&i==="small"?" _acbz":""),onPress:function(){if(g!==b){h(b);var d=c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).props.path;d!=null&&k.replace(d,{})}},role:"tab",children:j.cloneElement(a,{})})},b[6]=k,b[7]=g,b[8]=h,b[9]=i,b[10]=e):e=b[10];e=j.Children.map(f,e);b[0]=f;b[1]=k;b[2]=g;b[3]=h;b[4]=i;b[5]=e}else e=b[5];b[11]!==a||b[12]!==e?(f=j.jsx("div",{className:a,role:"tablist",children:e}),b[11]=a,b[12]=e,b[13]=f):f=b[13];return f}function m(a){var b=d("react-compiler-runtime").c(5),e=a.children,f=a.selectedIndex;if(b[0]!==e||b[1]!==f){b[3]!==f?(a=function(a,b){if(!a||typeof a==="boolean")return null;a=c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).props.node;if(f!==b)return null;if(a!=null)return a},b[3]=f,b[4]=a):a=b[4];a=j.Children.map(e,a);b[0]=e;b[1]=f;b[2]=a}else a=b[2];return a}function a(a){var b=d("react-compiler-runtime").c(14),c=a.borderless,e=a.children;a=a.size;c=c===void 0?!1:c;a=a===void 0?"large":a;var f=k(0),g=f[0];f=f[1];if(e==null)return null;var h;b[0]!==e?(h=j.Children.toArray(e).reduce(n,0),b[0]=e,b[1]=h):h=b[1];h=h;b[2]!==c||b[3]!==e||b[4]!==g||b[5]!==a||b[6]!==h?(f=h>1&&j.jsx(l,{borderless:c,selectedIndex:g,setSelectedIndex:f,size:a,children:e}),b[2]=c,b[3]=e,b[4]=g,b[5]=a,b[6]=h,b[7]=f):f=b[7];b[8]!==e||b[9]!==g?(c=j.jsx(m,{selectedIndex:g,children:e}),b[8]=e,b[9]=g,b[10]=c):c=b[10];b[11]!==f||b[12]!==c?(a=j.jsxs(j.Fragment,{children:[f,c]}),b[11]=f,b[12]=c,b[13]=a):a=b[13];return a}function n(a,b){return(b==null?void 0:b.type)===c("PolarisIGCoreTabV2.react")?a+1:a}g["default"]=a}),98);
__d("PolarisLoggedOutLoginOrSignupRow.react",["IGDSBox.react","IGDSTextVariants.react","PolarisAuthStrings","PolarisFastLink.react","PolarisLinkBuilder","PolarisLoggedOutCtaClickLogger","PolarisLoggedOutLoginButton.react","PolarisLoggedOutUpsellExposureV2","PolarisNavigationReferrerUrlSession","react","react-compiler-runtime","useCometRouterState","usePolarisPageID"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(26),e=a.color,f=a.ctaTypeV2,g=a.loginReturnPath,h=a.loginSource,j=a.marginBottom,k=a.marginEnd,l=a.marginStart;a=a.marginTop;e=e===void 0?"primaryButton":e;var m=c("usePolarisPageID")(),n=c("useCometRouterState")();j=j!=null?j:3;a=a!=null?a:3;var o;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h?(o=i.jsx(c("PolarisLoggedOutLoginButton.react"),{color:e,ctaTypeV2:f,loginReturnPath:g,loginSource:h,variant:"primary_link"}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=o):o=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginEnd:1,marginStart:1,children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",children:d("PolarisAuthStrings").OR})}),b[5]=g):g=b[5];var p;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(p=d("PolarisLinkBuilder").buildSignupLink(),b[6]=p):p=b[6];var q;b[7]!==f||b[8]!==h||b[9]!==m||b[10]!==n?(q=function(){d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("signup",f,m,{},h),n!=null&&d("PolarisNavigationReferrerUrlSession").setCurrentUrlInformation(n,m)},b[7]=f,b[8]=h,b[9]=m,b[10]=n,b[11]=q):q=b[11];var r;b[12]!==e?(r=i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:e,textAlign:"center",children:d("PolarisAuthStrings").SIGN_UP_BUTTON_TEXT_LOWER_CASE}),b[12]=e,b[13]=r):r=b[13];b[14]!==q||b[15]!==r?(e=i.jsx(c("PolarisFastLink.react"),{"data-testid":void 0,display:"inline",href:p,onClick:q,prefetchQueriesOnMount_I_KNOW_WHAT_IM_DOING:c("PolarisLoggedOutUpsellExposureV2").xplatform.enable_faster_nav_for_cta,preloadCodeOnMount:c("PolarisLoggedOutUpsellExposureV2").xplatform.enable_faster_nav_for_cta,children:r}),b[14]=q,b[15]=r,b[16]=e):e=b[16];b[17]!==o||b[18]!==e?(p=i.jsxs(d("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:[o,g,e]}),b[17]=o,b[18]=e,b[19]=p):p=b[19];b[20]!==k||b[21]!==l||b[22]!==p||b[23]!==j||b[24]!==a?(q=i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",marginBottom:j,marginEnd:k,marginStart:l,marginTop:a,minHeight:18,width:"100%",children:p}),b[20]=k,b[21]=l,b[22]=p,b[23]=j,b[24]=a,b[25]=q):q=b[25];return q}g["default"]=a}),98);
__d("PolarisNewsCountryBlock.react",["fbt","IGDSBox.react","IGDSNewsOffOutlineIcon.react","PolarisAdvisoryMessage.react","PolarisExternalLink.react","SableNewsEventFalcoEvent","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect,l="https://help.instagram.com/273556485011659?ref=ipl",m="https://help.instagram.com/969434367391841?ref=ipl";function a(a){var b=d("react-compiler-runtime").c(12),e=a.isOwnProfile,f=a.userID,g=c("usePolarisViewer")();b[0]!==f||b[1]!==(g==null?void 0:g.id)||b[2]!==(g==null?void 0:g.isRegulatedC18)?(a=function(){c("SableNewsEventFalcoEvent").log(function(){var a;return{account_viewed_id:f,event_name:"publisher_profile_block",ig_user_id:(a=g==null?void 0:g.id)!=null?a:"0",viewer_is_regulated_c18:(g==null?void 0:g.isRegulatedC18)===!0}})},b[0]=f,b[1]=g==null?void 0:g.id,b[2]=g==null?void 0:g.isRegulatedC18,b[3]=a):a=b[3];var i=g==null?void 0:g.id,n=g==null?void 0:g.isRegulatedC18,o;b[4]!==i||b[5]!==n||b[6]!==f?(o=[f,i,n],b[4]=i,b[5]=n,b[6]=f,b[7]=o):o=b[7];k(a,o);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("IGDSBox.react"),{marginBottom:3,children:j.jsx(c("IGDSNewsOffOutlineIcon.react"),{alt:"Icon indicating that news is disabled",size:32})}),n="x11gisft x11njtxf",b[8]=i,b[9]=n):(i=b[8],n=b[9]);b[10]!==e?(a=j.jsxs(c("PolarisAdvisoryMessage.react"),{children:[i,j.jsx("h2",{className:n,children:e?h._(/*BTDS*/"People in Canada can\u2019t see your content"):h._(/*BTDS*/"People in Canada can\u2019t see this content")}),j.jsx("p",{children:e?h._(/*BTDS*/"Content from news publications can\u2019t be viewed in Canada in response to Canadian government legislation. {=m2}",[h._implicitParam("=m2",j.jsx(c("PolarisExternalLink.react"),{href:m,children:h._(/*BTDS*/"Learn more")}))]):h._(/*BTDS*/"In response to Canadian government legislation, news content can\u2019t be viewed in Canada. {=m2}",[h._implicitParam("=m2",j.jsx(c("PolarisExternalLink.react"),{href:l,children:h._(/*BTDS*/"Learn more")}))])})]}),b[10]=e,b[11]=a):a=b[11];return a}g["default"]=a}),226);
__d("PolarisProfileEmptyStateStrings",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||d("react");a=h._(/*BTDS*/"No Photos");b=h._(/*BTDS*/"Photos of you");c=h._(/*BTDS*/"When people tag you in photos, they'll appear here.");e=h._(/*BTDS*/"Save");f=h._(/*BTDS*/"Save photos and videos that you want to see again. No one is notified, and only you can see what you've saved.");d=h._(/*BTDS*/"All the posts and items you've saved will show up here.");var j=h._(/*BTDS*/"Start Saving"),k=h._(/*BTDS*/"Save photos and videos to your collection."),l=h._(/*BTDS*/"Add to collection"),m=h._(/*BTDS*/"Share Photos"),n=h._(/*BTDS*/"When you share photos, they will appear on your profile.");h=h._(/*BTDS*/"Share your first photo");g.EMPTY_TAGGED_NO_PHOTOS_HEADER=a;g.EMPTY_TAGGED_PHOTOS_OF_YOU_HEADER=b;g.EMPTY_TAGGED_BODY=c;g.EMPTY_SAVE_HEADER=e;g.EMPTY_SAVE_BODY=f;g.EMPTY_SAVE_BODY_UPDATED=d;g.EMPTY_SAVED_COLLECTION_HEADER=j;g.EMPTY_SAVED_COLLECTION_BODY=k;g.EMPTY_SAVED_COLLECTION_CTA=l;g.EMPTY_SHARE_PHOTOS_HEADER=m;g.EMPTY_SHARE_PHOTOS_TEXT=n;g.EMPTY_SHARE_PHOTOS_LINK=h}),226);
__d("PolarisProfileEmptyStateTypes",["fbt","$InternalEnum","IGDSCameraOutline96Icon.react","IGDSSaveOutline96Icon.react","IGDSTagUpOutline96Icon.react","PolarisNewUserActivatorsStrings","PolarisProfileEmptyStateStrings","PolarisUA","justknobx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;a=i||d("react");e=b("$InternalEnum").Mirrored(["OWN_PROFILE_TAGGED","PHOTOS","SAVE","SAVED_COLLECTION","TAGGED"]);f=62;b=h._(/*BTDS*/"Save");h=h._(/*BTDS*/"Photos of you");var j={bodyText:c("justknobx")._("1929")?d("PolarisProfileEmptyStateStrings").EMPTY_SAVE_BODY_UPDATED:d("PolarisProfileEmptyStateStrings").EMPTY_SAVE_BODY,headerText:d("PolarisProfileEmptyStateStrings").EMPTY_SAVE_HEADER,icon:a.jsx(c("IGDSSaveOutline96Icon.react"),{alt:b,size:f})};b={bodyText:d("PolarisProfileEmptyStateStrings").EMPTY_SAVED_COLLECTION_BODY,buttonText:d("PolarisUA").isDesktop()?d("PolarisProfileEmptyStateStrings").EMPTY_SAVED_COLLECTION_CTA:void 0,headerText:d("PolarisProfileEmptyStateStrings").EMPTY_SAVED_COLLECTION_HEADER,icon:a.jsx(c("IGDSSaveOutline96Icon.react"),{alt:b,size:f})};var k={headerText:d("PolarisProfileEmptyStateStrings").EMPTY_TAGGED_NO_PHOTOS_HEADER,icon:a.jsx(c("IGDSTagUpOutline96Icon.react"),{alt:h,size:f})};h={bodyText:d("PolarisProfileEmptyStateStrings").EMPTY_TAGGED_BODY,headerText:d("PolarisProfileEmptyStateStrings").EMPTY_TAGGED_PHOTOS_OF_YOU_HEADER,icon:a.jsx(c("IGDSTagUpOutline96Icon.react"),{alt:h,size:f})};a={bodyText:d("PolarisProfileEmptyStateStrings").EMPTY_SHARE_PHOTOS_TEXT,buttonText:d("PolarisProfileEmptyStateStrings").EMPTY_SHARE_PHOTOS_LINK,headerText:d("PolarisProfileEmptyStateStrings").EMPTY_SHARE_PHOTOS_HEADER,icon:a.jsx(c("IGDSCameraOutline96Icon.react"),{alt:d("PolarisNewUserActivatorsStrings").FIRST_PHOTO_BODY,size:f})};d=(c={},c[e.SAVE]=j,c[e.SAVED_COLLECTION]=b,c[e.TAGGED]=k,c[e.OWN_PROFILE_TAGGED]=h,c[e.PHOTOS]=a,c);g.ProfileEmptyStateKeys=e;g.PROFILE_EMPTY_STATE_KEY_MAPPING=d}),226);
__d("PolarisProfileEmptyState.react",["CometPressable.react","IGDSBox.react","IGDSButton.react","IGDSTextVariants.react","PolarisProfileEmptyStateTypes","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.buttonClick,f=a.iconClick;a=a.type;a=d("PolarisProfileEmptyStateTypes").PROFILE_EMPTY_STATE_KEY_MAPPING[a];var g=a.bodyText,h=a.buttonText,j=a.headerText;a=a.icon;var k;b[0]!==a||b[1]!==f?(k=f?i.jsx(c("CometPressable.react"),{"aria-label":"empty-state-icon-button",onPress:f,overlayDisabled:!0,children:a}):a,b[0]=a,b[1]=f,b[2]=k):k=b[2];b[3]!==j?(a=i.jsx(c("IGDSBox.react"),{marginBottom:6,marginTop:6,position:"relative",children:i.jsx(d("IGDSTextVariants.react").IGDSTextHeadline1,{textAlign:"center",children:j})}),b[3]=j,b[4]=a):a=b[4];b[5]!==g?(f=g!==null&&i.jsx(c("IGDSBox.react"),{marginBottom:6,position:"relative",children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:g})}),b[5]=g,b[6]=f):f=b[6];b[7]!==e||b[8]!==h?(j=e!==null&&h!=null&&i.jsx(c("IGDSButton.react"),{label:h,onClick:e,variant:"primary_link"}),b[7]=e,b[8]=h,b[9]=j):j=b[9];b[10]!==k||b[11]!==a||b[12]!==f||b[13]!==j?(g=i.jsx(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:i.jsxs(c("IGDSBox.react"),{alignItems:"center",marginBottom:15,marginEnd:11,marginStart:11,marginTop:15,maxWidth:350,position:"relative",children:[k,a,f,j]})}),b[10]=k,b[11]=a,b[12]=f,b[13]=j,b[14]=g):g=b[14];return g}g["default"]=a}),98);
__d("PolarisProfilePagePrivateProfileMessage_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisProfilePagePrivateProfileMessage_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisProfilePagePrivateProfileUpsell_user"}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisProfilePagePrivateProfileUpsell_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisProfilePagePrivateProfileUpsell_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisFollowButton_user"},{args:null,kind:"FragmentSpread",name:"PolarisUnfollowDialog_user"},{args:null,kind:"FragmentSpread",name:"usePolarisGetRelationshipFragment_user"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_updating_friendship_status",storageKey:null}]}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisProfilePagePrivateProfileUpsell.react",["fbt","CometRelay","IGDSBox.react","IGDSButton.react","IGDSLockOutline96Icon.react","IGDSTextVariants.react","JSResourceForInteraction","PolarisAppInstallStrings","PolarisFollowButton.react","PolarisLoggedOutCtaClickLogger","PolarisProfilePagePrivateProfileUpsell_user.graphql","PolarisRoutePropUtils","PolarisUA","browserHistory_DO_NOT_USE","cr:9916","react","react-compiler-runtime","shouldShowProfileRedesign","useIGDSLazyDialog","usePolarisFollowMutation","usePolarisGetRelationshipFragment","usePolarisOpenApp","usePolarisPageID","usePolarisUnfollowMutation","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useContext;function m(a){var b=d("react-compiler-runtime").c(5),c=a.shouldUpsellToApp;a=a.username;c=c===void 0?!1:c;var e;b[0]!==a?(e=k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"secondaryText",children:a}),b[0]=a,b[1]=e):e=b[1];a=e;b[2]!==a||b[3]!==c?(e=c?h._(/*BTDS*/"Already follow {username}? Switch to the app or log in to see their photos and videos.",[h._param("username",a)]):h._(/*BTDS*/"Already follow {username}? Log in to see their photos and videos.",[h._param("username",a)]),b[2]=a,b[3]=c,b[4]=e):e=b[4];return e}function n(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Follow to see their photos and videos."),a[0]=b):b=a[0];return b}function a(a){var e=d("react-compiler-runtime").c(32);a=a.user;var f=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisProfilePagePrivateProfileUpsell_user.graphql"),a),g=c("usePolarisPageID")(),j=c("usePolarisOpenApp")();e[0]!==j||e[1]!==g?(a=function(a){a.preventDefault(),d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("app_open","contextual_cta",g),j()},e[0]=j,e[1]=g,e[2]=a):a=e[2];a=a;var o=c("usePolarisViewer")(),p=c("usePolarisFollowMutation")(),q=p[0];p=c("usePolarisUnfollowMutation")();var r=p[0];p=c("usePolarisGetRelationshipFragment")(f);var s;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(s=c("JSResourceForInteraction")("PolarisUnfollowDialog.next.react").__setRef("PolarisProfilePagePrivateProfileUpsell.react"),e[3]=s):s=e[3];s=c("useIGDSLazyDialog")(s);var t=s[0];e[4]!==t||e[5]!==r||e[6]!==f?(s=function(){t({analyticsContext:"profile",onUnfollowUser:function(){return r({container_module:"profile",target_user_id:f.pk})},user:f})},e[4]=t,e[5]=r,e[6]=f,e[7]=s):s=e[7];s=s;var u=l(d("PolarisRoutePropUtils").PolarisRoutePropContext),v;e[8]!==(u==null?void 0:u.routePropQE)?(v=d("PolarisUA").isMobile()&&(u==null?void 0:u.routePropQE.getBool("loxPrivateProfileUseOpenInstagram")),e[8]=u==null?void 0:u.routePropQE,e[9]=v):v=e[9];u=v;e[10]===Symbol["for"]("react.memo_cache_sentinel")?(v=c("shouldShowProfileRedesign")(),e[10]=v):v=e[10];v=v;var w;e[11]===Symbol["for"]("react.memo_cache_sentinel")?(w=k.jsx(c("IGDSBox.react"),{flex:"none",children:k.jsx(c("IGDSLockOutline96Icon.react"),{alt:"",size:48})}),e[11]=w):w=e[11];var x;e[12]===Symbol["for"]("react.memo_cache_sentinel")?(x=k.jsx(c("IGDSBox.react"),{marginBottom:3,children:k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{children:h._(/*BTDS*/"This account is private")})}),e[12]=x):x=e[12];e[13]!==f||e[14]!==o?(w=k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[w,k.jsx(c("IGDSBox.react"),{flex:"shrink",marginStart:3,children:k.jsxs(c("IGDSBox.react"),{children:[x,k.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",children:o?k.jsx(n,{}):k.jsx(m,{shouldUpsellToApp:d("PolarisUA").isMobile(),username:f.username})})]})})]}),e[13]=f,e[14]=o,e[15]=w):w=e[15];e[16]===Symbol["for"]("react.memo_cache_sentinel")?(x={className:"x1yj74s3"},e[16]=x):x=e[16];e[17]!==q||e[18]!==a||e[19]!==s||e[20]!==u||e[21]!==p||e[22]!==r||e[23]!==f||e[24]!==o?(v=o?!v&&k.jsx(c("IGDSBox.react"),{marginTop:4,children:k.jsx(c("PolarisFollowButton.react"),{analyticsContext:"UNKNOWN__POLARIS_PEOPLE_CARD_CONTAINER",fullWidth:!0,handleUnfollow:s,isProcessing:f.is_updating_friendship_status,onFollowUser:function(){return q({container_module:"profile",target_user_id:f.pk})},onUnfollowUser:function(){return r({container_module:"profile",target_user_id:f.pk})},relationship:p,user:f,userId:f.pk,username:f.username})}):d("PolarisUA").isMobile()?k.jsx(c("IGDSBox.react"),{marginTop:4,children:k.jsx(c("IGDSButton.react"),{fullWidth:!0,label:u===!0?d("PolarisAppInstallStrings").OPEN_INSTAGRAM:d("PolarisAppInstallStrings").SWITCH_TO_THE_APP,onClick:a})}):null,e[17]=q,e[18]=a,e[19]=s,e[20]=u,e[21]=p,e[22]=r,e[23]=f,e[24]=o,e[25]=v):v=e[25];e[26]===Symbol["for"]("react.memo_cache_sentinel")?(a=b("cr:9916")&&k.jsx(b("cr:9916"),{ctaTypeV2:"contextual_cta",loginReturnPath:d("browserHistory_DO_NOT_USE").getPath(d("browserHistory_DO_NOT_USE").browserHistory),loginSource:"private_profile"}),e[26]=a):a=e[26];e[27]!==v?(s=k.jsxs("div",babelHelpers["extends"]({},x,{children:[v,a]})),e[27]=v,e[28]=s):s=e[28];e[29]!==s||e[30]!==w?(u=k.jsxs(c("IGDSBox.react"),{alignItems:"center","data-testid":void 0,marginEnd:9,marginStart:9,marginTop:6,position:"relative",children:[w,s]}),e[29]=s,e[30]=w,e[31]=u):u=e[31];return u}g["default"]=a}),226);
__d("PolarisProfilePagePrivateProfile_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisProfilePagePrivateProfile_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisProfilePagePrivateProfileMessage_user"}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisProfilePagePrivateProfile.react",["fbt","CometPlaceholder.react","CometRelay","IGDSTextVariants.react","PolarisAdvisoryMessage.react","PolarisConnectionsLogger","PolarisIsLoggedIn","PolarisLoggedOutCtaImpressionLogger","PolarisProfilePageNullStateUpsell.react","PolarisProfilePageNullStateUpsellMessageLink.react","PolarisProfilePagePrivateProfileMessage_user.graphql","PolarisProfilePagePrivateProfileUpsell.react","PolarisProfilePagePrivateProfile_user.graphql","PolarisProfileTabContentSpinner.react","PolarisSizing","PolarisUA","cr:4936","cr:7397","polarisSuggestedUserSelectors.react","qex","react","react-compiler-runtime","usePolarisDisplayProperties","usePolarisMinimalProfileIsHeaderMinimized","usePolarisPageID","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useEffect,n=e.useRef,o=h._(/*BTDS*/"This account is private");function p(a){return h._(/*BTDS*/"Already follow {username}? Switch to the app or log in to see their photos and videos.",[h._param("username",a)])}function q(a){return h._(/*BTDS*/"Follow {username} in the app to see their photos and videos.",[h._param("username",a)])}function r(a){var e=d("react-compiler-runtime").c(23),f=a.isSmallScreen;a=a.user;a=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisProfilePagePrivateProfileMessage_user.graphql"),a);var g=c("usePolarisViewer")(),j=c("usePolarisPageID")(),k=!d("PolarisIsLoggedIn").isLoggedIn()&&d("PolarisUA").isMobile(),r=n(!1),s,t;e[0]!==j?(s=function(){r.current===!1&&(r.current=!0,d("PolarisLoggedOutCtaImpressionLogger").logLoggedOutCtaImpressionEvent("contextual_cta",j))},t=[j],e[0]=j,e[1]=s,e[2]=t):(s=e[1],t=e[2]);m(s,t);s=d("usePolarisMinimalProfileIsHeaderMinimized").usePolarisMinimalProfileIsHeaderMinimized();t=s?q:p;s=s?"primaryText":"secondaryText";if(g||c("qex")._("1275")===!0){var u;e[3]!==a?(u=l.jsx(c("PolarisProfilePagePrivateProfileUpsell.react"),{user:a}),e[3]=a,e[4]=u):u=e[4];return u}if(k){e[5]!==s||e[6]!==a.username?(u=l.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:s,children:a.username}),e[5]=s,e[6]=a.username,e[7]=u):u=e[7];e[8]!==t||e[9]!==u?(k=t(u),e[8]=t,e[9]=u,e[10]=k):k=e[10];e[11]!==k?(s=l.jsx(c("PolarisProfilePageNullStateUpsell.react"),{bodyText:k,headerText:o}),e[11]=k,e[12]=s):s=e[12];return s}if(!g){e[13]!==a.username?(t=h._(/*BTDS*/"Already follow {username}? {Log in} to see their photos and videos.",[h._param("username",a.username),h._param("Log in",l.jsx(c("PolarisProfilePageNullStateUpsellMessageLink.react"),{}))]),e[13]=a.username,e[14]=t):t=e[14];u=t}else{e[15]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"Follow to see their photos and videos."),e[15]=k):k=e[15];u=k}e[16]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"xaka53j"},g=l.jsx("h2",{className:"x5n08af x1s688f x1o2sk6j x11njtxf",children:h._(/*BTDS*/"This Account is Private")}),e[16]=s,e[17]=g):(s=e[16],g=e[17]);e[18]!==f?(a={0:{},1:{className:"x5n08af xln7xf2 x1f6kntn x1o2sk6j xk9mzb7 x11njtxf"}}[!!!f<<0],e[18]=f,e[19]=a):a=e[19];e[20]!==u||e[21]!==a?(t=l.jsx(c("PolarisAdvisoryMessage.react"),{children:l.jsxs("div",babelHelpers["extends"]({},s,{children:[g,l.jsx("div",babelHelpers["extends"]({},a,{children:u}))]}))}),e[20]=u,e[21]=a,e[22]=t):t=e[22];return t}function a(a){var e=d("react-compiler-runtime").c(18),g=a.suggestedUsersQuery;a=a.user;a=d("CometRelay").useFragment(j!==void 0?j:j=b("PolarisProfilePagePrivateProfile_user.graphql"),a);var h=c("usePolarisDisplayProperties")();h=h.viewportWidth;h=h<d("PolarisSizing").LANDSCAPE_SMALL_SCREEN_CUTOFF;var i=d("polarisSuggestedUserSelectors.react").usePolarisProfileChainingSuggestions(a.pk),k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={0:{},1:{className:"xieb3on"}}[!!d("PolarisIsLoggedIn").isLoggedIn()<<0],e[0]=k):k=e[0];e[1]!==h||e[2]!==a?(k=l.jsx("div",babelHelpers["extends"]({},k,{children:l.jsx(r,{isSmallScreen:h,user:a})})),e[1]=h,e[2]=a,e[3]=k):k=e[3];var m;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(m=l.jsx(c("PolarisProfileTabContentSpinner.react"),{}),e[4]=m):m=e[4];var n;e[5]!==i||e[6]!==h?(n=i&&i.length>0&&b("cr:7397")&&l.jsx(b("cr:7397"),{analyticsContext:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.profile,clickPoint:"private_profile_similar_users_chaining_unit",isSmallScreen:h,users:i}),e[5]=i,e[6]=h,e[7]=n):n=e[7];e[8]!==g||e[9]!==a.pk||e[10]!==a.username?(i=g!=null&&b("cr:4936")!=null&&l.jsx(b("cr:4936"),{clickPoint:"private_profile_similar_users_chaining_unit",query:g,userID:a.pk,username:a.username}),e[8]=g,e[9]=a.pk,e[10]=a.username,e[11]=i):i=e[11];e[12]!==n||e[13]!==i?(h=l.jsxs(c("CometPlaceholder.react"),{fallback:m,name:f.id,children:[n,i]}),e[12]=n,e[13]=i,e[14]=h):h=e[14];e[15]!==k||e[16]!==h?(g=l.jsxs(l.Fragment,{children:[k,h]}),e[15]=k,e[16]=h,e[17]=g):g=e[17];return g}g["default"]=a}),226);
__d("PolarisSavedPostsLogger",["InstagramODS","vulture"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b){case"saved":case"SavedCollectionPage":case"postPage":case"feed":case"profile":case"selfProfilePageModal":case"exploreLandingPageModal":c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.createCollection."+a+"."+b);break;default:c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.createCollection."+a+".undefined")}}function b(a,b){switch(b){case"saved":case"SavedCollectionPage":case"postPage":case"feed":case"profile":case"selfProfilePageModal":case"exploreLandingPageModal":c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.editCollection."+a+"."+b);break;default:c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.editCollection."+a+".undefined")}}function d(a,b){switch(b){case"SavedCollectionPage":c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.deleteCollection."+a+".SavedCollectionPage");break;default:c("vulture")("7semu-nIxGVMR4bKWuWggWXVMIA="),c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.deleteCollection."+a+".undefined")}}g.logCreateCollection=a;g.logEditCollection=b;g.logDeleteCollection=d}),98);
__d("useForceUpdate",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useReducer;function a(){var a=i(function(a){return a+1},0);a[0];a=a[1];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometGHLFeedFallbackContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isFallbackEnabled:!0,isInNewsFeed:!1,setIsFallbackEnabled:function(){}});g["default"]=b}),98);
__d("CometGHLScrambledLabelMitigationLoggerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({trackingData:null});g["default"]=b}),98);
__d("GHLGating",["Random","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("gkx")("23204")};b=function(){return!1};e=function(){return c("gkx")("23209")};f=function(){return c("gkx")("23181")};var h=function(){return c("gkx")("23182")},i=function(){return c("gkx")("23210")},j=function(){return c("gkx")("23174")},k=function(){return c("gkx")("21000")},l=function(){return c("gkx")("23176")},m=function(){return c("gkx")("23177")},n=function(){return c("gkx")("23180")},o=function(){return d("Random").intBetween(c("justknobx")._("2436"),c("justknobx")._("2437"))},p=function(){return c("justknobx")._("1731")},q=function(){return c("justknobx")._("592")},r=function(){return c("justknobx")._("593")},s=function(){return c("justknobx")._("4525")};g.getSvgTextFontSizeFix=a;g.getCometFooterDisplayCheck=b;g.getCometAriaLabelledBysOnRHC=e;g.getCometDeferDOMAriaLabel=f;g.getCometAriaLabelledBys=h;g.getCometDeferDOMLink=i;g.getCometDebugAdvanced=j;g.getCometGhlContentVisibility=k;g.getUseInjectedStylexLikeCSS=l;g.getScramblerOrderStylesInClass=m;g.getScramblerNodeRandomizePlaceholderClasses=n;g.getWidthRandomizerInPx=o;g.getSvgExtraLayersNumofLayers=p;g.getFakeElementBeforeElementCount=q;g.getFakeElementAfterElementCount=r;g.getExtraElementsForFeedCount=s}),98);
__d("GHLMitigationsCounter",["ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i="ghl_mitigation_counter";function a(a,b){b&&(h||(h=d("ODS"))).bumpEntityKey(4294,i,a);return b}g.GHL_ODS_MITIGATION_COUNTER_IDENTITY=i;g.incrementMitigationCounterAndReturn=a}),98);
__d("GHLMitigationsGating",["GHLMitigationsCounter","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("shim_randomize_placeholder",c("justknobx")._("684")&&c("gkx")("23184"))};b=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("random_element_wrapper_for_links",c("justknobx")._("922")&&c("gkx")("23185"))};e=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_margin_right",c("justknobx")._("222")&&c("gkx")("23186"))};f=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("insert_empty_div_element_after_h3",c("justknobx")._("669")&&c("gkx")("23188"))};var h=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_margin_left",c("justknobx")._("1051")&&c("gkx")("23189"))},i=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("random_el_wrapper_for_story_title",c("justknobx")._("706")&&c("gkx")("23190"))},j=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_margin_right_with_div",c("justknobx")._("1175")&&c("gkx")("23191"))},k=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_margin_left_with_div",c("justknobx")._("1211")&&c("gkx")("23192"))},l=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_width_with_div",c("justknobx")._("1212")&&c("gkx")("23193"))},m=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_extra_layer",c("justknobx")._("794")&&c("gkx")("23195"))},n=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_multiple_layers",!1)},o=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_text_segments",c("justknobx")._("1070")&&c("gkx")("23197"))},p=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_text",c("justknobx")._("783")&&c("gkx")("23198"))},q=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("canvas_text_new",c("justknobx")._("1749")&&c("gkx")("23199"))},r=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("parent_style_randomizer",c("justknobx")._("2217")&&c("gkx")("2750"))},s=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_text_use_tspan",c("justknobx")._("1141")&&c("gkx")("23200"))},t=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("mock_footer_rel_attribute",c("justknobx")._("2382")&&c("gkx")("3356"))},u=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("fake_elements_hidden_by_position",c("justknobx")._("2644")&&c("gkx")("4192"))},v=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("canvas_random_text_breakdown",c("justknobx")._("3332")&&c("gkx")("6934"))},w=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("fake_canvas",c("justknobx")._("3337")&&c("gkx")("5043"))},x=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("sponsored_label_extra_span",c("justknobx")._("3371")&&c("gkx")("8287"))},y=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("fallback_to_scrambler",c("justknobx")._("3326")&&c("gkx")("7396"))},z=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("rhc_remove_extra_span",c("justknobx")._("3604")&&c("gkx")("9104"))},A=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("scrambled_label_mitigation_logger",c("justknobx")._("3609")&&c("gkx")("9144"))},B=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("rhc_extra_class",c("justknobx")._("3752")&&c("gkx")("10278"))},C=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("marketplace_link_shim_and_aria_labelledby",c("justknobx")._("3935")&&c("gkx")("11471"))},D=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("random_element_wrapper_for_feed",c("justknobx")._("4040")&&c("gkx")("12009"))},E=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("override_delay_label_placement",c("justknobx")._("4079")&&c("gkx")("12184"))},F=function(){return c("justknobx")._("4525")>0&&c("gkx")("14400")},G=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_text_random_element_wrapper",c("justknobx")._("4529")&&c("gkx")("14419"))},H=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("rhc_should_populate_attributionsrc_onhover",c("justknobx")._("4648")&&c("gkx")("15092"))},I=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("marketplace_link_shim_and_use_span",c("justknobx")._("4694")&&c("gkx")("15340"))},J=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_height_fix",c("justknobx")._("4860")&&c("gkx")("7127"))},K=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("rhc_should_add_additional_class",c("justknobx")._("88")&&c("gkx")("577"))},L=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("marketplace_ads_link_aria_labelledby",c("justknobx")._("132")&&c("gkx")("4470"))},M=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("react_props_scrambler_marketplace_adsurface",c("justknobx")._("1355")&&c("gkx")("6012"))},N=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("canvas_timestamp_rendering",c("justknobx")._("2762")&&c("gkx")("17480"))};g.getIsGHLShimRandomizePlaceholderEnabled=a;g.getIsGHLRandomElementWrapperForLinksEnabled=b;g.getIsGHLRandomElementWrapperForStoryTitleEnabled=i;g.getIsGHLEmptyDivElementAfterH3Enabled=f;g.getIsGHLParentStyleRandomizationEnabled=r;g.getIsGHLSVGStyleMarginRightEnabled=e;g.getIsGHLSVGStyleMarginLeftEnabled=h;g.getIsGHLSVGStyleMarginRightWithDivEnabled=j;g.getIsGHLSVGStyleMarginLeftWithDivEnabled=k;g.getIsGHLSVGStyleWidthtWithDivEnabled=l;g.getIsGHLSVGExtraLayerEnabled=m;g.getIsGHLSVGMultipleLayersEnabled=n;g.getIsGHLSVGTextSegmentsEnabled=o;g.getIsGHLSVGTextEnabled=p;g.getIsGHLCanvasTextEnabled=q;g.getIsGHLSVGTextUseTspanEnabled=s;g.getIsGHLMockFooterRelAttributeEnabled=t;g.getIsGHLFakeElementHiddenByPositionEnabled=u;g.getIsGHLCanvasRandomTextBreakdownEnabled=v;g.getIsGHLFakeCanvasEnabled=w;g.getIsGHLSponsoredLabelExtraSpanEnabled=x;g.getIsGHLFallbackToScramblerEnabled=y;g.getIsGHLRhcRemoveExtraSpanEnabled=z;g.getIsGHLScrambledLabelMitigationLoggerEnabled=A;g.getIsGHLRHCExtraClassEnabled=B;g.getIsGHLMarketplaceLinkShimAndAriaLabelledbyEnabled=C;g.getIsGHLRandomElementWrapperForFeedEnabled=D;g.getIsGHLOverrideDelayLabelPlacementEnabled=E;g.getIsGHLExtraElementsForFeedEnabled=F;g.getIsSvgTextRandomElementWrapperEnabled=G;g.getIsGHLRhcShouldPopulateAttributionsrcOnhoverEnabled=H;g.getIsGHLMarketplaceLinkShimAndUseSpanEnabled=I;g.getIsGHLSVGHeightFixEnabled=J;g.getIsGHLRHCAdditionalClassEnabled=K;g.getIsGHLMarketplaceAdsLinkAriaLabelledbyEnabled=L;g.getIsGHLReactPropsScramblerMarketplaceAdsurfaceEnabled=M;g.getIsGHLCanvasTimestampEnabled=N}),98);
__d("GhlMitigationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2288");b=d("FalcoLoggerInternal").create("ghl_mitigation",a);e=b;g["default"]=e}),98);
__d("useGHLScrambledLabelMitigationLogger",["CometGHLFeedFallbackContext","CometGHLScrambledLabelMitigationLoggerContext","GHLMitigationsGating","GhlMitigationFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.useRef;function a(a){var b=i(c("CometGHLFeedFallbackContext")),e=b.isFallbackEnabled,f=d("GHLMitigationsGating").getIsGHLFallbackToScramblerEnabled(),g=k(!1);b=i(c("CometGHLScrambledLabelMitigationLoggerContext"));var h=b.trackingData;j(function(){if(a===null||!d("GHLMitigationsGating").getIsGHLScrambledLabelMitigationLoggerEnabled()||g.current===!0||e&&f)return;c("GhlMitigationFalcoEvent").log(function(){return{mitigation:a,xt:h}});g.current=!0},[e,f,a,h])}g["default"]=a}),98);
__d("GHLRandomElementWrapper",["Random","react","useGHLScrambledLabelMitigationLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=[[1,0],[1,1],[0,1],[0,2],[1,2],[2,2],[2,1],[1,1]],k=Math.floor(Date.now()/(1e3*60*60*24));b=function(a){var b;return(b={},b[a]=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(HTMLSpanElement)),b)[a]};e=function(){return String.fromCharCode(97+c("Random").random()*25)};d=k%10+5;var l=Array(d).fill().map(e).join("");d=Array(d).fill().map(e).join("");var m=l+"-"+d;window.customElements&&window.customElements.define(m,b(l),{"extends":"span"});function a(a){var b=a.children,d=a.elementTag,e=a.mitigationToLog,f=a.useClassStyles;f=f===void 0?!1:f;a=a.useInlineStyles;a=a===void 0?!1:a;b=b;var g=j[k%j.length],h=a?{display:"inline"}:null,l={0:"",1:"x9f619 xt0psk2 xjb2p0i x1qlqyl8 x15bjb6t"}[!!f<<0];d==="div"&&!f&&!a&&(l="x9f619 xt0psk2 xjb2p0i x1qlqyl8 x15bjb6t");d==="randomSpan"?window.customElements?f=m:f="span":f=d;a=g[1];for(d=0;d<a;d++)b=i.jsx(f,{className:l,style:h,children:b});b=i.jsx(f,{children:b});d=g[0];for(a=0;a<d;a++)b=i.jsx(f,{className:l,style:h,children:b});c("useGHLScrambledLabelMitigationLogger")(e);return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLSVGTextUtils",["GHLGating","GHLMitigationsGating"],(function(a,b,c,d,e,f,g){"use strict";a=d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftEnabled()||d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftWithDivEnabled();b=d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightEnabled()||d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightWithDivEnabled();c=function(a){switch(a){case"14px":return 4;case"15px":return 6;default:return 0}};e=function(a){var b=d("GHLGating").getSvgTextFontSizeFix();return b?["13px",a-2]:["12px",a-3]};f=function(a){switch(a){case"14px":case"15px":return!0;default:return!1}};g.anyMarginLeftStylingEnabled=a;g.anyMarginRightStylingEnabled=b;g.getCTAExtraWidth=c;g.getFixedFontSize=e;g.getIsCTAText=f}),98);
__d("GHLSVGElementContainer.react",["GHLMitigationsGating","GHLSVGTextUtils","filterObject","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=[d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightEnabled(),d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightWithDivEnabled(),d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftEnabled(),d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftWithDivEnabled(),d("GHLMitigationsGating").getIsGHLSVGStyleWidthtWithDivEnabled()];var j=b[0],k=b[1],l=b[2],m=b[3],n=b[4];function a(a){var b=a.domID,e=a.fontSize,f=a.height,g=a.randomizedWidth,h=a.width;f=c("filterObject")({height:f+(e==="15px"||d("GHLMitigationsGating").getIsGHLSVGHeightFixEnabled()?1:0)+"px",overflow:"visible",paddingLeft:e==="15px"?"4px":null,paddingTop:e==="15px"?"1px":null},Boolean);var o={marginRight:"-"+(g-h)+"px",width:g+d("GHLSVGTextUtils").getCTAExtraWidth(e)+"px"};g={marginLeft:"-"+(g-h)+"px",width:h+(g-h)+d("GHLSVGTextUtils").getCTAExtraWidth(e)+"px"};e=j?[null,o]:k?[o,null]:l?[null,g]:m?[g,null]:n?[{width:h+d("GHLSVGTextUtils").getCTAExtraWidth(a.fontSize)+"px"},null]:[null,{width:h+d("GHLSVGTextUtils").getCTAExtraWidth(a.fontSize)+"px"}];o=e[0];g=e[1];h=i.jsx("svg",{"data-testid":void 0,style:babelHelpers["extends"]({},f,g),children:i.jsx("use",{xlinkHref:"#"+b,xmlnsXlink:"http://www.w3.org/1999/xlink"})});return o==null?h:i.jsx("div",{style:o,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLSVGText.react",["BasePortal.react","ExecutionEnvironment","GHLGating","GHLMitigationsGating","GHLRandomElementWrapper","GHLSVGElementContainer.react","GHLSVGTextUtils","cr:6269","react","useGHLScrambledLabelMitigationLogger","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useLayoutEffect,l=e.useRef,m=e.useState,n=null,o=function(){(h||(h=c("ExecutionEnvironment"))).canUseDOM&&n===null&&(n=document.createElement("div"),n.setAttribute("style","position: absolute; top: -10000px;"),document.body&&document.body.appendChild(n));return n},p=1,q="SvgT";function a(a){var e=a.fontSize,f=a.setGhlRandomizers;a=a.text;var g=m(0),h=g[0],i=g[1];g=m(0);var n=g[0],r=g[1],s=c("useStable")(function(){return d("GHLGating").getWidthRandomizerInPx()});g=c("useStable")(function(){return q+p++});var t=c("useStable")(function(){return q+p++}),u=l(null);k(function(){var a;a=(a=u.current)==null?void 0:a.getBoundingClientRect();(a==null?void 0:a.height)!=null&&(a==null?void 0:a.width)!=null&&(i(a.height),r(a.width),f&&f({display:"inline-block",marginRight:-s+"px",width:a.width+s+"px"}))},[e,f,a,s]);var v=n+s;c("useGHLScrambledLabelMitigationLogger")("ste");var w=d("GHLMitigationsGating").getIsSvgTextRandomElementWrapperEnabled()?j.jsx(c("GHLRandomElementWrapper"),{elementTag:"span",mitigationToLog:"strewe",children:j.jsx(c("GHLSVGElementContainer.react"),{domID:g,fontSize:e,height:h,randomizedWidth:v,width:n})}):j.jsx(c("GHLSVGElementContainer.react"),{domID:g,fontSize:e,height:h,randomizedWidth:v,width:n});h=d("GHLSVGTextUtils").getFixedFontSize(h);var x=h[0];h=h[1];var y=""+(d("GHLMitigationsGating").getIsGHLSVGExtraLayerEnabled()?t:g);e={fill:"currentColor",fontSize:e!=null?e:x,overflow:"visible"};x={x:d("GHLSVGTextUtils").anyMarginLeftStylingEnabled&&!d("GHLSVGTextUtils").anyMarginRightStylingEnabled?v-n:void 0,y:h};return j.jsxs(j.Fragment,{children:[j.jsxs(c("BasePortal.react"),{target:o(),children:[d("GHLMitigationsGating").getIsGHLSVGExtraLayerEnabled()&&j.jsx("svg",{id:g,children:j.jsx("use",{xlinkHref:"#"+t,xmlnsXlink:"http://www.w3.org/1999/xlink"})}),j.jsx("svg",{style:{overflow:"visible"},children:d("GHLMitigationsGating").getIsGHLSVGTextUseTspanEnabled()&&b("cr:6269")?j.jsx(b("cr:6269"),{originalText:a,textElementID:y,textLength:n,textRef:u,textStyle:e,xPosition:x.x,yPosition:x.y}):j.jsx("text",{id:y,ref:u,style:e,textLength:n,x:x.x,y:x.y,children:a})})]}),w]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSVolumeNonePanoFilledIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M11.403 1.083a1.001 1.001 0 0 0-1.082.187L5.265 6H2a1 1 0 0 0-1 1v10.003a1 1 0 0 0 1 1h3.265l5.01 4.682.02.021a1 1 0 0 0 1.704-.814L12.005 2a1 1 0 0 0-.602-.917ZM20.704 12l1.94-1.94a1.5 1.5 0 0 0-2.122-2.12l-1.939 1.939-1.94-1.94a1.5 1.5 0 1 0-2.12 2.122L16.461 12l-1.94 1.94a1.5 1.5 0 1 0 2.122 2.12l1.939-1.939 1.94 1.94a1.5 1.5 0 0 0 2.12-2.122Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSVolumeOffFilledIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{clipRule:"evenodd",d:"M1.5 13.3c-.8 0-1.5.7-1.5 1.5v18.4c0 .8.7 1.5 1.5 1.5h8.7l12.9 12.9c.9.9 2.5.3 2.5-1v-9.8c0-.4-.2-.8-.4-1.1l-22-22c-.3-.3-.7-.4-1.1-.4h-.6zm46.8 31.4-5.5-5.5C44.9 36.6 48 31.4 48 24c0-11.4-7.2-17.4-7.2-17.4-.6-.6-1.6-.6-2.2 0L37.2 8c-.6.6-.6 1.6 0 2.2 0 0 5.7 5 5.7 13.8 0 5.4-2.1 9.3-3.8 11.6L35.5 32c1.1-1.7 2.3-4.4 2.3-8 0-6.8-4.1-10.3-4.1-10.3-.6-.6-1.6-.6-2.2 0l-1.4 1.4c-.6.6-.6 1.6 0 2.2 0 0 2.6 2 2.6 6.7 0 1.8-.4 3.2-.9 4.3L25.5 22V1.4c0-1.3-1.6-1.9-2.5-1L13.5 10 3.3-.3c-.6-.6-1.5-.6-2.1 0L-.2 1.1c-.6.6-.6 1.5 0 2.1L4 7.6l26.8 26.8 13.9 13.9c.6.6 1.5.6 2.1 0l1.4-1.4c.7-.6.7-1.6.1-2.2z",fillRule:"evenodd"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 48 48",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSVolumePanoFilledIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M16.636 7.028a1.5 1.5 0 1 0-2.395 1.807 5.365 5.365 0 0 1 1.103 3.17 5.378 5.378 0 0 1-1.105 3.176 1.5 1.5 0 1 0 2.395 1.806 8.396 8.396 0 0 0 1.71-4.981 8.39 8.39 0 0 0-1.708-4.978Zm3.73-2.332A1.5 1.5 0 1 0 18.04 6.59 8.823 8.823 0 0 1 20 12.007a8.798 8.798 0 0 1-1.96 5.415 1.5 1.5 0 0 0 2.326 1.894 11.672 11.672 0 0 0 2.635-7.31 11.682 11.682 0 0 0-2.635-7.31Zm-8.963-3.613a1.001 1.001 0 0 0-1.082.187L5.265 6H2a1 1 0 0 0-1 1v10.003a1 1 0 0 0 1 1h3.265l5.01 4.682.02.021a1 1 0 0 0 1.704-.814L12.005 2a1 1 0 0 0-.602-.917Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("InstagramAdActionMenuFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3374");b=d("FalcoLoggerInternal").create("instagram_ad_action_menu",a);e=b;g["default"]=e}),98);
__d("InstagramAdVpvdImpFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3691");b=d("FalcoLoggerInternal").create("instagram_ad_vpvd_imp",a);e=b;g["default"]=e}),98);
__d("InstagramMediaMetricsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2312");b=d("FalcoLoggerInternal").create("instagram_media_metrics",a);e=b;g["default"]=e}),98);
__d("InstagramOrganicCarouselVpvdImpFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4336");b=d("FalcoLoggerInternal").create("instagram_organic_carousel_vpvd_imp",a);e=b;g["default"]=e}),98);
__d("InstagramOrganicImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1115");b=d("FalcoLoggerInternal").create("instagram_organic_impression",a);e=b;g["default"]=e}),98);
__d("InstagramOrganicVpvdImpFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4536");b=d("FalcoLoggerInternal").create("instagram_organic_vpvd_imp",a);e=b;g["default"]=e}),98);
__d("PolarisAdBlockerMitigationGatingHelpers",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("25304")&&c("justknobx")._("931")}g.shouldUseSVGTextMitigation=a}),98);
__d("PolarisClickEventLoggerProvider.react",["InstagramMediaMetricsFalcoEvent","InstagramWebAdEventsAuditFalcoEvent","PolarisClickEventLoggerContext.react","PolarisContainerModuleUtils","polarisOnlyHandleSingleClick","react","react-compiler-runtime","usePolarisAnalyticsContext","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j=d("polarisOnlyHandleSingleClick").onlyHandleSingleClick(function(a,b,c,d,e,f){k(a,b,c,d,e,f)});function k(a,b,d,e,f,g){var h={dest_uri:a,event_trace_id:e!=null?e:c("uuidv4")(),gesture_type:f,pigeon_reserved_keyword_module:g,tracking:d,tracking_nodes:b};a=b.some(function(a){return a.type===10||a.type===69});if(a&&d.length>0&&d[0]!=null){var i=JSON.parse(d[0]);c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:i.tracking_token,event:"media_metrics_profile"}})}c("InstagramMediaMetricsFalcoEvent").logImmediately(function(){return h})}function a(a){var b=d("react-compiler-runtime").c(8),e=a.children;a=a.ignoreDoubleClick;var f=a===void 0?!1:a;a=c("usePolarisAnalyticsContext")();var g;b[0]!==a?(g=d("PolarisContainerModuleUtils").getContainerModule(a),b[0]=a,b[1]=g):g=b[1];var h=g;b[2]!==h||b[3]!==f?(a=function(a,b,c,d,e){f?j(a,b,c,d,e,h):k(a,b,c,d,e,h)},b[2]=h,b[3]=f,b[4]=a):a=b[4];g=a;b[5]!==e||b[6]!==g?(a=i.jsx(c("PolarisClickEventLoggerContext.react").Provider,{value:g,children:e}),b[5]=e,b[6]=g,b[7]=a):a=b[7];return a}g["default"]=a}),98);
__d("PolarisStoriesStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";f=h._(/*BTDS*/"Your story");var i=h._(/*BTDS*/"Stories"),j=h._(/*BTDS*/"Tap to play");function a(a){return h._(/*BTDS*/"View as {story viewer username}?",[h._param("story viewer username",a)])}function b(a){return h._(/*BTDS*/"{story owner username} will be able to see that you viewed their story.",[h._param("story owner username",a)])}var k=h._(/*BTDS*/"View story"),l=h._(/*BTDS*/"Close Friends"),m=h._(/*BTDS*/"Close Friends only");function c(a){return h._(/*BTDS*/"Only people {story owner username} has added to their close friends list can see this photo.",[h._param("story owner username",a)])}function d(a){return h._(/*BTDS*/"Only people {story owner username} has added to their close friends list can see this video.",[h._param("story owner username",a)])}var n=h._(/*BTDS*/"Exclusive story"),o=h._(/*BTDS*/"Subscribers only");function e(a){return h._(/*BTDS*/"Only {story owner username}'s subscribers can see this story.",[h._param("story owner username",a)])}var p=h._(/*BTDS*/"Close"),q=h._(/*BTDS*/"This story is no longer available");g.YOUR_STORY_TEXT=f;g.STORIES_TEXT=i;g.TAP_TO_PLAY_TEXT=j;g.viewStoryTitleText=a;g.viewStorySubtitleText=b;g.VIEW_STORY=k;g.CLOSE_FRIENDS=l;g.CLOSE_FRIENDS_ONLY=m;g.CLOSE_FRIENDS_INFO_PHOTO=c;g.CLOSE_FRIENDS_INFO_VIDEO=d;g.EXCLUSIVE_STORY=n;g.EXCLUSIVE_STORY_ONLY=o;g.EXCLUSIVE_STORY_INFO=e;g.ALT_TEXT_CLOSE_ICON=p;g.STORY_EXPIRED_TEXT=q}),226);
__d("PolarisCloseFriendsLabel.react",["IGDSBox.react","IGDSStarPanoFilledIcon.react","IGDSTextVariants.react","PolarisIGCoreButton.react","PolarisStoriesStrings","PolarisWebStorage","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=b.useState,m="close_friends_expanded_count";function a(a){var b=d("react-compiler-runtime").c(23),e=a.onClick;a=a.textSize;a=a===void 0?"small":a;var f,g;if(b[0]===Symbol["for"]("react.memo_cache_sentinel")){var h;f=c("PolarisWebStorage").getLocalStorage();g=parseInt;h=(h=(h=f)==null?void 0:h.getItem(m))!=null?h:0;b[0]=f;b[1]=g;b[2]=h}else f=b[0],g=b[1],h=b[2];var n=g(h,10);g=l(!1);var o=g[0],p=g[1];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){return n<3},b[3]=h):h=b[3];g=l(h);h=g[0];var q=g[1],r=k(null);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){p(!0),q(!0),window.clearTimeout(r.current)},b[4]=g):g=b[4];g=g;var s;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(s=function(){p(!1)},b[5]=s):s=b[5];s=s;var t,u;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(){var a,b=n+1;(a=f)==null||a.setItem(m,String(b))},u=[n,f],b[6]=t,b[7]=u):(t=b[6],u=b[7]);j(t,u);b[8]!==o?(t=function(){r.current=window.setTimeout(function(){o||q(!1)},1500)},u=[o],b[8]=o,b[9]=u,b[10]=t):(u=b[9],t=b[10]);j(t,u);b[11]!==a?(t=a==="small"?i.jsx(d("IGDSTextVariants.react").IGDSTextBody2Emphasized,{color:"webAlwaysWhite",maxLines:1,children:d("PolarisStoriesStrings").CLOSE_FRIENDS}):i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"webAlwaysWhite",maxLines:1,children:d("PolarisStoriesStrings").CLOSE_FRIENDS}),b[11]=a,b[12]=t):t=b[12];u=t;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x1wyv8x2 xjwep3j x1t39747 x1wcsgtt x1pczhz8"},b[13]=a):a=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(t=i.jsx(c("IGDSStarPanoFilledIcon.react"),{alt:"Close Friends Icon",color:"web-always-white",size:12}),b[14]=t):t=b[14];var v;b[15]!==h||b[16]!==u?(v=h&&i.jsx("span",{className:"xwklpps",children:u}),b[15]=h,b[16]=u,b[17]=v):v=b[17];b[18]!==v?(h=i.jsx("div",babelHelpers["extends"]({},a,{children:i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",height:"100%",paddingX:2,paddingY:2,position:"relative",width:"100%",children:[t,v]})})),b[18]=v,b[19]=h):h=b[19];b[20]!==e||b[21]!==h?(u=i.jsx("div",{onMouseEnter:g,onMouseLeave:s,children:i.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:e,children:h})}),b[20]=e,b[21]=h,b[22]=u):u=b[22];return u}g["default"]=a}),98);
__d("PolarisDates",["fbt","polarisFormatDate"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){if(a<=1)return h._(/*BTDS*/"Now");else if(b)return h._(/*BTDS*/"{seconds}s",[h._param("seconds",a)]);return h._(/*BTDS*/"{seconds} seconds ago",[h._param("seconds",a)])}function j(a,b){if(b&&a===1)return h._(/*BTDS*/"1m");else if(b)return h._(/*BTDS*/"{minutes}m",[h._param("minutes",a)]);else if(a===1)return h._(/*BTDS*/"1 minute ago");return h._(/*BTDS*/"{minutes} minutes ago",[h._param("minutes",a)])}function k(a,b){if(b&&a===1)return h._(/*BTDS*/"1h");else if(b)return h._(/*BTDS*/"{hours}h",[h._param("hours",a)]);else if(a===1)return h._(/*BTDS*/"1 hour ago");return h._(/*BTDS*/"{hours} hours ago",[h._param("hours",a)])}function l(a,b){if(b&&a===1)return h._(/*BTDS*/"1d");else if(b)return h._(/*BTDS*/"{days}d",[h._param("days",a)]);else if(a===1)return h._(/*BTDS*/"1 day ago");return h._(/*BTDS*/"{days} days ago",[h._param("days",a)])}function m(a,b){if(b&&a===1)return h._(/*BTDS*/"1w");else if(b)return h._(/*BTDS*/"{weeks}w",[h._param("weeks",a)]);else if(a===1)return h._(/*BTDS*/"1 week ago");return h._(/*BTDS*/"{weeks} weeks ago",[h._param("weeks",a)])}function n(a){a=Math.floor(new Date().getTime()/1e3-a);var b=Math.floor(a/60),c=Math.floor(b/60),d=Math.floor(c/24),e=Math.floor(d/7);return{days:d,hours:c,minutes:b,seconds:a,weeks:e}}function o(a,b){a=n(a);var c=a.days,d=a.hours,e=a.minutes,f=a.seconds;a=a.weeks;if(f<60)return i(f,b);if(e<60)return j(e,b);if(d<24)return k(d,b);return c<7?l(c,b):m(a,b)}function a(a){var b=n(a),d=b.days,e=b.hours,f=b.minutes;b=b.seconds;if(b<60)return i(b,!1);if(f<60)return j(f,!1);if(e<24)return k(e,!1);if(d<8)return l(d,!1);b=new Date().getFullYear()===new Date(a*1e3).getFullYear();return b?c("polarisFormatDate")(a,"F j"):c("polarisFormatDate")(a,"F j, Y")}function b(a){return o(a,!1)}function d(a){return o(a,!0)}g.getTimestamp=a;g.ago=b;g.agoShortened=d}),226);
__d("PolarisEligibleForCommissionUnit.react",["fbt","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={root:{color:"x5n08af",fontSize:"x1pg5gke",lineHeight:"x152skdk",overflowX:"x6ikm8r",overflowY:"x10wlt62",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5);a=a.xstyle;var e;b[0]!==a?(e=(i||(i=c("stylex"))).props(l.root,a),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Eligible for commission"),b[2]=a):a=b[2];b[3]!==e?(a=k.jsx("span",babelHelpers["extends"]({},e,{children:a})),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("PolarisLikeButton.react",["invariant","CometVisualCompletionAttributes","IGDSHeartFilledIcon.react","IGDSHeartPanoOutlineIcon.react","IGDSIconButton.react","PolarisInteractionsStrings","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=a.color;b=b===void 0?"ig-primary-icon":b;var e=a.handleClick,f=a.isHovered,g=a.isLiked,h=a.likeChangeCount,i=a.onMouseEnter,k=a.padding,l=a.setIsHovered,m=a.shadow;m=m===void 0?!1:m;a=a.size;return j.jsx(c("IGDSIconButton.react"),{hover:g?null:j.jsx(c("IGDSHeartPanoOutlineIcon.react"),{alt:d("PolarisInteractionsStrings").LIKE_TEXT,color:b==="ig-secondary-icon"?"ig-stroke":"ig-secondary-icon",shadow:m,size:a}),onClick:e,padding:k,children:j.createElement("span",babelHelpers["extends"]({},{0:{},1:{className:"x1ykxiw6 x1ahuga x4hg4is x3oybdh"}}[!!(h>0)<<0],{key:h,onMouseEnter:function(){i==null||i(),l!=null&&l(!0)},onMouseLeave:function(){l!=null&&l(!1)}}),g?j.jsx(c("IGDSHeartFilledIcon.react"),{alt:d("PolarisInteractionsStrings").UNLIKE_TEXT,color:"ig-badge",shadow:m,size:a}):j.jsx(c("IGDSHeartPanoOutlineIcon.react"),{alt:d("PolarisInteractionsStrings").LIKE_TEXT,color:f===!0?"ig-secondary-icon":b,shadow:m,size:a}))})}k.displayName=k.name+" [from "+f.id+"]";a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={likeChangeCount:-1,prevIsLiked:null},b.$2=function(a){a.preventDefault(),b.props.onChange(!b.props.isLiked)},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);b.getDerivedStateFromProps=function(a,b){return a.isLiked!==b.prevIsLiked?{likeChangeCount:b.likeChangeCount+1,prevIsLiked:a.isLiked}:null};var d=b.prototype;d.focus=function(){this.$1||h(0,51544),this.$1.focus()};d.render=function(){var a=this.props,b=a.className,d=a.color,e=a["data-testid"];e=a.isHovered;var f=a.isLiked,g=a.onMouseEnter,h=a.padding;h=h===void 0?8:h;var i=a.setIsHovered,l=a.shadow;a=a.size;a=a===void 0?24:a;return j.jsx("span",{className:b,"data-testid":void 0,onMouseEnter:function(){g==null||g(),i!=null&&i(!0)},onMouseLeave:function(){i!=null&&i(!1)},children:j.jsx("div",babelHelpers["extends"]({className:"x1ypdohk"},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:j.jsx(k,{color:d,handleClick:this.$2,isHovered:e,isLiked:f,likeChangeCount:this.state.likeChangeCount,onMouseEnter:g,padding:h!=null?h:0,shadow:l,size:a})}))})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisPCManagerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("PolarisPostImpressionTrackingNode.react",["PolarisPCManagerContext.react","react","react-compiler-runtime","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=4;function l(a){return("0"+parseInt(a,16).toString()).slice(-2)}function m(a){if(a.charAt(0)==="#")return a;a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return a===null?null:"#"+l(a[1])+l(a[2])+l(a[3])}function a(a){var b=d("react-compiler-runtime").c(11),e=a.carouselInfo,f=a.children,g=a.childrenRef,h=a.componentType,l=a.elementId,n=a.numCarouselCards,o=a.trackingNode,p=j(c("PolarisPCManagerContext.react"));b[0]!==e||b[1]!==g||b[2]!==h||b[3]!==l||b[4]!==n||b[5]!==p||b[6]!==o?(a={onImpressionStart:function(){if(p==null||g.current==null)return;var a=g.current.getBoundingClientRect(),b=a.height,c=a.width,d=a.x;a=a.y;b={component_type:h,height:b,view_rendering_component_type:"react",view_tracking_node_name:o,width:c,x_pos:d,y_pos:a};if(h==="image"){d=(c=g.current)==null?void 0:c.querySelector("img");a=d==null?void 0:d.src;c=d==null?void 0:d.complete;e!=null&&(b=babelHelpers["extends"]({},b,e));b=babelHelpers["extends"]({},b,{has_fully_rendered:c,media_urls:a})}else if(h==="video"){c=(d=g.current)==null?void 0:d.querySelector("video");a=c==null?void 0:c.src;d=c==null?void 0:c.duration;c=(c==null?void 0:c.readyState)===k;e!=null&&(b=babelHelpers["extends"]({},b,e));b=babelHelpers["extends"]({},b,{has_fully_rendered:c,media_urls:a,video_duration_sec:d})}else if(h==="text"){c=window.getComputedStyle(g.current,null);a=parseInt(c.getPropertyValue("font-size"),10).toString();d=(d=g.current)==null?void 0:d.innerText;var f=parseInt(c.getPropertyValue("line-height"),10);c=m(c.getPropertyValue("color"));b=babelHelpers["extends"]({},b,{font_line_height:f,font_size:a,text_color:c,text_string:d})}else h==="carousel"&&(b=babelHelpers["extends"]({},b,{number_of_cards:String(n)}));p.setComponentData(o,l,b)}},b[0]=e,b[1]=g,b[2]=h,b[3]=l,b[4]=n,b[5]=p,b[6]=o,b[7]=a):a=b[7];a=c("usePartialViewImpression")(a);var q;b[8]!==f||b[9]!==a?(q=i.jsx("div",{ref:a,children:f}),b[8]=f,b[9]=a,b[10]=q):q=b[10];return q}g["default"]=a}),98);
__d("usePolarisTrackingDataURLParams",["PolarisTrackingCodeContext","PolarisTrackingConstants","PolarisTrackingNodesContext","encodeTrackingNode","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=d("react-compiler-runtime").c(8),b=i(c("PolarisTrackingCodeContext")),e=i(c("PolarisTrackingNodesContext"));if(b.length===0||e.length===0){var f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},a[0]=f):f=a[0];return f}a[1]!==e?(f=e.map(k).join(""),a[1]=e,a[2]=f):f=a[2];e=f;a[3]!==b?(f=b.map(j),a[3]=b,a[4]=f):f=a[4];b=f;if(a[5]!==e||a[6]!==b){f=(f={},f[d("PolarisTrackingConstants").TRACKING_CODE_PARAM]=b,f[d("PolarisTrackingConstants").TRACKING_NODE_PARAM]=e,f);a[5]=e;a[6]=b;a[7]=f}else f=a[7];return f}function j(a){return(a=a==null?void 0:a.trackingToken)!=null?a:""}function k(a){return c("encodeTrackingNode")(a.type)}g["default"]=a}),98);
__d("usePolarisOffsiteTrackingDataURLParams",["isPolarisAdLink","react-compiler-runtime","usePolarisTrackingDataURLParams"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(1),e=c("usePolarisTrackingDataURLParams")();if(a==null||!c("isPolarisAdLink")(a)){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];return a}return e}g["default"]=a}),98);
__d("PolarisPostIdContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j=i.createContext({mediaIdUFI:null,postId:null});function a(a){var b=d("react-compiler-runtime").c(6),c=a.children,e=a.mediaIdUFI;a=a.postId;var f;b[0]!==e||b[1]!==a?(f={mediaIdUFI:e,postId:a},b[0]=e,b[1]=a,b[2]=f):f=b[2];e=f;a=e;b[3]!==c||b[4]!==a?(f=i.jsx(j.Provider,{value:a,children:c}),b[3]=c,b[4]=a,b[5]=f):f=b[5];return f}g.PolarisPostIdContext=j;g.PolarisPostIdContextProvider=a}),98);
__d("PolarisProfileClickEventLoggerProvider.react",["PolarisProfileClickEventLoggerContext.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.onProfileClick;var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("PolarisProfileClickEventLoggerContext.react").Provider,{value:a,children:e}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("PolarisSponsoredLabel.react",["GHLSVGText.react","PolarisAdBlockerMitigationGatingHelpers","PolarisAdsGatingHelpers","PolarisPostImpressionTrackingNode.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef,l={root:{color:"x5n08af",fontSize:"x1fhwpqd",lineHeight:"x132q4wb",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12),e=a["data-testid"],f=a.label;a=a.xstyle;var g;b[0]!==f?(g=d("PolarisAdBlockerMitigationGatingHelpers").shouldUseSVGTextMitigation()===!0?j.jsx(c("GHLSVGText.react"),{fontSize:"12",text:f.toString()}):f,b[0]=f,b[1]=g):g=b[1];b[2]!==g?(f=j.jsx(j.Fragment,{children:g}),b[2]=g,b[3]=f):f=b[3];g=f;f=k(null);var i;b[4]!==a?(i=(h||(h=c("stylex"))).props(l.root,a),b[4]=a,b[5]=i):i=b[5];a=e!=null?e:"sponsored-label";b[6]!==g||b[7]!==i||b[8]!==a?(e=j.jsx("span",babelHelpers["extends"]({},i,{"data-testid":void 0,children:g})),b[6]=g,b[7]=i,b[8]=a,b[9]=e):e=b[9];g=e;if(d("PolarisAdsGatingHelpers").enableStoryPostImpressionLogging()){b[10]!==g?(i=j.jsx(c("PolarisPostImpressionTrackingNode.react"),{childrenRef:f,componentType:"text",elementId:"sponsoredLabel",trackingNode:"SPONSORED_LABEL",children:j.jsx("div",{ref:f,children:g})}),b[10]=g,b[11]=i):i=b[11];return i}return g}g["default"]=a}),98);
__d("PolarisSponsorsUnit.react",["fbt","IGDSText.react","IgBrandedContentEventFalcoEvent","PolarisEngagementLogger","PolarisUserLink.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useEffect,m={white:{color:"x1mzvbuk",fontSize:"x1pg5gke",lineHeight:"x152skdk",":visited_color":"x1dorbz4",":visited_fontSize":"x1tb0csp",":visited_lineHeight":"x19wia3t",$$css:!0}};function a(a){var b=a.color,d=b===void 0?"primary":b,e=a.loggingData;b=a.maxLines;var f=a.size,g=f===void 0?"body":f,i=a.source,j=a.sponsors;f=j.map(function(a){return k.jsx(n,{color:d,loggingData:e,size:g,sponsor:a},a.id)});l(function(){c("IgBrandedContentEventFalcoEvent").log(function(){var a;return{event_name:"paid_partnership_label_impression",event_source:i,media_id:e==null?void 0:e.mediaId,sponsor_ig_id:(a=j[0])==null?void 0:a.id}})},[]);var m;switch(f.length){case 0:m=h._(/*BTDS*/"Paid partnership");break;case 1:m=h._(/*BTDS*/"Paid partnership with {username of sponsor}",[h._param("username of sponsor",f[0])]);break;case 2:default:m=h._(/*BTDS*/"Paid partnership with {username of sponsor 1}, {username of sponsor 2}",[h._param("username of sponsor 1",f[0]),h._param("username of sponsor 2",f[1])]);break}return k.jsx(c("IGDSText.react"),{color:d==="white"?"textOnMedia":"primaryText",maxLines:b,size:g,testid:void 0,children:m})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=d("react-compiler-runtime").c(8),e=a.color,f=a.loggingData,g=a.size;a=a.sponsor;var h=e==="white"&&m.white,j;b[0]!==h?(j=(i||(i=c("stylex")))(h),b[0]=h,b[1]=j):j=b[1];h=e==="white"?"ig-text-on-media":void 0;e=f!=null?o:void 0;b[2]!==g||b[3]!==a.username||b[4]!==j||b[5]!==h||b[6]!==e?(f=k.jsx(c("PolarisUserLink.react"),{className:j,color:h,onClick:e,size:g,username:a.username}),b[2]=g,b[3]=a.username,b[4]=j,b[5]=h,b[6]=e,b[7]=f):f=b[7];return f}function o(){return d("PolarisEngagementLogger").logOrganicBrandProfile()}g["default"]=a}),226);
__d("PolarisTagAvatar.react",["PolarisFastLink.react","PolarisLinkBuilder","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={root:{backgroundColor:"xnz67gz",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",boxSizing:"x9f619",display:"x1lliihq",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6","::after_borderTopColor":"x3fla8b","::after_borderInlineEndColor":"xw4awpz","::after_borderBottomColor":"x2lkfoj","::after_borderInlineStartColor":"x1mbuvrt","::after_borderStartStartRadius":"xrw4ojt","::after_borderStartEndRadius":"xg6frx5","::after_borderEndEndRadius":"xw872ko","::after_borderEndStartRadius":"xhgbb2x","::after_borderTopStyle":"xynf4tj","::after_borderInlineEndStyle":"xdjs2zz","::after_borderBottomStyle":"x1r9ni5o","::after_borderInlineStartStyle":"xvsnedh","::after_borderTopWidth":"xoiy6we","::after_borderInlineEndWidth":"x16ouz9t","::after_borderBottomWidth":"x1qj619r","::after_borderInlineStartWidth":"xsrjr5h","::after_bottom":"x1xrz1ek","::after_content":"x1s928wv","::after_insetInlineEnd":"x1unh1gc","::after_insetInlineStart":"x1iygr5g","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_top":"x1m1drc7",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),e=a.isLink,f=a.profilePictureUrl,g=a.size,i=a.tagName;a=a.xstyle;e=e===void 0?!0:e;g=g===void 0?30:g;var l;b[0]!==g?(l={height:g,width:g},b[0]=g,b[1]=l):l=b[1];g=l;b[2]!==a?(l=(h||(h=c("stylex"))).props(k.root,a),b[2]=a,b[3]=l):l=b[3];b[4]!==e||b[5]!==f||b[6]!==g||b[7]!==i?(a=e?j.jsx(c("PolarisFastLink.react"),{className:"x4gyw5p",href:d("PolarisLinkBuilder").buildTagLink(i),style_DEPRECATED:g,children:j.jsx("img",{alt:"",className:"x5yr21d x11njtxf xh8yej3",src:f})}):j.jsx("img",{alt:"",className:"x5yr21d x11njtxf xh8yej3",src:f}),b[4]=e,b[5]=f,b[6]=g,b[7]=i,b[8]=a):a=b[8];b[9]!==g||b[10]!==l||b[11]!==a?(e=j.jsx("div",babelHelpers["extends"]({},l,{"data-testid":void 0,style:g,children:a})),b[9]=g,b[10]=l,b[11]=a,b[12]=e):e=b[12];return e}g["default"]=a}),98);
__d("PolarisTimestamp.react",["PolarisDates","polarisFormatDate","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["isLong","value"],i,j=i||d("react");function a(a){var b=a.isLong,e=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var f=new Date(e*1e3);f=f.toISOString();b=b===!0?d("PolarisDates").getTimestamp(e):d("PolarisDates").agoShortened(e);return j.jsx("time",babelHelpers["extends"]({},a,{className:a.className,dateTime:f,suppressHydrationWarning:!0,title:c("polarisFormatDate")(e,"M j, Y"),children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisTrackingNodeProvider.react",["PolarisTrackingNodesContext","cr:4877","react","react-compiler-runtime","useEmptyFunction","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext;e.useMemo;var k=(f=b("cr:4877"))!=null?f:c("useEmptyFunction");function a(a){var b=d("react-compiler-runtime").c(12),e=a.children,f=a.index,g=a.ref;a=a.trackingNode;var h=j(c("PolarisTrackingNodesContext")),l;b[0]!==f||b[1]!==a?(l={index:f,type:a},b[0]=f,b[1]=a,b[2]=l):l=b[2];b[3]!==h||b[4]!==l?(f=[l].concat(h),b[3]=h,b[4]=l,b[5]=f):f=b[5];a=f;h=a;l=k(h);f=c("useMergeRefs")(l,g);b[6]!==e||b[7]!==f?(a=e(f),b[6]=e,b[7]=f,b[8]=a):a=b[8];b[9]!==h||b[10]!==a?(l=i.jsx(c("PolarisTrackingNodesContext").Provider,{value:h,children:a}),b[9]=h,b[10]=a,b[11]=l):l=b[11];return l}g["default"]=a}),98);
__d("PolarisVideoVolumeControls.react",["fbt","IGDSBox.react","IGDSIconButton.react","IGDSVolumeNonePanoFilledIcon.react","IGDSVolumeOffFilledIcon.react","IGDSVolumePanoFilledIcon.react","PolarisIGCoreButton.react","PolarisIGCoreToast.react","PolarisVideoConstants","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState,l=1500,m="web-always-white",n=12,o=16,p={iconWrapperColor:{backgroundColor:"x18l40ae",$$css:!0}},q=h._(/*BTDS*/"Toggle audio");function r(a){var b=d("react-compiler-runtime").c(25),e=a.audioState,f=a.inPlayerControls,g=a.isStoryVideo;a=a.onClick;var i=g||f===!0?o:n,k;b[0]!==i?(k={color:m,size:i},b[0]=i,b[1]=k):k=b[1];i=k;var l;bb0:switch(e){case d("PolarisVideoConstants").AUDIO_STATES.on:b[2]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"Audio is playing"),b[2]=k):k=b[2];b[3]!==i?(e=j.jsx(c("IGDSVolumePanoFilledIcon.react"),babelHelpers["extends"]({alt:k},i,{"data-testid":void 0})),b[3]=i,b[4]=e):e=b[4];l=e;break bb0;case d("PolarisVideoConstants").AUDIO_STATES.off:b[5]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"Audio is muted"),b[5]=k):k=b[5];b[6]!==i?(e=j.jsx(c("IGDSVolumeOffFilledIcon.react"),babelHelpers["extends"]({alt:k,"data-testid":void 0},i)),b[6]=i,b[7]=e):e=b[7];l=e;break bb0;case d("PolarisVideoConstants").AUDIO_STATES.none:b[8]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"Video has no audio"),b[8]=k):k=b[8];b[9]!==i?(e=j.jsx(c("IGDSVolumeNonePanoFilledIcon.react"),babelHelpers["extends"]({alt:k,"data-testid":void 0},i)),b[9]=i,b[10]=e):e=b[10];l=e}if(l==null)return null;if(g===!0){b[11]!==l||b[12]!==a?(k=j.jsx(c("IGDSIconButton.react"),{"aria-label":q,onClick:a,children:l}),b[11]=l,b[12]=a,b[13]=k):k=b[13];return k}b[14]!==f?(i=f===!0?{color:"transparent",marginBottom:0,marginEnd:0,padding:0}:{margin:3,padding:2,xstyle:p.iconWrapperColor},b[14]=f,b[15]=i):i=b[15];e=i;g=f===!0?"relative":"absolute";b[16]!==l||b[17]!==e?(k=j.jsx(c("IGDSBox.react"),babelHelpers["extends"]({},e,{shape:"circle",children:l})),b[16]=l,b[17]=e,b[18]=k):k=b[18];b[19]!==a||b[20]!==k?(i=j.jsx(c("PolarisIGCoreButton.react"),{"aria-label":q,borderless:!0,onClick:a,children:k}),b[19]=a,b[20]=k,b[21]=i):i=b[21];b[22]!==g||b[23]!==i?(f=j.jsx(c("IGDSBox.react"),{bottom:!0,position:g,right:!0,children:i}),b[22]=g,b[23]=i,b[24]=f):f=b[24];return f}function a(a){var b=d("react-compiler-runtime").c(16),e=a.absolutePositionToast,f=a.audioState,g=a.forceMuteReason,i=a.inPlayerControls,m=a.isStoryVideo,n=a.onClick;a=e===void 0?!0:e;e=k(!1);var o=e[0],p=e[1];e=!(g==null||g==="");m=m!=null?m:!1;var q;b[0]!==f||b[1]!==n?(q=function(a){n(a),f===d("PolarisVideoConstants").AUDIO_STATES.none&&p(!0)},b[0]=f,b[1]=n,b[2]=q):q=b[2];var s;b[3]!==f||b[4]!==i||b[5]!==m||b[6]!==q?(s=j.jsx(r,{audioState:f,inPlayerControls:i,isStoryVideo:m,onClick:q}),b[3]=f,b[4]=i,b[5]=m,b[6]=q,b[7]=s):s=b[7];b[8]!==a||b[9]!==g||b[10]!==e||b[11]!==o?(i=o&&j.jsx(c("PolarisIGCoreToast.react"),{absolutePosition:a,duration:l,onClose:function(){return p(!1)},wide:!0,children:e?String(g):h._(/*BTDS*/"Video Has No Sound")}),b[8]=a,b[9]=g,b[10]=e,b[11]=o,b[12]=i):i=b[12];b[13]!==s||b[14]!==i?(m=j.jsxs(j.Fragment,{children:[s,i]}),b[13]=s,b[14]=i,b[15]=m):m=b[15];return m}g["default"]=a}),226);
__d("polarisAdsSelectors.react",["PolarisContainerModuleUtils","PolarisReactRedux.react","PolarisReportConstants","polarisCreateSelectorWithArg","polarisStorySelectors","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisSponsoredStoryLoggingParams","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h=c("polarisCreateSelectorWithArg"))(function(a){return a.ads.feed},function(a){return function(b){return a.get(b)}}),j=h(function(a){return a.ads.feed},function(a){return function(b){return a.findKey(function(a){return a.ad_id===b})}}),k=h(function(a){return a.ads.story},function(a){return function(b){return a.findKey(function(a){return a.ad_id===b})}});function a(a,b){var c=d("react-compiler-runtime").c(3),e;c[0]!==b||c[1]!==a?(e=function(c){if(a==null)return null;c=i(c,a);return b(c)},c[0]=b,c[1]=a,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function b(a,b){var c=d("react-compiler-runtime").c(3),e;c[0]!==b||c[1]!==a?(e=function(c){if(a==null)return null;c=l(c,a);return b(c)},c[0]=b,c[1]=a,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function e(a,b){var c=d("react-compiler-runtime").c(3),e;c[0]!==b||c[1]!==a?(e=function(c){return b(c.stories.currentTrayOrder.indexOf(a))},c[0]=b,c[1]=a,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}var l=h(function(a){return a.ads.story},function(a){return function(b){return a.get(b)}});function m(a,b){var c=d("react-compiler-runtime").c(3),e;c[0]!==a||c[1]!==b?(e=function(c){if(b===d("PolarisReportConstants").FRXLocation.FEED)return j(c,a);else if(b===d("PolarisReportConstants").FRXLocation.STORY)return k(c,a);return null},c[0]=a,c[1]=b,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function n(a,b,c){var e=d("react-compiler-runtime").c(4),f;e[0]!==c||e[1]!==b||e[2]!==a?(f=function(e){if(a==null)return null;var f=null;b===d("PolarisReportConstants").FRXLocation.FEED?f=i(e,a):b===d("PolarisReportConstants").FRXLocation.STORY&&(f=l(e,a));return c(f)},e[0]=c,e[1]=b,e[2]=a,e[3]=f):f=e[3];return d("PolarisReactRedux.react").useSelector(f)}function f(a,b){var e,f=d("react-compiler-runtime").c(17),g=(e=m(a,b))!=null?e:a;e=n(g,b,o);f[0]!==g?(a=function(a){return a.posts.byId.get(g)},f[0]=g,f[1]=a):a=f[1];a=d("PolarisReactRedux.react").useSelector(a);var h=d("PolarisReactRedux.react").useSelector(d("polarisStorySelectors").getCurrentReel);h=c("usePolarisSponsoredStoryLoggingParams")(h,a);a=h.adInsertedPosition;var i=h.mpk,j=h.reelId,k=h.sessionReelCounter,l=h.traySession;h=h.viewerSession;var p;f[2]===Symbol["for"]("react.memo_cache_sentinel")?(p={},f[2]=p):p=f[2];p=p;if(b===d("PolarisReportConstants").FRXLocation.STORY){f[3]!==a||f[4]!==j||f[5]!==k||f[6]!==l||f[7]!==h?(b={ad_inserted_position:a,reel_id:j,session_reel_counter:k,tray_session_id:l,viewer_session_id:h},f[3]=a,f[4]=j,f[5]=k,f[6]=l,f[7]=h,f[8]=b):b=f[8];p=b}a=c("usePolarisViewer")();j=c("usePolarisAnalyticsContext")();f[9]!==j?(k=d("PolarisContainerModuleUtils").getContainerModule(j),f[9]=j,f[10]=k):k=f[10];l=k;h=a==null?void 0:a.id;f[11]!==e||f[12]!==l||f[13]!==i||f[14]!==p||f[15]!==h?(b=babelHelpers["extends"]({m_pk:i,pigeon_reserved_keyword_module:l,pk:h,source_of_action:l,tracking_token:e},p),f[11]=e,f[12]=l,f[13]=i,f[14]=p,f[15]=h,f[16]=b):b=f[16];return b}function o(a){return a==null?void 0:a.tracking_token}g.useFeedAdInfo=a;g.useStoryAdInfo=b;g.useStoryAdPosition=e;g.useAdPostIDFromAdIDForFRX=m;g.useAdInfoForFRX=n;g.useFRXReportAdLoggingParams=f}),98);
__d("usePolarisSponsoredStoryLoggingParams",["PolarisContainerModuleUtils","PolarisInteractionsLogger","PolarisStoriesLoggingUtils","PolarisViewpointActionUtils","polarisAdsSelectors.react","polarisRelationshipSelectors.react","polarisStorySelectors","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisSelector","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e,f=d("react-compiler-runtime").c(41),g=d("polarisAdsSelectors.react").useStoryAdInfo(b==null?void 0:b.id,k),l;f[0]!==(a==null?void 0:a.id)?(l=function(b){return b.stories.currentTrayOrder.indexOf(a==null?void 0:a.id)},f[0]=a==null?void 0:a.id,f[1]=l):l=f[1];l=c("usePolarisSelector")(l);var m;f[2]!==l?(m=l.toString(),f[2]=l,f[3]=m):m=f[3];l=m;m=(m=a==null?void 0:a.isSponsored)!=null?m:!1;var n=c("usePolarisSelector")(j),o=c("usePolarisAnalyticsContext")(),p;f[4]!==o?(p=d("PolarisContainerModuleUtils").getContainerModule(o),f[4]=o,f[5]=p):p=f[5];o=p;p=d("polarisRelationshipSelectors.react").useRelationship((p=b==null?void 0:b.ownerId)!=null?p:"");var q;f[6]!==p?(q=p!=null?d("PolarisViewpointActionUtils").getFollowStatus(p):null,f[6]=p,f[7]=q):q=f[7];p=q;f[8]!==(a==null?void 0:a.id)?(q=function(b){return d("polarisStorySelectors").getGapToPreviousAd(b,a==null?void 0:a.id)},f[8]=a==null?void 0:a.id,f[9]=q):q=f[9];q=c("usePolarisSelector")(q);var r;f[10]!==b?(r=b!=null?d("PolarisInteractionsLogger").getMediaTypeFromPost(b).toString():null,f[10]=b,f[11]=r):r=f[11];r=r;if(f[12]!==b){var s;s=b!=null?d("PolarisViewpointActionUtils").getMPKForStoryMedia(b.id,(s=b.owner)==null?void 0:s.id):null;f[12]=b;f[13]=s}else s=f[13];s=s;var t=b==null?void 0:b.owner;t=t==null?void 0:t.id;var u;if(f[14]!==(b==null?void 0:b.postedAt)){var v;u=b==null||(v=b.postedAt)==null?void 0:v.toString();f[14]=b==null?void 0:b.postedAt;f[15]=u}else u=f[15];u=u;var w=a==null?void 0:a.id,x;if(f[16]!==(a==null||(e=a.itemIds)==null?void 0:e.length)){var y,z;x=a==null||(y=a.itemIds)==null?void 0:y.length.toString();f[16]=a==null||(z=a.itemIds)==null?void 0:z.length;f[17]=x}else x=f[17];x=x;var A=a==null?void 0:a.type,B;f[18]!==A?(B=d("PolarisStoriesLoggingUtils").getTypeForLogging(A),f[18]=A,f[19]=B):B=f[19];A=B;var C;f[20]===Symbol["for"]("react.memo_cache_sentinel")?(B=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData(),C=B.reelCounter.toString(),f[20]=B,f[21]=C):(B=f[20],C=f[21]);C=C;b=d("polarisAdsSelectors.react").useStoryAdInfo(b==null?void 0:b.id,i);var D=c("usePolarisSelector")(d("polarisStorySelectors").getStoriesContent);D=D.traySession;var E=c("usePolarisSelector")(h),F=c("usePolarisViewer")();F=F==null?void 0:F.id;f[22]!==g||f[23]!==o||f[24]!==p||f[25]!==q||f[26]!==m||f[27]!==r||f[28]!==s||f[29]!==t||f[30]!==u||f[31]!==w||f[32]!==x||f[33]!==A||f[34]!==l||f[35]!==n||f[36]!==b||f[37]!==D||f[38]!==F||f[39]!==E?(B={adId:g,adInsertedPosition:l,containerModule:o,followStatus:p,gapToLastAd:q,isReelSponsored:m,loggingData:B,mediaType:r,mpk:s,ownerId:t,postedAt:u,reelId:w,reelSize:x,reelType:A,reelViewerPosition:l,sessionReelCounter:C,storyAdInjectionData:n,trackingToken:b,traySession:D,viewerId:F,viewerSession:E},f[22]=g,f[23]=o,f[24]=p,f[25]=q,f[26]=m,f[27]=r,f[28]=s,f[29]=t,f[30]=u,f[31]=w,f[32]=x,f[33]=A,f[34]=l,f[35]=n,f[36]=b,f[37]=D,f[38]=F,f[39]=E,f[40]=B):B=f[40];return B}function h(a){return a.stories.viewerSession}function i(a){return a==null?void 0:a.tracking_token}function j(a){return a.ads.storyAdInjectionData}function k(a){return a==null?void 0:a.ad_id}g["default"]=a}),98);
__d("useIGDSecureShareSheetInteractionLogger",["MessengerWebUXLogger","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.messageLength,c=a.recipientIDs,d=a.shareType;a=a.source;d={shareType:d,source:a};c!=null&&(d.recipientIDs=JSON.stringify(c));b!=null&&(d.messageLength=b.toString());return d}function a(a,b){var e=d("react-compiler-runtime").c(5),f;e[0]!==a?(f=h(a),e[0]=a,e[1]=f):f=e[1];var g;e[2]!==a.flowInstanceId||e[3]!==f?(g={eventName:"igd_sharesheet_impression",extraData:f,flowInstanceId:a.flowInstanceId},e[2]=a.flowInstanceId,e[3]=f,e[4]=g):g=e[4];return c("MessengerWebUXLogger").useImpressionLoggerRef(g,b)}function b(){var a=d("react-compiler-runtime").c(2),b=c("MessengerWebUXLogger").useInteractionLogger(),e;a[0]!==b?(e=function(a,c){b==null||b({eventName:a,extraData:h(c),flowInstanceId:c.flowInstanceId})},a[0]=b,a[1]=e):e=a[1];return e}g.useLogShareSheetImpressionRef=a;g.useLogShareSheetInteraction=b}),98);
__d("usePolarisEventListenerRef",["CometEventListener","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a,b,e){var f=d("react-compiler-runtime").c(7),g;f[0]!==e?(g=e===void 0?{capture:!1}:e,f[0]=e,f[1]=g):g=f[1];var h=g,k=j(null),l=j();f[2]!==a||f[3]!==b||f[4]!==h?(e=function(){l.current!=null&&(k.current=c("CometEventListener").addListenerWithOptions(l.current,a,b,h));return function(){k.current&&(k.current.remove(),k.current=null)}},g=[a,b,h],f[2]=a,f[3]=b,f[4]=h,f[5]=e,f[6]=g):(e=f[5],g=f[6]);i(e,g);return l}g["default"]=a}),98);
__d("usePolarisGNVReporter",["PolarisContainerModuleUtils","PolarisGNVManagerContext.react","react","react-compiler-runtime","useMergeRefs","usePolarisALTrackingData","usePolarisAnalyticsContext","usePolarisEventListenerRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){var b=d("react-compiler-runtime").c(12),e=c("usePolarisAnalyticsContext")(),f;b[0]!==e?(f=d("PolarisContainerModuleUtils").getContainerModule(e),b[0]=e,b[1]=f):f=b[1];var g=f,h=i(c("PolarisGNVManagerContext.react"));e=c("usePolarisALTrackingData")();b[2]!==e?(f=e.map(j),b[2]=e,b[3]=f):f=b[3];var k=f;b[4]!==g||b[5]!==h||b[6]!==a||b[7]!==k?(e=function(b){if(b instanceof MouseEvent&&b.type==="auxclick"&&b.button!==1)return;h==null||h.setGestureTrackingData(g,a,k)},b[4]=g,b[5]=h,b[6]=a,b[7]=k,b[8]=e):e=b[8];f=e;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(e={capture:!0},b[9]=e):e=b[9];e=c("usePolarisEventListenerRef")("click",f,e);var l;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(l={capture:!0},b[10]=l):l=b[10];l=c("usePolarisEventListenerRef")("contextmenu",f,l);var m;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(m={capture:!0},b[11]=m):m=b[11];b=c("usePolarisEventListenerRef")("auxclick",f,m);return c("useMergeRefs")(e,l,b)}function j(a){return a!=null?JSON.stringify(a):""}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ChatGeminiDisplayContextProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext,k=c.useMemo,l=i.createContext({displaySurface:"inbox"});function a(a){var b=a.children,c=a.displaySurface,d=a.sideChatMainMessage,e=a.sideChatMainMessageId;a=k(function(){return{displaySurface:c,sideChatMainMessage:d,sideChatMainMessageId:e}},[c,d,e]);return i.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(l)}g.ChatGeminiDisplayContextProvider=a;g.useChatGeminiDisplayContext=b}),98);
__d("IGDUncaughtErrorState.react",["FBLogger","PolarisHttp500UnexpectedErrorPage.react","cr:8915","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function k(a){if(b("cr:8915")!=null&&a!=null&&a instanceof b("cr:8915").ReStoreDbVersionChange){c("FBLogger")("igd_web").info(a);return}c("FBLogger")("igd_web").catching(a).mustfix("Uncaught Error while loading chat: %s",a.toString())}function a(a){var b=d("react-compiler-runtime").c(7),e=a.description,f=a.error,g=a.header;a=a.onPress;var h,l;b[0]!==f?(h=function(){k(f)},l=[f],b[0]=f,b[1]=h,b[2]=l):(h=b[1],l=b[2]);j(h,l);h=e!=null?e:void 0;l=g!=null?g:void 0;b[3]!==a||b[4]!==h||b[5]!==l?(e=i.jsx(c("PolarisHttp500UnexpectedErrorPage.react"),{description:h,header:l,onClick:a}),b[3]=a,b[4]=h,b[5]=l,b[6]=e):e=b[6];return e}g["default"]=a}),98);
__d("IGDInboxErrorState.react",["IGDUncaughtErrorState.react","cr:9977","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var e=d("react-compiler-runtime").c(10);a=a.error;var f;f=a;f=f;var g=c("useCurrentDisplayMode")(),h;e[0]!==a||e[1]!==g?(h=b("cr:9977")==null?void 0:b("cr:9977")(a,g),e[0]=a,e[1]=g,e[2]=h):h=e[2];g=h;h=g;if(h!=null){g=(g=h.action)==null?void 0:g.onPress;var j;e[3]!==h.body||e[4]!==h.headline||e[5]!==f||e[6]!==g?(j=i.jsx(c("IGDUncaughtErrorState.react"),{description:h.body,error:f,header:h.headline,onPress:g}),e[3]=h.body,e[4]=h.headline,e[5]=f,e[6]=g,e[7]=j):j=e[7];return j}else{e[8]!==a?(h=i.jsx(c("IGDUncaughtErrorState.react"),{error:a}),e[8]=a,e[9]=h):h=e[9];return h}}g["default"]=a}),98);
__d("LSPlatformClientMaybeEagerly",["LSEagerlyLoadOnMessenger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("LSPlatformClient").__setRef("LSPlatformClientMaybeEagerly");b=d("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(a);g["default"]=b}),98);
__d("LSPlatformArmadilloUtils",["MAWMIC","MAWMICSchema","Promise","cr:6998","cr:7349","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MAWThreadConsistencyLogger").__setRef("LSPlatformArmadilloUtils"),k=(h=b("cr:6998"))!=null?h:b("cr:7349"),l=[];function a(a){l.push(a)}function e(){k==null||k.completeSync();void j.load().then(function(a){return a.startMAWThreadConsistencyLogger()});if(l.length===0){k==null||k.maybeEndOccamadilloThreadMapping();return}c("promiseDone")((i||(i=b("Promise"))).allSettled(l.map(function(a){return a()})),function(){return k==null?void 0:k.maybeEndOccamadilloThreadMapping()})}function f(){d("MAWMIC").addPoint("ls_init_end")}function m(){d("MAWMIC").addPoint("ls_init_start")}function n(){d("MAWMIC").addPoint("ls_sync_start")}function o(){d("MAWMIC").addPoint(d("MAWMICSchema").POINTS.ls_sync_end)}function p(a){d("MAWMIC").fail("init_sync_failure",a)}g.executeOnThreadMappingEnd=a;g.occamadilloInitEnd=e;g.reportInitEnd=f;g.reportInitStart=m;g.reportSyncStart=n;g.reportSyncEnd=o;g.reportInitSyncFailure=p}),98);
__d("LSPlatformClientSingleton",[],(function(a,b,c,d,e,f){"use strict";var g={contents:void 0};function a(a){g.contents=a}f.saveInstance=a}),66);
__d("isRegisterArmadilloOnIgEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("26380")===!0}g["default"]=a}),98);
__d("maybeSetupMAWMainThreadLogger",["MessengerLogHistory","cr:6999","cr:7350","isArmadillo","isRegisterArmadilloOnIgEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init"),i=(a=b("cr:6999"))!=null?a:b("cr:7350");e=function(){i!=null&&(c("isArmadillo")()||c("isRegisterArmadilloOnIgEnabled")())&&(h.debug("Starting MAW main thread logger setup..."),i.setupMainWaLogger(),h.debug("Starting MAW main thread logger setup success"))};g.maybeSetupMAWMainThreadLogger=e}),98);
__d("LSPlatformClientInstances",["ExecutionEnvironment","FBLogger","LSLocalize","LSPlatformArmadilloUtils","LSPlatformClientSingleton","LSPlatformLsInitLog","LSSuspense","MAWLoggerUtils","MAWMIC","MessengerLogHistory","PromiseAnnotate","asyncToGeneratorRuntime","cr:19622","getErrorSafe","maybeSetupMAWMainThreadLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b("LSLocalize");d("MAWLoggerUtils").initMessengerWebLogging();var k=d("MessengerLogHistory").getInstance("client_init"),l=(j||(j=c("LSSuspense"))).makeCollection(),m=!1;function a(a,e,f){d("MAWMIC").startMAWMICFlow();m||(k.debug("[Occamadillo] Beginning hardcoded init sync"),m=!0,d("maybeSetupMAWMainThreadLogger").maybeSetupMAWMainThreadLogger());d("LSPlatformArmadilloUtils").reportInitStart();var g=function(a){a=c("getErrorSafe")(a);k.debug("Initializing LSPlatformClient failed");d("LSPlatformLsInitLog").fail("client_setup_failure",a);d("MAWMIC").fail("client_setup_failure",a);c("FBLogger")("messenger_web").catching(a).warn("[LS] LSPlatformClient initialization failure");throw a};return(j||(j=c("LSSuspense"))).getFromCollection(l,a,function(){return(h||(h=d("PromiseAnnotate"))).setDisplayName(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("LSPlatformLsInitLog").addAnnotations({bool:{canUseDOM:(i||(i=c("ExecutionEnvironment"))).canUseDOM,fromReact:f==null?void 0:f.fromReact},string:{configAppId:a.appId,configPlatformName:a.platformName}});k.debug("Messenger loading UI suspending");try{var h=b("cr:19622")!=null?yield b("cr:19622").maybeEvaluateInitSyncEagerly(a):!1;if(!(i||(i=c("ExecutionEnvironment"))).isInBrowser)return yield a.getDb();h=e(a,{didEvaluateInitSyncEagerly:h}).then(function(a){d("LSPlatformLsInitLog").addPoint("start_client");return a.start().then(function(){k.debug("Initializing LSPlatformClient success");d("LSPlatformClientSingleton").saveInstance(a);d("LSPlatformArmadilloUtils").reportInitEnd();return a.db})});return yield h}catch(a){g(a)}finally{k.debug("Messenger loading UI unsuspending")}})(),"InitLSPlatformClient")})}e={getOrInit:a};g["default"]=e}),98);
__d("LSPlatformLogTooManyPendingTasksForS337085.react",["FBLogger","MWPBumpEntityKey","ReQL","clearTimeout","gkx","justknobx","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useRef,l=c("justknobx")._("1134"),m=c("justknobx")._("1135"),n=c("gkx")("24156");function a(){var a=(h||(h=c("useReStore")))(),b=k(null),e=k(!1);j(function(){var f=a.tables.pending_tasks.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.pending_tasks).take(l)),function(a){var f=a.length;if(f===l){if(b.current!=null)return;b.current=c("setTimeout")(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","tasks_table_above_threshold"),e.current=!0,n&&c("FBLogger")("lsplatform_tasks","tasks_table_above_threshold").warn("pending tasks table is above threshold. It has %s tasks after %s ms",f,m)},m)}else c("clearTimeout")(b.current),e.current&&n&&c("FBLogger")("lsplatform_tasks","tasks_table_cleared").warn("pending tasks table is now cleared"),e.current=!1})});return function(){f()}},[a]);return null}g["default"]=a}),98);
__d("LSPlatformClientProviderAddons.react",["CometPlaceholder.react","LSPlatformLogTooManyPendingTasksForS337085.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"LSPlatformClientProviderAddons",children:c("LSPlatformLogTooManyPendingTasksForS337085.react")!=null&&i.jsx(c("LSPlatformLogTooManyPendingTasksForS337085.react"),{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSPlatformErrorsCatcher.react",["MetaConfig","cr:7070","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));e=h;var i=e.useEffect,j=e.useState;function a(a){var d=a.children;a=a.fallback;var e=j(null),f=e[0],g=e[1];i(function(){var a=b("cr:7070")&&b("cr:7070").subscribe(function(a){g(a)});return function(){a&&a()}},[]);e=(e=b("cr:7070")==null?void 0:b("cr:7070").lastError())!=null?e:f;if(c("MetaConfig")._("66")&&e!=null&&a!=null)return a(e);else return d}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWCondSetup.react",["cr:3921","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");f=c("gkx")("20836")?a.Fragment:(e=b("cr:3921"))!=null?e:a.Fragment;d=f;g["default"]=d}),98);
__d("MAWSetupWrapperOnce.react",["CometPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext(!1);function a(a){var b=a.children;a=a.setupComponent;var d=j(k);return d?b:i.jsxs(k.Provider,{value:!0,children:[b,i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSetupWrapperOnce",children:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWCondWrapper.react",["MAWCondSetup.react","MAWSetupWrapperOnce.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.children;return i.jsx(c("MAWSetupWrapperOnce.react"),{setupComponent:i.jsx(c("MAWCondSetup.react"),{}),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSPlatformClientProvider.react",["CometDOMOnlyBoundary.react","CometPlaceholder.react","LSPlatformClientInstances","LSPlatformClientProviderAddons.react","LSPlatformErrorsCatcher.react","LSSuspense","MAWCondWrapper.react","ReStoreProvider.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function l(a,b){a=(h||(h=c("LSSuspense"))).getOrSuspend(a);return c("LSPlatformClientInstances").getOrInit(a,b,{fromReact:!0})}function m(a){var b=a.children,c=a.config;a=a.loadLSPlatformClient;c=l(c,a);return c!=null?k.jsx((i||(i=d("ReStoreProvider.react"))).ReStoreProvider,{db:c,children:b}):b}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.children,d=a.config,e=a.errorFallback,f=a.loadLSPlatformClient;a=a.placeholder;e=k.jsx(c("LSPlatformErrorsCatcher.react"),{fallback:e,children:k.jsx(c("MAWCondWrapper.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:a,name:"LSPlatformClientProvider.ClientProvider",children:k.jsxs(m,{config:d,loadLSPlatformClient:f,children:[k.jsx(c("LSPlatformClientProviderAddons.react"),{}),k.jsx(c("CometPlaceholder.react"),{fallback:a,name:"LSPlatformClientProvider.UISuspense",children:b})]})})})});return c("gkx")("12254")?k.jsx(c("CometDOMOnlyBoundary.react"),{children:e}):e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSPlatformClientProviderWithDeferredLoadingStrategy.react",["LSPlatformClientMaybeEagerly","LSPlatformClientProvider.react","LSPlatformLsInitLog","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){d("LSPlatformLsInitLog").addPoint("load_ls_platform_client");var e=(yield c("LSPlatformClientMaybeEagerly").load());d("LSPlatformLsInitLog").addPoint("load_ls_platform_client_loaded");return e.make(a,b)});return k.apply(this,arguments)}function a(a){var b=a.children,d=a.config,e=a.errorFallback;a=a.placeholder;return i.jsx(c("LSPlatformClientProvider.react"),{config:d,errorFallback:e,loadLSPlatformClient:j,placeholder:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSCometSSRDatabase",["LSJSInMemoryStorage","LSMetadata"],(function(a,b,c,d,e,f,g){"use strict";a=c("LSJSInMemoryStorage")(d("LSMetadata").schema);g["default"]=a}),98);
__d("LSClearEpochBeforeResumeSync",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.runInTransaction(function(a){var c;return(c=d("ReQL")).toArrayAsync(c.mergeJoin(c.fromTableAscending(a.sync_groups),c.fromTableAscending(a.network_requests).getKeyRange(""))).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){b=b[1];return a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})}))}).then(function(){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).filter(function(a){return a.taskQueueName!==""})).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){return a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})}))})})},"readwrite","ui",void 0,f.id+":17").then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("LSDatabaseAfterInitSyncSingleton",["Deferred","PromiseAnnotate"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(c("Deferred"))();a=function(a){void a.then(function(a){return i.resolve(a)})};b=(h||(h=d("PromiseAnnotate"))).setDisplayName(i.getPromise(),"LSDatabaseSingletonAfterInitSync");e=function(){return i.isSettled()};g.resolveInitSync=a;g.LSDatabaseAfterInitSyncSingleton=b;g.isInitSyncResolved=e}),98);
__d("LSPlatformGraphQLTransport",["FBLogger","I64","LSDynamicDependencies","LSProgramTarget","MessengerLogHistory","Promise","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="LSPlatformGraphQLTransport.ServerError";function a(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k){var l=d("MessengerLogHistory").getInstance("client_sync"),m=null;try{m=(yield k(a,e,g,(i||(i=d("I64"))).to_int32(f)))}catch(a){k=c("FBLogger")("messenger_web");a instanceof Error&&(l.error("Error sending Graphql Request. Type: "+(i||(i=d("I64"))).to_string(f)+" Message: "+(a.message!=null?a.message:"None")),k=k.catching(a),k.debug("Relay or Graphql Server error in LSPlatformGraphqlTransport"));throw k.mustfixThrow(j)}a=c("nullthrows")(m);e=a.dependencies;g=a.experiments;l=a.payload;var n=a.target;f=c("nullthrows")(l);k=e==null?(h||(h=b("Promise"))).resolve():d("LSDynamicDependencies").downloadRelayDependencies(e);m=Array.from(c("LSProgramTarget").members()).find(function(a){return c("LSProgramTarget").getName(a)===n});return[k,f,g,m]});return k.apply(this,arguments)}g.ServerError=j;g.publish=a}),98);
__d("LSPlatformHardcodedInitSync",["CurrentMessengerUser","FBLogger","I64","IGDWebUtils","LSDatabaseAfterInitSyncSingleton","LSDatabaseProviderType","LSDict","LSIntEnum","LSJson","LSPlatformArmadilloUtils","LSPlatformGraphQLTransport","LSPlatformLsInitLog","MWPBumpEntityKey","MetaConfig","Promise","QuickPerformanceLogger","ReQL","asyncToGeneratorRuntime","getErrorSafe","isArmadillo","isInstamadillo","isRegisterArmadilloOnIgEnabled","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("isArmadillo")()||c("isRegisterArmadilloOnIgEnabled")()&&!c("isInstamadillo")(),m=!d("CurrentMessengerUser").isWorkUser()&&!d("IGDWebUtils").isOnInstagramWeb(),n=[1,l?95:null,m?104:null].filter(Boolean);function o(a){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(k||(k=b("Promise"))).all(n.map(function(b){return a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(b),taskQueueName:""})}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":63").then(function(){return(k||(k=b("Promise"))).resolve()})}function p(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange("",(j||(j=d("LSIntEnum"))).ofNumber(b)))}function q(a){return a.runInTransaction(function(a){return(k||(k=b("Promise"))).all(n.map(function(c){return p(a,c).then(function(c){return c!=null?a.network_requests.put({epochId:(i||(i=d("I64"))).zero,failureCount:c.failureCount,lastDelayedRequestTimestampMs:c.lastDelayedRequestTimestampMs,lastSentTimestampMs:c.lastSentTimestampMs,lastSyncRequestTimestampMs:c.lastSyncRequestTimestampMs,networkTaskIdentifier:c.networkTaskIdentifier,syncDatabaseId:c.syncDatabaseId,taskQueueName:c.taskQueueName}):(k||(k=b("Promise"))).resolve()})})).then(function(){})},"readwrite","ui",void 0,f.id+":98")}function r(a){if(d("LSDatabaseProviderType").isProviderPersisted(a)&&c("MetaConfig")._("76"))return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield p(a,1));b!=null&&(yield a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName}))});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":131");else return(k||(k=b("Promise"))).resolve()}function s(a){d("CurrentMessengerUser").isWorkUser()&&(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(1036588047,"310"),a)}function t(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(b)))}function u(a,b,e,f){return new(c("LSDict"))().set("database",(j||(j=d("LSIntEnum"))).ofNumber(a)).set("epoch_id",(i||(i=d("I64"))).zero).set("last_applied_cursor",e).set("sync_params",f!=null?f:"{}").set("version",i.of_string(b))}function v(a){var b=0,c=0,e=function(e){c++;c===a&&d("LSPlatformLsInitLog").addPoint("gql_fetch_end");b===0&&d("LSPlatformLsInitLog").addPoint("gql_deps_start");return e.then(function(){b===0&&(d("LSPlatformLsInitLog").addPoint("ls_sync_execute_start"),d("LSPlatformLsInitLog").LsSync.markStart()),b++,b===a&&d("LSPlatformLsInitLog").addPoint("gql_deps_end")})};return e}var w=function(){return[(k||(k=b("Promise"))).resolve(),"",void 0,void 0]};function a(a,b,c,d){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){try{var n=d("CurrentMessengerUser").isWorkUser();yield q(f);var p=[1,l?95:void 0,m?104:void 0];p=(yield (k||(k=b("Promise"))).all(p.map(function(a){return a!=null?t(f,a):void 0})));var x=p[0],y=p[1];p=p[2];x=x==null?void 0:x.currentCursor;y=y==null?void 0:y.currentCursor;p=p==null?void 0:p.currentCursor;var z=u(1,a.schemaVersion,x,a.syncParams.mailbox),A=u(95,a.schemaVersion,y,a.syncParams.e2ee),B=u(104,a.schemaVersion,p,a.syncParams.communityExclusive),C={string:{mailboxSync:x!=null?"resume":"init"}};n&&(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(c("qpl")._(1036588047,"310"),C);d("LSPlatformLsInitLog").addPoint("ls_sync_start",C);d("LSPlatformArmadilloUtils").reportSyncStart();d("LSPlatformLsInitLog").addPoint("gql_fetch_start");s("start_contact");s("start_mailbox");var D=v(1+(l?1:0)+(m?1:0));n=x!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1);C=d("LSPlatformGraphQLTransport").publish(g,0,n,d("LSJson").stringify(z),a.executeGraphQLLightSpeedRequest).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){s("mailbox_synced");d("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_end");yield D(a[0]);return a});return function(b){return a.apply(this,arguments)}}())["catch"](function(a){var b;d("LSPlatformArmadilloUtils").reportInitSyncFailure(a);d("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_failed",{string:{gql_mailbox_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});c("FBLogger")("messenger_web").catching(a).mustfix("Failed to sync mailbox");return w()});d("LSPlatformLsInitLog").addAnnotations({"int":{mailbox_sync_request_type:(i||(i=d("I64"))).to_int32(n)}});z=l?d("LSPlatformGraphQLTransport").publish(g,2,y!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(A),a.executeGraphQLLightSpeedRequest).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_end");yield D(a[0]);return a});return function(b){return a.apply(this,arguments)}}())["catch"](function(a){var b;d("LSPlatformArmadilloUtils").reportInitSyncFailure(a);d("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_failed",{string:{gql_e2ee_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});c("FBLogger")("messenger_web").catching(a).mustfix("Failed to sync e2ee mailbox");return w()}):(k||(k=b("Promise"))).resolve(w());n=m?d("LSPlatformGraphQLTransport").publish(g,3,p!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(B),a.executeGraphQLLightSpeedRequest).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("LSPlatformLsInitLog").addPoint("gql_cm_fetch_end");yield D(a[0]);return a});return function(b){return a.apply(this,arguments)}}())["catch"](function(a){var b;d("LSPlatformArmadilloUtils").reportInitSyncFailure(a);d("LSPlatformLsInitLog").addPoint("gql_cm_fetch_failed",{string:{gql_cm_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});c("FBLogger")("messenger_web").catching(a).mustfix("Failed to sync Community Exclusive mailbox");return w()}):(k||(k=b("Promise"))).resolve(w());y=(yield k.all([C,z,n]));for(A of y){A[0];g=A[1];p=A[2];B=A[3];if(g==="")continue;yield e({experiments:p,priority:"ui",syncScript:g,target:B})}x!=null&&(yield r(f));d("LSPlatformLsInitLog").LsSync.markEnd();s("sync_completed");d("LSPlatformLsInitLog").addPoint("ls_sync_execute_end");d("LSPlatformArmadilloUtils").reportSyncEnd();d("LSPlatformLsInitLog").addPoint("ls_sync_end");l&&d("LSPlatformArmadilloUtils").occamadilloInitEnd();d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_graphql","init_sync.success");d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.success");d("LSDatabaseAfterInitSyncSingleton").resolveInitSync(k.resolve(f))}catch(b){a=c("getErrorSafe")(b);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.fail");s("sync_failed");d("LSPlatformLsInitLog").fail("init_sync_failure");try{d("LSPlatformArmadilloUtils").reportInitSyncFailure(a)}catch(a){}c("FBLogger")("messenger_web").catching(a).mustfix("Encountered an error while performining preloaded init sync request via graphql");return o(f)}});return x.apply(this,arguments)}g.sendHardcodedInitSync=a}),98);
__d("LSPlatformSyncSystemMaybeEagerly",["LSEagerlyLoadOnMessenger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSPlatformSyncSystem").__setRef("LSPlatformSyncSystemMaybeEagerly");function a(){return d("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(h).load()}g["default"]=a}),98);
__d("LSPlatformClientInit",["FBLogger","LSClearEpochBeforeResumeSync","LSDataTraceFlushDeferred","LSDatabaseAfterInitSyncSingleton","LSDeleteAllAndInsertConnectivityStatusStoredProcedure","LSFactory","LSIntEnum","LSInternetConnectionState","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","LSPlatformRealtimeTransport","LSPlatformSyncSystemMaybeEagerly","LSPlatformTaskSystemTransport","MWPlatformTaskSystem","MessengerLogHistory","Promise","asyncToGeneratorRuntime","cr:3411","cr:7705","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("MessengerLogHistory").getInstance("client_init");function k(a){var d=c("emptyFunction");b("cr:7705")!=null&&c("gkx")("23914")&&(d=b("cr:7705").listenForChangesToBackupState(a));return function(){d&&d()}}function l(a,b){var e=b==="Connected"?(i||(i=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED):(i||(i=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").NOT_CONNECTED);j.debug("Platform client sync connection status: ",b);c("promiseDone")(a.runInTransaction(function(a){return c("LSDeleteAllAndInsertConnectivityStatusStoredProcedure")(c("LSFactory")(a),{internetConnectionState:e})},"readwrite",void 0,void 0,f.id+":76"),function(){j.debug("Platform client sync connection status set successfully")},function(a){j.error("Platform client sync connection status set failed: "+(a==null?void 0:a.message));throw a})}function a(a,b,c,d,e,f){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,i,m){var n;j.debug("Platform client sync starting...");(n=d("LSPlatformLsInitLog")).addPoint("onstart_callback");g();n.addPoint("onstart_callback_end");j.debug("Getting datascript evaluator...");n.addPoint("ds_eval_registration");g=(yield e.getEval());j.debug("Getting datascript evaluator success");var o;try{o=b("cr:3411")!=null?b("cr:3411").registerEval(g)()(a):g()(a)}catch(b){c("FBLogger")("ls_web_init").catching(b).mustfix("fail to register datascriptEvaluator"),o=g()(a)}d("LSPlatformLsInitLog").addPoint("ds_eval_registration_end");j.debug("Clearing epoch before resume sync...");m.didEvaluateInitSyncEagerly||(yield d("LSClearEpochBeforeResumeSync").call(a),j.debug("Clearing epoch before resume sync success"),d("LSPlatformLsInitLog").addPoint("create_client_end"),e.sendHardcodedInitSync&&(j.debug("Starting hard-coded init sync..."),yield d("LSPlatformHardcodedInitSync").sendHardcodedInitSync(e,o,a,f),j.debug("Starting hard-coded init sync success")));d("LSDatabaseAfterInitSyncSingleton").resolveInitSync((h||(h=b("Promise"))).resolve(a));j.debug("Starting realtime transport");n=(yield e.realtimeUnderylingTransport());var p=d("LSPlatformRealtimeTransport").LSPlatformRealtimeTransport(n,e.appId,f);j.debug("Starting task system");var q=new(c("MWPlatformTaskSystem"))(a,new(c("LSPlatformTaskSystemTransport"))(a,p,o,e.schemaVersion));j.debug("Starting sync system");var r=null;c("promiseDone")(c("LSPlatformSyncSystemMaybeEagerly")(),function(b){r=b(a,p,o,e.schemaVersion,f,e.executeGraphQLLightSpeedRequest)});j.debug("Starting backup state listeners");var s=k(a),t;j.debug("Watching for expired traces");c("promiseDone")(d("LSDataTraceFlushDeferred").watchForExpiredTraces(a).then(function(a){t=a}));j.debug("Subscribing to mqtt sync status change events");p.onConnectionStatusChange(function(b){l(a,b)});j.debug("Platform client sync starting sucess");d("LSPlatformLsInitLog").endSuccess();return{cleanup:function(){var b;j.debug("Platform client sync cleaning up");i(a);q==null||q.cleanup();(b=r)==null||b.cleanup();p.cleanup();s();t==null||t()},db:a}});return m.apply(this,arguments)}g.init=a}),98);
__d("LSPlatformClient",["ExecutionEnvironment","FBLogger","LSCometSSRDatabase","LSDatabaseProviderType","LSPlatformClientInit","LSPlatformDeviceId","LSPlatformLsInitLog","MAWMIC","MAWMICSchema","Promise","asyncToGeneratorRuntime","cr:10018","emptyFunction","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("emptyFunction").thatReturns((i||(i=b("Promise"))).resolve());function k(a,e,f){var g,h=function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=d("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");g=(yield d("LSPlatformClientInit").init(a,e,b,c("emptyFunction"),c("emptyFunction"),f))});return function(){return h.apply(this,arguments)}}();return{cleanup:function(){var a;(a=g)==null||a.cleanup()},db:a,start:h}}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){if(b("cr:10018")==null)throw c("FBLogger")("messenger_web").mustfixThrow("LSPlatformClientWithLock is null for PDB enabled");e=(yield b("cr:10018").make(a,e,f));e.isTabWithoutClient()===!0&&(d("MAWMIC").addPoint("ls_init_end"),d("MAWMIC").addPoint(d("MAWMICSchema").POINTS.thread_mapping_end),d("MAWMIC").addBoolAnnotation("LsInitSkipped",!0),d("LSPlatformLsInitLog").addPoint("no_ls_sync"),d("LSPlatformLsInitLog").endSuccess());return{cleanup:c("emptyFunction"),db:a,start:j}});return m.apply(this,arguments)}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){d("LSPlatformLsInitLog").addPoint("make_client");if((h||(h=c("ExecutionEnvironment"))).canUseDOM){d("LSPlatformLsInitLog").addPoint("create_client_get_db");var f=(yield a.getDb());d("LSPlatformLsInitLog").addPoint("create_client_start");if(d("LSDatabaseProviderType").isProviderPersisted(f)&&b("cr:10018")!==null)try{return l(f,a,e)}catch(a){d("LSPlatformLsInitLog").addAnnotations({string:{client_for_pdb_error:c("getErrorSafe")(a).message}});d("LSPlatformLsInitLog").fail("client_for_pdb_error");throw a}return k(f,a,e)}return{cleanup:c("emptyFunction"),db:c("LSCometSSRDatabase"),start:j}});return n.apply(this,arguments)}g.make=a}),98);
__d("LSPlatformClientProviderWithImmediateLoadingStrategy.react",["LSPlatformClient","LSPlatformClientProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,e=a.config,f=a.errorFallback;a=a.placeholder;return i.jsx(c("LSPlatformClientProvider.react"),{config:e,errorFallback:f,loadLSPlatformClient:d("LSPlatformClient").make,placeholder:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSPlatformGraphQLLightspeedRequestForIGDQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"deviceId"},{defaultValue:null,kind:"LocalArgument",name:"requestId"},{defaultValue:null,kind:"LocalArgument",name:"requestPayload"},{defaultValue:null,kind:"LocalArgument",name:"requestType"}],b=[{alias:null,args:[{kind:"Variable",name:"device_id",variableName:"deviceId"},{kind:"Variable",name:"request_id",variableName:"requestId"},{kind:"Variable",name:"request_payload",variableName:"requestPayload"},{kind:"Variable",name:"request_type",variableName:"requestType"}],concreteType:"LightspeedWebResponse",kind:"LinkedField",name:"lightspeed_web_request_for_igd",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},{alias:null,args:null,concreteType:"LightspeedWebRequestDependency",kind:"LinkedField",name:"dependencies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"experiments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LSPlatformGraphQLLightspeedRequestForIGDQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LSPlatformGraphQLLightspeedRequestForIGDQuery",selections:b},params:{id:"29212911238354531",metadata:{},name:"LSPlatformGraphQLLightspeedRequestForIGDQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("LSPlatformGraphQLLightspeedRequestForIGD",["CometRelay","LSPlatformGraphQLLightspeedRequestForIGDQuery.graphql","XPlatRelayEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c,e,f){return d("CometRelay").fetchQuery(d("XPlatRelayEnvironment").getRelayEnvironment(),h!==void 0?h:h=b("LSPlatformGraphQLLightspeedRequestForIGDQuery.graphql"),{deviceId:a,requestId:c,requestPayload:e,requestType:f}).toPromise().then(function(a){return a==null?void 0:a.lightspeed_web_request_for_igd})}g["default"]=a}),98);
__d("LSPlatformInstagramConfig",["CurrentAppID","IGDOverLSMqttChannel","LSDatabaseSingleton","LSDatascriptEvaluatorMaybeDeferred","LSPlatformGraphQLLightspeedRequestForIGD","LSPlatformMessengerSyncParams","LSPlatformMqttRealtimeTransport","LSSuspense","LSVersion","Promise","getMWLSRegion"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;f=d("CurrentAppID").getAppID();var k=c("getMWLSRegion")();f=f==null?"1217981644879628":f;function a(){return(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton}function l(a,b){return c("LSPlatformMqttRealtimeTransport")(c("LSVersion"),b,{getInstance:d("IGDOverLSMqttChannel").getInstance,shutdownAndClear:d("IGDOverLSMqttChannel").shutdownAndClear})}function e(){return c("LSDatascriptEvaluatorMaybeDeferred")()}f={appId:f,executeGraphQLLightSpeedRequest:c("LSPlatformGraphQLLightspeedRequestForIGD"),getDb:a,getEval:e,platformName:"Instagram",realtimeUnderylingTransport:function(){return(i||(i=b("Promise"))).resolve(l)},region:k,schemaVersion:c("LSVersion"),sendHardcodedInitSync:!0,syncParams:c("LSPlatformMessengerSyncParams")};a=(h||(h=c("LSSuspense"))).makeWithValue(f);g.configEagerlyLoaded=a}),98);
__d("IGDPageSetup.react",["CometErrorBoundary.react","CometPlaceholder.react","CurrentUser","I64","IGDRouteProvider.react","LSPlatformClientProviderWithDeferredLoadingStrategy.react","LSPlatformClientProviderWithImmediateLoadingStrategy.react","LSPlatformInstagramConfig","MWLSThreadDisplayContext","MWPActor.react","cr:497","cr:7347","deferredLoadComponent","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.Fragment,l=(e=b("cr:497"))!=null?e:b("cr:7347"),m=c("deferredLoadComponent")(c("requireDeferred")("IGDInboxErrorState.react").__setRef("IGDPageSetup.react")),n=function(a){return a?void 0:function(a){return j.jsx(m,{error:a})}},o=(i||(i=d("I64"))).of_string(c("CurrentUser").getEIMU());function a(a){var b=d("react-compiler-runtime").c(15),e=a.children,g=a.disableRouteProvider,h=a.placeholder,i=a.shouldUseDeferredLoadingStrategy;a=a.threadDisplayType;g=g===void 0?!1:g;h=h===void 0?null:h;i=i===void 0?!1:i;var m=i?c("LSPlatformClientProviderWithDeferredLoadingStrategy.react"):c("LSPlatformClientProviderWithImmediateLoadingStrategy.react");g=g?k:d("IGDRouteProvider.react").IGDRouteContextProvider;var p;b[0]!==i?(p=n(i),b[0]=i,b[1]=p):p=b[1];b[2]!==e?(i=l==null?e:j.jsx(l,{children:e}),b[2]=e,b[3]=i):i=b[3];b[4]!==i||b[5]!==a?(e=j.jsx(d("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:a,children:i}),b[4]=i,b[5]=a,b[6]=e):e=b[6];b[7]!==g||b[8]!==e?(i=j.jsx(d("MWPActor.react").MWPActorProvider,{actorId:o,children:j.jsx(g,{children:e})}),b[7]=g,b[8]=e,b[9]=i):i=b[9];b[10]!==m||b[11]!==h||b[12]!==p||b[13]!==i?(a=j.jsx(c("CometErrorBoundary.react"),{fallback:void 0,children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:j.jsx(m,{config:d("LSPlatformInstagramConfig").configEagerlyLoaded,errorFallback:p,placeholder:h,children:i})})}),b[10]=m,b[11]=h,b[12]=p,b[13]=i,b[14]=a):a=b[14];return a}g["default"]=a}),98);
__d("IGDSVideoChatFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M21.259 5.935q-.401.404-.877.88a2.998 2.998 0 0 0-.88 2.121v6.18a3 3 0 0 0 .878 2.121l.879.881A1.653 1.653 0 0 0 24 16.953V7.101a1.653 1.653 0 0 0-2.742-1.166Zm-7.075-3.408H3.818A3.823 3.823 0 0 0-.001 6.345v11.364a3.823 3.823 0 0 0 3.819 3.818h10.366a3.823 3.823 0 0 0 3.818-3.818V6.345a3.823 3.823 0 0 0-3.818-3.818Z",fillRule:"evenodd"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("LSBeginHandlingSyncForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=void 0:(d=a.item,c[9]=new b.Map(),c[9].set("group_id",d.groupId),c[9].set("current_cursor",d.currentCursor),c[9].set("sync_status",d.syncStatus),c[9].set("sync_params",d.syncParams),c[9].set("send_sync_params",d.sendSyncParams),c[9].set("min_time_to_sync_timestamp_ms",d.minTimeToSyncTimestampMs),c[9].set("can_ignore_timestamp",d.canIgnoreTimestamp),c[9].set("sync_channel",d.syncChannel),c[9].set("last_sync_request_timestamp_ms",d.lastSyncRequestTimestampMs),c[0]=c[9])})},function(d){return c[0]?c[2]=!1:c[2]=!0,c[2]?b.resolve((d=[a[0],void 0,b.i64.cast([0,4]),void 0,!1],c[3]=d[0],c[4]=d[1],c[5]=d[2],c[6]=d[3],c[7]=d[4],d)):b.sequence([function(a){return c[9]=c[0].get("group_id"),b.filter(b.db.table(3).fetch(),function(a){return b.i64.neq(a.epochId,void 0)&&b.i64.eq(a.syncDatabaseId,c[9])}).next().then(function(a,b){b=a.done;a=a.value;return b?c[10]=!1:(a.item,c[10]=!0)})},function(d){return c[10]?b.resolve((c[17]=c[0].get("group_id"),d=[c[17],void 0,b.i64.cast([0,4]),void 0,!1],c[12]=d[0],c[13]=d[1],c[14]=d[2],c[15]=d[3],c[16]=d[4])):b.sequence([function(d){return c[17]=b.i64.of_float(Date.now()),c[18]=c[0].get("min_time_to_sync_timestamp_ms"),c[19]=c[0].get("last_sync_request_timestamp_ms"),c[20]=c[0].get("can_ignore_timestamp"),c[20]&&a[1]||b.i64.ge(c[17],c[18])?b.sequence([function(d){return a[1]?b.resolve(c[28]=b.i64.cast([0,0])):b.sequence([function(a){return c[29]=c[0].get("group_id"),b.db.table(3).fetch([[["",c[29]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[30]=b.i64.cast([0,0]):(d=a.item,c[30]=d.failureCount)})},function(a){return c[32]=b.i64.mul(b.i64.sub(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.lt(b.i64.cast([0,15]),c[30])?b.i64.cast([0,15]):c[30])),b.i64.cast([0,1])),b.i64.cast([0,500])),c[33]=b.i64.sub(b.i64.add(c[19]==null?b.i64.cast([0,0]):c[19],b.i64.lt(c[32],b.i64.cast([0,3e4]))?c[32]:b.i64.cast([0,3e4])),c[17]),c[28]=b.i64.gt(c[33],b.i64.cast([0,0]))?c[33]:b.i64.cast([0,0])}])},function(a){return c[21]=c[28]}]):b.resolve(c[21]=b.i64.sub(c[18],c[17]))},function(a){return c[22]=c[0].get("group_id"),b.i64.gt(c[21],b.i64.cast([0,0]))?b.sequence([function(a){return c[28]=b.i64.of_float(Date.now()),b.forEach(b.filter(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastDelayedRequestTimestampMs:c[28]})})},function(a){return a=[c[22],c[21],b.i64.cast([0,3]),void 0,!1],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4],a}]):b.sequence([function(a){return c[28]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[c[22]]]]),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[28]})})},function(a){return c[29]=b.i64.of_float(Date.now()),b.forEach(b.filter(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[29]})})},function(a){return c[30]=c[0].get("group_id"),c[31]=b.i64.of_float(Date.now()),c[32]=b.i64.random(),c[45]=b.i64.and_(b.i64.or_(b.i64.lsl_(c[31],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[32],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.db.table(3).fetch([[["",c[30]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?b.db.table(3).add({syncDatabaseId:c[30],taskQueueName:"",failureCount:b.i64.cast([0,0]),lastSentTimestampMs:b.i64.cast([0,0]),lastSyncRequestTimestampMs:b.i64.cast([0,0]),epochId:c[45]}):(a.item,b.forEach(b.db.table(3).fetch([[["",c[30]]]]),function(a){var b=a.update;a.item;return b({epochId:c[45]})}))})},function(a){return c[34]=c[0].get("group_id"),b.db.table(3).fetch([[["",c[34]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[35]=b.i64.cast([0,0]):(d=a.item,c[35]=d.failureCount)})},function(a){return c[37]=c[0].get("send_sync_params"),c[38]=c[0].get("sync_params"),c[39]=c[0].get("current_cursor"),c[40]=new b.Map(),c[40].set("database",c[34]),c[40].set("version",b.i64.cast([-1,4294967295])),c[40].set("epoch_id",c[45]),c[40].set("last_applied_cursor",c[39]),c[40].set("sync_params",c[37]?c[38]:void 0),c[40].set("failure_count",b.i64.gt(c[35],b.i64.cast([0,0]))?c[35]:void 0),c[41]=c[0].get("current_cursor"),void 0===c[41]?c[42]=b.i64.cast([0,1]):c[42]=b.i64.cast([0,2]),c[43]=new b.Map(),c[43].set("type",c[42]),c[43].set("request_payload",c[40]),c[44]=c[0].get("sync_channel"),a=[c[30],void 0,b.i64.cast([0,1]),c[43],b.i64.eq(c[44],b.i64.cast([0,2]))],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4]}])},function(a){return a=[c[23],c[24],c[25],c[26],c[27]],c[12]=a[0],c[13]=a[1],c[14]=a[2],c[15]=a[3],c[16]=a[4],a}])},function(a){return a=[c[12],c[13],c[14],c[15],c[16]],c[3]=a[0],c[4]=a[1],c[5]=a[2],c[6]=a[3],c[7]=a[4],a}])},function(a){return c[8]=new b.Map(),c[8].set("sync_group_id",c[3]),c[8].set("next_sync_ms",c[4]),c[8].set("work_item_type",c[5]),c[8].set("network_payload",c[6]),c[8].set("skip_realtime_gateway",c[7]),d[0]=c[8]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreBeginHandlingSyncForSyncGroupStoredProcedure";a.__tables__=["sync_groups","network_requests"];e.exports=a}),null);
__d("LSBeginHandlingSync",["LSBeginHandlingSyncForSyncGroup"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.createArray(),c.forEach(c.db.table(1).fetch(),function(e){var f=e.item;return c.sequence([function(e){return c.storedProcedure(b("LSBeginHandlingSyncForSyncGroup"),f.groupId,a[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[2]=(d[0].push(d[1]),d[0])}])})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreBeginHandlingSyncStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSBeginHandlingSyncForSyncGroupStoredProcedure",["LSBeginHandlingSyncForSyncGroup","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBeginHandlingSyncForSyncGroup"),e.syncGroupId,e.ignoreSoftDelay);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSBeginHandlingSyncStoredProcedure",["LSBeginHandlingSync","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBeginHandlingSync"),e.ignoreSoftDelay);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssueNewFireAndForgetTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return c[1]=b.i64.to_string(a[1]),c[0]=b.i64.of_float(Date.now()),b.db.table(5).add({taskId:void 0,queueName:a[0],context:c[1],taskValue:a[2],enqueueTimestampMs:c[0]})},function(d){return b.filter(b.db.table(5).fetchDesc(),function(b){return b.queueName===a[0]&&b.context===c[1]&&b.taskValue===a[2]}).next().then(function(a,d){var e=a.done;a=a.value;return e?c[2]=b.i64.cast([-1,4294967295]):(d=a.item,c[2]=d.taskId)})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreIssueNewFireAndForgetTaskStoredProcedure";a.__tables__=["pending_fire_and_forget_tasks"];e.exports=a}),null);
__d("LSCheckThreadConsistency",["LSIssueNewFireAndForgetTask","LSIssueNewTask","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(f){return c("gkx")("15730")?(e[0]=new d.Map(),e[0].set("threads",a[0]),e[0].set("metadata",a[1]),e[1]=d.toJSON(e[0]),d.storedProcedure(b("LSIssueNewFireAndForgetTask"),"fire_forget",d.i64.cast([0,18]),e[1])):(e[0]=new d.Map(),e[0].set("threads",a[0]),e[0].set("metadata",a[1]),e[1]=d.toJSON(e[0]),d.storedProcedure(b("LSIssueNewTask"),"check-thread-consistency",d.i64.cast([0,160019]),e[1],void 0,void 0,d.i64.cast([0,0]),d.i64.cast([0,0]),void 0,void 0,d.i64.cast([0,0]),d.i64.cast([0,0])))},function(a){return d.resolve(f)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCheckThreadConsistencyStoredProcedure";a.__tables__=[];d=a;g["default"]=d}),98);
__d("LSCheckThreadConsistencyStoredProcedure",["LSCheckThreadConsistency","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCheckThreadConsistency"),e.threads,e.metadata);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSPlatformEvaluateInitSyncEagerly",["ExecutionEnvironment","FBLogger","LSClearEpochBeforeResumeSync","LSDatabaseProviderType","LSPlatformDeviceId","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","asyncToGeneratorRuntime","cr:3411"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){d("LSPlatformLsInitLog").addPoint("ds_eval_registration");e=(yield e());var f;try{f=b("cr:3411")!=null?b("cr:3411").registerEval(e)()(a):e()(a)}catch(b){c("FBLogger")("ls_web_init").catching(b).mustfix("fail to register datascriptEvaluator"),f=e()(a)}d("LSPlatformLsInitLog").addPoint("ds_eval_registration_end");return f});return function(b,c){return a.apply(this,arguments)}}();function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM)return!1;if(!a.sendHardcodedInitSync)return!1;var b=a.eagerEvaluatorForInitSync;if(b==null)return!1;var e=(yield a.getDb());if(d("LSDatabaseProviderType").isProviderPersisted(e))return!1;d("LSPlatformLsInitLog").addPoint("evaluate_init_sync_start");var f=d("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");b=(yield i(e,b));yield d("LSClearEpochBeforeResumeSync").call(e);yield d("LSPlatformHardcodedInitSync").sendHardcodedInitSync(a,b,e,f);d("LSPlatformLsInitLog").addPoint("evaluate_init_sync_end");return!0});return j.apply(this,arguments)}g.getDatascriptEvaluator=i;g.maybeEvaluateInitSyncEagerly=a}),98);
__d("LSPlatformSyncSystem",["FBLogger","I64","LSBeginHandlingSyncForSyncGroupStoredProcedure","LSBeginHandlingSyncStoredProcedure","LSDatabaseProviderType","LSFactory","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSPlatformGraphQLTransport","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSShape","LSVec","MWPBumpEntityKey","MessengerLogHistory","Promise","ReQL","asyncToGeneratorRuntime","gkx","promiseDone","qex","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e,g,k,l,m){var n=d("MessengerLogHistory").getInstance("client_sync"),o=new(c("LSPlatformServerResponseHandler"))(g),p=d("LSDatabaseProviderType").isProviderPersisted(a),q=function(c){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange("",c)));b!=null&&(yield a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).add(b.failureCount,i.one),lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":78")},r=new(c("LSPlatformRequestScheduler"))(),s=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f,n){n=d("LSShape").toRecord(n);var q=d("LSShape").toRecord(n.request_payload);n=n.type;var r=c("LSPlatformRequestId").generate(),s=d("LSJson").stringify(d("LSShape").ofRecord({database:q.database,epoch_id:q.epoch_id,failure_count:q.failure_count,last_applied_cursor:q.last_applied_cursor,sync_params:q.sync_params,version:(i||(i=d("I64"))).of_string(k)})),t=(i||(i=d("I64"))).equal(f.sync_group_id,(j||(j=d("LSIntEnum"))).ofNumber(1))&&c("gkx")("26386")===!0;if(!t&&f.skip_realtime_gateway){t=(yield d("LSPlatformGraphQLTransport").publish(l,r,n,s,m));var u=t[0],v=t[1],w=t[2];t=t[3];w={experiments:w,syncScript:v,target:t};return p?o.maybeEvalInOrderReceived(u,w):g(w)}else{v=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(f.sync_group_id)));t=v!=null&&(i||(i=d("I64"))).equal(v.syncChannel,(j||(j=d("LSIntEnum"))).ofNumber(2))?(j||(j=d("LSIntEnum"))).ofNumber(2):d("LSMailboxInitialSyncCursor").syncChannel;u=c("qex")._("2071");if(v!=null&&u!=null&&u!=="default"){w=(j||(j=d("LSIntEnum"))).unwrapIntEnum(n);if(1===w||2===w||5===w){f=u+"."+(j||(j=d("LSIntEnum"))).toNumber(t)+"."+j.toNumber(n)+"."+j.toNumber(v.groupId);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",f)}}w=(i||(i=d("I64"))).to_int32(q.database);return e.publish({databaseType:w,payload:s,queueName:void 0,requestId:r,syncChannel:t,type_:n}).then(function(){return(h||(h=b("Promise"))).resolve()})}});return function(a,b){return f.apply(this,arguments)}}(),t=function(e){var g=function(b){return a.runInTransaction(function(a){return c("LSBeginHandlingSyncForSyncGroupStoredProcedure")(c("LSFactory")(a),{ignoreSoftDelay:!1,syncGroupId:b})},"readwrite",void 0,void 0,f.id+":206").then(function(a){return t(a[0])})},k=function(a,b){r.schedule(function(){c("promiseDone")(g(a))},(i||(i=d("I64"))).to_string(a),i.to_float(b))},l=d("LSShape").toRecord(e);e=l.work_item_type;if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(1))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(5))){var m=c("qex")._("2071");if(m!=null&&m!=="default"){var o=m+"."+(j||(j=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").syncChannel);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",o)}var p=l.network_payload;if(p!=null)return s(l,p)["catch"](function(a){if(m!=null&&m!=="default"){var b=m+"."+(j||(j=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").syncChannel);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception");a.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception.timeout"):a.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception.notconnected")}if(a.message===d("LSPlatformGraphQLTransport").ServerError)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_graphql_error");else if(a.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout||a.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_timeout_or_disc"),n.debug("Publish timed out");else{d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_other_error");if(a instanceof Error)c("FBLogger")("messenger_web").catching(a).mustfix("Encountered an JS error while publishing a LS sync request");else{b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web").mustfix("Encountered an JS error while publishing a LS sync request %s",b)}}d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handleSyncFailure."+(j||(j=d("LSIntEnum"))).toNumber(d("LSShape").toRecord(p).type)+"."+j.toNumber(l.sync_group_id));return q(l.sync_group_id).then(function(){return g(l.sync_group_id)})});else{c("FBLogger")("ls_web_init").mustfix("Expected networkpayload for sync request but didn't get any");return(h||(h=b("Promise"))).resolve()}}if(!(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(3)))if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(4))||!(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(2)))return(h||(h=b("Promise"))).resolve();else{c("FBLogger")("ls_web_init").mustfix("Native handling for sync group not implemented yet");return(h||(h=b("Promise"))).resolve()}o=l.next_sync_ms;if(o!=null){k(l.sync_group_id,o);return(h||(h=b("Promise"))).resolve()}else{c("FBLogger")("ls_web_init").mustfix("Expected delay for delayed sync request but didn't get any");return(h||(h=b("Promise"))).resolve()}},u=function(a){return(h||(h=b("Promise"))).all(c("LSVec").toArray(a[0]).map(function(a){return t(a)}))},v=function(){c("promiseDone")(a.runInTransaction(function(a){return c("LSBeginHandlingSyncStoredProcedure")(c("LSFactory")(a),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,f.id+":384").then(u))},w=c("throttle")(v,500);v=function(){return d("ReQL").fromTableAscending(a.tables.sync_groups).subscribe(function(){return w()})};var x=function(){return e.subscribeToNonTaskResponses(function(a,b){var e=b.ex,f=b.payload;e={experiments:e,sp:b.sp,syncScript:f,target:b.target};c("promiseDone")(p?o.maybeEvalInOrderReceived(a,e):c("gkx")("10470")?o.maybeEvalInOrderReceived(a,e):g(e),function(){return w()},function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handle_sync_response_failure");if(a instanceof Error)c("FBLogger")("messenger_web").catching(a).mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",p,a.message);else{var b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web").mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",p,b)}})})},y=function(){return e.onReconnect(function(e){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","resume_sync_reconnect");if(d("LSMailboxInitialSyncCursor").isWebApp&&1===e&&c("qex")._("2072")===!0&&c("qex")._("2080")===!0)return;n.debug("Sync System reconnecting");c("promiseDone")(a.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var f;f=(yield (f=d("ReQL")).toArrayAsync(f.mergeJoin(f.fromTableAscending(a.tables.sync_groups),f.fromTableAscending(a.tables.network_requests).getKeyRange(""))));yield (h||(h=b("Promise"))).all(f.map(function(a){a=a[1];return e.network_requests.put({epochId:void 0,failureCount:a.failureCount,lastDelayedRequestTimestampMs:a.lastDelayedRequestTimestampMs,lastSentTimestampMs:a.lastSentTimestampMs,lastSyncRequestTimestampMs:a.lastSyncRequestTimestampMs,networkTaskIdentifier:a.networkTaskIdentifier,syncDatabaseId:a.syncDatabaseId,taskQueueName:a.taskQueueName})}));return c("LSBeginHandlingSyncStoredProcedure")(c("LSFactory")(e),{ignoreSoftDelay:!1})});return function(a){return e.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":487").then(u))})},z=v(),A=x(),B=y();w();return{cleanup:function(){z(),B(),A()}}}g["default"]=a}),98);
__d("LSRemoveError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(6).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreRemoveErrorStoredProcedure";a.__tables__=["user_visible_errors"];e.exports=a}),null);
__d("LSRemoveErrorStoredProcedure",["LSRemoveError","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRemoveError"),e.errorId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWAsyncEBPendingQueryPromise",["Promise"],(function(a,b,c,d,e,f){"use strict";var g,h=new Map(),i=new Map(),j=new Map(),k=new Map(),l=new Map(),m=new Map();function a(a){var c=new(g||(g=b("Promise")))(function(b,c){i.set(a,b),k.set(a,c)});h.set(a,c);return c}function c(a,b){j.set(a,b)}function d(a){return j.get(a)}function e(a){var c=new(g||(g=b("Promise")))(function(b,c){l.set(a,{data:null,resolve:b}),m.set(a,c)});return c}function n(a,b){var c=i.get(a);c!=null&&(i["delete"](a),c(b));c=l.get(a);c!=null&&l.set(a,{data:b,resolve:c.resolve})}function o(a,b){var c=k.get(a);c!=null&&(i["delete"](a),c(b));c=m.get(a);c!=null&&(m["delete"](a),c(b),l["delete"](a))}function p(a){var b=l.get(a);b!=null&&b.data!=null&&(b.resolve(b.data),l["delete"](a),m["delete"](a))}f.getPendingQueryPromiseFromTrace=a;f.setJidFromThreadId=c;f.getJidFromThreadId=d;f.getWaitForRestorePromiseFromTrace=e;f.resolvePendingQueryIfPresent=n;f.rejectPendingQueryIfPresent=o;f.resolvePendingQueryUponReStore=p}),66);
__d("MAWBridgeInitOfflineQueueSyncCompleteHandler",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerLogHistory").__setRef("MAWBridgeInitOfflineQueueSyncCompleteHandler");function a(){h.onReady(function(a){a=a.getInstance("maw_setup");a.debug("Init Offline Queue Sync Complete")})}g.call=a}),98);
__d("MAWBridgeTraceRecordCheckpointHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDatabaseSingleton","LSFactory","LSFlushDataTrace.nop"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var e=b.checkPointId,f=b.dataTraceId,g=b.errorMessage,i=b.tags;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:e,dataTraceId:f,errorMessage:g,syncChannel:(h||(h=d("I64"))).neg_one,tags:i}).then(function(){if(b.shouldFlush)return c("LSFlushDataTrace.nop")(a,0,f)})}function a(a){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return b.runInTransaction(function(b){return j(b,a)},"readwrite",void 0,void 0,f.id+":43")})}g.call=j;g.callWithoutTxn=a}),98);
__d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE",["MAWThreadLoadingState","MWFBLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("MWFBLogger").MWLogger().tags(["MiActMapping","UIActions","ThreadReady"]);function a(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=(yield d("MAWThreadLoadingState").getThreadKeyIfMiThreadNotMissing(a,b));if(f==null)throw j.mustfixThrow("Missing thread key or MI mapping for jid: %s, thread action: %s, MI mapping state %s",c,b);j.DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Executing ",", jid: ",""])),c,b);return e(a,f)});return k.apply(this,arguments)}function c(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=(yield d("MAWThreadLoadingState").getThreadKeyIfMiThreadNotMissing(a,b));if(f!=null){j.DEBUG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Executing ",", jid: ",""])),c,b);return e(a,f)}});return l.apply(this,arguments)}g.onMiThreadExistsForJid__DO_NOT_USE=a;g.onMiThreadExistsForJidNoThrow__DO_NOT_USE=c}),98);
__d("MAWThreadConsistencyLogger",["FBLogger","I64","LSAuthorityLevel","LSCheckThreadConsistencyStoredProcedure","LSDatabaseSingleton","LSFactory","LSMessagingThreadTypeUtil","LSShape","LSVec","ODS","Promise","ReQL","WAArrayZip","asyncToGeneratorRuntime","clearInterval","gkx","justknobx","promiseDone","qex","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=20,m=c("justknobx")._("3207"),n=!c("gkx")("5457"),o=!1,p=null;function a(){if(o||n)return;o=!0;c("clearInterval")(p);p=c("setInterval")(function(){if(document.visibilityState!=="visible")return;c("promiseDone")(q())},m*1e3)}function q(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton);c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){(k||(k=d("ODS"))).bumpEntityKey(3185,"maw_tc_metric","initiate_snapshot");var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.threads.index("lastActivityTimestampMs")).filter(s).take(l)));if(e.length===0){(k||(k=d("ODS"))).bumpEntityKey(3185,"maw_tc_metric","no_e2ee_threads_fetched_on_client");return}var f;c("qex")._("18")?f=(yield (h||(h=b("Promise"))).all(e.map(function(b){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(b.threadKey))}))):f=(yield (h||(h=b("Promise"))).all(e.map(function(b){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages.index("messageDisplayOrder")).getKeyRange(b.threadKey))})));e=d("WAArrayZip").zip(e,f).map(function(a){var b=a[0];a=a[1];return d("LSShape").ofRecord({is_last_activity_optimistic:t(a),last_activity_timestamp_ms:b.lastActivityTimestampMs,last_read_timestamp_ms:b.lastReadWatermarkTimestampMs,thread_key:b.threadKey})});return c("LSCheckThreadConsistencyStoredProcedure")(c("LSFactory")(a),{metadata:d("LSShape").ofRecord({client_snapshot_timestamp_ms:(j||(j=d("I64"))).of_float(Date.now()),session_timestamp_ms:j.of_int32(Math.round(window.performance.now()))}),threads:c("LSVec").ofArray(e)})});return function(b){return a.apply(this,arguments)}}(),"readonly",void 0,void 0,f.id+":59"),function(){return(k||(k=d("ODS"))).bumpEntityKey(3185,"maw_tc_metric","send_snapshot")},function(a){c("FBLogger")("maw_tc_metric").catching(a).warn("failed to send tc metric snapshot")})});return r.apply(this,arguments)}function s(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&a.folderName==="inbox"&&(j||(j=d("I64"))).to_int32(a.authorityLevel)>=c("LSAuthorityLevel").AUTHORITATIVE}function t(a){return a==null?!1:(j||(j=d("I64"))).to_int32(a.authorityLevel)<c("LSAuthorityLevel").AUTHORITATIVE}g.startMAWThreadConsistencyLogger=a;g.MAWThreadConsistencyLoggerTakeSnapshot=q}),98);
__d("MWPThreadIsPageContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("MWPThreadIsPage.react",["I64","LSContactType","LSIntEnum","MWPActor.react","MWPThreadIsPageContext","ReQL","ReQLSuspense","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useContext;function a(a){var b=a.children,e=a.threadKey,g=(h||(h=c("useReStore")))(),k=d("MWPActor.react").useActor();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(g.tables.participants,["contactId"]).getKeyRange(e).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,k)}),d("ReQL").fromTableAscending(g.tables.contacts))},[e],f.id+":29");a=a!=null?a[1]:null;a=a!=null?(i||(i=d("I64"))).equal(a.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)):!1;return l.jsx(c("MWPThreadIsPageContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=m(c("MWPThreadIsPageContext"));if(a!=null)return a;else{c("recoverableViolation")("Using hook useIsPage in a place where we didn't include the context","messenger_web_ia");return!1}}g.Provider=a;g.useIsPage=b}),98);
__d("XPolarisCallControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/call/",Object.freeze({has_video:!0,is_e2ee_mandated:!1,hide_e2ee_attributions:!1,users_to_ring:[]}),void 0);b=a;g["default"]=b}),98);
__d("PolarisCallNavigator",["PolarisAPIHelpers","PolarisCallGatingHelpers","PolarisNavigationUtils","XPolarisCallControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h="https://call.instagram.com";function a(a,b,e){e===void 0&&(e=null);e=e===""?null:e;var f;d("PolarisCallGatingHelpers").isCallsPathMigrationEnabled()?e!=null?f=c("XPolarisCallControllerRouteBuilder").buildURL({has_video:b,ig_thread_id:a,server_info_data:e}):f=c("XPolarisCallControllerRouteBuilder").buildURL({has_video:b,ig_thread_id:a}):f=d("PolarisAPIHelpers").appendQueryParameters(h,{has_video:b,ig_thread_id:a,server_info_data:e});d("PolarisNavigationUtils").openURLWithFullPageReload(f,{openInNewTab:!0})}g.launchCall=a}),98);
__d("getLSMediaThreadPictureUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.threadPictureUrl,c=a.threadPictureUrlExpirationTimestampMs;a=a.threadPictureUrlFallback;c=c;return c!=null&&d("LSMediaUrlUtils").isTimestampExpired(c)?a:b}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisPostActionLoadPostQueryInlineFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineFragment"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryInlineMediaFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineMediaFragment"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryInlineSharerFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineSharerFragment"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryLegacyQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24324795310485890"}),null);
__d("PolarisPostActionLoadPostQueryLegacyQuery.graphql",["PolarisPostActionLoadPostQueryLegacyQuery_instagramRelayOperation"],(function(a,aa,b,c,d,e){"use strict";a=function(){var a={defaultValue:3,kind:"LocalArgument",name:"fetch_related_profile_media_count"},b={defaultValue:null,kind:"LocalArgument",name:"fetch_tagged_user_count"},c={defaultValue:null,kind:"LocalArgument",name:"hoisted_comment_id"},d={defaultValue:null,kind:"LocalArgument",name:"hoisted_reply_id"},e={defaultValue:null,kind:"LocalArgument",name:"shortcode"},f=[{kind:"Variable",name:"shortcode",variableName:"shortcode"}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"shortcode",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"thumbnail_src",storageKey:null},k={alias:null,args:null,concreteType:"XDTGraphMediaDimensions",kind:"LinkedField",name:"dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"buttons",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"gating_type",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"center_button",storageKey:null},ba={alias:null,args:null,kind:"ScalarField",name:"post_reveal_cta",storageKey:null},ca={alias:null,args:null,kind:"ScalarField",name:"time_gated",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},r={alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[l,m,n,o,p,ba,ca,q],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"fact_check_overall_rating",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},v={alias:null,args:null,concreteType:"XDTGraphMediaFactCheck",kind:"LinkedField",name:"fact_check_information",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaFactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[t,u,{alias:null,args:null,kind:"ScalarField",name:"appeal_email",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_directly_rated",storageKey:null}],storageKey:null},w={alias:null,args:null,concreteType:"XDTGraphMediaSensitivityFrictionInfo",kind:"LinkedField",name:"sensitivity_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sensitivity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_primary_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_secondary_button",storageKey:null}],storageKey:null},x={alias:null,args:null,concreteType:"XDTGraphMediaSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},A={alias:null,args:null,concreteType:"XDTGraphMediaOverlayIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},t,z],storageKey:null},B=[{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},A,{alias:null,args:null,concreteType:"XDTGraphMediaOverlayTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null}];B={alias:null,args:null,concreteType:"XDTGraphMediaOverlayInfo",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:B,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:B,storageKey:null},m,A,q,{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"bloks_data",storageKey:null}],storageKey:null};A={alias:null,args:null,kind:"ScalarField",name:"media_preview",storageKey:null};q={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null};z={alias:null,args:null,concreteType:"XDTGraphImageResource",kind:"LinkedField",name:"display_resources",plural:!0,selections:[z,{alias:null,args:null,kind:"ScalarField",name:"config_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"config_height",storageKey:null}],storageKey:null};var C={alias:null,args:null,kind:"ScalarField",name:"is_video",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},E={alias:null,args:null,concreteType:"XDTGraphUpcomingEventDict",kind:"LinkedField",name:"upcoming_event",plural:!1,selections:[h,o,{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reminder_enabled",storageKey:null}],storageKey:null},da=[{kind:"Variable",name:"first",variableName:"fetch_tagged_user_count"}],F={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"followed_by_viewer",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},ea={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"user",plural:!1,selections:[F,G,h,H,u,I],storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},ga={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},ha={alias:null,args:da,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[ea,fa,ga],storageKey:null}],storageKey:null}],storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},L=[K],M={alias:null,args:null,concreteType:"XDTgraphuser_edge_followed_by_connection",kind:"LinkedField",name:"edge_followed_by",plural:!1,selections:L,storageKey:null};G={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:[h,I,{alias:null,args:null,kind:"ScalarField",name:"has_onboarded_to_text_post_app",storageKey:null},H,u,{alias:null,args:null,kind:"ScalarField",name:"blocked_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_by_viewer",storageKey:null},G,F,{alias:null,args:null,kind:"ScalarField",name:"has_blocked_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},J,{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pass_tiering_recommendation",storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:L,storageKey:null},M],storageKey:null};var ia=[{kind:"Literal",name:"first",value:1}],N={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},ja={alias:null,args:null,kind:"ScalarField",name:"can_see_insights_as_brand",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"caption_is_edited",storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"has_ranked_comments",storageKey:null},ma={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},O={alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"did_report_as_spam",storageKey:null},Q=[h,H,u,I],R={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:Q,storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"viewer_has_liked",storageKey:null},T={alias:null,args:null,concreteType:"XDTgraphcomment_edge_liked_by_connection",kind:"LinkedField",name:"edge_liked_by",plural:!1,selections:L,storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"is_restricted_pending",storageKey:null},V=[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[h,y,N,P,R,S,T,U],storageKey:null}],W={alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"XDTgraphcomment_edge_threaded_comments_connection",kind:"LinkedField",name:"edge_threaded_comments",plural:!1,selections:[K,O,{alias:null,args:null,concreteType:"XDTgraphcomment_edge_threaded_comments",kind:"LinkedField",name:"edges",plural:!0,selections:V,storageKey:null}],storageKey:"edge_threaded_comments(first:3)"};O={alias:null,args:[{kind:"Literal",name:"first",value:24}],concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment_connection",kind:"LinkedField",name:"edge_media_to_parent_comment",plural:!1,selections:[K,O,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[h,y,N,P,R,S,T,U,W],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_parent_comment(first:24)"};P={alias:null,args:[{kind:"Variable",name:"hoisted_comment_id",variableName:"hoisted_comment_id"}],concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment_connection",kind:"LinkedField",name:"edge_media_to_hoisted_comment",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[h,y,N,P,R,S,T,U,{alias:null,args:[{kind:"Variable",name:"hoisted_reply_id",variableName:"hoisted_reply_id"}],concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply_connection",kind:"LinkedField",name:"edge_comment_to_hoisted_reply",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply",kind:"LinkedField",name:"edges",plural:!0,selections:V,storageKey:null}],storageKey:null},W],storageKey:null}],storageKey:null}],storageKey:null};R={alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:[K,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment",kind:"LinkedField",name:"edges",plural:!0,selections:V,storageKey:null}],storageKey:"edge_media_preview_comment(first:2)"};T={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null};U={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null};W={alias:null,args:null,kind:"ScalarField",name:"taken_at_timestamp",storageKey:null};V={alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:[K,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:Q,storageKey:null}],storageKey:null}],storageKey:"edge_media_preview_like(first:10)"};var X=[h,I],na={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"sponsor",plural:!1,selections:X,storageKey:null},oa={alias:null,args:null,kind:"ScalarField",name:"is_affiliate",storageKey:null},pa={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null};t={alias:null,args:null,concreteType:"XDTGraphLocation",kind:"LinkedField",name:"location",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"has_public_page",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_json",storageKey:null}],storageKey:null};var qa={alias:null,args:null,concreteType:"XDTGraphNftAssetInfoType",kind:"LinkedField",name:"nft_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"asset_id",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"shimmer_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_igid",storageKey:null}],storageKey:null},ra={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved",storageKey:null},sa={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved_to_collection",storageKey:null},ta={alias:null,args:null,kind:"ScalarField",name:"viewer_in_photo_of_you",storageKey:null},ua={alias:null,args:null,kind:"ScalarField",name:"viewer_can_reshare",storageKey:null},va={alias:null,args:null,kind:"ScalarField",name:"is_ad",storageKey:null},wa={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"coauthor_producers",plural:!0,selections:Q,storageKey:null};Q={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"pinned_for_users",plural:!0,selections:Q,storageKey:null};var Y={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},Z=[Y],$={kind:"InlineFragment",selections:Z,type:"XDTGraphImage",abstractKey:null};F={alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_related_profiles_connection",kind:"LinkedField",name:"edge_related_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_related_profiles",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:[h,F,J,H,u,I,M,{alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_related_profile_media_count"}],concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:[K,{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,h,i,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:L,storageKey:null},{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:L,storageKey:null},j,{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:X,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[l,m,n,o,p,ba,ca],storageKey:null},x,B,C,$,{kind:"InlineFragment",selections:Z,type:"XDTGraphSidecar",abstractKey:null},{kind:"InlineFragment",selections:Z,type:"XDTGraphVideo",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};J={alias:null,args:null,concreteType:"XDTGraphDashInfo",kind:"LinkedField",name:"dash_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null}],storageKey:null};H={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null};u={alias:null,args:null,kind:"ScalarField",name:"video_url",storageKey:null};I={alias:null,args:null,kind:"ScalarField",name:"video_view_count",storageKey:null};M={alias:null,args:null,kind:"ScalarField",name:"video_play_count",storageKey:null};K={kind:"InlineFragment",selections:[Y,J,H,u,I,M,{alias:null,args:null,kind:"ScalarField",name:"encoding_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_published",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"video_duration",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphClipsMusicAttributionInfo",kind:"LinkedField",name:"clips_music_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"song_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uses_original_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_id",storageKey:null}],storageKey:null}],type:"XDTGraphVideo",abstractKey:null};L={kind:"InlineFragment",selections:[Y,J,H,u,I,M],type:"XDTGraphVideo",abstractKey:null};X={alias:null,args:da,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[ea,fa,ga,h],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e],kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryLegacyQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineFragment",selections:[g,h,i,j,k,r,s,v,w,x,B,A,q,z,C,D,E,ha,G,{alias:null,args:ia,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[N,y],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},ja,ka,la,ma,O,P,R,T,U,W,V,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[na],storageKey:null}],storageKey:null}],storageKey:null},oa,pa,t,qa,S,ra,sa,ta,ua,va,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,j],storageKey:null}],storageKey:null}],storageKey:null},wa,Q,F,K,$,{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,h,i,k,r,s,v,w,x,B,A,q,z,L,$,C,D,E,ha],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"fetch_related_profile_media_count"},{kind:"RootArgument",name:"fetch_tagged_user_count"},{kind:"RootArgument",name:"hoisted_comment_id"},{kind:"RootArgument",name:"hoisted_reply_id"}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,b,c,d],kind:"Operation",name:"PolarisPostActionLoadPostQueryLegacyQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[g,{kind:"TypeDiscriminator",abstractKey:"__isXDTGraphMediaInterface"},h,i,j,k,r,s,v,w,x,B,A,q,z,C,D,E,X,G,{alias:null,args:ia,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[N,y,h],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},ja,ka,la,ma,O,P,R,T,U,W,V,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[na,h],storageKey:null}],storageKey:null}],storageKey:null},oa,pa,t,qa,S,ra,sa,ta,ua,va,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,i,j,h],storageKey:null}],storageKey:null}],storageKey:null},wa,Q,F,K,$,{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,h,i,k,r,s,v,w,x,B,A,q,z,L,$,C,D,E,X],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],storageKey:null}]},params:{id:aa("PolarisPostActionLoadPostQueryLegacyQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_shortcode_media"]},name:"PolarisPostActionLoadPostQueryLegacyQuery",operationKind:"query",text:null}}}();d.exports=a}),null);
__d("PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24892670097012511"}),null);
__d("PolarisPostActionLoadPostQueryMediaIdQuery.graphql",["PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation"],(function(a,aa,b,c,d,e){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"mediaId"}],b=[{kind:"Variable",name:"media_id",variableName:"mediaId"}],c={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"taken_at",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l={alias:null,args:null,concreteType:"XDTVideoVersion",kind:"LinkedField",name:"video_versions",plural:!0,selections:[i,j,k,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null};k={alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[k,j,i],storageKey:null}],storageKey:null};j={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null};i={alias:null,args:null,kind:"ScalarField",name:"is_pending",storageKey:null};var r={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"organic_tracking_token",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},A={alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},z,{alias:null,args:null,kind:"ScalarField",name:"incoming_request",storageKey:null},w,{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_unconnected",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"outgoing_request",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscribed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_feed_favorite",storageKey:null}],storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"latest_reel_media",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},H={alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,r,n,m,y],storageKey:null}],storageKey:null}],storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},K={alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null},{alias:null,args:null,concreteType:"XDTIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},I,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},J,{alias:null,args:null,concreteType:"XDTTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"carousel_parent_id",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},P={alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[N,O],storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"preview",storageKey:null};I={alias:null,args:null,concreteType:"XDTLocationDict",kind:"LinkedField",name:"location",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"lat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lng",storageKey:null},I,m],storageKey:null};var R={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"audio_type",storageKey:null},T={alias:null,args:null,concreteType:"XDTClipsAchievementsInfo",kind:"LinkedField",name:"achievements_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_achievements",storageKey:null}],storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},W={alias:null,args:null,concreteType:"XDTMusicInfo",kind:"LinkedField",name:"music_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMusicConsumptionInfoDict",kind:"LinkedField",name:"music_consumption_info",plural:!1,selections:[U,V],storageKey:null},{alias:null,args:null,concreteType:"XDTTrackData",kind:"LinkedField",name:"music_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_cluster_id",storageKey:null}],storageKey:null}],storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"original_audio_title",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"audio_asset_id",storageKey:null};V={alias:null,args:null,concreteType:"XDTOriginalSoundConsumptionInfo",kind:"LinkedField",name:"consumption_info",plural:!1,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason_type",storageKey:null}],storageKey:null};var Z={alias:null,args:null,concreteType:"XDTClipsAppAttribution",kind:"LinkedField",name:"clips_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_app_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_app_name",storageKey:null},{alias:null,args:null,concreteType:"XDTClipsPivotPageHeader",kind:"LinkedField",name:"pivot_page_header",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"developer_app_logo_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_url",storageKey:null}],storageKey:null}],storageKey:null};J={alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[J],storageKey:null};z={alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[z],storageKey:null};var $={alias:null,args:null,kind:"ScalarField",name:"main_feed_carousel_starting_media_id",storageKey:null},ba={alias:null,args:null,kind:"ScalarField",name:"has_liked",storageKey:null},ca={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},da={alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"media_level_comment_controls",storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"ig_media_sharing_disabled",storageKey:null},ga={alias:null,args:null,kind:"ScalarField",name:"audience",storageKey:null},ha={alias:null,args:null,kind:"ScalarField",name:"is_shared_from_basel",storageKey:null},ia={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},ja={alias:null,args:null,kind:"ScalarField",name:"photo_of_you",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"carousel_media_count",storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null},ma={alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},na={alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null};O={alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[O,N],storageKey:null};N={alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,r,n,m,y,e],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryMediaIdQuery",selections:[{alias:null,args:b,concreteType:"XDTMediaInfoListResponse",kind:"LinkedField",name:"xdt_api__v1__media__media_id_web_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineMediaFragment",selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[c,d,e,f,g,h,l,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"facepile_top_likers",plural:!0,selections:[m,d,n],storageKey:null},o,p,q,k,j,{alias:null,args:null,concreteType:"XDTSponsorTag",kind:"LinkedField",name:"sponsor_tags",plural:!0,selections:[i,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sponsor",plural:!1,selections:[d,n,m,r,s],storageKey:null}],storageKey:null},t,u,v,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,n,m,w,x,s,y,A,B],storageKey:null},C,D,E,F,G,H,K,{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[e,d,L,o,q,t,u,k,M,P,Q,v,l,K,H],storageKey:null},I,R,{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[S,T,W,{alias:null,args:null,concreteType:"XDTOriginalSoundData",kind:"LinkedField",name:"original_sound_info",plural:!1,selections:[X,U,Y,V,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"ig_artist",plural:!1,selections:[n],storageKey:null}],storageKey:null}],storageKey:null},Z,J,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[d,n,r,m,w,s,z],storageKey:null},$,ba,ca,da,ea,fa,ga,ha,ia,ja,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[d],storageKey:null},ka,la,ma,na,O],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisPostActionLoadPostQueryMediaIdQuery",selections:[{alias:null,args:b,concreteType:"XDTMediaInfoListResponse",kind:"LinkedField",name:"xdt_api__v1__media__media_id_web_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[c,d,e,f,g,h,l,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"facepile_top_likers",plural:!0,selections:[m,d,n,e],storageKey:null},o,p,q,k,j,{alias:null,args:null,concreteType:"XDTSponsorTag",kind:"LinkedField",name:"sponsor_tags",plural:!0,selections:[i,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sponsor",plural:!1,selections:[d,n,m,r,s,e],storageKey:null}],storageKey:null},t,u,v,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,n,m,w,x,s,y,A,B,e],storageKey:null},C,D,E,F,G,N,K,{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[e,d,L,o,q,t,u,k,M,P,Q,v,l,K,N],storageKey:null},I,R,{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[S,T,W,{alias:null,args:null,concreteType:"XDTOriginalSoundData",kind:"LinkedField",name:"original_sound_info",plural:!1,selections:[X,U,Y,V,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"ig_artist",plural:!1,selections:[n,e],storageKey:null}],storageKey:null}],storageKey:null},Z,J,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[d,n,r,m,w,s,z,e],storageKey:null},$,ba,ca,da,ea,fa,ga,ha,ia,ja,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[d,e],storageKey:null},ka,la,ma,na,O],storageKey:null}],storageKey:null}]},params:{id:aa("PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_api__v1__media__media_id_web_info"]},name:"PolarisPostActionLoadPostQueryMediaIdQuery",operationKind:"query",text:null}}}();d.exports=a}),null);
__d("PolarisPostActionLoadPostQueryQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29599222026389233"}),null);
__d("PolarisPostActionLoadPostQueryQuery.graphql",["PolarisPostActionLoadPostQueryQuery_instagramRelayOperation"],(function(a,aa,b,c,d,e){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"fetch_tagged_user_count"},b={defaultValue:null,kind:"LocalArgument",name:"hoisted_comment_id"},c={defaultValue:null,kind:"LocalArgument",name:"hoisted_reply_id"},d={defaultValue:null,kind:"LocalArgument",name:"shortcode"},e=[{kind:"Variable",name:"shortcode",variableName:"shortcode"}],f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"shortcode",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"thumbnail_src",storageKey:null},j={alias:null,args:null,concreteType:"XDTGraphMediaDimensions",kind:"LinkedField",name:"dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},n={alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"buttons",storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"gating_type",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"center_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_reveal_cta",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_gated",storageKey:null},m],storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"fact_check_overall_rating",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},r={alias:null,args:null,concreteType:"XDTGraphMediaFactCheck",kind:"LinkedField",name:"fact_check_information",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaFactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[p,q,{alias:null,args:null,kind:"ScalarField",name:"appeal_email",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_directly_rated",storageKey:null}],storageKey:null},s={alias:null,args:null,concreteType:"XDTGraphMediaSensitivityFrictionInfo",kind:"LinkedField",name:"sensitivity_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sensitivity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_primary_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_secondary_button",storageKey:null}],storageKey:null},t={alias:null,args:null,concreteType:"XDTGraphMediaSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},w={alias:null,args:null,concreteType:"XDTGraphMediaOverlayIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},p,v],storageKey:null},x=[{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},w,{alias:null,args:null,concreteType:"XDTGraphMediaOverlayTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null}];x={alias:null,args:null,concreteType:"XDTGraphMediaOverlayInfo",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:x,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:x,storageKey:null},k,w,m,{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"bloks_data",storageKey:null}],storageKey:null};k={alias:null,args:null,kind:"ScalarField",name:"media_preview",storageKey:null};w={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null};m={alias:null,args:null,concreteType:"XDTGraphImageResource",kind:"LinkedField",name:"display_resources",plural:!0,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"config_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"config_height",storageKey:null}],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"is_video",storageKey:null};var y={alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},z={alias:null,args:null,concreteType:"XDTGraphUpcomingEventDict",kind:"LinkedField",name:"upcoming_event",plural:!1,selections:[g,l,{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reminder_enabled",storageKey:null}],storageKey:null},A=[{kind:"Variable",name:"first",variableName:"fetch_tagged_user_count"}],B={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"followed_by_viewer",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},F={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"user",plural:!1,selections:[B,C,g,D,q,E],storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},I={alias:null,args:A,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[F,G,H],storageKey:null}],storageKey:null}],storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},K=[J];C={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:[g,E,D,q,{alias:null,args:null,kind:"ScalarField",name:"blocked_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_by_viewer",storageKey:null},C,B,{alias:null,args:null,kind:"ScalarField",name:"has_blocked_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pass_tiering_recommendation",storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_followed_by_connection",kind:"LinkedField",name:"edge_followed_by",plural:!1,selections:K,storageKey:null}],storageKey:null};B=[{kind:"Literal",name:"first",value:1}];var L={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"can_see_insights_as_brand",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"caption_is_edited",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"has_ranked_comments",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},Q={alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"did_report_as_spam",storageKey:null};D=[g,D,q,E];q={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:D,storageKey:null};var S={alias:null,args:null,kind:"ScalarField",name:"viewer_has_liked",storageKey:null};K={alias:null,args:null,concreteType:"XDTgraphcomment_edge_liked_by_connection",kind:"LinkedField",name:"edge_liked_by",plural:!1,selections:K,storageKey:null};var T={alias:null,args:null,kind:"ScalarField",name:"is_restricted_pending",storageKey:null},U=[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[g,u,L,R,q,S,K,T],storageKey:null}],V={alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"XDTgraphcomment_edge_threaded_comments_connection",kind:"LinkedField",name:"edge_threaded_comments",plural:!1,selections:[J,Q,{alias:null,args:null,concreteType:"XDTgraphcomment_edge_threaded_comments",kind:"LinkedField",name:"edges",plural:!0,selections:U,storageKey:null}],storageKey:"edge_threaded_comments(first:3)"};Q={alias:null,args:[{kind:"Literal",name:"first",value:24}],concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment_connection",kind:"LinkedField",name:"edge_media_to_parent_comment",plural:!1,selections:[J,Q,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[g,u,L,R,q,S,K,T,V],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_parent_comment(first:24)"};R={alias:null,args:[{kind:"Variable",name:"hoisted_comment_id",variableName:"hoisted_comment_id"}],concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment_connection",kind:"LinkedField",name:"edge_media_to_hoisted_comment",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[g,u,L,R,q,S,K,T,{alias:null,args:[{kind:"Variable",name:"hoisted_reply_id",variableName:"hoisted_reply_id"}],concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply_connection",kind:"LinkedField",name:"edge_comment_to_hoisted_reply",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply",kind:"LinkedField",name:"edges",plural:!0,selections:U,storageKey:null}],storageKey:null},V],storageKey:null}],storageKey:null}],storageKey:null};q={alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:[J,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment",kind:"LinkedField",name:"edges",plural:!0,selections:U,storageKey:null}],storageKey:"edge_media_preview_comment(first:2)"};K={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null};T={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null};V={alias:null,args:null,kind:"ScalarField",name:"taken_at_timestamp",storageKey:null};U={alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:[J,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:D,storageKey:null}],storageKey:null}],storageKey:"edge_media_preview_like(first:10)"};J={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"sponsor",plural:!1,selections:[g,E],storageKey:null};E={alias:null,args:null,kind:"ScalarField",name:"is_affiliate",storageKey:null};var W={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null};p={alias:null,args:null,concreteType:"XDTGraphLocation",kind:"LinkedField",name:"location",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"has_public_page",storageKey:null},p,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_json",storageKey:null}],storageKey:null};var ba={alias:null,args:null,concreteType:"XDTGraphNftAssetInfoType",kind:"LinkedField",name:"nft_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"asset_id",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"shimmer_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_igid",storageKey:null}],storageKey:null},ca={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved",storageKey:null},da={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved_to_collection",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"viewer_in_photo_of_you",storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"viewer_can_reshare",storageKey:null},ga={alias:null,args:null,kind:"ScalarField",name:"is_ad",storageKey:null},ha={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"coauthor_producers",plural:!0,selections:D,storageKey:null};D={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"pinned_for_users",plural:!0,selections:D,storageKey:null};var X={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},Y={alias:null,args:null,concreteType:"XDTGraphDashInfo",kind:"LinkedField",name:"dash_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null}],storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null},ia={alias:null,args:null,kind:"ScalarField",name:"video_url",storageKey:null},ja={alias:null,args:null,kind:"ScalarField",name:"video_view_count",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"video_play_count",storageKey:null};l={kind:"InlineFragment",selections:[X,Y,Z,ia,ja,ka,{alias:null,args:null,kind:"ScalarField",name:"encoding_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_published",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"video_duration",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphClipsMusicAttributionInfo",kind:"LinkedField",name:"clips_music_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"song_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uses_original_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_id",storageKey:null}],storageKey:null}],type:"XDTGraphVideo",abstractKey:null};var $={kind:"InlineFragment",selections:[X],type:"XDTGraphImage",abstractKey:null};Y={kind:"InlineFragment",selections:[X,Y,Z,ia,ja,ka],type:"XDTGraphVideo",abstractKey:null};Z={alias:null,args:A,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[F,G,H,g],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d],kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles",selections:[f,g,h,i,j,n,o,r,s,t,x,k,w,m,v,y,z,I,C,{alias:null,args:B,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[L,u],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},M,N,O,P,Q,R,q,K,T,V,U,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[J],storageKey:null}],storageKey:null}],storageKey:null},E,W,p,ba,S,ca,da,ea,fa,ga,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,i],storageKey:null}],storageKey:null}],storageKey:null},ha,D,l,$,{kind:"InlineFragment",selections:[X,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,g,h,j,n,o,r,s,t,x,k,w,m,Y,$,v,y,z,I],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"fetch_tagged_user_count"},{kind:"RootArgument",name:"hoisted_comment_id"},{kind:"RootArgument",name:"hoisted_reply_id"}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,a,b,c],kind:"Operation",name:"PolarisPostActionLoadPostQueryQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[f,{kind:"TypeDiscriminator",abstractKey:"__isXDTGraphMediaInterface"},g,h,i,j,n,o,r,s,t,x,k,w,m,v,y,z,Z,C,{alias:null,args:B,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[L,u,g],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},M,N,O,P,Q,R,q,K,T,V,U,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[J,g],storageKey:null}],storageKey:null}],storageKey:null},E,W,p,ba,S,ca,da,ea,fa,ga,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,h,i,g],storageKey:null}],storageKey:null}],storageKey:null},ha,D,l,$,{kind:"InlineFragment",selections:[X,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,g,h,j,n,o,r,s,t,x,k,w,m,Y,$,v,y,z,Z],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],storageKey:null}]},params:{id:aa("PolarisPostActionLoadPostQueryQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_shortcode_media"]},name:"PolarisPostActionLoadPostQueryQuery",operationKind:"query",text:null}}}();d.exports=a}),null);
__d("PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9817375101688294"}),null);
__d("PolarisPostActionLoadPostQuerySharerQuery.graphql",["PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"mediaId"},c={defaultValue:null,kind:"LocalArgument",name:"shid"},d=[{kind:"Variable",name:"media_id",variableName:"mediaId"},{kind:"Variable",name:"shid",variableName:"shid"}],e={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url_hd",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null};return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQuerySharerQuery",selections:[{alias:null,args:d,concreteType:"XDTShidUserResponse",kind:"LinkedField",name:"xdt_get_relationship_for_shid_logged_out",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineSharerFragment",selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sender",plural:!1,selections:[e,f,g,h],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"PolarisPostActionLoadPostQuerySharerQuery",selections:[{alias:null,args:d,concreteType:"XDTShidUserResponse",kind:"LinkedField",name:"xdt_get_relationship_for_shid_logged_out",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sender",plural:!1,selections:[e,f,g,h,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_get_relationship_for_shid_logged_out"]},name:"PolarisPostActionLoadPostQuerySharerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisPostActionLoadPostQuery",["PolarisPostActionLoadPostQueryInlineFragment.graphql","PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql","PolarisPostActionLoadPostQueryInlineMediaFragment.graphql","PolarisPostActionLoadPostQueryInlineSharerFragment.graphql","PolarisPostActionLoadPostQueryLegacyQuery.graphql","PolarisPostActionLoadPostQueryMediaIdQuery.graphql","PolarisPostActionLoadPostQueryQuery.graphql","PolarisPostActionLoadPostQuerySharerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o;a=h!==void 0?h:h=b("PolarisPostActionLoadPostQueryInlineMediaFragment.graphql");c=i!==void 0?i:i=b("PolarisPostActionLoadPostQueryInlineFragment.graphql");d=j!==void 0?j:j=b("PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql");e=k!==void 0?k:k=b("PolarisPostActionLoadPostQueryInlineSharerFragment.graphql");f=l!==void 0?l:l=b("PolarisPostActionLoadPostQueryQuery.graphql");var p=m!==void 0?m:m=b("PolarisPostActionLoadPostQueryLegacyQuery.graphql"),q=n!==void 0?n:n=b("PolarisPostActionLoadPostQueryMediaIdQuery.graphql");b=o!==void 0?o:o=b("PolarisPostActionLoadPostQuerySharerQuery.graphql");g.MEDIA_INLINE_FRAGMENT=a;g.INLINE_FRAGMENT=c;g.INLINE_FRAGMENT_WITHOUT_RELATED_PROFILES=d;g.SHARER_INLINE_FRAGMENT=e;g.POST_QUERY=f;g.POST_QUERY_LEGACY=p;g.POST_QUERY_MEDIA_ID=q;g.POST_SHARER_INFORMATION=b}),98);
__d("PolarisPostActionPostPageLoaded",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{postData:c("nullthrows")(a.shortcode_media),type:"POST_PAGE_LOADED"}}g.postPageLoaded=a}),98);
__d("PolarisPostActionLoadPost",["CometRelay","FBLogger","PolarisAdsActions","PolarisInstapi","PolarisIsLoggedIn","PolarisPostActionLoadPostQuery","PolarisPostActionPostLoadedV2","PolarisPostActionPostPageLoaded","PolarisRelayEnvironment","PolarisSenderNameHelpers","PolarisThreadedCommentActions","asyncToGeneratorRuntime","err","getPolarisPostIdFromNativeId","isTruthy","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),d("PolarisPostActionLoadPostQuery").POST_SHARER_INFORMATION,{mediaId:b,shid:a}).toPromise());if(b==null||b.xdt_get_relationship_for_shid_logged_out==null)return null;a=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").SHARER_INLINE_FRAGMENT,b.xdt_get_relationship_for_shid_logged_out);return a});return i.apply(this,arguments)}function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),d("PolarisPostActionLoadPostQuery").POST_QUERY_MEDIA_ID,{mediaId:a}).toPromise());if(a==null)throw c("err")("Post modal response is unexpectedly null");a=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").MEDIA_INLINE_FRAGMENT,a==null?void 0:a.xdt_api__v1__media__media_id_web_info);return a.items!=null?[].concat(a.items):null});return k.apply(this,arguments)}function l(a){return a.split("_").length>1}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/info/",{path:{media_id:a},query:{}}));a=a.data;return a.items!=null?[].concat(a.items):null});return n.apply(this,arguments)}function a(a,e,f,g,i){f===void 0&&(f=!1);return function(){var k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,k){b({shortcode:a,type:"POST_PAGE_LOADING"});if(e!=null&&d("PolarisIsLoggedIn").isLoggedIn())try{b(d("PolarisThreadedCommentActions").requestInitialComments(c("getPolarisPostIdFromNativeId")(e)));var n=l(e)?yield j(e):yield m(e);if(n!=null){var o=n[0];k=new Set(k().ads.feed.keys());o!=null&&o.ad_id!=null?b(d("PolarisAdsActions").adMediaInfoLoaded(n[0],a)):b(d("PolarisPostActionPostLoadedV2").postLoadedV2(n,a,k))}}catch(a){c("FBLogger")("ig_web").catching(a)}else{o=f?d("PolarisPostActionLoadPostQuery").POST_QUERY:d("PolarisPostActionLoadPostQuery").POST_QUERY_LEGACY;try{if(i!=null&&e!=null&&d("PolarisSenderNameHelpers").shouldShowSenderName("postPage")){n=(yield h(i,e));n!=null&&b({fullName:n.sender.full_name,profilePicUrl:n.sender.profile_pic_url,profilePicUrlHd:n.sender.profile_pic_url_hd,sharedMediaId:e,type:"UPDATE_SHARER_INFORMATION",username:n.sender.username})}k=(yield d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),o,{shortcode:a}).toPromise());f?n=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").INLINE_FRAGMENT_WITHOUT_RELATED_PROFILES,k==null?void 0:k.xdt_shortcode_media):n=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").INLINE_FRAGMENT,k==null?void 0:k.xdt_shortcode_media);o=n.accessibility_caption==null&&c("isTruthy")(g);o&&(n=babelHelpers["extends"]({},n,{accessibility_caption:g}));b(d("PolarisPostActionPostPageLoaded").postPageLoaded({shortcode_media:c("nullthrows")(n)}))}catch(a){c("FBLogger")("ig_web").catching(a).mustfix("unexpected")}}});return function(a,b){return k.apply(this,arguments)}}()}g.loadPost=a}),98);
__d("PolarisDesktopPostLoadingShimmer.react",["cx","PolarisIGTheme.react","PolarisReactRedux.react","PolarisSizing","polarisPostModalHelpers","polarisPostSelectors","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b,c=d("react-compiler-runtime").c(12),e=a.dimensions,f=a.postId,g=a.viewportHeight;a=a.viewportWidth;var h=a!=null&&a>d("PolarisSizing").MEDIUM_SCREEN_MIN;b=(b=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisPostSelectors").getPostOrNullById(a,f!=null?f:"")}))==null?void 0:b.isSponsored;g=g!=null?g:0;a=a!=null?a:0;var i;c[0]!==e||c[1]!==b||c[2]!==h||c[3]!==g||c[4]!==a?(i=d("polarisPostModalHelpers").getMediaContainerProps({dimensions:e,hasFooter:b,hasSidebarInRedesign:h,viewportHeight:g,viewportWidth:a}),c[0]=e,c[1]=b,c[2]=h,c[3]=g,c[4]=a,c[5]=i):i=c[5];b=i;g="_aas3"+(h&&e!=null&&e.width>=e.height?" _aas4":"");c[6]!==e?(a=j.jsx(l,{dimensions:e}),c[6]=e,c[7]=a):a=c[7];c[8]!==b||c[9]!==g||c[10]!==a?(i=j.jsx("div",babelHelpers["extends"]({className:g},b,{children:a})),c[8]=b,c[9]=g,c[10]=a,c[11]=i):i=c[11];return i}function l(a){a=a.dimensions;var b={},c=d("PolarisIGTheme.react").useTheme();a&&(b.paddingBottom=d("PolarisSizing").getHeightPercent(a)+"%");return j.jsx("div",{className:"_aas5"+(c.getTheme()===d("PolarisIGTheme.react").IGTheme.Dark?" _aas6":""),style:b})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=d("react-compiler-runtime").c(5),c=a.dimensions,e=a.postId,f=a.viewportHeight;a=a.viewportWidth;var g;b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==a?(g=j.jsx(k,{dimensions:c,postId:e,viewportHeight:f,viewportWidth:a}),b[0]=c,b[1]=e,b[2]=f,b[3]=a,b[4]=g):g=b[4];return g}function a(a){var b=d("react-compiler-runtime").c(16),c=a.dimensions,e=a.postId,f=a.viewportHeight;a=a.viewportWidth;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={},b[0]=g):g=b[0];g=g;if(c){var h;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(h={flexDirection:"row"},b[1]=h):h=b[1];g=h}b[2]!==c||b[3]!==e||b[4]!==f||b[5]!==a?(h=j.jsx(m,{dimensions:c,postId:e,viewportHeight:f,viewportWidth:a}),b[2]=c,b[3]=e,b[4]=f,b[5]=a,b[6]=h):h=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(c=j.jsx("div",{className:"_aasa"}),b[7]=c):c=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx("div",{className:"_aasc"}),b[8]=e):e=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsxs("div",{className:"_aas9",children:[c,j.jsxs("div",{className:"_aasb",children:[e,j.jsx("div",{className:"_aasd"})]})]}),b[9]=f):f=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx("div",{className:"_aasf"}),b[10]=a):a=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(c=j.jsx("div",{className:"_aasg"}),b[11]=c):c=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsxs("div",{className:"_aas8",children:[f,j.jsxs("div",{className:"_aase",children:[a,c,j.jsx("div",{className:"_aash"})]})]}),b[12]=e):e=b[12];b[13]!==g||b[14]!==h?(f=j.jsxs("div",{className:"_aas7",style:g,children:[h,e]}),b[13]=g,b[14]=h,b[15]=f):f=b[15];return f}g.SIDEBAR_VARIANT_CUTOFF=d("PolarisSizing").MEDIUM_SCREEN_MIN;g.DesktopPostLoadingShimmer=a}),98);
__d("PolarisPostModalLoading.react",["IGDSBox.react","IGDSSpinner.react","PolarisDesktopPostLoadingShimmer.react","PolarisPostConstants","PolarisUA","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.dimensions,f=a.postId,g=a.viewportHeight;a=a.viewportWidth;if(d("PolarisUA").isDesktop()&&a>d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF){var h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=i.jsx(d("PolarisDesktopPostLoadingShimmer.react").DesktopPostLoadingShimmer,{dimensions:e,postId:f,viewportHeight:g,viewportWidth:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:i.jsx(c("IGDSSpinner.react"),{color:"light",size:"medium"})}),b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("PolarisPostModalPaginationArrow.react",["cx","IGDSChevronIcon.react","Locale","PolarisGenericStrings","PolarisIGCoreSVGIconButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.direction;a=a.onClick;var f=c("Locale").isRTL(),g=e==="back"&&!f||e==="next"&&f;f=e==="next"&&!f||e==="back"&&f;f=(g?"_aaqf":"")+(f?" _aaqg":"")+" _aaqh";g=g?d("PolarisGenericStrings").GO_BACK:d("PolarisGenericStrings").NEXT;var h;b[0]!==e||b[1]!==g?(h=j.jsx(c("IGDSChevronIcon.react"),{alt:g,color:"web-always-black",direction:e,size:16}),b[0]=e,b[1]=g,b[2]=h):h=b[2];b[3]!==a||b[4]!==h?(e=j.jsx(c("PolarisIGCoreSVGIconButton.react"),{onClick:a,children:h}),b[3]=a,b[4]=h,b[5]=e):e=b[5];b[6]!==f||b[7]!==e?(g=j.jsx("div",{className:f,children:e}),b[6]=f,b[7]=e,b[8]=g):g=b[8];return g}g["default"]=a}),98);
__d("PolarisPostModalInternal.react",["IGCoreModal.react","IGCoreModalLocation.react","PolarisAutoplayViewpointManager.react","PolarisDOMListener.react","PolarisIsLoggedIn","PolarisLogger","PolarisPostActionLoadPost","PolarisPostModalLoading.react","PolarisPostModalPaginationArrow.react","PolarisPostModalRenderingContext.react","PolarisReactRedux.react","PolarisRoutes","PolarisThreadedCommentActions","getPolarisKeyCommandConfig","nullthrows","polarisPostModalHelpers","polarisPostSelectors","react","useGlobalKeyCommands","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useRef,n={isInModal:!0};function a(a){var b=a.analyticsContext,e=a.children,f=a.combinedPostIds,g=f===void 0?[]:f;f=a["data-testid"];f=a.dimensions;var h=a.mediaLinkBuilder,o=a.modalEntryPath;o=o===void 0?d("PolarisRoutes").FEED_PATH:o;var p=a.onClose,q=a.onlyReplaceModalHistory,r=a.onOpen,s=a.postCode,t=a.postId,u=a.postModalMediaUFI,v=a.showLoadingShimmer,w=a.skipMediaInfo,x=d("PolarisReactRedux.react").useDispatch(),y=m(null);a=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisPostSelectors").getAreCommentsFetched(a,t)});var z=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisPostSelectors").getIsPostDataFetched(a,s)}),A=d("PolarisIsLoggedIn").isLoggedIn()===!0?z:z&&a;z=j(function(){A||(w===!0?x(d("PolarisThreadedCommentActions").requestInitialComments(t)):x(d("PolarisPostActionLoadPost").loadPost(s,u!=null?u:t)))},[w,A,x,s,u,t]);k(z,[z]);var B=g.findIndex(function(a){return a===t}),C=j(function(a){return a>=0&&a<g.length},[g.length]),D=j(function(a){a=B+a;C(a)&&r&&r(c("nullthrows")(g[a]),a,u)},[g,B,C,r,u]),E=j(function(a){p(a),y.current!=null&&y.current.returnToEntry()},[p]);a=l(function(){return[d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","navigateLeft",function(){D(d("polarisPostModalHelpers").LEFT_DELTA)}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","navigateRight",function(){D(d("polarisPostModalHelpers").RIGHT_DELTA)}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","exit",function(){E()})]},[D,E]);c("useGlobalKeyCommands")(a);z=function(a){return function(b){if(b.metaKey||b.ctrlKey)return;b.preventDefault();b.stopPropagation();D(a);d("PolarisLogger").logAction("postModalArrowClick")}};a=j(function(){var a=d("polarisPostModalHelpers").getModalPageIdFromAnalyticsContext(b);a.length>0&&d("PolarisLogger").logPageView(a,{page_id:a,post_id:t})},[b,t]);var F=C(B-1),G=C(B+1);F=i.jsx("div",{className:"x9f619 x5yr21d x889kno x2vl965 x1a8lsjc xe2zdcy x47corl xh8yej3 x10l6tqk",children:i.jsxs("div",{className:"x5yr21d x47corl x1n2onr6 xh8yej3",children:[F&&i.jsx(c("PolarisPostModalPaginationArrow.react"),{direction:"back",onClick:z(d("polarisPostModalHelpers").LEFT_DELTA)}),G&&i.jsx(c("PolarisPostModalPaginationArrow.react"),{direction:"next",onClick:z(d("polarisPostModalHelpers").RIGHT_DELTA)})]})});G=c("usePolarisDisplayProperties")();z=G.viewportHeight;G=G.viewportWidth;v=i.jsx(i.Fragment,{children:!A&&v?i.jsx(c("PolarisPostModalLoading.react"),{dimensions:f,postId:t,viewportHeight:z,viewportWidth:G}):e});f=i.jsx(c("IGCoreModal.react"),{aboveContent:F,backgroundColor:"DEPRECATED_transparent",closeButtonPosition:"background","data-testid":void 0,onClose:E,size:"fullscreenResponsive",children:v});return i.jsxs(i.Fragment,{children:[i.jsx(d("PolarisAutoplayViewpointManager.react").FullscreenAutoplayViewpointClipRegion,{id:"postModal"}),i.jsx(c("IGCoreModalLocation.react"),{entryPath:o,nativeReplace:!0,onlyReplaceModalHistory:q,onUpdateHistory:a,pageID:"postPage",parentModule:"PolarisPostModal",path:h(s),ref:y}),i.jsx(c("PolarisDOMListener.react"),{event:"popstate",handler:E,once:!0,target:window}),i.jsx(d("PolarisPostModalRenderingContext.react").PolarisPostModalRenderingContext.Provider,{value:n,children:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostModal.react",["PolarisPostModalInternal.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=i.jsx(c("PolarisPostModalInternal.react"),babelHelpers["extends"]({},a,{showLoadingShimmer:!0})),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("PolarisClipsItemModal.react",["IGRouter_DO_NOT_USE.react","PolarisClipsHelpers","PolarisLinkBuilder","PolarisPost.react","PolarisPostModal.react","PolarisPostVariants","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useRef;function a(a){var b=a.analyticsContext,e=a.clips,f=a.history,g=a.onClose,h=a.onOpen;a=a.postId;f=j(f.location.pathname);var k=d("PolarisClipsHelpers").getClipItemFromPostID(e,a);if(!k)return null;e=e.map(function(a){return c("nullthrows")((a=a.media)==null?void 0:a.pk)});return i.jsx(c("PolarisPostModal.react"),{analyticsContext:b,combinedPostIds:e,dimensions:d("PolarisClipsHelpers").getClipDimensionsFromItemDict(k),mediaLinkBuilder:d("PolarisLinkBuilder").buildClipsMediaLink,modalEntryPath:f.current,onClose:g,onOpen:h,postCode:c("nullthrows")((e=k.media)==null?void 0:e.code),postId:a,children:i.jsx(c("PolarisPost.react"),{analyticsContext:b+"Modal",autoplay:!0,id:a,isVisible:!0,variant:d("PolarisPostVariants").VARIANTS.flexible,visiblePosition:0})})}a.displayName=a.name+" [from "+f.id+"]";b=d("IGRouter_DO_NOT_USE.react").withIGRouter(a);g["default"]=b}),98);
__d("PolarisDesktopSponsoredPersistentCTA.react",["CometErrorBoundary.react","InstagramODS","InstagramWebAdEventsAuditFalcoEvent","PolarisClickEventLoggerProvider.react","PolarisClipsTabHelpers","PolarisNavigationHelpers","PolarisPostFooterCTA.react","PolarisPostUtils","PolarisSponsoredPersistentCTAThumbnail.react","PolarisTrackingCodeProvider.react","PolarisTrackingNodeProvider.react","getPolarisPostIdFromNativeId","polarisAdsSelectors.react","polarisPostSelectors","react","react-compiler-runtime","usePolarisSelector","usePolarisSponsoredPostCTAFooterDominantColor","useThrottled"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useLayoutEffect,l=b.useState;function m(a){var b=d("react-compiler-runtime").c(29),e=a.ctaAdditionalAnimation,f=a.ctaLinkText,g=a.domColor,h=a.entryPoint,m=a.externalURL,n=a.mediaId,o=a.mpk,p=a.post,q=a.socialContextType,r=a.thumbnailImageSrc,s=a.trackingToken;a=l(0);var t=a[0],u=a[1];b[0]!==n||b[1]!==p?(a={isMediaRendered:!0,mediaId:n,post:p},b[0]=n,b[1]=p,b[2]=a):a=b[2];n=c("usePolarisSponsoredPostCTAFooterDominantColor")(a);p=n.ctaFooterViewpointRef;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){u(d("PolarisNavigationHelpers").getNavBarDesktopWidth())},b[3]=a):a=b[3];var v=c("useThrottled")(a,d("PolarisClipsTabHelpers").WINDOW_RESIZE_THROTTLE);b[4]!==v?(n=function(){v();window.addEventListener("resize",v);return function(){window.removeEventListener("resize",v)}},a=[v],b[4]=v,b[5]=n,b[6]=a):(n=b[5],a=b[6]);k(n,a);b[7]!==h||b[8]!==q||b[9]!==s?(n=function(){c("InstagramODS").incr("web.ads.feed.link_click"),c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:s,event:"persistent_cta_click",social_context_type:q}}),h!==null&&h==="story"?c("InstagramODS").incr("web.ads.story.desktop_persistent_link_click"):c("InstagramODS").incr("web.ads.feed.persistent_link_click")},b[7]=h,b[8]=q,b[9]=s,b[10]=n):n=b[10];var w=n;b[11]!==h?(a=function(){h!==null&&h==="story"?c("InstagramODS").incr("web.ads.story.desktop_persistent_cta_rendered"):c("InstagramODS").incr("web.ads.feed.persistent_cta_rendered")},n=[h],b[11]=h,b[12]=a,b[13]=n):(a=b[12],n=b[13]);j(a,n);b[14]!==e||b[15]!==f||b[16]!==g||b[17]!==m||b[18]!==w||b[19]!==t||b[20]!==r?(a=function(a){return i.jsx("div",{className:"xjnlgov xbudbmw xixxii4",ref:a,style:{transform:"translateX(calc(-50% + "+t/2+"px))"},children:i.jsx(c("PolarisPostFooterCTA.react"),{ctaAdditionalAnimation:e,ctaDominantColor:g,disableAnimation:!0,externalURL:m,forceBottomBorder:!1,icon:i.jsx(c("PolarisSponsoredPersistentCTAThumbnail.react"),{thumbnailImageSrc:r}),isActive:!0,isForAd:!0,isForPersistentCta:!0,onClick:w,showChevron:!0,showRoundedBorder:!0,text:f})})},b[14]=e,b[15]=f,b[16]=g,b[17]=m,b[18]=w,b[19]=t,b[20]=r,b[21]=a):a=b[21];b[22]!==p||b[23]!==a?(n=i.jsx(c("PolarisClickEventLoggerProvider.react"),{children:i.jsx(c("PolarisTrackingNodeProvider.react"),{ref:p,trackingNode:86,children:a})}),b[22]=p,b[23]=a,b[24]=n):n=b[24];b[25]!==o||b[26]!==n||b[27]!==s?(p=i.jsx(c("PolarisTrackingCodeProvider.react"),{isSponsored:!0,m_pk:o,trackingToken:s,children:n}),b[25]=o,b[26]=n,b[27]=s,b[28]=p):p=b[28];return p}function a(a){var b=d("react-compiler-runtime").c(25),e=a.entryPoint,f=a.mpk,g;b[0]!==f?(g=c("getPolarisPostIdFromNativeId")(f),b[0]=f,b[1]=g):g=b[1];var h=g;f=d("polarisAdsSelectors.react").useFeedAdInfo(h,o);g=d("polarisAdsSelectors.react").useStoryAdInfo(h,n);g=e!==null&&e==="story"?g:f;b[2]!==h?(f=function(a){return d("polarisPostSelectors").getPostById(a,h)},b[2]=h,b[3]=f):f=b[3];f=c("usePolarisSelector")(f);var j=f.isSidecar,k=f.src,l=f.thumbnailSrc;if(b[4]!==j||b[5]!==f){var p;p=j===!0?(p=d("PolarisPostUtils").getCurrentSidecarItemFromPost(f,0))==null?void 0:p.id:f.id;b[4]=j;b[5]=f;b[6]=p}else p=b[6];j=p;p=l!=null?l:k;if(j==null||p==null)return null;if(b[7]!==(g==null?void 0:g.ctaItems)||b[8]!==j){var q;l=g==null||(q=g.ctaItems)==null||(q=q.get(j))==null?void 0:q.ctaLinkUrl;b[7]=g==null?void 0:g.ctaItems;b[8]=j;b[9]=l}else l=b[9];k=l;if(b[10]!==(g==null?void 0:g.ctaItems)||b[11]!==j){var r;l=g==null||(r=g.ctaItems)==null||(r=r.get(j))==null?void 0:r.ctaLinkText;b[10]=g==null?void 0:g.ctaItems;b[11]=j;b[12]=l}else l=b[12];l=l;var s;if(b[13]!==(g==null?void 0:g.ctaItems)||b[14]!==j){var t;s=g==null||(t=g.ctaItems)==null||(t=t.get(j))==null?void 0:t.ctaDominantColor;b[13]=g==null?void 0:g.ctaItems;b[14]=j;b[15]=s}else s=b[15];g=s;if(k==null||l==null)return null;b[16]!==l||b[17]!==g||b[18]!==e||b[19]!==k||b[20]!==j||b[21]!==f||b[22]!==a||b[23]!==p?(s=i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(m,babelHelpers["extends"]({},a,{ctaLinkText:l,domColor:g,entryPoint:e,externalURL:k,mediaId:j,post:f,thumbnailImageSrc:p}))}),b[16]=l,b[17]=g,b[18]=e,b[19]=k,b[20]=j,b[21]=f,b[22]=a,b[23]=p,b[24]=s):s=b[24];return s}function n(a){return a}function o(a){return a}g["default"]=a}),98);
__d("PolarisProfileTabTaggedPhotosConstants",[],(function(a,b,c,d,e,f){"use strict";a="tagged";f.TAGGED_TAB_ID=a}),66);
__d("PolarisInstantPostModal.react",["PolarisPostModalInternal.react","PolarisProfileTabTaggedPhotosConstants","polarisPostSelectors","react","react-compiler-runtime","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=d("react-compiler-runtime").c(5),f=!1;b=((b=a.modalEntryPath)==null?void 0:b.endsWith("/"+d("PolarisProfileTabTaggedPhotosConstants").TAGGED_TAB_ID+"/"))===!0;var g;e[0]!==a.postId?(g=function(b){return d("polarisPostSelectors").getPostOrNullById(b,a.postId)},e[0]=a.postId,e[1]=g):g=e[1];g=c("usePolarisSelector")(g);(g==null||b&&g.isVideo===!0)&&(f=!0);e[2]!==a||e[3]!==f?(b=i.jsx(c("PolarisPostModalInternal.react"),babelHelpers["extends"]({},a,{showLoadingShimmer:f})),e[2]=a,e[3]=f,e[4]=b):b=e[4];return b}g["default"]=a}),98);
__d("PolarisMediaBrowserPostModal.react",["invariant","PolarisInstantPostModal.react","PolarisIsLoggedInDesktop","PolarisPost.react","PolarisPostVariants","PolarisReactRedux.react","PolarisRoutes","isStringNullOrEmpty","nullthrows","polarisPostSelectors","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=d("react-compiler-runtime").c(28),e=a.analyticsContext,f=a.combinedPosts,g=a.mediaLinkBuilder,i=a.modalEntryPath,n=a.onClose,o=a.onOpen,p=a.postId,q=d("PolarisReactRedux.react").useSelector(m);b[0]!==f?(a=f.map(l),b[0]=f,b[1]=a):a=b[1];f=a;b[2]!==p?(a=function(a){return d("polarisPostSelectors").getPostOrNullById(a,p)},b[2]=p,b[3]=a):a=b[3];var r=d("PolarisReactRedux.react").useSelector(a),s;b[4]!==q||b[5]!==n||b[6]!==p||b[7]!==r?(a=function(){r==null&&(q.includes(p)||h(0,51476),n())},s=[q,n,r,p],b[4]=q,b[5]=n,b[6]=p,b[7]=r,b[8]=a,b[9]=s):(a=b[8],s=b[9]);k(a,s);if(r==null)return null;a=r.dimensions;s=c("isStringNullOrEmpty")(i)?d("PolarisRoutes").FEED_PATH:i;b[10]!==r.code?(i=c("nullthrows")(r.code),b[10]=r.code,b[11]=i):i=b[11];var t=e+"Modal",u;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(u=d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),b[12]=u):u=b[12];b[13]!==p||b[14]!==r.code||b[15]!==t?(u=j.jsx(c("PolarisPost.react"),{analyticsContext:t,autoplay:u,id:p,isVisible:!0,shortcode:r.code,testid:void 0,variant:d("PolarisPostVariants").VARIANTS.flexible,visiblePosition:0}),b[13]=p,b[14]=r.code,b[15]=t,b[16]=u):u=b[16];b[17]!==e||b[18]!==f||b[19]!==g||b[20]!==n||b[21]!==o||b[22]!==p||b[23]!==r.dimensions||b[24]!==u||b[25]!==s||b[26]!==i?(t=j.jsx(c("PolarisInstantPostModal.react"),{analyticsContext:e,combinedPostIds:f,dimensions:a,mediaLinkBuilder:g,modalEntryPath:s,onClose:n,onOpen:o,postCode:i,postId:p,children:u}),b[17]=e,b[18]=f,b[19]=g,b[20]=n,b[21]=o,b[22]=p,b[23]=r.dimensions,b[24]=u,b[25]=s,b[26]=i,b[27]=t):t=b[27];return t}function l(a){return a.id}function m(a){return d("polarisPostSelectors").getDeletedIds(a)}g["default"]=a}),98);
__d("PolarisNewsMultiregionBlock.react",["fbt","IGDSBox.react","IGDSNewsOffOutlineIcon.react","IGDSText.react","PolarisAdvisoryMessage.react","PolarisExternalLink.react","SableNewsEventFalcoEvent","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect,l="https://transparency.fb.com/policies/other-policies/policies/news-legislation";function a(a){var b=d("react-compiler-runtime").c(14),e=a.isOwnProfile,f=a.userID,g=c("usePolarisViewer")();b[0]!==e||b[1]!==f||b[2]!==(g==null?void 0:g.id)?(a=function(){c("SableNewsEventFalcoEvent").log(function(){var a;return{account_viewed_id:f,event_name:"publisher_profile_block",ig_user_id:(a=g==null?void 0:g.id)!=null?a:"0",viewer_is_regulated_c18:e}})},b[0]=e,b[1]=f,b[2]=g==null?void 0:g.id,b[3]=a):a=b[3];var i=g==null?void 0:g.id,m;b[4]!==e||b[5]!==i||b[6]!==f?(m=[f,i,e],b[4]=e,b[5]=i,b[6]=f,b[7]=m):m=b[7];k(a,m);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("IGDSBox.react"),{marginBottom:3,children:j.jsx(c("IGDSNewsOffOutlineIcon.react"),{alt:"Icon indicating that news is disabled",size:32})}),b[8]=i):i=b[8];b[9]!==e?(a=j.jsx(c("IGDSText.react"),{weight:"bold",children:e?h._(/*BTDS*/"People in some regions can't see your content"):h._(/*BTDS*/"People in some regions can't see this content")}),b[9]=e,b[10]=a):a=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx("p",{children:j.jsx(c("IGDSText.react"),{color:"secondaryText",children:h._(/*BTDS*/"In response to government legislation, content from news publications can't be viewed in some regions. {=m2}",[h._implicitParam("=m2",j.jsx(c("PolarisExternalLink.react"),{href:l,children:h._(/*BTDS*/"Learn more")}))])})}),b[11]=m):m=b[11];b[12]!==a?(i=j.jsxs(c("PolarisAdvisoryMessage.react"),{children:[i,a,m]}),b[12]=a,b[13]=i):i=b[13];return i}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("BaseAspectRatioContainer.react",["react","react-strict-dom","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.aspectRatio,e=a.children,f=a.contentStyle,g=a.testid;g=a.xstyle;if(b<=0)throw c("unrecoverableViolation")("Aspect ratio must be a non-zero, positive number: "+b,"comet_ui");return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[k.container,g,k.dynamicTop(b)],children:e!=null&&i.jsx(d("react-strict-dom").html.div,{style:[k.content,f],children:e})})}a.displayName=a.name+" [from "+f.id+"]";var j={paddingTop:"x1jm3axb",$$css:!0},k={container:{height:"xqtp20y",position:"x1n2onr6",width:"xh8yej3",$$css:!0},content:{alignItems:"x1qjc9v5",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"x1qhh985",borderInlineEndStyle:"x18b5jzi",borderInlineEndWidth:"x10w94by",borderInlineStartStyle:"x1t7ytsu",borderInlineStartWidth:"x14e42zd",borderTopStyle:"x13fuv20",borderTopWidth:"x972fbf",bottom:"x1ey2m1c",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,justifyContent:"x1qughib",marginBottom:"xat24cr",marginInlineEnd:"x14z9mp",marginInlineStart:"x1lziwak",marginTop:"xdj266r",minHeight:"x2lwn1j",minWidth:"xeuugli",paddingBottom:"x18d9i69",paddingInlineEnd:"xyri2b",paddingInlineStart:"x1c1uobl",paddingTop:"xexx8yu",position:"x10l6tqk",top:"x13vifvy",zIndex:"x1ja2u2z",$$css:!0},dynamicTop:function(a){return[j,{"--x-paddingTop":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(100/a+"%")}]}};g["default"]=a}),98);
__d("BaseSvgImage.react",["react","useFeedImageErrorEventLoggerCbs"],(function(a,b,c,d,e,f,g){"use strict";var h=["onError","src","testid"],i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef;function a(a){var b=a.onError,d=a.src,e=a.testid;e=babelHelpers.objectWithoutPropertiesLoose(a,h);a=c("useFeedImageErrorEventLoggerCbs")({onError:b,src:d});b=a._onError;a=a._onLoad;var f=l(null),g=l(d);k(function(){if(f.current&&f.current.getAttribute("xlink:href")!==g.current){var a;(a=f.current)==null||a.setAttribute("xlink:href",g.current)}},[f,g]);return j.jsx("image",babelHelpers["extends"]({},e,{"data-testid":void 0,height:"100%",onError:b,onLoad:a,preserveAspectRatio:"xMidYMid slice",ref:f,width:"100%",xlinkHref:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FBXHorizonMetaCastingControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/casting/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("HorizonMetaIsCastingRoute",["FBXHorizonMetaCastingControllerRouteBuilder","URI","isHorizonDotMetaDotComURI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=c("URI"))).getRequestURI(),b=c("FBXHorizonMetaCastingControllerRouteBuilder").buildUri({});return!c("isHorizonDotMetaDotComURI")(a)?!1:a.addTrailingSlash().getPath()===b.getPath()}b={getIsCastingRoute:a};g["default"]=b}),98);
__d("IGWebCallWindowControllerLoader",["FBLogger","JSResourceForInteraction","Promise","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("RTWebCallWindowOpener").__setRef("IGWebCallWindowControllerLoader"),j=c("requireDeferred")("ZenonCallWindowController").__setRef("IGWebCallWindowControllerLoader"),k=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));a=function(){function a(a,b){this.$1=null,this.$2=a,this.$3=b}var d=a.prototype;d.init=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield (h||(h=b("Promise"))).all([j.load(),i.load()])),d=a[0];a=a[1];this.$1=new d(this.$2,{callWindowInitializerResource:this.$3,callWindowOpener:new a(),uriBuilderResource:c("JSResourceForInteraction")("IGCallUriBuilder").__setRef("IGWebCallWindowControllerLoader")})}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to initialize call window controller")}});function d(){return a.apply(this,arguments)}return d}();d.initCall=function(a){if(this.$1)return this.$1.initCall(a);else throw new k()};return a}();a.ResourceNotReadyError=k;g["default"]=a}),98);
__d("IGWebPreCallContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a(null);g["default"]=b}),98);
__d("ZenonCallInviteModelLoader",["BaseEventEmitter","Promise","asyncToGeneratorRuntime","emptyFunction","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("ZenonCallInviteModel").__setRef("ZenonCallInviteModelLoader"),j=c("requireDeferred")("delegateZenonCallInviteModel").__setRef("ZenonCallInviteModelLoader");a=function(a){function d(b){var d;d=a.call(this)||this;d.$ZenonCallInviteModelLoader$p_1=null;d.getCurrentInvite=function(){return null};d.startListening=function(a){this.$ZenonCallInviteModelLoader$p_1=a};d.stopListening=function(){this.$ZenonCallInviteModelLoader$p_1=null};d.dismiss=c("emptyFunction");d.accept=c("emptyFunction");d.decline=c("emptyFunction");d.$ZenonCallInviteModelLoader$p_2=b;return d}babelHelpers.inheritsLoose(d,a);var e=d.prototype;e.init=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=b("Promise"))).all([i.load(),j.load()])),c=a[0];a=a[1];c=new c(this.$ZenonCallInviteModelLoader$p_2);a(this,c);this.$ZenonCallInviteModelLoader$p_1!==null&&c.startListening(this.$ZenonCallInviteModelLoader$p_1)});function c(){return a.apply(this,arguments)}return c}();return d}(c("BaseEventEmitter"));g["default"]=a}),98);
__d("MWSCastingCenterDeviceMediaStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["LAUNCHING","LAUNCHED","DEVICE_UNAVAILABLE","CONTENT_UNAVAILABLE","NETWORK_FAILURE","FAILED"]);f.DeviceMediaStatus=a}),66);
__d("MWSCastingCenterUtils",["fbt","MWSCastingCenterDeviceMediaStatus","UserAgent","formatDate","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";e=3e4;function a(){return c("gkx")("8702")&&c("UserAgent").isBrowser("Chrome for iOS")}function b(a){var b=a.mediaType,e=a.status;a=a.time;var f="warning",g=b==="LAUNCH_APP"?h._(/*BTDS*/"Launching..."):h._(/*BTDS*/"Opening...");if(e!=null)switch(e){case d("MWSCastingCenterDeviceMediaStatus").DeviceMediaStatus.LAUNCHING:break;case d("MWSCastingCenterDeviceMediaStatus").DeviceMediaStatus.LAUNCHED:f="active";g=b==="LAUNCH_APP"?h._(/*BTDS*/"Launched at {time}",[h._param("time",c("formatDate")(a,"g:i A"))]):h._(/*BTDS*/"Opened at {time}",[h._param("time",c("formatDate")(a,"g:i A"))]);break;case d("MWSCastingCenterDeviceMediaStatus").DeviceMediaStatus.DEVICE_UNAVAILABLE:f="error";g=h._(/*BTDS*/"Device unreachable");break;case d("MWSCastingCenterDeviceMediaStatus").DeviceMediaStatus.CONTENT_UNAVAILABLE:f="error";g=b==="LAUNCH_APP"?h._(/*BTDS*/"App not installed"):h._(/*BTDS*/"File missing");break;case d("MWSCastingCenterDeviceMediaStatus").DeviceMediaStatus.NETWORK_FAILURE:f="error";g=h._(/*BTDS*/"Network request failed");break;case d("MWSCastingCenterDeviceMediaStatus").DeviceMediaStatus.FAILED:f="error";g=h._(/*BTDS*/"Unexpected error");break}return{statusIndicator:f,statusText:g}}g.REQUEST_TIMEOUT_MS=e;g.isBrowserSupportedForMobileManagedCasting=a;g.getMediaStatusIndicator=b}),226);
__d("OCCastingZenonUtils",["UserAgent","gkx"],(function(a,b,c,d,e,f,g){"use strict";b=function(a){return a==="Connected"||a==="Connecting"};function a(){return c("gkx")("1930")||c("gkx")("25763")&&(c("UserAgent").isBrowser("Chrome for iOS")||c("UserAgent").isBrowser("Mobile Safari"))}g.hasCallStarted=b;g.isBrowserSupportedForMobileWebCasting=a}),98);
__d("ZenonAppProvider",["HorizonMetaIsCastingRoute","IGDWebUtils","ZenonActorHooks"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("IGDWebUtils").isInstagramWebSupportedApp(q())}function b(){return r(q())}function e(){return q()===351299233827255}function f(){return q()===2057013231240274}function h(){return q()===518491789147974}function i(){var a=q();return a===2763362503905702||a===1013624499181349||a===351299233827255&&c("HorizonMetaIsCastingRoute").getIsCastingRoute()}function j(){var a=q();return a===218968626708284}function k(){var a=q();return a===772021112871879||a===2220391788200892}function l(){var a=q();return a===949958857019662||a===1358015658191005||a===445865345227527}function m(){var a=q();return a===514771569228061||a===436761779744620}function n(){var a=q();return a===1971595283112096}function o(){return q()===1586666294789976}function p(){return l()||n()}function q(){var a=d("ZenonActorHooks").ZenonActor.getAppID();return a==null?null:Number(a)}function r(a){return a!=null?a===2763362503905702||a===1013624499181349||a===351299233827255:!1}g.isInstagramApp=a;g.isOculusApp=b;g.isHorizonApp=e;g.isHorizonWorldsApp=f;g.isCastingCenterApp=h;g.isOculusCastingSite=i;g.isMDCApp=j;g.isMessengerWebApp=k;g.isMetaAI=l;g.isBizWebApp=m;g.isWidgetLiveChatApp=n;g.isWorkplace=o;g.shouldSupportRTPSession=p}),98);
__d("ZenonActorHooks",["CurrentUser","FBLogger","ZenonApp","ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=null,k=!1,l=!1,m=new Set();function n(a,b){b===void 0&&(b="Fallback to CurrentUser"),m.has(a)||(c("FBLogger")("rtc_www").blameToPreviousFrame().info("ZenonActor.%s - %s",a,b),m.add(a))}function a(){return[o.getID(),function(a){n("useZenonActor:setter","This setter should not be used as Zenon should currently doesn't allow switching Actor"),h=a}]}function b(a,b,c){b===void 0&&(b=!1);c===void 0&&(c=!1);if(h!==null){if(l)return;n("initZenonActor","ZenonActor is being reinitalized. This may indicate unneccessary ZenonActorProvider's to RelayEnvironmentProvider's in the component tree.")}l=l||b;k=k||c;typeof a==="string"||typeof a==="number"?(h=a.toString(),i=null,j=null):(a==null?void 0:a.actorID)!=null&&(h=a.actorID.toString(),i=a.name,j=a.shortName)}var o={getAccountID:function(){if(o.isInstagramUser())return c("CurrentUser").getEIMU();if(o.isOculusCastingUser())return c("CurrentUser").getEOCPU();return o.isMDCUser()?o.getMDCUserID():c("CurrentUser").getAccountID()},getAppID:function(){return o.isLiveChatOnlyPerson()?String(1971595283112096):c("CurrentUser").getAppID()},getID:function(){if(o.isInstagramUser())return c("CurrentUser").getEIMU();if(o.isOculusCastingUser())return c("CurrentUser").getEOCPU();if(o.isMDCUser())return o.getMDCUserID();if(o.isHorizonWebUser()&&!c("gkx")("5683"))return c("CurrentUser").getEPOU();if(o.isKadabraUser())return c("CurrentUser").getARID();if(h===null){n("getID");return c("CurrentUser").getID()}else return h},getMDCUserID:function(){if(c("CurrentUser").getEOCPU()==="0")return c("CurrentUser").getPossiblyNonFacebookUserID();else return c("CurrentUser").getEOCPU()},getName:function(){return i!=null?i:c("CurrentUser").getName()},getShortName:function(){return j!=null?j:c("CurrentUser").getShortName()},isEmployee:function(){return c("CurrentUser").isEmployee()},isHorizonWebUser:function(){return c("CurrentUser").getEPOU()!==0&&d("ZenonAppProvider").isHorizonApp()},isInstagramUser:function(){return c("CurrentUser").getEIMU()!==0&&d("ZenonAppProvider").isInstagramApp()},isKadabraUser:function(){return c("gkx")("11152")&&c("CurrentUser").getAppID()===String(1358015658191005)},isLiveChatOnlyPerson:function(){return d("ZenonApp").isSocialPlugin},isLoggedIn:function(){return c("CurrentUser").isLoggedIn()},isLoggedInNow:function(){return c("CurrentUser").isLoggedInNow()},isManagedMetaAccount:function(){return c("CurrentUser").isManagedMetaAccount()},isMDCUser:function(){return c("CurrentUser").getPossiblyNonFacebookUserID()!=="0"&&d("ZenonAppProvider").isMDCApp()},isMessengerCallGuestUser:function(){return c("CurrentUser").isMessengerCallGuestUser()},isOculusCastingUser:function(){return c("CurrentUser").getEOCPU()!==0&&d("ZenonAppProvider").isOculusApp()},isOculusUser:function(){return c("CurrentUser").getEPOU()!==0&&d("ZenonAppProvider").isOculusApp()},isPage:function(){return k},isTestUser:function(){return c("CurrentUser").isTestUser()},isWorkishUser:function(){return c("CurrentUser").isWorkroomsUser()||c("CurrentUser").isWorkUser()},isWorkroomsUser:function(){return c("CurrentUser").isWorkroomsUser()},isWorkUser:function(){return c("CurrentUser").isWorkUser()}};g.useZenonActor=a;g.initZenonActor=b;g.ZenonActor=o}),98);
__d("RTWebIncomingRingConfiguration",["MWSCastingCenterUtils","OCCastingZenonUtils","UserAgent","ZenonAppProvider","ZenonRTWebBrowserFeatureSupport","gkx"],(function(a,b,c,d,e,f,g){"use strict";f=function(a,b){return function(){return c("UserAgent").isBrowser(a)&&(b==null||b)}};var h=[f("Chrome >= 77",!c("gkx")("5285")&&!c("gkx")("6351")),f("Chrome >= 87"),f("Edge (Chromium Based) >= 79"),f("Edge PWA (Chromium Based) >= 79"),f("Opera >= 67"),f("Firefox >= 70"),f("Safari >= 16",c("gkx")("24226")||c("gkx")("6974")||d("ZenonAppProvider").isWidgetLiveChatApp()),f("Oculus Browser >= 7",c("gkx")("24228")),d("OCCastingZenonUtils").isBrowserSupportedForMobileWebCasting,d("MWSCastingCenterUtils").isBrowserSupportedForMobileManagedCasting];(d("ZenonAppProvider").isMetaAI()||d("ZenonAppProvider").isMDCApp()||d("ZenonAppProvider").isWidgetLiveChatApp())&&(h.push(f("Mobile Safari >= 16")),h.push(f("Chrome for iOS >= 130")));var i=h.some(function(a){return a()});function a(){return h.some(function(a){return a()})}function b(){return i}function e(){return c("gkx")("23430")&&d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()}g.isSupportedClient_TEST_ONLY=a;g.isSupportedClient=b;g.isE2EESupportedClient=e}),98);
__d("ZenonIncomingRingSDK",["BaseEventEmitter","RTWebIncomingRingConfiguration","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ZenonParentCallsManager").__setRef("ZenonIncomingRingSDK"),i=[1,2,15,16];a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$ZenonIncomingRingSDK$p_1=[],b.$ZenonIncomingRingSDK$p_2=[],babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.init=function(a){var b=this;this.$ZenonIncomingRingSDK$p_3=a;h.onReady(function(c){b.callsManager==null&&(b.callsManager=new c(a));c=b.callsManager;c.addListener("unsupportedRing",function(a){return b.emit("unsupportedRing",a)});c.addListener("incomingRing",function(a){var c;if(a.actorID!=null&&!((c=b.$ZenonIncomingRingSDK$p_3)!=null&&c.enableIncomingActorCalls))return;b.emit("incomingRing",a)});c.addListener("ringCancel",function(a){return b.emit("ringCancel",a)});c.initListeners(b.$ZenonIncomingRingSDK$p_1);while(b.$ZenonIncomingRingSDK$p_2.length>0){var d=b.$ZenonIncomingRingSDK$p_2.shift();c.startOutgoingCallIntent(d.nonce,d.callParams)}})};c.initListeners=function(a){var b=this.callsManager;if(b!=null)b.initListeners(a);else{(b=this.$ZenonIncomingRingSDK$p_1).push.apply(b,a)}};c.removeListeners=function(a){var b=this;if(this.callsManager!=null)this.callsManager.removeListeners(a);else{var c=function(a){b.$ZenonIncomingRingSDK$p_1=b.$ZenonIncomingRingSDK$p_1.filter(function(b){return b!==a})};for(a of a)c(a)}};c.isCallSupported=function(a){switch(a.type){case"thread":if(this.$ZenonIncomingRingSDK$p_3&&i.includes(a.threadType)){return(a=d("RTWebIncomingRingConfiguration").isSupportedClient())!=null?a:!1}break;default:return!1}return!1};c.startCallIntent=function(a,b){this.callsManager?this.callsManager.startOutgoingCallIntent(a,b):this.$ZenonIncomingRingSDK$p_2.push({callParams:b,nonce:a})};return b}(c("BaseEventEmitter"));g["default"]=a}),98);
__d("IGWebPreCallContextSingleton",["FBLogger","IGWebCallWindowControllerLoader","JSResource","ZenonCallInviteModelLoader","ZenonIncomingRingSDK","gkx","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("IgSignalingListener").__setRef("IGWebPreCallContextSingleton"),i=!1,j;function a(a){if(!c("gkx")("25307"))return null;if(j!=null)return j;try{var b=new(c("ZenonIncomingRingSDK"))();j={callInviteModel:new(c("ZenonCallInviteModelLoader"))(b),callWindowController:new(c("IGWebCallWindowControllerLoader"))(a,c("JSResource")("IGWebCallWindowInitializer").__setRef("IGWebPreCallContextSingleton")),incomingRingSDK:b};return j}catch(a){c("FBLogger")("rtc_www").catching(a).mustfix("Pre-call context initialization failed! This breaks all calling!");return null}}function b(a){if(!c("gkx")("25307"))return null;if(i)return j;i=!0;c("promiseDone")(j.callInviteModel.init());c("promiseDone")(j.callWindowController.init());j.incomingRingSDK.init({enableIncomingActorCalls:!1,relayEnvironment:a});c("promiseDone")(h.load(),function(a){j.incomingRingSDK.initListeners([new a()])});return j}g.create=a;g.init=b}),98);
__d("IGWebPreCallProvider.react",["CometRelay","IGWebPreCallContext","IGWebPreCallContextSingleton","react","react-compiler-runtime","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(9);a=a.children;var e=d("CometRelay").useRelayEnvironment(),f;b[0]!==e?(f=function(){return d("IGWebPreCallContextSingleton").create({relayEnvironment:e})},b[0]=e,b[1]=f):f=b[1];var g=c("useStable")(f),h;b[2]!==g||b[3]!==e?(f=function(){g&&(d("IGWebPreCallContextSingleton").init(e),g.callInviteModel.startListening({callsBlocked:!1}))},h=[g,e],b[2]=g,b[3]=e,b[4]=f,b[5]=h):(f=b[4],h=b[5]);j(f,h);b[6]!==a||b[7]!==g?(f=i.jsx(c("IGWebPreCallContext").Provider,{value:g,children:a}),b[6]=a,b[7]=g,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("PolarisCallGatingHelpers",["PolarisUA","RTWebIncomingRingConfiguration","gkx","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(){return i()||j()?!1:!0}function a(){return c("gkx")("24007")}function i(){return c("gkx")("24007")}function j(){return!d("PolarisUA").isDesktop()||!d("RTWebIncomingRingConfiguration").isSupportedClient()}function b(){return!h()?!1:!c("justknobx")._("471")}function e(){return c("qex")._("83")===!0}g.isWebCallingEnabled=h;g.isVerifiedUserAndCallingEnabled=a;g.isIncomingCallEnabled=b;g.isCallsPathMigrationEnabled=e}),98);
__d("PolarisLiveCreationModalLazy.react",["CometPlaceholder.react","IGCoreModal.react","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","PolarisSizing","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisLiveCreationModal.react").__setRef("PolarisLiveCreationModalLazy.react"));function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("IGCoreModal.react"),{backdropColor:"dark",children:i.jsx(c("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",maxWidth:d("PolarisSizing").FEED_WIDTH_WIDE,position:"relative",width:"100%",children:i.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("CometPlaceholder.react"),{fallback:e,name:f.id,children:i.jsx(j,babelHelpers["extends"]({},a))}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("PolarisSwitchAccountsModalLazy.react",["CometPlaceholder.react","IGCoreModal.react","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisSwitchAccountsModal.react").__setRef("PolarisSwitchAccountsModalLazy.react"));function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("IGCoreModal.react"),{children:i.jsx(c("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",position:"relative",width:"100%",children:i.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("CometPlaceholder.react"),{fallback:b,name:f.id,children:i.jsx(j,{})}),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("PolarisXESwitcherUtil",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("4847")===!0}function b(){return c("qex")._("4848")===!0}g.shouldEnableIGWebXMDSSwitcher=a;g.shouldEnableIGWebXMDSSwitcherTitle=b}),98);
__d("PolarisSwitchAccountsUtil",["$InternalEnum","IGDSBox.react","PolarisAuthFormCard.react","PolarisFBConnectHelpers","PolarisOneTapLoginStorage","PolarisReactRedux.react","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=b("$InternalEnum")({CURRENT:"current",ONE_TAP:"one_tap",FB_CONNECTED:"fb_connected",IG_CONNECTED:"ig_connected"}),k="accountSwitcherModal",l="XE_SWITCHER_ACCOUNT_EMPTY_ID";function a(){var a,b=d("react-compiler-runtime").c(9),e=c("usePolarisViewer")(),f=p(),g=f.fbConnectedUsers,h=f.igConnectedUsers;f=f.oneTapUserIds;if(!e){var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=[],b[0]=i):i=b[0];return i}i=(i=e.id)!=null?i:"";a=(a=e.profilePictureUrl)!=null?a:"";e=(e=e.username)!=null?e:"";if(i===""||a===""||e===""){var k;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(k=[],b[1]=k):k=b[1];return k}if(b[2]!==a||b[3]!==i||b[4]!==e||b[5]!==g||b[6]!==h||b[7]!==f){var l,q;k={profilePicUrl:a,source:j.CURRENT,userId:i,username:e};k=[k];var r=d("PolarisOneTapLoginStorage").getLoginNonces(),s=g==null?void 0:g.map(n);(l=k).push.apply(l,s);var t=f==null?void 0:f.map(function(a){var b=r[a],c=b.profilePicUrl;b=b.username;return{profilePicUrl:c,source:j.ONE_TAP,userId:a,username:b}}).filter(function(a){return!o(a,s)});(l=k).push.apply(l,t);l=h==null?void 0:h.map(m).filter(function(a){return!o(a,t)&&!o(a,s)});(q=k).push.apply(q,l);b[2]=a;b[3]=i;b[4]=e;b[5]=g;b[6]=h;b[7]=f;b[8]=k}else k=b[8];return k}function m(a){return{profilePicUrl:a.profilePictureUrl,source:j.IG_CONNECTED,userId:l,username:a.username}}function n(a){return{profilePicUrl:a.profilePictureUrl,source:j.FB_CONNECTED,userId:l,username:a.username}}function o(a,b){return b.some(function(b){return a.username===b.username})}function p(){var a,b=d("react-compiler-runtime").c(7),e=c("usePolarisViewer")(),f=(a=(a=d("PolarisReactRedux.react").useSelector(r))==null?void 0:a.filter(function(a){return a.username!==(e==null?void 0:e.username)&&d("PolarisFBConnectHelpers").isFBCUnique(a.username)}))!=null?a:[];a=(a=(a=d("PolarisReactRedux.react").useSelector(q))==null?void 0:a.filter(function(a){return a.username!==(e==null?void 0:e.username)&&d("PolarisFBConnectHelpers").isFBCUnique(a.username)&&(!f||!f.some(function(b){return b.username===a.username}))}))!=null?a:[];if(b[0]===Symbol["for"]("react.memo_cache_sentinel")){var g=d("PolarisOneTapLoginStorage").getLoginNonces();g=Object.keys(g);b[0]=g}else g=b[0];b[1]!==(e==null?void 0:e.id)?(g=g.filter(function(a){return a!==(e==null?void 0:e.id)}),b[1]=e==null?void 0:e.id,b[2]=g):g=b[2];g=g;var h;b[3]!==f||b[4]!==a||b[5]!==g?(h={fbConnectedUsers:f,igConnectedUsers:a,oneTapUserIds:g},b[3]=f,b[4]=a,b[5]=g,b[6]=h):h=b[6];return h}function q(a){return a.fxSSO.igProfiles}function r(a){return a.fb.igProfiles}function e(){return i.jsx(c("IGDSBox.react"),{alignItems:"center",maxHeight:800,overflow:"auto",position:"relative",children:i.jsx(c("PolarisAuthFormCard.react"),{hideAppUpsells:!0,hideBorder:!0,pageIdentifier:k,style:"modal",useMobileFooterPadding:!1})})}e.displayName=e.name+" [from "+f.id+"]";g.XESwitcherAccountSource=j;g.XE_SWITCHER_ACCOUNT_EMPTY_ID=l;g.useXESwitcherIgAccounts=a;g.useIgSwitcherAccounts=p;g.getSwitcherLoginForm=e}),98);
__d("PolarisXESwitcherDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24200373556213830"}),null);
__d("PolarisXESwitcherDialogQuery$Parameters",["PolarisXESwitcherDialogQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisXESwitcherDialogQuery_instagramRelayOperation"),metadata:{},name:"PolarisXESwitcherDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisXESwitcherDialog.entrypoint",["JSResourceForInteraction","PolarisXESwitcherDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{polarisXESwitcherDialogQuery:{parameters:c("PolarisXESwitcherDialogQuery$Parameters"),variables:{accounts:a.routeParams.accounts}}}}},root:c("JSResourceForInteraction")("PolarisXESwitcherDialog.react").__setRef("PolarisXESwitcherDialog.entrypoint")};g["default"]=a}),98);
__d("usePolarisXESwitcherDialog",["PolarisSwitchAccountsUtil","PolarisXESwitcherDialog.entrypoint","react","react-compiler-runtime","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(9),b=d("PolarisSwitchAccountsUtil").useXESwitcherIgAccounts(),e;a[0]!==b?(e=b.map(i),a[0]=b,a[1]=e):e=a[1];a[2]!==e?(b={accounts:e},a[2]=e,a[3]=b):b=a[3];a[4]===Symbol["for"]("react.memo_cache_sentinel")?(e={},a[4]=e):e=a[4];a[5]!==b?(e={routeParams:b,routeProps:e},a[5]=b,a[6]=e):e=a[6];b=c("useCometEntryPointDialog")(c("PolarisXESwitcherDialog.entrypoint"),e);var f=b[0];a[7]!==f?(e=function(){return f({})},a[7]=f,a[8]=e):e=a[8];return e}function i(a){return{badge_count_message:a.badgeCountMessage,profile_pic_url:a.profilePicUrl,user_id:a.userId,username:a.username}}g["default"]=a}),98);
__d("PolarisGlobalUIComponents.react",["CometErrorBoundary.react","CometPlaceholder.react","IGWebPreCallProvider.react","PolarisAppStoreLauncher.react","PolarisCallGatingHelpers","PolarisConfig","PolarisIsLiveProducerEnabled","PolarisIsLoggedIn","PolarisLiveCreationModalLazy.react","PolarisOneTapLogin","PolarisQPConstants","PolarisReactRedux.react","PolarisSwitchAccountsModalLazy.react","PolarisToastWrapper.react","PolarisUA","PolarisXESwitcherUtil","cr:1609","cr:3106","cr:4779","cr:4839","cr:7274","cr:8738","cr:9681","polarisNavigationSelectors","react","react-compiler-runtime","stylex","usePolarisXESwitcherDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={mobileToast:{marginBottom:"xx7atzb",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(27),g=a.hasMobileNavs,i=a.pageIdentifier;a=a.viewer;var n=d("PolarisReactRedux.react").useSelector(d("polarisNavigationSelectors").getHideNavQueryParam),o=d("PolarisReactRedux.react").useSelector(m),p=o.isAccountSwitcherOpen;o=o.isLiveCreationModalOpen;var q;e[0]!==o?(q=!d("PolarisUA").isMobile()&&o&&d("PolarisIsLiveProducerEnabled").isLiveProducerEnabled()?j.jsx(c("PolarisLiveCreationModalLazy.react"),{}):null,e[0]=o,e[1]=q):q=e[1];o=q;q=null;if(d("PolarisUA").isMobile()&&d("PolarisOneTapLogin").isCAASpiDialogEligible())if(b("cr:7274")){var r;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(r=j.jsx(b("cr:7274"),{}),e[2]=r):r=e[2];q=r}else if(b("cr:8738")){e[3]===Symbol["for"]("react.memo_cache_sentinel")?(r=j.jsx(b("cr:8738"),{}),e[3]=r):r=e[3];q=r}e[4]===Symbol["for"]("react.memo_cache_sentinel")?(r=j.jsx("div",{children:j.jsx(c("PolarisSwitchAccountsModalLazy.react"),{})}),e[4]=r):r=e[4];r=r;var s=c("usePolarisXESwitcherDialog")();g=g&&!!a&&k.mobileToast;var t;e[5]!==g?(t=(h||(h=c("stylex")))(g),e[5]=g,e[6]=t):t=e[6];e[7]!==t?(g=j.jsx(c("PolarisToastWrapper.react"),{className:t}),e[7]=t,e[8]=g):g=e[8];e[9]===Symbol["for"]("react.memo_cache_sentinel")?(t=b("cr:9681")!=null&&j.jsx(b("cr:9681"),{slot:d("PolarisQPConstants").SLOTS.app_start}),q=j.jsx(c("CometErrorBoundary.react"),{fallback:l,children:q}),e[9]=t,e[10]=q):(t=e[9],q=e[10]);e[11]!==p||e[12]!==s?(r=p&&d("PolarisIsLoggedIn").isLoggedIn()&&(d("PolarisXESwitcherUtil").shouldEnableIGWebXMDSSwitcher()?s():r),e[11]=p,e[12]=s,e[13]=r):r=e[13];e[14]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx(c("CometErrorBoundary.react"),{children:b("cr:4779")!=null&&d("PolarisCallGatingHelpers").isIncomingCallEnabled()?j.jsx(c("IGWebPreCallProvider.react"),{children:j.jsx(b("cr:4779"),{})}):null}),e[14]=p):p=e[14];e[15]===Symbol["for"]("react.memo_cache_sentinel")?(s=b("cr:3106")&&j.jsx(b("cr:3106"),{}),e[15]=s):s=e[15];var u;e[16]!==n||e[17]!==i||e[18]!==a?(u=d("PolarisConfig").probablyHasApp()&&!n&&b("cr:1609")&&j.jsx("div",{children:j.jsx(b("cr:1609"),{pageID:i,viewer:a})}),e[16]=n,e[17]=i,e[18]=a,e[19]=u):u=e[19];e[20]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsx(c("PolarisAppStoreLauncher.react"),{}),i=b("cr:4839")!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:j.jsx(b("cr:4839"),{})}):null,e[20]=n,e[21]=i):(n=e[20],i=e[21]);e[22]!==o||e[23]!==u||e[24]!==g||e[25]!==r?(a=j.jsxs(j.Fragment,{children:[g,t,q,r,p,o,s,u,n,i]}),e[22]=o,e[23]=u,e[24]=g,e[25]=r,e[26]=a):a=e[26];return a}function l(){return j.jsx("div",{})}l.displayName=l.name+" [from "+f.id+"]";function m(a){return a.navigation}g["default"]=a}),98);
__d("RpWebInfraActionsLoggerEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744334");b=d("FalcoLoggerInternal").create("rp_web_infra_actions_logger_event",a);e=b;g["default"]=e}),98);
__d("RtcWebUserActionsDebugFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744337");b=d("FalcoLoggerInternal").create("rtc_web_user_actions_debug",a);e=b;g["default"]=e}),98);
__d("RtcWebUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744338");b=d("FalcoLoggerInternal").create("rtc_web_user_actions",a);e=b;g["default"]=e}),98);
__d("StateSyncSerializers",["ThriftTypes"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{version:0}}function b(){return{stateStore:{}}}function i(a,b){b.writeStructBegin("State");b.writeFieldBegin({fname:"version",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.version!=null)b.writeI32(a.version);else{var d=0;b.writeI32(d)}b.writeFieldEnd();a.data!=null&&(b.writeFieldBegin({fname:"data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.data),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function d(a,b){b.writeStructBegin("Snapshot");b.writeFieldBegin({fname:"stateStore",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});if(a.stateStore!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(a.stateStore).length});for(a of Object.entries(a.stateStore)){var d=a[0],e=a[1];b.writeString(d);i(e,b)}b.writeMapEnd()}else{d={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(d).length});for(e of Object.entries(d)){a=e[0];d=e[1];b.writeString(a);i(d,b)}b.writeMapEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function j(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I32?b.version=a.readI32():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.version===void 0&&(b.version=0);return b}function e(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(h||(h=c("ThriftTypes"))).MAP){b.stateStore={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),i=j(a);b.stateStore[g]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.stateStore===void 0&&(b.stateStore={});return b}g.State$DefaultConstructor=a;g.Snapshot$DefaultConstructor=b;g.serializeState=i;g.serializeSnapshot=d;g.deserializeState=j;g.deserializeSnapshot=e}),98);
__d("ZenonAuditedCheckpointLogId",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["RP_ROOMS_INFRA_WWW__E2EE","RP_ROOMS_INFRA_WWW__WASM","RP_ROOMS_INFRA_WWW__LOGGER_INFRA","RP_ROOMS_INFRA_WWW__STATE_MACHINE","RP_ROOMS_INFRA_WWW__ERROR","RP_ROOMS_INFRA_WWW__E2EE_DEVICE_VERIFIER","RP_ROOMS_INFRA_WWW__PLATFORM"]);c=a;f["default"]=c}),66);
__d("ZenonCallWindowErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonOpeningAnotherCallError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonConferenceNameMutationFailedError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));c=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonIncompleteControllerParamsError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));d=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonUnsupportedThreadTypeError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));e=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonCannotAcceptInviteError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));var g=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonInviteNotFoundError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error)),h=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonUninitializedError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));f.OpeningAnotherCallError=a;f.ConferenceNameMutationFailedError=b;f.IncompleteControllerParamsError=c;f.UnsupportedThreadTypeError=d;f.CannotAcceptInviteError=e;f.InviteNotFoundError=g;f.UninitializedError=h}),66);
__d("isEmployeeTestUserZenonLogging",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("25162")||c("gkx")("25152")||c("gkx")("25209")}g["default"]=a}),98);
__d("ZenonInfraActionsLogger",["Log","RpWebInfraActionsLoggerEventFalcoEvent","ZenonAuditedCheckpointLogId","formatDate","isEmployeeTestUserZenonLogging","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={callTrigger:void 0,conferenceName:void 0,deviceID:void 0,mediaPath:"sfu",peerID:void 0,serverInfoData:void 0,signalingID:void 0},this.$2=new Set(),this.$3=new Map(),this.$4=new Map()}var b=a.prototype;b.updateCachedValues=function(a){Object.assign(this.$1,a)};b.setE2eeIsMandatedForCall=function(a){this.$3.set(a,!0)};b.logCheckpointEmployeesTestUsersOnly=function(a){if(!c("isEmployeeTestUserZenonLogging")())return;this.logCheckpoint(a)};b.logCheckpoint=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$2.has(b)||(this.$2.add(b),this.logCheckpoint(a))};b.logError=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.startTimer=function(a){var b=Date.now();this.$4.set(a,b);this.logEvent({checkpoint:a+"_timerStart"})};b.stopTimer=function(a){var b=this.$4.get(a);this.$4["delete"](a);b=b!=null?Date.now()-b:null;this.logEvent({checkpoint:a+"_timerEnd",eventTimeElapsed:b});return parseInt(b,10)};b.logEvent=function(a){var b;b=(b=this.$3.get((b=this.$1.signalingID)!=null?b:""))!=null?b:!1;if(b&&!c("justknobx")._("1021"))return;if(b&&a.auditId==null){b="Encountered an unaudited log line, dropping it.";a.error!=null?this.logEvent({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__LOGGER_INFRA,error:b}):this.logEvent({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__LOGGER_INFRA,checkpoint:b});return}if(((b=a.checkpoint)==null?void 0:b.length)!=null&&a.checkpoint.length>3e5)return;var d={call_id:(b=a.signalingID)!=null?b:this.$1.signalingID==null?void 0:String(this.$1.signalingID),call_trigger:this.$1.callTrigger,call_type:(b=a.callType)!=null?b:null,checkpoint:a.checkpoint,client_session_id:this.$1.signalingID,client_time:Date.now().toString(),conference_name:(b=a.conferenceName)!=null?b:this.$1.conferenceName,connection:(b=a.connectionState)!=null?b:this.$1.connectionState,device_id:this.$1.deviceID,error:a.error,error_domain:a.errorDomain,event_time_elapsed:(b=a.eventTimeElapsed)==null?void 0:b.toString(),is_caller:(b=a.isCaller)!=null?b:null,media_path:(b=a.mediaPath)!=null?b:this.$1.mediaPath,message_id:a.messageID,peer_connection:(b=a.peerConnectionState)!=null?b:this.$1.peerConnectionState,peer_id:this.$1.peerID,sdp_format:(b=a.sdpFormat)!=null?b:null,server_info_data:(b=a.serverInfoData)!=null?b:this.$1.serverInfoData,signaling:(b=a.signalingState)!=null?b:this.$1.signalingState,state_machine_id:a.stateMachineID};c("RpWebInfraActionsLoggerEventFalcoEvent").log(function(){return d})};return a}();b=new a();g["default"]=b}),98);
__d("ZenonLoggingUtils",["ZenonAppProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("ZenonAppProvider").isHorizonApp()||d("ZenonAppProvider").isHorizonWorldsApp()?!1:!0}g.shouldAllowLogging=a}),98);
__d("ZenonMachineToQPLEvent",["qpl"],(function(a,b,c,d,e,f,g){"use strict";b={ConnectionStateMachine:(a=c("qpl"))._(64243854,"2452"),ParentSignalingClient:a._(64234815,"1094"),PeerConnectionStateMachine:a._(64239068,"6172"),SignalingStateMachine:a._(64245348,"8823")};g["default"]=b}),98);
__d("ZenonODSLogger",["ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){}var b=a.prototype;b.logCounter=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway",a),h.flush()};b.logE2eeCounter=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_e2ee",a),h.flush()};return a}();b=new a();g["default"]=b}),98);
__d("ZenonDebugLogger",["ChannelClientID","CurrentUser","FBLogger","IGDWebUtils","Log","LogHistory","ODS","QuickLogActionType","QuickPerformanceLogger","RpWebStateMachineLoggingBlocklist","UserAgentData","WebDriverConfig","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonLoggingUtils","ZenonMachineToQPLEvent","ZenonODSLogger","formatDate","isEmployeeTestUserZenonLogging"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=null;a=function(){function a(){var a;this.$1=d("LogHistory").getInstance("webrtc");this.$2=d("ChannelClientID").getID();this.$3=JSON.stringify({browser:(a=c("UserAgentData")).browserName,browser_version:a.browserFullVersion,device:a.deviceName,msg_source:"web",os:a.platformName,os_version:a.platformFullVersion,version:2});a=c("CurrentUser").getAppID();a!=null&&d("IGDWebUtils").isInstagramWebSupportedApp(Number(a))?this.$4=parseInt(a,10):this.$4=219994525426954;this.$5=new Set(c("RpWebStateMachineLoggingBlocklist").EVENT_TYPES);this.$6=new Set(c("RpWebStateMachineLoggingBlocklist").STATES)}a.getInstance=function(){j||(j=new a());return j};a.getFBLogger=function(a){var b;a===void 0&&(a={});return c("FBLogger")("rpweb").addMetadata("RT_WEB","CALL_ID",""+((b=a.signalingID)!=null?b:"null")).addMetadata("RT_WEB","PEER_ID",""+((b=a.peerID)!=null?b:"null"))};var b=a.prototype;b.$7=function(a,b,e){b===void 0&&(b=!0);var f=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});c("WebDriverConfig").isJestE2ETestRun&&d("Log").debug(a);this.$1.log("Console",f+" "+a);b&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] "+a,messageID:e})};b.$8=function(a,b,d){var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a+". StateMachineID:  "+(b!=null?b:""));e={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:"[ZP] "+a+".",stateMachineID:b};d!=null&&(e.messageID=d);c("ZenonInfraActionsLogger").logCheckpoint(e)};b.$9=function(a,b,e,f){f===void 0&&(f=0);a=c("ZenonMachineToQPLEvent")==null?void 0:c("ZenonMachineToQPLEvent")[a];if(!(a&&(i||(i=c("QuickPerformanceLogger")))&&c("QuickLogActionType")&&d("ZenonLoggingUtils").shouldAllowLogging()))return;e==="terminated"?(i||(i=c("QuickPerformanceLogger"))).markerEnd(a,2,f):(i||(i=c("QuickPerformanceLogger"))).markerPoint(a,b,{data:{string:{data:e}},instanceKey:f})};b.$10=function(a){return isNaN(+a)?0:+a};b.getLogHistory=function(){return this.$1};b.logStateMachine=function(a,b,d,e,f){if(!c("isEmployeeTestUserZenonLogging")())return;if(this.$5.has(d))return;var g="["+a+"] [Current State: "+b+"] Processing event: "+d;g={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:""+g,stateMachineID:e};f!=null&&(g.messageID=f);c("ZenonInfraActionsLogger").logCheckpoint(g);this.$9(a,d,b,this.$10(e))};b.logStateMachineTransition=function(a,b,d,e,f,g,h,i){if(this.$6.has(d)||this.$5.has(f))return;if(!c("isEmployeeTestUserZenonLogging")())return;var j="";g!=null&&g.length===1&&g[0].type==="defer"?j="["+a+"] [[DEFERRED] "+f+" did not trigger transition. Current state remains "+d:d!==e?j="["+a+"] [[PROCESSED] "+f+" caused transition from "+(e||"")+" to "+d+".":b?j="["+a+"] [[PROCESSED] "+f+" did not trigger transition. Current state remains "+d:(j="["+a+"] [[DROPPED] "+f+" did not trigger transition. Current state remains "+d,this.$11(a));this.$8(j,h,i)};b.startQPL=function(a,b){b===void 0&&(b=0),(i||(i=c("QuickPerformanceLogger")))&&d("ZenonLoggingUtils").shouldAllowLogging()&&(i||(i=c("QuickPerformanceLogger"))).markerStart(a,this.$10(b))};b.endQPL=function(a,b){b===void 0&&(b=0),(i||(i=c("QuickPerformanceLogger")))&&c("QuickLogActionType")&&d("ZenonLoggingUtils").shouldAllowLogging()&&(i||(i=c("QuickPerformanceLogger"))).markerEnd(a,2,this.$10(b))};b.logConsole=function(a){this.$7(a,!1)};b.logMQTTStateChange=function(a){var b="mqtt_client_state_"+a;c("ZenonODSLogger").logCounter(b);c("isEmployeeTestUserZenonLogging")()&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] onMQTTStateChanged: "+a+", document.visibility: "+document.visibilityState+", document.hasFocus: "+String(document.hasFocus())+", navigator.onLine: "+String(navigator.onLine)})};b.logMQTTConnectStats=function(a,b){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] MQTT Connection time: "+String(a)+"ms, Retry Count: "+String(b)})};b.$11=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_state_machine",a+"_event_dropped"),h.flush()};return a}();g["default"]=a}),98);
__d("ZenonIGMediaUtil",["ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";a={shouldUseSFUOnly:function(){return d("ZenonAppProvider").isInstagramApp()&&!c("gkx")("2274")}};b=a;g["default"]=b}),98);
__d("ZenonPeerID",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i="MW_PEER_ID";function a(a){a.length>0||h(0,33504);if(a==="MW_PEER_ID")return i;isNaN(a)===!1||h(0,33551,a);return a}function b(a){return isNaN(a)||a===i?null:a}g.ZenonMWPeerID=i;g.convertStringToPeerID=a;g.convertPeerIDForLogging=b}),98);
__d("ZenonSDESKeyDetector",[],(function(a,b,c,d,e,f){"use strict";var g=/inline:\s*[0-9a-zA-z+/]{40}(\b|\s|$)/;function a(a){return g.test(JSON.stringify(a))}f["default"]=a}),66);
__d("ZenonSignalingMessage",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getHeader=function(){return this.$1};b.getEvents=function(){return this.$2};b.setSignalingID=function(a){this.$1.signalingID=a};b.setRetryCount=function(a){this.$1.retryCount=a};return a}();f["default"]=a}),66);
__d("ZenonSignalingTypes",[],(function(a,b,c,d,e,f){"use strict";a={OK:0,REJECTED_FROM_VERSION_DOES_NOT_MATCH:1,METHOD_NOT_ALLOWED:2};b={CLIENT_TERMINATED:0};f.ZenonSignalingStatusCode=a;f.ZenonSignalingStatusSubCode=b}),66);
__d("ZenonUserActionLogger",["RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ZenonDebugLogger","ZenonLoggingUtils","ZenonSDESKeyDetector","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=window.location.hostname.search("facebook")!==-1?"facebook":window.location.hostname.search("messenger")!==-1?"messenger_dot_com":null,j={logCheckpoint:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"checkpoint"}))},logClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logError:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"error"}))},logEvent:function(a){var b;if(c("ZenonSDESKeyDetector")(a))throw c("unrecoverableViolation")("ZenonUserActionLogger event contains SDES crypto key! This log entry must be removed!","rtc_www");if(!d("ZenonLoggingUtils").shouldAllowLogging())return;b=babelHelpers["extends"]({},a,{page:(b=a.page)!=null?b:i});var e=babelHelpers["extends"]({},b,{client_time:Date.now().toString()});c("RtcWebUserActionsDebugFalcoEvent").log(function(){return e});c("RtcWebUserActionsFalcoEvent").log(function(){return e});c("ZenonDebugLogger").getInstance().getLogHistory().log((a=a.event)!=null?a:"null",JSON.stringify(b))},logImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},logPreCallClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logPreCallImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},startTimer:function(a){var b=Date.now();h=h.set(a,b);j.logCheckpoint({checkpoint:a+"_timerStart"})},stopTimer:function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{},d=function(a){var b=h.get(a);if(b!=null){h["delete"](a);return parseInt(Date.now()-b,10)}return null};d=d(a.timerName);j.logCheckpoint(babelHelpers["extends"]({},c,{checkpoint:b+"_timerEnd",event_time_elapsed:d==null?void 0:d.toString()}));return parseInt(d,10)}};f.exports=j}),34);
__d("shouldUseSFUMediaPath",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("UserAgent").isBrowser("Chrome <= 88")?!0:!1}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("InstagramWebTypeaheadResultSelectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5676");b=d("FalcoLoggerInternal").create("instagram_web_typeahead_result_select",a);e=b;g["default"]=e}),98);
__d("InstagramWebTypeaheadSearchAttemptFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5677");b=d("FalcoLoggerInternal").create("instagram_web_typeahead_search_attempt",a);e=b;g["default"]=e}),98);
__d("PolarisEmojiPopoverConstants",[],(function(a,b,c,d,e,f){"use strict";a=309;b=309;c=333;d=325;e=55;var g=302;f.EMOJI_TRAY_WIDTH=a;f.EMOJI_TRAY_HEIGHT=b;f.EMOJI_TRAY_WIDTH_WITH_MARGIN=c;f.EMOJI_TRAY_HEIGHT_WITH_MARGIN=d;f.VARIATION_CONTENT_HEIGHT=e;f.VARIATION_CONTENT_WIDTH_6_EMOJIS=g}),66);
__d("PolarisEmojiPopoverPlaceholder.react",["IGDSBox.react","IGDSGlimmer.react","IGDSPopoverLoadingState.react","PolarisEmojiPopoverConstants","range","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={emoji:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x10w6t97",marginTop:"x1k70j0n",marginInlineEnd:"xbelrpt",marginBottom:"xzueoph",marginInlineStart:"xdzw4kq",width:"x1td3qas",$$css:!0},label:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x1kpxq89",marginTop:"x1xmf6yo",marginInlineEnd:"x1xegmmw",marginBottom:"x1e56ztr",marginInlineStart:"x13fj5qh",width:"xxljpkc",$$css:!0},popover:{marginBottom:"x1yztbdb",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs(c("IGDSBox.react"),{height:"fit-content",marginTop:2,width:d("PolarisEmojiPopoverConstants").EMOJI_TRAY_WIDTH,children:[i.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:j.label}),i.jsx("div",{className:"x78zum5 x1a02dak xwib8y2",children:c("range")(0,14).map(l)}),i.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:j.label}),i.jsx("div",{className:"x78zum5 x1a02dak xwib8y2",children:Array(28).fill(0).map(k)})]}),a[0]=b):b=a[0];b=b;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("IGDSPopoverLoadingState.react"),{popoverContent:i.jsx(c("IGDSBox.react"),{direction:"row",display:"flex",height:d("PolarisEmojiPopoverConstants").EMOJI_TRAY_HEIGHT_WITH_MARGIN,justifyContent:"center",width:d("PolarisEmojiPopoverConstants").EMOJI_TRAY_WIDTH_WITH_MARGIN,children:b}),popoverXStyle:j.popover}),a[1]=b):b=a[1];return b}function k(a,b){return i.jsx(c("IGDSGlimmer.react"),{index:b,xstyle:j.emoji},"emoji_glimmer_"+b)}k.displayName=k.name+" [from "+f.id+"]";function l(a){return i.jsx(c("IGDSGlimmer.react"),{index:a,xstyle:j.emoji},"emoji_glimmer_"+a)}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisEmojiButton.react",["IGDSFace2PanoOutlineIcon.react","IGDSIconButton.react","IGDSLazyPopoverTrigger.react","JSResourceForInteraction","PolarisDirectStrings","PolarisEmojiPopoverPlaceholder.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("JSResourceForInteraction")("PolarisEmojiPopover.react").__setRef("PolarisEmojiButton.react"),k=13;function a(a){var b=d("react-compiler-runtime").c(19),e=a.color,f=a.disableAutoAlign,g=a.disableAutoFlip,h=a.emojiTrayAlignment,l=a.emojiTrayPosition,m=a.onEmojiClick,n=a.padding,o=a.setEmojiTrayOpen;a=a.size;var p=e===void 0?"ig-primary-text":e;e=f===void 0?!1:f;f=g===void 0?!1:g;g=h===void 0?"start":h;h=l===void 0?"above":l;l=a===void 0?"medium":a;var q;b[0]!==l?(q=void 0,l==="small"?q=k:typeof l==="number"&&(q=l),b[0]=l,b[1]=q):q=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("PolarisEmojiPopoverPlaceholder.react"),{}),b[2]=a):a=b[2];b[3]!==o?(l=function(a){o(a)},b[3]=o,b[4]=l):l=b[4];var r;b[5]!==m?(r={handleEmojiClick:m},b[5]=m,b[6]=r):r=b[6];b[7]!==p||b[8]!==q||b[9]!==n?(m=function(a,b){return i.jsx(c("IGDSIconButton.react"),{hover:i.jsx(c("IGDSFace2PanoOutlineIcon.react"),{alt:d("PolarisDirectStrings").EMOJI_BUTTON_ALT_TEXT,color:p==="ig-secondary-text"?"ig-tertiary-text":void 0,size:q}),innerRef:a,onClick:b,padding:n===!0?8:0,children:i.jsx(c("IGDSFace2PanoOutlineIcon.react"),{alt:d("PolarisDirectStrings").EMOJI_BUTTON_ALT_TEXT,color:p,size:q})})},b[7]=p,b[8]=q,b[9]=n,b[10]=m):m=b[10];b[11]!==e||b[12]!==f||b[13]!==g||b[14]!==h||b[15]!==m||b[16]!==l||b[17]!==r?(a=i.jsx(c("IGDSLazyPopoverTrigger.react"),{align:g,disableAutoAlign:e,disableAutoFlip:f,fallback:a,onVisibilityChange:l,popoverProps:r,popoverResource:j,position:h,preloadTrigger:"button",children:m}),b[11]=e,b[12]=f,b[13]=g,b[14]=h,b[15]=m,b[16]=l,b[17]=r,b[18]=a):a=b[18];return a}g["default"]=a}),98);
__d("PolarisPostCommentInputReplyingToBar.react",["fbt","IGDSIconButton.react","IGDSXFilledIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={clearButton:{":active_opacity":"x1d5wrs8",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(11),e=a.isRevampedMobileInput,f=a.onClearReply;a=a.username;e=e===void 0?!1:e;var g;b[0]!==e?(g={0:{className:"x6s0dn4 x19g9edo x1ixjvfu x1q0q8m5 xso031l x78zum5 x1q0g3np x1qughib xz9dl7a xv54qhq xsag5q8 xf7dkkf"},1:{className:"x6s0dn4 x1ixjvfu x1q0q8m5 xso031l x78zum5 x1q0g3np x1qughib xjbqb8w x1a8lsjc x135b78x x11lfxj5 xexx8yu"}}[!!e<<0],b[0]=e,b[1]=g):g=b[1];b[2]!==a?(e=j.jsx("span",{children:h._(/*BTDS*/"Replying to {username}",[h._param("username",a)])}),b[2]=a,b[3]=e):e=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("IGDSXFilledIcon.react"),{alt:"at",size:14}),b[4]=a):a=b[4];b[5]!==f?(a=j.jsx(c("IGDSIconButton.react"),{onClick:f,padding:0,xstyle:k.clearButton,children:a}),b[5]=f,b[6]=a):a=b[6];b[7]!==g||b[8]!==e||b[9]!==a?(f=j.jsxs("div",babelHelpers["extends"]({},g,{children:[e,a]})),b[7]=g,b[8]=e,b[9]=a,b[10]=f):f=b[10];return f}g["default"]=a}),226);
__d("PolarisStoryTypeaheadConstants",[],(function(a,b,c,d,e,f){"use strict";a="touch_mention";f.TOUCH_MENTION_ID=a}),66);
__d("PolarisStoryTypeaheadResultsList.react",["fbt","PolarisDOMListener.react","PolarisIGCorePressable.react","PolarisIGVirtualList.react","PolarisSearchConstants","PolarisStoryTypeaheadConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=100,l=6;function m(a){return a.filter(function(a){return a.type===d("PolarisSearchConstants").USER_RESULT})}a=function(a){function b(){var b;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=a.call.apply(a,[this].concat(f))||this,b.state={results:[]},b.$2=function(a){a=a.index;var e=b.state.results[a];return j.jsxs(c("PolarisIGCorePressable.react"),{className:"x6s0dn4 x78zum5 xdt5ytf x2lah0s xdj266r x1sa5p1d xieb3on x1lziwak x2b8uid xlyipyv xo5x3gg",id:d("PolarisStoryTypeaheadConstants").TOUCH_MENTION_ID,onPress:function(a){return b.$1(e,a)},children:[j.jsx("img",{alt:h._(/*BTDS*/"{username}'s profile picture",[h._param("username",e.username)]),className:"xr4gsrn xa83c8o x3oym20 x1i84rja x972fbf x10w94by x1qhh985 x14e42zd x1lliihq x3psx0u xln7xf2 xk390pu x14h49td xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf xnfjc3l",id:d("PolarisStoryTypeaheadConstants").TOUCH_MENTION_ID,src:e.profilePictureUrl}),j.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x1awj2ng x1lliihq xdt5ytf x2lah0s xln7xf2 x1yxbuor xdj266r x14z9mp xat24cr x1lziwak x6ikm8r x10wlt62 xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 xlyipyv x11njtxf xuxw1ft xo5x3gg",children:e.username})]},e.username)},b.$3=function(a){a.stopPropagation()},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);b.getDerivedStateFromProps=function(a,b){return babelHelpers["extends"]({},b,{results:m(a.results)})};var e=b.prototype;e.componentDidMount=function(){this.setState({results:m(this.props.results)})};e.$1=function(a,b){b.preventDefault();b=this.props.pendingQueryStartIndex;this.props.onResultSelect(a,b)};e.render=function(){return j.jsxs("div",{className:"x1qjc9v5 x11g6tue x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xln7xf2 xk390pu xwzfr38 xdj266r x14z9mp xat24cr x1lziwak x6ikm8r x10wlt62 xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x5ve5x3 x11njtxf xh8yej3 x1vjfegm",id:d("PolarisStoryTypeaheadConstants").TOUCH_MENTION_ID,children:[j.jsx(c("PolarisDOMListener.react"),{event:"touchmove",handler:this.$3,passive:!1,target:document}),j.jsx(c("PolarisIGVirtualList.react"),{containerSize:"auto",direction:"horizontal",estimatedItemSize:k,initialRenderCount:l,itemCount:this.state.results.length,overscanCount:l,renderer:this.$2})]})};return b}(j.Component);g["default"]=a}),226);
__d("PolarisTypeaheadResultsItem.react",["cx","fbt","IGDSCheckbox.react","PolarisIGCoreConstants","PolarisPostsStatistic.react","PolarisSearchConstants","PolarisSocialProofStatisticVariant","PolarisUserAvatar.react","react","vulture"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){function b(){var b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(b=a.call.apply(a,[this].concat(e))||this,b.$1=function(a){a.preventDefault()},b.$2=function(a){b.props.onClick&&b.props.onClick(b.props.result,a)},b.$3=function(){b.props.onMouseEnter&&b.props.onMouseEnter(b.props.index,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_MOUSE)},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.$4=function(a,b,e){switch(a.type){case d("PolarisSearchConstants").USER_RESULT:return k.jsxs("div",{className:"_acmr",children:[k.jsx(c("PolarisUserAvatar.react"),{alt:i._(/*BTDS*/"{username}'s profile picture",[i._param("username",a.username)]),className:"_acms",isLink:!1,profilePictureUrl:a.profilePictureUrl,size:this.props.showLargeAvatars?c("PolarisIGCoreConstants").AVATAR_SIZES.medium:c("PolarisIGCoreConstants").AVATAR_SIZES.small,username:a.username}),k.jsxs("div",{className:"_acmt",children:[k.jsxs("div",{className:"_acmu",children:[a.username,a.isVerified?k.jsx("div",{className:"_acmv _9ys8"}):null]}),k.jsx("span",{className:"_acmw",dir:"auto",children:a.fullName})]}),b===!0?k.jsx("div",{children:k.jsx(c("IGDSCheckbox.react"),{checkboxShape:"circle",isChecked:e!=null?e.includes(a.pk):!1,onChange:function(){},size:16})}):null]});case d("PolarisSearchConstants").HASHTAG_RESULT:b=a.mediaCount;return k.jsxs("div",{className:"_acmt",children:[k.jsx("span",{className:"_acmu",dir:"auto",children:"#"+a.name}),b!=null&&k.jsx("div",{className:"_acmw",children:k.jsx(c("PolarisPostsStatistic.react"),{value:b,variant:d("PolarisSocialProofStatisticVariant").SOCIAL_PROOF_STATS_VARIANTS.unstyled})})]});case d("PolarisSearchConstants").LOCATION_RESULT:return k.jsxs("div",{className:"_acmt",children:[k.jsx("span",{className:"_acmu",dir:"auto",children:a.name}),k.jsx("span",{className:"_acmw",dir:"auto",children:a.address})]});default:c("vulture")("lS8eCf8bKZY74ecM728jhWTDZZc=");return null}};e.render=function(){var a=this.props,b=a.isCheckboxEnabled;b=b===void 0?!1:b;var c=a.selectedUserIds;c=c===void 0?[]:c;var d=a.isSelected,e=a.result,f=a.showLargeAvatars;a=a.size;a=a===void 0?"default":a;e=this.$4(e,b,c);return e?k.jsx("button",{className:(f?"":"_acmx")+(f?" _acmy":"")+(a==="extraLarge"?" _acmz":"")+(d?" _acm-":""),"data-testid":void 0,onClick:this.$2,onMouseDown:this.$1,onMouseEnter:this.$3,children:e}):null};return b}(k.Component);g["default"]=a}),226);
__d("PolarisTypeaheadResultsList.react",["cx","IGDSSpinner.react","PolarisSearchConstants","PolarisTypeaheadResultsItem.react","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef;function a(a){var b=d("react-compiler-runtime").c(28),e=a.isCheckboxEnabled,f=a.isUserMentionOrTag,g=a.loading,h=a.onResultHighlight,i=a.onResultSelect,o=a.pendingQueryStartIndex,p=a.results,q=a.searchContext,r=a.selectedIndex,s=a.selectedUserIds,t=a.showLargeAvatars,u=a.showResultsCondensed,v=a.size,w=l(),x=l(),y;b[0]!==r?(a=function(){if(w.current&&r!=null){var a=w.current.clientHeight;w.current.scrollTop=a*Math.floor(r/4)}},y=[r],b[0]=r,b[1]=a,b[2]=y):(a=b[1],y=b[2]);k(a,y);b[3]!==i||b[4]!==o?(a=function(a,b){b.preventDefault(),i(a,o)},b[3]=i,b[4]=o,b[5]=a):a=b[5];var z=a,A=m,B;if(b[6]!==z||b[7]!==e||b[8]!==f||b[9]!==g||b[10]!==h||b[11]!==p||b[12]!==q||b[13]!==r||b[14]!==s||b[15]!==t||b[16]!==u||b[17]!==v){y=function(a,b){return j.jsx("div",{ref:b===0?x:null,children:j.jsx(c("PolarisTypeaheadResultsItem.react"),{index:b,isCheckboxEnabled:e,isSelected:b===r,onClick:z,onMouseEnter:h,result:a,selectedUserIds:s,showLargeAvatars:t,size:v})},A(a))};a="_acm_";b[21]!==g||b[22]!==u?(B=g&&j.jsx("div",{className:(u?"_acn0":"")+(u?"":" _acn1"),children:j.jsx("div",{className:"_acn2"+(u?"":" _acn3")+(u?" _acn4":""),children:j.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),b[21]=g,b[22]=u,b[23]=B):B=b[23];y=!g&&j.jsx("div",{className:"_acn5"+(u?" _acn6":""),ref:w,children:n(p,q,s,f).map(y)});b[6]=z;b[7]=e;b[8]=f;b[9]=g;b[10]=h;b[11]=p;b[12]=q;b[13]=r;b[14]=s;b[15]=t;b[16]=u;b[17]=v;b[18]=a;b[19]=B;b[20]=y}else a=b[18],B=b[19],y=b[20];b[24]!==a||b[25]!==B||b[26]!==y?(f=j.jsxs("div",{className:a,children:[B,y]}),b[24]=a,b[25]=B,b[26]=y,b[27]=f):f=b[27];return f}function m(a){switch(a.type){case d("PolarisSearchConstants").USER_RESULT:return"user_"+a.username;case d("PolarisSearchConstants").HASHTAG_RESULT:return"hashtag_"+a.name;case d("PolarisSearchConstants").LOCATION_RESULT:return"location_"+a.external_id;default:c("vulture")("XInwKPDstxSRsXVee56-OzVlVwA=");return null}}function n(a,b,e,f){f===void 0&&(f=!1);switch(b){case d("PolarisSearchConstants").SEARCH_CONTEXT.USER:return a.filter(function(a){return a.type===d("PolarisSearchConstants").USER_RESULT&&!(e!=null&&e.includes(a.pk))&&(!f||a.isTaggable!==!1||a.isMentionable!==!1)});case d("PolarisSearchConstants").SEARCH_CONTEXT.HASHTAG:return a.filter(function(a){return a.type===d("PolarisSearchConstants").HASHTAG_RESULT});case d("PolarisSearchConstants").SEARCH_CONTEXT.LOCATION:return a.filter(function(a){return a.type===d("PolarisSearchConstants").LOCATION_RESULT});case d("PolarisSearchConstants").SEARCH_CONTEXT.BLENDED:default:c("vulture")("RnkXFjlUpIFhB5v71bRqrZUQDLw=");return a}}g["default"]=a}),98);
__d("PolarisTypeahead.react",["InstagramWebPushInfo","InstagramWebTypeaheadResultSelectFalcoEvent","InstagramWebTypeaheadSearchAttemptFalcoEvent","PolarisIGHashtagRegex","PolarisIGUsernameRegex","PolarisSearchConstants","PolarisStoryTypeaheadResultsList.react","PolarisTypeaheadResultsList.react","polarisLogAction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect,k=b.useRef,l=b.useState,m=10,n=new RegExp(d("PolarisIGHashtagRegex").HASH_CHARS),o=new RegExp(d("PolarisIGUsernameRegex").MENTIONS_MARKER),p={typeaheadAttempt:"typeaheadAttempt",typeaheadClickSuccess:"typeaheadClickSuccess"};function q(a){c("polarisLogAction")(p.typeaheadClickSuccess,{searchContext:a}),c("InstagramWebTypeaheadResultSelectFalcoEvent").log(function(){return{frontend_env:c("InstagramWebPushInfo").frontend_env,search_context:a}})}function r(a){c("polarisLogAction")(p.typeaheadAttempt,{searchContext:a}),c("InstagramWebTypeaheadSearchAttemptFalcoEvent").log(function(){return{frontend_env:c("InstagramWebPushInfo").frontend_env,search_context:a}})}function a(a){var b=d("react-compiler-runtime").c(62),e=a.className,f=a.clearOnResultSelection,g=a.cursorIndex,h=a.initialSearchContext,n=a.inputString,o=a.isCheckboxEnabled,p=a.loading,v=a.onClearSearch,w=a.onCollaboratorSearch,x=a.onResultHighlight,y=a.onResultSelect,z=a.onSearch,A=a.onSearchLocations,B=a.rankToken,C=a.results,D=a.search_session_id,E=a.searchOnMount,F=a.selectedIndex,G=a.selectedUserIds,H=a.showLargeAvatars,I=a.showResultsCondensed,J=a.size,K=a.useSearchTriggers,L=f===void 0?!0:f;a=h===void 0?d("PolarisSearchConstants").SEARCH_CONTEXT.BLENDED:h;var M=n===void 0?"":n,N=E===void 0?!1:E;f=H===void 0?!1:H;h=I===void 0?!0:I;n=l(K?null:0);var O=n[0],P=n[1];E=l(a);var Q=E[0],R=E[1],S=k(),T=k();b[0]!==w||b[1]!==z||b[2]!==A||b[3]!==B||b[4]!==Q||b[5]!==D?(H=function(a){Q===d("PolarisSearchConstants").SEARCH_CONTEXT.LOCATION?A(a):z(Q,a,B,D),w&&w(),window.clearTimeout(S.current)},b[0]=w,b[1]=z,b[2]=A,b[3]=B,b[4]=Q,b[5]=D,b[6]=H):H=b[6];var U=H;b[7]!==g||b[8]!==U||b[9]!==M||b[10]!==O||b[11]!==N||b[12]!==K?(I=function(){if(N&&O!==null){var a=K?M.slice(O,g):M;window.clearTimeout(S.current);S.current=window.setTimeout(function(){return U(a)},m);return}},n=[g,U,M,O,N,K],b[7]=g,b[8]=U,b[9]=M,b[10]=O,b[11]=N,b[12]=K,b[13]=I,b[14]=n):(I=b[13],n=b[14]);j(I,n);b[15]!==v?(a=function(){return function(){v(),window.clearTimeout(S.current)}},E=[v],b[15]=v,b[16]=a,b[17]=E):(a=b[16],E=b[17]);j(a,E);b[18]!==v||b[19]!==K?(H=function(){P(K?null:0),v()},b[18]=v,b[19]=K,b[20]=H):H=b[20];var V=H;b[21]!==g||b[22]!==U||b[23]!==V||b[24]!==M||b[25]!==v||b[26]!==O||b[27]!==Q||b[28]!==N||b[29]!==K?(I=function(){var a;if(((a=T.current)==null?void 0:a.inputString)!==M||N&&g!==((a=T.current)==null?void 0:a.cursorIndex)){a=M.slice(g-1,g);if(K&&s(a)){var b;(b=T.current)==null||b.onClearSearch();P(g);R(u(a))}else if(O!==null&&(!M||K&&t(a)))V();else if(O!==null){var c=K?M.slice(O,g):M;window.clearTimeout(S.current);S.current=window.setTimeout(function(){r(Q),U(c)},m)}}T.current={cursorIndex:g,inputString:M,onClearSearch:v}},n=[g,U,V,M,v,O,Q,N,K],b[21]=g,b[22]=U,b[23]=V,b[24]=M,b[25]=v,b[26]=O,b[27]=Q,b[28]=N,b[29]=K,b[30]=I,b[31]=n):(I=b[30],n=b[31]);j(I,n);b[32]!==L||b[33]!==V||b[34]!==y||b[35]!==Q?(a=function(a,b){L===!0&&V(),y(a,b),q(Q)},b[32]=L,b[33]=V,b[34]=y,b[35]=Q,b[36]=a):a=b[36];E=a;b[37]!==E||b[38]!==o||b[39]!==p||b[40]!==x||b[41]!==O||b[42]!==C||b[43]!==Q||b[44]!==N||b[45]!==F||b[46]!==G||b[47]!==f||b[48]!==h||b[49]!==J?(H=O!=null&&!N&&i.jsx(c("PolarisTypeaheadResultsList.react"),{isCheckboxEnabled:o,isUserMentionOrTag:Q===d("PolarisSearchConstants").SEARCH_CONTEXT.USER,loading:p,onResultHighlight:x,onResultSelect:E,pendingQueryStartIndex:O,results:C,searchContext:Q,selectedIndex:F,selectedUserIds:G,showLargeAvatars:f,showResultsCondensed:h,size:J}),b[37]=E,b[38]=o,b[39]=p,b[40]=x,b[41]=O,b[42]=C,b[43]=Q,b[44]=N,b[45]=F,b[46]=G,b[47]=f,b[48]=h,b[49]=J,b[50]=H):H=b[50];b[51]!==E||b[52]!==x||b[53]!==O||b[54]!==C||b[55]!==Q||b[56]!==N?(I=O!=null&&N&&i.jsx(c("PolarisStoryTypeaheadResultsList.react"),{onResultHighlight:x,onResultSelect:E,pendingQueryStartIndex:O,results:C,searchContext:Q}),b[51]=E,b[52]=x,b[53]=O,b[54]=C,b[55]=Q,b[56]=N,b[57]=I):I=b[57];b[58]!==e||b[59]!==H||b[60]!==I?(n=i.jsxs("div",{className:e,"data-testid":void 0,children:[H,I]}),b[58]=e,b[59]=H,b[60]=I,b[61]=n):n=b[61];return n}function s(a){return n.test(a)||o.test(a)}function t(a){return/\s/.test(a)}function u(a){if(n.test(a))return d("PolarisSearchConstants").SEARCH_CONTEXT.HASHTAG;return o.test(a)?d("PolarisSearchConstants").SEARCH_CONTEXT.USER:d("PolarisSearchConstants").SEARCH_CONTEXT.BLENDED}g["default"]=a}),98);
__d("PolarisTypeaheadContainer.react",["PolarisReactRedux.react","PolarisSearchActions","PolarisTypeahead.react","polarisSearchSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){a=d("polarisSearchSelectors").getCurrentSearchContent(a);return{loading:a.loading,rankToken:a.rankToken,results:a.results,search_session_id:a.search_session_id,selectedIndex:a.selectedIndex}}function b(a){return{onClearSearch:function(){a(d("PolarisSearchActions").clearSearch())},onResultHighlight:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))},onSearch:function(b,c,e,f){a(d("PolarisSearchActions").search(b,c,e,f))},onSearchLocations:function(b,c,e){a(d("PolarisSearchActions").searchLocations(b,c,e))}}}e=d("PolarisReactRedux.react").connect(a,b)(c("PolarisTypeahead.react"));g["default"]=e}),98);
__d("PolarisTypeaheadInput.react",["InstagramWebPushInfo","InstagramWebTypeaheadResultSelectFalcoEvent","Keys","PolarisReactRedux.react","PolarisSearchActions","PolarisSearchConstants","ReactTextareaAutosizeWWWIG","getTextDirection","polarisLogAction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=["autosize","cursorIndex","inputRef","onTypeaheadResultHighlight","onTypeaheadResultSelect","search","value","xstyle"],i,j,k=j||d("react"),l={typeaheadClickSuccess:"typeaheadClickSuccess"},m={root:{fontFamily:"x1i0vuye",$$css:!0}};e=function(a){function b(){var b;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=a.call.apply(a,[this].concat(f))||this,b.$1=null,b.state={hasFocus:!1},b.$3=function(a){b.props.onBlur&&b.props.onBlur(a),b.setState({hasFocus:!1})},b.$4=function(a){b.props.onFocus&&b.props.onFocus(a),b.setState({hasFocus:!0})},b.$5=function(a){b.props.onChange(a.target.value,a.target.selectionEnd)},b.$6=function(a){b.$1=a,b.props.inputRef&&b.props.inputRef(a)},b.$7=function(a){var e=b.props.search.content[b.props.search.currentSearchTab],f=e.loading,g=e.results,h=e.searchedForQuery;e=e.selectedIndex;!a.altKey&&(g.length>0||f)&&(a.which===c("Keys").DOWN?(e==null?b.props.onTypeaheadResultHighlight(0,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD):e<g.length-1&&b.props.onTypeaheadResultHighlight(e+1,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD),a.preventDefault()):a.which===c("Keys").UP?(e!=null&&e>0&&b.props.onTypeaheadResultHighlight(e-1,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD),a.preventDefault()):a.which===c("Keys").RETURN&&(g!=null&&g.length>0&&(e!=null?(b.props.onTypeaheadResultSelect(g[e],b.props.cursorIndex-h.length),n()):b.props.onTypeaheadResultHighlight(0,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD)),a.preventDefault()))},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.shouldComponentUpdate=function(a,b){return this.props.value!==a.value||this.props.cursorIndex!==a.cursorIndex||this.props.disabled!==a.disabled||this.state.hasFocus!==b.hasFocus};e.componentDidUpdate=function(a,b){this.state.hasFocus&&this.$1!=null&&this.props.cursorIndex!==this.$1.selectionEnd&&this.$2()};e.$2=function(){var a=this.$1;a&&(a.focus(),a.setSelectionRange(this.props.cursorIndex,this.props.cursorIndex))};e.render=function(){var a=this.props,b=a.autosize;a.cursorIndex;a.inputRef;a.onTypeaheadResultHighlight;a.onTypeaheadResultSelect;a.search;var d=a.value,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var f=c("getTextDirection")(d);e={autoComplete:"off",autoCorrect:"off",className:(i||(i=c("stylex")))(m.root,e),dir:f,onBlur:this.$3,onChange:this.$5,onFocus:this.$4,onKeyDown:this.$7,value:d};return b===!0?k.jsx(c("ReactTextareaAutosizeWWWIG"),babelHelpers["extends"]({},a,e,{ref:this.$6})):k.jsx("textarea",babelHelpers["extends"]({},a,e,{ref:this.$6}))};return b}(k.Component);function n(){c("polarisLogAction")(l.typeaheadClickSuccess),c("InstagramWebTypeaheadResultSelectFalcoEvent").log(function(){return{frontend_env:c("InstagramWebPushInfo").frontend_env}})}function a(a){return{search:a.search}}function b(a){return{onTypeaheadResultHighlight:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))}}}f=d("PolarisReactRedux.react").connect(a,b)(e);g["default"]=f}),98);
__d("PolarisPostCommentInputForm.react",["fbt","IGDSButton.react","IGDSSpinner.react","PolarisEmojiButton.react","PolarisIGTheme.react","PolarisPostCommentInputReplyingToBar.react","PolarisTypeaheadContainer.react","PolarisTypeaheadInput.react","PolarisUA","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));j.useCallback;var l=h._(/*BTDS*/"Add a comment\u2026"),m={border:{borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",$$css:!0},form:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",font:"xln7xf2",fontSize:"xk390pu",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},formRevamp:{borderStartStartRadius:"xum2pek",borderStartEndRadius:"x1p2znge",borderEndEndRadius:"xckx8r1",borderEndStartRadius:"x12qyh8a",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},formRevampDesktopFeed:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},formRich:{backgroundColor:"xvbhtw8",borderTopColor:"x1yvgwvq",borderInlineEndColor:"xjd31um",borderBottomColor:"x1ixjvfu",borderInlineStartColor:"xwt6s21",borderStartStartRadius:"x120xd9q",borderStartEndRadius:"x1k4ovr2",borderEndEndRadius:"xdfaw6k",borderEndStartRadius:"xefzod",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",marginInlineEnd:"x1ys307a",paddingTop:"xz9dl7a",paddingInlineEnd:"xv54qhq",paddingBottom:"xsag5q8",paddingInlineStart:"xf7dkkf",$$css:!0},revampedMobileInput:{borderTopColor:"x1yvgwvq",borderInlineEndColor:"xjd31um",borderBottomColor:"x1ixjvfu",borderInlineStartColor:"xwt6s21",borderStartStartRadius:"xum2pek",borderStartEndRadius:"x1p2znge",borderEndEndRadius:"xckx8r1",borderEndStartRadius:"x12qyh8a",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0},textArea:{backgroundColor:"xgcd1z6",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",color:"x5n08af",display:"x78zum5",flexGrow:"x1iyjqo2",fontSize:"x1qlqyl8",height:"x1d6elog",maxHeight:"xlk1fp6",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",resize:"xtt52l0",width:"xnalus7","::placeholder_color":"xs3hnx8",":disabled_opacity":"x1bq4at4",":disabled_pointerEvents":"xaqnwrm",$$css:!0},typeahead:{borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxShadow:"x1jumc70",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},typeaheadDesktop:{backgroundColor:"xvbhtw8",boxShadow:"x122emky",minWidth:"x92112o",position:"x10l6tqk",top:"xdsb8wn",$$css:!0},typeaheadMobile:{bottom:"x58jzl7",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",position:"x10l6tqk",$$css:!0},typeaheadShowAboveInput:{bottom:"x10w3d4m",top:"x80663w",$$css:!0},withReplyBar:{borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",flexDirection:"xdt5ytf",$$css:!0}},n={root:{color:"xkx5cws",opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(62),e=a.autosize,f=a.cursorIndex,g=a.familiarFeed,j=a.hasPostButton,o=a.hasRichCommentInput,p=a.inputRef,q=a.isEmojiTrayOpen,r=a.isOnDesktopFeed,s=a.isRevampedMobileInput,t=a.isRevampVersion,u=a.isSubmitDisabled,v=a.isTypeaheadInputDisabled,w=a.onBlur,x=a.onChange,y=a.onClearReply,z=a.onEmojiClick,A=a.onEmojiTrayOpen,B=a.onFocus,C=a.onKeyPress,D=a.onKeyUp,E=a.onPostButtonClicked,F=a.onTypeaheadResultSelect,G=a.openTypeaheadAbove,H=a.pendingComment,I=a.repliedToUsername,J=a.replyingToBarWithinInput;a=a.showTypeahead;o=o===void 0?!1:o;s=s===void 0?!1:s;J=J===void 0?!1:J;var K=t&&r===!0,L=J&&I!=null&&I!==""&&y!=null,M=d("PolarisIGTheme.react").useTheme().getTheme()===d("PolarisIGTheme.react").IGTheme.Dark,N;b[0]!==B?(N=function(){B()},b[0]=B,b[1]=N):N=b[1];N=N;var O;b[2]!==o||b[3]!==K||b[4]!==t||b[5]!==s||b[6]!==I||b[7]!==J?(O=(i||(i=c("stylex"))).props(m.form,s?m.revampedMobileInput:m.border,J&&I!=null&&m.withReplyBar,o&&m.formRich,o&&t&&m.formRevamp,o&&K&&m.formRevampDesktopFeed),b[2]=o,b[3]=K,b[4]=t,b[5]=s,b[6]=I,b[7]=J,b[8]=O):O=b[8];b[9]!==v?(o=v&&k.jsx(c("IGDSSpinner.react"),{position:"absolute"}),b[9]=v,b[10]=o):o=b[10];var P;b[11]!==s||b[12]!==y||b[13]!==I||b[14]!==J||b[15]!==L?(P=J&&y!=null&&I!=null&&k.jsx("div",babelHelpers["extends"]({},{0:{},1:{className:"xyorhqc"}}[!!L<<0],{children:k.jsx(c("PolarisPostCommentInputReplyingToBar.react"),{isRevampedMobileInput:s,onClearReply:y,username:I})})),b[11]=s,b[12]=y,b[13]=I,b[14]=J,b[15]=L,b[16]=P):P=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x6s0dn4 x78zum5 x1q0g3np x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},b[17]=s):s=b[17];b[18]!==g||b[19]!==q||b[20]!==r||b[21]!==K||b[22]!==t||b[23]!==z||b[24]!==A?(y=d("PolarisUA").isDesktop()&&k.jsx("div",babelHelpers["extends"]({},{0:{className:"x1y1aw1k xv54qhq xwib8y2 xf7dkkf"},4:{className:"x1y1aw1k xpdmqnj xwib8y2 x1c1uobl"},2:{className:"xo1ph6p xexx8yu xyri2b x18d9i69 x1c1uobl"},6:{className:"xo1ph6p xexx8yu xyri2b x18d9i69 x1c1uobl"},1:{className:"x1y1aw1k xv54qhq xwib8y2 xf7dkkf xbelrpt"},5:{className:"x1y1aw1k xpdmqnj xwib8y2 x1c1uobl xbelrpt"},3:{className:"xo1ph6p xexx8yu xyri2b x18d9i69 x1c1uobl xbelrpt"},7:{className:"xo1ph6p xexx8yu xyri2b x18d9i69 x1c1uobl xbelrpt"}}[!!(r===!0)<<2|!!g<<1|!!K<<0],{children:k.jsx(c("PolarisEmojiButton.react"),{color:g?"ig-secondary-text":void 0,isEmojiTrayOpen:q,onEmojiClick:z,setEmojiTrayOpen:A,size:g&&(!t||K)?"small":void 0})})),b[18]=g,b[19]=q,b[20]=r,b[21]=K,b[22]=t,b[23]=z,b[24]=A,b[25]=y):y=b[25];b[26]!==e||b[27]!==f||b[28]!==N||b[29]!==p||b[30]!==v||b[31]!==w||b[32]!==x||b[33]!==C||b[34]!==D||b[35]!==F||b[36]!==H?(I=k.jsx(c("PolarisTypeaheadInput.react"),{"aria-label":l,autosize:e,cursorIndex:f,"data-testid":void 0,disabled:v,inputRef:p,onBlur:w,onChange:x,onFocus:N,onKeyPress:C,onKeyUp:D,onTypeaheadResultSelect:F,placeholder:l,value:H,xstyle:m.textArea}),b[26]=e,b[27]=f,b[28]=N,b[29]=p,b[30]=v,b[31]=w,b[32]=x,b[33]=C,b[34]=D,b[35]=F,b[36]=H,b[37]=I):I=b[37];b[38]!==g||b[39]!==j||b[40]!==M||b[41]!==u||b[42]!==E?(J=j&&(g?!u:!0)&&k.jsx("div",babelHelpers["extends"]({},{0:{className:"x13fj5qh"},1:{className:"xdj266r x1xegmmw xat24cr x13fj5qh"}}[!!g<<0],{children:k.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",isDisabled:u,label:h._(/*BTDS*/"Post"),onClick:E,variant:M?"secondary_link":"primary_link",xstyle:u?n.root:void 0})})),b[38]=g,b[39]=j,b[40]=M,b[41]=u,b[42]=E,b[43]=J):J=b[43];b[44]!==I||b[45]!==J||b[46]!==y?(L=k.jsxs("div",babelHelpers["extends"]({},s,{children:[y,I,J]})),b[44]=I,b[45]=J,b[46]=y,b[47]=L):L=b[47];b[48]!==L||b[49]!==O||b[50]!==o||b[51]!==P?(q=k.jsxs("form",babelHelpers["extends"]({},O,{"data-testid":void 0,method:"POST",children:[o,P,L]})),b[48]=L,b[49]=O,b[50]=o,b[51]=P,b[52]=q):q=b[52];b[53]!==f||b[54]!==F||b[55]!==G||b[56]!==H||b[57]!==a?(r=a?k.jsx(c("PolarisTypeaheadContainer.react"),{className:(i||(i=c("stylex")))([m.typeahead,d("PolarisUA").isMobile()?m.typeaheadMobile:m.typeaheadDesktop,G?m.typeaheadShowAboveInput:null]),cursorIndex:f,inputString:H,onResultSelect:F,showResultsCondensed:!0,useSearchTriggers:!0}):null,b[53]=f,b[54]=F,b[55]=G,b[56]=H,b[57]=a,b[58]=r):r=b[58];b[59]!==q||b[60]!==r?(K=k.jsxs(k.Fragment,{children:[q,r]}),b[59]=q,b[60]=r,b[61]=K):K=b[61];return K}g["default"]=a}),226);
__d("polarisUpdateTextOnTypeaheadSelect",["PolarisSearchConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f="";switch(a.type){case d("PolarisSearchConstants").USER_RESULT:f=a.username;break;case d("PolarisSearchConstants").HASHTAG_RESULT:f=a.name;break;default:return{updatedCursorIndex:e,updatedText:c}}a=" ";b=c.substring(0,b);c=c.substring(e);e=b+f+a+c;c=b.length+f.length+a.length;return{updatedCursorIndex:c,updatedText:e}}g["default"]=a}),98);
__d("PolarisPostCommentInput.react",["fbt","IGDSTextVariants.react","PolarisFastLink.react","PolarisIGCoreConstants","PolarisInteractionsLogger","PolarisIsLoggedIn","PolarisLinkBuilder","PolarisPendingCommentActions","PolarisPostCommentInputForm.react","PolarisPostCommentInputReplyingToBar.react","PolarisReactRedux.react","PolarisRoutes","PolarisSearchActions","PolarisUA","PolarisUserAvatar.react","QPLUserFlow","browserHistory_DO_NOT_USE","gkx","nullthrows","one-trace","polarisLogAction","polarisSearchSelectors","polarisUpdateTextOnTypeaheadSelect","polarisUserSelectors","qpl","react","react-compiler-runtime","stylex","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={familiarFeedRoot:{borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",paddingTop:"x3hdcf8",paddingInlineEnd:"xje27ih",paddingBottom:"x18dplov",paddingInlineStart:"xozx76t",$$css:!0},inputWrapper:{alignItems:"x6s0dn4",backgroundColor:"x19g9edo",borderBottomColor:"x1ixjvfu",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",borderTopColor:"x1yvgwvq",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",justifyContent:"x1nhvcw1",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",$$css:!0},inputWrapperReels:{paddingTop:"x3hdcf8",paddingInlineEnd:"xje27ih",paddingBottom:"x18dplov",paddingInlineStart:"xozx76t",$$css:!0},inputWrapperRevamp:{backgroundColor:"xvbhtw8",borderStartStartRadius:"xum2pek",borderStartEndRadius:"x1p2znge",borderEndEndRadius:"xckx8r1",borderEndStartRadius:"x12qyh8a",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",$$css:!0},inputWrapperRevampFeed:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},reelsRoot:{backgroundColor:"xvbhtw8",borderTopColor:"xl4qmuc",borderInlineEndColor:"xm4i03v",borderBottomColor:"xd18jyu",borderInlineStartColor:"xrgb9v1",borderStartStartRadius:"xum2pek",borderStartEndRadius:"x1p2znge",borderEndEndRadius:"xckx8r1",borderEndStartRadius:"x12qyh8a",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",boxSizing:"x9f619",$$css:!0},revampedMobileInput:{backgroundColor:"xjbqb8w",$$css:!0},root:{borderTopColor:"x5ur3kl",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",color:"x1roi4f4",flexShrink:"x2lah0s",fontSize:"xvs91rp",justifyContent:"xl56j7k",lineHeight:"x17ydfre",position:"x1n2onr6",$$css:!0},rootRich:{borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",top:"x1qiirwl",width:"xh8yej3",$$css:!0}};function m(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("PolarisLinkBuilder").buildLoginLink(d("browserHistory_DO_NOT_USE").browserHistory.location.pathname,{source:"post_comment_input"}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("PolarisFastLink.react"),{href:b,children:k.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"link",zeroMargin:!0,children:h._(/*BTDS*/"Log in")})}),a[1]=b):b=a[1];b=b;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx("span",{children:k.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",zeroMargin:!0,children:h._(/*BTDS*/"{loginLink} to like or comment.",[h._param("loginLink",b)])})}),a[2]=b):b=a[2];return b}function n(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a.username?(c=k.jsx("span",{children:h._(/*BTDS*/"Follow {username} to like or comment.",[h._param("username",a.username)])}),b[0]=a.username,b[1]=c):c=b[1];return c}var o=function(a){function b(b){var e;e=a.call(this,b)||this;e.$3=null;e.focusAndScroll=function(){var a=function(){var a=c("nullthrows")(e.$1);a.focus();d("PolarisUA").isMobile()&&window.setTimeout(function(){typeof a.scrollIntoView==="function"&&(a.scrollIntoView(!0),window.scrollBy(0,-200))},10)};e.setState({hasBeenFocused:!0},function(){window.setTimeout(function(){return a()})})};e.$6=function(a){a.key==="Enter"&&!a.shiftKey&&(c("QPLUserFlow").addPoint(c("qpl")._(379194585,"1014"),"post_comment_form_enter_key_pressed"),e.$5(a))};e.$7=function(a){a.stopPropagation()};e.$8=function(a,b){e.state.commentAttempt||c("polarisLogAction")("commentAttempt",{isLoggedIn:d("PolarisIsLoggedIn").isLoggedIn(),source:e.props.analyticsContext,type:e.props.isVideo===!0?"video":"photo"}),e.setState({commentAttempt:!0,cursorIndex:b,isEmojiTrayOpen:e.$2!=null,needsFlush:!0,pendingComment:a})};e.$9=function(a){e.$1=a,c("gkx")("32994")&&(a!=null?e.$3=c("one-trace").trackTypingPerf(a,"PostCommentInput"):e.$3!=null&&(e.$3(),e.$3=null))};e.$10=function(){e.setState({hasBeenFocused:!0,hasFocus:!0}),c("QPLUserFlow").start(c("qpl")._(379194585,"1014"),{annotations:{string:{source:e.props.analyticsContext}}})};e.$11=function(){e.setState({hasFocus:!1})};e.$12=function(a){var b=e.props,f=b.analyticsContext,g=b.id;b=b.ownerId;d("PolarisInteractionsLogger").logInteractionAction({containerModule:f,eventName:"instagram_organic_comment_button",mediaAuthorId:b,mediaId:g});c("QPLUserFlow").addPoint(c("qpl")._(379194585,"1014"),"post_comment_form_post_button_clicked");e.$5(a)};e.$13=function(a,b){a=c("polarisUpdateTextOnTypeaheadSelect")(a,b,e.state.pendingComment,e.state.cursorIndex);b=a.updatedCursorIndex;a=a.updatedText;e.$8(a,b)};e.$14=function(a){var b,c;e.$2=a;b=((b=e.$1)==null?void 0:b.selectionStart)||0;c=((c=e.$1)==null?void 0:c.selectionEnd)||0;c=e.state.pendingComment.substring(0,b)+a+e.state.pendingComment.substring(c);b=b+a.length;e.$8(c,b)};e.$15=function(a){a===!0&&c("polarisLogAction")("emojiButtonClicked",{isLoggedIn:d("PolarisIsLoggedIn").isLoggedIn(),source:e.props.analyticsContext,type:e.props.isVideo===!0?"video":"photo"}),e.setState({isEmojiTrayOpen:a})};e.emojiPickerTray=k.createRef();e.state={commentAttempt:!1,cursorIndex:b.pendingComment.length,hasBeenFocused:!1,isEmojiTrayOpen:!1,needsFlush:!1,pendingComment:""};return e}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.componentWillUnmount=function(){!this.props.commentSaveIsInFlight&&this.state.needsFlush&&this.state.pendingComment.length>0&&this.props.onCommentChange(this.state.pendingComment)};e.componentDidUpdate=function(a,b){var c=this.props,d=c.commentSaveIsInFlight;c=c.pendingComment;this.$1&&!b.hasBeenFocused&&this.state.hasBeenFocused&&this.$1.focus();a.pendingComment!==c&&(this.setState({cursorIndex:c.length,pendingComment:c}),this.$1&&this.$1.focus());b=b.isEmojiTrayOpen!==this.state.isEmojiTrayOpen;(this.$2!=null||b)&&(this.$2=null,this.$1&&(b&&this.setState({cursorIndex:this.$1.selectionEnd}),this.$1.focus()));a.commentSaveIsInFlight&&!d&&c===""&&this.setState({needsFlush:!0,pendingComment:""})};e.shouldComponentUpdate=function(a,b){return this.props.xstyle!==a.xstyle||this.props.commentSaveIsInFlight!==a.commentSaveIsInFlight||this.props.pendingComment!==a.pendingComment||this.state.pendingComment!==b.pendingComment||this.state.hasBeenFocused!==b.hasBeenFocused||this.state.hasFocus!==b.hasFocus||this.state.isEmojiTrayOpen!==b.isEmojiTrayOpen};e.$4=function(){return this.state.pendingComment.trim().length===0||this.props.commentSaveIsInFlight};e.$5=function(a){var b=this,d=this.props,e=d.adInfo,f=d.onCommentChange,g=d.onCommentSubmit,h=d.repliedToCommentId;d=d.repliedToCommentParentId;c("QPLUserFlow").addPoint(c("qpl")._(379194585,"1014"),"post_comment_form_submitted");a.preventDefault();if(!this.$4()){f(this.state.pendingComment);this.setState({needsFlush:!1});a=null;e!=null&&(e==null?void 0:e.tracking_token)!=null&&(e==null?void 0:e.ad_id)!=null&&(a={adId:e==null?void 0:e.ad_id,adTrackingToken:e==null?void 0:e.tracking_token});g(this.state.pendingComment,h,d,a).then(function(){b.$1&&b.$1.blur()})}};e.$16=function(){if(this.props.isRevampVersion)return!1;return this.$1?this.props.viewportHeight-this.$1.getBoundingClientRect().bottom>200:!0};e.render=function(){var a=this.props,b=a.analyticsContext,e=a.canViewerProvideFeedback,f=a.hasRichCommentInput,g=a.isRevampedMobileInput;g=g===void 0?!1:g;var h=a.isRevampVersion,j=a.onClearReply,o=a.ownerUsername,p=a.repliedToUsername,q=a.replyingToBarWithinInput;q=q===void 0?!1:q;var r=a.viewerProfilePicture;a=a.xstyle;var s=d("browserHistory_DO_NOT_USE").browserHistory.location.pathname===d("PolarisRoutes").FEED_PATH||d("browserHistory_DO_NOT_USE").browserHistory.location.pathname===d("PolarisRoutes").ADS_ACTIVITY_FEED||d("browserHistory_DO_NOT_USE").browserHistory.location.pathname===d("PolarisRoutes").ADS_ACTIVITY_PATH;s=s&&this.props.inModal!==!0&&d("PolarisUA").isDesktop();b=d("PolarisUA").isDesktop()&&b==="reelsTab"&&h;var t=s||h;return k.jsxs("section",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(l.root,f===!0&&l.rootRich,t&&!b&&l.familiarFeedRoot,b&&l.reelsRoot,a),{children:[k.jsxs("div",babelHelpers["extends"]({},i.props(b&&l.inputWrapperReels,f===!0&&l.inputWrapper,f===!0&&h&&l.inputWrapperRevamp,f===!0&&h&&s&&l.inputWrapperRevampFeed,f===!0&&g&&l.revampedMobileInput),{children:[f===!0&&r!=null&&r!==""&&k.jsx(c("PolarisUserAvatar.react"),{className:{0:"x1rg5ohu xdj266r x1ys307a xat24cr xyqm7xq",2:"x1rg5ohu xdj266r xf6vk7d xat24cr x1lziwak",1:"x1rg5ohu xdj266r x14z9mp xat24cr x13fj5qh",3:"x1rg5ohu xdj266r x14z9mp xat24cr x13fj5qh"}[!!(h&&!b)<<1|!!b<<0],isLink:!1,profilePictureUrl:r,size:b?c("PolarisIGCoreConstants").AVATAR_SIZES.extraSmall:c("PolarisIGCoreConstants").AVATAR_SIZES.small}),!d("PolarisIsLoggedIn").isLoggedIn()||!e?d("PolarisIsLoggedIn").isLoggedIn()?k.jsx(n,{username:c("nullthrows")(o)}):k.jsx(m,{}):k.jsx(c("PolarisPostCommentInputForm.react"),{autosize:this.props.forceTextareaAutosize===!0||this.state.hasBeenFocused||this.state.pendingComment!=="",cursorIndex:this.state.cursorIndex,familiarFeed:t,hasPostButton:this.props.hasPostButton,hasRichCommentInput:f,inputRef:this.$9,isEmojiTrayOpen:this.state.isEmojiTrayOpen,isOnDesktopFeed:s,isRevampedMobileInput:g,isRevampVersion:this.props.isRevampVersion,isSubmitDisabled:this.$4(),isTypeaheadInputDisabled:this.props.commentSaveIsInFlight,onBlur:this.$11,onChange:this.$8,onClearReply:j,onEmojiClick:this.$14,onEmojiTrayOpen:this.$15,onFocus:this.$10,onKeyPress:this.$6,onKeyUp:this.$7,onPostButtonClicked:this.$12,onTypeaheadResultSelect:this.$13,openTypeaheadAbove:!this.$16(),pendingComment:this.state.pendingComment,repliedToUsername:p,replyingToBarWithinInput:q,showTypeahead:d("PolarisIsLoggedIn").isLoggedIn()&&e&&this.state.hasFocus===!0})]})),p!=null&&p!==""&&!q&&d("PolarisUA").isMobile()&&k.jsx(c("PolarisPostCommentInputReplyingToBar.react"),{onClearReply:j,username:p})]}))};return b}(k.Component);o.defaultProps={forceTextareaAutosize:d("PolarisUA").isMobile(),hasRichCommentInput:!1};function a(a,b){var e=a.pendingComments[b.id],f=a.navigation.pageIdentifier||"",g=d("polarisSearchSelectors").getCurrentSearchContent(a);return{analyticsContext:f,commentSaveIsInFlight:(e==null?void 0:e.committing)||!1,loading:g.loading,ownerUsername:(f=b.postOwnerUsername)!=null?f:c("nullthrows")(d("polarisUserSelectors").getUserByIdOrThrows(a,b.ownerId).username),pendingComment:(e==null?void 0:e.text)||"",repliedToCommentAuthorId:e==null?void 0:e.repliedToCommentAuthorId,repliedToCommentId:e==null?void 0:e.repliedToCommentId,repliedToCommentParentId:e==null?void 0:e.repliedToCommentParentId,repliedToUsername:e==null?void 0:e.repliedToUsername,results:g.results,searchedForQuery:g.searchedForQuery,selectedIndex:g.selectedIndex}}function b(a,b){return{onClearReply:function(){a(d("PolarisPendingCommentActions").clearPendingComment(b.id))},onCommentChange:function(c,e,f,g,h){a(d("PolarisPendingCommentActions").changePendingComment(b.id,c,e,f,g,h))},onCommentSubmit:function(c,e,f,g){return b.onCommentSubmitOverride!=null?b.onCommentSubmitOverride(c,e,f,g):a(d("PolarisPendingCommentActions").commitPendingComment(b.id,b.ownerId,b.analyticsContext,g))},onTypeaheadResultHighlight:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))}}}function e(a,b,c){return babelHelpers["extends"]({},a,b,c,{onCommentChange:function(c){return b.onCommentChange(c,a.repliedToCommentId,a.repliedToCommentAuthorId,a.repliedToUsername)}})}function f(){var a=d("react-compiler-runtime").c(2),b=c("usePolarisDisplayProperties")(),e;a[0]!==b.viewportHeight?(e={viewportHeight:b.viewportHeight},a[0]=b.viewportHeight,a[1]=e):e=a[1];return e}a=d("PolarisReactRedux.react").connect(a,b,e,{forwardRef:!0})(o);b=d("PolarisReactRedux.react").connectHooksWithRef(f)(a);g["default"]=b}),226);/*FB_PKG_DELIM*/
__d("BanzaiLogger",["cr:9989"],(function(a,b,c,d,e,f,g){function h(a){return{log:function(c,d){b("cr:9989").post("logger:"+c,d,a)},create:h}}a=h();c=a;g["default"]=c}),98);
__d("CubicBezier",[],(function(a,b,c,d,e,f){var g=.005;a=function(){function a(a,b){this.cx=3*a[0],this.bx=3*(b[0]-a[0])-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a[1],this.by=3*(b[1]-a[1])-this.cy,this.ay=1-this.cy-this.by}var b=a.prototype;b.sampleCurveX=function(a){return((this.ax*a+this.bx)*a+this.cx)*a};b.solve=function(a){a=this.solveCurveX(a);return((this.ay*a+this.by)*a+this.cy)*a};b.solveCurveX=function(a){var b,c,d,e;for(d=a,c=0;c<8;c++){e=this.sampleCurveX(d)-a;if(Math.abs(e)<g)return d;b=(3*this.ax*d+2*this.bx)*d+this.cx;if(Math.abs(b)<1e-6)break;d-=e/b}b=0;c=1;d=a;if(d<b)return b;if(d>c)return c;while(b<c){e=this.sampleCurveX(d);if(Math.abs(e-a)<g)return d;a>e?b=d:c=d;d=(c-b)/2+b}return d};return a}();f["default"]=a}),66);
__d("KFAnimationConstants",[],(function(a,b,c,d,e,f){"use strict";a={Bezier:0,Linear:1,Hold:2};b={MoveTo:0,LineTo:1,QuadTo:2,CubicTo:3,HorizontalLineTo:4,VerticalLineTo:5,CloseLineTo:6,SmoothQuadTo:7,CloseQuadTo:8,CloseSmoothQuadTo:9,SmoothCubicTo:10,CloseCubicTo:11,CloseSmoothCubicTo:12};f.TweenType=a;f.CommandType=b}),66);
__d("KFAnimatable",["KFAnimationConstants"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b?b.values:void 0,this.$3=b?b.keyframes:void 0,this.$4=b?b.tweens:void 0}var b=a.prototype;b.__interpolate=function(a,b,c){return b};b.setValue=function(a){this.$1=a};b.setValues=function(a){this.$2=a};b.setKeyframes=function(a){this.$3=a};b.setTweens=function(a){this.$4=a};b.getValueAtProgress=function(a){this.update(a);return this.$1};b.get=function(){return this.$1};b.update=function(a){if(!this.$2||a===this.$5)return;else if(this.$2&&this.$3&&this.$4){this.$5=a;var b=this.$2.length;if(a<=this.$3[0])this.$1=this.$2[0];else if(a>=this.$3[b-1])this.$1=this.$2[b-1];else{var c=0;b=b-1;while(c+1<b){var e=Math.floor((b-c)/2+c);this.$3[e]<a?c=e:b=e}e=(a-this.$3[c])/(this.$3[c+1]-this.$3[c]);this.$4[c].type===d("KFAnimationConstants").TweenType.Hold?b=0:this.$4[c].type===d("KFAnimationConstants").TweenType.Linear?b=e:b=this.$4[c].bezier.solve(e);this.$1=this.__interpolate(b,this.$2[c],this.$2[c+1])}}};return a}();g["default"]=a}),98);
__d("KFColor",["KFAnimatable"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c){b=a.call(this,b,c)||this;b.$KFColor$p_2=[0,0,0,0];b.$KFColor$p_1=b.$KFColor$p_2;return b}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.__interpolate=function(a,b,c){this.$KFColor$p_1=this.$KFColor$p_1!=null?this.$KFColor$p_1:this.$KFColor$p_2;return h(this.$KFColor$p_1,a,b,c)};return b}(c("KFAnimatable"));b=function(a){function b(b,c){b=a.call(this,b,c)||this;b.$KFColorArray$p_1=[];return b}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.__interpolate=function(a,b,c){this.$KFColorArray$p_1=this.$KFColorArray$p_1!=null?this.$KFColorArray$p_1:[];return i(this.$KFColorArray$p_1,a,b,c)};return b}(c("KFAnimatable"));function h(a,b,c,d){a===void 0&&(a=[0,0,0,0]);a[0]=(d[0]-c[0])*b+c[0];a[1]=(d[1]-c[1])*b+c[1];a[2]=(d[2]-c[2])*b+c[2];a[3]=(d[3]-c[3])*b+c[3];return a}function i(a,b,c,d){a===void 0&&(a=[]);var e=c.length;for(var f=0;f<e-1;f++)a[f]||(a[f]=[0,0,0,0]),h(a[f],b,c[f],d[f]);return a}g.KFColor=a;g.KFColorArray=b}),98);
__d("KFComponentNames",[],(function(a,b,c,d,e,f){"use strict";a="AUDIO";b="BITMAP";c="IMAGE";d="CHILDREN";e="COMPOSITING";var g="IDENTIFICATION",h="OPACITY",i="PARENT",j="RANDOM_SUBDOCUMENT",k="RANDOM_SUBDOCUMENT_CHILDREN",l="ROOT",m="SCENE",n="SHAPE",o="TIME",p="TRIM_PATH",q="TRANSFORM",r="VIDEO";f.AUDIO=a;f.BITMAP=b;f.CHILDREN=d;f.COMPOSITING=e;f.IMAGE=c;f.IDENTIFICATION=g;f.OPACITY=h;f.PARENT=i;f.RANDOM_SUBDOCUMENT=j;f.RANDOM_SUBDOCUMENT_CHILDREN=k;f.ROOT=l;f.SCENE=m;f.SHAPE=n;f.TIME=o;f.TRIM_PATH=p;f.TRANSFORM=q;f.VIDEO=r}),66);
__d("KFGradient",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i){this.type=a,this.colors=c,this.positions=b,this.rampStart=d,this.rampEnd=e,this.highlightAngle=f,this.highlightLength=g,this.colorStart=h,this.colorEnd=i}var b=a.prototype;b.update=function(a){var b;(b=this.colors)==null||b.update(a);(b=this.positions)==null||b.update(a);(b=this.rampStart)==null||b.update(a);(b=this.rampEnd)==null||b.update(a);(b=this.highlightAngle)==null||b.update(a);(b=this.highlightLength)==null||b.update(a);(b=this.colorStart)==null||b.update(a);(b=this.colorEnd)==null||b.update(a)};return a}();f["default"]=a}),66);
__d("KFLoaderUtils",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){for(var e=0;e<a.length;e++){var f=a[e],g=b.getComponent(f,d("KFComponentNames").CHILDREN);g=g==null?void 0:g.getChildren();g!=null&&h(g,b,c);c(f,e,a)}}function a(a,b){var c=a.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0];c=a.getComponent(c,d("KFComponentNames").SCENE);if(c==null)return;c=c.getEntities();h(c,a,b)}function b(a){a=a==null?void 0:a.duration();return a==null||a===0?1:a*1e3}function c(a){i.traverseEntitiesAndApply(a,function(b,c,e){if(c+1===e.length)return;e=e[c+1];c=a.getComponent(e,d("KFComponentNames").COMPOSITING);if((c==null?void 0:c.isTrackMatte)!==!0)return;c=a.getComponent(b,d("KFComponentNames").COMPOSITING);c==null&&(c=a.addComponent(b,d("KFComponentNames").COMPOSITING));c.trackMatteId=e.getID()})}var i={getDocumentDuration:b,maybeGenerateTrackMatteIDs:c,traverseEntitiesAndApply:a};e=i;g["default"]=e}),98);
__d("KFManifest",[],(function(a,b,c,d,e,f){"use strict";var g=[{name:"2D Transforms (translation, scale, rotate)"},{name:"Path"},{name:"Solid Fill"},{name:"Solid Stroke"},{name:"Linear Gradient Fill",moduleLoader:function(a){}},{name:"Radial Gradient Fill",moduleLoader:function(a){}},{name:"Bitmap"},{name:"Sublayers"},{name:"Subdocuments"},{name:"Time Offset"},{name:"Masking (clipping path)",moduleLoader:function(a){}},{name:"Alpha Mattes",moduleLoader:function(a){}},{name:"Plugins",isDeprecated:!0},{name:"Sound",moduleLoader:function(a){}},{name:"Random Precomp",moduleLoader:function(a){}},{name:"TrimPath",moduleLoader:function(a){}},{name:"LayerName"},{name:"LayerTags"},{name:"SubdocumentSwap",moduleLoader:function(a){}},{name:"DynamicProperties",moduleLoader:function(a){}},{name:"Vector Composite Order"},{name:"Progress Markers",moduleLoader:function(a){}}];function a(a,b){for(var c=0;c<g.length;c++)a&Math.pow(2,c)&&(g[c].moduleLoader&&g[c].moduleLoader(b))}f["default"]=a}),66);
__d("KFPath2d",["KFAnimatable"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c){b=a.call(this,b,c)||this;b.$KFPath2d$p_1=[];return b}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.__interpolate=function(a,b,c){this.$KFPath2d$p_1=this.$KFPath2d$p_1!=null?this.$KFPath2d$p_1:[];for(var d=0;d<b.length;d++){var e={type:b[d].type,point:[0,0],c1:[0,0],c2:[0,0]};e.point[0]=(c[d].point[0]-b[d].point[0])*a+b[d].point[0];e.point[1]=(c[d].point[1]-b[d].point[1])*a+b[d].point[1];b[d].c1&&(e.c1[0]=(c[d].c1[0]-b[d].c1[0])*a+b[d].c1[0],e.c1[1]=(c[d].c1[1]-b[d].c1[1])*a+b[d].c1[1]);b[d].c2&&(e.c2[0]=(c[d].c2[0]-b[d].c2[0])*a+b[d].c2[0],e.c2[1]=(c[d].c2[1]-b[d].c2[1])*a+b[d].c2[1]);this.$KFPath2d$p_1[d]=e}return this.$KFPath2d$p_1};return b}(c("KFAnimatable"));g["default"]=a}),98);
__d("KFPoint",["KFAnimatable"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c){b=a.call(this,b,c)||this;b.$KFPoint$p_1=[0,0];return b}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.__interpolate=function(a,b,c){this.$KFPoint$p_1=this.$KFPoint$p_1||[0,0];return h(this.$KFPoint$p_1,a,b,c)};return b}(c("KFAnimatable"));b=function(a){function b(b,c){b=a.call(this,b,c)||this;b.$KFPointArray$p_1=[];return b}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.__interpolate=function(a,b,c){this.$KFPointArray$p_1=this.$KFPointArray$p_1||[];return i(this.$KFPointArray$p_1,a,b,c)};return b}(c("KFAnimatable"));function h(a,b,c,d){a===void 0&&(a=[0,0]);a[0]=(d[0]-c[0])*b+c[0];a[1]=(d[1]-c[1])*b+c[1];return a}function i(a,b,c,d){a===void 0&&(a=[]);var e=c.length;for(var f=0;f<e-1;f++)h(a[f],b,c[f],d[f]);return a}g.KeyframesVec2=a;g.KFPoint=a;g.KFPointArray=b;g._interpolatePoint=h}),98);
__d("KFAnimationUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b}function b(a,b,c){return(c-b)*a+b}function c(a,b,c,d,e,f,g){return e*d+2*c*a*f+b*g}function d(a,b,c,d,e,f,g,h){return e*d*c+f*3*d*a+g*3*c*b+h*b*a}f.hold=a;f.identityFunction=a;f.linearInterpolation=b;f.quadraticInterpolation=c;f.cubicInterpolation=d;f.lerp=b}),66);
__d("KFPosition",["KFAnimationConstants","KFAnimationUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c,this.$4=[0,0],this.$3&&(this.$3.__interpolate=i)}var b=a.prototype;b.getValueAtProgress=function(a){if(this.$3){var b=this.$3.getValueAtProgress(a);b&&(this.$4[0]=b.point[0],this.$4[1]=b.point[1])}else this.$4[0]=this.$1?this.$1.getValueAtProgress(a):0,this.$4[1]=this.$2.getValueAtProgress(a);return this.$4};return a}();var h={point:[0,0]};function i(a,b,c){var e=a*a,f=1-a,g=f*f;switch(c.type){case d("KFAnimationConstants").CommandType.LineTo:h.point[0]=d("KFAnimationUtils").lerp(a,b.point[0],c.point[0]);h.point[1]=d("KFAnimationUtils").lerp(a,b.point[1],c.point[1]);break;case d("KFAnimationConstants").CommandType.QuadTo:h.point[0]=d("KFAnimationUtils").quadraticInterpolation(a,e,f,g,b.point[0],c.c1[0],c.point[0]);h.point[1]=d("KFAnimationUtils").quadraticInterpolation(a,e,f,g,b.point[1],c.c1[1],c.point[1]);break;case d("KFAnimationConstants").CommandType.CubicTo:h.point[0]=d("KFAnimationUtils").cubicInterpolation(a,e,f,g,b.point[0],c.c1[0],c.c2[0],c.point[0]);h.point[1]=d("KFAnimationUtils").cubicInterpolation(a,e,f,g,b.point[1],c.c1[1],c.c2[1],c.point[1]);break}return h}g["default"]=a}),98);
__d("KFScalar",["KFAnimatable"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c){return a.call(this,b,c)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.__interpolate=function(a,b,c){return(c-b)*a+b};return b}(c("KFAnimatable"));b=function(a){function b(b,c){b=a.call(this,b,c)||this;b.$KFScalarArray$p_1=[];return b}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.__interpolate=function(a,b,c){this.$KFScalarArray$p_1=this.$KFScalarArray$p_1!=null?this.$KFScalarArray$p_1:[];for(var d=0;d<b.length;d++)this.$KFScalarArray$p_1[d]=(c[d]-b[d])*a+b[d];return this.$KFScalarArray$p_1};return b}(c("KFAnimatable"));g.KFScalar=a;g.KFScalarArray=b}),98);
__d("KeyframesPluginLogger",["BanzaiLogger","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h="KeyframesFramePerfLoggerConfig",i={appid:256281040558,isemployee:c("CurrentUser").isEmployee()?1:0},j={LOAD_ATTEMPT:"plugin_load_attempt",LOAD_ATTEMPT_KF3:"plugin_load_attempt_compat"};function k(a,b){if(a==null)return;a.forEach(function(a){c("BanzaiLogger").log(h,babelHelpers["extends"]({},i,{name:b,extras:a}))})}a={log:function(a){k(a,j.LOAD_ATTEMPT)},logCompat:function(a){k(a,j.LOAD_ATTEMPT_KF3)}};g.KeyframesPluginLogger=a}),98);
__d("KeyframesCompatPluginsLoader",["Bootloader","FBLogger","KeyframesPluginLogger","Promise","flatbuffers"],(function(a,b,c,d,e,f,g){"use strict";var h,i={TrimPath:function(a){return c("Bootloader").loadModules(["KeyframesCompatPluginTrimPath","KeyframesPluginTrimPathSchema"],a,"KeyframesCompatPluginsLoader")},RandomSubdocument:function(a){return c("Bootloader").loadModules(["KeyframesCompatPluginRandomSubdocument","KeyframesPluginRandomSubdocumentSchema"],a,"KeyframesCompatPluginsLoader")}};function j(a,b){if(i[a]==null){c("FBLogger")("KeyframesCompatPluginsLoader").warn("Attempted to load undefined module: %s",a);return null}return i[a](b)}function k(a){a=a.map(function(a){return new(h||(h=b("Promise")))(function(b,c){var d=j(a,function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];b(c)});d||c("Error when loading plugin "+a)})});return(h||(h=b("Promise"))).allSettled(a)}a=function(){function a(a,b,c){this.$2={},this.$4=a,this.$3=b,this.$1=c,this.$2={}}a.fromPluginTable=function(b,c){d("KeyframesPluginLogger").KeyframesPluginLogger.logCompat(b);return k(b).then(function(d){d=d.filter(function(a){return a.status==="fulfilled"}).map(function(a){return a.value}).filter(Boolean);return new a(b,d,c)})["catch"](function(){return null})};var b=a.prototype;b.maybeInstantiatePluginsForLayer=function(a,b){if(a==null)return;var c=a.pluginsLength();if(c==null||c===0)return;var e=a.id();e=e+"-"+b.getID();if(this.$2[e]===!0)return;for(var f=0;f<c;f++){var g=a.plugins(f),h=g.index(),i=this.$3[h];if(i==null)continue;g=new(d("flatbuffers").ByteBuffer)(g.contentArray());var j=i[0];i=i[1];h="getRootAsPlugin"+this.$4[h];i=i[h](g);h=new j(i,a,this.$1);h.animationDidLoadCompat(b)}this.$2[e]=!0};return a}();g["default"]=a}),98);
__d("KeyframesSchema",[],(function(a,b,c,d,e,f){var g=g||{};g.keyframes=g.keyframes||{};g.keyframes.CommandType={MoveTo:0,LineTo:1,QuadTo:2,CubicTo:3};g.keyframes.CommandTypeName={0:"MoveTo",1:"LineTo",2:"QuadTo",3:"CubicTo"};g.keyframes.TweenType={Bezier:0,Linear:1,Hold:2};g.keyframes.TweenTypeName={0:"Bezier",1:"Linear",2:"Hold"};g.keyframes.VectorCompositeOrder={FillStroke:0,StrokeFill:1};g.keyframes.VectorCompositeOrderName={0:"FillStroke",1:"StrokeFill"};g.keyframes.StrokeLineCap={Butt:0,Round:1,Square:2};g.keyframes.StrokeLineCapName={0:"Butt",1:"Round",2:"Square"};g.keyframes.StrokeLineJoin={Miter:0,Round:1,Bevel:2};g.keyframes.StrokeLineJoinName={0:"Miter",1:"Round",2:"Bevel"};g.keyframes.TrackMatteType={None:0,Alpha:1,Alpha_Inverted:2};g.keyframes.TrackMatteTypeName={0:"None",1:"Alpha",2:"Alpha_Inverted"};g.keyframes.GradientType={Linear:0,Radial:1};g.keyframes.GradientTypeName={0:"Linear",1:"Radial"};g.keyframes.TextWeight={Thin:0,UltraLight:1,Light:2,Book:3,Medium:4,SemiBold:5,Bold:6,UltraBold:7,Heavy:8,UltraHeavy:9};g.keyframes.TextWeightName={0:"Thin",1:"UltraLight",2:"Light",3:"Book",4:"Medium",5:"SemiBold",6:"Bold",7:"UltraBold",8:"Heavy",9:"UltraHeavy"};g.keyframes.Size=function(){this.bb=null,this.bb_pos=0};g.keyframes.Size.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Size.prototype.width=function(){return this.bb.readFloat32(this.bb_pos)};g.keyframes.Size.prototype.mutate_width=function(a){var b=this.bb.__offset(this.bb_pos,0);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Size.prototype.height=function(){return this.bb.readFloat32(this.bb_pos+4)};g.keyframes.Size.prototype.mutate_height=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Size.createSize=function(a,b,c){a.prep(4,8);a.writeFloat32(c);a.writeFloat32(b);return a.offset()};g.keyframes.Point=function(){this.bb=null,this.bb_pos=0};g.keyframes.Point.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Point.getRootAsPoint=function(a,b){return(b||new g.keyframes.Point()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Point.prototype.x=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Point.prototype.mutate_x=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Point.prototype.y=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Point.prototype.mutate_y=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Point.startPoint=function(a){a.startObject(2)};g.keyframes.Point.addX=function(a,b){a.addFieldFloat32(0,b,0)};g.keyframes.Point.addY=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.Point.endPoint=function(a){a=a.endObject();return a};g.keyframes.Point.createPoint=function(a,b,c){g.keyframes.Point.startPoint(a);g.keyframes.Point.addX(a,b);g.keyframes.Point.addY(a,c);return g.keyframes.Point.endPoint(a)};g.keyframes.Color=function(){this.bb=null,this.bb_pos=0};g.keyframes.Color.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Color.getRootAsColor=function(a,b){return(b||new g.keyframes.Color()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Color.prototype.red=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_red=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.green=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_green=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.blue=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_blue=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.alpha=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readUint8(this.bb_pos+a):255};g.keyframes.Color.prototype.mutate_alpha=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.startColor=function(a){a.startObject(4)};g.keyframes.Color.addRed=function(a,b){a.addFieldInt8(0,b,0)};g.keyframes.Color.addGreen=function(a,b){a.addFieldInt8(1,b,0)};g.keyframes.Color.addBlue=function(a,b){a.addFieldInt8(2,b,0)};g.keyframes.Color.addAlpha=function(a,b){a.addFieldInt8(3,b,255)};g.keyframes.Color.endColor=function(a){a=a.endObject();return a};g.keyframes.Color.createColor=function(a,b,c,d,e){g.keyframes.Color.startColor(a);g.keyframes.Color.addRed(a,b);g.keyframes.Color.addGreen(a,c);g.keyframes.Color.addBlue(a,d);g.keyframes.Color.addAlpha(a,e);return g.keyframes.Color.endColor(a)};g.keyframes.ColorArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArray.getRootAsColorArray=function(a,b){return(b||new g.keyframes.ColorArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArray.prototype.colors=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArray.prototype.colorsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArray.startColorArray=function(a){a.startObject(1)};g.keyframes.ColorArray.addColors=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArray.createColorsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArray.startColorsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArray.endColorArray=function(a){a=a.endObject();return a};g.keyframes.ColorArray.createColorArray=function(a,b){g.keyframes.ColorArray.startColorArray(a);g.keyframes.ColorArray.addColors(a,b);return g.keyframes.ColorArray.endColorArray(a)};g.keyframes.Command=function(){this.bb=null,this.bb_pos=0};g.keyframes.Command.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Command.getRootAsCommand=function(a,b){return(b||new g.keyframes.Command()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Command.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.CommandType.MoveTo};g.keyframes.Command.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Command.prototype.point=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.prototype.control1=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.prototype.control2=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.startCommand=function(a){a.startObject(4)};g.keyframes.Command.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.CommandType.MoveTo)};g.keyframes.Command.addPoint=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Command.addControl1=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Command.addControl2=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Command.endCommand=function(a){a=a.endObject();return a};g.keyframes.Command.createCommand=function(a,b,c,d,e){g.keyframes.Command.startCommand(a);g.keyframes.Command.addType(a,b);g.keyframes.Command.addPoint(a,c);g.keyframes.Command.addControl1(a,d);g.keyframes.Command.addControl2(a,e);return g.keyframes.Command.endCommand(a)};g.keyframes.Path=function(){this.bb=null,this.bb_pos=0};g.keyframes.Path.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Path.getRootAsPath=function(a,b){return(b||new g.keyframes.Path()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Path.prototype.commands=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Command()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Path.prototype.commandsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Path.startPath=function(a){a.startObject(1)};g.keyframes.Path.addCommands=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Path.createCommandsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Path.startCommandsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Path.endPath=function(a){a=a.endObject();return a};g.keyframes.Path.createPath=function(a,b){g.keyframes.Path.startPath(a);g.keyframes.Path.addCommands(a,b);return g.keyframes.Path.endPath(a)};g.keyframes.Tween=function(){this.bb=null,this.bb_pos=0};g.keyframes.Tween.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Tween.getRootAsTween=function(a,b){return(b||new g.keyframes.Tween()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Tween.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TweenType.Bezier};g.keyframes.Tween.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Tween.prototype.control1=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Tween.prototype.control2=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Tween.startTween=function(a){a.startObject(3)};g.keyframes.Tween.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.TweenType.Bezier)};g.keyframes.Tween.addControl1=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Tween.addControl2=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Tween.endTween=function(a){a=a.endObject();return a};g.keyframes.Tween.createTween=function(a,b,c,d){g.keyframes.Tween.startTween(a);g.keyframes.Tween.addType(a,b);g.keyframes.Tween.addControl1(a,c);g.keyframes.Tween.addControl2(a,d);return g.keyframes.Tween.endTween(a)};g.keyframes.ScalarAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarAnimation.getRootAsScalarAnimation=function(a,b){return(b||new g.keyframes.ScalarAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarAnimation.prototype.value=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.mutate_value=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ScalarAnimation.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.startScalarAnimation=function(a){a.startObject(4)};g.keyframes.ScalarAnimation.addValue=function(a,b){a.addFieldFloat32(0,b,0)};g.keyframes.ScalarAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ScalarAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.endScalarAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarAnimation.createScalarAnimation=function(a,b,c,d,e){g.keyframes.ScalarAnimation.startScalarAnimation(a);g.keyframes.ScalarAnimation.addValue(a,b);g.keyframes.ScalarAnimation.addValues(a,c);g.keyframes.ScalarAnimation.addKeyframes(a,d);g.keyframes.ScalarAnimation.addTweens(a,e);return g.keyframes.ScalarAnimation.endScalarAnimation(a)};g.keyframes.ScalarArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArray.getRootAsScalarArray=function(a,b){return(b||new g.keyframes.ScalarArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArray.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArray.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArray.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArray.startScalarArray=function(a){a.startObject(1)};g.keyframes.ScalarArray.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArray.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArray.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArray.endScalarArray=function(a){a=a.endObject();return a};g.keyframes.ScalarArray.createScalarArray=function(a,b){g.keyframes.ScalarArray.startScalarArray(a);g.keyframes.ScalarArray.addValues(a,b);return g.keyframes.ScalarArray.endScalarArray(a)};g.keyframes.ScalarArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArrayAnimation.getRootAsScalarArrayAnimation=function(a,b){return(b||new g.keyframes.ScalarArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArrayAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ScalarArray()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.ScalarArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation=function(a){a.startObject(4)};g.keyframes.ScalarArrayAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArrayAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ScalarArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarArrayAnimation.createScalarArrayAnimation=function(a,b,c,d,e){g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation(a);g.keyframes.ScalarArrayAnimation.addValue(a,b);g.keyframes.ScalarArrayAnimation.addValues(a,c);g.keyframes.ScalarArrayAnimation.addKeyframes(a,d);g.keyframes.ScalarArrayAnimation.addTweens(a,e);return g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation(a)};g.keyframes.PointAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PointAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PointAnimation.getRootAsPointAnimation=function(a,b){return(b||new g.keyframes.PointAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PointAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.PointAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PointAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PointAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PointAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PointAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.startPointAnimation=function(a){a.startObject(4)};g.keyframes.PointAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PointAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PointAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PointAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PointAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PointAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.PointAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PointAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.endPointAnimation=function(a){a=a.endObject();return a};g.keyframes.PointAnimation.createPointAnimation=function(a,b,c,d,e){g.keyframes.PointAnimation.startPointAnimation(a);g.keyframes.PointAnimation.addValue(a,b);g.keyframes.PointAnimation.addValues(a,c);g.keyframes.PointAnimation.addKeyframes(a,d);g.keyframes.PointAnimation.addTweens(a,e);return g.keyframes.PointAnimation.endPointAnimation(a)};g.keyframes.ColorAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorAnimation.getRootAsColorAnimation=function(a,b){return(b||new g.keyframes.ColorAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ColorAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.startColorAnimation=function(a){a.startObject(4)};g.keyframes.ColorAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ColorAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.endColorAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorAnimation.createColorAnimation=function(a,b,c,d,e){g.keyframes.ColorAnimation.startColorAnimation(a);g.keyframes.ColorAnimation.addValue(a,b);g.keyframes.ColorAnimation.addValues(a,c);g.keyframes.ColorAnimation.addKeyframes(a,d);g.keyframes.ColorAnimation.addTweens(a,e);return g.keyframes.ColorAnimation.endColorAnimation(a)};g.keyframes.ColorArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArrayAnimation.getRootAsColorArrayAnimation=function(a,b){return(b||new g.keyframes.ColorArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArrayAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ColorArray()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.ColorArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.startColorArrayAnimation=function(a){a.startObject(4)};g.keyframes.ColorArrayAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArrayAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ColorArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.endColorArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorArrayAnimation.createColorArrayAnimation=function(a,b,c,d,e){g.keyframes.ColorArrayAnimation.startColorArrayAnimation(a);g.keyframes.ColorArrayAnimation.addValue(a,b);g.keyframes.ColorArrayAnimation.addValues(a,c);g.keyframes.ColorArrayAnimation.addKeyframes(a,d);g.keyframes.ColorArrayAnimation.addTweens(a,e);return g.keyframes.ColorArrayAnimation.endColorArrayAnimation(a)};g.keyframes.PathAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PathAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PathAnimation.getRootAsPathAnimation=function(a,b){return(b||new g.keyframes.PathAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PathAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.PathAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PathAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PathAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.startPathAnimation=function(a){a.startObject(4)};g.keyframes.PathAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PathAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PathAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PathAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PathAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.PathAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.endPathAnimation=function(a){a=a.endObject();return a};g.keyframes.PathAnimation.createPathAnimation=function(a,b,c,d,e){g.keyframes.PathAnimation.startPathAnimation(a);g.keyframes.PathAnimation.addValue(a,b);g.keyframes.PathAnimation.addValues(a,c);g.keyframes.PathAnimation.addKeyframes(a,d);g.keyframes.PathAnimation.addTweens(a,e);return g.keyframes.PathAnimation.endPathAnimation(a)};g.keyframes.Gradient=function(){this.bb=null,this.bb_pos=0};g.keyframes.Gradient.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Gradient.getRootAsGradient=function(a,b){return(b||new g.keyframes.Gradient()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Gradient.prototype.colorStart=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.colorEnd=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.rampStart=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.rampEnd=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.GradientType.Linear};g.keyframes.Gradient.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,12);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Gradient.prototype.colors=function(a){var b=this.bb.__offset(this.bb_pos,14);return b?(a||new g.keyframes.ColorArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.positions=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?(a||new g.keyframes.ScalarArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightLength=function(a){var b=this.bb.__offset(this.bb_pos,18);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightAngle=function(a){var b=this.bb.__offset(this.bb_pos,20);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.startGradient=function(a){a.startObject(9)};g.keyframes.Gradient.addColorStart=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Gradient.addColorEnd=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Gradient.addRampStart=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Gradient.addRampEnd=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Gradient.addType=function(a,b){a.addFieldInt8(4,b,g.keyframes.GradientType.Linear)};g.keyframes.Gradient.addColors=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Gradient.addPositions=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Gradient.addHighlightLength=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Gradient.addHighlightAngle=function(a,b){a.addFieldOffset(8,b,0)};g.keyframes.Gradient.endGradient=function(a){a=a.endObject();return a};g.keyframes.Gradient.createGradient=function(a,b,c,d,e,f,h,i,j,k){g.keyframes.Gradient.startGradient(a);g.keyframes.Gradient.addColorStart(a,b);g.keyframes.Gradient.addColorEnd(a,c);g.keyframes.Gradient.addRampStart(a,d);g.keyframes.Gradient.addRampEnd(a,e);g.keyframes.Gradient.addType(a,f);g.keyframes.Gradient.addColors(a,h);g.keyframes.Gradient.addPositions(a,i);g.keyframes.Gradient.addHighlightLength(a,j);g.keyframes.Gradient.addHighlightAngle(a,k);return g.keyframes.Gradient.endGradient(a)};g.keyframes.Bitmap=function(){this.bb=null,this.bb_pos=0};g.keyframes.Bitmap.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Bitmap.getRootAsBitmap=function(a,b){return(b||new g.keyframes.Bitmap()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Bitmap.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Bitmap.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Bitmap.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Bitmap.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Bitmap.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Bitmap.startBitmap=function(a){a.startObject(3)};g.keyframes.Bitmap.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Bitmap.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Bitmap.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Bitmap.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Bitmap.addName=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Bitmap.endBitmap=function(a){a=a.endObject();return a};g.keyframes.Bitmap.createBitmap=function(a,b,c,d){g.keyframes.Bitmap.startBitmap(a);g.keyframes.Bitmap.addSize(a,b);g.keyframes.Bitmap.addContent(a,c);g.keyframes.Bitmap.addName(a,d);return g.keyframes.Bitmap.endBitmap(a)};g.keyframes.Video=function(){this.bb=null,this.bb_pos=0};g.keyframes.Video.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Video.getRootAsVideo=function(a,b){return(b||new g.keyframes.Video()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Video.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Video.prototype.length=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Video.prototype.mutate_length=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Video.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Video.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Video.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Video.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Video.startVideo=function(a){a.startObject(4)};g.keyframes.Video.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Video.addLength=function(a,b){a.addFieldInt32(1,b,0)};g.keyframes.Video.addContent=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Video.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Video.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Video.addName=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Video.endVideo=function(a){a=a.endObject();return a};g.keyframes.Video.createVideo=function(a,b,c,d,e){g.keyframes.Video.startVideo(a);g.keyframes.Video.addSize(a,b);g.keyframes.Video.addLength(a,c);g.keyframes.Video.addContent(a,d);g.keyframes.Video.addName(a,e);return g.keyframes.Video.endVideo(a)};g.keyframes.Plugin=function(){this.bb=null,this.bb_pos=0};g.keyframes.Plugin.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Plugin.getRootAsPlugin=function(a,b){return(b||new g.keyframes.Plugin()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Plugin.prototype.index=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Plugin.prototype.mutate_index=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Plugin.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Plugin.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Plugin.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Plugin.prototype.optional=function(){var a=this.bb.__offset(this.bb_pos,8);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Plugin.prototype.mutate_optional=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Plugin.startPlugin=function(a){a.startObject(3)};g.keyframes.Plugin.addIndex=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Plugin.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Plugin.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Plugin.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Plugin.addOptional=function(a,b){a.addFieldInt8(2,+b,0)};g.keyframes.Plugin.endPlugin=function(a){a=a.endObject();return a};g.keyframes.Plugin.createPlugin=function(a,b,c,d){g.keyframes.Plugin.startPlugin(a);g.keyframes.Plugin.addIndex(a,b);g.keyframes.Plugin.addContent(a,c);g.keyframes.Plugin.addOptional(a,d);return g.keyframes.Plugin.endPlugin(a)};g.keyframes.ProgressMarker=function(){this.bb=null,this.bb_pos=0};g.keyframes.ProgressMarker.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ProgressMarker.getRootAsProgressMarker=function(a,b){return(b||new g.keyframes.ProgressMarker()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ProgressMarker.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.ProgressMarker.prototype.startProgress=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.prototype.mutate_start_progress=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ProgressMarker.prototype.endProgress=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.prototype.mutate_end_progress=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ProgressMarker.startProgressMarker=function(a){a.startObject(3)};g.keyframes.ProgressMarker.addName=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ProgressMarker.addStartProgress=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.ProgressMarker.addEndProgress=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.ProgressMarker.endProgressMarker=function(a){a=a.endObject();return a};g.keyframes.ProgressMarker.createProgressMarker=function(a,b,c,d){g.keyframes.ProgressMarker.startProgressMarker(a);g.keyframes.ProgressMarker.addName(a,b);g.keyframes.ProgressMarker.addStartProgress(a,c);g.keyframes.ProgressMarker.addEndProgress(a,d);return g.keyframes.ProgressMarker.endProgressMarker(a)};g.keyframes.Layer=function(){this.bb=null,this.bb_pos=0};g.keyframes.Layer.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Layer.getRootAsLayer=function(a,b){return(b||new g.keyframes.Layer()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Layer.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_id=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.sublayers=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.sublayersLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.fromProgress=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_from_progress=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.toProgress=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readFloat32(this.bb_pos+a):1};g.keyframes.Layer.prototype.mutate_to_progress=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.anchorPoint=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.xPosition=function(a){var b=this.bb.__offset(this.bb_pos,14);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.yPosition=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.rotation=function(a){var b=this.bb.__offset(this.bb_pos,18);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.scale=function(a){var b=this.bb.__offset(this.bb_pos,20);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.path=function(a){var b=this.bb.__offset(this.bb_pos,22);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.opacity=function(a){var b=this.bb.__offset(this.bb_pos,24);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.fillColor=function(a){var b=this.bb.__offset(this.bb_pos,26);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeColor=function(a){var b=this.bb.__offset(this.bb_pos,28);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeWidth=function(a){var b=this.bb.__offset(this.bb_pos,30);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeLineCap=function(){var a=this.bb.__offset(this.bb_pos,32);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineCap.Butt};g.keyframes.Layer.prototype.mutate_stroke_line_cap=function(a){var b=this.bb.__offset(this.bb_pos,32);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.gradient=function(a){var b=this.bb.__offset(this.bb_pos,34);return b?(a||new g.keyframes.Gradient()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeLineJoin=function(){var a=this.bb.__offset(this.bb_pos,36);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineJoin.Miter};g.keyframes.Layer.prototype.mutate_stroke_line_join=function(a){var b=this.bb.__offset(this.bb_pos,36);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.miterLimit=function(a){var b=this.bb.__offset(this.bb_pos,38);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.bitmapIndex=function(){var a=this.bb.__offset(this.bb_pos,40);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_bitmap_index=function(a){var b=this.bb.__offset(this.bb_pos,40);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.subdocumentIndex=function(){var a=this.bb.__offset(this.bb_pos,42);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_subdocument_index=function(a){var b=this.bb.__offset(this.bb_pos,42);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.plugins=function(a,b){var c=this.bb.__offset(this.bb_pos,44);return c?(b||new g.keyframes.Plugin()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.pluginsLength=function(){var a=this.bb.__offset(this.bb_pos,44);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.progressOffset=function(){var a=this.bb.__offset(this.bb_pos,46);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_progress_offset=function(a){var b=this.bb.__offset(this.bb_pos,46);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.clippingPath=function(a){var b=this.bb.__offset(this.bb_pos,48);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.position=function(a){var b=this.bb.__offset(this.bb_pos,50);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.isTrackMatte=function(){var a=this.bb.__offset(this.bb_pos,52);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.mutate_is_track_matte=function(a){var b=this.bb.__offset(this.bb_pos,52);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.trackMatteType=function(){var a=this.bb.__offset(this.bb_pos,54);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TrackMatteType.None};g.keyframes.Layer.prototype.mutate_track_matte_type=function(a){var b=this.bb.__offset(this.bb_pos,54);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.vectorCompositeOrder=function(){var a=this.bb.__offset(this.bb_pos,56);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.VectorCompositeOrder.FillStroke};g.keyframes.Layer.prototype.mutate_vector_composite_order=function(a){var b=this.bb.__offset(this.bb_pos,56);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.text=function(a){var b=this.bb.__offset(this.bb_pos,58);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textTypeface=function(a){var b=this.bb.__offset(this.bb_pos,60);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textSize=function(){var a=this.bb.__offset(this.bb_pos,62);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textSize=function(a){var b=this.bb.__offset(this.bb_pos,62);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textColor=function(a){var b=this.bb.__offset(this.bb_pos,64);return b?(a||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.textAlign=function(){var a=this.bb.__offset(this.bb_pos,66);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textAlign=function(a){var b=this.bb.__offset(this.bb_pos,66);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textVAlign=function(){var a=this.bb.__offset(this.bb_pos,68);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textVAlign=function(a){var b=this.bb.__offset(this.bb_pos,68);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textTracking=function(){var a=this.bb.__offset(this.bb_pos,70);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textTracking=function(a){var b=this.bb.__offset(this.bb_pos,70);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textLeading=function(){var a=this.bb.__offset(this.bb_pos,72);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textLeading=function(a){var b=this.bb.__offset(this.bb_pos,72);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textItalic=function(){var a=this.bb.__offset(this.bb_pos,74);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.mutate_textItalic=function(a){var b=this.bb.__offset(this.bb_pos,74);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textWeight=function(){var a=this.bb.__offset(this.bb_pos,76);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TextWeight.Thin};g.keyframes.Layer.prototype.mutate_textWeight=function(a){var b=this.bb.__offset(this.bb_pos,76);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textBoxSize=function(a){var b=this.bb.__offset(this.bb_pos,78);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.videoLevels=function(a,b){var c=this.bb.__offset(this.bb_pos,80);return c?(b||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.videoLevelsLength=function(){var a=this.bb.__offset(this.bb_pos,80);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.videoIndex=function(){var a=this.bb.__offset(this.bb_pos,82);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_video_index=function(a){var b=this.bb.__offset(this.bb_pos,82);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.startLayer=function(a){a.startObject(40)};g.keyframes.Layer.addId=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Layer.addSublayers=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Layer.createSublayersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startSublayersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addFromProgress=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.Layer.addToProgress=function(a,b){a.addFieldFloat32(3,b,1)};g.keyframes.Layer.addAnchorPoint=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Layer.addXPosition=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Layer.addYPosition=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Layer.addRotation=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Layer.addScale=function(a,b){a.addFieldOffset(8,b,0)};g.keyframes.Layer.addPath=function(a,b){a.addFieldOffset(9,b,0)};g.keyframes.Layer.addOpacity=function(a,b){a.addFieldOffset(10,b,0)};g.keyframes.Layer.addFillColor=function(a,b){a.addFieldOffset(11,b,0)};g.keyframes.Layer.addStrokeColor=function(a,b){a.addFieldOffset(12,b,0)};g.keyframes.Layer.addStrokeWidth=function(a,b){a.addFieldOffset(13,b,0)};g.keyframes.Layer.addStrokeLineCap=function(a,b){a.addFieldInt8(14,b,g.keyframes.StrokeLineCap.Butt)};g.keyframes.Layer.addGradient=function(a,b){a.addFieldOffset(15,b,0)};g.keyframes.Layer.addStrokeLineJoin=function(a,b){a.addFieldInt8(16,b,g.keyframes.StrokeLineJoin.Miter)};g.keyframes.Layer.addMiterLimit=function(a,b){a.addFieldOffset(17,b,0)};g.keyframes.Layer.addBitmapIndex=function(a,b){a.addFieldInt32(18,b,-1)};g.keyframes.Layer.addSubdocumentIndex=function(a,b){a.addFieldInt32(19,b,-1)};g.keyframes.Layer.addPlugins=function(a,b){a.addFieldOffset(20,b,0)};g.keyframes.Layer.createPluginsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startPluginsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addProgressOffset=function(a,b){a.addFieldFloat32(21,b,0)};g.keyframes.Layer.addClippingPath=function(a,b){a.addFieldOffset(22,b,0)};g.keyframes.Layer.addPosition=function(a,b){a.addFieldOffset(23,b,0)};g.keyframes.Layer.addIsTrackMatte=function(a,b){a.addFieldInt8(24,+b,0)};g.keyframes.Layer.addTrackMatteType=function(a,b){a.addFieldInt8(25,b,g.keyframes.TrackMatteType.None)};g.keyframes.Layer.addVectorCompositeOrder=function(a,b){a.addFieldInt8(26,b,g.keyframes.VectorCompositeOrder.FillStroke)};g.keyframes.Layer.addText=function(a,b){a.addFieldOffset(27,b,0)};g.keyframes.Layer.addTextTypeface=function(a,b){a.addFieldOffset(28,b,0)};g.keyframes.Layer.addTextSize=function(a,b){a.addFieldFloat32(29,b,0)};g.keyframes.Layer.addTextColor=function(a,b){a.addFieldOffset(30,b,0)};g.keyframes.Layer.addTextAlign=function(a,b){a.addFieldFloat32(31,b,0)};g.keyframes.Layer.addTextVAlign=function(a,b){a.addFieldFloat32(32,b,0)};g.keyframes.Layer.addTextTracking=function(a,b){a.addFieldFloat32(33,b,0)};g.keyframes.Layer.addTextLeading=function(a,b){a.addFieldFloat32(34,b,0)};g.keyframes.Layer.addTextItalic=function(a,b){a.addFieldInt8(35,+b,0)};g.keyframes.Layer.addTextWeight=function(a,b){a.addFieldInt8(36,b,g.keyframes.TextWeight.Thin)};g.keyframes.Layer.addTextBoxSize=function(a,b){a.addFieldStruct(37,b,0)};g.keyframes.Layer.addVideoLevels=function(a,b){a.addFieldOffset(38,b,0)};g.keyframes.Layer.createVideoLevelsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startVideoLevelsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addVideoIndex=function(a,b){a.addFieldInt32(39,b,-1)};g.keyframes.Layer.endLayer=function(a){a=a.endObject();return a};g.keyframes.Layer.createLayer=function(a,b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P){g.keyframes.Layer.startLayer(a);g.keyframes.Layer.addId(a,b);g.keyframes.Layer.addSublayers(a,c);g.keyframes.Layer.addFromProgress(a,d);g.keyframes.Layer.addToProgress(a,e);g.keyframes.Layer.addAnchorPoint(a,f);g.keyframes.Layer.addXPosition(a,h);g.keyframes.Layer.addYPosition(a,i);g.keyframes.Layer.addRotation(a,j);g.keyframes.Layer.addScale(a,k);g.keyframes.Layer.addPath(a,l);g.keyframes.Layer.addOpacity(a,m);g.keyframes.Layer.addFillColor(a,n);g.keyframes.Layer.addStrokeColor(a,o);g.keyframes.Layer.addStrokeWidth(a,p);g.keyframes.Layer.addStrokeLineCap(a,q);g.keyframes.Layer.addGradient(a,r);g.keyframes.Layer.addStrokeLineJoin(a,s);g.keyframes.Layer.addMiterLimit(a,t);g.keyframes.Layer.addBitmapIndex(a,u);g.keyframes.Layer.addSubdocumentIndex(a,v);g.keyframes.Layer.addPlugins(a,w);g.keyframes.Layer.addProgressOffset(a,x);g.keyframes.Layer.addClippingPath(a,y);g.keyframes.Layer.addPosition(a,z);g.keyframes.Layer.addIsTrackMatte(a,A);g.keyframes.Layer.addTrackMatteType(a,B);g.keyframes.Layer.addVectorCompositeOrder(a,C);g.keyframes.Layer.addText(a,D);g.keyframes.Layer.addTextTypeface(a,E);g.keyframes.Layer.addTextSize(a,F);g.keyframes.Layer.addTextColor(a,G);g.keyframes.Layer.addTextAlign(a,H);g.keyframes.Layer.addTextVAlign(a,I);g.keyframes.Layer.addTextTracking(a,J);g.keyframes.Layer.addTextLeading(a,K);g.keyframes.Layer.addTextItalic(a,L);g.keyframes.Layer.addTextWeight(a,M);g.keyframes.Layer.addTextBoxSize(a,N);g.keyframes.Layer.addVideoLevels(a,O);g.keyframes.Layer.addVideoIndex(a,P);return g.keyframes.Layer.endLayer(a)};g.keyframes.Document=function(){this.bb=null,this.bb_pos=0};g.keyframes.Document.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Document.getRootAsDocument=function(a,b){return(b||new g.keyframes.Document()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Document.bufferHasIdentifier=function(a){return a.__has_identifier("KEYF")};g.keyframes.Document.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Document.prototype.frameRate=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_frame_rate=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.duration=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_duration=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.version=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_version=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.rootLayer=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Document.prototype.bitmaps=function(a,b){var c=this.bb.__offset(this.bb_pos,14);return c?(b||new g.keyframes.Bitmap()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.bitmapsLength=function(){var a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.subdocuments=function(a,b){var c=this.bb.__offset(this.bb_pos,16);return c?(b||new g.keyframes.Document()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.subdocumentsLength=function(){var a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.plugins=function(a,b){var c=this.bb.__offset(this.bb_pos,18);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,b):null};g.keyframes.Document.prototype.pluginsLength=function(){var a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,20);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_id=function(a){var b=this.bb.__offset(this.bb_pos,20);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.manifest=function(a){var b=this.bb.__offset(this.bb_pos,22);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Document.prototype.manifestLength=function(){var a=this.bb.__offset(this.bb_pos,22);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.manifestArray=function(){var a=this.bb.__offset(this.bb_pos,22);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Document.prototype.progressMarkers=function(a,b){var c=this.bb.__offset(this.bb_pos,24);return c?(b||new g.keyframes.ProgressMarker()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.progressMarkersLength=function(){var a=this.bb.__offset(this.bb_pos,24);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.videos=function(a,b){var c=this.bb.__offset(this.bb_pos,26);return c?(b||new g.keyframes.Video()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.videosLength=function(){var a=this.bb.__offset(this.bb_pos,26);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.startDocument=function(a){a.startObject(12)};g.keyframes.Document.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Document.addFrameRate=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.Document.addDuration=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.Document.addVersion=function(a,b){a.addFieldInt32(3,b,0)};g.keyframes.Document.addRootLayer=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Document.addBitmaps=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Document.createBitmapsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startBitmapsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addSubdocuments=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Document.createSubdocumentsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startSubdocumentsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addPlugins=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Document.createPluginsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startPluginsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addId=function(a,b){a.addFieldInt32(8,b,0)};g.keyframes.Document.addManifest=function(a,b){a.addFieldOffset(9,b,0)};g.keyframes.Document.createManifestVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Document.startManifestVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Document.addProgressMarkers=function(a,b){a.addFieldOffset(10,b,0)};g.keyframes.Document.createProgressMarkersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startProgressMarkersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addVideos=function(a,b){a.addFieldOffset(11,b,0)};g.keyframes.Document.createVideosVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startVideosVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.endDocument=function(a){a=a.endObject();return a};g.keyframes.Document.finishDocumentBuffer=function(a,b){a.finish(b,"KEYF")};g.keyframes.Document.createDocument=function(a,b,c,d,e,f,h,i,j,k,l,m,n){g.keyframes.Document.startDocument(a);g.keyframes.Document.addSize(a,b);g.keyframes.Document.addFrameRate(a,c);g.keyframes.Document.addDuration(a,d);g.keyframes.Document.addVersion(a,e);g.keyframes.Document.addRootLayer(a,f);g.keyframes.Document.addBitmaps(a,h);g.keyframes.Document.addSubdocuments(a,i);g.keyframes.Document.addPlugins(a,j);g.keyframes.Document.addId(a,k);g.keyframes.Document.addManifest(a,l);g.keyframes.Document.addProgressMarkers(a,m);g.keyframes.Document.addVideos(a,n);return g.keyframes.Document.endDocument(a)};e.exports=g.keyframes}),null);
__d("KF2Loader",["BlobFactory","CubicBezier","KFColor","KFComponentNames","KFGradient","KFLoaderUtils","KFManifest","KFPath2d","KFPoint","KFPosition","KFScalar","KeyframesCompatPluginsLoader","KeyframesSchema","Promise","asyncToGeneratorRuntime","flatbuffers"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return a};function e(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){a=new(d("flatbuffers").ByteBuffer)(a);a=c("KeyframesSchema").Document.bufferHasIdentifier(a)?c("KeyframesSchema").Document.getRootAsDocument(a):null;G(a);var f=(yield l(a,b));b.addComponent(m(a,b,e,f),d("KFComponentNames").ROOT);c("KFLoaderUtils").maybeGenerateTrackMatteIDs(b)});return j.apply(this,arguments)}function k(a){var b=[];for(var c=a.pluginsLength()-1;c>=0;c--)b.unshift(a.plugins(c));return b}function l(a,d){return new(h||(h=b("Promise")))(function(b,e){if(a==null)return b(null);e=k(a);return e.length===0?b(null):b(c("KeyframesCompatPluginsLoader").fromPluginTable(e,d))})}function m(a,b,e,f){var g=I(a,e),h=a.subdocumentsLength(),i=[];for(var j=0;j<h;j++)i.push(a.subdocuments(j));j=n(a.rootLayer(),b,e,g,i,f);b.addComponent(j,d("KFComponentNames").SCENE,[j],c("KFLoaderUtils").getDocumentDuration(a),a.frameRate(),C(a.size()));return j}function n(a,b,c,d,e,f){var g=b.createEntity();f!=null&&f.maybeInstantiatePluginsForLayer(a,g);p(g,b,a);q(g,b,a);r(g,b,a);w(g,b,a);t(g,b,a);x(g,b,a,d);o(g,b,a,c,d,e,f);return g}function o(a,b,c,e,f,g,h){c.sublayers();var i=c.sublayersLength(),j=c.subdocumentIndex(),k;if(i){k=b.addComponent(a,d("KFComponentNames").CHILDREN);for(var l=0;l<i;l++)k.addChild(n(c.sublayers(l),b,e,f,g,h))}if(j===-1)return;k=k||b.addComponent(a,d("KFComponentNames").CHILDREN);f=g.map(function(a){return m(a,b,e,h)});var o=b.getComponent(a,d("KFComponentNames").RANDOM_SUBDOCUMENT_CHILDREN);o==null&&(o=b.addComponent(a,d("KFComponentNames").RANDOM_SUBDOCUMENT_CHILDREN));f.forEach(function(a,b){b===j&&k.addChild(a),o.addSwappableChild(a,b===j)})}function p(a,b,c){b.addComponent(a,d("KFComponentNames").IDENTIFICATION,c.id())}function q(a,b,c){b.addComponent(a,d("KFComponentNames").TIME,c.fromProgress(),c.toProgress(),c.progressOffset())}function r(a,b,e){var f=s(e.position());f=new(c("KFPosition"))(D(d("KFScalar").KFScalar,e.xPosition(),i,0),D(d("KFScalar").KFScalar,e.yPosition(),i,0),f?new(c("KFPath2d"))(null,f):void 0);var g=D(d("KFScalar").KFScalar,e.rotation(),i,0),h=D(d("KFPoint").KFPoint,e.scale(),F,[1,1]);e=D(d("KFPoint").KFPoint,e.anchorPoint(),F,[0,0]);b.addComponent(a,d("KFComponentNames").TRANSFORM,f,g,h,e)}function s(a){if(!a)return;var b=a.keyframesLength(),c=u(a.value()),d=[],e=[];for(var f=0;f<b;f++)d.push(a.keyframes(f)),f<b-1&&e.push(H(a.tweens(f)));return{values:c,keyframes:d,tweens:e}}function t(a,b,e){var f=e.path();f=f?D(c("KFPath2d"),e.path(),u):void 0;if(f){var g,h=D((g=d("KFScalar")).KFScalar,void 0,i,0),j=D(g.KFScalar,void 0,i,100),k=D(g.KFScalar,void 0,i,0),l=D(d("KFColor").KFColor,e.fillColor(),y,[255,255,255,0]),m=B(e.gradient()),n=D(g.KFScalar,e.strokeWidth(),i,0),o=D(d("KFColor").KFColor,e.strokeColor(),y,[255,255,255,0]);g=D(g.KFScalar,e.miterLimit(),i,0);b.addComponent(a,d("KFComponentNames").SHAPE,f,h,j,k,l,m,o,n,e.strokeLineCap(),e.strokeLineJoin(),g,e.vectorCompositeOrder())}}function u(a){var b=a.commandsLength(),c=[];for(var d=0;d<b;d++)c.push(v(a.commands(d)));return c}function v(a){var b=a.control1(),c=a.control2();return{type:a.type(),point:F(a.point()),c1:b?F(b):null,c2:c?F(c):null}}function w(a,b,e){var f=D(d("KFScalar").KFScalar,e.opacity(),i,1),g=e.isTrackMatte(),h=e.trackMatteType();e=D(c("KFPath2d"),e.clippingPath(),u);b.addComponent(a,d("KFComponentNames").COMPOSITING,0,f,!0,g,h,void 0,e)}function x(a,b,c,e){c=c.bitmapIndex();c!==-1&&b.addComponent(a,d("KFComponentNames").IMAGE,e.bitmaps[c])}function y(a){return[a.red(),a.green(),a.blue(),a.alpha()]}function z(a){var b=[],c=a.colorsLength();for(var d=0;d<c;d++)b.push(y(a.colors(d)));return b}function A(a){var b=[],c=a.valuesLength();for(var d=0;d<c;d++)b.push(a.values(d));return b}function B(a){if(!a)return;var b=a.type(),e=D(d("KFScalar").KFScalarArray,a.positions(),A),f=D(d("KFColor").KFColorArray,a.colors(),z),g=D(d("KFPoint").KFPoint,a.rampStart(),F),h=D(d("KFPoint").KFPoint,a.rampEnd(),F),j=D(d("KFColor").KFColor,a.colorStart(),y),k=D(d("KFColor").KFColor,a.colorEnd(),y),l,m;b===c("KeyframesSchema").GradientType.Radial&&(l=D(d("KFScalar").KFScalar,a.highlightAngle(),i,0),m=D(d("KFScalar").KFScalar,a.highlightLength(),i,0));return new(c("KFGradient"))(b,e,f,g,h,l,m,j,k)}function C(a){return a?{width:a.width(),height:a.height()}:null}function D(a,b,c,d){d===void 0&&(d=0);if(b){b=E(b,c,d);return new a(b.staticValue,b.animation)}else return new a(d,void 0)}function E(a,b,c){c===void 0&&(c=0);var d={staticValue:void 0,animation:void 0};if(!a)d.staticValue=c;else{var e=a.value(),f=a.valuesLength();e!==null&&(d.staticValue=b(e));if(f!=0){e=a.keyframesLength();f=[];var g=[],h=[];for(var i=0;i<e;i++)f.push(b(a.values(i),c)),g.push(a.keyframes(i)),i<e-1&&h.push(H(a.tweens(i)));d.animation={values:f,keyframes:g,tweens:h}}}return d}function F(a,b){b===void 0&&(b=[0,0]);return a?[a.x(),a.y()]:b}function G(a,b){c("KFManifest")(a.manifestArray(),b)}function H(a){var b=a.type(),d;b===c("KeyframesSchema").TweenType.Bezier&&(d=new(c("CubicBezier"))(F(a.control1()),F(a.control2())));return{type:b,bezier:d}}function I(a,c){var d={bitmaps:{}},e=a.bitmapsLength();if(e){var f=[],g=c.getImages().length;for(var i=0;i<e;i++){var j=g+i;d.bitmaps[i]=j;c.addImageAtIndex(null,j);f.push(J(a.bitmaps(i),j,c))}(h||(h=b("Promise"))).all(f).then(function(){K.bind(null,null,c)})}return d}function J(d,e,f){if(c("BlobFactory").isSupported()){var g=d.contentArray();if(!g)return(h||(h=b("Promise"))).reject("Decode: tried to decode a null bitmap");var i=c("BlobFactory").getBlob([g]),j=d.size().width(),k=d.size().height();return a.createImageBitmap?a.createImageBitmap(i,0,0,j,k)["catch"](function(a){return L(i,j,k)}).then(function(a){f.addImageAtIndex({src:a,width:j,height:k},e);return{src:a,width:j,height:k}}):L(i,j,k)}return(h||(h=b("Promise"))).reject("Decode: browser does not support bitmap creation")}function K(a,b,c){if(!a)return;b=[];for(c=0;c<a.length;c++){var d=a[c].src;if(a.width!==d.width||a.height!==d.height){var e=document.createElement("canvas");e.width=a.width;e.height=a.heigh;var f=e.getContext("2d");f.drawImage(d,0,0,a.width,a.height);b.push(e)}else b.push(d)}return b}function L(a,c,d){return!URL.createObjectURL?(h||(h=b("Promise"))).reject("URL API not supported"):M(URL.createObjectURL(a),c,d)}function M(a,c,d){return new(h||(h=b("Promise")))(function(b,e){var f=new Image(a);f.onload=function(){return b({src:f,width:c,height:d})};f.onerror=function(b){return e("Decode: error requesting image uri "+a)};f.src=a})}g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("BTManifestName",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MAIN:"main",LONGTAIL:"longtail"});c=a;f["default"]=c}),66);
__d("BtLongtailHashFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5779");b=d("FalcoLoggerInternal").create("bt_longtail_hash",a);e=b;g["default"]=e}),98);
__d("CometBTManifestLoader",["BootloaderEvents","BtLongtailHashFalcoEvent","ClientConsistencyEventEmitter","FBLogger","ODS","Promise","SiteData","TrustedTypes","XHRRequest","asyncToGeneratorRuntime","err","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set();function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e,f){var g=(yield new(i||(i=b("Promise")))(function(b,g){new(c("XHRRequest"))(a+"/btmanifest/"+e+"/"+d+"/"+f).setMethod("GET").setResponseHandler(function(a){return b(a.toString())}).setErrorHandler(function(a){return g(a)}).send()}));if(typeof g!=="string")throw c("FBLogger")("binary_transparency","bt_invalid_manifest_response").mustfixThrow("Invalid response from BT manifest endpoint");return g});return l.apply(this,arguments)}function m(a,b){(h||(h=d("ODS"))).bumpEntityKey(454,"obc.www.all","bt.comet_manifest_loader."+Number(d("SiteData").compose_bootloads)+"."+d("SiteData").pkg_cohort+"."+a+"."+b)}function n(a,b,d){var e;if(d instanceof Error)e=d;else if(typeof d==="object"){var f=JSON.stringify(d);e=c("err")("(XHRRequest): %s",f.slice(0,300)+(f.length>300?"...":""))}else e=c("err")(d);c("FBLogger")("binary_transparency","bt_download_manifest_error").catching(e).mustfix('Unable to download and inject BT manifest "%s" for version: %s',b,a)}var o=c("TrustedTypes").createPolicy("bt-manifest",{createScript:function(a){return a}});function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("SiteData").manifest_origin||d("SiteData").manifest_version_prefix==null||d("SiteData").manifest_base_uri==null)return;var e=a+"_"+b;a=""+d("SiteData").manifest_version_prefix+a;if(j.has(e))return;m(b,"start");j.add(e);try{var f=document.createElement("script"),g=(yield k(d("SiteData").manifest_base_uri,d("SiteData").manifest_origin,a,b));c("justknobx")._("3786")?f.innerText=o.createScript(g):f.innerText=g;f.type="application/json";f.setAttribute("name","binary-transparency-manifest");f.dataset.manifestRev=a;f.dataset.manifestType=b;(g=document.head)==null||g.appendChild(f);m(b,"complete")}catch(c){m(b,"failed"),n(a,b,c),j["delete"](e)}});return q.apply(this,arguments)}function a(){c("promiseDone")(p(d("SiteData").client_revision,"main")),d("BootloaderEvents").onResourceInLongTailBTManifest(function(a){c("promiseDone")(p(d("SiteData").client_revision,"longtail")),a.hashes.forEach(function(b){c("BtLongtailHashFalcoEvent").log(function(){return{client_revision:String(d("SiteData").client_revision),compose_bootloads:d("SiteData").compose_bootloads,ef_page:d("SiteData").ef_page||"",hash:b,pkg_cohort:d("SiteData").pkg_cohort,reference:a.source,rls_id:d("SiteData").hsi}})})}),c("ClientConsistencyEventEmitter").addListener("newRevision",function(a){c("promiseDone")(p(a,"main")),c("promiseDone")(p(a,"longtail"))})}g.init=a}),98);
__d("DocumentTitle",["Arbiter"],(function(a,b,c,d,e,f,g){var h=1500,i=null,j=!1,k=0,l=[],m=null,n=document.title,o=0;function p(){l.length>0?!j?(q(l[k].title),k=++k%l.length):r():(clearInterval(i),i=null,r())}function q(a){document.title=a,j=!0}function r(){s.set(m||n,!0),j=!1}var s=function(){function a(a){this.$1=a}a.get=function(){return n};a.set=function(a,b){var d=a.toString();document.title=d;!b?(n=d,m=null,c("Arbiter").inform("update_title",a)):m=d};a.blink=function(b){b={title:b.toString()};l.push(b);i===null&&(i=setInterval(p,h));return new a(b)};var b=a.prototype;b.stop=function(){var a=l.indexOf(this.$1);a>=0&&(l.splice(a,1),k>a?k--:k==a&&k==l.length&&(k=0))};a.badge=function(b){var d=a.get();d=b?"("+b+") "+d:d;a.set(d,!0);c("Arbiter").inform("update_title_badge",b,"state");o=b};a.preserveBadgeAndSet=function(b){a.set(b,!1),c("Arbiter").inform("update_title",b),a.badge(o)};return a}();g["default"]=s}),98);
__d("IGDSCallFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M4.9 24.002q-.2 0-.4-.008a3.319 3.319 0 0 1-2.161-.92A18.862 18.862 0 0 1 .454 21.02a2.223 2.223 0 0 1 .171-2.893 14.91 14.91 0 0 1 5.829-4.014 2.5 2.5 0 0 1 1.896.186l.96.512a.888.888 0 0 0 .75.044 8.653 8.653 0 0 0 2.872-1.922 8.66 8.66 0 0 0 1.922-2.871.889.889 0 0 0-.044-.75l-.512-.962a2.495 2.495 0 0 1-.186-1.895 14.906 14.906 0 0 1 4.014-5.83 2.22 2.22 0 0 1 2.893-.17 18.89 18.89 0 0 1 2.056 1.884 3.323 3.323 0 0 1 .92 2.16c.206 5.552-3.946 10.564-6.44 13.057-2.432 2.433-7.264 6.446-12.654 6.446Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9685249484907022"}),null);
__d("MessengerCreateVideoMeetupLinkMutation.graphql",["MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"CreateVideoMeetupLinkResponsePayload",kind:"LinkedField",name:"create_video_meetup_link",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"meetup_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_hash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_audio_only",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerCreateVideoMeetupLinkMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerCreateVideoMeetupLinkMutation",selections:c},params:{id:b("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"),metadata:{},name:"MessengerCreateVideoMeetupLinkMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MessengerCreateVideoMeetupLinkMutation",["MessengerCreateVideoMeetupLinkMutation.graphql","Promise","cr:1012418","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,d,e){return new(i||(i=b("Promise")))(function(f,g){var i;b("cr:1012418").commitMutation(a,{mutation:h!==void 0?h:h=b("MessengerCreateVideoMeetupLinkMutation.graphql"),onCompleted:function(a){var b,c,d,e,h=a==null||(b=a.create_video_meetup_link)==null||(b=b.meetup_link)==null?void 0:b.is_audio_only,i=a==null||(c=a.create_video_meetup_link)==null||(c=c.meetup_link)==null?void 0:c.link_url,j=a==null||(d=a.create_video_meetup_link)==null||(d=d.meetup_link)==null?void 0:d.link_hash;a=a==null||(e=a.create_video_meetup_link)==null||(e=e.meetup_link)==null?void 0:e.id;return i!=null&&j!=null&&h!=null?f({isAudioOnly:h,linkHash:j,linkId:a,linkUrl:i}):g({error:"Failed to create linkurl."})},onError:function(a){g(a)},optimisticUpdater:null,variables:{input:{client_mutation_id:"",funnel_session_id:e,link_options:{availability_settings_options:(d==null?void 0:d.linkSurface)==="MESSENGER_V2"?{join_permission:d==null?void 0:d.joinPermission,visibility_mode:(i=d==null?void 0:d.visibilityMode)!=null?i:"NONE"}:void 0,chat_mode:(i=d==null?void 0:d.chatMode)!=null?i:null,is_audio_only:(i=d==null?void 0:d.isAudioOnly)!=null?i:null,is_live_enabled:(i=d==null?void 0:d.isLiveEnabled)!=null?i:null,is_room_join_requestable:(i=d==null?void 0:d.joinRequestable)!=null?i:null,link_surface:(i=d==null?void 0:d.linkSurface)!=null?i:c("gkx")("20836")?"WORKPLACE":void 0,revocation_behavior:(i=d==null?void 0:d.revocationBehavior)!=null?i:null,should_allow_anonymous_guests:(i=d==null?void 0:d.allowAnonymousGuests)!=null?i:!0,supports_pages:(i=d==null?void 0:d.supportsPages)!=null?i:!1,supports_profile_plus:(i=d==null?void 0:d.supportsProfilePlus)!=null?i:!1,visibility_mode:(d==null?void 0:d.linkSurface)==="MESSENGER_V2"?void 0:(i=d==null?void 0:d.visibilityMode)!=null?i:"NONE"}}}})})}g["default"]=a}),98);
__d("RoomsLinkUtils",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;a=d("ConstUriUtils").getUri(a);var c=a==null?void 0:a.getDomain();a=a==null||(b=a.stripTrailingSlash())==null?void 0:b.getPath();if(a==null)return null;if(c==="msngr.com")return a.substring(1);var e=/^\/v(id)?\//;if(c==="m.me"&&e.test(a))return a.replace(e,"");c=/^\/groupcall\/LINK:/;return c.test(a)?a.replace(c,""):null}g.getRoomsLinkHash=a}),98);
__d("VideoChatLinksUserActionsMultiplexLogger",["cr:1443591"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1443591")}),98);
__d("XGroupCallControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groupcall/{?call_context}/",Object.freeze({users_to_ring:[],has_video:!0,initialize_video:!0,auto_join:!1,use_joining_context:!1,has_seen_interstitial:!1,use_dapp:!1,is_e2ee_mandated:!1,use_www:!1}),void 0);b=a;g["default"]=b}),98);
__d("ZenonCallIdentifiersUtil",["Random"],(function(a,b,c,d,e,f,g){"use strict";function a(){return String(d("Random").uint32()+1)}g.generateZenonClientSessionID=a}),98);
__d("randomZenonNonce",["Random"],(function(a,b,c,d,e,f,g){"use strict";var h=2,i=6,j=36,k=2176782336;function a(){var a="";for(var b=0;b<h;b++){var c=Math.floor(d("Random").random()*k).toString(j);while(c.length<i)c="0"+c;a+=c}return a}g["default"]=a}),98);
__d("ZenonPreCallHookBuilderHelper",["ConstUriUtils","FBLogger","MessengerCreateVideoMeetupLinkMutation","Promise","RoomsLinkUtils","VideoChatLinksUserActionsMultiplexLogger","XGroupCallControllerRouteBuilder","ZenonActorHooks","ZenonCallIdentifiersUtil","ZenonCallWindowErrors","ZenonPeerID","ZenonSignalingProtocol","asyncToGeneratorRuntime","gkx","nullthrows","randomZenonNonce"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var e=a.callInviteModel;a=a.callWindowController;var f=e.getCurrentInvite();if(f===null)throw new(d("ZenonCallWindowErrors").InviteNotFoundError)();if(f.type!=="ringing"||f.context.type!=="thread")throw new(d("ZenonCallWindowErrors").CannotAcceptInviteError)();var g=c("randomZenonNonce")(),h=f.context.thread;a=a.initCall({context:{controllerParams:f.controllerParams,intent:"accept invite"},hideE2eeAttributions:b,isE2eeMandated:f.isE2eeMandated,joinContext:{thread:h!=null?h:{id:"0",type:2},type:"thread"},mediaType:f.requestingVideo?"video":"audio",nonce:g,representedID:f.receiverUserId});b=a[0];h=a[1];e.accept(g,{isPopupBlocked:b===null});yield h});return i.apply(this,arguments)}function e(a,b,c,d,e,f){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){h===void 0&&(h={allowAnonymousGuests:!c("gkx")("20836")});if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();p(g,e,f).setEvent("meetup_attempt_create_meetup").log();try{a=(yield c("MessengerCreateVideoMeetupLinkMutation")(b,h,g));b=a.linkUrl;if(b!=null){p(g,e,f).setEvent("meetup_create_success").setVideoCallLinkURLRaw(b).log();return b}else p(g,e,f).setEvent("meetup_create_failed").log();return b}catch(a){p(g,e,f).setEvent("meetup_create_failed").log();p(g,e,f).setEvent("error").setErrorType("LinkCreationError "+a.name).setErrorDetails(a.description).log();throw a}});return j.apply(this,arguments)}function f(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.actorID,f=a.callback_users,g=a.context,i=a.forceSkipChildLobby;i=i===void 0?!1:i;var j=a.funnelSessionID;j=j===void 0?null:j;var k=a.hasVideo;k=k===void 0?!0:k;var l=a.linkUrl,m=a.referrerContext;m=m===void 0?null:m;var p=a.skipLinkUrlRewrite;p=p===void 0?!1:p;var q=a.startCallImmediately;q=q===void 0?!1:q;a=a.trigger;if(g===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var r=g.callWindowController;g=g.incomingRingSDK;var s=c("randomZenonNonce")(),t=d("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),u=l;if(!p){p=(p=d("ConstUriUtils").getUri(l))==null?void 0:p.getQueryParam("funnel_session_id");l=n(l);u=o(l,q?s:null,f,p!=null?String(p):j,i,m,e,a,k)}if(u==null)return(h||(h=b("Promise"))).reject("An invalid URI was provided");l=r.initCall({context:{existingCall:null,intent:"start or join",invitees:[],signalingID:t},joinContext:{linkUrl:u,type:"link"},mediaType:"video",nonce:s,representedID:d("ZenonActorHooks").ZenonActor.getID()});q=l[0];f=l[1];g.startCallIntent(s,{callTrigger:a!=null?a:"meetup_join",isE2eeMandated:!1,isPopupBlocked:q===null,isVideo:k,peerID:d("ZenonPeerID").ZenonMWPeerID,protocol:c("ZenonSignalingProtocol").MW,signalingID:t});yield f});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.existingCall,f=b.extra,g=b.hideE2eeAttributions,h=b.invitees,i=b.isE2eeMandated,j=b.mediaType,k=b.representedID,l=b.thread;b=b.trigger;if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var m=a.callWindowController;a=a.incomingRingSDK;var n=d("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),o=c("randomZenonNonce")();m=m.initCall({context:{existingCall:e,intent:"start or join",invitees:h,signalingID:n},extra:f,hideE2eeAttributions:g,isE2eeMandated:i,joinContext:{thread:l,type:"thread"},mediaType:j,nonce:o,representedID:k!=null?k:d("ZenonActorHooks").ZenonActor.getID()});e=m[0];h=m[1];a.startCallIntent(o,{callTrigger:b,isE2eeMandated:i!=null?i:!1,isPopupBlocked:e===null,isVideo:j==="video",peerID:l.type===1?l.id:d("ZenonPeerID").ZenonMWPeerID,protocol:c("ZenonSignalingProtocol").MW,signalingID:n});yield h});return m.apply(this,arguments)}function n(a){var b=d("RoomsLinkUtils").getRoomsLinkHash(a);b==null&&c("FBLogger")("rtc_www").mustfix('Could not extract LinkHash from Video Chat Link. Link = "%s"',a);return b}function o(a,b,d,e,f,g,h,i,j){if(a==null)return"";a={call_context:"LINK:"+a,call_trigger:i!=null?i:"",has_video:j,users_to_ring:d!=null?d:[]};b!=null&&(a.nonce=b);e!=null&&(a.funnel_session_id=e);f===!0&&(a.auto_join=!0);g!=null&&(a.referrer_context=g);h!=null&&(a.av=h);return c("nullthrows")(c("XGroupCallControllerRouteBuilder").buildUri(a).getQualifiedUri()).toString()}function p(a,b,d){return new(c("VideoChatLinksUserActionsMultiplexLogger"))().setFunnelSessionIDRaw(a).setSurface(b).setComponent(d)}g.acceptCall=a;g.createMeetup=e;g.joinMeetup=f;g.startCall=l}),98);
__d("useZenonCallInvite",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=j(function(){return a?a.getCurrentInvite():null}),c=b[0],d=b[1];i(function(){if(a){var b=a.addListener("callInvite",d);return function(){b.remove()}}else d(null)},[a]);return c}g["default"]=a}),98);
__d("ZenonPreCallHookBuilder",["CometRelay","FBLogger","Promise","ZenonPreCallHookBuilderHelper","err","gkx","promiseDone","react","useZenonCallInvite"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=j.useCallback,l=j.useContext,m=j.useDebugValue,n=j.useEffect,o=6e4;function a(a){function b(b){var c=l(a);return k(function(){return d("ZenonPreCallHookBuilderHelper").acceptCall(c,b)},[c,b])}return b}function e(a){function b(){var b=l(a);b=c("useZenonCallInvite")(b?b.callInviteModel:null);m(b);return b}return b}function f(a,b){return function(d,e,f){function g(){var g=l(a),h=d(),i=e(),j=f(),m=b();return k(function(a){if(!c("gkx")("24231"))return;var b=a.existingCall,d=a.thread;if(!g||!g.incomingRingSDK.isCallSupported({threadType:d.type,type:"thread"}))j(a);else switch(d.type){case 1:c("promiseDone")(m(babelHelpers["extends"]({},a,{invitees:[d.id]})));break;case 15:if(d.secureOneToOneThreadPeerId==null)throw c("err")("secureOneToOneThreadPeerId should be defined when starting a call from a secure 1:1 thread");c("promiseDone")(m(babelHelpers["extends"]({},a,{invitees:[d.secureOneToOneThreadPeerId]})));break;case 2:case 16:b===null||b.call_state==="NO_ONGOING_CALL"?h(a,function(b){c("promiseDone")(m(babelHelpers["extends"]({},a,{invitees:b})))}):c("gkx")("13856")?i(a,function(){c("promiseDone")(m(babelHelpers["extends"]({},a,{invitees:[]})))}):c("promiseDone")(m(babelHelpers["extends"]({},a,{invitees:[]})));break;default:c("FBLogger")("rtc_www").blameToPreviousFrame().mustfix("Attempted to start RTC call for unsupported thread type %d",d.type)}},[g,h,j,m,i])}return g}}function p(a,b){function c(){var c=l(a),d=b();n(function(){if(c&&d&&d.type==="ringing"){var a=window.setTimeout(function(){c.callInviteModel.decline("NoAnswerTimeout")},o);return function(){window.clearTimeout(a)}}},[c,d])}return c}function q(a){function e(){var e=l(a);return k(function(a){var f=a.existingCall,g=a.extra,i=a.hideE2eeAttributions,j=a.invitees,k=a.isE2eeMandated,l=a.mediaType,m=a.representedID,n=a.thread;a=a.trigger;return!c("gkx")("24231")?(h||(h=b("Promise"))).resolve():d("ZenonPreCallHookBuilderHelper").startCall(e,{existingCall:f,extra:g,hideE2eeAttributions:i,invitees:j,isE2eeMandated:k,mediaType:l,representedID:m,thread:n,trigger:a})},[e])}return e}function r(a){function e(){var e=l(a),f=d("CometRelay").useRelayEnvironment();return k(function(a,g,i,j){return!c("gkx")("24231")?(h||(h=b("Promise"))).resolve(null):d("ZenonPreCallHookBuilderHelper").createMeetup(e,f,a,g,i,j)},[e,f])}return e}function s(a){function e(){var e=l(a);return k(function(a,f){f===void 0&&(f={});if(!c("gkx")("24231"))return(h||(h=b("Promise"))).resolve();f=f!=null?f:{};var g=f.actorID,i=f.callbackUsers,j=f.mediaType,k=f.referrerContext,l=f.startCallImmediately;f=f.trigger;return d("ZenonPreCallHookBuilderHelper").joinMeetup({actorID:g,callback_users:i,context:e,forceSkipChildLobby:!1,hasVideo:j!=null?j==="video":!0,linkUrl:a,referrerContext:k,startCallImmediately:l,trigger:f})},[e])}return e}g.createAcceptCallCallbackHook=a;g.createCallInviteHook=e;g.createInviteAndStartCallCallbackHookFactory=f;g.createNoAnswerTimeoutHook=p;g.createStartCallCallbackHook=q;g.createCreateMeetupCallbackHook=r;g.createJoinMeetupCallbackHook=s}),98);
__d("IGWebPreCallHooks",["IGWebPreCallContext","ZenonPreCallHookBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=d("ZenonPreCallHookBuilder").createAcceptCallCallbackHook(c("IGWebPreCallContext"));b=d("ZenonPreCallHookBuilder").createCallInviteHook(c("IGWebPreCallContext"));e=d("ZenonPreCallHookBuilder").createStartCallCallbackHook(c("IGWebPreCallContext"));g.useAcceptCallCallback=a;g.useCallInvite=b;g.useStartCallCallback=e}),98);
__d("IgFrCookieUpdaterFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5694");b=d("FalcoLoggerInternal").create("ig_fr_cookie_updater",a);e=b;g["default"]=e}),98);
__d("PolarisAPIGetFrCookieQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24265538733086022"}),null);
__d("PolarisAPIGetFrCookieQuery.graphql",["PolarisAPIGetFrCookieQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"_request_data"},{defaultValue:null,kind:"LocalArgument",name:"payload"}],c=[{alias:null,args:[{kind:"Variable",name:"_request_data",variableName:"_request_data"},{kind:"Variable",name:"payload",variableName:"payload"}],concreteType:"XDTGetEncryptedCredentialsResponse",kind:"LinkedField",name:"xdt_api__v1__web__accounts__get_encrypted_credentials",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fr",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisAPIGetFrCookieQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisAPIGetFrCookieQuery",selections:c},params:{id:b("PolarisAPIGetFrCookieQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_api__v1__web__accounts__get_encrypted_credentials"]},name:"PolarisAPIGetFrCookieQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisAPIGetFrCookie",["CometRelay","PolarisAPIGetFrCookieQuery.graphql","PolarisInstapi","err","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return c("justknobx")._("999")?d("CometRelay").fetchQuery(e,h!==void 0?h:h=b("PolarisAPIGetFrCookieQuery.graphql"),{_request_data:{},payload:a}).toPromise().then(function(a){if(a==null)throw c("err")("Failed to get Fr cookie.");return{fr:a.xdt_api__v1__web__accounts__get_encrypted_credentials.fr}}):d("PolarisInstapi").apiPost("/api/v1/web/accounts/get_encrypted_credentials/",{body:{payload:a}}).then(function(a){return a.data})}g.getFrCookie=a}),98);
__d("buildIframeOriginUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a}g["default"]=a}),98);
__d("PolarisFacebookCookieSyncConstants",["URI","buildIframeOriginUrl"],(function(a,b,c,d,e,f,g){"use strict";var h;a={error:"ig_iframe_error",ig_sync:"ig_iframe_ig_sync",ig_sync_error:"ig_iframe_ig_sync_error",ig_sync_success:"ig_iframe_ig_sync_success",ready:"ig_iframe_ready",success:"ig_iframe_success",sync:"ig_iframe_fb_sync"};b=c("buildIframeOriginUrl")("https://www.facebook.com");d=new(h||(h=c("URI")))(b).getDomain();e="fr";g.IFRAME_MESSAGES=a;g.IFRAME_ORIGIN=b;g.IFRAME_DOMAIN=d;g.FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY=e}),98);
__d("SecureMessageListener",["SecurePostMessage","URI"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=this;this.$3=null;this.$4=!1;this.$1=a;this.$5=function(a){b.run(a)}}var b=a.prototype;b.setEventHandler=function(a){this.$2=a;return this};b.setSupportedOrigins=function(a){this.$3=a;return this};b.skipOriginCheck_UNSAFE=function(){this.$4=!0;return this};b.beginListening=function(){this.$1.addEventListener("message",this.$5);return this};b.stopListening=function(){try{this.$1.removeEventListener("message",this.$5)}catch(a){if(!(a instanceof TypeError))throw a}return this};b.run=function(a){if(this.$3==null||this.$3.length===0){if(!this.$4&&a.origin!==this.$1.location.origin)return}else if(!this.isSupportedOrigin(this.$3,a.origin))return;if(this.$2){var b=function(b){d("SecurePostMessage").sendMessageToSpecificOrigin(a.source,b,a.origin)};this.$2(a,b)}};b.isSupportedOrigin=function(a,b){if(!new RegExp("^https://").test(b))return!1;var d=new(h||(h=c("URI")))(b);return a.some(function(a){return d.isSubdomainOfDomain(a)})};return a}();g["default"]=a}),98);
__d("XPolarisFacebookSyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sync/instagram/",{})}),null);
__d("PolarisFacebookToInstagramCookieSync.react",["FBLogger","InstagramODS","PolarisFacebookCookieSyncConstants","SecureMessageListener","SecurePostMessage","XAsyncRequest","XPolarisFacebookSyncController","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(4),e=a.frameRef,f=a.onCleanUp,g;b[0]!==e||b[1]!==f?(a=function(){var a=function(){c("InstagramODS").incr("web.cookie_sync.oo_cookie.start_fb_sync");var a=e.current;(a==null?void 0:a.contentWindow)!=null&&d("SecurePostMessage").sendMessageToSpecificOrigin(a.contentWindow,{eventName:d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync},d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN)},b=function(b){if(b.origin!==d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN)return;var e=b.data.eventName;bb13:switch(e){case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ready:a();break bb13;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync_success:c("InstagramODS").incr("web.cookie_sync.oo_cookie.retrieve_success");e=c("XPolarisFacebookSyncController").getURIBuilder().getURI();new(c("XAsyncRequest"))().setURI(e).setMethod("POST").setData({encrypted_data:(e=b.data.data)==null?void 0:e.data}).setHandler(k).setErrorHandler(j).send();f();break bb13;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync_error:c("InstagramODS").incr("web.cookie_sync.oo_cookie.retrieve_error");b=(e=b.data.errorDescription)!=null?e:"Exception thrown when syncing cookie to sync ig cookie";c("FBLogger")("ig_web").mustfix(b);f()}},g=new(c("SecureMessageListener"))(window).setEventHandler(b).setSupportedOrigins([d("PolarisFacebookCookieSyncConstants").IFRAME_DOMAIN]).beginListening();return function(){g.stopListening()}},g=[e,f],b[0]=e,b[1]=f,b[2]=a,b[3]=g):(a=b[2],g=b[3]);i(a,g);return null}function j(a){c("InstagramODS").incr("web.cookie_sync.oo_cookie.sync_fail");a=(a=a.errorDescription)!=null?a:"Error when syncing ig cookies";c("FBLogger")("ig_web").mustfix(a)}function k(a){c("InstagramODS").incr("web.cookie_sync.oo_cookie.sync_success")}g["default"]=a}),98);
__d("PolarisInstagramToFacebookCookieSync.react",["CometRelay","FBLogger","IgFrCookieUpdaterFalcoEvent","InstagramODS","PolarisAPIGetFrCookie","PolarisAdsGatingHelpers","PolarisConfig","PolarisDOMListener.react","PolarisFacebookCookieSyncConstants","PolarisWebStorage","SecurePostMessage","browserHistory_DO_NOT_USE","gkx","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=Number(new Date().getTime());function m(a){var b=new Date().getTime()-l;a.total_latency=b.toString();a.country=d("PolarisConfig").getCountryCode();c("IgFrCookieUpdaterFalcoEvent").log(function(){return a})}function a(a){var b=a.frameRef,e=a.frData,f=a.onCleanUp;a=c("gkx")("25372");var g=c("gkx")("3478"),h=a&&g;g=(a=c("usePolarisViewer")())==null?void 0:a.id;a=d("browserHistory_DO_NOT_USE").getPath(d("browserHistory_DO_NOT_USE").browserHistory);var l=d("CometRelay").useRelayEnvironment(),n=d("PolarisAdsGatingHelpers").useEUFRCookieODSLogging();a=k({browser_history_path:a,iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:g,is_blacklisted:!1,is_control_group:!1,is_local_storage_accessible:!1,local_storage_data:e,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});var o=a.current;j(function(){h||(o.is_blacklisted=!0,m(o),f())},[]);g=function(a){var b=a.data.eventName;o.iframe_message_origin=a.origin;if(a.origin!==d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN){b in d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES&&(o.iframe_message_origin_mismatch=!0,m(o));return}switch(b){case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ready:c("InstagramODS").incr("web.frcookie.iframe.ready");n&&c("InstagramODS").incr("web.eu.frcookie.iframe.ready");o.iframe_message_ready=!0;p();break;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.success:c("InstagramODS").incr("web.frcookie.iframe.success");n&&c("InstagramODS").incr("web.eu.frcookie.iframe.success");o.iframe_message_success=!0;m(o);f();break;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.error:c("InstagramODS").incr("web.frcookie.iframe.error");n&&c("InstagramODS").incr("web.eu.frcookie.iframe.error");q();o.iframe_message_error=!0;m(o);break}};var p=function(){o.iframe_non_null=!1;o.iframe_content_window_non_null=!1;var a=b.current;if(a==null)return;e==null&&(c("InstagramODS").incr("web.frcookie.local_storage.empty"),n&&c("InstagramODS").incr("web.eu.frcookie.local_storage.empty"));d("PolarisAPIGetFrCookie").getFrCookie(e,l).then(function(b){o.api_data=b.fr;if(b.fr===e){m(o);f();return}o.local_storage_same_as_api=!1;var g=c("PolarisWebStorage").getLocalStorage();if(g==null){m(o);f();return}o.is_local_storage_accessible=!0;if(b.fr===""){g.removeItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY);c("InstagramODS").incr("web.frcookie.local_storage.remove");n&&c("InstagramODS").incr("web.eu.frcookie.local_storage.remove");m(o);f();return}g.setItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY,b.fr);o.show_iframe=!0;o.local_storage_updated=!0;o.iframe_payload=b.fr;o.iframe_non_null=!0;a.contentWindow!=null&&(o.iframe_content_window_non_null=!0,d("SecurePostMessage").sendMessageToSpecificOrigin(a.contentWindow,{data:b.fr,eventName:d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.sync},d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN));c("InstagramODS").incr("web.frcookie.local_storage.update");n&&c("InstagramODS").incr("web.eu.frcookie.local_storage.update")})["catch"](function(a){c("InstagramODS").incr("web.frcookie.get.error"),n&&c("InstagramODS").incr("web.eu.frcookie.get.error"),o.exception=a.toString(),m(o),c("FBLogger")("ig_web").catching(a).mustfix("Exception thrown when getting frCookie"),q()})},q=function(){var a=c("PolarisWebStorage").getLocalStorage();c("PolarisWebStorage").isLocalStorageSupported()&&a!=null&&a.removeItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY);f()};return h&&i.jsx(c("PolarisDOMListener.react"),{event:"message",handler:g,target:window})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFacebookCookieSyncImpl.react",["IgFrCookieUpdaterFalcoEvent","JSScheduler","PolarisDOMListener.react","PolarisFacebookCookieSyncConstants","PolarisFacebookToInstagramCookieSync.react","PolarisInstagramToFacebookCookieSync.react","PolarisReactRedux.react","PolarisUA","PolarisWebStorage","RunComet","browserHistory_DO_NOT_USE","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState,n=d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN+"/instagram/login_sync/",o=["terms","challenge"],p=3,q=Number(new Date().getTime());function r(a){var b=new Date().getTime()-q;a.total_latency=b.toString();c("IgFrCookieUpdaterFalcoEvent").log(function(){return a})}var s=function(){if(!d("PolarisUA").isIGWebview()&&c("PolarisWebStorage").isLocalStorageSupported()){var a=c("PolarisWebStorage").getLocalStorage();if(a!=null)return a.getItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY)}return null};function t(a){var b;a=a.frData;var e=l(null);b=(b=c("usePolarisViewer")())==null?void 0:b.id;b=l({browser_history_path:d("browserHistory_DO_NOT_USE").getPath(d("browserHistory_DO_NOT_USE").browserHistory),iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:b,is_blacklisted:!1,is_control_group:!1,is_local_storage_accessible:!1,local_storage_data:a,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});var f=b.current;b=function(){f.iframe_unload=!0};var g=m(!1),i=g[0],o=g[1];k(function(){var a=null,b=null,e=d("RunComet").onAfterLoad(function(){a=(h||(h=c("JSScheduler"))).scheduleLoggingPriCallback(function(){b=window.setTimeout(function(){o(!0)},p*1e3)})});return function(){b&&window.clearTimeout(b),a&&(h||(h=c("JSScheduler"))).cancelCallback(a),e&&e.remove()}},[]);g=m(!1);var q=g[0],s=g[1];g=m(!1);var t=g[0],u=g[1];g=q&&t;return!i?null:j.jsxs(j.Fragment,{children:[j.jsx("div",{hidden:!0,children:j.jsx("iframe",{onError:function(){f.iframe_on_error=!0,r(f)},onLoad:function(){f.iframe_on_load=!0},ref:e,src:n,style:{border:"none",display:"none",height:0,width:0},title:"fr"})}),g?null:j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisInstagramToFacebookCookieSync.react"),{frameRef:e,frData:a,onCleanUp:function(){return s(!0)}}),j.jsx(c("PolarisFacebookToInstagramCookieSync.react"),{frameRef:e,onCleanUp:function(){return u(!0)}}),j.jsx(c("PolarisDOMListener.react"),{event:"beforeunload",handler:b,target:window})]})]})}t.displayName=t.name+" [from "+f.id+"]";function a(){var a,b=d("react-compiler-runtime").c(3),e=d("PolarisReactRedux.react").useSelector(u);a=(a=c("usePolarisViewer")())==null?void 0:a.id;if(e)return null;if(b[0]!==a){e=Symbol["for"]("react.early_return_sentinel");bb0:{var f=d("browserHistory_DO_NOT_USE").getPath(d("browserHistory_DO_NOT_USE").browserHistory);if(o.some(function(a){return f.includes(a)})){r({browser_history_path:f,iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:a,is_blacklisted:!0,is_control_group:!1,is_local_storage_accessible:!1,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});e=null;break bb0}}b[0]=a;b[1]=e}else e=b[1];if(e!==Symbol["for"]("react.early_return_sentinel"))return e;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(t,{frData:s()}),b[2]=a):a=b[2];return a}function u(a){var b;return!!(a!=null&&(b=a.cookieModal)!=null&&b.visible)}g["default"]=a}),98);
__d("useBlinkDocumentTitle",["DocumentTitle","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(3),e,f;b[0]!==a?(e=function(){if(a==null)return j;var b=c("DocumentTitle").blink(a);return function(){b.stop()}},f=[a],b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);i(e,f)}function j(){}g["default"]=a}),98);
__d("PolarisIncomingCallBlinkingTitle.react",["fbt","PolarisCallGatingHelpers","react","react-compiler-runtime","useBlinkDocumentTitle"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.callerName;var c;b[0]!==a?(c=d("PolarisCallGatingHelpers").isWebCallingEnabled()&&a!=null?j.jsx(k,{callerName:a}):null,b[0]=a,b[1]=c):c=b[1];return c}function k(a){var b=d("react-compiler-runtime").c(2);a=a.callerName;var e;b[0]!==a?(e=h._(/*BTDS*/"{caller_name} is calling",[h._param("caller_name",a)]),b[0]=a,b[1]=e):e=b[1];c("useBlinkDocumentTitle")(e);return null}g["default"]=a}),226);
__d("PolarisIncomingCall.react",["fbt","CometPressable.react","IGCoreModal.react","IGDSBox.react","IGDSCallFilled24Icon.react","IGDSTextVariants.react","IGDSVideoChatFilled24Icon.react","IGDSXFilledIcon.react","IGWebPreCallContext","IGWebPreCallHooks","PolarisCallGatingHelpers","PolarisCallNavigator","PolarisDirectLogger","PolarisDirectStrings","PolarisIGCoreText","PolarisIncomingCallActions","PolarisIncomingCallBlinkingTitle.react","PolarisReactRedux.react","PolarisUserAvatar.react","ZenonCallInviteModelTypes","bx","intlList","promiseDone","react","usePolarisMQTT"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect;function a(){var a,b=function(a){if(a&&a.type===d("ZenonCallInviteModelTypes").CallInviteModelType.ringing){var b;b=(b=a.controllerParams.serverInfoData)!=null?b:"";var e=a.requestingVideo;a=(a=a.controllerParams.appMessages)==null?void 0:a.ring_data;var f="",g="",h="",i=[];if(a!=null){a=JSON.parse(a);var j=a.display_name,k=a.display_uri,l=a.group_name,m=a.ig_thread_id;a=a.participant_usernames;h=j;g=l;f=m;i.push(k);if(!g){j=a;try{j=JSON.parse(a)}catch(a){}g=Array.isArray(j)?c("intlList")([h].concat(j),c("intlList").CONJUNCTIONS.NONE).toString():h}}return{avatarUris:i,callerName:h,hasVideo:e,igThreadId:f,serverInfoData:b,threadName:g}}else return null},e=d("IGWebPreCallHooks").useCallInvite(),f=(a=e==null?void 0:e.isE2eeMandated)!=null?a:!1,g=d("IGWebPreCallHooks").useAcceptCallCallback(!0),i=d("PolarisReactRedux.react").useDispatch(),m=c("usePolarisMQTT")();a=k(c("IGWebPreCallContext"));var n=a?a.callInviteModel:null;a=d("PolarisReactRedux.react").useSelector(function(a){return a.incomingCall});var o=a.acknowledged,p=a.avatarUris,q=a.callerName,r=a.hasVideo,s=a.igThreadId,t=a.serverInfoData;a=a.threadName;b=e?b(e):null;b!=null?(p=b.avatarUris,q=b.callerName,r=b.hasVideo,s=b.igThreadId,t=b.serverInfoData,a=b.threadName,o=!1):d("PolarisCallGatingHelpers").isWebCallingEnabled()&&(o=!0);e=function(){d("PolarisDirectLogger").DirectLogger.logDirectEvent("IncomingCall","join_button_click",{has_video:r,ig_thread_id:s,server_info_data:t}),f?c("promiseDone")(g({trigger:"incoming_call_modal"})):(i(d("PolarisIncomingCallActions").ackCall()),s!=null&&d("PolarisCallNavigator").launchCall(s,Boolean(r),t))};var u=!Boolean(o)&&t!=null&&s!=null&&d("PolarisCallGatingHelpers").isWebCallingEnabled();l(function(){u&&d("PolarisDirectLogger").DirectLogger.logDirectEvent("IncomingCall","incoming_call_impression",{has_video:r,ig_thread_id:s,server_info_data:t})},[r,s,u,t]);b=function(){d("PolarisDirectLogger").DirectLogger.logDirectEvent("IncomingCall","decline_button_click",{has_video:r,ig_thread_id:s,server_info_data:t}),d("PolarisCallGatingHelpers").isWebCallingEnabled()?n==null||n.decline():(i(d("PolarisIncomingCallActions").ackCall()),t!=null&&m!=null&&c("promiseDone")(m.sendRtcHangupRequest(t)))};o=Boolean(r)?h._(/*BTDS*/"Incoming video call..."):h._(/*BTDS*/"Incoming audio call...");return u?j.jsxs(c("IGCoreModal.react"),{children:[j.jsx("audio",{autoPlay:!0,loop:!0,children:j.jsx("source",{src:c("bx").getURL(c("bx")("6022")),type:"audio/m4a"})}),j.jsx(c("PolarisIncomingCallBlinkingTitle.react"),{callerName:q}),j.jsxs(c("IGDSBox.react"),{alignItems:"center",height:312,padding:8,position:"relative",width:400,children:[j.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:p&&p.length>0?p[0]:null,size:92}),j.jsx(c("IGDSBox.react"),{marginBottom:2,marginTop:4,maxWidth:400,paddingX:8,position:"relative",children:j.jsx(c("PolarisIGCoreText"),{display:"truncated",Element:"h2",size:"headline2",textAlign:"center",weight:"semibold",zeroMargin:!0,children:a})}),j.jsx(c("IGDSBox.react"),{direction:"row",justifyContent:"center",marginBottom:8,position:"relative",children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",zeroMargin:!0,children:o})}),j.jsxs(c("IGDSBox.react"),{direction:"row",position:"relative",children:[j.jsx(c("IGDSBox.react"),{marginEnd:6,position:"relative",children:j.jsx(c("CometPressable.react"),{onPress:b,children:j.jsx("div",{className:"x6s0dn4 xvs2etk xg3wpu6 x1jwbhkm xgg4q86 x78zum5 xdd8jsf xl56j7k xvni27 x1mkg91h",children:j.jsx(c("IGDSXFilledIcon.react"),{alt:d("PolarisDirectStrings").DECLINE_CALL_MODAL_STRING,color:"web-always-white","data-testid":void 0})})})}),j.jsx(c("CometPressable.react"),{onPress:e,children:j.jsx("div",{className:"x6s0dn4 xvs2etk xg3wpu6 x1jwbhkm xgg4q86 x78zum5 xdd8jsf xl56j7k xvni27 x44zu8b",children:Boolean(r)?j.jsx(c("IGDSVideoChatFilled24Icon.react"),{alt:d("PolarisDirectStrings").JOIN_CALL_MODAL_STRING,color:"web-always-white"}):j.jsx(c("IGDSCallFilled24Icon.react"),{alt:d("PolarisDirectStrings").JOIN_CALL_MODAL_STRING,color:"web-always-white"})})})]})]})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoChatLinksUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallEndReason=function(a){this.$1.call_end_reason=a;return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCameraEnabled=function(a){this.$1.camera_enabled=a;return this};c.setClientAppVersion=function(a){this.$1.client_app_version=a;return this};c.setClientLockStatus=function(a){this.$1.client_lock_status=a;return this};c.setClientMonoTimeMs=function(a){this.$1.client_mono_time_ms=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceNameRaw=function(a){this.$1.conference_name_raw=a;return this};c.setCreationAction=function(a){this.$1.creation_action=a;return this};c.setErrorDetails=function(a){this.$1.error_details=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventDetails=function(a){this.$1.event_details=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setEventFireTimestamp=function(a){this.$1.event_fire_timestamp=a;return this};c.setEventFireTimestampOnClient=function(a){this.$1.event_fire_timestamp_on_client=a;return this};c.setExceptionObject=function(a){this.$1.exception_object=a;return this};c.setExperimentsEnabled=function(a){this.$1.experiments_enabled=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setFalcoBatchSequence=function(a){this.$1.falco_batch_sequence=a;return this};c.setFunnelSessionIDRaw=function(a){this.$1.funnel_session_id_raw=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setGroupSize=function(a){this.$1.group_size=a;return this};c.setGuestUserID=function(a){this.$1.guest_user_id=a;return this};c.setKickedUserID=function(a){this.$1.kicked_user_id=a;return this};c.setLinkShareTo=function(a){this.$1.link_share_to=a;return this};c.setLocalCallID=function(a){this.$1.local_call_id=a;return this};c.setMediaDevices=function(a){this.$1.media_devices=a;return this};c.setMicrophoneEnabled=function(a){this.$1.microphone_enabled=a;return this};c.setOpenLinkFrom=function(a){this.$1.open_link_from=a;return this};c.setOpenLinkFromAppVersion=function(a){this.$1.open_link_from_app_version=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setReferralSurface=function(a){this.$1.referral_surface=a;return this};c.setRoomIDRaw=function(a){this.$1.room_id_raw=a;return this};c.setServerInfoData=function(a){this.$1.server_info_data=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setStatus=function(a){this.$1.status=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTargetedUserIds=function(a){this.$1.targeted_user_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setThreadSyncRoomData=function(a){this.$1.thread_sync_room_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setThreadType=function(a){this.$1.thread_type=a;return this};c.setUserIdsToBeRemoved=function(a){this.$1.user_ids_to_be_removed=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setVideoCallLinkHashRaw=function(a){this.$1.video_call_link_hash_raw=a;return this};c.setVideoCallLinkIDRaw=function(a){this.$1.video_call_link_id_raw=a;return this};c.setVideoCallLinkIdentifierRaw=function(a){this.$1.video_call_link_identifier_raw=a;return this};c.setVideoCallLinkURLRaw=function(a){this.$1.video_call_link_url_raw=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={call_end_reason:!0,call_id:!0,camera_enabled:!0,client_app_version:!0,client_lock_status:!0,client_mono_time_ms:!0,clienttime:!0,component:!0,conference_name_raw:!0,creation_action:!0,error_details:!0,error_type:!0,event:!0,event_details:!0,event_fire_timestamp:!0,event_fire_timestamp_on_client:!0,exception_object:!0,experiments_enabled:!0,falco_batch_sequence:!0,funnel_session_id_raw:!0,group_id:!0,group_size:!0,guest_user_id:!0,kicked_user_id:!0,link_share_to:!0,local_call_id:!0,media_devices:!0,microphone_enabled:!0,open_link_from:!0,open_link_from_app_version:!0,reason:!0,referral_surface:!0,room_id_raw:!0,server_info_data:!0,source:!0,status:!0,surface:!0,targeted_user_ids:!0,thread_sync_room_data:!0,thread_type:!0,user_ids_to_be_removed:!0,video_call_link_hash_raw:!0,video_call_link_id_raw:!0,video_call_link_identifier_raw:!0,video_call_link_url_raw:!0};f["default"]=a}),66);
__d("getRequestConstUri",["ConstUriUtils","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("ConstUriUtils").getUri(window.location.href);if(a==null)throw c("unrecoverableViolation")("Cannot create ConstUriImpl of current request","comet_infra");return a}g["default"]=a}),98);